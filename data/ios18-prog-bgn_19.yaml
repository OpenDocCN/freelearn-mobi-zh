- en: '16'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '16'
- en: Passing Data between View Controllers
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 传递视图控制器之间的数据
- en: In the previous chapter, you configured the `JournalListViewController` class,
    the view controller for the Journal List screen, to display journal entries from
    a structure containing sample data in a table view.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，您已配置了“JournalListViewController”类，即“日记列表”屏幕的视图控制器，以在表格视图中显示包含示例数据的结构中的日记条目。
- en: In this chapter, you’ll learn how to pass data from one view controller to another.
    You’ll start by implementing a view controller for the Add New Journal Entry screen,
    then add code to pass data from the Add New Journal Entry screen to the Journal
    List screen. Next, you’ll learn how to remove journal entries while you’re on
    the Journal List screen. After that, you’ll learn about **text field** and **text
    view delegate** methods, and finally, you’ll pass data from the Journal List screen
    to the Journal Entry Detail screen.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您将学习如何从一个视图控制器传递数据到另一个视图控制器。您将从实现“添加新日记条目”屏幕的视图控制器开始，然后添加代码以从“添加新日记条目”屏幕传递数据到“日记列表”屏幕。接下来，您将学习如何在“日记列表”屏幕上删除日记条目。之后，您将了解**文本字段**和**文本视图代理**方法，最后，您将从“日记列表”屏幕传递数据到“日记条目详情”屏幕。
- en: By the end of this chapter, you’ll have learned how to pass data between view
    controllers and how to use text field and text view delegate methods. This will
    enable you to easily pass data between view controllers in your own apps.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，您将学习如何在视图控制器之间传递数据以及如何使用文本字段和文本视图代理方法。这将使您能够轻松地在自己的应用程序中在视图控制器之间传递数据。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Passing data from the Add New Journal Entry screen to the Journal List screen
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从“添加新日记条目”屏幕传递数据到“日记列表”屏幕
- en: Removing rows from a table view
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从表格视图中删除行
- en: Exploring text field and text view delegate methods
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索文本字段和文本视图代理方法
- en: Passing data from the Journal List screen to the Journal Entry Detail screen
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从“日记列表”屏幕传递数据到“日记条目详情”屏幕
- en: Technical requirements
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: You will continue working on the `JRNL` project that you modified in the previous
    chapter.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 您将继续在上一章中修改的 `JRNL` 项目上进行工作。
- en: 'The playground and completed Xcode project for this chapter are in the `Chapter16`
    folder of the code bundle for this book, which can be downloaded here:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的游乐场和完成的 Xcode 项目位于本书代码包的 `Chapter16` 文件夹中，您可以通过以下链接下载：
- en: '[https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Ninth-Edition](https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Ninth-Edition%0D)'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Ninth-Edition](https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Ninth-Edition%0D)'
- en: 'Check out the following video to see the code in action:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 查看以下视频以查看代码的实际效果：
- en: '[https://youtu.be/92O7NgVoT2Q](https://youtu.be/92O7NgVoT2Q%0D)'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://youtu.be/92O7NgVoT2Q](https://youtu.be/92O7NgVoT2Q%0D)'
- en: Let’s begin by learning how data is passed between the Add New Journal Entry
    screen and the Journal List screen in the next section.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从学习如何在下一节中在“添加新日记条目”屏幕和“日记列表”屏幕之间传递数据开始。
- en: Passing data from the Add New Journal Entry screen to the Journal List screen
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从“添加新日记条目”屏幕传递数据到“日记列表”屏幕
- en: As shown in the app tour in *Chapter 10*, *Setting Up the User Interface*, the
    Add New Journal Entry screen allows the user to enter data to create a new journal
    entry. To do so, the user will click the **+** button in the top-right corner
    of the Journal List screen to display the Add New Journal Entry screen. The user
    will then enter the details for the new journal entry. Clicking the **Save** button
    will dismiss the Add New Journal Entry screen and a new row containing a table
    view cell is added to the table view on the Journal List screen. The table view
    cell will display the photo, date, and title of the newly added journal entry.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 如第 10 章“设置用户界面”的应用程序导游中所示，**“添加新日记条目”屏幕**允许用户输入数据以创建新的日记条目。为此，用户将点击“日记列表”屏幕右上角的**+**按钮以显示“添加新日记条目”屏幕。然后，用户将输入新日记条目的详细信息。点击**保存**按钮将关闭“添加新日记条目”屏幕，并在“日记列表”屏幕上的表格视图中添加一个包含表格视图单元格的新行。该表格视图单元格将显示新添加的日记条目的照片、日期和标题。
- en: For this to work, you’ll implement the `prepare(for:sender:)` method for the
    view controller managing the Add New Journal Entry screen. This method is triggered
    when you go from one view controller to another. With this method, you’ll create
    a new journal entry using the information the user entered and assign it to a
    variable. You’ll implement an unwind method in the `JournalListViewController`
    class so you will be able to access this variable when you’re on the Journal List
    screen. Then, you will add the new journal entry obtained from this variable to
    the `journalEntries` array and then redraw the table view.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现这一功能，你需要为管理“添加新日志条目”屏幕的视图控制器实现`prepare(for:sender:)`方法。此方法在你从一个视图控制器切换到另一个视图控制器时被触发。使用此方法，你将使用用户输入的信息创建一个新的日志条目，并将其分配给一个变量。你将在`JournalListViewController`类中实现一个unwind方法，这样你就可以在“日志列表”屏幕上访问这个变量。然后，你将从这个变量中获取的新日志条目添加到`journalEntries`数组中，然后重新绘制表格视图。
- en: 'To learn more about the `prepare(for:sender:)` method, see: [https://developer.apple.com/documentation/uikit/uiviewcontroller/1621490-prepare](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621490-prepare).'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解更多关于`prepare(for:sender:)`方法的信息，请参阅：[https://developer.apple.com/documentation/uikit/uiviewcontroller/1621490-prepare](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621490-prepare)。
- en: In the next section, you’ll create a new view controller instance to manage
    the Add New Journal Entry screen.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，你将创建一个新的视图控制器实例来管理“添加新日志条目”屏幕。
- en: Creating the AddJournalEntryViewController class
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建AddJournalEntryViewController类
- en: 'At present, the Add New Journal Entry screen does not have a view controller.
    You’ll add a new file to your project and implement the `AddJournalEntryViewController`
    class, assign it to the **New Entry Scene**, and connect the outlets. Follow these
    steps:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，“添加新日志条目”屏幕还没有视图控制器。你将在项目中添加一个新文件，并实现`AddJournalEntryViewController`类，将其分配给**新建条目场景**，并连接出口。按照以下步骤操作：
- en: Open your `JRNL` project from the previous chapter. In the Project navigator,
    create a new group by right-clicking the **JRNL** group and choosing **New Group**.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从上一章打开你的`JRNL`项目。在项目导航器中，通过右键单击**JRNL**组并选择**新建组**来创建一个新组。
- en: Name this group `Add New Journal Entry Screen` and move it so it is below the
    **Journal List Screen** group.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将此组命名为“新建日志条目屏幕”并将其移动到**日志列表屏幕**组下方。
- en: Right-click on the **Add New Journal Entry Screen** group and select **New File
    from Template...**.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击**新建日志条目屏幕**组，并选择**从模板新建文件...**。
- en: '**iOS** should already be selected. Choose **Cocoa Touch Class** and click
    **Next**.'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**iOS**应该已经选中。选择**Cocoa Touch Class**并点击**下一步**。'
- en: 'Configure the class with the following details:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下详细信息配置类：
- en: '**Class**: `AddJournalEntryViewController`'
  id: totrans-29
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**类**：`AddJournalEntryViewController`'
- en: '**Subclass of**: `UIViewController`'
  id: totrans-30
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**子类为**：`UIViewController`'
- en: '**Also create XIB**: Unchecked'
  id: totrans-31
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**也创建XIB**：未勾选'
- en: '**Language**: **Swift**'
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语言**：**Swift**'
- en: Click **Next** when you’re done.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后点击**下一步**。
- en: Click **Create** and the `AddJournalEntryViewController` file will appear in
    the Project navigator.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**，`AddJournalEntryViewController`文件将出现在项目导航器中。
- en: 'The `AddJournalEntryViewController` file has now been created, with the `AddJournalEntryViewController`
    class declaration inside it. You’ll set this class as the custom class of the
    view controller scene that’s presented when you tap the **+** button in the Journal
    List screen. Follow these steps:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '`AddJournalEntryViewController`文件现在已经创建，其中包含`AddJournalEntryViewController`类的声明。你将设置此类为在点击日志列表屏幕上的**+**按钮时呈现的视图控制器场景的自定义类。按照以下步骤操作：'
- en: 'Click the **Main** storyboard file in the Project navigator and click **New
    Entry Scene** in the document outline:'
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中点击**主**故事板文件，然后在文档大纲中点击**新建条目场景**：
- en: '![](img/B31371_16_01.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![图16.1](img/B31371_16_01.png)'
- en: 'Figure 16.1: Editor area showing New Entry Scene'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.1：显示新建条目场景的编辑区域
- en: 'Click the Identity inspector button and, under **Custom Class**, set **Class**
    to `AddJournalEntryViewController`:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击身份检查器按钮，在**自定义类**下，将**类**设置为`AddJournalEntryViewController`：
- en: '![](img/B31371_16_02.png)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![图16.2](img/B31371_16_02.png)'
- en: 'Figure 16.2: Identity inspector settings for New Entry Scene'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.2：新建条目场景的身份检查器设置
- en: Great! In the next section, let’s connect the user interface elements in the
    **New Entry** **Scene** to outlets in the `AddJournalEntryViewController` class.
    By doing this, the `AddJournalEntryViewController` instance will be able to access
    the data the user enters on the Add New Journal Entry screen.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 太好了！在下一节中，让我们将**新条目**场景中的用户界面元素连接到`AddJournalEntryViewController`类中的出口。通过这样做，`AddJournalEntryViewController`实例将能够访问用户在添加新日志条目屏幕上输入的数据。
- en: Connecting the UI elements to the AddJournalEntryViewController class
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将UI元素连接到AddJournalEntryViewController类
- en: 'Currently, the `AddJournalEntryViewController` instance for the Add New Journal
    Entry screen has no way of communicating with the UI elements in it. You’ll add
    outlets in the `AddJournalEntryViewController` class and assign the corresponding
    UI elements in the **New Entry** **Scene** to each outlet. Follow these steps:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，添加新日志条目屏幕的`AddJournalEntryViewController`实例无法与其中的UI元素通信。你将在`AddJournalEntryViewController`类中添加出口，并将**新条目**场景中的相应UI元素分配给每个出口。按照以下步骤操作：
- en: 'In the Project navigator, click the **AddJournalEntryViewController** file
    and add the following properties to the `AddJournalEntryViewController` class
    after the opening curly brace:'
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，点击**AddJournalEntryViewController**文件，在`AddJournalEntryViewController`类的大括号开头上添加以下属性：
- en: '[PRE0]'
  id: totrans-46
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Click the **Main** storyboard file and click **New Entry Scene** in the document
    outline.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**Main**故事板文件，然后在文档大纲中点击**新条目场景**：
- en: 'Click the Connections inspector to display all the outlets for **New Entry
    Scene**. Drag from the **titleTextField** outlet to the text field in **New Entry
    Scene**:'
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击连接检查器以显示**新条目场景**的所有出口。从**titleTextField**出口拖动到**新条目场景**中的文本框：
- en: '![](img/B31371_16_03.png)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![img/B31371_16_03.png]'
- en: 'Figure 16.3: Connections inspector showing the titleTextField outlet'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.3：连接检查器显示titleTextField出口
- en: 'Drag from the **bodyTextView** outlet to the text view in **New Entry Scene**:'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**bodyTextView**出口拖动到**新条目场景**中的文本视图：
- en: '![](img/B31371_16_04.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![img/B31371_16_04.png]'
- en: 'Figure 16.4: Connections inspector showing the bodyTextView outlet'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.4：连接检查器显示bodyTextView出口
- en: 'Drag from the **photoImageView** outlet to the image view in **New Entry Scene**:'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**photoImageView**出口拖动到**新条目场景**中的图像视图：
- en: '![](img/B31371_16_05.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![img/B31371_16_05.png]'
- en: 'Figure 16.5: Connections inspector showing the photoImageView outlet'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.5：连接检查器显示photoImageView出口
- en: Remember that if you make a mistake, you can click the **x** to break the connection
    and drag from the outlet to the UI element once more.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，如果你犯了错误，你可以点击**x**来断开连接，然后再次从出口拖动到UI元素。
- en: With that, you’ve connected the UI elements in the **New Entry** **Scene** to
    the outlets in the `AddJournalEntryViewController` class. In the next section,
    you’ll implement the code to create a `JournalEntry` instance when the user clicks
    the **Save** button.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 到此为止，你已经将**新条目**场景中的UI元素连接到了`AddJournalEntryViewController`类中的出口。在下一节中，你将实现代码，当用户点击**保存**按钮时创建一个`JournalEntry`实例。
- en: Creating a JournalEntry instance from user input
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从用户输入创建JournalEntry实例
- en: You have implemented the `AddJournalEntryViewController` class and connected
    the outlets in this class to the text field, text view, and image view in the
    **New Entry** **Scene**. When the user enters data into the text field and text
    view, you can use this information to create a new journal entry.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经实现了`AddJournalEntryViewController`类，并将此类中的出口连接到了**新条目**场景中的文本框、文本视图和图像视图。当用户在文本框和文本视图中输入数据时，你可以使用这些信息来创建一个新的日志条目。
- en: 'When a view controller is about to transition to another view controller, the
    view controller’s `prepare(for:sender:)` method is called. You’ll implement this
    method to create a new `JournalEntry` instance, which can then be passed to the
    view controller for the Journal List screen. Follow these steps:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 当视图控制器即将过渡到另一个视图控制器时，视图控制器的`prepare(for:sender:)`方法会被调用。你将实现这个方法来创建一个新的`JournalEntry`实例，然后可以将它传递给Journal
    List屏幕的视图控制器。按照以下步骤操作：
- en: 'In the Project navigator, click the **AddJournalEntryViewController** file
    and add a `newJournalEntry` property to the `AddJournalEntryViewController` class
    after the outlet declarations:'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，点击**AddJournalEntryViewController**文件，在出口声明后添加一个`newJournalEntry`属性到`AddJournalEntryViewController`类中：
- en: '[PRE1]'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The `JournalEntry` instance created using the data entered by the user will
    be assigned to this property.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 使用用户输入的数据创建的`JournalEntry`实例将被分配给这个属性。
- en: 'Uncomment the `prepare(for:sender:)` method in this class. It should look like
    the following:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此类中取消注释`prepare(for:sender:)`方法。它应该看起来像以下这样：
- en: '![](img/B31371_16_06.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_16_06.png)'
- en: 'Figure 16.6: Editor area showing the prepare(for:sender:) method'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.6：显示`prepare(for:sender:)`方法的编辑区域
- en: 'Add the following code between the curly braces of this method:'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此方法的花括号之间添加以下代码：
- en: '[PRE2]'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This will assign the strings from the text field and text view and the image
    from the image view to `title`, `body`, and `photo`, respectively. Since the custom
    rating control shown in the app tour has not been implemented yet, a placeholder
    value is assigned to `rating`. A new `JournalEntry` instance is then created using
    these constants and assigned to the `newJournalEntry` property.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 这将分别将文本字段和文本视图中的字符串以及图像视图中的图像分配给`title`、`body`和`photo`。由于在应用演示中显示的自定义评分控件尚未实现，因此将占位符值分配给`rating`。然后使用这些常量创建一个新的`JournalEntry`实例，并将其分配给`newJournalEntry`属性。
- en: You’ve now added code that will create a `JournalEntry` instance before the
    Add New Journal Entry screen transitions to the Journal List screen. In the next
    section, you’ll modify the `JournalListViewController` class to get the new `JournalEntry`
    instance and add it to the `journalEntries` array.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在已添加了代码，在添加新期刊条目屏幕过渡到期刊列表屏幕之前创建`JournalEntry`实例。在下一节中，你将修改`JournalListViewController`类以获取新的`JournalEntry`实例并将其添加到`journalEntries`数组中。
- en: Updating the table view with a new journal entry
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更新表格视图以显示新的期刊条目
- en: 'On the Journal List screen, journal entries are displayed in a table view.
    The table view gets its data from the `journalEntries` array contained in the
    `sampleJournalEntryData` structure. You will add code to the `JournalListViewController`
    class to get the `JournalEntry` instance assigned to the `newJournalEntry` property.
    After that, you will insert this instance to the `journalEntries` array. Follow
    these steps:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在“期刊列表”屏幕上，期刊条目以表格视图的形式显示。表格视图从包含在`sampleJournalEntryData`结构中的`journalEntries`数组获取数据。你将在`JournalListViewController`类中添加代码以获取分配给`newJournalEntry`属性的`JournalEntry`实例。之后，你将此实例插入到`journalEntries`数组中。按照以下步骤操作：
- en: 'In the Project navigator, click the **JournalListViewController** file and
    add the following code before the closing curly brace:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，点击**JournalListViewController**文件，并在闭合花括号之前添加以下代码：
- en: '[PRE3]'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: This method checks to see if the source view controller is an instance of the
    `AddJournalEntryViewController` class, and if it is, gets the `JournalEntry` instance
    from the `newJournalEntry` property. This instance is then inserted as the first
    item in the `journalEntries` array. After that, the `tableView.reloadData()` statement
    will redraw the table view.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法检查源视图控制器是否是`AddJournalEntryViewController`类的实例，如果是，则从`newJournalEntry`属性获取`JournalEntry`实例。然后，将此实例作为`journalEntries`数组中的第一个条目插入。之后，`tableView.reloadData()`语句将重新绘制表格视图。
- en: Click the **Main** storyboard file and expand the **New Entry Scene** in the
    document outline. *Ctrl* + *Drag* from the **Save** button in the document outline
    to the scene exit and choose **unwindNewEntrySaveWithSegue:** from the pop-up
    menu.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**Main**故事板文件，并在文档大纲中展开**新条目场景**。*Ctrl* + *拖动*文档大纲中的**保存**按钮到场景退出，并从弹出菜单中选择**unwindNewEntrySaveWithSegue:**。
- en: '![](img/B31371_16_07.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_16_07.png)'
- en: 'Figure 16.7: Pop-up menu showing unwindNewEntrySaveWithSegue: selected'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '图16.7：弹出菜单显示已选择unwindNewEntrySaveWithSegue:'
- en: When you run your project, tapping the **Save** button will transition from
    the Add New Entry screen to the Journal List screen, and execute the `unwindNewEntrySave(segue:)`
    method.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 当你运行你的项目时，点击**保存**按钮将从添加新条目屏幕过渡到期刊列表屏幕，并执行`unwindNewEntrySave(segue:)`方法。
- en: Build and run your project and click the **+** button. Enter some sample text
    in the text field and text view. Click **Save**.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建并运行你的项目，然后点击**+**按钮。在文本字段和文本视图中输入一些示例文本。点击**保存**。
- en: '![](img/B31371_16_08.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_16_08.png)'
- en: 'Figure 16.8: Simulator with the Save button highlighted'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.8：突出显示保存按钮的模拟器
- en: The new journal entry will appear in the table view when the Journal List screen
    reappears.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当“期刊列表”屏幕再次出现时，新的期刊条目将出现在表格视图中。
- en: '![](img/B31371_16_09.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_16_09.png)'
- en: 'Figure 16.9: Simulator with new table view cell highlighted'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.9：突出显示新表格视图单元格的模拟器
- en: Excellent! You have successfully implemented a view controller for the Add New
    Journal Entry screen and can now add new journal entries, which will appear on
    the Journal List screen. In the next section, you’ll implement the code that will
    let you remove journal entries from the table view on the Journal List screen.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 太棒了！你已经成功实现了“添加新日记条目”屏幕的视图控制器，现在可以添加新的日记条目，它们将出现在日记列表屏幕上。在下一节中，你将实现代码，这将允许你从日记列表屏幕上的表格视图中删除日记条目。
- en: Removing rows from a table view
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从表格视图中删除行
- en: As you have learned in *Chapter 14*, *Getting Started with MVC and Table Views*,
    table view row deletion is handled by the `tableView(_:commit:forRowAt:)` method,
    which is one of the methods declared in the `UITableViewDataSource` protocol.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 如你在*第14章*中学习的，*MVC和表格视图入门*，表格视图行删除由`tableView(_:commit:forRowAt:)`方法处理，这是在`UITableViewDataSource`协议中声明的方法之一。
- en: 'You’ll implement this method in the `JournalListViewController` class. Follow
    these steps:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 你将在`JournalListViewController`类中实现此方法。按照以下步骤操作：
- en: 'In the Project navigator, click the **JournalListViewController** file and
    add the following code to the `JournalListViewController` class after the existing
    table view data source methods:'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，点击**JournalListViewController**文件，并在`JournalListViewController`类中现有表格视图数据源方法之后添加以下代码：
- en: '[PRE4]'
  id: totrans-92
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: This will allow you to swipe left to display a **Delete** button, and when you
    tap the **Delete** button, the corresponding `JournalEntry` instance will be removed
    from the `journalEntries` array, and the table view will be redrawn.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 这将允许你向左滑动以显示**删除**按钮，当你点击**删除**按钮时，相应的`JournalEntry`实例将从`journalEntries`数组中移除，并且表格视图将被重新绘制。
- en: 'Build and run your project. Swipe left on any row to reveal a **Delete** button:'
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建并运行你的项目。在任意一行上向左滑动以显示**删除**按钮：
- en: '![](img/B31371_16_10.png)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_16_10.png)'
- en: 'Figure 16.10: Simulator showing the Delete button on the Journal List screen'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.10：模拟器显示在日记列表屏幕上的删除按钮
- en: 'Tap the **Delete** button and the row will be removed from the table view:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**删除**按钮，行将从表格视图中移除：
- en: '![](img/B31371_16_11.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_16_11.png)'
- en: 'Figure 16.11: Simulator showing the redrawn table view'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.11：模拟器显示重新绘制的表格视图
- en: With that, you have successfully implemented a way to remove rows from a table
    view! Awesome! In the next section, you’ll learn more about text field and text
    view delegate methods, which will be useful when you’re entering data in the Add
    New Journal Entry screen.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这个，你已经成功实现了一种从表格视图中删除行的方法！太棒了！在下一节中，你将学习更多关于文本字段和文本视图代理方法，这在你在“添加新日记条目”屏幕中输入数据时将非常有用。
- en: Exploring text field and text view delegate methods
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索文本字段和文本视图代理方法
- en: Currently, there are a couple of issues with the Add New Journal Entry screen.
    The first issue is that it’s not possible to dismiss the software keyboard once
    it has appeared on the screen. The second issue is that you can click the **Save**
    button even when the text field and text view are empty.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，在“添加新日记条目”屏幕上存在一些问题。第一个问题是，一旦软件键盘出现在屏幕上，就无法将其关闭。第二个问题是，即使文本字段和文本视图为空，也可以点击**保存**按钮。
- en: To make it easier to work with text fields, Apple has implemented `UITextFieldDelegate`,
    a protocol declaring a set of optional methods to manage the editing and validation
    of text in a text field object. Apple has also implemented `UITextViewDelegate`,
    a protocol declaring methods for receiving editing-related messages for text view
    objects.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使与文本字段一起工作更容易，Apple实现了`UITextFieldDelegate`，这是一个声明了一组可选方法来管理文本字段对象中文本的编辑和验证的协议。Apple还实现了`UITextViewDelegate`，这是一个声明了用于接收文本视图对象编辑相关消息的方法的协议。
- en: 'You can learn more about the `UITextFieldDelegate` protocol at this link: [https://developer.apple.com/documentation/uikit/uitextfielddelegate](https://developer.apple.com/documentation/uikit/uitextfielddelegate).'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在此链接中了解更多关于`UITextFieldDelegate`协议的信息：[https://developer.apple.com/documentation/uikit/uitextfielddelegate](https://developer.apple.com/documentation/uikit/uitextfielddelegate)。
- en: 'You can learn more about the `UITextViewDelegate` protocol at this link: [https://developer.apple.com/documentation/uikit/uitextviewdelegate](https://developer.apple.com/documentation/uikit/uitextviewdelegate).'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在此链接中了解更多关于`UITextViewDelegate`协议的信息：[https://developer.apple.com/documentation/uikit/uitextviewdelegate](https://developer.apple.com/documentation/uikit/uitextviewdelegate)。
- en: 'You’ll implement methods from the `UITextFieldDelegate` and `UITextViewDelegate`
    protocols to the `AddJournalEntryViewController` class so that the user can dismiss
    the software keyboard once data entry is complete. Follow these steps:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 你将实现`UITextFieldDelegate`和`UITextViewDelegate`协议中的方法到`AddJournalEntryViewController`类，以便用户在数据输入完成后可以关闭软件键盘。按照以下步骤操作：
- en: 'In the Project navigator, click the **AddJournalEntryViewController** file.
    Add an extension after the closing curly brace of the `AddJournalEntryViewController`
    class declaration to make it conform to the `UITextFieldDelegate` and `UITextViewDelegate`
    protocols:'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，点击**AddJournalEntryViewController**文件。在`AddJournalEntryViewController`类声明的闭合花括号之后添加一个扩展，使其符合`UITextFieldDelegate`和`UITextViewDelegate`协议：
- en: '[PRE5]'
  id: totrans-108
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Modify the `viewDidLoad()` method as follows to set the `AddJournalEntryViewController`
    instance as the delegate for the text field and text view:'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照以下方式修改`viewDidLoad()`方法，将`AddJournalEntryViewController`实例设置为文本字段和文本视图的代理：
- en: '[PRE6]'
  id: totrans-110
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: This means that the implementation of the text field and text view delegate
    methods are in the `AddJournalEntryViewController` class.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 这意味着文本字段和文本视图代理方法的实现位于`AddJournalEntryViewController`类中。
- en: 'Add the following code after the opening curly brace of the extension to dismiss
    the software keyboard when the *return* key is tapped after you have finished
    entering text in the text field:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在扩展的开启花括号之后添加以下代码，以便在你在文本字段中完成文本输入后点击*回车*键时关闭软件键盘：
- en: '[PRE7]'
  id: totrans-113
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Add the following code after the `textFieldShouldReturn(_:)` method to dismiss
    the software keyboard when the *return* key is tapped after you have finished
    entering text in the text view:'
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`textFieldShouldReturn(_:)`方法之后添加以下代码，以便在你在文本视图中完成文本输入后点击*回车*键时关闭软件键盘：
- en: '[PRE8]'
  id: totrans-115
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: When you tap a text field or text view on the screen, it gains first responder
    status, and a software keyboard pops up from the bottom of the screen. Anything
    you type on the keyboard will go to whichever object has first responder status.
    After implementing the preceding methods, tapping *return* on the software keyboard
    while in a text field or text view will tell it to resign the first responder
    status, which will automatically make the keyboard disappear.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在屏幕上点击文本字段或文本视图时，它会获得第一响应者状态，并且软件键盘从屏幕底部弹出。你在键盘上输入的任何内容都会发送到具有第一响应者状态的对象。在实现上述方法后，在文本字段或文本视图中点击软件键盘上的*回车*键将告诉它放弃第一响应者状态，这将自动使键盘消失。
- en: 'Build and run your app and tap the text field. If the software keyboard does
    not appear, choose **Keyboard** | **Toggle Software Keyboard** from Simulator’s
    **I/O** menu:'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建并运行你的应用，然后点击文本字段。如果软件键盘没有出现，从模拟器的**I/O**菜单中选择**键盘** | **切换软件键盘**：
- en: '![](img/B31371_16_12.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_16_12.png)'
- en: 'Figure 16.12: Simulator I/O menu with Keyboard | Toggle Software Keyboard selected'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.12：模拟器I/O菜单，已选择键盘 | 切换软件键盘
- en: 'Use the software keyboard to type some text into the text field or text view:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用软件键盘在文本字段或文本视图中输入一些文本：
- en: '![](img/B31371_16_13.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_16_13.png)'
- en: 'Figure 16.13: Simulator showing the software keyboard'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.13：模拟器显示软件键盘
- en: After typing some text in either the text field or the text view, tap *return*
    on the software keyboard, and it should automatically disappear.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文本字段或文本视图中输入一些文本后，在软件键盘上点击*回车*键，它应该会自动消失。
- en: 'The first issue has been resolved, and the user is now able to dismiss the
    software keyboard. Great! Now you will modify your app so that the user can only
    tap **Save** if there is text in the text field and text view. Follow these steps:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个问题已经解决，用户现在可以关闭软件键盘了。太好了！现在你将修改你的应用，以便用户只有在文本字段和文本视图中输入了文本后才能点击**保存**。按照以下步骤操作：
- en: 'To enable or disable the **Save** button, you will need to be able to set its
    state. Type in the following after the outlet declarations to create an outlet
    for the **Save** button:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要启用或禁用**保存**按钮，你需要能够设置其状态。在输出声明之后输入以下内容以创建**保存**按钮的输出：
- en: '[PRE9]'
  id: totrans-126
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: In the Project navigator, click the **Main** storyboard file and click **New
    Entry Scene** in the document outline.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，点击**Main**故事板文件，然后在文档大纲中点击**New Entry Scene**：
- en: 'Click the Connections inspector button and drag from the **saveButton** outlet
    to the **Save** button in the **New Entry** scene:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击连接检查器按钮，从**saveButton**输出拖动到**New Entry**场景中的**保存**按钮：
- en: '![](img/B31371_16_14.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_16_14.png)'
- en: 'Figure 16.14: Connections inspector showing the saveButton outlet'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.14：连接检查器显示保存按钮输出
- en: 'In the Project navigator, click the **AddJournalEntryViewController** file.
    Add the `UITextFieldDelegate` method shown after the `textFieldShouldReturn(_:)`
    method:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，点击 **AddJournalEntryViewController** 文件。在 `textFieldShouldReturn(_:)`
    方法之后添加显示的 `UITextFieldDelegate` 方法：
- en: '[PRE10]'
  id: totrans-132
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: This method disables the **Save** button when the user starts editing text in
    the text field.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法在用户开始在文本框中编辑文本时禁用 **保存** 按钮。
- en: 'Add the `UITextViewDelegate` method shown after the `textView(_:shouldChangeTextIn
    range:replacementText:)` method:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `textView(_:shouldChangeTextIn range:replacementText:)` 方法之后添加显示的 `UITextViewDelegate`
    方法：
- en: '[PRE11]'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: This method disables the **Save** button when the user starts editing text in
    the text view.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法在用户开始在文本视图中编辑文本时禁用 **保存** 按钮。
- en: 'Add a method to enable the **Save** button if there is text in the text field
    or text view before the closing curly brace:'
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文本框或文本视图中存在文本之前，添加一个方法来启用 **保存** 按钮：
- en: '[PRE12]'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: The `private` keyword means that this method is only accessible within this
    class.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '`private` 关键字表示此方法仅在此类内部可访问。'
- en: 'Add the `UITextFieldDelegate` method shown after the `textFieldDidBeginEditing(_:)`
    method:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `textFieldDidBeginEditing(_:)` 方法之后添加显示的 `UITextFieldDelegate` 方法：
- en: '[PRE13]'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: This method calls `updateSaveButtonState()` after the text field resigns the
    first responder status.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 此方法在文本框放弃第一响应者状态后调用 `updateSaveButtonState()`。
- en: 'Add the `UITextViewDelegate` methods shown after the `textViewDidBeginEditing(_:)`
    method:'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `textViewDidBeginEditing(_:)` 方法之后添加显示的 `UITextViewDelegate` 方法：
- en: '[PRE14]'
  id: totrans-144
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: These methods call `updateSaveButtonState()` after the text view resigns the
    first responder status and when the contents of the text view change.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 这些方法在文本视图放弃第一响应者状态以及文本视图内容发生变化后调用 `updateSaveButtonState()`。
- en: 'In the `viewDidLoad()` method, call `updateSaveButtonState()` to disable the
    **Save** button when the Add New Journal Entry screen first appears:'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `viewDidLoad()` 方法中，当添加新日记条目屏幕首次出现时，调用 `updateSaveButtonState()` 方法来禁用 **保存**
    按钮：
- en: '[PRE15]'
  id: totrans-147
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Build and run your project and tap the **+** button to go to the Add Entry
    screen. The **Save** button will be disabled:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建并运行您的项目，然后点击 **+** 按钮进入添加条目屏幕。**保存** 按钮将被禁用：
- en: '![](img/B31371_16_15.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![img/B31371_16_15.png]'
- en: 'Figure 16.15: Simulator showing the Save button disabled'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 图 16.15：显示禁用保存按钮的模拟器
- en: Enter some text in the text field and press the *return* key. As there is already
    placeholder text in the text view, the **Save** button will be enabled.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文本框中输入一些文本并按 *回车* 键。由于文本视图中已经有占位文本，**保存** 按钮将被启用。
- en: Both issues with the Add New Journal Entry screen have been resolved. Fantastic!
    In the next section, you’ll learn how to pass data from the Journal List screen
    to the Journal Entry Detail screen when you tap a table view row.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 添加新日记条目屏幕的两个问题都已解决。太棒了！在下一节中，您将学习如何在点击表格视图行时如何从日记列表屏幕传递数据到日记条目详情屏幕。
- en: Passing data from the Journal List screen to the Journal Entry Detail screen
  id: totrans-153
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从日记列表屏幕传递数据到日记条目详情屏幕
- en: As shown in the app tour in *Chapter 10*, *Setting Up the User Interface*, the
    Journal Entry Detail screen allows the user to view the details of a journal entry
    when a table view cell on the Journal List screen is tapped. For this to work,
    you’ll create a view controller subclass to manage the Journal Entry Detail screen.
    Next, you’ll implement the `prepare(for:sender:)` method for the `JournalListViewController`
    class to get the `JournalEntry` instance corresponding to the row that was tapped.
    You will then pass this instance to the view controller instance managing the
    Journal Entry Detail screen.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 如 *第 10 章* 中应用程序导游中所示，*设置用户界面*，日记条目详情屏幕允许用户在点击日记列表屏幕上的表格视图单元格时查看日记条目的详细信息。为此，您将创建一个视图控制器子类来管理日记条目详情屏幕。接下来，您将为
    `JournalListViewController` 类实现 `prepare(for:sender:)` 方法以获取被点击行的 `JournalEntry`
    实例。然后，您将此实例传递给管理日记条目详情屏幕的视图控制器实例。
- en: You’ll start by creating a new view controller instance to manage the Journal
    Entry Detail screen in the next section.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，您将首先创建一个新的视图控制器实例来管理日记条目详情屏幕。
- en: Creating the JournalEntryDetailViewController class
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建 JournalEntryDetailViewController 类
- en: 'At present, the Journal Entry Detail screen does not have a view controller.
    You’ll add a new file to your project and implement the `JournalEntryDetailViewController`
    class, assign it as the identity for the **Entry Detail** **Scene**, and connect
    the outlets. Follow these steps:'
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，日记条目详情屏幕没有视图控制器。您将向项目中添加一个新文件并实现 `JournalEntryDetailViewController` 类，将其分配为
    **条目详情** **场景** 的身份，并连接出口。按照以下步骤操作：
- en: In the Project navigator, create a new group by right-clicking the **JRNL**
    group and choosing **New Group**. Name this group **Journal Entry Detail Screen**
    and move it below the **Add New Journal Entry Screen** group.
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，通过右键点击**JRNL**组并选择**新建组**来创建一个新组。将此组命名为**Journal Entry Detail Screen**，并将其移动到**Add
    New Journal Entry Screen**组下方。
- en: Right-click on the **Journal Entry Detail Screen** group and select **New File
    from Template...**.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**Journal Entry Detail Screen**组，并选择**从模板新建文件...**。
- en: '**iOS** should already be selected. Choose **Cocoa Touch Class** and click
    **Next**.'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**iOS**应该已经选中。选择**Cocoa Touch Class**并点击**下一步**。'
- en: 'Configure the class with the following details:'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下详细信息配置类：
- en: '**Class**: `JournalEntryDetailViewController`'
  id: totrans-162
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**类**：`JournalEntryDetailViewController`'
- en: '**Subclass**: `UITableViewController`'
  id: totrans-163
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**子类**：`UITableViewController`'
- en: '**Also create XIB**: Unchecked'
  id: totrans-164
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**也创建XIB**：未勾选'
- en: '**Language**: `Swift`'
  id: totrans-165
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**语言**：`Swift`'
- en: Click **Next**.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**下一步**。
- en: Click **Create** and the`JournalEntryDetailViewController` file will appear
    in the Project navigator.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**，`JournalEntryDetailViewController`文件将出现在项目导航器中。
- en: 'With that, the `JournalEntryDetailViewController` file has been created, with
    the `JournalEntryDetailViewController` class declaration inside it. Now you’ll
    set the identity of the view controller scene that’s presented when you tap a
    table view cell on the Journal List screen. Follow these steps:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这些，`JournalEntryDetailViewController`文件已经创建，其中包含`JournalEntryDetailViewController`类的声明。现在你将设置在Journal
    List屏幕上点击表格视图单元格时呈现的视图控制器场景的标识。按照以下步骤操作：
- en: Click the **Main** storyboard file in the Project navigator and choose **Entry
    Detail Scene** in the document outline.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中点击**Main**故事板文件，并在文档大纲中选择**Entry Detail Scene**。
- en: 'Click the Identity inspector button and, under **Custom Class**, set **Class**
    to `JournalEntryDetailViewController`:'
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击标识检查器按钮，在**自定义类**下将**类**设置为`JournalEntryDetailViewController`：
- en: '![](img/B31371_16_16.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_16_16.png)'
- en: 'Figure 16.16: Identity inspector settings for Entry Detail Scene'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.16：Entry Detail Scene的标识检查器设置
- en: Cool! In the next section, you’ll connect the user interface elements in the
    **Entry Detail Scene** to outlets in the `JournalEntryDetailViewController` class.
    By doing this, the `JournalEntryDetailViewController` instance will be able to
    display the details for the journal entry.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 太棒了！在下一节中，你将连接**Entry Detail Scene**中的用户界面元素到`JournalEntryDetailViewController`类的出口。通过这样做，`JournalEntryDetailViewController`实例将能够显示期刊条目的详细信息。
- en: Connecting the UI elements to the JournalEntryDetailViewController class
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将UI元素连接到JournalEntryDetailViewController类
- en: 'Currently, the `JournalEntryDetailViewController` instance for the Journal
    Entry Detail screen has no way of communicating with the UI elements in it. You’ll
    create outlets in the `JournalEntryDetailViewController` class and assign the
    corresponding UI elements in the **Entry Detail Scene** to each outlet. Follow
    these steps:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，Journal Entry Detail屏幕的`JournalEntryDetailViewController`实例无法与其中的UI元素进行通信。你将在`JournalEntryDetailViewController`类中创建出口，并将**Entry
    Detail Scene**中的相应UI元素分配给每个出口。按照以下步骤操作：
- en: In the Project navigator, click the **JournalEntryDetailViewController** file
    and remove all the code between the curly braces except for the `viewDidLoad()`
    method.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，点击**JournalEntryDetailViewController**文件，并删除大括号之间的所有代码，除了`viewDidLoad()`方法。
- en: 'Add the following properties to the `JournalEntryDetailViewController` class
    after the opening curly brace:'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`JournalEntryDetailViewController`类中开括号之后添加以下属性：
- en: '[PRE16]'
  id: totrans-178
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: Click the **Main** storyboard file and select **Entry Detail Scene** in the
    document outline.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**Main**故事板文件，并在文档大纲中选择**Entry Detail Scene**。
- en: 'Click the Connections inspector button and drag from the **dateLabel** outlet
    to the first label in **Entry Detail Scene**:'
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击连接检查器按钮，从**dateLabel**出口拖动到**Entry Detail Scene**中的第一个标签：
- en: '![](img/B31371_16_17.png)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_16_17.png)'
- en: 'Figure 16.17: Connections inspector showing the dateLabel outlet'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.17：连接检查器显示dateLabel出口
- en: 'Drag from the **titleLabel** outlet to the second label in **Entry Detail Scene**:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**titleLabel**出口拖动到**Entry Detail Scene**中的第二个标签：
- en: '![](img/B31371_16_18.png)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_16_18.png)'
- en: 'Figure 16.18: Connections inspector showing the titleLabel outlet'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.18：连接检查器显示titleLabel出口
- en: 'Drag from the **bodyTextView** outlet to the text view in **Entry Detail Scene**:'
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**bodyTextView**出口拖动到**Entry Detail Scene**中的文本视图：
- en: '![](img/B31371_16_19.png)'
  id: totrans-187
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_16_19.png)'
- en: 'Figure 16.19: Connections inspector showing the bodyTextView outlet'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.19：连接检查器显示bodyTextView出口
- en: 'Drag from the **photoImageView** outlet to the image view in **Entry Detail
    Scene**:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**photoImageView**出口拖动到**“条目详情场景”**中的图像视图：
- en: '![](img/B31371_16_20.png)'
  id: totrans-190
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_16_20.png)'
- en: 'Figure 16.20: Connections inspector showing the photoImageView outlet'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.20：连接检查器显示photoImageView出口
- en: Remember that if you make a mistake, you can click the **x** to break the connection
    and drag from the outlet to the UI element once more.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，如果您犯了一个错误，您可以点击**x**来断开连接，然后再次从出口拖动到UI元素。
- en: You’ve now successfully connected the UI elements in the **Entry Detail** **Scene**
    to the outlets in the `JournalEntryDetailViewController` class. In the next section,
    you will implement the code to display the details of a `JournalEntry` instance
    when the user taps a table view cell on the Journal List screen.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在已成功将**“条目详情”**场景中的UI元素连接到`JournalEntryDetailViewController`类中的出口。在下一节中，您将实现代码，当用户在**日记列表**屏幕上点击表格视图单元格时，显示`JournalEntry`实例的详细信息。
- en: Displaying the details of a journal entry
  id: totrans-194
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 显示日记条目的详细信息
- en: 'Until this point, you have implemented the `JournalEntryDetailViewController`
    class and connected the outlets in this class to the labels, text view, and image
    view in the **Entry Detail** **Scene**. When the user taps a table view cell on
    the Journal List screen, you’ll get the corresponding `JournalEntry` instance
    from the data source and pass it to the `JournalEntryDetailViewController` instance
    to display on the Journal Entry Detail screen. To do this, you will implement
    the `prepare(for:sender:)` method in the `JournalListViewController` class. Follow
    these steps:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，您已实现了`JournalEntryDetailViewController`类，并将此类中的出口连接到**“条目详情”**场景中的标签、文本视图和图像视图。当用户在**日记列表**屏幕上点击表格视图单元格时，您将从数据源获取相应的`JournalEntry`实例，并将其传递给`JournalEntryDetailViewController`实例以在**日记条目详情**屏幕上显示。为此，您将在`JournalListViewController`类中实现`prepare(for:sender:)`方法。按照以下步骤操作：
- en: 'In the Project navigator, click the **Main** storyboard file and click the
    segue connecting **Journal Scene** and **Entry Detail Scene**. Click the Attributes
    inspector button and, under **Storyboard Segue**, set **Identifier** to `entryDetail`:'
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，点击**Main**故事板文件，然后点击连接**“日记场景”**和**“条目详情场景”**的过渡。点击属性检查器按钮，在**Storyboard
    Segue**下设置**Identifier**为`entryDetail`：
- en: '![](img/B31371_16_21.png)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_16_21.png)'
- en: 'Figure 16.21: Attributes inspector showing Identifier set to entryDetail'
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.21：属性检查器显示Identifier设置为entryDetail
- en: You will use this identifier later to identify the segue used to go from the
    **Journal** **Scene** to the **Entry Detail** **Scene**.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 您将稍后使用此标识符来识别从**“日记”**场景到**“条目详情”**场景的过渡。
- en: 'Click the **JournalEntryDetailViewController** file in the Project navigator
    and add the following property to the `JournalEntryDetailViewController` class
    after the outlet declarations:'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中点击**JournalEntryDetailViewController**文件，并在出口声明之后添加以下属性到`JournalEntryDetailViewController`类中：
- en: '[PRE17]'
  id: totrans-201
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: The `JournalEntry` instance that you pass to the `JournalEntryDetailViewController`
    instance will be assigned to the `selectedJournalEntry` property.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 您传递给`JournalEntryDetailViewController`实例的`JournalEntry`实例将被分配给`selectedJournalEntry`属性。
- en: 'Click the **JournalListViewController** file in the Project navigator and implement
    the `prepare(for:sender:)` method in the `JournalListViewController` class after
    the table view delegate methods, as shown:'
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中点击**JournalListViewController**文件，并在表格视图委托方法之后实现`JournalListViewController`类中的`prepare(for:sender:)`方法，如下所示：
- en: '[PRE18]'
  id: totrans-204
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Let’s break this down:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们分解一下：
- en: '[PRE19]'
  id: totrans-206
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: This code checks to see if the correct segue is being used, if not, the method
    exits.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码检查是否使用了正确的过渡，如果没有，则方法退出。
- en: '[PRE20]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: This code checks that the destination view controller is an instance of `JournalEntryDetailViewController`,
    gets the table view cell the user tapped, and gets the index path of that cell.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 此代码检查目标视图控制器是否为`JournalEntryDetailViewController`的实例，获取用户点击的表格视图单元格，并获取该单元格的索引路径。
- en: '[PRE21]'
  id: totrans-210
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: This statement gets the corresponding `JournalEntry` instance from the `journalEntries`
    array.
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 此语句从`journalEntries`数组中获取相应的`JournalEntry`实例。
- en: '[PRE22]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: This statement assigns the `JournalEntry` instance to the destination view controller’s
    `selectedJournalEntry` property.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 此语句将`JournalEntry`实例分配给目标视图控制器的`selectedJournalEntry`属性。
- en: You’ve now added code that will pass the journal entry corresponding to the
    table view cell tapped by the user to the `JournalEntryDetailViewController` instance
    when transitioning from the Journal List screen to the Journal Entry Detail screen.
    In the next section, you’ll modify the `JournalEntryDetailViewController` class
    to display the details of a journal entry.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在已经添加了代码，当从日记列表屏幕切换到日记条目详情屏幕时，会将用户点击的表格视图单元格对应的日记条目传递给`JournalEntryDetailViewController`实例。在下一节中，你将修改`JournalEntryDetailViewController`类以显示日记条目的详细信息。
- en: Displaying the details of a selected journal entry
  id: totrans-215
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 显示选定的日记条目的详细信息
- en: 'When transitioning to the Journal Entry Detail screen, the `JournalEntry` instance
    corresponding to the table view cell that the user tapped will be assigned to
    the `JournalEntryDetailViewController` instance’s `selectedJournalEntry` property.
    You will add code to the `JournalEntryDetailViewController` class to access this
    property and display the details for a journal entry. Follow these steps:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 当切换到日记条目详情屏幕时，用户点击的表格视图单元格对应的`JournalEntry`实例将被分配给`JournalEntryDetailViewController`实例的`selectedJournalEntry`属性。你需要在`JournalEntryDetailViewController`类中添加代码以访问此属性并显示日记条目的详细信息。请按照以下步骤操作：
- en: 'In the Project navigator, click the **JournalEntryDetailViewController** file
    and modify the `JournalEntryDetailViewController` class’s `viewDidLoad()` method
    as shown to display the details of the journal entry:'
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，点击**JournalEntryDetailViewController**文件，并修改`JournalEntryDetailViewController`类的`viewDidLoad()`方法，如图所示以显示日记条目的详细信息：
- en: '[PRE23]'
  id: totrans-218
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: As you can see, the properties of the `JournalEntry` instance that was passed
    to this view controller earlier are used to populate the user interface elements.
    Note that the `date` property needs to be formatted into a string before it can
    be assigned to the `dateLabel text` property.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，之前传递给此视图控制器的`JournalEntry`实例的属性被用来填充用户界面元素。请注意，`date`属性需要在分配给`dateLabel
    text`属性之前格式化为字符串。
- en: 'Build and run your project and tap a table view cell. The details of the journal
    entry corresponding to that table view cell will be displayed on the Journal Entry
    Detail screen:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建并运行你的项目，并点击一个表格视图单元格。与该表格视图单元格对应的日记条目的详细信息将在日记条目详情屏幕上显示：
- en: '![](img/B31371_16_22.png)'
  id: totrans-221
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_16_22.png)'
- en: 'Figure 16.22: Simulator displaying the Journal Entry Detail screen'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 图16.22：模拟器显示日记条目详情屏幕
- en: Congratulations! You have successfully implemented a view controller for the
    Journal Entry Detail screen. You will now be able to display journal entry details
    in it when the user taps a table view cell on the Journal List screen.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜！你已经成功实现了日记条目详情屏幕的视图控制器。现在，当用户在日记列表屏幕上点击表格视图单元格时，你将能够在其中显示日记条目的详细信息。
- en: Summary
  id: totrans-224
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned how to pass data from one view controller to another.
    You implemented a view controller for the Add New Journal Entry screen, then you
    added code to pass data from the Add New Journal Entry screen to the Journal List
    screen. Next, you learned how to remove journal entries while you’re on the Journal
    List screen. After that, you learned about text field and text view delegate methods,
    and finally, you learned how to pass data from the Journal List screen to the
    Journal Entry Detail screen.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了如何从一个视图控制器传递数据到另一个视图控制器。你实现了添加新日记条目屏幕的视图控制器，然后你添加了代码从添加新日记条目屏幕传递数据到日记列表屏幕。接下来，你学习了如何在日记列表屏幕上删除日记条目。之后，你学习了文本字段和文本视图代理方法，最后你学习了如何从日记列表屏幕传递数据到日记条目详情屏幕。
- en: You now know how to pass data between view controllers and how to use text field
    and text view delegate methods. This will enable you to easily pass data between
    view controllers in your own apps. Cool!
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在知道如何在不同视图控制器之间传递数据，以及如何使用文本字段和文本视图代理方法。这将使你能够轻松地在自己的应用程序中在不同视图控制器之间传递数据。酷！
- en: In the next chapter, you will add a view controller to the Map screen and configure
    it to display journal entry locations using map annotations. You’ll also configure
    the map annotations to display the Journal Entry Detail screen when a button in
    the annotation callout is tapped.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你将在地图屏幕中添加一个视图控制器，并配置它使用地图标记显示日记条目位置。你还将配置地图标记，以便在标记呼出菜单中的按钮被点击时显示日记条目详情屏幕。
- en: Join us on Discord!
  id: totrans-228
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加入我们的Discord！
- en: Read this book alongside other users, experts, and the author himself. Ask questions,
    provide solutions to other readers, chat with the author via Ask Me Anything sessions,
    and much more. Scan the QR code or visit the link to join the community.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 与其他用户、专家以及作者本人一起阅读这本书。提出问题，为其他读者提供解决方案，通过“问我任何问题”的环节与作者聊天，以及更多。扫描二维码或访问链接加入社区。
- en: '[https://packt.link/ios-Swift](https://packt.link/ios-Swift%0D)'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/ios-Swift](https://packt.link/ios-Swift%0D)'
- en: '[![](img/QR_Code2370024260177612484.png)](https://packt.link/ios-Swift%0D)'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '[![](img/QR_Code2370024260177612484.png)](https://packt.link/ios-Swift%0D)'
