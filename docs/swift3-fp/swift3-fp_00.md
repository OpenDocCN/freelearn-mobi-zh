# 前言

函数式编程（FP）因其简化了面向对象编程（OOP）中许多困难而受到广泛关注，例如可测试性、可维护性、可扩展性和并发性。Swift 拥有许多易于使用的函数式编程特性，但大多数 Objective-C 和 Swift 程序员对这些工具并不熟悉。

本书旨在简化函数式编程范式，使其对 Swift 程序员易于使用，展示如何使用流行的函数式编程技术来解决日常开发中的许多问题。无论你是函数式编程和 Swift 的新手还是有经验的开发者，本书都将为你提供设计和发展高质量、易于维护、可扩展和高效应用的技能，适用于 iOS、macOS、tvOS 和 watchOS。通过本书，你将学会使用函数式编程构建无 bug、易于维护的代码。

# 本书涵盖内容

第一章, *Swift 中的函数式编程入门*，介绍了函数式编程范式，如不可变性、无状态编程、纯函数、一等函数和高级函数。本章将介绍 Swift 编程语言及其在 Swift 中的函数式编程范式。

第二章, *函数和闭包*，从函数的定义开始，继续讨论其他相关主题，如函数类型和元组，最后以更高级的主题结束，例如一等函数、高级函数、函数组合、闭包、柯里化和递归以及记忆化。

第三章, *类型与类型转换*，概述了类型的一般概念，并详细探讨了引用类型与值类型的区别。我们将涵盖值类型和引用类型常量、值类型和引用类型的混合以及复制等内容。然后，我们将讨论值类型的特性。我们还将涵盖值类型和引用类型之间的关键区别，以及我们应该如何决定使用哪一种类型。接下来，我们将继续探讨等价性、身份、类型检查和转换等主题。

第四章, *枚举和模式匹配*，解释了枚举的定义和用法。我们将涵盖关联值和原始值，并介绍代数数据类型的概念。我们将通过一些示例来涵盖求和、乘积和递归类型。此外，在本章中，我们将探讨通配符、值绑定、标识符、元组、枚举情况、可选类型、类型转换和表达式等模式，以及相关的模式匹配示例。

第五章, *泛型和关联类型协议*，教我们如何定义和使用泛型。我们还将了解泛型解决的问题的类型。接下来，我们将通过示例探索类型约束、泛型数据结构和关联类型协议。

第六章，*Map, Filter, 和 Reduce*，通过适当的示例介绍了 Swift 编程语言中的 map、filter 和 reduce 方法。这些方法用于数组，可以替代几乎所有的 for-in 循环的使用，并且更加清晰和简洁。

第七章, *处理可选值*，使我们熟悉处理可选值的不同技术。我们将讨论处理可选值的内置技术，如可选绑定、guard、合并和可选链。然后我们将探索处理可选值的函数式编程技术。

第八章, *函数式数据结构*，向您介绍函数式数据结构的概念，并探讨了以函数式方式实现的数据结构示例，如 Semigroup、Monoid、BST、LinkedList、Stack 和 LazyList。

第九章, *不可变性的重要性*，探讨了不可变性的概念。我们将通过示例查看其重要性和好处。然后我们将探讨可变性的案例，并通过一个示例来比较可变性和不可变性对我们代码的影响。

第十章, *两者之最佳 – 结合 FP 模式与 OOP*，涵盖了面向对象编程的原则和模式。然后我们将介绍基于协议的编程。接下来，我们将介绍函数式响应式编程，并探讨如何混合 FP 与 OOP 模式。

第十一章, *案例研究 – 使用 FP 和 OOP 模式开发 iOS 应用*，教我们如何使用我们迄今为止讨论的概念来开发 Todo 后端和 iOS 应用。我们将使用函数式编程技术来解析和映射数据，我们将使用函数式响应式编程来反应性地管理应用中的事件。我们还将使用基于协议的编程和面向对象的编程技术。

# 您需要为这本书准备的内容

要跟随本书中的示例，您需要一台装有 macOS 10.10 或更高版本的 Apple 计算机。您还需要安装 Xcode 版本 8 测试版 1 和 Swift 3.0 预览版 1。

# 这本书面向的对象

本书面向具有 Swift 编程基础知识的 iOS 和 macOS 开发者。假设读者具备面向对象编程的先验知识。

# 习惯用法

在本书中，您将找到多种文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示："`VerboseClass.h` 文件定义了一个作为 `NSObject` 类子类的接口。"

代码块设置如下：

```swift
let numbers = [9, 29, 19, 79]

// Imperative example
var tripledNumbers:[Int] = []
for number in numbers {
  tripledNumbers.append(number * 3)
}
print(tripledNumbers)
```

**新术语**和**重要词汇**以粗体显示。屏幕上看到的单词，例如在菜单或对话框中，在文本中如下所示："接下来，我们将在 Xcode 中创建一个**单视图应用程序**项目。"

### 注意

警告或重要注意事项以如下框中的形式出现。

### 小贴士

小贴士和技巧看起来像这样。

# 读者反馈

我们读者反馈总是受欢迎的。告诉我们您对这本书的看法——您喜欢或不喜欢什么。读者反馈对我们很重要，因为它帮助我们开发出您真正能从中获得最大价值的标题。要发送一般反馈，请简单地发送电子邮件至 feedback@packtpub.com，并在邮件主题中提及书的标题。如果您在某个主题上有专业知识，并且您有兴趣撰写或为书籍做出贡献，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在，您已经成为 Packt 图书的骄傲拥有者，我们有一些事情可以帮助您充分利用您的购买。

## 下载示例代码

您可以从[`www.packtpub.com`](http://www.packtpub.com)的账户下载本书的示例代码文件。如果您在其他地方购买了此书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

您可以通过以下步骤下载代码文件：

1.  使用您的电子邮件地址和密码登录或注册我们的网站。

1.  将鼠标指针悬停在顶部的**支持**选项卡上。

1.  点击**代码下载与勘误**。

1.  在**搜索**框中输入书的名称。

1.  选择您想要下载代码文件的书籍。

1.  从您购买此书的下拉菜单中选择。

1.  点击**代码下载**。

文件下载完成后，请确保您使用最新版本的以下软件解压缩或提取文件夹：

+   Windows 上的 WinRAR / 7-Zip

+   Mac 上的 Zipeg / iZip / UnRarX

+   Linux 上的 7-Zip / PeaZip

本书代码包也托管在 GitHub 上[`github.com/PacktPublishing/Swift-3-Functional-Programming`](https://github.com/PacktPublishing/Swift-3-Functional-Programming)。我们还有其他来自我们丰富图书和视频目录的代码包可供选择，请访问[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)。查看它们！

## 下载本书的颜色图像

我们还为您提供了一个包含本书中使用的截图/图表彩色图像的 PDF 文件。彩色图像将帮助您更好地理解输出中的变化。您可以从 [`www.packtpub.com/sites/default/files/downloads/Swift3FunctionalProgramming_ColorImages.pdf`](http://www.packtpub.com/sites/default/files/downloads/Swift3FunctionalProgramming_ColorImages.pdf) 下载此文件。

## 错误清单

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现了错误——可能是文本或代码中的错误——如果您能向我们报告，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何错误清单，请通过访问 [`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**错误提交表单**链接，并输入您的错误详细信息来报告它们。一旦您的错误得到验证，您的提交将被接受，错误将被上传到我们的网站或添加到该标题的错误清单部分。

要查看之前提交的错误清单，请访问 [`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将在**错误清单**部分显示。

## 盗版

网络上版权材料的盗版是一个持续存在的问题，涉及所有媒体。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何形式的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

如果您发现了疑似盗版材料，请通过 copyright@packtpub.com 联系我们，并附上链接。

我们感谢您在保护我们作者和我们提供有价值内容的能力方面所提供的帮助。

## 询问

如果您对本书的任何方面有问题，您可以通过 questions@packtpub.com 联系我们，我们将尽力解决问题。
