# 第一章：<st c="0">前言</st>

<st c="8">在我们开始旅程之前，让我欢迎你加入 iOS</st> <st c="64">18 开发！</st>

<st c="79">回顾 2008 年，试图回忆当时 iOS SDK 的情况，我对它多年来如何发展和演变感到惊讶。</st> <st c="211">当时，作为 iOS 开发者，我们所需要知道的就是如何创建一个</st> `<st c="279">UITableView</st>`<st c="290">，添加一些按钮，并成为 MVC 这种神奇设计模式的专家。</st> <st c="369">这足以制作一个标准应用，甚至被雇佣为 iOS 开发者。</st>

<st c="447">但我们已经不在 2008 年了，事情已经有所改变——好吧，可能不仅仅是有点改变。</st> <st c="536">有什么改变？</st> <st c="554">一切！</st> <st c="566">编程语言、UI 框架、设计模式和甚至 IDE。</st> <st c="649">但不仅仅是改变了什么，还有什么</st> <st c="698">被添加了。</st>

<st c="708">在 2008 年，iOS SDK（之前被称为 iPhone SDK）包含不到 25 个框架。</st> <st c="802">现在，我们有超过 200 个框架——这几乎是十倍之多！</st>

<st c="864">我们有用于动画、游戏、测试、机器学习和人工智能、安全、数据等许多框架。</st> <st c="972">如今，成为一名 iOS 开发者不仅仅是添加列表和按钮——它还意味着理解 iOS SDK 的能力，并选择正确的方法和技术。</st> <st c="1136">和科技。</st>

<st c="1151">这正是本书的目标。</st> <st c="1190">这不是苹果技术的参考或文档——你可以在网上找到这些，而且可能更及时。</st> <st c="1313">本书是 iOS SDK 能力的窗口，让你能够进一步提升你的开发技能。</st> <st c="1414">甚至更远。</st>

<st c="1427">本书的信息是精心挑选的，以涵盖现代 iOS 开发中最激动人心和最有价值的部分，包括持久存储、测试、高级 SwiftUI 概念、网络、宏、架构，甚至机器学习和人工智能。</st> <st c="1683">不可能涵盖一切，这也不是目的。</st>

<st c="1750">然而，理解本书中的主题将帮助你充分利用 iOS</st> <st c="1836">SDK。</st>

# <st c="1844">本书面向对象</st>

<st c="1865">本书不是为初学者准备的！</st> <st c="1896">阅读本书的开发者必须具备 Swift、SwiftUI、Xcode 和 iOS 开发基本概念（如动画、网络和持久数据）的基本知识。</st> <st c="2064">因此，这不是一本“开始 iOS 开发”的书——我假设你已经用 Swift 编写了一些代码，并在 SwiftUI 中创建了一些出色的 UI。</st>

<st c="2208">本书的主要目标受众是以下三个主要角色：</st>

+   <st c="2269">希望紧跟最新苹果技术的 iOS 高级开发者</st>

+   <st c="2354">希望利用团队技能的 iOS 团队技术负责人</st>

+   <st c="2413">希望晋升到高级开发领域的中级开发者</st>

# <st c="2475">本书涵盖的内容</st>

*<st c="2497">第一章</st>**<st c="2507">，iOS 18 的新功能</st>*<st c="2529">，提供了 iOS 18 的概述，并涵盖了 SDK 的变化和新功能。</st> <st c="2613">它还讨论了 iOS 18 的方法和</st> <st c="2659">不同的趋势。</st>

*<st c="2676">第二章</st>**<st c="2686">，使用 SwiftData 简化我们的实体</st>*<st c="2727">，介绍了一个苹果公司的新框架，用于替换 Core Data 以实现持久存储。</st> <st c="2818">本章涵盖了从设置、执行操作、查询</st> <st c="2893">到迁移的各个方面。</st>

*<st c="2907">第三章</st>**<st c="2917">，理解 SwiftUI 观察</st>*<st c="2952">，提供了一个关于 SwiftUI 关键方面的概述。</st> <st c="3008">本章讨论了苹果公司的新观察框架，重构了我们对于不同属性包装器角色的理解，并深入探讨了它们</st> <st c="3169">在底层的工作方式。</st>

*<st c="3185">第四章</st>**<st c="3195">，使用 SwiftUI 进行高级导航</st>*<st c="3229">，涵盖了 iOS 的另一个重大主题。</st> <st c="3268">它讨论了 SwiftUI 导航的复杂性，并提供了处理它的实际示例和模式。</st>

*<st c="3380">第五章</st>**<st c="3390">，使用 WidgetKit 增强 iOS 应用</st>*<st c="3433">，解释了小部件的概念；涵盖了如何添加、维护和设计小部件；并涵盖了小部件的新功能，例如在</st> <st c="3602">iOS 18 中的交互和控制小部件。</st>

*<st c="3609">第六章</st>**<st c="3619">，SwiftUI 动画和 SF 符号</st>*<st c="3654">，将帮助我们的应用更加愉悦和吸引人。</st> <st c="3707">我们将了解动画在 SwiftUI 中的重要性及其概念，执行基本动画，并动画化</st> <st c="3823">SF 符号。</st>

*<st c="3834">第七章</st>**<st c="3844">，使用 TipKit 改进功能探索</st>*<st c="3887">，讨论了一个有趣的 SDK，它弥合了开发者和产品视角之间的差距。</st> <st c="3987">我们将学习如何向我们的应用添加提示，设计它们，并控制它们的</st> <st c="4060">外观规则。</st>

*<st c="4077">第八章</st>**<st c="4087">，连接和从网络获取数据</st>*<st c="4134">，涉及 iOS 中最基本的话题之一：从网络获取数据。</st> <st c="4222">我们将了解如何处理 HTTP 请求并将 Combine 框架连接到</st> <st c="4306">我们的流程中。</st>

*<st c="4316">第九章</st>**<st c="4326">，使用 Swift Charts 创建动态图表</st>*<st c="4369">，是本书中最丰富多彩的一章。</st> <st c="4414">我们将了解不同类型的图表，创建不同的图表，甚至实现用户交互，让我们的用户获得更多的价值。</st>

*<st c="4575">第十章</st>**<st c="4586">，Swift 宏</st>*<st c="4600">，是一个高级章节，涵盖了复杂而强大的主题。</st> <st c="4667">本章深入探讨了 SwiftSyntax 框架，它是 Swift 宏背后的框架，帮助我们添加和测试我们的第一个 Swift 宏。</st> <st c="4800">随着许多框架的 API 基于</st> <st c="4865">Swift 宏，这个主题变得至关重要。</st>

*<st c="4878">第十一章</st>**<st c="4889">，使用 Combine 创建管道</st>*<st c="4922">，涵盖了声明式编程的基本概念。</st> <st c="4984">本章讨论了 Combine 框架的基础知识，深入探讨了不同的 Combine 组件，如发布者、订阅者和操作符，并提供工具将 Combine 集成到</st> <st c="5180">现实世界的流程中。</st>

*<st c="5196">第十二章</st>**<st c="5207">，利用 Apple 智能和机器学习变得聪明</st>*<st c="5251">，探索了机器学习的迷人世界。</st> <st c="5305">我们将回顾机器学习和人工智能的基础知识，并尝试 iOS 中内置的机器学习框架，如 NLP、视觉和声音分析。</st> <st c="5456">不仅如此，本章还解释了如何训练我们自己的模型并在</st> <st c="5538">我们的应用中使用它。</st>

*<st c="5547">第十三章</st>**<st c="5558">，使用 App Intents 将您的应用暴露给 Siri</st>*<st c="5602">，将我们现有的应用的能力，如动作和内容，暴露给 Siri。</st> <st c="5699">本章提供了一种为我们的应用准备迎接</st> <st c="5761">人工智能时代的方法。</st>

*<st c="5768">第十四章</st>**<st c="5779">，使用 Swift 测试改进应用质量</st>*<st c="5825">，涉及 iOS 开发中一个关键但不受欢迎的话题。</st> <st c="5889">新的 Swift 测试框架使测试更加直接和自然。</st> <st c="5974">我们将设置测试目标，编写我们的第一个测试函数，并了解如何管理不同的测试计划、套件和配置。</st>

*<st c="6120">第十五章</st>**<st c="6131">，探索 iOS 架构</st>*<st c="6164">，旨在解释不同的架构概念，并帮助您选择一个能够平衡简单性、可扩展性和长期可维护性的典范架构。</st> <st c="6332">如果你不知道如何建造你的房子，即使有一个出色的房间想法又有什么用呢？</st>

# <st c="6437">为了充分利用本书</st>

<st c="6470">您需要了解苹果的平台工程——Xcode、Swift、SwiftUI，并且有一些编写 iOS 应用的经验——仅仅编写一个简单的屏幕是不够的，因为本书的内容需要具有价值。</st>

| **<st c="6688">书中涵盖的软件/硬件</st>** **<st c="6718">要求</st>** | **<st c="6726">操作系统</st>** **<st c="6737">要求</st>** |
| --- | --- |
| <st c="6756">Xcode</st> | <st c="6762">macOS</st> |
| <st c="6768">iOS SDK</st> |  |
| <st c="6776">Create ML</st> |  |

**<st c="6786">如果您使用的是本书的数字版，我们建议您亲自输入代码或访问</st>** **<st c="6888">本书的 GitHub 仓库中的代码（下一节将提供链接）。</st> <st c="6974">这样做将帮助您避免与代码复制和粘贴相关的任何潜在错误。</st>** **<st c="7059">这将有助于您避免与代码复制和粘贴相关的任何潜在错误。</st>**

# <st c="7525">下载示例代码文件</st>

<st c="7099">您可以从 GitHub 下载本书的示例代码文件</st> <st c="7166">在</st> [<st c="7169">https://github.com/PacktPublishing/Mastering-iOS-18-Development</st>](https://github.com/PacktPublishing/Mastering-iOS-18-Development)<st c="7232">。</st>

<st c="7233">如果代码有更新，它将在</st> <st c="7294">GitHub 仓库中更新。</st>

<st c="7312">我们还有其他来自我们丰富的书籍和视频目录的代码包，可在</st> [<st c="7400">https://github.com/PacktPublishing/</st>](https://github.com/PacktPublishing/)<st c="7435">找到。查看它们吧！</st>

# <st c="7452">使用的约定</st>

<st c="7469">本书中使用了多种文本约定。</st>

`<st c="7535">文本中的代码</st>`<st c="7548">：表示文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。</st> <st c="7701">以下是一个示例：“在</st> `<st c="7725">NavigationStack</st>`<st c="7740">中，有一个名为</st> `<st c="7777">navigationDestination</st>`<st c="7798">的新视图修饰符，它允许我们根据状态变化分别定义一个目标。”</st>

<st c="7880">代码块设置</st> <st c="7904">如下：</st>

```swift
 enum Screen: Hashable {
    case signin
    case onboarding
    case mainScreen
    case settings
}
@State var path: [Screen] = []
```

<st c="8030">当我们希望您注意代码块中的特定部分时，相关的行或项目将被</st> <st c="8141">加粗：</st>

```swift
 struct CoordinatorView: View {
    @ObservedObject private var coordinator = Coordinator()
    var body: some View { <st c="8259">NavigationStack</st>(path: $coordinator.path) {
            AlbumListView()
                .navigationDestination(for: PageAction.self, destination: { pageAction in
                    coordinator.buildView(forPageAction: pageAction)
                })
        }
        .environmentObject(coordinator)
    }
}
```

<st c="8482">任何命令行输入或输出都按照以下方式编写：</st>

```swift
 @testable import Chapter14
```

**<st c="8565">粗体</st>**<st c="8570">：表示新术语、重要单词或您在屏幕上看到的单词。</st> <st c="8646">例如，菜单或对话框中的单词以</st> **<st c="8701">粗体</st>**<st c="8705">显示。以下是一个示例：“代码创建了一个蓝色圆圈和一个写着</st> <st c="8772">开始</st>**<st c="8779">**的按钮。”</st>

<st c="8786">提示或重要说明</st>

<st c="8810">看起来像这样。</st>

# <st c="8828">取得联系</st>

<st c="8841">我们欢迎读者的反馈。</st>

**<st c="8886">一般反馈</st>**<st c="8903">：如果您对本书的任何方面有任何疑问，请通过电子邮件发送至</st> <st c="8971">customercare@packtpub.com</st> <st c="8996">并在邮件主题中提及书名。</st>

**<st c="9055">勘误</st>**<st c="9062">：尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。</st> <st c="9158">如果您在这本书中发现了错误，如果您能向我们报告，我们将不胜感激。</st> <st c="9253">请访问</st> [<st c="9266">www.packtpub.com/support/errata</st>](http://www.packtpub.com/support/errata) <st c="9297">并填写</st> <st c="9310">表格。</st>

**<st c="9319">盗版</st>**<st c="9326">：如果您在互联网上遇到我们作品的任何形式的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。</st> <st c="9497">请通过电子邮件联系</st> <st c="9518">copyright@packt.com</st> <st c="9537">并提供</st> <st c="9553">材料的链接。</st>

**<st c="9566">如果您想成为作者</st>**<st c="9610">：如果您在某个主题领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请</st> <st c="9735">访问</st> [<st c="9741">authors.packtpub.com</st>](http://authors.packtpub.com)<st c="9761">。</st>

# <st c="9762">分享您的想法</st>

<st c="9782">一旦您阅读了</st> *<st c="9800">精通 iOS 18 开发</st>*<st c="9828">，我们非常乐意听听您的想法！</st> [<st c="9863">请点击此处直接进入亚马逊评论页面</st>](https://packt.link/r/1835468101) <st c="9921">为此书并分享</st> <st c="9946">您的反馈。</st>

<st c="9960">您的评论对我们和科技社区非常重要，并将帮助我们确保我们提供的是优秀的</st> <st c="10069">高质量内容。</st>

# <st c="10085">下载此书的免费 PDF 副本</st>

<st c="10123">感谢您购买</st> <st c="10146">这本书！</st>

<st c="10156">您喜欢在路上阅读，但无法携带您的印刷</st> <st c="10222">书籍到任何地方吗？</st>

<st c="10239">您的电子书购买是否与您选择的</st> <st c="10297">设备不兼容？</st>

<st c="10309">不用担心，现在每本 Packt 书籍都附赠一本免费的 DRM-free PDF 版本，无需额外费用。</st> <st c="10396">无需额外费用。</st>

<st c="10404">在任何地方、任何设备上阅读。</st> <st c="10446">直接从您最喜欢的技术书籍中搜索、复制和粘贴代码到您的应用程序中。</st>

<st c="10542">这些福利远不止于此，您将获得独家折扣、新闻通讯以及每天在您的</st> <st c="10657">收件箱中获取的优质免费内容</st>

<st c="10668">按照以下简单步骤获取</st> <st c="10702">以下好处：</st>

1.  <st c="10715">扫描下面的二维码或访问</st> <st c="10746">以下链接</st>

![](img/B21795_QR_Free_PDF.jpg)

[<st c="10758">https://packt.link/free-ebook/9781835468104</st>](https://packt.link/free-ebook/9781835468104)

1.  <st c="10801">提交您的购买</st> <st c="10820">证明</st>

1.  <st c="10831">这就完了！</st> <st c="10843">我们将直接将您的免费 PDF 和其他福利发送到您的</st> <st c="10895">电子邮件</st>

# <st c="0">第一部分：iOS 18 开发入门</st>

<st c="48">在本部分中，您将回顾 iOS 18 的所有新功能。</st> <st c="115">我们将探讨令人兴奋的主题，例如 SwiftData、Observation 和 SwiftUI 导航。</st> <st c="204">此外，我们将使用 WidgetKit 构建小部件，动画化我们的视图，向我们的应用程序添加提示和图表，并学习如何构建一个出色的</st> <st c="338">网络层。</st>

<st c="352">本部分包含以下章节：</st> <st c="376">以下章节：</st>

+   *<st c="395">第一章</st>*<st c="405">,</st> *<st c="407">iOS 18 的新功能</st>*

+   *<st c="427">第二章</st>*<st c="437">,</st> *<st c="439">使用 SwiftData 简化我们的实体</st>*

+   *<st c="478">第三章</st>*<st c="488">,</st> *<st c="490">理解 SwiftUI Observation</st>*

+   *<st c="523">第四章</st>*<st c="533">,</st> *<st c="535">使用 SwiftUI 进行高级导航</st>*

+   *<st c="567">第五章</st>*<st c="577">,</st> *<st c="579">使用 WidgetKit 提升 iOS 应用程序</st>*

+   *<st c="620">第六章</st>*<st c="630">,</st> *<st c="632">SwiftUI 动画和 SF 符号</st>*

+   *<st c="665">第七章</st>*<st c="675">,</st> *<st c="677">使用 TipKit 提高特性探索</st>*

+   *<st c="718">第八章</st>*<st c="728">,</st> *<st c="730">从网络连接和获取数据</st>*

+   *<st c="775">第九章</st>*<st c="785">,</st> *<st c="787">使用 Swift Charts 创建动态图表</st>*
