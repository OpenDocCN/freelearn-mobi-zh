# 前言

*iOS Passbook 应用快速开发指南* 将帮助您快速上手 Passbook，这是苹果在 iOS 中引入的数字钱包。Passbook 为用户提供了一种收集和组织优惠券、存储卡、活动门票和登机牌的方式，您的产品或服务可以利用这一机会。本书将解释 Passbook 基础设施，引导您创建您的第一个通行证，涵盖将您的通行证发送给用户以及保持其更新。

# 本书涵盖内容

*了解 Passbook（简单）* 介绍了 Passbook。苹果的 Passbook 功能是一系列技术集合，共同为用户提供数字钱包功能。我们将从用户和通行证创建者的角度了解 Passbook 的构成。

*设置您的环境* *(简单)* 指导您创建通行证。创建您的第一个通行证将需要加密密钥和证书，这些通过苹果开发者门户进行管理。您将在此过程中得到引导，准备创建第一个通行证所需的一切。

*创建您的通行证* *(中等)* 涵盖了通行证中所有元素。您将从头到尾完成通行证的创建。

*签名您的通行证* *(简单)* 解释了如何对通行证包内容进行数字签名。要被 Passbook 应用接受，通行证必须使用开发者的证书进行加密签名。我们将使用从您的 Apple 开发者账户准备的证书对新建的通行证进行签名。

*通过电子邮件发送您的通行证* *(中等)* 探讨了如何将通行证作为电子邮件发送。一旦创建，您的通行证需要发送给用户。我们将发送一封包含您的通行证的电子邮件，允许它直接在 Passbook 中打开。

*通过网页链接发送您的通行证* *(中等)* 将向您展示如何配置您的 Web 服务器以向用户提供服务。这将允许通过您的网站上的链接发送通行证。

*通过应用发送您的通行证* *(中等)* 展示了如何通过配套的 iOS 应用发送通行证。我们将使用 iOS 中可用的 PassKit 框架在配套应用中向用户展示通行证。从那里，通行证可以被添加到 Passbook 应用中。

*在 Passbook 应用内更新通行证（高级）* 将实现一个符合苹果定义规范的 Ruby REST API。这将允许在情况发生变化时更新通行证*.*

# 本书所需条件

+   Mac OSX（推荐版本 10.8.2 或更高）

+   Git 版本控制

+   网络托管服务；例如，Heroku ([`www.heroku.com`](http://www.heroku.com))

+   Apple iOS 开发者账户 ([`developer.apple.com/ios`](http://developer.apple.com/ios))

# 本书面向对象

本书旨在帮助那些想要利用 Passbook，iOS 的最新功能的人。熟悉 iOS 平台和编程概念的读者将能从本书中获得最大收益。虽然您将逐步引导通过每个过程部分，但那些在 iOS 平台上构建和打包应用程序的读者会发现熟悉的概念。

# 习惯用法

在本书中，您会发现许多不同风格的文本，以区分不同类型的信息。以下是一些这些风格的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名如下所示：“带有`-pkpass`文件扩展名的文件将在预览窗口中打开。”

代码块设置如下：

```swift
if (![PKPassLibraryisPassLibraryAvailable]) {
    NSLog(@"Passbook not available on this device");
    return;       
}
```

任何命令行输入或输出都写作如下：

```swift
cd passbook_rails_example
bundle
```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的单词，例如在菜单或对话框中，在文本中如下所示：“点击**添加到 Passbook**按钮将 Pass 添加到在 OSX 系统首选项中设置的与 iCloud 账户关联的 Passbook 中”。

### 注意

警告或重要注意事项以如下框中的形式出现。

### 小贴士

小技巧和技巧如下所示。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们来说非常重要，以便我们开发出您真正能从中获得最大收益的标题。

如要向我们发送一般反馈，请简单地将电子邮件发送到 `<feedback@packtpub.com>`，并在邮件主题中提及书名。

如果您在某个主题上具有专业知识，并且您有兴趣撰写或为本书做出贡献，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 图书的骄傲拥有者，我们有许多事情可以帮助您充分利用您的购买。

## 下载示例代码

您可以从您在[`www.packtpub.com`](http://www.packtpub.com)的账户中下载您购买的所有 Packt 图书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 错误清单

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问 [`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误****提交****表单**链接，并输入您的勘误详情来报告。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分下的现有勘误列表中。您可以通过选择您的标题从 [`www.packtpub.com/support`](http://www.packtpub.com/support) 查看任何现有勘误。

## 盗版

在互联网上，版权材料的盗版问题是一个跨媒体持续存在的问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过 `<copyright@packtpub.com>` 联系我们，并提供涉嫌盗版材料的链接。

我们感谢您在保护我们的作者以及为我们提供有价值内容的能力方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，可以通过 `<questions@packtpub.com>` 联系我们，我们将尽力解决。
