# 前言

现在从未有过更好的时机成为游戏开发者。App Store 为你提供了一个独特的机会，将你的想法传播给庞大的受众。现在，Swift 已经到来，增强了我们的工具集，并提供了更流畅的开发体验。Swift 虽然是新的，但已经被誉为一种优秀、设计精良的语言。无论你是游戏开发的新手还是想增加你的专业知识，我相信你会喜欢用 Swift 制作游戏。

我写这本书的目标是分享 Swift 和 SpriteKit 的基础知识。我们将通过一个完整的示例游戏来学习 Swift 开发过程的每一步。一旦你完成这本书，你将能够轻松地设计并发布自己的游戏想法到 App Store，从开始到结束。

请提出任何问题并与我们分享你的游戏创作：

电子邮件：`<stephen@thinkingswiftly.com>`

Twitter: `@sdothaney`

第一章探讨了 Swift 的最佳特性。让我们开始吧！

# 本书涵盖的内容

第一章，*使用 Swift 设计游戏*，介绍了 Swift 的最佳特性，帮助你设置开发环境，并启动你的第一个 SpriteKit 项目。

第二章，*精灵、摄像机、动作！*，教你使用 Swift 绘制和动画的基础知识。你将绘制精灵，将纹理导入到你的项目中，并将摄像机对准主要角色。

第三章，*混合物理*，涵盖了物理模拟的基本原理：物理体、冲量、力、重力、碰撞等。

第四章，*添加控制*，探讨了移动游戏控制的多种方法：设备倾斜和触摸输入。我们还将改进示例游戏中的摄像机和核心玩法。

第五章，*生成敌人、金币和道具*，介绍了我们将在示例游戏中使用的角色阵容，并展示了如何为每种 NPC 类型创建自定义类。

第六章，*生成一个永不结束的世界*，探讨了 SpriteKit 场景编辑器，为示例游戏构建遭遇，并创建了一个无限循环遭遇的系统。

第七章，*实现碰撞事件*，深入探讨了高级物理模拟主题，并在精灵碰撞时添加自定义事件。

第八章，*精益求精 – HUD、视差背景、粒子等*，添加了使每个优秀游戏发光的额外功能。创建视差背景，了解 SpriteKit 的粒子发射器，并将抬头显示叠加到你的游戏中。

第九章, *添加菜单和声音*，构建了一个基本的菜单系统，并说明了在您的游戏中播放声音的两种方法。

第十章, *与游戏中心集成*，将我们的示例游戏链接到苹果游戏中心，用于排行榜、成就和友好挑战。

第十一章, *发布！准备 App Store 和发布*，涵盖了打包您的游戏并将其提交到 App Store 的基本要素。

# 您需要为本书准备什么

本书使用 Xcode IDE 版本 6.3.2（Swift 1.2）。如果您使用的是 Xcode 的不同版本，您可能会遇到语法差异；苹果公司不断升级 Swift 的语法。

访问[`developer.apple.com/xcode`](https://developer.apple.com/xcode/)下载 Xcode。

您需要一个苹果开发者账户来将您的应用程序集成到游戏中心，并将您的游戏提交到 App Store。

# 本书面向对象

如果您想使用 Swift 创建和发布有趣的 iOS 游戏，那么这本书就是为您准备的。您应该熟悉基本编程概念，如类、类型和函数。然而，不需要先前的游戏开发或苹果生态系统经验。此外，有经验的游戏程序员会发现这本书在过渡到使用 Swift 进行游戏开发时很有用。

# 惯例

在这本书中，您将找到许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名如下所示："游戏在切换到这个场景时调用`didMoveToView`函数。"

代码块如下设置：

```swift
let mySprite = SKSpriteNode(color: UIColor.blueColor(), size: 
    CGSize(width: 50, height: 50))
mySprite.position = CGPoint(x: 300, y: 300)
self.addChild(mySprite)
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```swift
    // Find the width of one-third of the children nodes
 jumpWidth = tileSize.width * floor(tileCount / 3)
}
```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的单词，例如在菜单或对话框中，在文本中如下所示："在左侧窗格中选择**iOS** | **应用程序**，在右侧窗格中选择**游戏**。"

### 注意

警告或重要注意事项如下所示。

### 小贴士

小贴士和技巧看起来像这样。

# 读者反馈

我们欢迎读者的反馈。告诉我们您对这本书的看法——您喜欢或不喜欢的地方。读者反馈对我们很重要，因为它帮助我们开发出您真正能从中获得最大收益的标题。

要向我们发送一般反馈，请简单地发送电子邮件至`<feedback@packtpub.com>`，并在邮件主题中提及本书的标题。

如果您在某个领域有专业知识，并且您对撰写或参与一本书籍感兴趣，请参阅我们的作者指南，网址为[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您是 Packt 书籍的骄傲拥有者，我们有一些事情可以帮助您从您的购买中获得最大收益。

## 下载示例代码

您可以从[`www.packtpub.com`](http://www.packtpub.com)下载示例代码文件，适用于您购买的所有 Packt Publishing 书籍。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

此外，每个章节都提供了检查点链接，您可以使用这些链接下载到该点的示例项目。

## 下载本书的颜色图像

我们还为您提供了一个包含本书中使用的截图/图表的颜色图像的 PDF 文件。这些颜色图像将帮助您更好地理解输出的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/0531OT_ColorImages.pdf`](http://www.packtpub.com/sites/default/files/downloads/0531OT_ColorImages.pdf)下载此文件。

## 勘误

尽管我们已经尽最大努力确保内容的准确性，错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以避免其他读者感到沮丧，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站或添加到该标题的勘误部分下的现有勘误列表中。

要查看之前提交的勘误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**勘误**部分下。

## 盗版

互联网上版权材料的盗版是一个持续存在的问题，所有媒体都存在。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何形式的非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供疑似盗版材料的链接。

我们感谢您在保护我们的作者和我们为您提供有价值内容的能力方面的帮助。

## 询问

如果您对本书的任何方面有问题，您可以通过`<questions@packtpub.com>`联系我们，我们将尽力解决问题。
