# 第九章：原生、混合还是跨平台

大多数开发者都清楚，当谈到市场份额时，规模大并不一定意味着更好。也就是说，Android 的更大市场规模并不一定使其成为应用开发的更好选择。同样，iOS 的更高开发者回报本身也不应该使您成为其信徒。那么，在选择平台时，您应该关注什么？

在本章中，我们将采取务实的态度来回答这个问题。简而言之，我们将探讨以下内容：

+   可能对您平台选择产生重大影响的现实因素，例如您受众的需求、您的技术需求和您的技术能力

+   原生应用和混合应用的优缺点，以及各自的利弊

+   可以让您同时在这两个平台上进行开发的跨平台开发工具

让我们先从最基本的几个问题开始探讨。

# 您的受众是谁？

![图片](img/8de15c8e-67da-4cc3-ac5f-a47577eef625.png)

您的目标受众可能更喜欢某个平台，或者他们可能在这两个平台上均匀分布。尽可能多地了解您的受众将帮助您确定许多关于您应用的事情，包括是否采用原生或混合开发。在进行研究时，要超越现有的概念和刻板印象。

例如，我们大多数人可能已经意识到 iOS 用户和 Android 用户之间的一些表面差异。那就是，iOS 用户更富裕、受教育程度更高、年龄更轻，而 Android 用户则相反。

一些研究还表明，尽管 Android 的市场渗透率很高，但 iOS 用户更愿意为应用付费。苹果公司报告称，2016 年向开发者支付了 [200 亿美元](https://www.apple.com/newsroom/2017/01/app-store-shatters-records-on-new-years-day.html)（参考 [`www.apple.com/newsroom/2017/01/app-store-shatters-records-on-new-years-day.html`](https://www.apple.com/newsroom/2017/01/app-store-shatters-records-on-new-years-day.html)），App Annie 报告称，尽管 Google Play 商店下载量是 App Store 的两倍，但 iOS 应用产生的利润是两倍（参考 [`www.google.com/url?q=http://bgr.com/2016/07/20/ios-vs-android-developers-profits-app-store-google-play/&sa=D&ust=1501582800060000&usg=AFQjCNFJYS1AAoGra88ceEN2y6y87UdA7g`](https://www.google.com/url?q=http://bgr.com/2016/07/20/ios-vs-android-developers-profits-app-store-google-play/&sa=D&ust=1501582800060000&usg=AFQjCNFJYS1AAoGra88ceEN2y6y87UdA7g)）。

这些数字会为您做出决定吗？也许会，如果您的收入模式依赖于从您的应用中赚钱。如果不是这样，那么您需要关注对您的受众真正重要的事情。在探索您的潜在受众时，始终要深入了解这些广泛报告的表面之下。它们通常过于抽象，无法提供任何真正的见解。相反，使用竞争情报工具（如 App Annie 或 Flurry）进行深入研究，并与市场研究人员合作收集您自己的数据。

# 测量 - 不要猜测或使用直觉

对于特定市场细分的数据可能不会反映行业平均水平，因此您应该深入挖掘“苹果用户更富裕”的刻板印象，并具体了解您的行业和现有用户基础。您应该使用所有可用的分析来了解您受众的平台偏好。

例如，收集和分析以下内容：

+   分析服务，例如 Google Analytics for Mobile ([`www.google.com/analytics/analytics/#?modal_active=none`](https://www.google.com/analytics/analytics/#?modal_active=none))、Yahoo's Flurry Pulse ([`developer.yahoo.com/flurry-pulse/`](https://developer.yahoo.com/flurry-pulse/))、Localytics ([`www.localytics.com`](https://www.localytics.com)) 和 Adobe ([`www.adobe.com/marketing-cloud/web-analytics/mobile-web-apps-analytics.html`](https://www.adobe.com/marketing-cloud/web-analytics/mobile-web-apps-analytics.html))

+   应用商店分析

+   移动网站消费

+   桌面网站消费

在评估这些数字以及您关于受众的任何其他可用数据后，您可以确定他们是否对任何特定平台有偏见。

大多数人倾向于落入 iOS 阵营或 Android 阵营，这决定了他们购买的设备、他们使用的应用商店等等。

# 您的技术需求是什么？

![](img/11b50e69-2e6c-4c28-8dca-6ccba6128553.png)

并非每个应用都是孤岛。在某些情况下，应用需要与其他平台特定的服务或应用集成。在这种情况下，您将面临可能限制您的开发选择的严格限制。至少，这有助于您明确开发优先级。

正如我们接下来将要看到的，存在跨平台工具包，允许您在多个平台上发布。尽管这些工具打开了一些行动路线，但它们限制了其他路线，并可能阻碍与其他原生应用的兼容性。根据您的技术需求和集成需求，这个问题可能会完全压倒所有其他问题。

# 您的技术能力如何？

有时候，选择一个操作系统而不是另一个操作系统并不重要。当您的团队在某个平台上具有优势时，要务实，根据您能做什么来选择。毕竟，在陌生的平台上开发存在风险，包括：

+   延长的上市时间

+   较高的技术成本

+   通过错误或其他错误进行返工的风险更高

这些问题的影响可能会延迟有效数据的收集和学习。

在您已经熟悉平台上进行开发具有相应的优势：

+   技术成本降低

+   错误风险降低

+   缩短上市时间

+   缩短学习周期时间。

然而，总有例外。例如，如果您有一个充满活力且成功记录的团队，并且他们想学习特定的平台，那么让他们放手去做可能是明智的。这是一个判断性的决定。只有当您有一支了解如何根据最佳实践构建的资深团队时，才考虑这一点。

# 原生与混合 - 优势和劣势

![](img/c458bf32-a999-4c63-8795-289ec977a97b.png)

现在我们已经涵盖了关于您的受众、技术需求和技术的基线要求，是时候看看原生和混合应用如何比较了。尽管大多数开发者都熟悉两者之间的基本区别，但重要的是要审视每种应用的优缺点。之后，我们将更接近确定最适合您需求的方法。首先，这里有一个简要概述：

# 原生应用

**原生**应用是专门为某一平台开发的。在移动领域，这通常意味着 iOS 或 Android。原生应用的主要卖点在于平台特定的应用可以直接调用操作系统 API，这为开发者和设计师提供了更大的灵活性和对用户体验的控制。

采用原生应用可以提供完整的设备功能，但您必须付出代价。原生应用的开发和创建成本更高，需要深入的专业知识...尤其是如果您需要在两个不同的平台上进行原生开发。

# 混合应用

**混合**应用部分是原生的，部分是网页。HTML、CSS 和 JavaScript 用于定义应用的网页部分，通常通过设备的渲染引擎（通常是 Webkit）执行。大多数情况下，这些应用的部分仅限于 UI 元素。

混合应用相较于移动网页应用的优势在于，混合应用仍然能够调用原生 API。混合应用位于严格意义上的网页应用和原生应用之间。它们可能只是以原生包装形式提供的网页应用。或者它们也可以包含原生代码，以便利用特定于操作系统的功能。

# 采用原生的利弊

纯粹主义者坚持“始终原生”的哲学，尽管这种态度近年来有所缓和。然而，所有企业都有有限的资源，因此不可能忽视原生应用的一些缺点：

+   原生应用的开发和维护成本更高

+   它们创建的时间更长，这可能是一个问题，如果您需要尽快推出。

+   它们的开发需要更多的专业知识，这又可能使成本更高，耗时更长

+   如果您或您的团队没有必要的经验，您将不得不获得它

转向原生应用的另一个潜在问题是，为某一平台开发的想法可能会被复制到另一个平台。有人试图窃取您的想法的威胁始终存在，但请记住，新颖的想法总会被复制。在第十九章《构建不公平优势》中，我们将探讨保护您的知识产权免受此类可能性的方法。

尽管存在不利因素和潜在风险，但创建原生应用确实有明确的优点：

+   原生应用针对特定平台和操作系统，因此您可以直接利用不同级别的 API，从 GUI 工具包到文件系统。

+   对应用及其与设备的接口有更精细的控制，让您更好地掌握可能影响用户体验的细节，例如加载时间或其他微妙的 UI 元素。

+   仅当您构建原生应用时，才能与某些特定平台的应用或服务进行集成。

这些考虑因素本身应该表明，在原生和混合应用之间的选择并不总是那么明显。

有时，您真的没有选择，没有什么可争论的。例如，如果集成需求迫使您开发特定平台解决方案，那么这个问题永远不会出现。然而，当您能够进行辩论时，采取以用户为中心的方法来处理这个问题非常重要，这正是原生应用真正发光的地方。

# 转向原生应用的最大好处

原生应用可以提供对用户体验的更精细控制。当从精益的角度审视应用时，将用户体验置于首位至关重要。随着智能手机的普及，消费者对他们的移动应用提出了越来越多的要求。如今，这种体验往往决定了应用的成败。自 2010 年代初以来，一项又一项的研究表明，客户会迅速放弃表现不佳的应用或网站：

+   在 2012 年底，方程研究对超过 3,000 名移动设备用户进行了调查。84%的人表示，移动应用性能至少在一定程度上很重要，超过 50%的人认为移动应用应在 2 秒或更短的时间内加载。

+   根据 Gomez.com 和 Akamai 在 2011 年进行的一项经常引用的调查，页面加载时间延迟 1 秒会导致销售额下降 7%。他们还发现，40%的用户会放弃加载时间在 3 秒或更长的网页。

+   2016 年 7 月，在先前两次调查结果的基础上，谷歌 Think with Google 评估了大量真实电子商务网站的指标，以创建可以分析网站并预测转化率和跳出率的机器学习模型。结果并不令人惊讶：页面复杂性降低了转化率，加载时间慢增加了跳出率。

性能只是影响整体用户体验的一个因素。你可以开发出具有吸引力的用户界面的应用，但关于跨平台应用的最大抱怨是它们没有真正原生的外观和感觉。然而，混合应用有其自身的优势，这使得它们值得探索。

# 转向混合的利弊

混合应用介于纯 Web 应用和纯原生应用之间，并从每个领域带来优势。与原生应用一样，没有对错之分——这只是确定哪种适合你的情况的问题。混合应用可能没有原生应用那样的性能或图形潜力，但它们提供了不同类型的优势：

+   编写一次，运行在任何地方。跨平台工具（我们将在下一节中介绍），将代码，如 JavaScript 或 C#，转换为多个平台的本地语言。即使是一个简单的本地外壳包裹着一些 Web 代码，也能让你在两个商店中列出你的应用，并接触到两个受众。

+   由于你可以将应用的一部分作为一个单一代码库来开发，你的开销要低得多。

+   短暂的开发时间不仅降低了开发成本，还意味着你的应用可以更快地发布。

+   由于混合应用具有原生组件，可以在应用商店中列出，因此你将获得与开发原生应用相同程度的曝光。

在所有这些优点面前，很容易理解为什么许多开发者对混合应用采取更为温和的态度，但使用跨平台开发工具创建的应用确实有其自身的缺点：

+   由于你不会对性能有太多控制，混合应用可能会表现不佳，这可能会影响用户体验和用户满意度。

+   某些界面元素难以或无法使用跨平台开发工具重现。

+   每个平台上的应用都有其特定的外观和感觉，除非你非常小心地模仿，否则用户会察觉到差异。

+   如前所述，与其他原生应用或服务的集成可能很困难，或者不可能。

+   最后，随着应用复杂性的增加，即使是混合开发者也可能需要具备一定程度的特定于原生的能力，以便在出现问题时有效地解决某些原生问题。

考虑到所有这些因素，有一些实际的现实情况说服了一些开发者选择混合应用。

# 不那么美好的真相——当你有明确目标时，一点混合应用并不会造成伤害

纯粹主义者可能不喜欢这一部分，但底线是我们在这里是为了在无论什么预算和时间框架下都能构建出优秀的应用。尽管原生主义者可能会宣扬一个或另一个平台，或者两个都宣扬，但当你有截止日期和有限的资金时，这种策略是行不通的。

当涉及到创建最小可行产品（MVP）时，你最重要的限制是最低限度，无论是从可行性还是从受欢迎程度来看。你需要达到一定的阈值，以便验证你的假设，赢得用户的青睐，并从你的经验中学习。

如果你有一个不切实际的“原生或无”的心态，将你的预算耗尽，那么你就无法做到这一点。这种思维方式实际上与精益方法相悖。完美主义和纯粹主义可能会在应用发布前阻碍它，增加成本，甚至完全失败，所有这些都是在将 MVP 推向市场并开始学习所需的时间内发生的。

如果你可以通过混合应用更快地将你的应用推向市场，那么你应该这样做。下游技术债务（来自将你的混合应用转换为纯原生应用）是可以接受的，只要在它给应用带来问题之前偿还债务。

如果你想在尽可能短的时间内构建最好的应用，那么你需要考虑所有可能性，包括混合应用。值得注意的是，混合应用可以并且确实取得了成功。Twitter、EverNote 和 TripCase 都是众所周知的例子，证明了混合应用即使在长期来看也是一个完全可行的方案。

# 做出最终决定 - 需要考虑的因素

之前，你已经针对你的受众、技术需求和技能水平回答了基本问题。然后，我们探讨了原生应用和混合应用的优点、缺点和能力。我们还打破了“原生或无”的神话，证明了混合应用可以提供一些非常实际的优势。现在，是时候回答一些具体、实际的问题，这些问题将帮助你决定哪种选择最适合你：

+   **应用技术需求的影响**：原生功能对你的应用是否至关重要？如果不是，仔细考虑采用混合方法所能带来的好处，例如缩短上市时间、节省成本和访问多个平台。

+   **上市速度要求**：你是否需要在 6 个月内进入市场？如果是这样，那么原生应用可能就不再是一个选项。

+   **可用性和功能**：应用的用户体验有多重要？尽管可用性爱好者和平面设计师可能会有不同意见，但再次强调，实用性胜过意识形态。原生应用当然能给你带来优势，但如果你可以用 20%的成本实现 80%的努力，那么你应该保持开放的心态。

+   **资源能力和预算**：这个预算应包括开发以及长期维护和技术债务。你是否有资源来完成这项工作，并且能否负担得起 iOS 和 Android 开发者？

+   **长期目标**：权衡你的当前需求和资源与你的长期目标。你未来是否需要本地化并从头开始重建你的代码库？规划可能的行动方案，并考虑这些长期和短期成本如何影响你的商业目标。

实际的决策应该每次都获胜。坚持您需要做的事情的事实，不要忘记您实际上能做的事情。不要专注于应用是如何开发的。相反，关注股东真正关心的事情——或者可能会关心的事情——即市场优势，如市场份额、市场机会、颠覆潜力以及知识产权。专注于构建优秀的应用，并遵循可用性、设计、性能和安全的最佳实践。

# 利用跨平台开发工具

![图片](img/6c09f953-93e2-4296-a685-dc6dac61e9fc.png)

市场上有许多跨平台开发工具。在本节中，我们将快速浏览一些最常见工具，并讨论它们的优缺点。

# Adobe PhoneGap

Adobe PhoneGap 是 Apache Cordova 的开源发行版。它不是一个应用开发框架，而是用于打包和发布在 HTML 5、CSS 和 JavaScript 等网络技术中构建的应用。它是 Adobe Creative Cloud 的一部分，并为其他混合选项提供类似的好处：

+   使用客户端网络语言编写核心代码库，并在一些最受欢迎的平台上进行原生发布。

+   没有原生经验的开发者可以将网络应用转换为原生应用。

+   有许多额外的工具可供选择，这些工具使得预览、构建和下载测试应用变得容易。

PhoneGap 的弱点与其他跨平台工具相一致：

+   其性能与原生应用不相上下。

+   图形功能不足，它无法提供原生外观或感觉。

+   如前所述，PhoneGap 不是一个框架。请记住，PhoneGap 并不会将代码翻译成本地语言，它只是将您的应用封装成原生包。

# Xamarin

Xamarin 是专门为在 Android、iOS、Windows 和 Mac 上构建 C# 应用而设计的。该公司于 2016 年初被微软收购，并利用其现有服务使其成为最具竞争力的跨开发工具之一。由于您的大部分应用将从一个共同的代码库构建，您肯定会节省时间和金钱。然而，一些代码，如 UI 和平台特定功能，需要以本地方式编写，因此不要期望效率提高四倍。

应用可以在 Visual Studio、Xamarin Studio（其自带的 IDE）和 Visual Studio for Mac 中开发。根据微软的说法，Xamarin 完全支持 Android 和 iOS SDKs，以及为原生 SDKs 开发的第三方控件或工具，并且该平台将随着新操作系统的发布保持最新。

在撰写本文时，学生、开源软件和独立开发者有免费选项，而专业用户和企业客户有更昂贵的选项。

# Appcelerator

Appcelerator 允许您使用 JavaScript 构建应用，并在任何设备上原生运行。其工具箱包括以下内容：

+   可视化应用设计器

+   构建 API 的框架

+   移动分析

与这里提到的其他工具一样，它提供了对原生 API 的直接访问，但应用程序在性能和图形方面仍存在某些限制。尽管 Appcelerator 价格合理，但一些开发者认为其中的错误使其不值得付出努力。

# 如何选择合适的工具

如果你决定尝试这些工具中的一种，第一步是研究。最好的开始方式是考虑本章中概述的需求和优先级。将你的需求和能力与市场上可用的工具的优缺点进行比较。由于数字生态系统变化如此之快，如果价格和质量存在差异，请不要感到惊讶。

这些只是 2017 年初市场上最受欢迎的几个跨平台开发工具。以下是一些其他值得探索的工具：

+   **Ionic**：这是一个开源的 HTML5 应用程序框架

+   **Sencha Ext JS**：这是用于构建数据密集型 HTML5 应用程序的

+   **Mobile Angular**：这是一个使用 Angular JS 和 Bootstrap 的移动 UI 框架

+   **Progress Telerik 平台**：这是一个适用于 iOS、Android 和 Windows 手机的开发平台

+   **Unity**：这是一个跨平台的游戏引擎，包括移动平台，但扩展性非常好

+   **Libgdx**：这是一个用于跨平台游戏开发的开源平台

如需了解这些工具的更多信息，请从它们网站上的文档开始。GitHub 包含了许多列出的工具的代码库。对于像 PhoneGap 和 Xamarin 这样的更受欢迎的工具，可以在在线教育网站上找到广泛的教程、课程和教程，例如 Pluralsight、Udemy 和 Lynda.com。

# 摘要

在本章中，我们从实用主义的角度探讨了混合和原生之间的争论。我们概述了你需要问的最关键的问题，以便确定最适合你和你的客户的方法。最后，我们简要介绍了市场上一些最受欢迎的跨平台工具，如果你决定使用混合应用程序开发来加速测试，这些工具应该能为你指明正确的方向。

在接下来的章节中，我们将探讨几种加快实验速度的方法，包括混合、入门策略和应用程序商店技巧。
