# 第八章 iOS 游戏开发的未来

在这本书的整个内容中，我们已经介绍了 iOS 8 的功能和最近关于 iOS 9 的公告。那么，iOS 游戏开发的未来会怎样呢？显然，没有人能预测未来会带来什么，但我们可以根据 iOS/Xcode 平台、编程以及整体游戏开发如何变化等方面的近期发展，猜测一些可能性。

# 更大的关注点在于函数式编程

到本书出版时，Swift 编程语言只有一年历史，但它代表了编程领域最近的一次范式转变。面向对象编程和设计仍然适用，但转向函数式编程是像 Scala 和 Swift 这样的语言所关注的焦点。简而言之，函数式编程关注的是函数作为对象的纯数学计算，避免了我们过去在 C++/Java 以及苹果自己的 Objective-C 中所看到的州变化和可变数据。与处理子例程不同，一个函数只对其给定的参数进行操作。Swift 通过其闭包做得很好，我们在本书中已经看到几次，并且经常用于压缩 iOS 游戏编程中的大量逻辑。

自从 *WWDC14* 以来，苹果公司已经告诉开发者，Swift 是 C 和 Objective-C 的继任者。这是一个从头开始完全重建的语言，其重点是速度和效率，这是游戏开发者必须始终利用的，也是为什么 Swift 现在成为 iOS 游戏开发前进方向上的首选语言。Objective-C 并不会消失，Swift 在能够完全接管 Objective-C 为 iOS 开发所做的一切之前，还需要一些成长。Swift 2.0 的更新从 iOS 9 开始，增加了更多的错误捕获和调试功能，例如 throw、catch 和 guard 关键字。幸运的是，我们不必放弃任何过去的 Objective-C 项目，因为通过使用 Objective-C/Swift 桥接文件，在同一个项目中使用 Swift 和 Objective-C 非常简单。

随着我们转向 iOS 的未来版本，期待更多的调试控制和 Swift 将详细逻辑压缩成几行的能力得到改进。Swift 的一些数据排序功能比 Objective-C 快，在游戏开发的世界里，任何帧率的提升都是好事。尽管 CPU/GPU 性能的进步和游戏开发框架（如 SpriteKit 和 SceneKit）的日益便捷，但如果忘记了游戏设计的工程方面，设计方面可能会成为一把双刃剑。最近游戏开发场景中提供的某些工具可以让几乎任何人成为游戏开发者。这是好事。我们希望各行各业的人都能成为游戏开发者，但我们不能让一些最近和未来的工具，使得 iOS 或其他平台上的游戏制作变得懒惰，并忘记这个行业中始终存在并始终存在的编程/工程方面。iOS 和其他游戏引擎的框架和可视化工具应该始终被视为工具，而不是拐杖。过去、现在和未来的最佳游戏将是那些充分利用游戏开发各个方面，尤其是游戏开发中最困难方面的游戏，比如图形管线。这就是为什么苹果通过 Metal API 深入 GPU 细节的原因。

# Apple Watch

自从 iOS 9 开始，Apple Watch 的平台已经通过 watchOS 2 进行了升级。目前，Apple Watch 通常不是一个游戏平台。不考虑小屏幕尺寸，为 Apple Watch 制作的 app 在制作类似游戏的图形更新方面并没有太多优势。在未来，这种情况可能会改变。目前，在 watchOS 中制作的 app 就像是主 iOS app 的子 app。最终，我们可以独立制作 watchOS app，而无需将其附加到父 iOS 项目中。然而，一些开发者已经为 Apple Watch 制作了简单的基于文本的游戏。未来，我们可能会为 Apple Watch 制作更多以动作为导向的游戏。

目前，通过一点创意，完全有可能制作一个使用手表作为配件数据（如库存、地图等）的游戏。我们可以用**Force Touch**来设计游戏或游戏控制，这是 Apple Watch 的一个特性。Force Touch 可以感知按下手势的力度。这并不是游戏设计整体上的新事物，但在 iOS 上，随着下一代的 iPhone 和 iPad 很可能也具备这一功能，这还是第一次。获取玩家的触摸和点击的力度可以允许一些直观的游戏玩法机制，适用于下一代的移动游戏。

关于 watchOS 可能激发的一些针对该设备的游戏开发想法，请查看[`www.apple.com/watchos-2-preview/`](https://www.apple.com/watchos-2-preview/)的 watchOS 2 预览页面。

# 基于组件的结构

在前几章中，我们看到了 iOS 已经传授了大量的基于组件的架构范式，以应对来自游戏开发独特的软件/编程需求。它不是构建一个从面向对象设计看到的庞大父子结构，而是构建一个通过宽度增长其结构的结构。例如，`GKEntity`、`GKComponent`和`GameplayKit`的其他方面等类，使我们能够利用这些功能。这种结构在游戏开发中并不算特别新颖。基于组件的架构已经被多平台游戏引擎，如 Unity 和 Unreal Engine 所使用，并且继续是我们这样的游戏开发者制作和重用游戏部分的方式。预计 Xcode 和 iOS 的未来更新将更多地利用这些功能。在不久的将来，我们可能会看到 Xcode 的外观和功能甚至更像这些游戏引擎，但具有专门为 iOS 设备制作的好处，允许更深入、更定制的集成。在 Xcode 和 iOS 框架中直接完成所有这些操作，允许即时访问 Apple 的功能，而无需使用付费资产工具或等待插件更新。下一代 iOS 游戏开发者将能够使用在一种游戏中制作的 AI 动作、角色能力、HUD 动画和其他功能，几乎可以立即为完全不同的游戏重用。基于组件的架构使得开发者能够通过将游戏设计置于典型开发障碍之前，构建一个可重用功能的库。

# 虚拟现实（VR）的兴起

这一直是苹果相对沉默的话题，而其他平台则相对活跃。即使是苹果 A7/A8 芯片的制造商三星，也通过其 GearVR 设备和与 Oculus 在项目上的合作加入了 VR 开发环境。谷歌创建了简单的 Cardboard 设置，类似于 GearVR，它只是让用户将智能手机放入设备或盒子中，以体验 VR 体验和游戏。最著名的是 Oculus Rift，它将在 2016 年第一季度推出消费版，并可能成为这个新游戏环境中的领跑者。

虚拟现实是一个在过去几十年中多次出现的话题。它来过又去，但到目前为止，它似乎正在获得其在技术领域应得的立足点。例如，Unity 游戏引擎最近才允许原生支持 VR。制作这些游戏的思维过程略有不同，并且尚未完全明确。可能很快苹果会加入这个领域。如果你还没有这样做，学习如何在 VR 空间中制作有趣的游戏可能是一种有远见的行动。

# 摘要

我们希望这本书中看到的讨论和教程能帮助你第一次学习平台，或者丰富你对 iOS 可能已经了解的知识。我们希望你能利用这些知识为 iOS 设备系列制作一些令人惊叹的游戏，并继续深入了解平台和整体游戏开发。

最后，始终记住，游戏设计和编程是计算机科学、工程、艺术和大量辛勤工作的结合。这是一个复杂的创意领域，它结合了从音乐制作到电影制作、2D 动画、3D 雕塑等其他所有创意职业。与其他创意领域一样，开发者永远不应该感到“完成”，并且应该谦逊地对待自己所知，并承认在这个不断发展的领域中总有更多东西要学习。就像电子游戏一样，接受挑战。当你回顾过去时，意识到你实际上已经从你所知的内容中提升了等级，并且总有更多的能力可以获取。
