# 前言

Cocos2d for iPhone 是一个强大但易于使用的 iPhone 2D 游戏框架。它是快速的、灵活的、免费的，并且经过 App Store 认证。超过 2500 款 App Store 游戏已经使用它，包括许多畅销游戏。您想将您的 Cocos2d 游戏开发技能提升到下一个层次，并在 Cocos2d 游戏设计中变得更加专业吗？

Cocos2d for iPhone 1 游戏开发食谱将帮助您达到下一个层次。您在这里将找到超过 90 个食谱，解释从单个精灵的绘制到人工智能路径查找和高级网络的一切。强调完整的工作示例。

从第一章 *图形* 开始，您将了解游戏开发的每一个主要主题。您将在书中找到简单和复杂的食谱。

每个食谱要么是解决常见问题（播放视频文件、加速度计转向）的方法，要么是酷炫的高级技术（3D 渲染、纹理多边形）。

这本食谱将使您能够通过其广泛的工作示例代码快速创建专业质量的 iOS 游戏。

# 本书涵盖的内容

第一章, *图形* 涵盖了广泛的主题。它首先从查看精灵的基本用途开始。然后提供了二维和三维基本绘图、视频播放、粒子效果、缓动动作、纹理填充多边形、调色板交换、光照、视差效果等示例。

第二章, *用户输入* 提供了在 iOS 游戏开发中通常使用的不同风格输入的示例。这包括点击、长按、拖动、按钮、方向盘、模拟摇杆、加速度计、捏合缩放和手势。

第三章, *文件和数据* 讨论了持久化数据的技术。这些包括 PLIST 文件、JSON 文件、XML 文件、NSUserDefaults、归档对象、SQLite 和 Core Data。

第四章, *物理* 涵盖了 Box2D 物理引擎的大量用途。示例包括调试绘图、碰撞响应、不同形状、拖动、物理属性、冲量、力、异步体销毁、关节、车辆、角色移动、子弹、绳索，最后是创建俯视等距游戏引擎。

第五章, *场景和菜单* 提供了用户界面实现的示例。它从涉及场景管理的示例开始，然后转向典型的 UI 元素，如标签、菜单、警告对话框和 UIKit 包装。然后它转向更高级的技术，如可拖动的菜单窗口、滚动菜单、滑动菜单、加载屏幕和缩略图。

第六章，*音频*，涵盖了广泛且难度各异的音频主题。这包括声音、音乐、音频属性、淡入淡出音频、游戏内示例、位置音频、音乐和对话的音量测量、录音、流媒体、播放 iPod 音乐、创建 MIDI 合成器、语音识别和文本到语音。

第七章，*人工智能与逻辑*，讨论了将智能 AI 角色添加到您的游戏中的技术。这包括处理航点、向移动目标发射弹丸、视线和利用 Boids 的群居行为。路径查找问题在四个独立的菜谱中解决：网格中的 A*路径查找、Box2D 世界、TMX 瓦片地图和侧滚动。最后，本章讨论了添加 Lua 脚本支持、动态加载脚本和使用 Lua 进行对话树。

第八章，*技巧、工具和端口*，提供了常用工具的示例用法，包括 Cocos2d-iPhone 测试平台、Zwoptex、Tiled、JSONWorldBuilder 和 CocosBuilder。它还讨论了使用 Cocos2d-X 将 Cocos2d 项目移植到 C++，以及使用 Cocos3d 开发 3D iOS 游戏。最后，它讨论了在 Apple App Store 上发布您的应用程序的过程。

# 您需要这本书什么

本书包含包含完全功能示例代码的项目。您需要以下内容来运行示例代码：

+   需要运行基于 Intel 的 Macintosh 电脑运行 Snow Leopard（OSX 10.6 或更高版本）。

+   XCode（建议 4.0 或更高版本）。

+   您必须注册为 iPhone 开发者才能在设备上测试示例项目。它们可以在 iPhone 模拟器中运行，无需上述注册。

# 这本书面向谁

如果您想将您的 Cocos2d 基础项目提升到下一个层次，那么这本书就是为您准备的。建议您对 Objective-C 和 Cocos2d 有一定的了解。具有一定编程经验的人也可能发现这本书很有用。

# 习惯用法

在本书中，您将找到许多不同风格的文本，以区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。

文本中的代码词如下所示："在本菜谱中，我们将介绍使用`CCSprite`、精灵表、`CCSpriteFrameCache`和`CCSpriteBatchNode`绘制精灵。"

代码块设置如下：

```swift
@implementation Ch1_DrawingSprites
-(CCLayer*) runRecipe {
/*** Draw a sprite using CCSprite ***/
CCSprite *tree1 = [CCSprite spriteWithFile:@"tree.png"];

```

任何命令行输入或输出都如下所示：

```swift
afconvert -f caff -d ima4 mysound.wav

```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的单词，例如在菜单或对话框中，将以如下方式显示："在**组与文件**下右键单击您的项目。"

### 注意

警告或重要提示将以这样的框显示。

### 小贴士

小技巧和技巧将以这样的形式出现。

# 读者反馈

我们始终欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大收益的标题非常重要。

要发送一般反馈，请简单地将电子邮件发送到`<feedback@packtpub.com>`，并在邮件主题中提及书籍标题。

如果您需要一本书并且希望我们出版，请通过[www.packtpub.com](http://www.packtpub.com)上的**建议标题**表单或通过电子邮件发送到`<suggest@packtpub.com>`给我们留言。

如果您在某个主题上具有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 书籍的骄傲拥有者，我们有多个方面可以帮助您从您的购买中获得最大收益。

有关 Cocos2d 的更多信息或任何问题，您可以登录到[www.Cocos2dCookbook.com](http://www.Cocos2dCookbook.com)。

## 下载示例代码

您可以从[`www.PacktPub.com`](http://www.PacktPub.com)的账户下载您购买的所有 Packt 书籍的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.PacktPub.com/support`](http://www.PacktPub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 勘误

尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/support`](http://www.packtpub.com/support)，选择您的书籍，点击**勘误提交表单**链接，并输入您的勘误详情来报告它们。一旦您的勘误得到验证，您的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的现有勘误列表中，在“勘误”部分下。您可以通过从[`www.packtpub.com/support`](http://www.packtpub.com/support)选择您的标题来查看任何现有勘误。

## 侵权

互联网上版权材料的侵权是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供疑似侵权材料的链接。

我们感谢您在保护我们的作者和我们为您提供有价值的内容方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，可以通过`<questions@packtpub.com>`联系我们，我们将尽力解决。
