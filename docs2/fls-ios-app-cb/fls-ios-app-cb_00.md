# 前言

iPhone 是一场革命。几乎每天，都有人发现它的创新用途，并在 App Store 中找到展示其作品的完美平台。它的成功使应用程序变得酷炫，并帮助将内容交付从浏览器中转移出来。Adobe 对此变化做出了反应，重新定位了 Flash 平台，并提供了从 Flash Professional 直接创建和发布原生 iOS 应用程序的所需工具。

**《Flash iOS 应用程序食谱》**是我自 AIR for iOS 诞生以来工作经验的结晶。我特别关注了基础知识，专注于许多新手觉得令人畏惧的底层工作。对于那些已经牢固掌握基础的人，还有很多东西可以学习，从与设备众多传感器的协作，到利用硬件加速最大化图形性能。

到这本书的结尾，你将掌握使用 Flash 编写和分发你自己的原生 iOS 应用程序所需的技能。我希望你能利用在这里学到的知识，创建出适合你即将成为其中一员的才华横溢且鼓舞人心的社区的美观应用。

# 本书涵盖内容

第一章，*iOS 应用程序开发入门*，将引导你通过成为注册 iOS 开发者的通常令人畏惧的过程。到本章结束时，你将拥有从 Flash Professional 发布原生 iOS 应用程序所需的必要文件。

第二章，*使用 Flash 构建 iOS 应用程序*，涵盖了配置 Flash Professional 并从其中发布原生 iOS 应用程序所需的一切。你还将学习如何安装应用程序在 iPhone 上进行测试。

第三章，*编写你的第一个应用程序*，将带你通过使用 Flash Professional 和适量的 ActionScript 构建和测试你的第一个 iOS 应用程序的步骤。还将探讨一些开发最佳实践。

第四章，*将 Flash 项目移植到 iOS*，将帮助你正确开始将桌面 Flash 项目转换为 iOS 的过程。你将学习如何在移动限制内工作，以及如何避免常常会削弱应用程序性能的常见陷阱。

第五章，*多点触控和手势支持*，将向你展示如何充分利用触摸屏。你将学习如何检测多个触摸点，并使用 ActionScript 对滑动、平移和捏合手势做出响应。

第六章，*图形和硬件加速*，为经常引起挫折的一个领域提供了宝贵的食谱。我们将介绍大幅提升应用程序帧率的强大技术，并学习 Flash 渲染管道的复杂性。有了这些知识，你将能够将你自己的作品中的图形性能推向极限！

第七章，*处理文本和虚拟键盘*，将帮助你通过探索 iOS 的虚拟键盘和原生文本输入控件的支持来适应没有物理键的生活。还将花费时间介绍 Flash 自己的文本引擎的相关功能。

第八章，*屏幕分辨率和方向变化*，详细介绍了如何在任何 iOS 设备上渲染内容，无论其屏幕分辨率或物理方向如何。还可以找到对高分辨率 Retina 显示器的支持，以及如何设置一个可以针对 iPhone、iPad 和 iPod touch 的通用应用程序的说明。

第九章，*地理位置和加速度计 API*，涵盖了利用设备 GPS 传感器和加速度计的食谱。学习如何制作位置感知的应用程序，响应物理方向的变化，以及检测震动。

第十章，*相机和麦克风支持*，将帮助你掌握 iOS 设备中内置的两种最受欢迎的传感器。通过相机，你将学习如何拍摄视频、捕捉照片以及访问图像库。本章将以介绍如何使用麦克风录制和播放音频结束。

第十一章，*渲染网页*，专注于网页内容的展示——无论是在你的应用程序内部直接展示，还是通过启动 Safari。它还涵盖了如何动态生成 HTML，浏览历史记录，以及捕获当前页面的快照。

第十二章，*处理视频和音频*，探讨了针对 iOS 时可用的大量 A/V 选项。除了利用 Flash 流行的 FLV 视频格式外，本章还将详细介绍如何利用硬件加速的 H.264 视频以实现最佳质量的高清播放。

第十三章，*连接性、持久性和 URI 方案*，解决了一些悬而未决的问题，从互联网连接开始。接下来，讨论了文件系统访问——这是本书中许多食谱所涉及的话题。本章的最后部分将介绍使用 URI 方案启动各种系统应用程序，包括邮件、YouTube、App Store 和地图。

*第十四章，使用本地扩展和 ADT*，详细介绍了如何使用命令行来利用 Flash Professional 直接未提供的 AIR for iOS 功能。具体来说，你将学习如何使用本地扩展来访问从 AIR SDK 中缺失的 iOS 特定 API。这一章节在书中没有出现，但可以通过以下链接免费下载：[`www.packtpub.com/sites/default/files/downloads/1383_Chapter14.pdf`](http://www.packtpub.com/sites/default/files/downloads/1383_Chapter14.pdf)

*第十五章，ActionScript 优化*，涵盖了可以应用于你项目 ActionScript 的各种宝贵的优化方法。你将看到即使是微小的改变也能提高应用程序的执行速度或改善其内存使用。这一章节在书中没有出现，但可以通过以下链接免费下载：[`www.packtpub.com/sites/default/files/downloads/1383_Chapter15.pdf`](http://www.packtpub.com/sites/default/files/downloads/1383_Chapter15.pdf)

*附录 A，Flash Professional CS5.5 特定食谱*，列出了本书中需要 Flash Professional CS5.5 和 AIR 2.6 或更高版本的食谱。这个附录在书中没有出现，但可以通过以下链接免费下载：[`www.packtpub.com/sites/default/files/downloads/1383_AppendixA.pdf`](http://www.packtpub.com/sites/default/files/downloads/1383_AppendixA.pdf)

*附录 B，ActionScript 优化度量*，提供了第十五章中详细描述的各种优化的结果。这个附录在书中没有出现，但可以通过以下链接免费下载：[`www.packtpub.com/sites/default/files/downloads/1383_AppendixB.pdf`](http://www.packtpub.com/sites/default/files/downloads/1383_AppendixB.pdf)

# 你需要为此书准备的内容

本书是为 Adobe Flash Professional CS5 或 CS5.5 的用户编写的。

大多数涵盖的食谱都与 CS5 和 CS5.5 兼容。然而，有些是特定于 CS5.5 的，需要 Adobe AIR SDK 的最新版本。

你还需要一部 iPhone、iPad 或 iPod touch。Flash Professional CS5.5 支持开发 iOS 4 或更高版本的移动应用，而 CS5 则提供了对运行 iOS 3 的旧设备的支持。

你可以使用 Mac OS X 的 Flash Professional 或 Microsoft Windows 来构建本机 iOS 应用。

# 这本书面向的对象

本书适用于具备 ActionScript 3.0 和 Flash Professional 实际操作知识的初学者和经验丰富的开发者。如果你想要利用现有的 Flash 技能来编写 iOS 应用，那么这本书将向你展示如何从基础知识开始。那些已经熟悉这些知识的用户可以直接跳到提供的更高级主题。

# 术语约定

在这本书中，您将找到多种文本样式，用于区分不同类型的信息。以下是一些这些样式的示例，以及它们含义的解释。

使用 Flash Professional 开发 iOS 应用通常被称为 AIR for iOS。然而，Flash Professional CS5 使用的是 iPhone OS 这个术语。本书将几乎全程使用 AIR for iOS 这个术语。

文本中的代码词如下所示：“将默认位置设置为`C:\OpenSSL-Win32."`

代码块如下设置：

```swift
public function Main() {
application = NativeApplication.nativeApplication;
application.systemIdleMode = SystemIdleMode.KEEP_AWAKE;
application.addEventListener(Event.ACTIVATE, activate);
application.addEventListener(Event.DEACTIVATE, deactivate);
}

```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```swift
public function Main() {
 application = NativeApplication.nativeApplication;
application.systemIdleMode = SystemIdleMode.KEEP_AWAKE; 
application.addEventListener(Event.ACTIVATE, activate);
application.addEventListener(Event.DEACTIVATE, deactivate);
}

```

任何命令行输入或输出都如下所示：

```swift
openssl genrsa -out mykey.key 2048 

```

**新术语**和**重要词汇**以粗体显示。您在屏幕上看到的单词，例如在菜单或对话框中，在文本中如下所示：“向下滚动页面，直到您看到如下截图所示的**加入 iOS 开发者计划**链接”。

### 注意

警告或重要提示以如下框的形式出现。

### 小贴士

小技巧和窍门如下所示。

# 读者反馈

我们欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大收益的标题非常重要。

要向我们发送一般反馈，只需发送一封电子邮件到`<feedback@packtpub.com>`，并在邮件的主题中提及书名。

如果您在某个主题上具有专业知识，并且您对撰写或为书籍做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

既然您已经自豪地拥有了一本 Packt 图书，我们有许多事情可以帮助您从购买中获得最大收益。

## 下载示例代码

您可以从您在[`www.PacktPub.com`](http://www.PacktPub.com)的账户下载您购买的所有 Packt 图书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.PacktPub.com/support`](http://www.PacktPub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 错误清单

尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果你在我们的书中发现错误——可能是文本或代码中的错误——如果你能向我们报告这个问题，我们将不胜感激。这样做可以帮助其他读者避免挫败感，并帮助我们改进本书的后续版本。如果你发现任何勘误，请通过访问[`www.packtpub.com/support`](http://www.packtpub.com/support)，选择你的书籍，点击**勘误提交表单**链接，并输入你的勘误详情来报告。一旦你的勘误得到验证，你的提交将被接受，勘误将被上传到我们的网站，或添加到该标题的勘误部分下的现有勘误列表中。任何现有的勘误都可以通过从[`www.packtpub.com/support`](http://www.packtpub.com/support)选择你的标题来查看。

## 盗版

在互联网上对版权材料的盗版是所有媒体中持续存在的问题。在 Packt，我们非常重视我们版权和许可证的保护。如果你在网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供涉嫌盗版材料的链接。

我们感谢你在保护我们的作者和我们提供有价值内容的能力方面提供的帮助。

## 问题

如果你在本书的任何方面遇到问题，可以通过`<questions@packtpub.com>`联系我们，我们会尽力解决。
