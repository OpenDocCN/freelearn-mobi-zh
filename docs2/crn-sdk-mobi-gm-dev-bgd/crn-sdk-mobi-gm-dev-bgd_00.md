# 前言

这本书旨在介绍你在 iOS 和 Android 平台上使用 Corona SDK 的基本标准。通过构建三个独特的游戏，你将增强你的学习体验。除了开发游戏，你还将深入了解社交网络集成、内购、盈利以及将你的应用程序发布到 App Store 和/或 Google Play Store。

# 本书涵盖内容

第一章, *开始使用 Corona SDK*，首先教用户如何在 Mac OSX 和 Windows 操作系统上安装 Corona SDK。你将学习如何仅用两行代码创建你的第一个程序。最后，我们将介绍构建和加载应用程序到 iOS 或 Android 设备的过程。

第二章, *Lua 快速入门与 Corona 框架*，深入探讨了用于在 Corona SDK 中开发的 Lua 编程语言。我们将介绍 Lua 中变量、函数和数据结构的基础。本章还将介绍如何在 Corona 框架中实现各种显示对象。

第三章, *构建我们的第一个游戏：Breakout*，讨论了构建第一个游戏 Breakout 的前半部分。我们将学习如何在 Corona 项目中结构化游戏文件并创建将在屏幕上显示的游戏对象。

第四章, *游戏控制*，继续介绍构建第一个游戏 Breakout 的后半部分。我们将涵盖游戏对象的移动以及场景中对象的碰撞检测。你还将学习如何创建一个计分系统，该系统将实现游戏的胜利和失败条件。

第五章, *为我们的游戏添加动画*，解释了如何使用电影剪辑和精灵表来为游戏添加动画。本章将深入探讨在创建新游戏框架时如何管理运动和过渡。

第六章, *播放声音和音乐*，提供了如何将声音效果和音乐应用到你的应用程序中的信息。在增强我们游戏开发的感觉体验方面，包含某种类型的音频是至关重要的。你将学习如何通过加载、执行和循环技术使用 Corona 音频系统来集成音频。

第七章, *物理：下落物体*，介绍了如何在 Corona SDK 中使用显示对象实现 Box2D 引擎。你将能够自定义身体构造并处理下落物体的物理行为。在本章中，我们将应用动态/静态身体的用途并解释后碰撞的目的。

第八章, *操作 Storyboard*，讨论了如何使用 Storyboard API 管理你所有的游戏场景。我们还将详细介绍菜单设计，例如创建暂停菜单和主菜单。此外，你还将学习如何在游戏中保存高分。

第九章, *处理多个设备和网络应用*，提供了关于将你的应用程序与社交网络如 Twitter 或 Facebook 集成的信息。还将讨论的其他社交功能包括使用 OpenFeint 集成成就和排行榜。这将使你的应用能够触及全球更广泛的受众。

第十章, *优化、测试和发布你的游戏*，解释了 iOS 和 Android 设备的应用程序提交流程。本章将指导你如何设置 App Store 的发布配置文件，并在 iTunes Connect 中管理你的应用信息。Android 开发者将学习如何为发布签名他们的应用程序，以便提交到 Google Play Store。

第十一章, *实现应用内购买*，介绍了通过创建消耗品、非消耗品或订阅购买来使你的游戏盈利。你将使用 Corona 的商店模块在 App Store 中应用应用内购买。我们将查看在设备上测试购买情况，以查看是否已使用沙盒环境应用了交易。

# 你需要为此书准备以下内容

在你开始使用 Corona SDK 为 Mac 开发游戏之前，你需要以下物品：

+   如果你正在安装 Corona for Mac OS X，请确保你的系统如下：

    +   Mac OS^® X 10.6 或更高版本

    +   运行 Snow Leopard 或 Lion 的基于 Intel 的系统

    +   64 位 CPU（Core 2 Duo）

    +   OpenGL 1.4 或更高版本的图形系统

+   你必须注册为苹果开发者计划成员

+   XCode

+   一个文本编辑器，如 TextWrangler、BBEdit 或 TextMate

在你开始使用 Corona SDK 为 Windows 开发游戏之前，你需要以下物品：

+   如果你正在运行 Microsoft Windows，请确保你的系统如下：

    +   Windows 7、Vista 或 XP 操作系统

    +   推荐使用 1 GHz 的处理器

    +   至少 38 MB 的磁盘空间（最小）

    +   至少 1 GB 的 RAM（最小）

    +   OpenGL 1.3 或更高版本的图形系统（大多数现代 Windows 系统都可用）

+   Java 6 SDK

+   一个文本编辑器，如 Notepad++或 Crimson Editor

如果你想要为 Android 设备提交和发布应用，你必须注册为 Google Play 开发者。

游戏教程需要与本书一起提供的资源文件，可以从 Packt 网站下载。

最后，你需要 Corona SDK 的最新稳定版本：版本 2011.704。这适用于测试驱动器和订阅者。

# 本书面向的对象

这本书是为任何想要尝试为 Android 和 iOS 创建商业成功游戏的人而写的。你不需要游戏开发或编程经验。

# 术语

在这本书中，你会发现一些经常出现的标题。

为了清楚地说明如何完成一个程序或任务，我们使用：

# 行动时间——标题

1.  动作 1

1.  动作 2

1.  动作 3

指示通常需要一些额外的解释，以便它们有意义，因此它们后面跟着：

## 刚才发生了什么？

这个标题解释了你刚刚完成的任务或指令的工作原理。

你还会在书中找到一些其他的学习辅助工具，包括：

## 快速问答——标题

这些是旨在帮助你测试自己理解的简短多项选择题。

## 尝试英雄——标题

这些设置了一些实际挑战，并为你提供了实验你所学内容的想法。

你还会发现许多不同风格的文本，以区分不同类型的信息。以下是一些这些风格的示例及其含义的解释。

文本中的代码词汇如下所示：“继续更改当前显示对象的值，`textObject."`。

代码块以如下方式设置：

```java
Hello World/ name of your project folder
Icon.png required for iPhone/iPod/iPad
Icon@2x.png required for iPhone/iPod with Retina display
main.lua

```

当我们希望将你的注意力引到代码块的一个特定部分时，相关的行或项目将以粗体显示：

```java
textObject = display.newText( "Hello World!", 50, 40, native.systemFont, 36 )
textObject:setTextColor( 124,252,0 )

```

任何命令行输入或输出都如下所示：

```java
--This is number 4

```

```java
--This is number 5

```

**新术语**和**重要词汇**以粗体显示。你会在屏幕上看到这些词汇，例如在菜单或对话框中，文本中显示如下：“一旦你这样做，在**Corona 模拟器**菜单栏下，选择**窗口** | **查看** | **iPhone 4"**。

### 注意

警告或重要注意事项以如下方式显示。

### 小贴士

小贴士和技巧看起来像这样。

# 读者反馈

我们读者的反馈总是受欢迎的。告诉我们你对这本书的看法——你喜欢什么或可能不喜欢什么。读者反馈对我们开发你真正能从中获得最大收益的标题非常重要。

要向我们发送一般反馈，只需发送电子邮件至`<feedback@packtpub.com>`，并在邮件主题中提及书名。

如果有一本书你需要并且希望我们出版，请通过[www.packtpub.com](http://www.packtpub.com)上的**建议书名**表单或发送电子邮件至`<suggest@packtpub.com>`联系我们。

如果你在一个主题上有专业知识，并且你对撰写或为书籍做出贡献感兴趣，请参阅我们关于[www.packtpub.com/authors](http://www.packtpub.com/authors)的作者指南。

# 客户支持

现在你已经是 Packt 图书的骄傲拥有者，我们有一些事情可以帮助你从购买中获得最大收益。

## 下载示例代码

您可以从[`www.PacktPub.com`](http://www.PacktPub.com)的账户下载您购买的所有 Packt 书籍的示例代码文件。如果您在其他地方购买了这本书，您可以访问[`www.PacktPub.com/support`](http://www.PacktPub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 错误更正

尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以避免其他读者感到沮丧，并帮助我们改进本书的后续版本。如果您发现任何错误更正，请通过访问[`www.packtpub.com/support`](http://www.packtpub.com/support)，选择您的书籍，点击**错误提交表单**链接，并输入您的错误更正详情。一旦您的错误更正得到验证，您的提交将被接受，错误更正将被上传到我们的网站，或添加到该标题的“错误更正”部分下的现有错误更正列表中。您可以通过从[`www.packtpub.com/support`](http://www.packtpub.com/support)选择您的标题来查看任何现有的错误更正。

## 盗版

在互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视保护我们的版权和许可证。如果您在互联网上发现任何我们作品的非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过发送电子邮件到`<copyright@packtpub.com>`并提供涉嫌盗版材料的链接与我们联系。

我们感谢您在保护我们的作者以及为我们提供有价值内容的能力方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，可以通过发送电子邮件到`<questions@packtpub.com>`与我们联系，我们将尽力解决。
