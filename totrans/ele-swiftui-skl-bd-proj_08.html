<html><head></head><body>
<div id="_idContainer164">
<h1 class="chapter-number" id="_idParaDest-120"><a id="_idTextAnchor402"/><span class="koboSpan" id="kobo.1.1">8</span></h1>
<h1 id="_idParaDest-121"><a id="_idTextAnchor403"/><span class="koboSpan" id="kobo.2.1">Watch Project – Fitness Companion Design</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In the previous six chapters, we have created various applications for our Apple devices. </span><span class="koboSpan" id="kobo.3.2">These chapters taught us how to set up projects for the iPhone, iPad, and Mac. </span><span class="koboSpan" id="kobo.3.3">They also demonstrated the design differences between small and large displays. </span><span class="koboSpan" id="kobo.3.4">In this chapter, we will be designing a fitness companion application for the Apple Watch. </span><span class="koboSpan" id="kobo.3.5">Due to the small screen size of the watch, we will need to simplify the design. </span><span class="koboSpan" id="kobo.3.6">We will assess the requirements and discuss the design specifications before starting the </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">coding process.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">Firstly, we will assess the requirements needed for designing a fitness companion application for the Apple Watch. </span><span class="koboSpan" id="kobo.5.2">We will then move on to discussing the design specifications, which will give us a better understanding of what is required and how it will all fit together. </span><span class="koboSpan" id="kobo.5.3">This will be followed by the coding process, where we will build the fitness app over the course of these two chapters. </span><span class="koboSpan" id="kobo.5.4">This project will cover the foundations of SwiftUI components. </span><span class="koboSpan" id="kobo.5.5">We will discuss all this in the </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">following sections:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.7.1">Understanding the </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">design specifications</span></span></li>
<li><span class="koboSpan" id="kobo.9.1">Building the </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">fitness app</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.11.1">In this chapter, we will gain a better understanding of the requirements and design of our application. </span><span class="koboSpan" id="kobo.11.2">The foundations we have established over the previous chapters in SwiftUI components, design, and Xcode navigation will serve as a strong starting point for the next chapter. </span><span class="koboSpan" id="kobo.11.3">Stay tuned for more progress as we continue to build upon </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">these foundations.</span></span></p>
<h1 id="_idParaDest-122"><a id="_idTextAnchor404"/><span class="koboSpan" id="kobo.13.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.14.1">This chapter requires you to download Xcode version 14 or above from Apple’s </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">App Store.</span></span></p>
<p><span class="koboSpan" id="kobo.16.1">To install it, just search for Xcode in the App Store, then select and download the latest version. </span><span class="koboSpan" id="kobo.16.2">Open Xcode and follow any additional installation instructions. </span><span class="koboSpan" id="kobo.16.3">Once Xcode has opened and launched, you’re ready </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">to go.</span></span></p>
<p><span class="koboSpan" id="kobo.18.1">Version 14 of Xcode has the </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">following features/requirements:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.20.1">Includes SDKs for iOS 16, iPadOS 16, macOS 12.3, tvOS 16, and </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">watchOS 9.</span></span></li>
<li><span class="koboSpan" id="kobo.22.1">Supports on-device debugging in iOS 11 or later, tvOS 11 or later, and watchOS 4 </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1">or later.</span></span></li>
<li><span class="koboSpan" id="kobo.24.1">Requires a Mac running macOS Monterey 12.5 </span><span class="No-Break"><span class="koboSpan" id="kobo.25.1">or later.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.26.1">You can download the sample code from the following GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">link: </span></span><a href="https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects"><span class="No-Break"><span class="koboSpan" id="kobo.28.1">https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects</span></span></a></p>
<p><a id="_idTextAnchor405"/><span class="koboSpan" id="kobo.29.1">In the next section, we will provide clarity on the specifications of our application’s design and look at mockups of what the app will </span><span class="No-Break"><span class="koboSpan" id="kobo.30.1">look like.</span></span></p>
<h1 id="_idParaDest-123"><a id="_idTextAnchor406"/><span class="koboSpan" id="kobo.31.1">Understanding the Design Specifications</span></h1>
<p><a id="_idTextAnchor407"/><span class="koboSpan" id="kobo.32.1">This section </span><a id="_idIndexMarker328"/><span class="koboSpan" id="kobo.33.1">outlines the design specifications for our </span><a id="_idIndexMarker329"/><span class="koboSpan" id="kobo.34.1">fitness companion application. </span><span class="koboSpan" id="kobo.34.2">Our goal is to implement features that will enhance the user experience. </span><span class="koboSpan" id="kobo.34.3">To achieve this, we have put ourselves in the user’s shoes to determine how they will use the app. </span><span class="koboSpan" id="kobo.34.4">We have then broken down the process into individual steps to identify the necessary features. </span><span class="koboSpan" id="kobo.34.5">By doing this, we can ensure that our fitness app will be user-friendly </span><span class="No-Break"><span class="koboSpan" id="kobo.35.1">and efficient.</span></span></p>
<p><a id="_idTextAnchor408"/><span class="koboSpan" id="kobo.36.1">In this section, we will look at the design specifications of our fitness companion application and describe the features we are going to implement. </span><span class="koboSpan" id="kobo.36.2">The best method for figuring out the features required is to put yourself in the user’s shoes to determine how they will use the app and break it down into </span><span class="No-Break"><span class="koboSpan" id="kobo.37.1">individual steps.</span></span></p>
<p><a id="_idTextAnchor409"/><span class="koboSpan" id="kobo.38.1">Our fitness application has been designed with several features to assist users in achieving their fitness goals. </span><span class="koboSpan" id="kobo.38.2">We are confident that our app will provide users with a seamless and effective </span><span class="No-Break"><span class="koboSpan" id="kobo.39.1">fitness experience.</span></span></p>
<p><span class="koboSpan" id="kobo.40.1">The features we </span><a id="_idIndexMarker330"/><span class="koboSpan" id="kobo.41.1">would like our app to have are </span><span class="No-Break"><span class="koboSpan" id="kobo.42.1">as follows:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.43.1">Current time</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.44.1">Active/workout time</span></span></li>
<li><span class="koboSpan" id="kobo.45.1">BPM (beats </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">per minute)</span></span></li>
<li><span class="koboSpan" id="kobo.47.1">Total </span><span class="No-Break"><span class="koboSpan" id="kobo.48.1">calories burned</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.49.1">Activity</span></span></li>
<li><span class="koboSpan" id="kobo.50.1">Views that can </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">be swiped</span></span></li>
<li><span class="koboSpan" id="kobo.52.1">Starting a </span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">new workout</span></span></li>
<li><span class="koboSpan" id="kobo.54.1">Pausing </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">a workout</span></span></li>
<li><span class="koboSpan" id="kobo.56.1">Ending </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">a workout</span></span></li>
<li><span class="koboSpan" id="kobo.58.1">Locking </span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">a workout</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.60.1">Goals</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.61.1">Different exercises</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.62.1">After </span><a id="_idIndexMarker331"/><span class="koboSpan" id="kobo.63.1">listing the ideal features, it is crucial to </span><a id="_idIndexMarker332"/><span class="koboSpan" id="kobo.64.1">determine which ones are mandatory. </span><span class="koboSpan" id="kobo.64.2">Understanding the end use of our product is key. </span><span class="koboSpan" id="kobo.64.3">For me, the purpose of creating this fitness companion app is to provide a solid foundation for adding more advanced functionality later. </span><span class="koboSpan" id="kobo.64.4">We will not be implementing all the features in the preceding list, as it would be beneficial to try and implement them on your own as extra tasks to put the concepts you’ve learned into practice. </span><span class="koboSpan" id="kobo.64.5">Therefore, the following are the core features we will </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">be implementing:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.66.1">Current time</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.67.1">Active/workout time</span></span></li>
<li><span class="koboSpan" id="kobo.68.1">BPM (beats </span><span class="No-Break"><span class="koboSpan" id="kobo.69.1">per minute)</span></span></li>
<li><span class="koboSpan" id="kobo.70.1">Total </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">calories burned</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.72.1">Activity</span></span></li>
<li><span class="koboSpan" id="kobo.73.1">Views that can </span><span class="No-Break"><span class="koboSpan" id="kobo.74.1">be swiped</span></span></li>
<li><span class="koboSpan" id="kobo.75.1">Starting a new </span><span class="No-Break"><span class="koboSpan" id="kobo.76.1">workout icon</span></span></li>
<li><span class="koboSpan" id="kobo.77.1">Pausing a </span><span class="No-Break"><span class="koboSpan" id="kobo.78.1">workout icon</span></span></li>
<li><span class="koboSpan" id="kobo.79.1">Ending a </span><span class="No-Break"><span class="koboSpan" id="kobo.80.1">workout icon</span></span></li>
<li><span class="koboSpan" id="kobo.81.1">Locking a </span><span class="No-Break"><span class="koboSpan" id="kobo.82.1">workout icon</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.83.1">Once you have finished reading this chapter and the following one, you will be ready to tackle the remaining features on your own. </span><span class="koboSpan" id="kobo.83.2">The next section will outline the acceptance criteria for our application, providing you with the necessary guidelines to ensure </span><span class="No-Break"><span class="koboSpan" id="kobo.84.1">its success.</span></span></p>
<h1 id="_idParaDest-124"><a id="_idTextAnchor410"/><span class="koboSpan" id="kobo.85.1">Acceptance criteria for our app</span></h1>
<p><span class="koboSpan" id="kobo.86.1">In this section, we will outline the </span><a id="_idIndexMarker333"/><span class="koboSpan" id="kobo.87.1">mandatory requirements for our application. </span><span class="koboSpan" id="kobo.87.2">These requirements are crucial for the end product and must be measurable. </span><span class="koboSpan" id="kobo.87.3">We need to ensure that these requirements are met to deliver a successful application. </span><span class="koboSpan" id="kobo.87.4">Let’s </span><span class="No-Break"><span class="koboSpan" id="kobo.88.1">get started:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.89.1">Current time – this will show the actual time as per your </span><span class="No-Break"><span class="koboSpan" id="kobo.90.1">time zone.</span></span></li>
<li><span class="koboSpan" id="kobo.91.1">Active/workout time – this will be a live timer that shows the current </span><span class="No-Break"><span class="koboSpan" id="kobo.92.1">workout time.</span></span></li>
<li><span class="koboSpan" id="kobo.93.1">BPM (beats per minute) – this label will be linked to a variable to show the user’s heartbeats </span><span class="No-Break"><span class="koboSpan" id="kobo.94.1">per minute.</span></span></li>
<li><span class="koboSpan" id="kobo.95.1">Total calories burned – this will display the calories burned and will be linked to the </span><span class="No-Break"><span class="koboSpan" id="kobo.96.1">calories variable.</span></span></li>
<li><span class="koboSpan" id="kobo.97.1">Activity – this will be used to display the current activity; for example, running, swimming, yoga, and </span><span class="No-Break"><span class="koboSpan" id="kobo.98.1">so on.</span></span></li>
<li><span class="koboSpan" id="kobo.99.1">Views that can be swiped – this will allow us to have two separate screens on a single page and expand it as our </span><span class="No-Break"><span class="koboSpan" id="kobo.100.1">needs increase.</span></span></li>
<li><span class="koboSpan" id="kobo.101.1">Starting a new workout – a button composed of an image and text item will allow the user to start </span><span class="No-Break"><span class="koboSpan" id="kobo.102.1">the workout.</span></span></li>
<li><span class="koboSpan" id="kobo.103.1">Pausing a workout icon – this button will also be composed of an image and text item that will be used to pause </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">the workout.</span></span></li>
<li><span class="koboSpan" id="kobo.105.1">Ending a workout icon – another button, similar to the previous two, will be used for ending </span><span class="No-Break"><span class="koboSpan" id="kobo.106.1">the workout.</span></span></li>
<li><span class="koboSpan" id="kobo.107.1">Locking a workout icon – finally, this button will be used for locking </span><span class="No-Break"><span class="koboSpan" id="kobo.108.1">the workout.</span></span></li>
</ul>
<p><a id="_idTextAnchor411"/><span class="koboSpan" id="kobo.109.1">To ensure the success of the application, it is </span><a id="_idIndexMarker334"/><span class="koboSpan" id="kobo.110.1">crucial to develop test cases that measure the acceptance criteria. </span><span class="koboSpan" id="kobo.110.2">These test cases should simulate real-life scenarios and conditions in which the end user will use the application. </span><span class="koboSpan" id="kobo.110.3">By doing so, we can accurately measure the performance level that needs to be obtained for the application to be considered successful. </span><span class="koboSpan" id="kobo.110.4">Therefore, creating detailed test cases or scenarios is necessary to ensure the application meets the </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">expected standards.</span></span></p>
<h1 id="_idParaDest-125"><a id="_idTextAnchor412"/><span class="koboSpan" id="kobo.112.1">Wireframe for our app</span></h1>
<p><span class="koboSpan" id="kobo.113.1">Wireframing is an essential </span><a id="_idIndexMarker335"/><span class="koboSpan" id="kobo.114.1">tool for designing layouts. </span><span class="koboSpan" id="kobo.114.2">It provides an overview of how the layout will look. </span><span class="koboSpan" id="kobo.114.3">The wireframe for the current activity in the fitness application is depicted in the </span><span class="No-Break"><span class="koboSpan" id="kobo.115.1">following figure:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer147">
<span class="koboSpan" id="kobo.116.1"><img alt="Figure 8.1 – Wireframe for our watch app" src="image/B18783_08_001.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.117.1">Figure 8.1 – Wireframe for our watch app</span></p>
<p><span class="koboSpan" id="kobo.118.1">The following figure shows the wireframe for the view that allows you to start, stop, and </span><span class="No-Break"><span class="koboSpan" id="kobo.119.1">pause activities:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer148">
<span class="koboSpan" id="kobo.120.1"><img alt="Figure 8.2 – Activity button wireframe" src="image/B18783_08_002.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.121.1">Figure 8.2 – Activity button wireframe</span></p>
<p><span class="koboSpan" id="kobo.122.1">We have now seen the </span><a id="_idIndexMarker336"/><span class="koboSpan" id="kobo.123.1">wireframes for our fitness application. </span><span class="koboSpan" id="kobo.123.2">These wireframes will serve as the initial foundation for building the UI of </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">our application.</span></span></p>
<p><span class="koboSpan" id="kobo.125.1">In the next section, we will construct the interface for our application and verify that it matches the design we created in the wireframe. </span><span class="koboSpan" id="kobo.125.2">While we will follow the same process, there may be minor discrepancies. </span><span class="koboSpan" id="kobo.125.3">Our primary focus will be on the initial view in this chapter, with the second view being addressed in the </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">subsequent chapter.</span></span></p>
<h1 id="_idParaDest-126"><span class="koboSpan" id="kobo.127.1">Bu</span><a id="_idTextAnchor413"/><span class="koboSpan" id="kobo.128.1">ilding the Fitness App</span></h1>
<p><span class="koboSpan" id="kobo.129.1">We</span><a id="_idTextAnchor414"/><span class="koboSpan" id="kobo.130.1"> will now build the </span><a id="_idIndexMarker337"/><span class="koboSpan" id="kobo.131.1">UI for the sidebar. </span><span class="koboSpan" id="kobo.131.2">First, let’s create our project. </span><span class="koboSpan" id="kobo.131.3">Follow </span><span class="No-Break"><span class="koboSpan" id="kobo.132.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.133.1">Open Xcode and select </span><strong class="bold"><span class="koboSpan" id="kobo.134.1">Create a new </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.135.1">Xcode Project</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer149">
<span class="koboSpan" id="kobo.137.1"><img alt="Figure 8.3 – Create a new Xcode project" src="image/B18783_08_003.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.138.1">Figure 8.3 – Create a new Xcode project</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.139.1">Now we will choose the </span><a id="_idIndexMarker338"/><span class="koboSpan" id="kobo.140.1">template for our application. </span><span class="koboSpan" id="kobo.140.2">As we are creating an Apple Watch application, we will select </span><strong class="bold"><span class="koboSpan" id="kobo.141.1">WatchOS</span></strong><span class="koboSpan" id="kobo.142.1"> from the top, then select </span><strong class="bold"><span class="koboSpan" id="kobo.143.1">App</span></strong><span class="koboSpan" id="kobo.144.1">, and </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.146.1">Next</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer150">
<span class="koboSpan" id="kobo.148.1"><img alt="Figure 8.4 – Xcode project template selection" src="image/B18783_08_004.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.149.1">Figure 8.4 – Xcode project template selection</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.150.1">We will now choose the options for our project. </span><span class="koboSpan" id="kobo.150.2">Here, there is only one crucial thing to select/set. </span><span class="koboSpan" id="kobo.150.3">Make sure </span><strong class="bold"><span class="koboSpan" id="kobo.151.1">Watch-only App</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.152.1">is selected:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer151">
<span class="koboSpan" id="kobo.153.1"><img alt="Figure 8.5 – Xcode project options" src="image/B18783_08_005.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.154.1">Figure 8.5 – Xcode project options</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.155.1">Once you press </span><strong class="bold"><span class="koboSpan" id="kobo.156.1">Next</span></strong><span class="koboSpan" id="kobo.157.1">, you can choose where to create your project, as seen in the </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">following figure:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer152">
<span class="koboSpan" id="kobo.159.1"><img alt="Figure 8.6 – Xcode project save directory" src="image/B18783_08_006.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.160.1">Figure 8.6 – Xcode project save directory</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.161.1">Once you have found the </span><a id="_idIndexMarker339"/><span class="koboSpan" id="kobo.162.1">location where you would like to create it, click </span><strong class="bold"><span class="koboSpan" id="kobo.163.1">Create</span></strong><span class="koboSpan" id="kobo.164.1"> in the bottom right. </span><span class="koboSpan" id="kobo.164.2">Xcode shows your project in all its glory, as seen in the </span><span class="No-Break"><span class="koboSpan" id="kobo.165.1">following figure:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer153">
<span class="koboSpan" id="kobo.166.1"><img alt="Figure 8.7 – New Xcode project overview" src="image/B18783_08_007.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.167.1">Figure 8.7 – New Xcode project overview</span></p>
<p><span class="koboSpan" id="kobo.168.1">In this</span><a id="_idTextAnchor415"/><span class="koboSpan" id="kobo.169.1"> section, we set up our WatchOS project. </span><span class="koboSpan" id="kobo.169.2">Now that we are all set up, we will implement the interface for the first page of our </span><span class="No-Break"><span class="koboSpan" id="kobo.170.1">fitness application.</span></span></p>
<h2 id="_idParaDest-127"><a id="_idTextAnchor416"/><span class="koboSpan" id="kobo.171.1">Activity Details</span></h2>
<p><span class="koboSpan" id="kobo.172.1">In this section, we will implement the </span><a id="_idIndexMarker340"/><span class="koboSpan" id="kobo.173.1">first page of the fitness application, which will represent the current activity details. </span><span class="koboSpan" id="kobo.173.2">As a reminder, refer to </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.174.1">Figure 8</span></em></span><em class="italic"><span class="koboSpan" id="kobo.175.1">.1</span></em><span class="koboSpan" id="kobo.176.1"> to see what it </span><span class="No-Break"><span class="koboSpan" id="kobo.177.1">looks like.</span></span></p>
<p><span class="koboSpan" id="kobo.178.1">There are five main elements to the current activity screen. </span><span class="koboSpan" id="kobo.178.2">As a little task, see whether you can figure out what they are. </span><span class="koboSpan" id="kobo.178.3">Don’t worry if you don’t know the exact UI component names; we will look at these components in the </span><span class="No-Break"><span class="koboSpan" id="kobo.179.1">following section.</span></span></p>
<h3><span class="koboSpan" id="kobo.180.1">Text</span></h3>
<p><span class="koboSpan" id="kobo.181.1">A </span><a id="_idTextAnchor417"/><span class="koboSpan" id="kobo.182.1">text component displays a </span><a id="_idIndexMarker341"/><span class="koboSpan" id="kobo.183.1">string of characters, numerals, or even icons, all of which can be used in conjunction with each other. </span><span class="koboSpan" id="kobo.183.2">For us, it will be used to display all five components </span><span class="No-Break"><span class="koboSpan" id="kobo.184.1">as follows:</span></span></p>
<ol>
<li><span class="No-Break"><span class="koboSpan" id="kobo.185.1">Current time:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer154">
<span class="koboSpan" id="kobo.186.1"><img alt="Figure 8.8 – Current time label" src="image/B18783_08_008.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.187.1">Figure 8.8 – Current time label</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.188.1">Activity </span><span class="No-Break"><span class="koboSpan" id="kobo.189.1">running time:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer155">
<span class="koboSpan" id="kobo.190.1"><img alt="Figure 8.9 – Activity time label" src="image/B18783_08_009.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.191.1">Figure 8.9 – Activity time label</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.192.1">Beats per </span><span class="No-Break"><span class="koboSpan" id="kobo.193.1">minute (BPM):</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer156">
<span class="koboSpan" id="kobo.194.1"><img alt="Figure 8.10 – BPM label" src="image/B18783_08_010.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.195.1">Figure 8.10 – BPM label</span></p>
<ol>
<li value="4"><span class="No-Break"><span class="koboSpan" id="kobo.196.1">Calories burned:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer157">
<span class="koboSpan" id="kobo.197.1"><img alt="Figure 8.11 – Calories label" src="image/B18783_08_011.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.198.1">Figure 8.11 – Calories label</span></p>
<ol>
<li value="5"><span class="No-Break"><span class="koboSpan" id="kobo.199.1">Current activity:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer158">
<span class="koboSpan" id="kobo.200.1"><img alt="Figure 8.12 – Current activity label" src="image/B18783_08_012.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.201.1">Figure 8.12 – Current activity label</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.202.1">Important no</span><a id="_idTextAnchor418"/><span class="koboSpan" id="kobo.203.1">te</span></p>
<p class="callout"><span class="koboSpan" id="kobo.204.1">To rename views, please refer to the </span><em class="italic"><span class="koboSpan" id="kobo.205.1">Renaming views</span></em><span class="koboSpan" id="kobo.206.1"> section in the previous chapter to revisit </span><span class="No-Break"><span class="koboSpan" id="kobo.207.1">the concept.</span></span></p>
<p><span class="koboSpan" id="kobo.208.1">In this section, we analyzed the acceptance criteria along with the requirements of our fitness companion application. </span><span class="koboSpan" id="kobo.208.2">We also broke down the wireframes, enabling us to determine how the application works and is structured. </span><span class="koboSpan" id="kobo.208.3">We will utilize this knowledge going forward into the </span><span class="No-Break"><span class="koboSpan" id="kobo.209.1">next section.</span></span></p>
<h1 id="_idParaDest-128"><span class="koboSpan" id="kobo.210.1">Implementing</span><a id="_idTextAnchor419"/><span class="koboSpan" id="kobo.211.1"> the Current Activity UI</span></h1>
<p><span class="koboSpan" id="kobo.212.1">In this section, we will </span><a id="_idIndexMarker342"/><span class="koboSpan" id="kobo.213.1">use the newly set up project to start the coding of our fitness watch application. </span><span class="koboSpan" id="kobo.213.2">We will implement the current activity UI, which will display the information for the </span><span class="No-Break"><span class="koboSpan" id="kobo.214.1">current activity.</span></span></p>
<p><span class="koboSpan" id="kobo.215.1">As we have created a fresh project, the coding standards aren’t in line with my personal preference. </span><span class="koboSpan" id="kobo.215.2">So, firstly, I will change the standards. </span><span class="koboSpan" id="kobo.215.3">Feel free to take a few moments to do </span><span class="No-Break"><span class="koboSpan" id="kobo.216.1">the same.</span></span></p>
<p><span class="koboSpan" id="kobo.217.1">If you run the newly created application as it is, you will notice that we already have the current time in the top right, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.218.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer159">
<span class="koboSpan" id="kobo.219.1"><img alt="Figure 8.13 – Default time" src="image/B18783_08_013.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.220.1">Figure 8.13 – Default time</span></p>
<p><span class="koboSpan" id="kobo.221.1">It’s great for us, as the time is already in place by default. </span><span class="koboSpan" id="kobo.221.2">There may be scenarios where you want to remove the time, but as we do not, we </span><a id="_idIndexMarker343"/><span class="koboSpan" id="kobo.222.1">can proceed. </span><span class="koboSpan" id="kobo.222.2">Now, we will move on to implementing the text items for the current activity. </span><span class="koboSpan" id="kobo.222.3">Implementing the remaining text items is actually very simple. </span><span class="koboSpan" id="kobo.222.4">Remove all the code within the VStack and add the </span><span class="No-Break"><span class="koboSpan" id="kobo.223.1">following labels:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.224.1">
var body: some View{
    VStack( )
    {
        Text( "00:10:44" )
        Text( "120 BPM" )
        Text( "110 Calories" )
        Text( "Running" )
    }
    .padding( )
}</span></pre>
<p><span class="koboSpan" id="kobo.225.1">This will result in the </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">following layout:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer160">
<span class="koboSpan" id="kobo.227.1"><img alt="Figure 8.14 – Text items added" src="image/B18783_08_014.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.228.1">Figure 8.14 – Text items added</span></p>
<p><span class="koboSpan" id="kobo.229.1">Firstly, we will set the alignment of the VStack to left-aligned, </span><span class="No-Break"><span class="koboSpan" id="kobo.230.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.231.1">
VStack( alignment: .leading )</span></pre> <p><span class="koboSpan" id="kobo.232.1">Though all the </span><a id="_idIndexMarker344"/><span class="koboSpan" id="kobo.233.1">content is present, it’s not dynamic or styled. </span><span class="koboSpan" id="kobo.233.2">First, we will make it dynamic. </span><span class="koboSpan" id="kobo.233.3">To do so, create five variables to store </span><span class="No-Break"><span class="koboSpan" id="kobo.234.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.235.1">Time counter – this will count up every second; it can be modified for more </span><span class="No-Break"><span class="koboSpan" id="kobo.236.1">frequent counting.</span></span></li>
<li><span class="koboSpan" id="kobo.237.1">Timer string – this will use the time counter and convert it into </span><span class="No-Break"><span class="koboSpan" id="kobo.238.1">00:00:00 format.</span></span></li>
<li><span class="koboSpan" id="kobo.239.1">BPM – this will store the </span><span class="No-Break"><span class="koboSpan" id="kobo.240.1">BPM number.</span></span></li>
<li><span class="koboSpan" id="kobo.241.1">Calories – this will store the number of calories burned during the </span><span class="No-Break"><span class="koboSpan" id="kobo.242.1">workout session.</span></span></li>
<li><span class="koboSpan" id="kobo.243.1">Activity – this will inform the user which workout </span><span class="No-Break"><span class="koboSpan" id="kobo.244.1">is active.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.245.1">The code for this is </span><span class="No-Break"><span class="koboSpan" id="kobo.246.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.247.1">
@State private var counter = 0@State private var timerString = "00:00:00"
@State private var bpm = 120
@State private var calories = 110
@State private var activity = "Running"</span></pre>
<p><span class="koboSpan" id="kobo.248.1">Next, we will create a timer that runs </span><span class="No-Break"><span class="koboSpan" id="kobo.249.1">every second:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.250.1">
let timer = Timer.publish(every: 1, on: .main, in: .common).autoconnect()</span></pre> <p><span class="koboSpan" id="kobo.251.1">Now, it is time to link these variables and the timer to the appropriate components. </span><span class="koboSpan" id="kobo.251.2">Firstly, add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.252.1">onReceive</span></strong><span class="koboSpan" id="kobo.253.1"> event to the timer text component, </span><span class="No-Break"><span class="koboSpan" id="kobo.254.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.255.1">
Text( timerString )    .onReceive( timer )
    { time in
        counter += 1
        let hours = counter / 3600
        let minutes = ( counter % 3600 ) / 60
        let seconds = counter % 3600 % 60
        timerString = String( hours ) + ":"
+ String( minutes ) + ":" +
String( seconds )
    }</span></pre>
<p><span class="koboSpan" id="kobo.256.1">Let’s take a look at what we just did. </span><span class="koboSpan" id="kobo.256.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.257.1">onReceive</span></strong><span class="koboSpan" id="kobo.258.1"> event takes the timer as the parameter, which is used to observe how often the published events are triggered by the timer. </span><span class="koboSpan" id="kobo.258.2">In each pass, we increment the counter by one, so the counter is the number of seconds elapsed. </span><span class="koboSpan" id="kobo.258.3">Then, we create constants for hours, minutes, and seconds. </span><span class="koboSpan" id="kobo.258.4">We do some simple mathematical calculations to figure out how many hours, minutes, and seconds the timer has been running. </span><span class="koboSpan" id="kobo.258.5">Finally, we will format our </span><strong class="source-inline"><span class="koboSpan" id="kobo.259.1">timerString</span></strong><span class="koboSpan" id="kobo.260.1"> to show </span><strong class="source-inline"><span class="koboSpan" id="kobo.261.1">hours:minutes:seconds</span></strong><span class="koboSpan" id="kobo.262.1">. </span><span class="koboSpan" id="kobo.262.2">Running the application will show the </span><span class="No-Break"><span class="koboSpan" id="kobo.263.1">following result:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer161">
<span class="koboSpan" id="kobo.264.1"><img alt="Figure 8.15 – Dynamically linked variables" src="image/B18783_08_015.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.265.1">Figure 8.15 – Dynamically linked variables</span></p>
<p><span class="koboSpan" id="kobo.266.1">You may notice that the time is </span><a id="_idIndexMarker345"/><span class="koboSpan" id="kobo.267.1">currently in the format of </span><strong class="source-inline"><span class="koboSpan" id="kobo.268.1">0:0:0</span></strong><span class="koboSpan" id="kobo.269.1">, not </span><strong class="source-inline"><span class="koboSpan" id="kobo.270.1">00:00:00</span></strong><span class="koboSpan" id="kobo.271.1">. </span><span class="koboSpan" id="kobo.271.2">Fixing this is super simple; we need to add a formatter onto each string to format it using two decimal places for the hours, minutes, and seconds. </span><span class="koboSpan" id="kobo.271.3">Update the </span><strong class="source-inline"><span class="koboSpan" id="kobo.272.1">timerString</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.273.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.274.1">
timerString = String( format: "%02d", hours ) + ":" + String( format: "%02d", minutes ) + ":" + String( format: "%02d", seconds )</span></pre> <p><span class="koboSpan" id="kobo.275.1">Now, the application will appear </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer162">
<span class="koboSpan" id="kobo.277.1"><img alt="Figure 8.16 – Formatted time﻿rString" src="image/B18783_08_016.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.278.1">Figure 8.16 – Formatted timerString</span></p>
<p><span class="koboSpan" id="kobo.279.1">It is looking better now. </span><span class="koboSpan" id="kobo.279.2">The BPM, calories, and current activity labels are all fine; we just need to modify the current activity time label. </span><span class="koboSpan" id="kobo.279.3">Three things need to be done: make it bigger, change the color to yellow, and add some padding below. </span><span class="koboSpan" id="kobo.279.4">Doing </span><a id="_idIndexMarker346"/><span class="koboSpan" id="kobo.280.1">all of this is simple. </span><span class="koboSpan" id="kobo.280.2">Modify the current activity time text item, </span><span class="No-Break"><span class="koboSpan" id="kobo.281.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.282.1">
Text( timerString )    .font( .title2 )
    .foregroundColor( Color.yellow )
    .padding( .bottom )
    .onReceive( timer ) …</span></pre>
<p><span class="koboSpan" id="kobo.283.1">Once we run the application, we will see we have completed the code for </span><span class="No-Break"><span class="koboSpan" id="kobo.284.1">this chapter.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer163">
<span class="koboSpan" id="kobo.285.1"><img alt="Figure 8.17 – Current activity time styled" src="image/B18783_08_017.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.286.1">Figure 8.17 – Current activity time styled</span></p>
<p><span class="koboSpan" id="kobo.287.1">In this section, </span><a id="_idTextAnchor420"/><span class="koboSpan" id="kobo.288.1">we implemented the current activity screen for our fitness companion application. </span><span class="koboSpan" id="kobo.288.2">You learned that even though Apple WatchOS is the newest of the four SDKs and seems difficult, it is just the same and very simple to use. </span><span class="koboSpan" id="kobo.288.3">In the next chapter, we will implement a swipe view to add the activity </span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">button screen.</span></span></p>
<h1 id="_idParaDest-129"><a id="_idTextAnchor421"/><span class="koboSpan" id="kobo.290.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.291.1">In this chapter, we covered the design of our fitness companion application. </span><span class="koboSpan" id="kobo.291.2">We looked at wireframes and broke each element down into SwiftUI components. </span><span class="koboSpan" id="kobo.291.3">We then implemented the SwiftUI components to match the design from the wireframes for the current activity screen. </span><span class="koboSpan" id="kobo.291.4">We also looked at the requirements and design specifications for building this application, then simplified it to the core features our app </span><span class="No-Break"><span class="koboSpan" id="kobo.292.1">will provide.</span></span></p>
<p><span class="koboSpan" id="kobo.293.1">Next, we designed our fitness companion app by creating wireframes and breaking down each element into SwiftUI components. </span><span class="koboSpan" id="kobo.293.2">We implemented these components to match the wireframe design for the current activity screen. </span><span class="koboSpan" id="kobo.293.3">We also reviewed the requirements and design specifications for building the app and simplified it to focus on the core features it will provide. </span><span class="koboSpan" id="kobo.293.4">There are always features that are nice to have but are inevitably cut from the first release, or what many call the </span><strong class="bold"><span class="koboSpan" id="kobo.294.1">MVP</span></strong><span class="koboSpan" id="kobo.295.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.296.1">minimum viable product</span></strong><span class="koboSpan" id="kobo.297.1">). </span><span class="koboSpan" id="kobo.297.2">This is effectively what we did. </span><span class="koboSpan" id="kobo.297.3">It is crucial to curb the scope to prevent it from becoming too large and out </span><span class="No-Break"><span class="koboSpan" id="kobo.298.1">of hand.</span></span></p>
<p><span class="koboSpan" id="kobo.299.1">In the next chapter, we’ll look at implementing the activity button screen for our fitness </span><span class="No-Break"><span class="koboSpan" id="kobo.300.1">companion application.</span></span></p>
</div>
</body></html>