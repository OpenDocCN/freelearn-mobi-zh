<html><head></head><body>
      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Getting Started with the List</h1>
            
         </header>
         
         
         <article>
            
            
            <p>When I started doing iOS development, I first worked with Table Views. At the time,
               Collection Views had not yet been introduced. As you progress in iOS development,
               you will work with a lot of Table and Collection Views. You begin with just the basics
               to get them going and then you slowly progress into more advanced Table and Collection
               Views.
            </p>
            
            <p>The reason that I bring this up is that, by the end of this chapter, you may feel
               as though things are not clicking. It is perfectly normal. But the more you go through
               the steps in these chapters, the more they will become second nature to you.
            </p>
            
            <p>For those of you that have not done iOS development, Table Views are great for presenting
               a list of data. The iPhone's mail app is an example of what a Table View typically
               looks like.
            </p>
            
            <p>In this chapter, we are going to work with our first Table View. In our <em>Let's Eat</em> app, users select a specific location to look for restaurants.
            </p>
            
            <p>We will cover the following in this chapter:</p>
            
            <ul>
               
               <li>Creating our first property list (plist)</li>
               
               <li>Creating our location data manager</li>
               
               <li>Cleaning up our file structure</li>
               
            </ul>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Creating our Location View Controller class</h1>
            
         </header>
         
         
         <article>
            
            
            <p>We want to get our data to display inside our Table View. Before we start, create
               three new folders inside the Location folder—Controller, View, and Model. As we have
               previously done, right-click on the <kbd>Location</kbd> folder and hit <span class="packt_screen">New Group</span> to create a new folder.
            </p>
            
            <p>Next, we need to create a Location View Controller class that we can use with our
               <kbd>UIViewController</kbd>:
            </p>
            
            <ol>
               
               <li>Right-click on the <kbd>Controller</kbd> folder you just created and select <span class="packt_screen">New File</span>.
               </li>
               
               <li>In the <span class="packt_screen">Choose a template for your new file</span> screen, select <span class="packt_screen">iOS</span> at the top and <span class="packt_screen">Cocoa Touch Class</span>. Then, hit <span class="packt_screen">Next</span>.
               </li>
               
               <li>In the <span class="packt_screen">Options</span> screen that appears, add the following:
               </li>
               
            </ol>
            
            <p style="padding-left: 60px">New file:</p>
            
            <ul>
               
               <li style="list-style-type: none">
                  
                  <ul>
                     
                     <li><span class="packt_screen">Class</span>: <kbd>LocationViewController</kbd></li>
                     
                     <li><span class="packt_screen">Subclass</span>: <kbd>UIViewController</kbd></li>
                     
                     <li><span class="packt_screen">Also create XIB</span>: Unchecked
                     </li>
                     
                     <li><span class="packt_screen">Language</span>: <kbd>Swift</kbd></li>
                     
                  </ul>
                  
               </li>
               
            </ul>
            
            <ol start="4">
               
               <li>Click on <span class="packt_screen">Next</span> and then <span class="packt_screen">Create</span>.
               </li>
               
            </ol>
            
            <p>Next, we need to connect our View Controller with our class:</p>
            
            <ol start="1">
               
               <li>Select <kbd>Locations.storyboard</kbd>.
               </li>
               
               <li>Then select the <span class="packt_screen">View Controller</span>.
               </li>
               
               <li>Now, in the Utilities panel, select the Identity inspector.</li>
               
               <li>Under <span class="packt_screen">Custom Class</span>, in the <span class="packt_screen">Class</span> drop-down menu, select <span class="packt_screen">LocationViewController</span> and hit <em>Enter</em>.
               </li>
               
            </ol>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Connecting our Table View with our Location View Controller</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Currently, we have no way to communicate with our Table View and our Location View
               Controller. Let's see how we can connect these two:
            </p>
            
            <ol>
               
               <li>Open the <kbd>LocationViewController.swift</kbd> file and add the following code after the class declaration:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">@IBOutlet weak var tableView:UITableView!</pre>
            <ol start="2">
               
               <li>Save the file by hitting c<em>md</em> + <em>S</em>. Your file should look like the following, with an empty circle next to the variable:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="55" src="assets/a0b32985-7dd5-4564-b35b-57d77cd5833b.png" width="323"/></div>
            
            <p>Before we get started, we are going to clean up our <kbd>LocationViewController.swift</kbd> file. Delete everything after <kbd>viewDidLoad()</kbd>:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="331" src="assets/98dcab8c-4a94-48d8-90ab-206be210b37e.png" width="520"/></div>
            
            <p>Next, let’s connect our table view to the file.</p>
            
            <ol>
               
               <li>Open <kbd>Explore.storyboard</kbd> again and make sure that you have the Location View Controller selected in the Outline
                  view.
               </li>
               
            </ol>
            
            <p> </p>
            
            <ol start="2">
               
               <li>Then, in the Utilities panel, select <span class="packt_screen">Connections inspector</span>. Under the <span class="packt_screen">Outlets</span> section, you will see an empty circle, <span class="packt_screen">tableView</span>:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="362" src="assets/de1aa60f-0a67-462e-af7f-3751df854d92.png" width="306"/></div>
            
            <p>Click and drag the empty circle to the Table View in the storyboard:</p>
            
            <div class="CDPAlignCenter CDPAlign"><img src="assets/ecd2a21c-46ab-49ee-994d-58e681bd751a.png"/></div>
            
            <p>We have now connected our Table View to our Location View Controller.</p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Digging into our Table View code</h1>
            
         </header>
         
         
         <article>
            
            
            <p>To get data into our Table View, we must conform to a protocol as we did with the
               Collection View. In this case, we must implement <kbd>UITableViewDataSource</kbd>:
            </p>
            
            <ol>
               
               <li>First, we need to update our <kbd>class</kbd> declaration. We currently have the following:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">class LocationViewController: UIViewController</pre>
            <ol start="2">
               
               <li>We now need to add <kbd>UITableViewDataSource</kbd>, as follows:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">class LocationViewController: UIViewController, UITableViewDataSource</pre>
            
            
            </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Adding the data source and delegate</h1>
            
         </header>
         
         
         <article>
            
            
            <p>As discussed in the previous chapter, we need to add a data source and delegate to
               our Table View. Table View uses <strong>dynamic cells</strong>, which we are required to add:
            </p>
            
            <ol>
               
               <li>Select <span class="packt_screen">Table View</span> in the Outline view, and then Connections inspector in the Utilities panel.
               </li>
               
               <li>Click on and drag from <kbd>dataSource</kbd> to the <span class="packt_screen">Location View Controller</span> in the Outline view:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="231" src="assets/c8015c23-88f1-47dc-ac65-784284b04580.png" width="635"/></div>
            
            <ol start="3">
               
               <li>Repeat with the <kbd>delegate</kbd> property:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="568" src="assets/3fc7d78b-217d-4d29-9b19-f4829aa07f51.png" width="574"/></div>
            
            <ol start="4">
               
               <li>In the Utilities panel, select the Attributes inspector, if not already selected,
                  and make sure you have the following values:
               </li>
               
            </ol>
            
            <ul>
               
               <li style="list-style-type: none">
                  
                  <ul>
                     
                     <li><span class="packt_screen">Style</span>: <kbd>Basic</kbd></li>
                     
                     <li><span class="packt_screen">Identifier</span>: <kbd>locationCell</kbd></li>
                     
                     <li><span class="packt_screen">Selection</span>: <kbd>Gray</kbd></li>
                     
                     <li><span class="packt_screen">Accessory</span>: <kbd>Disclosure indicator</kbd></li>
                     
                  </ul>
                  
               </li>
               
            </ul>
            
            <p>Next, for us to display anything in <kbd>Tableview</kbd>, we need to add the <kbd>UITableViewDataSource</kbd> protocol. Our protocol requires that we implement the following three methods. Add
               the following after the closing curly brace of <kbd>viewDidLoad()</kbd>:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img src="assets/46ecb8ae-0d7d-49f6-a9cf-6d60fd28c405.png"/></div>
            
            <p>Let's break down the code to understand what we are doing:</p>
            
            <ul>
               
               <li><strong>Part A</strong>: <span>This method tells our Table View how many rows we want to display.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">tableView(_:numberOfRowsInSection:)</pre>
            <ul>
               
               <li><strong>Part B</strong>: <span>Here, we tell our Table View that we want to display <kbd>15</kbd> rows.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">return 15</pre>
            <ul>
               
               <li><strong>Part C</strong>: <span>This method tells our Table View how many sections we want to display. Sections in
                     Table Views are typically used as headers, but they can be used however you choose.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">numberOfSections(in:)</pre>
            <ul>
               
               <li><strong>Part D</strong>: <span>We tell our Table View that we only want one section.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">return 1</pre>
            <ul>
               
               <li><strong>Part E</strong>: <span>Our third and final method gets called for every item we need. Therefore, in our case,
                     it gets called 15 times.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">tableView(_:cellForRowAt:)</pre>
            <ul>
               
               <li><strong>Part F</strong>: <span>Here, we create a cell every time <em>Part E</em> is called, either by taking one from the queue, if available, or by creating a new
                     cell. The identifier, <kbd>locationCell</kbd>, is the name we gave it in the storyboard. Therefore, we are telling our Table View
                     that we want to use this cell. If we had multiple Table Views, we would reference
                     the identifier for the row and section in which we want the cell to display.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">let cell = tableView.dequeueReusableCell(withIdentifier: "locationCell", for: indexPath) as UITableViewCell<br/>cell.textLabel?.text = "A cell"</pre>
            <p style="padding-left: 60px">Since we do not have any data yet, we set our label to <kbd>A cell</kbd>. The <kbd>textLabel</kbd> variable is the default label we got when we selected a basic cell.
            </p>
            
            <ul>
               
               <li><strong>Part G</strong>: <span>Finally, after each time we create a new cell, we give the cell back to the Table
                     View to display that cell.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">return cell</pre>
            <p style="padding-left: 60px">Let's build and run the project by hitting the Play button (or using <em>cmd</em> + <em>R</em>) to see what happens. You should now see <kbd>A cell</kbd> repeating 15 times:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="468" src="assets/60d51788-464d-46bd-b406-06fb9f72c58b.jpg" width="267"/></div>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Adding locations to our Table View</h1>
            
         </header>
         
         
         <article>
            
            
            <p>We now have our Table View displaying data, but we need it to display a list of actual
               locations. Let's update our Table View to show our list of locations:
            </p>
            
            <ol>
               
               <li>Directly under the <kbd>tableView</kbd> variable, add the following:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">let locations = ["Aspen", "Boston", "Charleston", "Chicago", "Houston", "Las Vegas", "Los Angeles", "Miami", "New Orleans", "New York", "Philadelphia", "Portland", "San Antonio", "San Francisco", "Washington District of Columbia"]</pre>
            <ol start="2">
               
               <li>Your file should now look like mine:</li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="278" src="assets/ec58a855-49a8-4584-b568-10712d502706.png" width="696"/></div>
            
            <ol start="3">
               
               <li>Next, to update our cell to display the locations, we need to replace the <kbd>cell.textLabel?.text = "A cell"</kbd> line with the following:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">cell.textLabel?.text = locations[indexPath.item]</pre>
            <p>Let's build and run the project by hitting the Play button (or using <em>cmd</em> + <em>R</em>). You should see the following after clicking <span class="packt_screen">Select a location in your simulator</span>:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="484" src="assets/18a23db4-9ceb-4189-96dd-d32235ce5348.jpg" width="276"/></div>
            
            <p>However, there are a couple of problems. If we add another location to the array,
               it crashes because we are manually setting the value. Also, we are just loading this
               list from an array we built in the app. If we decide to add more locations, we would
               have to update our cell number count as well as our list of locations. Therefore,
               we should instead pull our locations from a plist, as we did in the last chapter.
               Plists provide a place where we can quickly add or remove a location from our list.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Creating our first property list (plist)</h1>
            
         </header>
         
         
         <article>
            
            
            <p>In the last chapter, we used a provided plist to load our cuisine list. We will do
               the same in this chapter, but now that you are familiar with what a plist is, we will
               create one from scratch together.
            </p>
            
            <div>
               
               <p>I use plists all the time, from creating menus to having a file that holds app settings
                  such as colors or social media URLs. I find them very useful, especially if I need
                  to come back later and update or change things.
               </p>
               
            </div>
            
            <p>Let's learn how to create a plist from scratch. To create a plist in Xcode, do the
               following:
            </p>
            
            <ol>
               
               <li>Right-click on the <kbd>Model</kbd> folder inside <span class="packt_screen">Location</span> and select <span class="packt_screen">New File</span>.
               </li>
               
               <li>In <span class="packt_screen">Choose a template for your new file</span>, select <span class="packt_screen">iOS</span> at the top, and then type <kbd>Property</kbd> in the filter field:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="382" src="assets/2c251af0-61bd-4818-ac9d-e45e9e242525.png" width="528"/></div>
            
            <ol start="3">
               
               <li>Select <span class="packt_screen">Property List</span> and then hit <span class="packt_screen">Next</span>.
               </li>
               
               <li>Name the file <span class="packt_screen">Locations</span> and hit <span class="packt_screen">Create</span>.
               </li>
               
            </ol>
            
            <p>You should now have a file that looks like mine:</p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="99" src="assets/b55b32c8-d596-4b1b-aa70-917a61a60a57.png" width="562"/></div>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Adding data to our property list</h1>
            
         </header>
         
         
         <article>
            
            
            <p>As you learned in the previous chapter, our plist has a <kbd>Root</kbd>; for this new file, we created a <kbd>Dictionary</kbd> as our <kbd>Root</kbd> type. Since we are going to display a list of locations, we need our <kbd>Root</kbd> to be an <kbd>Array</kbd>:
            </p>
            
            <ol>
               
               <li>Click on <span class="packt_screen">Dictionary</span> in the plist and change it to <span class="packt_screen">Array</span>:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="80" src="assets/d82da426-1123-4af3-8663-68a5df73c625.png" width="599"/></div>
            
            <ol start="2">
               
               <li>You should see a plus next to <span class="packt_screen">Array</span> (if the plus button is not displaying, just hover your mouse over that line item
                  and it will appear):
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="96" src="assets/a2699eb7-ff5f-4cb0-9abe-6f5192b6aab2.png" width="406"/></div>
            
            <ol start="3">
               
               <li>Click on the plus button and it will add a new item with a String type. Change the
                  type to <span class="packt_screen">Dictionary</span>:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="80" src="assets/da6dec79-edcd-45f9-910b-465d05a97adb.png" width="406"/></div>
            
            <ol start="4">
               
               <li>Click on the plus button that appears when you hover over <span class="packt_screen">Item 0</span>.
               </li>
               
               <li>We now need to update the <span class="packt_screen">New Item</span><strong>.</strong> Update the <span class="packt_screen">Key</span> property to say state and update the <span class="packt_screen">Value</span> property of the new item by entering <span class="packt_screen">CO</span>:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="80" src="assets/c0b10a33-7d42-42c6-b145-e192ddbe5deb.png" width="405"/></div>
            
            <ol start="6">
               
               <li>Next, click on the plus button when you hover over state.</li>
               
               <li>Update the <span class="packt_screen">Key</span> property to say city and update the <span class="packt_screen">Value</span> property of the new item by entering Aspen:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="91" src="assets/ab0a6128-8f84-40bb-99f5-644aeed785da.png" width="377"/></div>
            
            <ol start="8">
               
               <li>Next, click on the disclosure arrow for <span class="packt_screen">Item 0</span> to close it:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="72" src="assets/183c5e4d-dfda-4cc5-a6b5-0b4672c5f459.png" width="393"/></div>
            
            <ol start="9">
               
               <li>Select Item 0 and then hit <em>cmd</em> + <em>C</em> to copy and then <em>cmd</em> + <em>V</em> to paste:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="76" src="assets/f760a93c-cf6c-468e-b670-4b9a2a12145a.png" width="366"/></div>
            
            <ol start="10">
               
               <li>Next, open up <span class="packt_screen">Item 1</span> and update the <span class="packt_screen">city</span> to <span class="packt_screen">Boston</span> and the <span class="packt_screen">state</span> to <span class="packt_screen">MA</span>:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="99" src="assets/af18427a-052a-4fa6-9f55-92118210ef14.png" width="309"/></div>
            
            <ol start="11">
               
               <li>Continue with the same process by adding the following cities and states:</li>
               
            </ol>
            
            <table>
               
               <tbody>
                  
                  <tr>
                     
                     <td>
                        
                        <p><strong>Key</strong></p>
                        
                     </td>
                     
                     <td>
                        
                        <p><strong>Type</strong></p>
                        
                     </td>
                     
                     <td>
                        
                        <p><strong>City</strong></p>
                        
                     </td>
                     
                     <td>
                        
                        <p><strong>State</strong></p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 2</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>Charleston</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>NC</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 3</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>Chicago</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>IL</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 4</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>Houston</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>TX</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 5</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>Las Vegas</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>NV</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 6</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>Los Angeles</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>CA</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 7</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>Miami</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>FL</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 8</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>New Orleans</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>LA</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 9</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>New York</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>NY</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 10</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>Philadelphia</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>PA</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 11</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>Portland</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>OR</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 12</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>San Antonio</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>TX</p>
                        
                     </td>
                     
                  </tr>
                  
                  <tr>
                     
                     <td>
                        
                        <p>Item 13</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>String</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>San Francisco</p>
                        
                     </td>
                     
                     <td>
                        
                        <p>CA</p>
                        
                     </td>
                     
                  </tr>
                  
               </tbody>
               
            </table>
            
            <p>When you are done, your file should look like mine:</p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="609" src="assets/755deccf-0195-4576-824d-e1e9924c1b5e.png" width="340"/></div>
            
            <p>We just set up our data source. We now need to create a data manager similar to the
               one that we made in the previous chapter:
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Creating our location data manager</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Let's create the <kbd>LocationDataManager</kbd> file:
            </p>
            
            <ol>
               
               <li>Right-click on the <kbd>Model</kbd> folder in the <kbd>Location</kbd> folder and select <span class="packt_screen">New File</span>.
               </li>
               
               <li>In <span class="packt_screen">Choose a template for your new file</span>, select <span class="packt_screen">iOS</span> at the top and then <span class="packt_screen">Swift File</span>. Then hit <span class="packt_screen">Next</span>. 
               </li>
               
               <li>Name this file <kbd>LocationDataManager</kbd>, and then hit <span class="packt_screen">Create</span>.
               </li>
               
               <li>We need to define our class definition now, so add the following under the <kbd>import</kbd> statement:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">class LocationDataManager {<br/>}</pre>
            <ol start="5">
               
               <li>Inside the class declaration, add the following variable to keep our array private,
                  as there is no reason to have to access this outside the class:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">private var locations:[String] = []</pre>
            <ol start="6">
               
               <li>Now, let's add the following methods after our variable:</li>
               
            </ol>
            <pre style="padding-left: 60px">init() {<br/>    fetch()<br/>}<br/><br/>func fetch() {<br/>    for location in loadData() {<br/>        if let city = location["city"] as? String,<br/>            let state = location["state"] as? String {<br/>            locations.append("\(city), \(state)")<br/>        }<br/>    }<br/>}<br/><br/>func numberOfItems() -&gt; Int {<br/>    return locations.count<br/>}<br/><br/>func locationItem(at index:IndexPath) -&gt; String {<br/>    return locations[index.item]<br/>}<br/><br/>private func loadData() -&gt; [[String: AnyObject]] {<br/>    guard let path = Bundle.main.path(forResource: "Locations", ofType: "plist"), let items = NSArray(contentsOfFile: path) else {<br/>        return [[:]]<br/>    }<br/>    return items as! [[String : AnyObject]]<br/>}</pre>
            <p>These methods are the same as we had in <kbd>ExploreDataManager</kbd>, except that we are getting back an array of dictionary objects from our plist.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Working with our data manager</h1>
            
         </header>
         
         
         <article>
            
            
            <p>We now need to update our <kbd>LocationViewController</kbd>.
            </p>
            
            <p>First, because we do not need it anymore, delete the following array that we created
               in the class: 
            </p>
            <pre>let locations = ["Aspen", "Boston", "Charleston", "Chicago", "Houston", "Las Vegas", "Los Angeles", "Miami", "New Orleans", "New York", "Philadelphia", "Portland", "San Antonio", "San Francisco", "Washington District of Columbia"]</pre>
            <p>Next, since we need to create an instance of our data manager in this class, add the
               following above <kbd>viewDidLoad()</kbd>:
            </p>
            <pre>let manager = LocationDataManager()</pre>
            <p>Inside <kbd>viewDidLoad()</kbd>, we want to fetch the data for the Table View, so add the following under <kbd>super.viewDidLoad()</kbd>:
            </p>
            <pre>manager.fetch()</pre>
            <p>Now, your <kbd>viewDidLoad()</kbd> should look like the following:
            </p>
            <pre>override func viewDidLoad()  {<br/>   super.viewDidLoad()<br/>   manager.fetch()<br/>}</pre>
            <p>For the <kbd>numberOfRowsInSection()</kbd> <span>method</span>, instead of <kbd>15</kbd> we will use the following:
            </p>
            <pre>manager.numberOfItems()</pre>
            <p>Lastly, we need to update our <kbd>cellForRowAt</kbd>. Replace <kbd>cell.textLabel?.text = arrLocations[indexPath.item]</kbd> with the following:
            </p>
            <pre>cell.textLabel?.text = manager.locationItem(at:indexPath)</pre>
            <p>Your <kbd>cellForRowAt</kbd> should now look like this:
            </p>
            <pre>func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell {<br/>   let cell = tableView.dequeueReusableCell(withIdentifier: "locationCell", for: indexPath) as UITableViewCell<br/>   cell.textLabel?.text = manager.locationItem(at:indexPath)<br/>   return cell<br/>}</pre>
            <p>Let's build and run the project by hitting the Play button (or using <em>cmd</em> + <em>R</em>). We should still see our locations, but now they are coming from our plist. Before
               we finish this chapter, our project navigator is a mess right now. We have files just
               in the main folder. Putting files into the main folder without any organization is
               not something you want to do. Let’s organize our files before we add any more.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Creating folders</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Creating folders is easy: all you have to do is right-click on the <kbd>LetsEat</kbd> folder, and you can create a new group. You can also select multiple files and put
               all of the selected items into a new group.
            </p>
            
            <p>We are going to create three folders first, called <kbd>Application</kbd>, <kbd>Misc</kbd>, and <kbd>Controllers</kbd>. When you are done you should see the following:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="444" src="assets/91c33558-05f5-45ea-885b-35b192224b35.png" width="258"/></div>
            
            <p>We are going to move <kbd>Info.plist</kbd>, <kbd>Assets.xcasset</kbd>, <kbd>App Delegate</kbd>, <kbd>LaunchScreen.storyboard</kbd>, and <kbd>Main.storyboard</kbd> all into the <kbd>Application</kbd> folder. You can <em>cmd</em> + click each and then drag them one at a time. When you are done, you should see
               the following:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="475" src="assets/b53ca43e-83a6-4815-8aa6-fb2de4db18ad.png" width="277"/></div>
            
            <p>Next, you want to create a folder for all of the View Controllers. Inside the <kbd>Controllers</kbd> folder, add the following folders: <kbd>Photo Filter</kbd>, <kbd>Restaurant Details</kbd>, <kbd>Review Form</kbd>, <kbd>Explore</kbd>, <kbd>Restaurants</kbd>, <kbd>Locations</kbd>, and <kbd>Map</kbd>. Then drag each storyboard file into each corresponding folder. Drag <kbd>ExploreData.plist</kbd>, <kbd>ExploreItem</kbd>, <kbd>ExploreCell</kbd>, and <kbd>ExploreDataManager</kbd> into the <kbd>Explore</kbd> folder. Then drag <kbd>RestaurantViewController</kbd> into the <kbd>Restaurants</kbd> folder. Finally, drag <kbd>LocationViewController</kbd>, <kbd>LocationDataManager</kbd>, and <kbd>Locations.plist</kbd> into the <kbd>Locations</kbd> folder. When you are done, you should have the following:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="450" src="assets/fe497fcc-f857-468f-9a07-75f99fc0c9e2.png" width="257"/></div>
            
            <div>
               
               <p>Even though we cleaned this area, I do not typically use it to open and find files
                  because it takes way too long. To open files, I always use <em>cmd</em> + <em>O</em> and type the name of the file. Opening and closing folders takes forever. You should
                  learn this shortcut as it will increase your workflow.
               </p>
               
            </div>
            
            <p>For now, this is good enough to move on. We could add more folders as we go, but this
               is a lot better than what we had before.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Summary</h1>
            
         </header>
         
         
         <article>
            
            
            <p>In this chapter, we worked with a Table View that has dynamic cells, which allows
               the Table View to change based on the data. We also worked with unwinding segues.
               Later, we passed data that we need through our segues. Along with segues, we looked
               at plists, learning how to create them as well as how to add data to them. Finally,
               we created our locations data manager, which is responsible for giving data to the
               View Controller.
            </p>
            
            <p>In the next chapter, we will work with a Table View that has static cells to build
               out our restaurant detail. Static cells are excellent for forms or detail views. We
               could build out the restaurant detail using a Collection View; however, a static Table
               View will work well and will be less complicated.
            </p>
            
            <p>At this point, before moving on to the next chapter, you may want to get the starter
               project for this chapter and try to do it again without using the book as your guide.
               Going back helps solidify your understanding of what you have learned.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   </body></html>