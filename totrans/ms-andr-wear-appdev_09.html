<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch09"/>Chapter 9.  Material Design </h1></div></div></div><div><blockquote class="blockquote"><p>
<em>"This world is but a canvas to our imagination."
                                                                 - Henry David Thoreau</em>
</p></blockquote></div><p>In this chapter, we provide a conceptual understanding of material design and touch upon a few key principles specific to wearable app design and development. We solidify our understanding by extending our <code class="literal">Todo</code> app from previous chapters to incorporate a navigation drawer that lets us switch between <code class="literal">Todo</code> categories and view items and perform actions specific to each category.</p><div><h3 class="title"><a id="note16"/>Note</h3><p>The code accompanying this chapter is available for reference on GitHub (<a class="ulink" href="https://github.com/siddii/mastering-android-wear/tree/master/Chapter_9">https://github.com/siddii/mastering-android-wear/tree/master/Chapter_9</a>). For the sake of brevity, only code snippets are included as needed. The reader is encouraged to download the referenced code from GitHub and follow along as they progress through the chapter.</p></div><div><div><div><div><h1 class="title"><a id="ch09lvl1sec56"/>Approaching material design</h1></div></div></div><p>Your primary resource to understanding material design is <a class="ulink" href="http://material.google.com">material.google.com</a>, which is the living online documentation outlining the tenets and principles of material design. It really ought to be bookmarked by any serious designer or developer enthused by material design.</p><p>While we encourage you to read through Google's documentation, we feel that it would not be terribly superfluous if we advanced an approach on how to think about material design. Our goal is to give you, as a reader interested in the material design philosophy, an intuitive and symbolic understanding of the paradigm. We hope that this brief introduction readies you with a mindset that will expedite your journey through the material design online documentation and stimulate a level of creativity that should leave you well-positioned to project your imagination onto tangible design ideas for your wearable apps.</p><p>This section is only intended for those of us who may be new to the idea and may need a primer that is hopefully sufficient to light a spark and get us thinking anew.</p><div><div><div><div><h2 class="title"><a id="ch09lvl2sec40"/>Interacting with the world</h2></div></div></div><p>We can go over a formal definition of material design, maybe even more than one. But, that would not be a good use of our time. Google's documentation does a great job at that and more. Rather than getting caught up in articulations of what material design is, let's step back and understand what exactly the motivation behind it is.</p><p>For our purposes, let us consider the scenario where you are at a coffee shop, sitting at a table. Take a look at the empty tabletop in the following figure:</p><p>
</p><div><img src="img/image00205.jpeg" alt="Interacting with the world"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Your tabletop has great potential to become your workspace. Let's call that potential <strong>affordance</strong>. The term affordance generally means a possibility of an action of an object or environment. For instance, looking at a steering wheel of a car, it is natural to think that it should be rotated to make it operational rather than pulled or pushed.</p><p>Let's spend a moment and study our workspace:</p><div><ul class="itemizedlist"><li class="listitem">It is flat</li><li class="listitem">It has clear boundaries; in this case, the continuous edge of the circle that defines the shape of our table</li><li class="listitem">In its initial state, it holds no objects</li></ul></div><p>Let's stop there and interact with our table a little bit. Here we go:</p><p>
</p><div><img src="img/image00206.jpeg" alt="Interacting with the world"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Now our table is not empty anymore. Let's continue with our observations:</p><div><ul class="itemizedlist"><li class="listitem">Objects that get on the table, stay on the table; they don't slide off by themselves, nor do they float away (thank you, gravity).</li><li class="listitem">Objects can be moved on the table subject to its bounds.</li><li class="listitem">Only objects that we care about are on the table. Objects that we don't care about, we tend to take them off the table. Do you see my notepad on there? Not yet, because I haven't cared about it enough.</li></ul></div><p>Let's change this:</p><p>
</p><div><img src="img/image00207.jpeg" alt="Interacting with the world"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Okay, this is starting to look a bit more familiar now. Here are some more observations:</p><div><ul class="itemizedlist"><li class="listitem">Objects share space if they need to be readily accessible.</li><li class="listitem">When an object has my attention, it is on top.</li><li class="listitem">At any given time, each object on the table occupies a specific (how should I say it) elevation depending on whether it is on top of everything else, at the bottom (that is, directly on the table), or between other objects.</li><li class="listitem">As the number of objects on the table increases, the affordance can increase. Affordance is a term used in <strong>Human Computer Interaction</strong> (<strong>HCI</strong>) to describe the possible actions a user can take while interacting with the objects.</li></ul></div><p>We can go on and on, making all sorts of intelligent observations about what is possible and what isn't with respect to our surface (the table) and the objects on it. What's important, however, is that all of these observations are completely unnecessary to our successful use of the table and the heap of objects we pile on to it to help us get through all our work, or play, as the case may be.</p><p>The reasons for this are likely more suited to a talk on HCI or more broadly, the fields of perceptive/cognitive/environmental psychology. All we need to understand and appreciate is that our intuitive understanding of how we use surfaces and interact with them can hold the key to a productive and efficient design of user interfaces.</p></div><div><div><div><div><h2 class="title"><a id="ch09lvl2sec41"/>A visual language</h2></div></div></div><p>The question to ask is how does all this help us design better user interfaces?</p><p>The designers at Google have distilled our knowledge of, and experience with, how we interact with surfaces in the real world into a set of tenets and principles collectively referred to as <strong>Material Design</strong>. These tenets and principles are laid out at <a class="ulink" href="http://material.google.com">material.google.com</a>, which should be our primary reference for all things material design.</p><div><h3 class="title"><a id="tip17"/>Tip</h3><p>What do we mean by the term material?</p><p>It is worth clarifying that when Google documentation uses the term <em>material</em>, it is essentially used to refer to any of the graphical objects in your visual design. These may be navigational objects, action bars, dialogs, and so on. Each material object you can interact with has dimensions (height and width), it is of a standard thickness, and it is located on an imaginary surface at a specific elevation (along the <em>z</em>-axis) in the three-dimensional space of the view in question.</p></div><p>To equip ourselves with an understanding of what material design is, it is required that we adopt a mindset necessary to material design thinking. Of course, the way we interact with the real world does not always translate directly to the way we interact with devices. But where there is an overlap, it must be exploited to employ the user's intuitive powers to further the usability of the system. Where our interaction with the real world is quite limited, software enriches the user experience by expanding the realm of possibilities to surpass that of the physical world, while at all times respecting and engaging user intuition.</p><p>As you read through the precepts at <a class="ulink" href="http://material.google.com">material.google.com</a>, you will come across detailed discussions of the following, to cite a few:</p><div><ul class="itemizedlist"><li class="listitem">The idea of material inspired by paper and ink</li><li class="listitem">Key light and ambient light as visual cues to elevation (shadow size and sharpness)</li><li class="listitem">The motion respects the user as the prime initiator of movement</li><li class="listitem">Each material object has three dimensions (<em>x</em>, <em>y</em>, and <em>z</em> coordinates) and always occupies a fixed z-axis position</li><li class="listitem">Objects are presented to the user as seamlessly as possible</li><li class="listitem">The rules of physics are respected</li><li class="listitem">When the rules are broken, they are broken intentionally, for instance, to capture the user's attention</li><li class="listitem">How objects can and should be manipulated and how they should not be</li><li class="listitem">Material motion and transformation</li><li class="listitem">Core iconography and typography</li><li class="listitem">Navigational components and patterns</li></ul></div><p>The adoption of material design philosophy in our design and development practices becomes even more important when working with apps for wearable devices where the form factor is decreased significantly, thereby increasing our usability challenges. Building upon these widely recognized metaphors is key to ensuring the usability and longevity of our wearable apps.</p><p>Now, let's write some code.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec57"/>To-do item menus</h1></div></div></div><p>Let's augment the <code class="literal">Today Todo</code> app with a powerful design metaphor—<em>navigation drawers</em>.</p><p>The first thing we need to do is add a <code class="literal">Todos</code> action to our <code class="literal">arrays.xml</code> file, as follows:</p><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt; 
&lt;resources&gt; 
  &lt;string-array name="actions"&gt; 
    &lt;item&gt;Day of Year&lt;/item&gt; 
    &lt;item&gt;On this day...&lt;/item&gt; 
    &lt;item&gt;Todos&lt;/item&gt; 
    &lt;item&gt;Step Count&lt;/item&gt; 
  &lt;/string-array&gt; 
&lt;/resources&gt; 
</pre><p>This is how it shows up on the list menus. Go ahead and click on the <code class="literal">Todos</code> menu item and we'll interact with the items in the following sections:</p><p>
</p><div><img src="img/image00208.jpeg" alt="To-do item menus"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Next, we will implement a menu for our <code class="literal">Todo</code> app using the <code class="literal">WearableNavigationDrawer</code> component from the Android Wear API. The menu will let us choose a different view (tab) corresponding to the type of to-do item (for example, home, work, and so on) and list to-do items of that type when the drawer tab is selected.</p><div><div><div><div><h2 class="title"><a id="ch09lvl3sec11"/>About the navigation drawer</h2></div></div></div><p>Navigation drawer is a material object accessible from a sheet that slides down from the top edge of the screen. A navigation drawer is ideally suited for apps that have multiple views. Pagination dots guide users between views through a left or right swipe.</p><p>Navigation drawers offer a feature whereby the content of each view becomes visible when the user scrolls to the top of the view. The drawer stays open for five seconds if idle, after which it is hidden.</p><p>Complementing the navigation drawer is an action drawer object that is accessible from a material sheet that slides up from the bottom edge of the screen. Swiping up reveals the action drawer that holds additional actionable content.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl2sec42"/>The TodosActivity class</h1></div></div></div><p>Implementing a navigation drawer involves creating a drawer layout using the <code class="literal">WearableDrawerLayout</code> class and adding to it a view that contains the main content of the screen. This primary view has child views that contain the contents of the drawer. The <code class="literal">TodosActivity</code> class will control navigation drawers and initialize drawer layouts:</p><pre class="programlisting">public class TodosActivity extends WearableActivity implements  WearableActionDrawer.OnMenuItemClickListener  
{ 
  private static final String TAG = TodosActivity.class.getName(); 
  private WearableDrawerLayout mWearableDrawerLayout; 
  private WearableNavigationDrawer mWearableNavigationDrawer; 
  private WearableActionDrawer mWearableActionDrawer; 
  private List&lt;TodoItemType&gt; todoItemTypes =  Arrays.asList(TodoItemType.HOME, TodoItemType.WORK); 
  private TodoItemType mSelectedTodoItemType; 
  private TodoItemTypeFragment mTodoItemTypeFragment; 
 
  @Override 
  protected void onCreate(Bundle savedInstanceState)  
  { 
    super.onCreate(savedInstanceState); 
    Log.d(TAG, "onCreate()"); 
    setContentView(R.layout.activity_todo_main); 
    setAmbientEnabled(); 
 
    //defaulted to Home todo item type 
    mSelectedTodoItemType = TodoItemType.HOME; 
 
    // Initialize content 
    mTodoItemTypeFragment = new TodoItemTypeFragment(); 
    Bundle args = new Bundle(); 
    args.putString(TodoItemTypeFragment.ARG_TODO_TYPE,  mSelectedTodoItemType.toString()); 
    mTodoItemTypeFragment.setArguments(args); 
    FragmentManager fragmentManager = getFragmentManager(); 
    fragmentManager.beginTransaction().replace(R.id.content_frame,  mTodoItemTypeFragment).commit(); 
 
    // Main Wearable Drawer Layout that wraps all content 
    mWearableDrawerLayout = (WearableDrawerLayout)  findViewById(R.id.drawer_layout); 
 
    //Top Navigation Drawer 
    mWearableNavigationDrawer = (WearableNavigationDrawer)  findViewById(R.id.top_navigation_drawer); 
 
    Log.i(TAG, "mWearableNavigationDrawer  = " +  mWearableNavigationDrawer); 
    mWearableNavigationDrawer.setAdapter(new  NavigationAdapter(this)); 
 
    // Peeks Navigation drawer on the top. 
    mWearableDrawerLayout.peekDrawer(Gravity.TOP); 
 
    // Bottom Action Drawer 
    mWearableActionDrawer = (WearableActionDrawer)  findViewById(R.id.bottom_action_drawer); 
    mWearableActionDrawer.setOnMenuItemClickListener(this); 
 
    // Peeks action drawer on the bottom. 
    mWearableDrawerLayout.peekDrawer(Gravity.BOTTOM); 
  } 
} 
</pre></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl2sec43"/>The TodoItemTypeFragment class</h1></div></div></div><p>The <code class="literal">TodoItemTypeFragment</code> class is an inner class of the <code class="literal">TodosActivity</code> activity and contains content for each type of to-do item. For the sake of simplicity, we show some static content (highlighted in the following code). Refer to <a class="link" title="Chapter 5. Synchronizing Data" href="part0041.xhtml#aid-173721">Chapter 5</a>, <em>Synchronizing Data</em>, for information on synchronizing data between wearable and handheld apps:</p><pre class="programlisting">public static class TodoItemTypeFragment extends Fragment  
{ 
  public static final String ARG_TODO_TYPE = "todo_type"; 
  TextView titleView = null; 
  TextView descView = null; 
  public TodoItemTypeFragment()  
  { 
    // Empty constructor required for fragment subclasses 
  } 
  @Override 
  public View onCreateView(LayoutInflater inflater, ViewGroup  container, Bundle savedInstanceState)  
  { 
    View rootView = inflater.inflate(R.layout.fragment_todo_item,  container, false); 
    titleView = (TextView)  rootView.findViewById(R.id.todo_card_title); 
    descView = (TextView)  rootView.findViewById(R.id.todo_card_desc); 
    String todoType = getArguments().getString(ARG_TODO_TYPE); 
    TodoItemType todoItemType = TodoItemType.valueOf(todoType); 
    updateFragment(todoItemType); 
    return rootView; 
  } 
  public void updateFragment(TodoItemType todoItemType)  
  { 
       titleView.setText(todoItemType.getTypeValue() + " Todos"); 
       //The following line is hardcoded on purpose for simplicity 
       descView.setText("List description"); 
    } 
} 
</pre><p>This is what the to-do item card will look like. Note that the <code class="literal">Home</code> to-do item is selected as default, as mentioned in the preceding code sample:</p><p>
</p><div><img src="img/image00209.jpeg" alt="The TodoItemTypeFragment class"/></div><p style="clear:both; height: 1em;"> </p><p>
</p></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl2sec44"/>The NavigationAdapter class</h1></div></div></div><p>Navigation adapter controls what's shown in a navigational state. We implement the <code class="literal">WearableNavigationDrawerAdapter</code> class to populate the contents of the navigation drawer:</p><pre class="programlisting">private final class NavigationAdapter extends WearableNavigationDrawer.WearableNavigationDrawerAdapter  
{ 
  private final Context mContext; 
  public NavigationAdapter(Context context)  
  { 
    mContext = context; 
  } 
 
  @Override 
  public int getCount()  
  { 
    return todoItemTypes.size(); 
  } 
 
  @Override 
  public void onItemSelected(int position)  
  { 
    Log.d(TAG, "WearableNavigationDrawerAdapter.onItemSelected():  " + position); 
    mSelectedTodoItemType = todoItemTypes.get(position); 
    String selectedTodoImage =  mSelectedTodoItemType.getBackgroundImage(); 
    int drawableId =  getResources().getIdentifier(selectedTodoImage, "drawable",  getPackageName()); 
    mTodoItemTypeFragment.updateFragment(mSelectedTodoItemType); 
  } 
 
  @Override 
  public String getItemText(int pos)  
  { 
    return todoItemTypes.get(pos).getTypeValue(); 
  } 
 
  @Override 
  public Drawable getItemDrawable(int position)  
  { 
    mSelectedTodoItemType = todoItemTypes.get(position); 
    String navigationIcon =  mSelectedTodoItemType.getBackgroundImage() 
    int drawableNavigationIconId =  getResources().getIdentifier(navigationIcon, "drawable",  getPackageName()) 
    return mContext.getDrawable(drawableNavigationIconId); 
  } 
} 
</pre></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl2sec45"/>Navigation item</h1></div></div></div><p>While on the <strong>Home Todos</strong> screen (if you recall, <code class="literal">Home</code> was the default type), let's swipe down from the top. As expected, the <code class="literal">Home</code> to-do type was pre-selected:</p><p>
</p><div><img src="img/image00210.jpeg" alt="Navigation item"/></div><p style="clear:both; height: 1em;"> </p><p>
</p></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl2sec46"/>The WearableDrawerLayout class</h1></div></div></div><p>The <code class="literal">activity_todo_main.xml</code> file contains the definition of the root drawer layout containing a top navigation drawer and a bottom action drawer. Take note of the menu layout highlighted:</p><pre class="programlisting">&lt;android.support.wearable.view.drawer.WearableDrawerLayout 
  android:id="@+id/drawer_layout" 
   
   
   
  android:layout_width="match_parent" 
  android:layout_height="match_parent" 
  android:background="@color/black" 
  tools:context=".TodosActivity" 
  tools:deviceIds="wear"&gt; 
 
  &lt;FrameLayout 
    android:layout_width="match_parent" 
    android:layout_height="match_parent" 
    android:id="@+id/content_frame"/&gt; 
 
&lt;android.support.wearable.view.drawer.WearableNavigationDrawer 
  android:id="@+id/top_navigation_drawer" 
  android:layout_width="match_parent" 
  android:layout_height="match_parent" 
  android:background="@color/light_grey" /&gt; 
 
&lt;android.support.wearable.view.drawer.WearableActionDrawer 
  android:id="@+id/bottom_action_drawer" 
  android:layout_width="match_parent" 
  android:layout_height="match_parent" 
  app:action_menu="@menu/action_todo_drawer_menu" 
  android:background="@color/dark_grey"/&gt; 
 
&lt;/android.support.wearable.view.drawer.WearableDrawerLayout&gt; 
</pre></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl2sec47"/>Menu items</h1></div></div></div><p>The <code class="literal">activity_todo_drawer_menu.xml</code> file contains the definitions of the individual drawers:</p><pre class="programlisting">&lt;menu &gt; 
  &lt;item android:id="@+id/menu_add_todo" 
  android:icon="@drawable/ic_add_to_list" 
  android:/&gt; 
 
  &lt;item android:id="@+id/menu_update_todo" 
  android:icon="@drawable/ic_todo_list" 
  android: /&gt; 
 
  &lt;item android:id="@+id/menu_clear_todos" 
 
  android:icon="@drawable/ic_clear_list" 
  android: /&gt; 
&lt;/menu&gt; 
</pre><p>While on the <code class="literal">Home Todos</code> index card (shown in a previous image), swiping from bottom to the top will show the action drawer:</p><p>
</p><div><img src="img/image00211.jpeg" alt="Menu items"/></div><p style="clear:both; height: 1em;"> </p><p>
</p></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl2sec48"/>Menu listener</h1></div></div></div><p>Clicking on individual menu items, we just display the toast message. Like we said earlier, we want to make the code concise and easily readable. Based on the chapters we covered earlier, we should have an understanding of how to perform data synchronization for these individual menu actions. We have used the <code class="literal">onMenuItemClick</code> class to perform the menu listener activity, shown as follows:  </p><pre class="programlisting">@Override 
public boolean onMenuItemClick(MenuItem menuItem)  
{ 
  Log.d(TAG, "onMenuItemClick(): " + menuItem); 
  final int itemId = menuItem.getItemId(); 
  String toastMessage = ""; 
  switch (itemId)  
  { 
    case R.id.menu_add_todo: 
    toastMessage = "Adding " +  mSelectedTodoItemType.getTypeValue() + " Todo"; 
    break; 
 
    case R.id.menu_update_todo: 
    toastMessage = "Updating " +  mSelectedTodoItemType.getTypeValue() + " Todo"; 
    break; 
 
    case R.id.menu_clear_todos: 
    toastMessage = "Clearing " +  mSelectedTodoItemType.getTypeValue() + " Todos"; 
    break; 
  } 
  mWearableDrawerLayout.closeDrawer(mWearableActionDrawer); 
  if (toastMessage.length() &gt; 0)  
  { 
    Toast toast = Toast.makeText(getApplicationContext(), toastMessage, Toast.LENGTH_SHORT); 
    toast.show(); 
    return true; 
  }  
  else  
  { 
    return false; 
  } 
} 
</pre><p>Clicking on the <strong>Add Todo</strong> option performs the following action:</p><p>
</p><div><img src="img/image00212.jpeg" alt="Menu listener"/></div><p style="clear:both; height: 1em;"> </p><p>
</p></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl2sec49"/>Switching to-do types</h1></div></div></div><p>Now if we pull the drawer down from the top edge of the screen and swipe from right to left, we switch to a different to-do item as shown in the following image, which in effect displays a new navigation item:</p><p>
</p><div><img src="img/image00213.jpeg" alt="Switching to-do types"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>If we pull the drawer back to the top, it has the effect of setting the navigation item to the current selection. This happens using the <code class="literal">onItemSelected</code> method of the <code class="literal">WearableActionDrawer.OnMenuItemClickListener</code> class implemented by the <code class="literal">TodosActivity</code> activity:</p><pre class="programlisting">@Override 
public void onItemSelected(int position)  
{ 
  Log.d(TAG, "WearableNavigationDrawerAdapter.onItemSelected(): "  + position); 
  mSelectedTodoItemType = todoItemTypes.get(position); 
  String selectedTodoImage =  mSelectedTodoItemType.getBackgroundImage(); 
  int drawableId = getResources().getIdentifier(selectedTodoImage,  "drawable", getPackageName()); 
  mTodoItemTypeFragment.updateFragment(mSelectedTodoItemType); 
} 
</pre><p>Here is what we see:</p><p>
</p><div><img src="img/image00214.jpeg" alt="Switching to-do types"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Pulling from bottom to top, we see the menu items such as <strong>Add Todo</strong>, <strong>Update Todo List</strong>, and <strong>Clear List</strong> again. Here is what we see when we click on the <strong>Clear List</strong> menu item:</p><p>
</p><div><img src="img/image00215.jpeg" alt="Switching to-do types"/></div><p style="clear:both; height: 1em;"> </p><p>
</p></div>
<div><div><div><div><h1 class="title"><a id="ch09lvl1sec58"/>Summary</h1></div></div></div><p>In this chapter, we obtained an intuitive understanding of what material design really is, and we explored several key principles relevant to Android Wear design and development. We implemented navigation drawers for our <code class="literal">Todo</code> app that add the ability to switch between to-do types and view the to-do items that perform actions specific to each type.</p></div></body></html>