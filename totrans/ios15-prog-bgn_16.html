<html><head></head><body>
		<div><h1 id="_idParaDest-189"><em class="italic"><a id="_idTextAnchor194"/>Chapter 13</em>: Getting Started with MVC and Collection Views</h1>
			<p>In the previous chapter, you modified the cells inside the <strong class="bold">Explore</strong> screen, the <strong class="bold">Restaurant List</strong> screen, and the <strong class="bold">Locations</strong> screen to match the app tour in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a><em class="italic">, Setting Up the User Interface</em>. You have completed the initial UI for the <em class="italic">Let's Eat </em>app, and this concludes <em class="italic">Part 2</em> of this book.</p>
			<p>This chapter begins <em class="italic">Part 3</em> of this book, where you will focus on the code that makes your app work. In this chapter, you will learn about the <strong class="bold">Model-View-Controller (MVC)</strong> design pattern and how the different parts of an app interact with one another. Then, you'll implement a collection view programmatically (which means implementing it using code instead of storyboards) using a playground, to understand how collection views work. Finally, you'll revisit the collection views you implemented in the <strong class="bold">Explore</strong> and <strong class="bold">Restaurant List</strong> screens, so you can see what the differences are between implementing them in storyboard and implementing them programmatically.</p>
			<p>By the end of this chapter, you'll understand the MVC design pattern, learn how a create a collection view controller programmatically and learn how to use collection view delegates and data source protocols.</p>
			<p>The following topics will be covered: </p>
			<ul>
				<li>Understanding the Model-View-Controller design pattern</li>
				<li>Exploring controllers and classes</li>
			</ul>
			<h1 id="_idParaDest-190"><a id="_idTextAnchor195"/>Technical requirements</h1>
			<p>The resource files and completed Xcode project for this chapter are in the <code>Chapter13 </code>folder of the code bundle for this book, which can be downloaded here:</p>
			<p><a href="https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition">https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition</a></p>
			<p>Take a look at the following video to see the code in action: </p>
			<p><a href="https://bit.ly/3wsOeCZ">https://bit.ly/3wsOeCZ</a></p>
			<p>Create a new playground and call it <code>CollectionViewBasics</code>. You can use this playground to type in and run all the code in this chapter as you go along. Before you do, let's take a look at the Model-View-Controller design pattern, an approach commonly used to write iOS apps.</p>
			<h1 id="_idParaDest-191"><a id="_idTextAnchor196"/>Understanding the Model-View-Controller design pattern</h1>
			<p>The <strong class="bold">Model-View-Controller</strong> (<strong class="bold">MVC</strong>) design <a id="_idIndexMarker628"/>pattern is a common approach used to build iOS apps. MVC divides an app into three different parts:</p>
			<ul>
				<li><strong class="bold">Model</strong>: This handles data storage and representation, and data processing tasks.</li>
				<li><strong class="bold">View</strong>: This includes all the things that are on the screen that the user can interact with.</li>
				<li><strong class="bold">Controller</strong>: This manages the flow of information between model and view.</li>
			</ul>
			<p>One notable feature of MVC is that view and model do not interact with one another; instead, all communication is managed by the controller.</p>
			<p>For example, imagine you're at a restaurant. You look at a menu and choose something you want. Then, a waiter comes, takes your order, and sends it to the cook. The cook prepares your order, and, when it is done, the waiter takes the order and brings it out to you. In this scenario, the menu is the view, the waiter is the controller, and the cook is the model. Also, note that all interactions between you and the kitchen are only through the waiter; there is no interaction between you and the cook.</p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">To find out more about MVC, go to <a href="https://en.wikipedia.org/wiki/Model-view-controller">https://en.wikipedia.org/wiki/Model–view–controller</a>.</p>
			<p>To see how MVC works, let's learn more about controllers and classes. You will see what it takes to implement a view controller that is required to manage a collection view, which is used<a id="_idIndexMarker629"/> in the <strong class="bold">Explore</strong> screen and the <strong class="bold">Restaurant List</strong> screen.</p>
			<h1 id="_idParaDest-192"><a id="_idTextAnchor197"/>Exploring controllers and classes</h1>
			<p>So far, you <a id="_idIndexMarker630"/>have<a id="_idIndexMarker631"/> implemented view controller scenes in <code>the Main storyboard file</code> using Interface Builder. You added <code>ExploreViewController</code>, a view controller that manages the collection view inside the <code>RestaurantListViewController</code>, a view controller that manages the collection view inside the <strong class="bold">Restaurant List</strong> screen, to your project. However, you still haven't learned how the code you added to each view controller works, so let's look at that now.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">You may wish to re-read <a href="B17469_10_Final_VK_ePub.xhtml#_idTextAnchor155"><em class="italic">Chapter 10</em></a>, <em class="italic">Building Your User Interface</em>, where you created the <code>ExploreViewController</code> class, and <a href="B17469_11_Final_VK_ePub.xhtml#_idTextAnchor171"><em class="italic">Chapter 11</em></a>, <em class="italic">Finishing Up Your User Interface</em>, where you created the <code>RestaurantListViewController</code> class.</p>
			<p>When a typical iOS app is launched, the view controller for the first screen to be displayed is loaded. The view controller has a <code>view</code> property, and automatically loads the view instance assigned to its <code>view</code> property. That view may have subviews, which are also loaded. If one of the subviews is a collection view, it will have <code>dataSource</code> and <code>delegate</code> properties. The <code>dataSource</code> property is assigned to an object that provides data to the collection view. The <code>delegate</code> property is assigned to an object that handles user interaction with the collection view. Typically, the view controller for the collection view will also be assigned to the collection view's <code>dataSource</code> and <code>delegate</code> properties. The method calls that a collection view will send to its view controller are declared in the <code>UICollectionViewDataSource</code> and <code>UICollectionViewDelegate</code> protocols. Remember that protocols only provide method declarations; the implementation of those method calls are in the view controller. The view controller will then provide the requested data for the collection view or handle the user interaction.</p>
			<p>Let's take<a id="_idIndexMarker632"/> a<a id="_idIndexMarker633"/> closer look at collection views and collection view protocols in the next section.</p>
			<h2 id="_idParaDest-193"><a id="_idTextAnchor198"/>Understanding collection views</h2>
			<p>A collection <a id="_idIndexMarker634"/>view displays an ordered collection of collection view cells using customizable layouts.</p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">To learn more<a id="_idIndexMarker635"/> about collection views, you can refer to <a href="https://developer.apple.com/documentation/uikit/uicollectionview">https://developer.apple.com/documentation/uikit/uicollectionview</a>.</p>
			<p>The layout for the collection view is dictated by <code>UICollectionViewFlowLayout</code>. It determines the flow direction and size of the elements in a collection view.</p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">To learn more<a id="_idIndexMarker636"/> about <code>UICollectionViewFlowLayout</code>, you can refer to <a href="https://developer.apple.com/documentation/uikit/uicollectionviewflowlayout">https://developer.apple.com/documentation/uikit/uicollectionviewflowlayout</a>.</p>
			<p>The data displayed by a collection view is normally provided by a view controller. A view controller providing data for a collection view must conform to the <code>UICollectionViewDataSource</code> protocol. This protocol declares a list of methods that tells the collection view how many cells to display and what to display in each cell. It also covers the creation and configuration of supplementary views (such as the collection view section header).</p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">To learn more<a id="_idIndexMarker637"/> about the <code>UICollectionViewDataSource</code> protocol, you can refer to <a href="https://developer.apple.com/documentation/uikit/uicollectionviewdatasource">https://developer.apple.com/documentation/uikit/uicollectionviewdatasource</a>.</p>
			<p>To provide user interaction, a view controller for a collection view must also conform to the <code>UICollectionViewDelegate</code> protocol, which declares a list of methods which are triggered when a user interacts with the collection view.</p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">To learn more<a id="_idIndexMarker638"/> about the <code>UICollectionViewDelegate</code> protocol, you can refer to <a href="https://developer.apple.com/documentation/uikit/uicollectionviewdelegate">https://developer.apple.com/documentation/uikit/uicollectionviewdelegate</a>.</p>
			<p>To understand how collection views work, you'll implement a view controller that controls a collection view in your <code>CollectionViewBasics</code> playground. You will then compare this with the implementation for the view controllers in the <strong class="bold">Explore</strong> and <strong class="bold">Restaurant List </strong>screens in the next section. As there is no storyboard in the playground, you can't add UI elements the way you have done in previous chapters. Instead, you will <a id="_idIndexMarker639"/>add them programmatically.</p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">Adding model objects to a collection view will be covered in the next chapter, <a href="B17469_14_Final_VK_ePub.xhtml#_idTextAnchor201"><em class="italic">Chapter 14</em></a><em class="italic">, Getting Data into Collection Views</em>.</p>
			<p>You'll start by creating the <code>CollectionViewExampleController</code> class, an implementation of a view controller that manages a collection view. After that, you'll create an instance of <code>CollectionViewExampleController</code> and make it display a collection view containing a single collection view cell in the playground's live view. Follow these steps:</p>
			<ol>
				<li>Open your <code>CollectionViewBasics</code> playground that you have created at the beginning of this chapter. At the very top of the playground, remove the <code>var</code> statement and add an <code>import PlaygroundSupport</code> statement. Your playground should now contain the following:<pre>import UIKit
<code>import</code> statement imports the API for creating iOS apps. The second statement enables the playground to display a live view, which you will use to display the collection view.</p></li>
				<li>Add the following code after the <code>import</code> statements to declare the <code>CollectionViewExampleController</code> class:<pre>class CollectionViewExampleController: UIViewController {
}</pre><p>This class is a subclass of <code>UIViewController</code>, a class that Apple provides to manage views on the screen.</p></li>
				<li>Add the following code inside the curly braces to add an optional property, <code>collectionView</code>, to the <code>CollectionViewExampleController</code> class:<pre>var collectionView: UICollectionView?</pre><p>An instance of a collection view will be assigned to this property later.</p></li>
				<li>Verify that your code looks like the following:<pre>class CollectionViewExampleController: UIViewController {
   var collectionView: UICollectionView?
}</pre></li>
			</ol>
			<p>In the next <a id="_idIndexMarker640"/>section, you'll learn how to set the number of cells for a collection view to display, and how to set the contents of each cell.</p>
			<h3>Conforming to the UICollectionViewDataSource protocol</h3>
			<p>A collection<a id="_idIndexMarker641"/> view displays a grid of collection view cells on the screen. However, before it can do this, it needs to know how many cells to display, and what to put in each cell. To provide this information to the collection view, you will make the <code>CollectionViewExampleController</code> class conform to the <code>UICollectionViewDataSource</code> protocol.</p>
			<p>This protocol has two required methods:</p>
			<ul>
				<li><code>collectionView(_:numberOfItemsInSection:)</code> is called by the collection view to determine how many collection view cells should be displayed.</li>
				<li><code>collectionView(_:cellForItemAt:)</code> is called by the collection view to determine what to display in each collection view cell.</li>
			</ul>
			<p>Let's add some<a id="_idIndexMarker642"/> code to make <code>CollectionViewExampleController</code> conform to the <code>UICollectionViewDataSource</code> protocol. Follow these steps:</p>
			<ol>
				<li value="1">To make <code>CollectionViewExampleController</code> adopt the <code>UICollectionViewDataSource</code> protocol, type a comma after the superclass declaration and then type <code>UICollectionViewDataSource</code>. When you are done, your code should look like the following:<pre>class CollectionViewExampleController: UIViewController<strong class="bold">, UICollectionViewDataSource</strong> {
   var collectionView:UICollectionView?
}</pre></li>
				<li>An error will appear because you have not yet implemented the two required methods. Click on the error icon:<div><img src="img/Figure_13.01_B17469.jpg" alt="Figure 13.1: Editing area showing error icon&#13;&#10;"/></div><p class="figure-caption">Figure 13.1: Editing area showing error icon</p></li>
				<li>The error message states that the required methods for the <code>UICollectionViewDataSource</code> protocol are missing. Click on the <strong class="bold">Fix</strong> button to add the required methods:<div><img src="img/Figure_13.02_B17469.jpg" alt="Figure 13.2: Error explanation and Fix button&#13;&#10;"/></div><p class="figure-caption">Figure 13.2: Error explanation and Fix button</p></li>
				<li>Verify that<a id="_idIndexMarker643"/> your code looks like the following:<pre>class CollectionViewExampleController: UIViewController, UICollectionViewDataSource {
<strong class="bold">   func collectionView(_ collectionView:</strong>
<strong class="bold">   UICollectionView, numberOfItemsInSection </strong>
<strong class="bold">   section: Int) -&gt; Int {</strong>
<strong class="bold">      code</strong>
<strong class="bold">   }</strong>
<strong class="bold">   func collectionView(_ collectionView: </strong>
<strong class="bold">   UICollectionView, cellForItemAt indexPath: </strong>
<strong class="bold">   IndexPath) -&gt; UICollectionViewCell{</strong>
<strong class="bold">      code</strong>
<strong class="bold">   }</strong>
   var collectionView:UICollectionView?
}</pre></li>
				<li>In a class definition, convention dictates that properties are declared at the top of the class, before any method declarations. Rearrange the code so that the <code>collectionView</code> property <a id="_idIndexMarker644"/>declaration is at the top, as follows:<pre>class CollectionViewExampleController: UIViewController, UICollectionViewDataSource {
   <strong class="bold">var collectionView:UICollectionView?</strong>
   func collectionView(_ collectionView:
   UICollectionView, numberOfItemsInSection 
   section: Int) -&gt; Int {
      code
   }</pre></li>
				<li>In <code>collectionView(_:numberOfItemsInSection:)</code>, click on the word <code>code</code> and type <code>1</code>. The completed method should look as follows:<pre>func collectionView(_ collectionView: 
UICollectionView, numberOfItemsInSection 
section: Int) -&gt; Int {
   <code>collectionView</code> instance to display a single collection view cell. Typically, the number of cells to be displayed will be provided by a model object. You will learn more about them in <a href="B17469_14_Final_VK_ePub.xhtml#_idTextAnchor201"><em class="italic">Chapter 14</em></a>, <em class="italic">Getting Data into Collection Views</em>.</p></li>
				<li>In <code>collectionView(_:cellForItemAt:)</code>, click on the word <code>code</code> and modify the method as follows:<pre>func collectionView(_ collectionView: 
UICollectionView, cellForItemAt indexPath: 
IndexPath) -&gt; UICollectionViewCell{
<strong class="bold">   let cell = collectionView.dequeueReusableCell</strong>
<strong class="bold">   (withReuseIdentifier: "BoxCell", for: indexPath)</strong>
<strong class="bold">   cell.backgroundColor = .red </strong>
<strong class="bold">   return cell</strong>
}</pre><p>Here is how this<a id="_idIndexMarker645"/> method works. Imagine you have 1,000 items to display in a collection view. You don't need 1,000 collection view cells; you only need just enough to fill the screen. Collection view cells that scroll off the top of the screen can be reused to display items that appear at the bottom of the screen. To make sure you are using the right type of cell, you use a reuse identifier to identify a cell type. The reuse identifier needs to be registered with the collection view, which you will do later. The next line of code sets the cell's background color to red, and the line after that returns the cell, which is then displayed on the screen. The process is repeated for the number of cells given in the first method, which, in this case, is 1.</p></li>
				<li>Verify that your <code>CollectionViewExampleController</code> class looks like the following:<pre>class CollectionViewExampleController: 
UIViewController, UICollectionViewDataSource {
   var collectionView: UICollectionView?
   func collectionView(_ collectionView:
   UICollectionView, numberOfItemsInSection 
   section: Int) -&gt; Int {
      1
   }
   func collectionView(_ collectionView: 
   UICollectionView, cellForItemAt indexPath: 
   IndexPath) -&gt; UICollectionViewCell{
      let cell = collectionView.dequeueReusableCell
      (withReuseIdentifier: "BoxCell", for: indexPath)
      cell.backgroundColor = .red 
      return cell
   }
}</pre></li>
			</ol>
			<p>You have completed the implementation of the <code>CollectionViewExampleController</code> class. In the next section, you'll learn how to create<a id="_idIndexMarker646"/> an instance of this class.</p>
			<h3>Creating a CollectionViewExampleController instance </h3>
			<p>Now that<a id="_idIndexMarker647"/> you have declared and defined the <code>CollectionViewExampleController</code> class, you will write a method to create an instance of it. Follow these steps:</p>
			<ol>
				<li value="1">Type in the following code after the <code>collectionView</code> variable declaration to declare a new method:<pre>func createCollectionView() {
}</pre><p>This declares a new method, <code>createCollectionView()</code> which you'll use to create an instance of a collection view and assign it to the <code>collectionView</code> property.</p></li>
				<li>Type in the following code after the opening curly brace to define the body of this method:<pre>self.collectionView = UICollectionView(
frame: CGRect(x: 0, y: 0, width: 
self.view.frame.width, height: 
self.view.frame.height),
collectionViewLayout: UICollectionViewFlowLayout())</pre><p>This creates a<a id="_idIndexMarker648"/> new collection view instance and assigns it to <code>collectionView</code>. The dimensions of this collection view are exactly the same as its enclosing view, with the default flow layout. The flow layout dictates the order the collection view cells are displayed, which is left to right.</p></li>
				<li>Go to the next line, and then type in the following code to set the collection view's <code>dataSource</code> property to an instance of <code>CollectionViewExampleController</code>:<pre>self.collectionView?.dataSource = self</pre><p>The <code>dataSource</code> property of a collection view will specify which object contains the implementation of the required <code>UIViewControllerDataSource</code> methods.</p></li>
				<li>Go to the next line, and then type in the following code to set the collection view's background color to white:<pre>self.collectionView?.backgroundColor = .white</pre></li>
				<li>Go to the next line, and then type in the following code to set the identifier for the collection view cells in the collection view to <code>BoxCell</code>:<pre>self.collectionView?.register(UICollectionViewCell.self, forCellWithReuseIdentifier:"BoxCell")</pre><p>This identifier will be used in the <code>collectionView(_:cellForItemAt:)</code> method to identify the type of collection view cells to be reused.</p></li>
				<li>Go to the next line, and then type in the following code to add the collection view as a subview to the view of the <code>CollectionViewExampleController</code> instance:<pre>self.view.addSubview(self.collectionView!)</pre><p>When an instance of a view controller is loaded into memory, its view is also loaded, along with any subviews. In this case, the <code>CollectionViewExampleController</code> instance will automatically load its view, and <a id="_idIndexMarker649"/>since the collection view is a subview of its view, the collection view will also be loaded.</p></li>
				<li>Verify that the completed method looks like the following:<pre>func createCollectionView() {
   self.collectionView = UICollectionView(frame:
   CGRect(x: 0, y: 0, width: self.view.frame.width,
   height: self.view.frame.height),
   collectionViewLayout: 
   UICollectionViewFlowLayout()) 
   self.collectionView?.dataSource = self
   self.collectionView?.backgroundColor = .white
   self.collectionView?.register(
   UICollectionViewCell.self, 
   forCellWithReuseIdentifier: "BoxCell")   
   self.view.addSubview(self.collectionView!)
}</pre></li>
			</ol>
			<p>Now you need a suitable place to call this method. View controllers have a <code>view</code> property. The view assigned to the <code>view</code> property will be automatically loaded when the view controller is loaded. After a view has been loaded successfully, the view controller's <code>viewDidLoad()</code> method will be called. You will override the <code>viewDidLoad()</code> method in your <code>CollectionViewControllerExample</code> class to call <code>createCollectionView()</code>. Follow these steps:</p>
			<ol>
				<li value="1">Type in the<a id="_idIndexMarker650"/> following code just before the <code>createCollectionView()</code> method:<pre>override func viewDidLoad(){ 
   super.viewDidLoad() 
   self.view.bounds = CGRect(x: 0, y: 0, width: 375,
   height: 667)
   createCollectionView()
}</pre><p>This sets the size of the live view, creates a collection view instance, assigns it to <code>collectionView</code> and adds it as a subview to the view of the <code>CollectionViewExampleController</code> instance. The collection view then calls the data source methods to determine how many collection view cells to display, and what to display in each cell. </p><p><code>collectionView(_:numberOfItemsInSection:)</code> returns <code>1</code>, so a single collection view cell will be displayed. </p><p><code>collectionView(_:cellForItemAt:)</code> creates the cell, sets the background color of the cell to red, and returns it for display.</p></li>
				<li>Verify that your completed playground looks like this:<pre>import UIKit
import PlaygroundSupport
class CollectionViewExampleController:
UIViewController, UICollectionViewDataSource{
   var collectionView: UICollectionView?
   override func viewDidLoad(){ 
      super.viewDidLoad()
      self.view.bounds = CGRect(x: 0, y: 0, 
      width: 375, height: 667)
      createCollectionView()
   }
   func createCollectionView(){
      self.collectionView = UICollectionView(frame:
      CGRect(x: 0, y: 0, width: self.view.frame.width,
      height: self.view.frame.height),
      collectionViewLayout: 
      UICollectionViewFlowLayout()) 
      self.collectionView?.dataSource = self
      self.collectionView?.backgroundColor = .white
      self.collectionView?.register(
      UICollectionViewCell.self,
      forCellWithReuseIdentifier: "BoxCell")
      self.view.addSubview(self.collectionView!)
   }
   func collectionView(_ collectionView: 
   UICollectionView, numberOfItemsInSection 
   section: Int) -&gt; Int {
      1
   }
   func collectionView(_ collectionView:
   UICollectionView, cellForItemAt indexPath: 
   IndexPath) -&gt; UICollectionViewCell {
      let cell = collectionView.dequeueReusableCell(
      withReuseIdentifier: "BoxCell", for: indexPath)
      cell.backgroundColor = .red 
      return cell
   }
}</pre></li>
				<li>Now it's time to<a id="_idIndexMarker651"/> see it in action. Type the following after all the other code in the playground:<pre>PlaygroundPage.current.liveView = CollectionViewExampleController()</pre><p>This command creates the instance of <code>CollectionViewExampleController</code> and displays its view in the playground's live view. The <code>createCollectionView()</code> method will create a collection view and add it as a subview to the <code>CollectionViewExampleController</code> instance's view, and it will appear on the screen.</p></li>
				<li>Run the playground. If you don't see a representation of the collection view on your screen, you will need to turn on the playground's live view. Click the Adjust Editor Options button:<div><img src="img/Figure_13.03_B17469.jpg" alt="Figure 13.3: Adjust Editor Options button&#13;&#10;"/></div><p class="figure-caption">Figure 13.3: Adjust Editor Options button</p></li>
				<li> Make<a id="_idIndexMarker652"/> sure that <strong class="bold">Live View</strong> is selected:<div><img src="img/Figure_13.04_B17469.jpg" alt="Figure 13.4: Adjust Editor Options menu with Live View selected&#13;&#10;"/></div><p class="figure-caption">Figure 13.4: Adjust Editor Options menu with Live View selected</p></li>
				<li>You will see<a id="_idIndexMarker653"/> the collection view displaying one red collection view cell in the live view:</li>
			</ol>
			<div><div><img src="img/Figure_13.05_B17469.jpg" alt="Figure 13.5: Playground live view showing collection view with one collection view cell&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 13.5: Playground live view showing collection view with one collection view cell</p>
			<p>You've just created a view controller for a collection view, created an instance of it and displayed a collection view in the playground's live view. Good job!</p>
			<p>In the next section, you'll revisit how collection view controllers are used in the <strong class="bold">Explore</strong> and <strong class="bold">Restaurant List</strong> screens, which you implemented in <a href="B17469_10_Final_VK_ePub.xhtml#_idTextAnchor155"><em class="italic">Chapter 10</em></a><em class="italic">, Building Your User Interface</em>, and <a href="B17469_11_Final_VK_ePub.xhtml#_idTextAnchor171"><em class="italic">Chapter 11</em></a><em class="italic">, Finishing Up Your User Interface</em>. Using what you have learned in <a id="_idIndexMarker654"/>this section as a reference, you should be able to understand how they work.</p>
			<h2 id="_idParaDest-194"><a id="_idTextAnchor199"/>Revisiting the Explore and Restaurant List screens</h2>
			<p>Remember <a id="_idIndexMarker655"/>the <code>ExploreViewController</code> class that you<a id="_idIndexMarker656"/> added in <a href="B17469_10_Final_VK_ePub.xhtml#_idTextAnchor155"><em class="italic">Chapter 10</em></a><em class="italic">, Building Your User Interface</em>, and the <code>RestaurantListViewController</code> class that you added in<em class="italic"> </em><a href="B17469_11_Final_VK_ePub.xhtml#_idTextAnchor171"><em class="italic">Chapter 11</em></a><em class="italic">, Finishing Up Your User Interface</em>? Both of these are examples of view controllers that manage a collection view. Note that the code in both of them is very similar to that in your playground. The differences are as follows:</p>
			<ul>
				<li>You set the cell background color programmatically in <code>collectionView(_:cellForItemAt:)</code>, instead of setting it in the Attributes inspector.</li>
				<li>You created and assigned the collection view to the <code>collectionView</code> property in <code>CollectionViewExampleController</code> programmatically. </li>
				<li>You set the dimensions of the collection view programmatically in <code>UICollectionView(frame: collectionViewLayout:)</code>, instead of using the Size inspector.</li>
				<li>You connected the data source outlet to the view controller programmatically, instead of using the Connections inspector.</li>
				<li>You set the background color of the collection view programmatically, instead of using the Attributes inspector.</li>
				<li>You set the reuse identifier for the collection view cell programmatically, instead of using the Attributes inspector.</li>
				<li>You added the collection view as a subview of the view for <code>CollectionViewExampleController</code> programmatically, instead of dragging in a <strong class="bold">Collection View</strong> object from the Library.</li>
			</ul>
			<p>Open the <code>LetsEat</code> project. Review <a href="B17469_10_Final_VK_ePub.xhtml#_idTextAnchor155"><em class="italic">Chapter 10</em></a><em class="italic">, Building Your User Interface </em>and <a href="B17469_11_Final_VK_ePub.xhtml#_idTextAnchor171"><em class="italic">Chapter 11</em></a><em class="italic">, Finishing Up Your User Interface,</em> once more, in order to compare and contrast the implementation of the collection view using the storyboard, and by doing the<a id="_idIndexMarker657"/> implementation programmatically as you have done in this <a id="_idIndexMarker658"/>chapter.</p>
			<h1 id="_idParaDest-195"><a id="_idTextAnchor200"/>Summary</h1>
			<p>In this chapter, you learned about the MVC design pattern and collection view controllers in detail. You then revisited the collection views used in the <strong class="bold">Explore</strong> and <strong class="bold">Restaurant List </strong>screens and learned how they work.</p>
			<p>You should now understand the MVC design pattern, how to create a collection view controller, and how to use the collection view data source protocol. This will enable you to implement collection view controllers for your own apps.</p>
			<p>Up to this point, you have set up the views and view controllers for the <code>ExploreViewController</code> instance so that it may be displayed by the collection view in the <strong class="bold">Explore</strong> screen.</p>
		</div>
	</body></html>