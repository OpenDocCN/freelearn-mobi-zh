<html><head></head><body>
<div id="_idContainer070">
<h1 class="chapter-number" id="_idParaDest-70"><a id="_idTextAnchor073"/><span class="koboSpan" id="kobo.1.1">5</span></h1>
<h1 id="_idParaDest-71"><a id="_idTextAnchor074"/><span class="koboSpan" id="kobo.2.1">Animating Colorful Kaleidoscope Effects </span></h1>
<p><span class="koboSpan" id="kobo.3.1">In this chapter, we will look at how we can animate colors with a modifier called </span><strong class="source-inline"><span class="koboSpan" id="kobo.4.1">hueRotation</span></strong><span class="koboSpan" id="kobo.5.1">, where “</span><a id="_idTextAnchor075"/><span class="koboSpan" id="kobo.6.1">hue” refers to the colors of the object, and “rotation” refers to the colors being rotated or animated. </span><span class="koboSpan" id="kobo.6.2">We will create a simple project that displays various images and then, using </span><strong class="source-inline"><span class="koboSpan" id="kobo.7.1">hueRotation</span></strong><span class="koboSpan" id="kobo.8.1">, we can change or shift the colors of the images so that they will resemble somewhat of a </span><span class="No-Break"><span class="koboSpan" id="kobo.9.1">kaleidoscope effect.</span></span></p>
<p><span class="koboSpan" id="kobo.10.1">Along with </span><strong class="source-inline"><span class="koboSpan" id="kobo.11.1">hueRotation</span></strong><span class="koboSpan" id="kobo.12.1">, there are some other important concepts we will explore in this project. </span></p>
<p><span class="koboSpan" id="kobo.13.1">We will work with a Picker view for the first time, which is exactly what the name suggests; it lets the user pick from a variety of options, which can then be displayed on the screen. </span></p>
<p><span class="koboSpan" id="kobo.14.1">Also, we will look at how to pass data bidirectionally to another view. </span><span class="koboSpan" id="kobo.14.2">If you remember the moving circle project in </span><a href="B18674_03.xhtml#_idTextAnchor048"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.15.1">Chapter 3</span></em></span></a><span class="koboSpan" id="kobo.16.1">, it was built inside one file and then within one view, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.17.1">ContentView</span></strong><span class="koboSpan" id="kobo.18.1">. </span><span class="koboSpan" id="kobo.18.2">In </span><a href="B18674_04.xhtml#_idTextAnchor060"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.19.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.20.1">, we built the record player using several files and then put those files together inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.21.1">ContentView</span></strong><span class="koboSpan" id="kobo.22.1">. </span><span class="koboSpan" id="kobo.22.2">In both of those projects, we didn’t pass any data from file to file or view to view; the views contained blocks of code that just needed to be called in the main </span><strong class="source-inline"><span class="koboSpan" id="kobo.23.1">ContentView</span></strong><span class="koboSpan" id="kobo.24.1">. </span><span class="koboSpan" id="kobo.24.2">But in this project, we will see how to pass data from different views using a special property wrapper </span><span class="No-Break"><span class="koboSpan" id="kobo.25.1">called </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.26.1">@Binding</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.28.1">So, let’s lay out the objectives before we </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">dive in:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.30.1">Adding the Binding variable </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">and images</span></span></li>
<li><span class="koboSpan" id="kobo.32.1">Adding a Picker control and using a </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.33.1">ForEach</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.34.1"> view</span></span></li>
<li><span class="koboSpan" id="kobo.35.1">Adding the variables and </span><span class="No-Break"><span class="koboSpan" id="kobo.36.1">background color</span></span></li>
<li><span class="koboSpan" id="kobo.37.1">Adding the Image view and using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.38.1">hueRotation</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.39.1"> modifier</span></span></li>
</ul>
<h1 id="_idParaDest-72"><a id="_idTextAnchor076"/><span class="koboSpan" id="kobo.40.1">Technical requirements </span></h1>
<p><span class="koboSpan" id="kobo.41.1">You can find the completed project and the images we will use in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.42.1">Chapter 5</span></strong></span><span class="koboSpan" id="kobo.43.1"> folder over on GitHub </span><span class="No-Break"><span class="koboSpan" id="kobo.44.1">at </span></span><a href="https://github.com/PacktPublishing/Animating-SwiftUI-Applications"><span class="No-Break"><span class="koboSpan" id="kobo.45.1">https://github.com/PacktPublishing/Animating-SwiftUI-Applications</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.46.1">.</span></span></p>
<h1 id="_idParaDest-73"><a id="_idTextAnchor077"/><span class="koboSpan" id="kobo.47.1">Adding the Binding variable and images</span></h1>
<p><span class="koboSpan" id="kobo.48.1">Okay, let’s get started. </span><span class="koboSpan" id="kobo.48.2">So, create a new</span><a id="_idIndexMarker280"/><span class="koboSpan" id="kobo.49.1"> Xcode project, give it a name, and we will </span><span class="No-Break"><span class="koboSpan" id="kobo.50.1">get underway.</span></span></p>
<p><span class="koboSpan" id="kobo.51.1">We will start by adding a new SwiftUI file to the project, which I’ll call </span><strong class="bold"><span class="koboSpan" id="kobo.52.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.53.1"> (you should be very </span><a id="_idIndexMarker281"/><span class="koboSpan" id="kobo.54.1">familiar with the process of adding new files as you've done it several times now). </span><span class="koboSpan" id="kobo.54.2">Then within the struct, add a variable called </span><strong class="source-inline"><span class="koboSpan" id="kobo.55.1">selectedImage</span></strong><span class="koboSpan" id="kobo.56.1">, and make it of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.57.1">String</span></strong><span class="koboSpan" id="kobo.58.1"> type. </span><span class="koboSpan" id="kobo.58.2">We will prefix this variable with the </span><strong class="bold"><span class="koboSpan" id="kobo.59.1">@Binding</span></strong><span class="koboSpan" id="kobo.60.1"> wrapper, as shown</span><a id="_idIndexMarker282"/><span class="koboSpan" id="kobo.61.1"> here: </span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.62.1">
struct ImagePickerView: View { 
    @Binding var selectedImage: String 
    var body: some View { 
        Text("Hello World") 
    } 
} </span></pre>
<p><span class="koboSpan" id="kobo.63.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.64.1">@Binding</span></strong><span class="koboSpan" id="kobo.65.1"> property wrapper is used to create a two-way binding between a source of truth (for example, a state property in a parent view) and a view that depends on that state. </span><span class="koboSpan" id="kobo.65.2">This </span><strong class="source-inline"><span class="koboSpan" id="kobo.66.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.67.1"> is the source of truth as it’s the parent view here. </span><span class="koboSpan" id="kobo.67.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.68.1">@Binding</span></strong><span class="koboSpan" id="kobo.69.1"> wrapper allows a view to read and write to a value, but also makes sure that any changes made to the value are propagated back to the original source of truth. </span><span class="koboSpan" id="kobo.69.2">This is how views can be updated and re-rendered automatically whenever the source of truth changes, without having to manually pass down new values and refresh </span><span class="No-Break"><span class="koboSpan" id="kobo.70.1">the view.</span></span></p>
<p><span class="koboSpan" id="kobo.71.1">Let’s now add some images that we need to the project. </span><span class="koboSpan" id="kobo.71.2">You can find them in the GitHub repository – just download the resources for this chapter. </span><span class="koboSpan" id="kobo.71.3">There are five images: </span><strong class="source-inline"><span class="koboSpan" id="kobo.72.1">ornament</span></strong><span class="koboSpan" id="kobo.73.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.74.1">landscape</span></strong><span class="koboSpan" id="kobo.75.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.76.1">dog</span></strong><span class="koboSpan" id="kobo.77.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.78.1">dice</span></strong><span class="koboSpan" id="kobo.79.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.80.1">cat</span></strong><span class="koboSpan" id="kobo.81.1">. </span><span class="koboSpan" id="kobo.81.2">Open the Assets catalog and drop the five images into the catalog (just like we did when creating the </span><span class="No-Break"><span class="koboSpan" id="kobo.82.1">record player).</span></span></p>
<p><span class="koboSpan" id="kobo.83.1">With the images in place, let’s </span><a id="_idIndexMarker283"/><span class="koboSpan" id="kobo.84.1">create an array of strings that can hold the</span><a id="_idIndexMarker284"/><span class="koboSpan" id="kobo.85.1"> names of the images. </span><span class="koboSpan" id="kobo.85.2">Here is the code, which gets placed under the </span><strong class="source-inline"><span class="koboSpan" id="kobo.86.1">@Binding</span></strong><span class="koboSpan" id="kobo.87.1"> property: </span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.88.1">
struct ImagePickerView: View { 
    @Binding var selectedImage: String 
    let images: [String] = ["ornament", "landscape", "dog", 
      "dice", "cat"] 
     
    var body: some View { 
        Text("Hello World") 
    } 
} </span></pre>
<p><span class="koboSpan" id="kobo.89.1">To create the array, we first give it a name, </span><strong class="source-inline"><span class="koboSpan" id="kobo.90.1">images</span></strong><span class="koboSpan" id="kobo.91.1">, then use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.92.1">String</span></strong><span class="koboSpan" id="kobo.93.1"> keyword within square brackets, then another pair of square brackets in which we fill the </span><strong class="source-inline"><span class="koboSpan" id="kobo.94.1">images</span></strong><span class="koboSpan" id="kobo.95.1"> array with five </span><strong class="source-inline"><span class="koboSpan" id="kobo.96.1">String</span></strong><span class="koboSpan" id="kobo.97.1"> elements, which are the names of the images we want to use. </span><span class="koboSpan" id="kobo.97.2">Each string is separated by </span><span class="No-Break"><span class="koboSpan" id="kobo.98.1">a comma.</span></span></p>
<p><span class="koboSpan" id="kobo.99.1">Now the </span><strong class="source-inline"><span class="koboSpan" id="kobo.100.1">images</span></strong><span class="koboSpan" id="kobo.101.1"> array is ready to use. </span><span class="koboSpan" id="kobo.101.2">Let’s add a Picker control and see how we can loop through this array using a </span><strong class="source-inline"><span class="koboSpan" id="kobo.102.1">ForEach</span></strong><span class="koboSpan" id="kobo.103.1"> view to store each string name in </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">the picker.</span></span></p>
<h1 id="_idParaDest-74"><a id="_idTextAnchor078"/><span class="koboSpan" id="kobo.105.1">Adding a Picker control and using a ForEach view </span></h1>
<p><span class="koboSpan" id="kobo.106.1">SwiftUI offers us a </span><a id="_idIndexMarker285"/><span class="koboSpan" id="kobo.107.1">sufficient number of pre-built controls to help put together a user interface that is both nice to look at and very</span><a id="_idIndexMarker286"/><span class="koboSpan" id="kobo.108.1"> functional. </span><span class="koboSpan" id="kobo.108.2">One control that is useful for providing your user </span><a id="_idIndexMarker287"/><span class="koboSpan" id="kobo.109.1">with a list of options is the </span><strong class="bold"><span class="koboSpan" id="kobo.110.1">Picker view</span></strong><span class="koboSpan" id="kobo.111.1">, which can provide as few or as many values as you</span><a id="_idIndexMarker288"/><span class="koboSpan" id="kobo.112.1"> need to display for your app. </span><span class="koboSpan" id="kobo.112.2">A Picker view is a view that lets the user select an item from a list of options and is usually used together with a Binding variable, which will store the currently selected value. </span></p>
<p><span class="koboSpan" id="kobo.113.1">We will be using a </span><strong class="source-inline"><span class="koboSpan" id="kobo.114.1">forEach</span></strong><span class="koboSpan" id="kobo.115.1"> view to</span><a id="_idIndexMarker289"/><span class="koboSpan" id="kobo.116.1"> iterate through the </span><strong class="source-inline"><span class="koboSpan" id="kobo.117.1">images</span></strong><span class="koboSpan" id="kobo.118.1"> array and populate the picker. </span><span class="koboSpan" id="kobo.118.2">Working</span><a id="_idIndexMarker290"/><span class="koboSpan" id="kobo.119.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.120.1">body</span></strong><span class="koboSpan" id="kobo.121.1"> property, let’s add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.122.1">PickerView</span></strong><span class="koboSpan" id="kobo.123.1"> first, and a </span><strong class="source-inline"><span class="koboSpan" id="kobo.124.1">ForEach</span></strong><span class="koboSpan" id="kobo.125.1"> view inside </span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">the picker:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.127.1">
struct ImagePickerView: View { 
    @Binding var selectedImage: String 
    let images: [String] = ["ornament", "landscape", "dog", 
      "dice", "cat"]
    var body: some View { 
        Picker("", selection: $selectedImage) { 
            ForEach(images, id: \.self) { value in 
                Text(value) 
                    .foregroundColor(.white) 
            } 
        }</span></pre>
<p><span class="koboSpan" id="kobo.128.1">Okay, there’s a lot going on here, so let’s break it down. </span><span class="koboSpan" id="kobo.128.2">Quick note though: don’t worry about the preview struct below the </span><strong class="source-inline"><span class="koboSpan" id="kobo.129.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.130.1"> just yet; that’s going to show an error, but we’ll fix </span><a id="_idIndexMarker291"/><span class="koboSpan" id="kobo.131.1">that in </span><span class="No-Break"><span class="koboSpan" id="kobo.132.1">a moment.</span></span></p>
<p><span class="koboSpan" id="kobo.133.1">For the Picker’s first parameter, you’ll notice there’s an empty </span><strong class="source-inline"><span class="koboSpan" id="kobo.134.1">String</span></strong><span class="koboSpan" id="kobo.135.1"> value. </span><span class="koboSpan" id="kobo.135.2">The string will allow you to give the Picker a label if you think it needs one; however, we do not need it here so we’re leaving the </span><strong class="source-inline"><span class="koboSpan" id="kobo.136.1">String</span></strong><span class="koboSpan" id="kobo.137.1"> parameter empty. </span><span class="koboSpan" id="kobo.137.2">Inside the next parameter, called </span><strong class="source-inline"><span class="koboSpan" id="kobo.138.1">selection</span></strong><span class="koboSpan" id="kobo.139.1">, is where the </span><strong class="source-inline"><span class="koboSpan" id="kobo.140.1">selectedImage</span></strong><span class="koboSpan" id="kobo.141.1"> binding property will go, and this property will bind to a </span><strong class="source-inline"><span class="koboSpan" id="kobo.142.1">State</span></strong><span class="koboSpan" id="kobo.143.1"> property in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.144.1">ContentView</span></strong><span class="koboSpan" id="kobo.145.1"> later. </span><span class="koboSpan" id="kobo.145.2">We haven’t added any State properties in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.146.1">ContentView</span></strong><span class="koboSpan" id="kobo.147.1"> yet, but we will soon. </span></p>
<p><span class="koboSpan" id="kobo.148.1">Now the </span><strong class="source-inline"><span class="koboSpan" id="kobo.149.1">selectedImage</span></strong><span class="koboSpan" id="kobo.150.1"> property in this </span><strong class="source-inline"><span class="koboSpan" id="kobo.151.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.152.1"> file will be bidirectionally connected to a State property in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.153.1">ContentView</span></strong><span class="koboSpan" id="kobo.154.1">. </span><span class="koboSpan" id="kobo.154.2">That connection allows for the instant refreshing of views between those two structs when the value changes in either struct. </span></p>
<p><span class="koboSpan" id="kobo.155.1">The syntax does require that we put the dollar sign (</span><strong class="source-inline"><span class="koboSpan" id="kobo.156.1">$</span></strong><span class="koboSpan" id="kobo.157.1">) before the property in order to tell SwiftUI that this property is a binding property and can connect to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.158.1">ContentView</span></strong><span class="koboSpan" id="kobo.159.1"> (the source of truth) and update the views. </span></p>
<p><span class="koboSpan" id="kobo.160.1">The next line of code is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.161.1">ForEach</span></strong><span class="koboSpan" id="kobo.162.1"> view. </span><span class="koboSpan" id="kobo.162.2">What we want to do is loop through the </span><strong class="source-inline"><span class="koboSpan" id="kobo.163.1">images</span></strong><span class="koboSpan" id="kobo.164.1"> array and display all those String labels of that array in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.165.1">Picker</span></strong><span class="koboSpan" id="kobo.166.1"> view. </span><span class="koboSpan" id="kobo.166.2">In order to loop through the array </span><a id="_idIndexMarker292"/><span class="koboSpan" id="kobo.167.1">of strings, they need to have some sort of ID that identifies each element</span><a id="_idIndexMarker293"/><span class="koboSpan" id="kobo.168.1"> in this array uniquely. </span><span class="koboSpan" id="kobo.168.2">And since they all have different names, why not use the names of each element, which already constitute unique IDs? </span><span class="koboSpan" id="kobo.168.3">To use each image’s name as an ID for the loop, we used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.169.1">\.self</span></strong><span class="koboSpan" id="kobo.170.1"> syntax, placed after the </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">images</span></strong><span class="koboSpan" id="kobo.172.1"> array. </span></p>
<p><span class="koboSpan" id="kobo.173.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.174.1">value</span></strong><span class="koboSpan" id="kobo.175.1"> keyword in this code is the looping variable; it will store each element from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.176.1">images</span></strong><span class="koboSpan" id="kobo.177.1"> array as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">ForEach</span></strong><span class="koboSpan" id="kobo.179.1"> view loops through them. </span><span class="koboSpan" id="kobo.179.2">This looping variable can be named anything you</span><a id="_idIndexMarker294"/><span class="koboSpan" id="kobo.180.1"> like, but I called it </span><strong class="source-inline"><span class="koboSpan" id="kobo.181.1">value</span></strong><span class="koboSpan" id="kobo.182.1"> in this example as that makes the most sense (it temporarily holds the value of each element in the array, one at </span><span class="No-Break"><span class="koboSpan" id="kobo.183.1">a time).</span></span></p>
<p><span class="koboSpan" id="kobo.184.1">Now looking at the code in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.185.1">ForEach</span></strong><span class="koboSpan" id="kobo.186.1"> view’s body, we only need to add one </span><strong class="source-inline"><span class="koboSpan" id="kobo.187.1">Text</span></strong><span class="koboSpan" id="kobo.188.1"> view with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.189.1">value</span></strong><span class="koboSpan" id="kobo.190.1"> variable inside it. </span><span class="koboSpan" id="kobo.190.2">That will display everything that is in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.191.1">images</span></strong><span class="koboSpan" id="kobo.192.1"> array in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.193.1">PickerView</span></strong><span class="koboSpan" id="kobo.194.1">. </span><span class="koboSpan" id="kobo.194.2">Next, we change the color of the text to white using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.195.1">foregroundColor</span></strong><span class="koboSpan" id="kobo.196.1"> modifier. </span><span class="koboSpan" id="kobo.196.2">We do this because when we go into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.197.1">ContentView</span></strong><span class="koboSpan" id="kobo.198.1"> file, we will make the screen’s background black; that way, we’ll see the white letters over the black background. </span></p>
<p><span class="koboSpan" id="kobo.199.1">That completes the </span><strong class="source-inline"><span class="koboSpan" id="kobo.200.1">Picker</span></strong><span class="koboSpan" id="kobo.201.1"> view functionality; let’s now style the appearance of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.202.1">Picker</span></strong><span class="koboSpan" id="kobo.203.1"> view by adding some modifiers to it after the view’s </span><span class="No-Break"><span class="koboSpan" id="kobo.204.1">closing bracket:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.205.1">
        }.pickerStyle(WheelPickerStyle())         
        .frame(width: 300, height: 150)
        .background(Color.red.colorMultiply(.blue))
        .cornerRadius(20)
        .shadow(color: .white, radius: 5, x: 0, y: 0 )</span></pre>
<p><span class="koboSpan" id="kobo.206.1">Let’s look at each of the </span><span class="No-Break"><span class="koboSpan" id="kobo.207.1">modifiers used:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.208.1">The first modifier I’ve added is </span><strong class="source-inline"><span class="koboSpan" id="kobo.209.1">pickerStyle()</span></strong><span class="koboSpan" id="kobo.210.1">, which is used to change the appearance of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.211.1">Picker</span></strong><span class="koboSpan" id="kobo.212.1"> view. </span><span class="koboSpan" id="kobo.212.2">There are four built-in styles we can select from to style the Picker using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.213.1">pickerStyle()</span></strong><span class="koboSpan" id="kobo.214.1"> modifier. </span><span class="koboSpan" id="kobo.214.2">The following are the </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">ones available:</span></span><ul><li><strong class="source-inline"><span class="koboSpan" id="kobo.216.1">DefaultPickerStyle()</span></strong><span class="koboSpan" id="kobo.217.1">: The default style that is chosen automatically by the system based </span><a id="_idIndexMarker295"/><span class="koboSpan" id="kobo.218.1">on the platform and current context. </span><span class="koboSpan" id="kobo.218.2">This presents the choices to the</span><a id="_idIndexMarker296"/><span class="koboSpan" id="kobo.219.1"> user in a </span><span class="No-Break"><span class="koboSpan" id="kobo.220.1">menu style.</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.221.1">PopUpButtonPickerStyle()</span></strong><span class="koboSpan" id="kobo.222.1">: This is a pop-up button-style picker, often used on macOS. </span><span class="koboSpan" id="kobo.222.2">This presents the choices in a button style to </span><span class="No-Break"><span class="koboSpan" id="kobo.223.1">the user.</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.224.1">WheelPickerStyle()</span></strong><span class="koboSpan" id="kobo.225.1">: A wheel-style picker, often used on iOS. </span><span class="koboSpan" id="kobo.225.2">This presents the choices in a wheel style to </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">the user.</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.227.1">SegmentedPickerStyle()</span></strong><span class="koboSpan" id="kobo.228.1">: A segmented control-style picker, commonly used on iOS, watchOS, and tvOS. </span><span class="koboSpan" id="kobo.228.2">This presents the choices in the style of a segmented button to </span><span class="No-Break"><span class="koboSpan" id="kobo.229.1">the user.</span></span></li></ul></li>
</ul>
<p><span class="koboSpan" id="kobo.230.1">We chose the </span><strong class="source-inline"><span class="koboSpan" id="kobo.231.1">WheelPickerStyle</span></strong><span class="koboSpan" id="kobo.232.1"> for </span><span class="No-Break"><span class="koboSpan" id="kobo.233.1">this project.</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.234.1">The second</span><a id="_idIndexMarker297"/><span class="koboSpan" id="kobo.235.1"> modifier is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.236.1">frame</span></strong><span class="koboSpan" id="kobo.237.1"> modifier, which sets the dimensions of the picker control. </span><span class="koboSpan" id="kobo.237.2">Here, we set the dimensions as </span><strong class="source-inline"><span class="koboSpan" id="kobo.238.1">300</span></strong><span class="koboSpan" id="kobo.239.1"> points wide and </span><strong class="source-inline"><span class="koboSpan" id="kobo.240.1">150</span></strong><span class="koboSpan" id="kobo.241.1"> points tall. </span></li>
<li><span class="koboSpan" id="kobo.242.1">Next is the </span><strong class="source-inline"><span class="koboSpan" id="kobo.243.1">background</span></strong><span class="koboSpan" id="kobo.244.1"> modifier, which sets the background color of the picker to red. </span><strong class="source-inline"><span class="koboSpan" id="kobo.245.1">colorMultiply</span></strong><span class="koboSpan" id="kobo.246.1"> then modifies the red color instance by multiplying its RGB values with those of another color, blue in this case. </span><span class="koboSpan" id="kobo.246.2">The result is a dark shade </span><span class="No-Break"><span class="koboSpan" id="kobo.247.1">of purple.</span></span></li>
<li><span class="koboSpan" id="kobo.248.1">After that, we used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.249.1">cornerRadius</span></strong><span class="koboSpan" id="kobo.250.1"> modifier to round the corners of the picker by 20 points. </span></li>
<li><span class="koboSpan" id="kobo.251.1">We finish styling the picker using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.252.1">shadow</span></strong><span class="koboSpan" id="kobo.253.1"> modifier. </span><span class="koboSpan" id="kobo.253.2">This will add a white shadow with a radius of 5 points and will be visible when we change the background </span><span class="No-Break"><span class="koboSpan" id="kobo.254.1">to black.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.255.1">Now, let’s return to the error that our code is experiencing and see how we can make sure the app builds cleanly. </span><span class="koboSpan" id="kobo.255.2">The error</span><a id="_idIndexMarker298"/><span class="koboSpan" id="kobo.256.1"> says that we are missing an argument from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.257.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.258.1">’s call. </span><span class="koboSpan" id="kobo.258.2">And that’s true, because we added a </span><strong class="source-inline"><span class="koboSpan" id="kobo.259.1">Binding</span></strong><span class="koboSpan" id="kobo.260.1"> property into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.261.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.262.1"> struct called </span><strong class="source-inline"><span class="koboSpan" id="kobo.263.1">selectedImage</span></strong><span class="koboSpan" id="kobo.264.1">, and since the </span><strong class="source-inline"><span class="koboSpan" id="kobo.265.1">Preview</span></strong><span class="koboSpan" id="kobo.266.1"> struct is referencing the </span><strong class="source-inline"><span class="koboSpan" id="kobo.267.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.268.1">, it needs to use that </span><strong class="source-inline"><span class="koboSpan" id="kobo.269.1">Binding</span></strong><span class="koboSpan" id="kobo.270.1"> variable in itself too in order to </span><span class="No-Break"><span class="koboSpan" id="kobo.271.1">build cleanly.</span></span></p>
<p><span class="koboSpan" id="kobo.272.1">To fix this problem, we need to</span><a id="_idIndexMarker299"/><span class="koboSpan" id="kobo.273.1"> go into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.274.1">Previews</span></strong><span class="koboSpan" id="kobo.275.1"> struct at the bottom of the file and change the first line of code </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">to this:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.277.1">
ImagePickerView(selectedImage: .constant("ornament")) </span></pre>
<p><span class="koboSpan" id="kobo.278.1">By using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.279.1">constant</span></strong><span class="koboSpan" id="kobo.280.1"> function, the error goes away. </span><span class="koboSpan" id="kobo.280.2">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.281.1">constant</span></strong><span class="koboSpan" id="kobo.282.1"> function will accept any value we want as</span><a id="_idIndexMarker300"/><span class="koboSpan" id="kobo.283.1"> long as it’s of the String type, because that’s the data type of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.284.1">selectedImage</span></strong><span class="koboSpan" id="kobo.285.1"> property. </span><span class="koboSpan" id="kobo.285.2">I’m using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.286.1">"ornament"</span></strong><span class="koboSpan" id="kobo.287.1"> string from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.288.1">images</span></strong><span class="koboSpan" id="kobo.289.1"> array, and that string will be shown in the picker. </span></p>
<p><span class="koboSpan" id="kobo.290.1">Now that the code builds cleanly, the result should look </span><span class="No-Break"><span class="koboSpan" id="kobo.291.1">like this:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer068">
<span class="koboSpan" id="kobo.292.1"><img alt="Figure 5.1: Picker View  " src="image/B18674_05_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.293.1">Figure 5.1: Picker View </span></p>
<p><span class="koboSpan" id="kobo.294.1">Spin the wheel picker and you can see all of the string names from the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.295.1">images</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.296.1"> array.</span></span></p>
<p><span class="koboSpan" id="kobo.297.1">Now that we are done with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.298.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.299.1"> file, let’s continue by setting up the </span><strong class="source-inline"><span class="koboSpan" id="kobo.300.1">ContentView</span></strong><span class="koboSpan" id="kobo.301.1"> file. </span></p>
<h1 id="_idParaDest-75"><a id="_idTextAnchor079"/><span class="koboSpan" id="kobo.302.1">Adding the variables and background color</span></h1>
<p><span class="koboSpan" id="kobo.303.1">Moving into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.304.1">ContentView</span></strong><span class="koboSpan" id="kobo.305.1"> file now, our first task here will be to add a couple of variables and a constant. </span><span class="koboSpan" id="kobo.305.2">Let’s start </span><a id="_idIndexMarker301"/><span class="koboSpan" id="kobo.306.1">with adding a variable that will </span><a id="_idIndexMarker302"/><span class="koboSpan" id="kobo.307.1">bind to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.308.1">selectedImage</span></strong><span class="koboSpan" id="kobo.309.1"> binding property in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.310.1">ImagePickerView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.311.1"> file.</span></span></p>
<p><span class="koboSpan" id="kobo.312.1">To do that, we need to create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.313.1">State</span></strong><span class="koboSpan" id="kobo.314.1"> variable, which needs to be the same data type as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.315.1">selectedImage</span></strong><span class="koboSpan" id="kobo.316.1"> variable, a </span><strong class="source-inline"><span class="koboSpan" id="kobo.317.1">String</span></strong><span class="koboSpan" id="kobo.318.1"> type. </span><span class="koboSpan" id="kobo.318.2">We can give it the same name as the variable too, </span><strong class="source-inline"><span class="koboSpan" id="kobo.319.1">selectedImage</span></strong><span class="koboSpan" id="kobo.320.1">, so that you know this variable is bidirectionally linked to the variable in the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.321.1">ImagePickerView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.322.1"> file.</span></span></p>
<p><span class="koboSpan" id="kobo.323.1">Add this code inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.324.1">ContentView</span></strong><span class="koboSpan" id="kobo.325.1"> struct, at the top: </span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.326.1">
    @State private var selectedImage: String = "ornament" 
    @State private var shiftColors = false 
    let backgroundColor = Color(.black) </span></pre>
<p><span class="koboSpan" id="kobo.327.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.328.1">selectedImage</span></strong><span class="koboSpan" id="kobo.329.1"> variable gets set to a String value called </span><strong class="source-inline"><span class="koboSpan" id="kobo.330.1">ornament</span></strong><span class="koboSpan" id="kobo.331.1">. </span><span class="koboSpan" id="kobo.331.2">Next is a variable to track the animation called </span><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">shiftColors</span></strong><span class="koboSpan" id="kobo.333.1">, which is set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.334.1">false</span></strong><span class="koboSpan" id="kobo.335.1">. </span><span class="koboSpan" id="kobo.335.2">Finally, we have a constant to hold the background color, which will </span><span class="No-Break"><span class="koboSpan" id="kobo.336.1">be black.</span></span></p>
<p><span class="koboSpan" id="kobo.337.1">Moving into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.338.1">body</span></strong><span class="koboSpan" id="kobo.339.1"> property, let’s add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.340.1">VStack</span></strong><span class="koboSpan" id="kobo.341.1">, which will take care of vertically organizing three views that the user interface needs: a background, which will be black; an </span><strong class="source-inline"><span class="koboSpan" id="kobo.342.1">Image</span></strong><span class="koboSpan" id="kobo.343.1"> view, to display the image selected by the user; and a call to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.344.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.345.1"> that we created in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.346.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.347.1"> file, which allows the user to select </span><span class="No-Break"><span class="koboSpan" id="kobo.348.1">an image.</span></span></p>
<p><span class="koboSpan" id="kobo.349.1">To do all of this, first add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.350.1">VStack</span></strong><span class="koboSpan" id="kobo.351.1"> into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.352.1">body</span></strong><span class="koboSpan" id="kobo.353.1"> property of </span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">the </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.355.1">ContentView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.356.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.357.1">
var body: some View {
VStack {
       }
}</span></pre>
<p><span class="koboSpan" id="kobo.358.1">Next, add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.359.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.360.1"> into the </span><strong class="source-inline"><span class="koboSpan" id="kobo.361.1">VStack</span></strong><span class="koboSpan" id="kobo.362.1"> with the </span><strong class="source-inline"><span class="koboSpan" id="kobo.363.1">frame</span></strong><span class="koboSpan" id="kobo.364.1"> modifier on it, as </span><span class="No-Break"><span class="koboSpan" id="kobo.365.1">shown here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.366.1">
var body: some View {
    VStack {
          ImagePickerView(selectedImage: $selectedImage)
          .frame(width: 350, height: 200)
        }</span></pre>
<p><span class="koboSpan" id="kobo.367.1">To color the background, we </span><a id="_idIndexMarker303"/><span class="koboSpan" id="kobo.368.1">need a </span><strong class="source-inline"><span class="koboSpan" id="kobo.369.1">ZStack</span></strong><span class="koboSpan" id="kobo.370.1"> so it can overlay the color onto the whole screen. </span><span class="koboSpan" id="kobo.370.2">Add this code inside </span><span class="No-Break"><span class="koboSpan" id="kobo.371.1">the </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.372.1">VStack</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.374.1">
  ZStack {
        backgroundColor
           .scaleEffect(1.4)
       }
}</span></pre>
<p><span class="koboSpan" id="kobo.375.1">As we have seen before, this code will color the background black, and by using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.376.1">scaleEffect</span></strong><span class="koboSpan" id="kobo.377.1"> modifier and passing in the value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.378.1">1.4</span></strong><span class="koboSpan" id="kobo.379.1">, the black background will stretch out so it covers the</span><a id="_idIndexMarker304"/> <span class="No-Break"><span class="koboSpan" id="kobo.380.1">entire screen.</span></span></p>
<p><span class="koboSpan" id="kobo.381.1">Now that the background is set, let’s add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.382.1">Image</span></strong><span class="koboSpan" id="kobo.383.1"> view to display the images, and then start animating </span><span class="No-Break"><span class="koboSpan" id="kobo.384.1">some colors.</span></span></p>
<h1 id="_idParaDest-76"><a id="_idTextAnchor080"/><span class="koboSpan" id="kobo.385.1">Adding the Image view and using the hueRotation modifier</span></h1>
<p><span class="koboSpan" id="kobo.386.1">With the</span><a id="_idIndexMarker305"/><span class="koboSpan" id="kobo.387.1"> background set up and all of</span><a id="_idIndexMarker306"/><span class="koboSpan" id="kobo.388.1"> the variables in</span><a id="_idIndexMarker307"/><span class="koboSpan" id="kobo.389.1"> place, let’s </span><a id="_idIndexMarker308"/><span class="koboSpan" id="kobo.390.1">add an </span><strong class="source-inline"><span class="koboSpan" id="kobo.391.1">ImageView</span></strong><span class="koboSpan" id="kobo.392.1"> to display the images, and add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.393.1">hueRotation</span></strong><span class="koboSpan" id="kobo.394.1"> modifier </span><span class="No-Break"><span class="koboSpan" id="kobo.395.1">to it.</span></span></p>
<p><span class="koboSpan" id="kobo.396.1">Add the following code right</span><a id="_idIndexMarker309"/><span class="koboSpan" id="kobo.397.1"> after the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.398.1">scaleEffect</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.399.1"> modifier:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.400.1">
Image(selectedImage).resizable().padding(20).frame(width: 
  400, height: 400) 
    .hueRotation(.degrees(shiftColors ? </span><span class="koboSpan" id="kobo.400.2">360 : 0)) 
    .animation(Animation.easeInOut(duration: 
      2).delay(0.3).repeatForever(autoreverses: true), 
      value: shiftColors)
    .onAppear() {
        shiftColors.toggle()
                }
            } 
            ImagePickerView(selectedImage: $selectedImage) 
                .frame(width: 350, height: 200) 
        }.background(backgroundColor) 
        .edgesIgnoringSafeArea(.bottom) 
    } 
} </span></pre>
<p><span class="koboSpan" id="kobo.401.1">Here we are using the Image view to display the images on the screen, resizing it and adding a little padding to it. </span><span class="koboSpan" id="kobo.401.2">Then</span><a id="_idIndexMarker310"/><span class="koboSpan" id="kobo.402.1"> we set the frame of the image view to a size of </span><strong class="source-inline"><span class="koboSpan" id="kobo.403.1">400</span></strong><span class="koboSpan" id="kobo.404.1"> by </span><strong class="source-inline"><span class="koboSpan" id="kobo.405.1">400</span></strong><span class="koboSpan" id="kobo.406.1">. </span></p>
<p><span class="koboSpan" id="kobo.407.1">Next comes the </span><strong class="source-inline"><span class="koboSpan" id="kobo.408.1">hueRotation</span></strong><span class="koboSpan" id="kobo.409.1"> modifier. </span><span class="koboSpan" id="kobo.409.2">Hue rotation is an image-processing effect that adjusts the hue of </span><a id="_idIndexMarker311"/><span class="koboSpan" id="kobo.410.1">an image by rotating the colors in the hue color wheel by a specified angle. </span><span class="koboSpan" id="kobo.410.2">It changes the overall color tone of an image by shifting the hue of </span><span class="No-Break"><span class="koboSpan" id="kobo.411.1">each pixel.</span></span></p>
<p><span class="koboSpan" id="kobo.412.1">The speed at which it does</span><a id="_idIndexMarker312"/><span class="koboSpan" id="kobo.413.1"> this is determined by the values that get passed into its parameter. </span><span class="koboSpan" id="kobo.413.2">And if you have an image with many different colors, then </span><strong class="source-inline"><span class="koboSpan" id="kobo.414.1">hueRotation</span></strong><span class="koboSpan" id="kobo.415.1"> will cycle through and rotate all of them, creating a sort of kaleidoscope </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1">color effect.</span></span></p>
<p><span class="koboSpan" id="kobo.417.1">Looking at the </span><strong class="source-inline"><span class="koboSpan" id="kobo.418.1">hueRotation</span></strong><span class="koboSpan" id="kobo.419.1"> parameter, it needs a value to represent degrees, which is for the amount of rotation to apply to the colors in this view, and that is handled by the </span><strong class="source-inline"><span class="koboSpan" id="kobo.420.1">degrees</span></strong><span class="koboSpan" id="kobo.421.1"> function. </span><span class="koboSpan" id="kobo.421.2">Inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.422.1">degrees</span></strong><span class="koboSpan" id="kobo.423.1"> function is a ternary operator, which will select from two choices: either a value of </span><strong class="source-inline"><span class="koboSpan" id="kobo.424.1">360</span></strong><span class="koboSpan" id="kobo.425.1"> when the </span><strong class="source-inline"><span class="koboSpan" id="kobo.426.1">shiftColors</span></strong><span class="koboSpan" id="kobo.427.1"> variable is </span><strong class="source-inline"><span class="koboSpan" id="kobo.428.1">true</span></strong><span class="koboSpan" id="kobo.429.1">, or </span><strong class="source-inline"><span class="koboSpan" id="kobo.430.1">0</span></strong><span class="koboSpan" id="kobo.431.1"> when it </span><span class="No-Break"><span class="koboSpan" id="kobo.432.1">is </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.433.1">false</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.434.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.435.1">Next, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.436.1">animation</span></strong><span class="koboSpan" id="kobo.437.1"> modifier is added</span><a id="_idIndexMarker313"/><span class="koboSpan" id="kobo.438.1"> to animate to the color-changing effect. </span><span class="koboSpan" id="kobo.438.2">It uses an </span><strong class="source-inline"><span class="koboSpan" id="kobo.439.1">easeInOut</span></strong><span class="koboSpan" id="kobo.440.1"> timing curve with a duration of 2 seconds to complete the animation and a delay of 0.3 seconds </span><span class="No-Break"><span class="koboSpan" id="kobo.441.1">between </span></span><span class="No-Break"><a id="_idIndexMarker314"/></span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">animations.</span></span></p>
<p><span class="koboSpan" id="kobo.443.1">Then we use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.444.1">onAppear</span></strong><span class="koboSpan" id="kobo.445.1"> modifier, which runs the code within its body as soon as the view appears. </span><span class="koboSpan" id="kobo.445.2">This is a perfect place to trigger the animation by toggling the </span><strong class="source-inline"><span class="koboSpan" id="kobo.446.1">shiftColors</span></strong><span class="koboSpan" id="kobo.447.1"> variable to</span><a id="_idIndexMarker315"/><span class="koboSpan" id="kobo.448.1"> its </span><span class="No-Break"><span class="koboSpan" id="kobo.449.1">opposite value.</span></span></p>
<p><span class="koboSpan" id="kobo.450.1">After that, we set a frame</span><a id="_idIndexMarker316"/><span class="koboSpan" id="kobo.451.1"> width and height of </span><strong class="source-inline"><span class="koboSpan" id="kobo.452.1">350</span></strong><span class="koboSpan" id="kobo.453.1"> by </span><strong class="source-inline"><span class="koboSpan" id="kobo.454.1">200</span></strong><span class="koboSpan" id="kobo.455.1"> for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.456.1">ImagePickerView</span></strong><span class="koboSpan" id="kobo.457.1"> and colored the background of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.458.1">VStack</span></strong><span class="koboSpan" id="kobo.459.1"> by using our </span><strong class="source-inline"><span class="koboSpan" id="kobo.460.1">background</span></strong><span class="koboSpan" id="kobo.461.1"> variable. </span><span class="koboSpan" id="kobo.461.2">We also used </span><strong class="source-inline"><span class="koboSpan" id="kobo.462.1">edgesIgnoringSafeArea</span></strong><span class="koboSpan" id="kobo.463.1"> for the bottom edges, so the background color will go below the screen. </span><span class="koboSpan" id="kobo.463.2">We want the whole screen black with our views on top of it, and this code does just that.  </span></p>
<p><span class="koboSpan" id="kobo.464.1">Guess what? </span><span class="koboSpan" id="kobo.464.2">With all that finished, the project is done! </span><span class="koboSpan" id="kobo.464.3">Here’s what it should look like: </span></p>
<div>
<div class="IMG---Figure" id="_idContainer069">
<span class="koboSpan" id="kobo.465.1"><img alt="Figure 5.2: Finished project " src="image/B18674_05_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.466.1">Figure 5.2: Finished project</span></p>
<p><span class="koboSpan" id="kobo.467.1">Go ahead and</span><a id="_idIndexMarker317"/><span class="koboSpan" id="kobo.468.1"> run the project – you’ll </span><a id="_idIndexMarker318"/><span class="koboSpan" id="kobo.469.1">see that the</span><a id="_idIndexMarker319"/><span class="koboSpan" id="kobo.470.1"> colors from</span><a id="_idIndexMarker320"/><span class="koboSpan" id="kobo.471.1"> your selected image will all shift and rotate over the span of </span><span class="No-Break"><span class="koboSpan" id="kobo.472.1">2 seconds.</span></span></p>
<h1 id="_idParaDest-77"><a id="_idTextAnchor081"/><span class="koboSpan" id="kobo.473.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.474.1">Good work on completing the project! </span><span class="koboSpan" id="kobo.474.2">As you worked through it, you got to see how to use a </span><strong class="source-inline"><span class="koboSpan" id="kobo.475.1">Binding</span></strong><span class="koboSpan" id="kobo.476.1"> property so data can be bound between views, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.477.1">Picker</span></strong><span class="koboSpan" id="kobo.478.1"> view, a view with different styles that allows users to select an image or other data, and finally the </span><strong class="source-inline"><span class="koboSpan" id="kobo.479.1">hueRotation</span></strong><span class="koboSpan" id="kobo.480.1"> modifier, which </span><span class="No-Break"><span class="koboSpan" id="kobo.481.1">rotates colors.</span></span></p>
<p><span class="koboSpan" id="kobo.482.1">In the next chapter, we will explore the process of cutting up an image into different parts, then rotating those separate parts using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.483.1">rotationEffect</span></strong><span class="koboSpan" id="kobo.484.1"> modifier, to create an animation of a girl on </span><span class="No-Break"><span class="koboSpan" id="kobo.485.1">a swing.</span></span></p>
</div>
<div>
<div class="IMG---Figure" id="_idContainer071">
</div>
</div>
</body></html>