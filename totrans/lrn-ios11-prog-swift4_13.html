<html><head></head><body>
      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Getting Started with the Grid</h1>
            
         </header>
         
         
         <article>
            
            
            <p>I am a visual person; I prefer to start with the visuals and make sure that the app
               looks like the design. Starting with the UI helps me to identify the data structure
               and allows me to get familiar with the app. Therefore, I can focus my attention on
               the code.
            </p>
            
            <p>In earlier chapters, we set up our app structure and developed a good understanding
               of the basics involved. In this chapter, you will learn about app architecture and
               how to create it for our <em>Let's Eat</em> app.
            </p>
            
            <p>We will cover the following in this chapter:</p>
            
            <ul>
               
               <li>Understanding the Model View Controller architecture</li>
               
               <li>Classes and structures</li>
               
               <li>Controllers and classes</li>
               
            </ul>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Understanding the Model View Controller architecture</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Apple built iOS apps to use what is known as the <strong>Model View Controller</strong> (<strong>MVC</strong>), which is an architectural pattern that describes a way to structure the code in
               your app. In layman's terms, this just means breaking up our app into three distinct
               camps, Model, View, and Controller.
            </p>
            
            <p>Here is a diagram of MVC to help you understand it:</p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="342" src="assets/1559ec72-768b-4906-aba7-b4725a4fb207.png" width="138"/></div>
            
            <p>Let's discuss each camp:</p>
            
            <ul>
               
               <li><strong>Model</strong>: The <strong>Model</strong> <span>camp is responsible for an app's data and business logic. The Model's only job is
                     to handle representations of data, data storage, and the operations performed on data.</span></li>
               
            </ul>
            
            <ul>
               
               <li><strong>View</strong>: The <strong>View</strong> <span>camp is responsible for all the things that you see on the screen. The View handles
                     presenting and formatting data that results from the user's interactions.</span></li>
               
            </ul>
            
            <ul>
               
               <li><strong>Controller</strong>: The <strong>Controller</strong> <span>camp is the liaison or coordinator between the other two camps. The Controller handles
                     a lot of setup and connections to the View. The Controller also interprets user interactions.
                     Since the Controller is between both the View and the Model, the View and the Model
                     should know nothing about each other.</span></li>
               
            </ul>
            
            <p>In summary, the Controller takes user interactions and either responds back to the
               View or passes it onto the Model. When the Model completes a task, it passes it back
               to the Controller, and then the Controller talks with the View. 
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Getting familiar with the setup</h1>
            
         </header>
         
         
         <article>
            
            
            <p>For beginners, the MVC architecture can make you uncertain about where things should
               go. As we progress through the book, you will learn where to put things and why. So,
               you need not worry about where things should be placed as we work through this process
               together step by step.
            </p>
            
            <p>As your project grows, the MVC architecture places a lot of the responsibility on
               the Controller. Therefore, in this book, we tweak the MVC pattern in order to not
               put so much pressure on the Controller.
            </p>
            
            <p>Before we continue with our coding, we need to discuss classes and structures.</p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Classes and structures</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Classes and structures (also known as structs) are files that contain properties and
               methods. You use these properties and methods to add functionality. You have been
               working with structs since <a href="3fd2bd2c-00aa-4684-a09d-56f9cf67da6d.xhtml">Chapter 1</a>, <em>Getting Familiar with Xcode</em>. Strings, Ints, Bools, Arrays, Dictionaries, and Sets are all structs.
            </p>
            
            <p>Earlier in the book, we created functions. As noted in <a href="75201e71-726f-4ab1-8d45-bb84774b10e6.xhtml">Chapter 6</a>, <em>Starting the UI Setup</em>, a method is a function that lives inside a class or struct.
            </p>
            
            <p>Classes and structs are very similar; however, Swift handles each of them a bit differently.
               To get a better understanding of how classes and structs work, we create a new Playground
               project. Working in the Playground gives us the ability to learn how to create custom
               classes and structs and to gain an understanding of each of their positives and negatives.
            </p>
            
            <ol>
               
               <li>You can keep your project open, but let's jump back into Playgrounds. Since we have
                  Xcode open, go to <span class="packt_screen">File</span> | <span class="packt_screen">New</span> |<span class="packt_screen">Playground</span>.
               </li>
               
               <li>In the options screen that appears, name your new Playground, <kbd>FunctionsStructs</kbd>, and make sure that your Platform is set to iOS. Hit <span class="packt_screen">Next</span> and then <span class="packt_screen">Create</span>. Now, let's delete everything inside your new Playground and toggle on the <span class="packt_screen">Debug</span> panel, using either the toggle button or <em>cmd</em> + <em>Shift</em> + <em>Y</em>.
               </li>
               
            </ol>
            
            <p> </p>
            
            <ol start="3">
               
               <li>In your empty Playground, add the following:</li>
               
            </ol>
            <pre style="padding-left: 60px">class Cat {<br/>}<br/>struct Dog {<br/>}</pre>
            <p>We just created our first class and struct and defined two new custom data types (known
               as <strong>Swift types</strong>), <kbd>Cat</kbd> and <kbd>Dog</kbd>. Since we have not yet given the class or struct a property (such as a name) or created
               an instance of either <kbd>Cat</kbd> or <kbd>Dog</kbd>, you see nothing in the <span class="packt_screen">Results</span> or <span class="packt_screen">Debug</span> panels.
            </p>
            
            <div>
               
               <p>When you create classes and structs, it is a best practice to start with a capital
                  letter. In addition, you must have different names for your class and for your struct.
                  Otherwise, you will get an error. Even though one is a class and the other is a struct,
                  each of them needs a distinct name.
               </p>
               
            </div>
            
            <p>Now, we need to give our <kbd>Cat</kbd> class and our <kbd>Dog</kbd> struct names. Therefore, let's give them both a property, called <kbd>name</kbd>:
            </p>
            <pre>class Cat {<br/>  var name:String?<br/>}<br/><br/>struct Dog {<br/>  var name:String?<br/>}</pre>
            <div>
               
               <p>If you cannot set a property when it is created, then it is recommended that you set
                  that property to an optional using the question mark (<kbd>?</kbd>). Using optionals, protect your code trying to access the name if you never set it.
                  You can also set your variable as an optional unwrapped. For example, you can also
                  do the following:
               </p>
               <pre>var name:String!.</pre></div>
            
            <p>With both <kbd>Cat</kbd> and <kbd>Dog</kbd> now having a property called <kbd>name</kbd>, let's create an instance of each of them:
            </p>
            <pre>let yellowCat = Cat()<br/>yellowCat.name = "Whiskers"<br/>print(yellowCat.name)<br/>var yellowDog = Dog()<br/>yellowDog.name = "Bruno"<br/>print(yellowDog.name)</pre>
            <div class="CDPAlignCenter CDPAlign"><img height="429" src="assets/5a717362-7756-49d5-a357-36f9fa362c15.png" width="722"/></div>
            
            <p>So far, everything on the surface looks the same. We created both a <kbd>Cat</kbd> and a <kbd>Dog</kbd> and gave them each names. However, let's say <kbd>Whiskers</kbd> runs away and, a few weeks later, finds a home with a new family, who decide to change
               his name to <kbd>Smokey</kbd>. After <kbd>Whiskers</kbd> runs away, <kbd>Bruno</kbd> becomes lonely and decides to find him, but also gets lost. <kbd>Bruno</kbd> finds a new home as well, and this new family decides to name him, <kbd>Max</kbd>.
            </p>
            
            <p>In Playgrounds, we create a new constant called <kbd>yellowStrayCat</kbd> and set it equal to <kbd>yellowCat</kbd>, since it is still <kbd>Whiskers</kbd>. However, we change the name of <kbd>yellowStrayCat</kbd> to <kbd>Smokey</kbd>. We also create a new constant called <kbd>yellowStrayDog</kbd>, setting it equal to <kbd>yellowDog</kbd> and naming it <kbd>Max</kbd>.
            </p>
            <pre>let yellowStrayCat = yellowCat<br/>yellowStrayCat.name = "Smokey"<br/>print(yellowStrayCat.name)<br/><br/>var yellowStrayDog = yellowDog<br/>yellowStrayDog.name = "Max"<br/>print(yellowStrayDog.name)</pre>
            <p>Our <span class="packt_screen">Results</span> panel shows that the names of <kbd>yellowStrayCat</kbd> and <kbd>yellowStrayDog</kbd>, respectively, are now <kbd>Smokey</kbd> and <kbd>Max</kbd>. So, everything seems to be the same between our class and our struct, right? No,
               they are not the same. Let's print the name of <kbd>yellowCat</kbd> underneath the line where we have print (<kbd>yellowStrayCat.name</kbd>). In addition, let's do the same for the name of <kbd>yellowDog</kbd> underneath where we have print (<kbd>yellowStrayDog.name</kbd>). Your code should now look as follows:
            </p>
            <pre>let yellowStrayCat = yellowCat<br/>yellowStrayCat.name = "Smokey"<br/>print(yellowStrayCat.name)<br/>print(yellowCat.name)<br/><br/>var yellowStrayDog = yellowDog<br/>yellowStrayDog.name = "Max"<br/>print(yellowStrayDog.name)<br/>print(yellowDog.name)</pre>
            <p>In our <span class="packt_screen">Results</span> panel, as shown in the preceding screenshot, you should notice an unexpected result.
               The <kbd>yellowCat</kbd>, <kbd>Whiskers</kbd>, now has the name <kbd>Smokey</kbd>, but the <kbd>yellowDog</kbd> is still <kbd>Bruno</kbd>. Without getting too technical, when you use a class and copy it as we did, it refers
               back to the original instance created. This is known as a reference type. However,
               when structs get copied, they create a new instance and the original is not affected.
               This is known as a <strong>value type</strong>.
            </p>
            
            <p>Before we move on, let's look at one more difference between the two. In programming,
               we have what is called <strong>inheritance</strong>, which means that we can create another object with default values and other objects
               can inherit from those default values. Let's create an <kbd>Animal</kbd> class that is the base class immediately below our <kbd>Cat</kbd> class:
            </p>
            <pre>class Animal {<br/>  var age:Int?<br/>}</pre>
            <p>Now, let's update our <kbd>Cat</kbd> class to inherit from it, as shown in the following code:
            </p>
            <pre>class Cat:Animal {<br/>  ...<br/>}</pre>
            <p>Note that we are only updating what goes directly after <kbd>Cat</kbd>. The rest of the class in the curly braces stays the same.
            </p>
            
            <p>Since our class now inherits from <kbd>Animal</kbd>, we should have a new property called <kbd>age</kbd>. Underneath where we name <kbd>yellowCat</kbd> as <kbd>Whiskers</kbd> and above our <kbd>print</kbd> statement, enter the following after we set Whiskers name:
            </p>
            <pre>yellowCat.age = 3</pre>
            <div class="CDPAlignCenter CDPAlign"><img height="445" src="assets/2500eeba-7cd3-45c6-9b65-15ab5c7c9ce7.png" width="765"/></div>
            
            <p>So, as expected, we were able to give <kbd>Whiskers</kbd> an <kbd>age</kbd>. Let's do the same for our <kbd>Dog</kbd> struct by adding <kbd>Animal</kbd> directly after <kbd>Dog</kbd>: 
            </p>
            <pre>struct Dog:Animal {<br/>  var name:String?<br/>}</pre>
            <p class="mce-root">Once you have entered the preceding code snippet, you will see the following:</p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="331" src="assets/0cb19b8a-653c-44d6-8563-c15372214595.png" width="538"/></div>
            
            <p>A red error displays and informs you that <kbd>Non-class type 'Dog' cannot inherit from class Animal</kbd>. Therefore, we need to create a struct called, <kbd>AnimalB</kbd>, since we cannot have the same name:
            </p>
            <pre>struct AnimalB {<br/>  var age:Int?<br/>}</pre>
            <p>Update your <kbd>Dog</kbd> struct from <kbd>Animal</kbd> to <kbd>AnimalB</kbd>:
            </p>
            <pre>struct Dog:AnimalB {<br/>  var name:String?<br/>}</pre>
            <p>Now, you should see an error called <kbd>Inheritance from non-protocol type 'AnimalB'</kbd>, which means that our struct cannot inherit from another struct:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="427" src="assets/3c3bcdae-6b39-486c-9a53-5585fda72ab0.png" width="713"/></div>
            
            <p>Inheritance is something that you can do with classes, but not with structs; this
               is another difference between classes and structs. There are a couple of other advanced
               technical differences but, for our purposes, the two described here are sufficient.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Controllers and classes</h1>
            
         </header>
         
         
         <article>
            
            
            <p>When working with <kbd>UIViewController</kbd>, <kbd>UICollectionViewController</kbd>, and <kbd>UITableViewController</kbd>, you need to create a class file for each of these elements. Each file handles all
               of the logic and interactions that the controller sends and receives. Along with interactions,
               the class file is responsible for receiving data. You should understand this more
               when we delve more deeply into creating each of these class files.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Creating our controller</h1>
            
         </header>
         
         
         <article>
            
            
            <p>When working with our UI, we used controllers that were done for you. Now that we
               know that our UI is in place, we can get rid of these two files. We are going to recreate
               them together and understand how they work.
            </p>
            
            <ol>
               
               <li>Please select the <kbd>ExploreViewController.swift</kbd> and <em>cmd</em> + click on <kbd>RestaurantViewController.swift</kbd>. When you do this you should have both files selected:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="495" src="assets/b4718415-aabb-4268-8017-8a1174295b01.png" width="789"/></div>
            
            <ol start="2">
               
               <li>Next, hit <em>Delete</em> on your keyboard. You should see the following screen:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="92" src="assets/43ef5fdc-a1ac-4c19-a066-db6a9e8b4616.png" width="332"/></div>
            
            <ol start="3">
               
               <li>Click on <span class="packt_screen">Move to Trash</span>.
               </li>
               
            </ol>
            
            <div>
               
               <ol start="4">
                  
                  <li>If you select <span class="packt_screen">Remove References</span>, it removes it from the project, but it is still in your project folder.
                  </li>
                  
               </ol>
               
            </div>
            
            <p>Next, let's create our first file:</p>
            
            <ol start="1">
               
               <li>Right-click inside of the <kbd>LetsEat</kbd> folder and select <span class="packt_screen">New File</span>.
               </li>
               
               <li>Inside of the <span class="packt_screen">Choose a template for your new file</span> screen, select <span class="packt_screen">iOS</span> at the top and, then, <span class="packt_screen">Cocoa Touch Class</span>. Then, hit <span class="packt_screen">Next</span>:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="312" src="assets/d3a22cf2-e06d-496b-a029-e385de7929d7.png" width="433"/></div>
            
            <ol start="3">
               
               <li>You should see an options screen. Add the following:</li>
               
            </ol>
            
            <p style="padding-left: 90px">New file:</p>
            
            <ul>
               
               <li style="list-style-type: none">
                  
                  <ul>
                     
                     <li><span class="packt_screen">Class</span>: <kbd>ExploreViewController</kbd></li>
                     
                     <li><span class="packt_screen">Subclass</span>: <kbd>UIViewController</kbd></li>
                     
                     <li><span class="packt_screen">Also create XIB</span>: Unchecked
                     </li>
                     
                     <li><span class="packt_screen">Language</span>: <kbd><kbd>Swift</kbd></kbd></li>
                     
                  </ul>
                  
               </li>
               
            </ul>
            
            <ol start="4">
               
               <li>After hitting <span class="packt_screen">Next</span>, you are asked to create this file. Select <span class="packt_screen">Create</span> and then your file should look like mine.
               </li>
               
            </ol>
            
            <p>Let's review this <kbd>ExploreViewController</kbd> class file and also do some maintenance inside of the file. We created this file
               to use with the <kbd>UIViewController</kbd> that we created when we initially set up our UI.
            </p>
            
            <p>Note that there are three methods in this file—<kbd>viewDidLoad()</kbd>, <kbd>didReceiveMemoryWarning()</kbd>, and <kbd>prepare()</kbd> (which is commented out). Let's delete both <kbd>didReceiveMemoryWarning()</kbd> and <kbd>prepare()</kbd>, as we do not need them at this time:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="551" src="assets/8206db76-3e58-4eb7-b289-0c43c097fbc1.png" width="699"/></div>
            
            <p>What remains is <kbd>viewDidLoad()</kbd>; this method is called only once during the life of the View Controller. Let's see
               what this means by updating <kbd>viewDidLoad()</kbd> to the following:
            </p>
            <pre>func viewDidLoad() {<br/>  super.viewDidLoad()<br/>  print("Hello Explore View Controller")<br/>}</pre>
            <p>Now, run the project by hitting the Play button (or using <em>cmd</em> + <em>R</em>). Although we expected to see the above <kbd>print</kbd> statement in our <span class="packt_screen">Debug</span> panel, we got a crash:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="593" src="assets/ec0ad23c-a124-45b4-9b70-3384abffab80.png" width="729"/></div>
            
            <p>This crash is telling us that it has a key <kbd>collectionView</kbd>, but it cannot find it. When we deleted our file, the storyboard still has a reference
               to it because it has no clue the file was deleted and recreated. To stop it from crashing,
               we need to either remove the reference or add the variable <kbd>collectionView</kbd> to our file.
            </p>
            
            <p>For learning purposes, we are going to do both. Let’s remove the reference and later
               we will add and connect it back later. The reason we are doing this is because this
               is one of the most common errors beginners see. You connect something and remove it
               but never remove it from storyboard and so your app crashes.
            </p>
            
            <ol>
               
               <li>Open the <kbd>Explore.storyboard</kbd> file and, in the Utilities panel, select the <span class="packt_screen">Connections inspector</span>.
               </li>
               
               <li>Next, select the Explore View Controller in the Outline view, and you will see<span> the problem under</span> Outlets:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="346" src="assets/98aae0e6-b7d3-4401-a08e-8c94bc89e633.png" width="270"/></div>
            
            <p>This exclamation is telling us that it cannot find this variable in our <kbd>ExploreViewController.swift</kbd> file. Just click the <span class="packt_screen">X</span> and the variable is removed from the storyboard file.
            </p>
            
            <p>If you rerun the project now, our app crashes again. The reason is that our app is
               looking for data for Collection View that we have not set up yet. Let’s update this
               so that we get rid of our crash:
            </p>
            
            <ol>
               
               <li>Open the <kbd>Explore.storyboard</kbd> file. 
               </li>
               
               <li>Then, with the Explore View Controller still selected in the Outline view, click the
                  <span class="packt_screen">X</span> for both data source and delegate in the Connections inspector of the Utilities panel.
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="424" src="assets/10ff28ef-8469-405e-8ef3-0e1a449a13a5.png" width="344"/></div>
            
            <p>Let's run the project again by hitting the Play button (or using <em>cmd</em> + <em>R</em>); you should now only see Hello Explore View Controller inside of the Debug panel. 
            </p>
            
            <p>Before we continue, we need to update our Restaurant View Controller as well. You
               are going to go into your <kbd>Restaurants.storyboard</kbd> file and, in the Outlets inspector, select the <span class="packt_screen">X</span> for <kbd>collectionView</kbd>, <kbd>dataSource</kbd>, and <kbd>delegate</kbd> to get rid of the outlet we added earlier in the book.
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="593" src="assets/029b6ef6-47b4-4597-b914-761c8bdfe742.png" width="666"/></div>
            
            <p>Next, in the Identity inspector, delete <kbd>RestaurantViewController</kbd> inside of the custom class.
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="588" src="assets/bbc31f5c-94af-417c-b273-507382474ea4.png" width="712"/></div>
            
            <p>Since we deleted those files, we would have had more crashing. Now that we have our
               <kbd>ExploreViewController</kbd> hooked up with our <kbd>UIViewController</kbd> in the storyboard, let's start working with our <kbd>UICollectionView</kbd>.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Understanding Collection View controllers and Collection View cells</h1>
            
         </header>
         
         
         <article>
            
            
            <p>As noted earlier in the book, Collection View Controllers allow us to display our
               data in a grid. The individual items inside of Collection Views are called cells,
               and these cells are what show the data. This data can be anything from an image to
               text or both an image and text. You have complete control over what your Collection
               View cell can display. Our Collection View Controller is responsible for making sure
               the correct number of cells is displayed.
            </p>
            
            <p>Let's now connect our file, <kbd>ExploreViewController</kbd>, with our <kbd>UICollectionView</kbd> in the storyboard. To do this, we use the Assistant editor (or split screen), which
               we access by doing the following:
            </p>
            
            <ol>
               
               <li>Open <kbd>Explore.storyboard</kbd>.
               </li>
               
               <li>Close the Navigator panel using the hide Navigator toggle or <em>cmd</em> + <em>0</em>.
               </li>
               
               <li>Close the Utilities panel by hitting the Utilities toggle or use <em>cmd</em> + <em>Alt</em> + <em>0</em>.
               </li>
               
               <li>Next, select the Assistant editor or use <em>cmd</em> + <em>Alt</em> + <em>Enter</em>.
               </li>
               
            </ol>
            
            <p style="padding-left: 60px">You should now see <kbd>Explore.storyboard</kbd> on the left and <kbd>ExploreViewController.swift</kbd> on the right:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="326" src="assets/02d0ad4d-f05d-44cd-9032-b6b9a60b1a2e.png" width="786"/></div>
            
            <ol start="5">
               
               <li>Add the following inside of your <kbd>ExploreViewController.swift</kbd> file on the line after the following code:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">class ExploreViewController: UIViewController {<br/>  @IBOutlet weak var collectionView:UICollectionView!</pre>
            <div class="packt_infobox">
               
               <p><kbd>IBOutlet</kbd> is a way to a connect to UI element. We have a Collection View on our <kbd>UIViewController</kbd>; now, we are creating a variable that allows us to hook into it.
               </p>
               
            </div>
            
            <ol start="6">
               
               <li>After you create the variable, you should see a small circle to the left of the variable:</li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="25" src="assets/60864770-995b-42d4-b841-24a19abd0e3b.png" width="346"/></div>
            
            <ol start="7">
               
               <li>When you hover over it, you should see a plus button appear inside of the circle:</li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="22" src="assets/69c3d93d-a4c8-4bd1-aeed-b7a05b74627a.png" width="381"/></div>
            
            <p style="padding-left: 60px">Click on it and drag this to your Collection View inside of your <kbd>UIViewController</kbd>:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img src="assets/6ee04d4b-b2a8-4353-9903-a9aaf3b0410d.png"/></div>
            
            <ol start="8">
               
               <li>Once you release the mouse button, you should see the circle become filled:</li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="23" src="assets/c664539c-3644-4cb3-acb8-4747e5c58dc8.png" width="398"/></div>
            
            <ol start="9">
               
               <li>Now, select the Standard editor or use <em>cmd</em> + <em>Enter</em>.
               </li>
               
            </ol>
            
            <p style="padding-left: 60px">In your scene, select your Collection View. Then, in your Utilities panel, select
               the Connections inspector, which is the last icon on the right. Under the <span class="packt_screen">Outlets</span> section, we now add back <span class="packt_screen">dataSource</span> and <span class="packt_screen">delegate</span>, the same ones we removed earlier:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="233" src="assets/d47a5139-7c05-4d4a-8ff7-4275b61bbd90.png" width="363"/></div>
            
            <div>
               
               <p style="padding-left: 60px">The <kbd>dataSource</kbd> property is what is used to supply the data for our Collection View, so we need to
                  pass whatever data we have to this property. On the other hand, the <kbd>delegate</kbd> property, which supplies the behavior, does not require us to supply anything as
                  it receives interactions that happen within our Collection View. 
               </p>
               
            </div>
            
            <p style="padding-left: 60px">We need to update our data source for our Collection View; let’s add this now:</p>
            
            <ol start="10">
               
               <li>Click and drag the <kbd>dataSource</kbd> property to the Explore View Controller in your Outline view.
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="225" src="assets/752edffa-c5f8-4eff-b0e9-820623bb11b6.png" width="815"/></div>
            
            <ol start="11">
               
               <li>Click and drag the delegate property to the Explore View Controller in your Outline
                  view:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="279" src="assets/dac31f72-c2ca-42b5-83d4-92bac29e8e6e.png" width="932"/></div>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Getting data into Collection View</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Having boxes is great, but having data with nice pictures is so much more appealing. 
               Let’s get some data displaying inside of our Collection View:  
            </p>
            
            <ol>
               
               <li>Use <em>cmd</em> + <em>Shift</em> + <em>O</em>, which opens a small window called <span class="packt_screen">Open Quickly</span>. Inside of the window, type <kbd>ExploreView</kbd> and hit <em>Enter</em> to select the <kbd>ExploreViewController.swift</kbd> file.
               </li>
               
            </ol>
            
            <p> </p>
            
            <ol start="2">
               
               <li>Update our class definition from the <kbd>ExploreViewController:UIViewController</kbd> <span>class </span>to the following:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">class ExploreViewController:UIViewController, UICollectionViewDataSource</pre>
            
            
            </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Understanding the data source</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Whenever we use Collection View to get data, we must conform to a protocol. A protocol
               is a set of methods to which we have access and can either be required or optional.
               For Collection Views, we are required to implement three methods to get data into
               a Collection View. So, let's add the following four functions (each beginning with
               <kbd>func</kbd>) after the closing curly brace of <kbd>viewDidLoad()</kbd>:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img src="assets/952ec5a6-2961-41b3-a2d2-2d30024f1495.png"/></div>
            
            <p>Let's break down the code to better understand what we are doing:</p>
            
            <ul>
               
               <li><strong>Part A</strong>: <span>This first method is what we need to add a header to our Collection View.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">collectionView(_:viewForSupplementaryElementOfKind:at:)</pre>
            <ul>
               
               <li><strong>Part B</strong>: <span>The identifier is what we added when we were designing in earlier chapters. This identifier
                     helps Xcode know what view we are referring to:</span></li>
               
            </ul>
            <pre style="padding-left: 60px">let headerView = collectionView.dequeueReusableSupplementaryView(ofKind: kind, withReuseIdentifier: "header", for: indexPath)<br/>return headerView</pre>
            <ul>
               
               <li><strong>Part C</strong>: <span>Our next method gets called for every item we need. Therefore, in our case, it gets
                     called 20 times:</span></li>
               
            </ul>
            <pre style="padding-left: 60px">collectionView(_:cellForItemAt:)</pre>
            <ul>
               
               <li><strong>Part D</strong>: <span>Here, we are creating a cell every time <kbd>collectionView(_:numberOfItemsInSection:)</kbd> is called. The identifier, exploreCell, is the name we gave it in the storyboard;
                     so, this is the cell that is grabbed and used inside of our Collection View:</span></li>
               
            </ul>
            <pre style="padding-left: 60px">return collectionView.dequeueReusableCell(withReuseIdentifier: "exploreCell", for: indexPath)</pre>
            <ul>
               
               <li><strong>Part E</strong>: <span>This method tells our Collection View how many different sections we want to display:</span></li>
               
            </ul>
            <pre style="padding-left: 60px">numberOfSections(in collectionView: UICollectionView)</pre>
            <ul>
               
               <li><strong>Part F</strong>: Here, we are telling our Collection View that we only want one section:
               </li>
               
            </ul>
            <pre style="padding-left: 60px">return 1</pre>
            <ul>
               
               <li><strong>Part G</strong>: <span>Our next method tells our Collection View how many different items we are going to
                     display inside of the section we set up.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">collectionView(_:numberOfItemsInSection:)</pre>
            <ul>
               
               <li><strong>Part H</strong>: <span>We are telling our Collection View that we want to display 20 items.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">return 20</pre>
            <ul>
               
               <li><strong>Part I</strong>: <span>Finally, we add this line back as it was removed. We use this function to dismiss
                     our location modal when you hit the <span class="packt_screen">Cancel</span> button.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">@IBAction func unwindLocationCancel(segue:UIStoryboardSegue) {}</pre>
            <p>Let's build and run the project by hitting the Play button (or using <em>cmd</em> + <em>R</em>). You will see that our app is back to where it was at the end of <a href="08517443-a8a5-49e8-9b03-9d29359beac5.xhtml">Chapter 11</a>, <em>Designing Static Tables</em>, but now we actually know what is going on the code side. 
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Summary</h1>
            
         </header>
         
         
         <article>
            
            
            <p>In this chapter, we covered quite a few new topics as well as a lot of code. As long
               as you have a basic understanding of what we covered in this chapter, you will be
               fine to continue. A lot of these concepts and ideas will be covered again, as these
               are common design patterns in iOS.
            </p>
            
            <p>We learned about the Model View Controller architecture. Then, we covered classes
               and structures, their similarities and differences. Finally, we looked at Controllers
               and classes and how they work. We then created our Controller for our storyboard file.
            </p>
            
            <p>In the next chapter, we will look at how to get local data into our app. We will also
               look at how to pass data from the <span class="packt_screen">Explore</span> view to the restaurant list.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   </body></html>