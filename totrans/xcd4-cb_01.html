<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Getting and Installing the iOS SDK Development Tools</h1></div></div></div><p>In this chapter, we will cover:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Downloading and installing the iOS SDK</li><li class="listitem" style="list-style-type: disc">Using Xcode to create an iOS project</li><li class="listitem" style="list-style-type: disc">Using Interface Builder to create the user interface</li><li class="listitem" style="list-style-type: disc">Building the user interface for our application</li><li class="listitem" style="list-style-type: disc">Creating outlets to Interface Builder objects</li><li class="listitem" style="list-style-type: disc">Creating actions that respond to user actions</li><li class="listitem" style="list-style-type: disc">Compiling your project</li><li class="listitem" style="list-style-type: disc">Using the iOS Simulator to test your applications</li><li class="listitem" style="list-style-type: disc">Configuring and using compiler directives</li><li class="listitem" style="list-style-type: disc">Debugging your iOS applications using Xcode</li><li class="listitem" style="list-style-type: disc">Using the Clang Static Analyzer to examine your code</li></ul></div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Introduction</h1></div></div></div><p>Welcome to the exciting world of iOS programming using iOS 6. This latest release of the mobile operating system is packed with some great new features and improvements, and comes with over 200 new features as well as an updated SDK featuring over 1,500 new development APIs that can be incorporated into your applications.</p><p>In this chapter, we will look at what <a id="id0" class="indexterm"/>
<strong>integrated development environments</strong> (<strong>IDEs</strong>) and <a id="id1" class="indexterm"/>
<strong>software development kits</strong> (<strong>SDKs</strong>) are needed to develop applications for the iOS platform, Apple's operating system for mobile devices. We will explain the importance of each tool's role in the development cycle, before finally developing our first application. The tools that are required to <a id="id2" class="indexterm"/>develop applications for the iOS platform are explained, as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>An Intel-based Mac computer running the Snow Leopard (10.6.*), Lion (10.7.*), or OS X Mountain Lion (10.8.*) operating system</strong>: The essential development tools cannot be installed on any other computer platforms, so if you are running another processor type (such as the older Mac G4 or Mac G5), you're out of luck.</li><li class="listitem" style="list-style-type: disc"><strong>iOS 5 SDK (or higher)</strong>: In order to download the Apple iOS SDK, you must be registered as an Apple developer. The iOS SDK consists of the following components:<div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Component</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<strong>Xcode</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>This is the main IDE that enables <a id="id3" class="indexterm"/>you to develop, edit, and debug native applications for the iOS and Mac platforms using the Objective-C programming language.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>iOS Simulator</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>This is a Cocoa-based application that <a id="id4" class="indexterm"/>enables you to debug your iOS applications on the computer, without the need of having an iOS device. There are many iOS features that simply won't work within the Simulator, so a device is required if an application uses those features, that is, the Core Location and MapKit frameworks.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Instruments</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>These are the analysis tools that help <a id="id5" class="indexterm"/>you optimize your applications and monitor for memory leaks during execution of your application at real time.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Dashcode</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>This enables you to develop web-based <a id="id6" class="indexterm"/>iOS applications and dashboard widgets.</p>
</td></tr></tbody></table></div></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Downloading and installing the iOS SDK</h1></div></div></div><p>This recipe includes information on how to sign up to the Apple Developer Program, as well as how to download and <a id="id7" class="indexterm"/>
<a id="id8" class="indexterm"/>install the necessary tools needed to develop applications using Xcode.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec07"/>Getting ready</h2></div></div></div><p>Before you can start building iOS applications, you must first join up as a registered user of the iOS Developer Program in order to download all of the necessary components to our computer. At the time of writing, the latest version is 4.5.2, and iOS SDK's latest version is 6.x. The registration process is free, and provides you access to the iOS SDK and other developer resources that are really useful for getting you started.</p><p>The following short list outlines some of the things that you will be able to access when you become a member of the iOS Developer Program:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Helpful getting started guides to help you get up and running quickly</li><li class="listitem" style="list-style-type: disc">Helpful tips that show you how to submit your apps to the App Store</li><li class="listitem" style="list-style-type: disc">Ability to download current releases of the iOS software</li><li class="listitem" style="list-style-type: disc">Ability to beta test releases of <a id="id9" class="indexterm"/><a id="id10" class="indexterm"/>iOS and the iOS SDK</li><li class="listitem" style="list-style-type: disc">Access to the Apple Developer Forums<div><div><h3 class="title"><a id="note02"/>Note</h3><p>Whether you are developing applications for the iPhone or iPad, these use the same <strong>operating system</strong> (<strong>OS</strong>) <a id="id11" class="indexterm"/>and iOS SDK to allow you to create universal applications that will work with both the iPhone and iPad running on iOS 4.3.* and above.</p></div></div></li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec08"/>How to do it...</h2></div></div></div><p>To prepare your computer for iOS <a id="id12" class="indexterm"/>
<a id="id13" class="indexterm"/>development, you will need to download and install the necessary components in the following order:</p><div><ol class="orderedlist arabic"><li class="listitem">To sign up to the iOS Developer Program, you will need to go to <a class="ulink" href="https://developer.apple.com/devcenter/ios/index.action">https://developer.apple.com/devcenter/ios/index.action</a> and then click on the <strong>Log in</strong> button to proceed, as shown in the following screenshot:<div><img src="img/3349_01_01.jpg" alt="How to do it..."/></div></li><li class="listitem">Once you have signed up, you will <a id="id14" class="indexterm"/><a id="id15" class="indexterm"/>then be able to download the iOS SDK and proceed with installing it onto your computer.</li><li class="listitem">Xcode can also be obtained from the <a id="id16" class="indexterm"/>Mac App Store at the following link <a class="ulink" href="http://itunes.apple.com/us/app/xcode/id497799835?mt=12">http://itunes.apple.com/us/app/xcode/id497799835?mt=12</a>, depending on whether you have chosen the version for Mac OSX Lion. The installation procedure in the remaining steps shows how to go about installing the iOS development tools for Snow Leopard.</li><li class="listitem">Once you have downloaded the SDK for Snow Leopard, you can proceed with installing it. You will be required to accept a few licensing agreements. Once you have done that, all you need to do is select the destination folder of the installation and click on the <strong>Continue</strong> button.</li><li class="listitem">If you select the default settings during the installation phase, the various tools will be installed in the <code class="literal">/Developer/Applications</code> folder. The installation process takes you through the custom installation options screen, as shown in the following screenshot:<div><img src="img/3349_01_02.jpg" alt="How to do it..."/></div></li></ol></div><p>These options give you a little more control over the installation process. For example, you are able to specify the folder location <a id="id17" class="indexterm"/>
<a id="id18" class="indexterm"/>in which you would like to install Xcode, as well as settings for a variety of other options.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec09"/>How it works...</h2></div></div></div><p>Now that everything has been installed and is ready to go, our next step is to take a look at what each component within the Xcode and iOS SDK is needed for.</p><p>As mentioned in the <em>Introduction</em> section of this chapter, the iOS SDK is made up of three important components. The main component, Xcode IDE, is Apple's IDE that allows for developing applications for the iOS and Mac platforms, and uses Objective-C as the default programming language.</p><p>This environment allows for better integration and editing of source code, and building, compiling, and debugging your applications. It contains a number of tools that can help with diagnosing issues with your iOS <a id="id19" class="indexterm"/>
<a id="id20" class="indexterm"/>applications. The topic on instruments, will be covered later on in this book. The IDE contains a device information window, called <strong>Organizer – Devices</strong>, which is shown in the following screenshot:</p><div><img src="img/3349_01_03.jpg" alt="How it works..."/></div><p>This screen is necessary to install the various certificates and provisioning profiles that are required for deploying an application onto a device for testing, or distribution through the Apple App Store. Using the <strong>Organizer – Devices</strong> window, you can view debugging information of your applications, <a id="id21" class="indexterm"/>
<a id="id22" class="indexterm"/>crash logs, as well as the ability to take screenshots from the device.</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Interface Builder</strong>: This is the user interface <a id="id23" class="indexterm"/>designer that is integrated within the IDE. Interface Builder provides you with all the necessary functionality to construct an application's user interface. All of your objects are stored within one or more resource files and contain the associated relationship to each of the objects. Any changes that you make to the form design are automatically synchronized back to your code.</li><li class="listitem" style="list-style-type: disc"><strong>iOS Simulator</strong>: This is an extremely <a id="id24" class="indexterm"/>useful tool that acts as a testbed for your applications without the need for using an actual device, whether an iPad or any other iOS device. Whenever you build and run your application, Xcode installs your application on the iOS Simulator and launches this for you automatically.<p>The iOS Simulator has the capability of simulating the different iOS versions, and this can <a id="id25" class="indexterm"/>
<a id="id26" class="indexterm"/>become extremely useful if your application needs to be installed on different iOS platforms, as well as testing and debugging errors reported in your applications when run under the different iOS versions.</p></li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec10"/>There's more…</h2></div></div></div><p>The following list provides you with the links that contain the tools and information for installing them:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Apple iOS Developer </strong><a id="id27" class="indexterm"/><strong>Portal</strong>: <a class="ulink" href="https://developer.apple.com/devcenter/ios/index.action">https://developer.apple.com/devcenter/ios/index.action</a></li><li class="listitem" style="list-style-type: disc"><strong>Apple Developer Tools </strong><a id="id28" class="indexterm"/><strong>information</strong>: <a class="ulink" href="https://developer.apple.com/technologies/tools/whats-new.html">https://developer.apple.com/technologies/tools/whats-new.html</a></li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec11"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Compiling your project</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Debugging your iOS applications using Xcode</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Using provisioning profiles to install an iOS app on an iOS device</em> recipe in <a class="link" href="ch10.html" title="Chapter 10. Packaging and Deploying Your Application">Chapter 10</a>, <em>Packaging and Deploying Your Application</em></li><li class="listitem" style="list-style-type: disc">The <em>Submitting an application to the App Store using iTunes Connect</em> recipe in <a class="link" href="ch10.html" title="Chapter 10. Packaging and Deploying Your Application">Chapter 10</a>, <em>Packaging and Deploying Your Application</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Using Xcode to create an iOS project</h1></div></div></div><p>In this recipe, we will see how <a id="id29" class="indexterm"/>
<a id="id30" class="indexterm"/>easy it is to create our very first iOS application project using the Xcode IDE.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec12"/>Getting ready</h2></div></div></div><p>Now that we have all of the preliminary components installed, we will start to create our very first <strong>HelloWorld</strong> project using Xcode.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec13"/>How to do it...</h2></div></div></div><p>To begin with creating a <a id="id31" class="indexterm"/>
<a id="id32" class="indexterm"/>new Xcode project, perform the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch Xcode from the <code class="literal">/Developer/Applications</code> folder.</li><li class="listitem">Choose <strong>Create a new Xcode project</strong>, or <strong>File</strong> | <strong>New Project</strong>.</li><li class="listitem">Select <strong>Single View Application</strong> from the list of available templates, as shown in the following screenshot:<div><img src="img/3349_01_04.jpg" alt="How to do it..."/></div></li><li class="listitem">Click on the <strong>Next</strong> button to proceed to the next step in the wizard.</li><li class="listitem">Next, enter <code class="literal">HelloWorld</code> as the name of your project.</li><li class="listitem">Select <strong>iPhone</strong> from under the <strong>Devices</strong> drop-down menu.</li><li class="listitem">Ensure that the <strong>Use Storyboards</strong> checkbox has not been checked.</li><li class="listitem">Ensure that the <strong>Use Automatic Reference Counting</strong> checkbox has been checked.</li><li class="listitem">Ensure that the <a id="id33" class="indexterm"/><a id="id34" class="indexterm"/><strong>Include Unit Tests</strong> checkbox has not been checked.<div><img src="img/3349_01_05.jpg" alt="How to do it..."/></div><div><div><h3 class="title"><a id="note03"/>Note</h3><p>The Company Identifier for your app needs to be unique. Apple recommends that you use the reverse domain style (for example, <code class="literal">com.domainName.appName</code>).</p></div></div></li><li class="listitem">Click on the <strong>Next</strong> button to proceed to the next step in the wizard.</li><li class="listitem">Specify the location where you would like to save your project.</li><li class="listitem">Then, click on the <strong>Create</strong> button to save your project at the specified location.</li></ol></div><p>Once your project has been created, you will be presented with the Xcode development environment, along with the project files that the template created for you. If you want, you can build and run the application. The iOS Simulator will start and show a blank white screen.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec14"/>How it works...</h2></div></div></div><p>Now that we have created our <strong>HelloWorld</strong> project, let's take the time to see what the template wizard created for us.</p><p>When Xcode creates a new iOS project, it also creates a series of files. Depending on what options have been selected <a id="id35" class="indexterm"/>
<a id="id36" class="indexterm"/>during this process may result in some additional files being created.</p><p>The following screenshot shows a list of the essentials files that form part of an iOS project:</p><div><img src="img/3349_01_06.jpg" alt="How it works..."/></div><p>The following are the important <a id="id37" class="indexterm"/>
<a id="id38" class="indexterm"/>files to take a note of:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">main.m</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">AppDelegate.h</code> and <code class="literal">AppDelegate.m</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">ViewController.h</code> and <code class="literal">ViewController.m</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">HelloWorld-info.plist</code></li></ul></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec01"/>main.m</h3></div></div></div><p>The main function is where the <a id="id39" class="indexterm"/>runtime lifecycle of your program starts and ends. The <code class="literal">UIApplicationMainstarts</code> <a id="id40" class="indexterm"/>function runs the loop that is responsible for sending notifications to the application through the <code class="literal">AppDelegate</code> class, and contains the various event handlers that can be overridden. <a id="id41" class="indexterm"/>This function takes four parameters and uses them to initialize the application.</p><div><pre class="programlisting">//  main.m
//  HelloWorld
//
//  Created by Steven F Daniel on 18/12/11.
//  Copyright (c) 2012GenieSoft Studios. All rights reserved.

#import &lt;UIKit/UIKit.h&gt;
#import "AppDelegate.h"

int main(int argc, char *argv[])
{
  @autoreleasepool {
  returnUIApplicationMain(argc, argv, nil, 
NSStringFromClass([AppDelegate class]));
  }
}</pre></div></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec15"/>There's more…</h2></div></div></div><p>You will notice that within our main function, it contains <code class="literal">@autoreleasepool</code>, which is an object to support the memory management system for your iOS device. Next, we are including the <code class="literal">argc</code> and <a id="id42" class="indexterm"/>
<code class="literal">argv[]</code> parameters. <a id="id43" class="indexterm"/>Given that all iOS applications run within a graphical interface and don't run from the command line, these are simply here so that they conform to the standard ANSI C coding practices.</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec02"/>Understanding application delegates</h3></div></div></div><p>The application delegate implements <a id="id44" class="indexterm"/>how your program should react at critical points during the application lifecycle. The delegate is responsible for initializing a window at application startup and cleaning up at program termination. This class is responsible for causing the main view controller to be displayed, as well as handling application responsiveness whenever your application suspends or resumes.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec03"/>Understanding the ViewController class</h3></div></div></div><p>This file implements the views <a id="id45" class="indexterm"/>functionality and contains the class methods that correspond to the view that is being loaded, as well as the method declarations that can be overridden. In the following table, we describe some of the methods that are contained within this class:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Method name</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">viewDidLoad</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This method is <a id="id46" class="indexterm"/>called whenever the view controller is loaded, and is used to set up any additional objects.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">viewDidUnload</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This method is <a id="id47" class="indexterm"/>called whenever the view is unloaded from memory.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">viewWillAppear</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This method is <a id="id48" class="indexterm"/>called whenever the view is ready to appear on the devices' screen, or that it has fully appeared already.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">viewDidAppear</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This method is called <a id="id49" class="indexterm"/>whenever you want to perform a particular action, once the view has fully appeared on screen, such as performing some sort of transition animation or sound.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">shouldAutorotateToInterfaceOrientation</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This method is normally <a id="id50" class="indexterm"/>used whenever you want your application to support multiple screen orientations, that is, landscape or portrait.</p>
</td></tr></tbody></table></div></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec04"/>Understanding ViewController.xib</h3></div></div></div><p>The XIB file may not be visible <a id="id51" class="indexterm"/>depending on whether you selected to use storyboards during the creation of your project. The XIB file is basically an XML file with a specific structure that is readable from Interface Builder, and contains various information about the user interface, such as the type of controls it contains, their properties, outlets, and so on.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec05"/>Understanding HelloWorld-info.plist</h3></div></div></div><p>This file is basically the applications' <a id="id52" class="indexterm"/>settings file and contains the properties and their values that define the various settings for an iOS application. These settings have information relating to the device orientations that it will support, the application icon and the supported iOS versions, as well as what devices the application can be installed on. The following screenshot shows the structure of this file when it has been double-clicked in the Xcode editor:</p><div><img src="img/3349_01_07.jpg" alt="Understanding HelloWorld-info.plist"/></div></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec16"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Building the user interface for our application</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Creating outlets to Interface Builder objects</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Adding and customizing views</em> recipe in <a class="link" href="ch02.html" title="Chapter 2. User Interfaces – Creating the UI">Chapter 2</a>, <em>User Interfaces – Creating the UI</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Using Interface Builder to create the user interface</h1></div></div></div><p>In this recipe, we will familiarize <a id="id53" class="indexterm"/>
<a id="id54" class="indexterm"/>ourselves with the Interface Builder application. Interface Builder is a visual tool that enables you to design the user interface for your iOS applications.</p><p>Using Interface Builder, you are able to drag-and-drop views and objects onto your canvas area from the libraries pane. These objects can then be connected using outlets and actions so that they can programmatically interact with your code.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec17"/>How to do it…</h2></div></div></div><p>To display our view controller within Interface Builder and the Xcode environment, perform the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Select the <code class="literal">ViewController.xib</code> file from the project navigator window.</li><li class="listitem">From the Xcode toolbar, select the viewing options, as shown in the following screenshot:<div><img src="img/3349_01_08.jpg" alt="How to do it…"/></div></li></ol></div><p>In the preceding screenshot, this shows what Interface Builder looks like when an XIB file has been chosen from the project navigator window.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec18"/>How it works…</h2></div></div></div><p>Whenever you use Interface Builder to <a id="id55" class="indexterm"/>
<a id="id56" class="indexterm"/>design a user interface, any objects that have been used from the library pane will be connected to the Xcode project that they belong to.</p><p>As you can see from the preceding screenshot, the Interface Builder workspace is divided into three main areas. The following table provides a brief description of which area is used for what functions:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Area name</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>Navigation area</p>
</td><td style="text-align: left" valign="top">
<p>This area displays <a id="id57" class="indexterm"/>all files associated with the project.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Editor area</p>
</td><td style="text-align: left" valign="top">
<p>This area is where we start to <a id="id58" class="indexterm"/>design our user interface from.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Inspector pane</p>
</td><td style="text-align: left" valign="top">
<p>This area is where we can <a id="id59" class="indexterm"/>configure each of our objects.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Library pane</p>
</td><td style="text-align: left" valign="top">
<p>This area is where we can locate <a id="id60" class="indexterm"/>objects and drag them onto our view. Such objects are the <code class="literal">UILabel</code>, <code class="literal">UIButton</code>, <code class="literal">UITextField</code>, and so on.</p>
</td></tr></tbody></table></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec19"/>There's more…</h2></div></div></div><p>You may have noticed the section called <strong>Simulated Metrics</strong> located on the <strong>Attributes</strong> tab within the inspector pane window. This area shows you how our interface will look like within the designer, and eventually how it will look like when it is deployed and run on the iOS device.</p><p>Here you can specify whether <a id="id61" class="indexterm"/>
<a id="id62" class="indexterm"/>your interface will have a status bar, toolbar, or even a navigation bar. It is worth mentioning that, if you set the <strong>Status Bar</strong> option to <strong>None</strong>, it does not mean that our application will start without a status bar.</p><div><div><h3 class="title"><a id="note04"/>Note</h3><p>The status bar is the bar that appears at the top of the device's screen and displays certain types of information to the user, such as the current time, battery status, carrier name, and so forth.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec20"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Building the user interface for our application</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Creating outlets to Interface Builder objects</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Adding and customizing views</em> recipe in <a class="link" href="ch02.html" title="Chapter 2. User Interfaces – Creating the UI">Chapter 2</a>, <em>User Interfaces – Creating the UI</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Building the user interface for our application</h1></div></div></div><p>In this recipe, we will learn <a id="id63" class="indexterm"/>
<a id="id64" class="indexterm"/>how to go about building our user interface and how to add controls.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec21"/>Getting ready</h2></div></div></div><p>Now that we have successfully created our project, we can start building our user interface using the Interface Builder designer.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec22"/>How to do it…</h2></div></div></div><p>Creating the user interface for our application using Interface Builder is really easy, and can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Select <strong>ViewController.xib</strong> from the project navigator window.</li><li class="listitem">From <strong>Object Library</strong>, drag a (<code class="literal">Label</code>) control to the view's canvas.</li><li class="listitem">Then, from the <strong>Attributes Inspector</strong> section, modify the <strong>Text</strong> property to read <strong>Firstname</strong>:.</li><li class="listitem">Next, resize the <code class="literal">Label</code> control so that the contents of the label fit.</li><li class="listitem">Then, from <strong>Object Library</strong>, drag a (<code class="literal">Textfield</code>) control to the view and place it to the right-hand side of the <strong>Firstname</strong> label and resize the <code class="literal">Textfield</code> control so that it is wide enough to fit the field contents.</li><li class="listitem">From <strong>Object Library</strong>, drag a (<code class="literal">Label</code>) control to the view's canvas.</li><li class="listitem">From the <strong>Attributes Inspector</strong> section, modify the <strong>Text</strong> property to read <strong>Surname:</strong>.</li><li class="listitem">Next, resize the <strong>Label</strong> control so that the contents of the label fit.</li><li class="listitem">Then, from <strong>Object Library</strong>, drag a (<code class="literal">Textfield</code>) control to the view and place it to the right-hand side of the <strong>Surname</strong> label and resize the <code class="literal">Textfield</code> control so that it is wide enough to fit the field contents.</li><li class="listitem">From <strong>Object Library</strong>, drag a (<code class="literal">Label</code>) control to the view's canvas and place it a bit further down under the <strong>Surname</strong> label.</li><li class="listitem">From the <strong>Attributes Inspector</strong> section, modify the <strong>Text</strong> property to read <strong>Output:</strong>.</li><li class="listitem">Next, resize the <code class="literal">Label</code> <a id="id65" class="indexterm"/><a id="id66" class="indexterm"/>control to about the width of the screen.</li><li class="listitem">Then, from <strong>Object Library</strong>, drag a (<code class="literal">Button</code>) control to the view and place it underneath the <code class="literal">Label</code> control and centered.</li><li class="listitem">Resize the <code class="literal">Button</code> control so that it is wide enough to fit the field contents.</li><li class="listitem">From the <strong>Attributes Inspector</strong> section, modify the <strong>Title</strong> property to read <strong>Tap Here</strong>.</li><li class="listitem">After adding the button, save the document by selecting <strong>File</strong> | <strong>Save</strong> from the menu bar. The main view should now look like the following screenshot:<div><img src="img/3349_01_09.jpg" alt="How to do it…"/></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec23"/>How it works…</h2></div></div></div><p>As you can see, using Interface Builder is not difficult once you get used to it. Whenever you drag objects onto your view, you will notice that a small green circled cross appears on the cursor to indicate that it <a id="id67" class="indexterm"/>
<a id="id68" class="indexterm"/>is safe to drop the object onto the view.</p><p>From this view, we are also able to resize the control, as well as modify the attributes associated with the control.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec24"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Building the user interface for our application</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Creating outlets to Interface Builder objects</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Creating actions that respond to user actions</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Creating outlets to Interface Builder objects</h1></div></div></div><p>In this recipe, we will take a <a id="id69" class="indexterm"/>
<a id="id70" class="indexterm"/>closer look at outlets and how these can be used to communicate with our UI.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec25"/>Getting ready</h2></div></div></div><p>In our previous section, we looked at how to add controls to our <code class="literal">ViewController</code> to form the construction of our user interface as well as set some properties to our controls. In this section, we will look at how we can connect these up and access these controls within our code.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec26"/>How to do it…</h2></div></div></div><p>Creating outlets to Interface Builder objects is a simple process and can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the assistant editor by selecting <strong>Navigate</strong> | <strong>Open In Assistant Editor</strong> or pressing <em>option</em> + <em>command</em> + <em>,</em>.</li><li class="listitem">Ensure that the <code class="literal">ViewController.h</code> interface file is displayed within the assistant editor window.</li><li class="listitem">Next, select the <strong>Firstname</strong> (<code class="literal">Label</code>) control, then hold down the <em>command</em> key and drag it into the <code class="literal">ViewController.h</code> interface file, within the brackets and the <code class="literal">@interface</code> and <code class="literal">@end</code> lines.</li><li class="listitem">Choose <strong>Outlet</strong> from the <strong>Connection</strong> drop-down menu for the type of connection to create.</li><li class="listitem">Enter <code class="literal">lblFirstname</code> for the name of the outlet property to create.</li><li class="listitem">Choose <strong>Strong</strong> from the <strong>Storage</strong> drop-down menu and click on the <strong>Connect</strong> button.</li><li class="listitem">Next, select the <strong>Firstname</strong> (<code class="literal">Textfield</code>) control, then hold down the <em>command</em> key, and drag it into the <code class="literal">ViewController.h</code> interface file.</li><li class="listitem">Choose <strong>Outlet</strong> from the <strong>Connection</strong> drop-down menu for the type of connection to create.</li><li class="listitem">Enter in <code class="literal">txtFirstname</code> for the name of the <strong>Outlet</strong> property to create.</li><li class="listitem">Choose <strong>Strong</strong> from the <strong>Storage</strong> drop-down menu and click on the <strong>Connect</strong> button.</li><li class="listitem">Repeat steps 3 to 9 to add the <strong>Surname</strong>, <strong>Label</strong>, and <strong>Tap Here</strong> button, while providing the names such as <code class="literal">lblSurname</code>, <code class="literal">txtSurname</code>, <code class="literal">lblOutput</code>, and <code class="literal">btnTapHere</code> for each.<div><div><h3 class="title"><a id="note05"/>Note</h3><p>Whenever you create an outlet, these will need to be created within the curly braces <code class="literal">{</code> <code class="literal">}</code>. The Interface Builder designer does not create these for you automatically, so you will need to add these before you create your outlets.</p></div></div><div><img src="img/3349_01_10.jpg" alt="How to do it…"/></div></li><li class="listitem">Once you have created the <a id="id71" class="indexterm"/><a id="id72" class="indexterm"/>necessary outlets, it would be good to save your project by selecting <strong>File</strong> | <strong>Save</strong>, or alternatively pressing <em>Command</em> + <em>S</em>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec27"/>How it works…</h2></div></div></div><p>Whenever we use outlets, these simply provide a means of allowing our Interface Builder objects to communicate with the code. This is necessary and is the only way in which we can access the user interface objects that have been created within the Interface Builder designer environment.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec28"/>There's more…</h2></div></div></div><p>There is another thing that we need to do when declaring outlets and that is to create the necessary properties for them. Creating these properties provides us access to these controls, and automatically creates the getter and setter methods for our objects.</p><p>Creating properties to Interface <a id="id73" class="indexterm"/>
<a id="id74" class="indexterm"/>Builder objects is a similar process to adding outlets, and can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Ensure that the <code class="literal">ViewController.h</code> interface file is displayed within the assistant editor window.</li><li class="listitem">Next, select the <strong>Firstname</strong> (<code class="literal">Label</code>) control, then hold down the <em>command</em> key and drag it into the <code class="literal">ViewController.h</code> interface file at the end of the closing curly brace.</li><li class="listitem">Choose <strong>Outlet</strong> from the <strong>Connection</strong> drop-down menu for the type of connection to create.</li><li class="listitem">Enter <code class="literal">lblFirstname</code> for the name of the outlet property to create.</li><li class="listitem">Choose <strong>Strong</strong> from the <strong>Storage</strong> drop-down menu and click on the <strong>Connect</strong> button.</li><li class="listitem">Next, select the <strong>Firstname</strong> (<code class="literal">Textfield</code>) control, then hold down the <em>command</em> key, and drag it into the <code class="literal">ViewController.h</code> interface file.</li><li class="listitem">Choose <strong>Outlet</strong> from the <strong>Connection</strong> drop-down menu for the type of connection to create.</li><li class="listitem">Enter <code class="literal">txtFirstname</code> for the name of the outlet property to create.</li><li class="listitem">Choose <strong>Strong</strong> from the <strong>Storage</strong> drop-down menu and click on the <strong>Connect</strong> button.</li><li class="listitem">Repeat steps 3 to 9 to add the <strong>Surname</strong>, <strong>Label</strong>, and <strong>Tap Here</strong> button, while providing the names such as <code class="literal">lblSurname</code>, <code class="literal">txtSurname</code>, <code class="literal">lblOutput</code>, and <code class="literal">btnTapHere</code> for each.<div><img src="img/3349_01_11.jpg" alt="There's more…"/></div></li></ol></div><p>Once you have created each of the <a id="id75" class="indexterm"/>
<a id="id76" class="indexterm"/>property outlets, the completed <code class="literal">ViewController.h</code> interface file will resemble the following code snippet:</p><div><pre class="programlisting">//  ViewController.h
//  HelloWorld
//
//  Created by Steven F Daniel on 22/08/12.
//  Copyright (c) 2012 GenieSoft Studios. All rights reserved.

#import &lt;UIKit/UIKit.h&gt;

@interface ViewController : UIViewController
{
    IBOutlet UILabel        *lblFirstname;
    IBOutlet UITextField  *txtFirstname;
    IBOutlet UILabel        *lblSurname;
    IBOutlet UITextField  *txtSurname;
    IBOutlet UILabel        *lblOutput;
    IBOutlet UIButton      *btnTapHere;
}

@property (strong, nonatomic) IBOutlet UILabel *lblFirstname;
@property (strong, nonatomic) IBOutlet UITextField *txtFirstname;
@property (strong, nonatomic) IBOutlet UILabel *lblSurname;
@property (strong, nonatomic) IBOutlet UITextField *txtSurname;
@property (strong, nonatomic) IBOutlet UILabel *lblOutput;
@property (strong, nonatomic) IBOutlet UIButton *btnTapHere;

@end</pre></div><p>Since we created our outlets, you will notice that Interface Builder has also created each of our outlets and have declared these within our <code class="literal">ViewController.m</code> implementation file, as shown in the following code snippet:</p><div><pre class="programlisting">//  ViewController.m
//  HelloWorld
//
//  Created by Steven F Daniel on 22/08/12.
//  Copyright (c) 2012 GenieSoft Studios. All rights reserved.

#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController
@synthesize lblFirstname;
@synthesize txtFirstname;
@synthesize lblSurname;
@synthesize txtSurname;
@synthesize lblOutput;
@synthesize btnTapHere;</pre></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec29"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Using Interface Builder to create the user interface</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Building the user interface for our application</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Creating actions that respond to user actions</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Creating actions that respond to user actions</h1></div></div></div><p>In this recipe, we will take a closer <a id="id77" class="indexterm"/>look at actions and how these can be used to respond to user actions.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec30"/>Getting ready</h2></div></div></div><p>In our previous section, we looked at how to add controls to our <code class="literal">ViewController</code> to construct our user interface and connect up each of the outlets, as well as create properties for each of our controls. In this section, we will look at how we can communicate with these outlets and display a message to the user when the <strong>Tap Here</strong> button is clicked.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec31"/>How to do it…</h2></div></div></div><p>Adding actions to interface <a id="id78" class="indexterm"/>
<a id="id79" class="indexterm"/>objects is a process similar to adding outlets, and can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the assistant editor by selecting <strong>Navigate</strong> | <strong>Open In Assistant Editor</strong> or by pressing <em>option</em> + <em>command</em> + <em>,</em>.</li><li class="listitem">Ensure that the <code class="literal">ViewController.h</code> interface file is displayed within the assistant editor window.</li><li class="listitem">Next, select the <strong>Tap Here</strong> (<code class="literal">Button</code>) control, then hold down the <em>command</em> key, and drag it into the <code class="literal">ViewController.h</code> interface file.</li><li class="listitem">Choose <strong>Action</strong> from the <strong>Connection</strong> drop-down menu for the type of connection to create.</li><li class="listitem">Enter <code class="literal">btnTapHere</code> for the name of the action to create and click on the <strong>Connect</strong> button.<div><img src="img/3349_01_12.jpg" alt="How to do it…"/></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec32"/>How it works…</h2></div></div></div><p>Whenever actions are created in Objective-C, they are responsible for responding and executing the associated code behind it. Instead of us hooking up an event handler to the <code class="literal">TouchUpInside</code> event of the button, we have decided to add an action to it and handle the output of this ourselves. These <a id="id80" class="indexterm"/>
<a id="id81" class="indexterm"/>types of actions are called instance methods.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec33"/>There's more…</h2></div></div></div><p>Our next step is to add the code into our <code class="literal">btnTapHere</code> event method, which will display a greeting message to the user when this button is clicked. Perform the following steps to do so:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Next, locate the <code class="literal">btnTapHere</code> event method and enter the following code snippet:<div><pre class="programlisting">- (IBAction)btnTapHere:(id)sender { 
    NSString *greeting = [NSStringstringWithFormat:@"Welcome 
                  To Xcode 4 Cookbook series %@ %@",txtFirstname.text, txtSurname.text];    
    lblOutput.text = greeting; 
    lblOutput.font = [UIFont boldSystemFontOfSize:21]; 
    lblOutput.textColor = [UIColorblueColor]; 
}</pre></div></li></ol></div><p>In our code snippet, we create an <code class="literal">NSString</code> object value called greeting, and then use the <code class="literal">stringWithFormat</code> method to concatenate our <code class="literal">firstname</code> and <code class="literal">surname</code> objects. Next, we assign this variable to our output label and then apply the font size and text color.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec34"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Compiling your project</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Debugging your iOS applications using Xcode</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Using the iOS Simulator to test your applications</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Compiling your project</h1></div></div></div><p>In this recipe, we will take a <a id="id82" class="indexterm"/>look at how we can compile our project with Xcode.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec35"/>Getting ready</h2></div></div></div><p>Xcode offers various options for compiling your application. In this section, we will take a look at these options.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec36"/>How to do it…</h2></div></div></div><p>Whenever you want to compile your application, you have the option of choosing to have your application run on the iOS device, or within each of the simulators for iPad or iPhone. The version number associated with the Simulators is dependent on the version of the iOS SDK you have installed on your computer. In Xcode 4, whenever you open an existing Xcode project or create a new one, Xcode will automatically create a default scheme for you.</p><p>This scheme allows you to either test your application within the iOS Simulator, or have it deployed to an iOS device. Additional schemes can be created, which we will shortly take a look at.</p><div><img src="img/3349_01_13.jpg" alt="How to do it…"/></div><p>Schemes are not new to Xcode 4 and they have existed since the early releases of Xcode 3. In previous releases of Xcode, you had to configure each of the items separately when setting an active target, a build configuration, or even an executable.</p><p>This posed many issues as all of these were linked to each other. This is where defining your own schemes comes in.</p><p>Schemes can be thought of as <a id="id83" class="indexterm"/>separate configurations, meaning that you can create a scheme to specify which targets to build, what configuration build to use, and what executable environment to use when the product specified by the target is launched (this could be if you wanted to target a specific iOS version, or if you wanted to have the application launch within the iOS Simulator). Perform the following steps:</p><div><ol class="orderedlist arabic"><li class="listitem">To choose a scheme, you can just select it from the scheme pop-up menu, as shown in the preceding screenshot. <strong>HelloWorld</strong> is our default scheme that was created for us automatically when the project was created.</li><li class="listitem">In order to create a new scheme, select the <strong>New Scheme…</strong> option. Alternatively, if you wanted to edit the active scheme you can choose the <strong>Edit Scheme…</strong> option. These options are also available under the <strong>Product</strong> menu.<p>Each scheme can be set to do a specific task. For instance, you may have a scheme to do a design build and one to handle the release or distribution. Various types of build options are available for building, testing, running, profiling (using instruments), and archiving your products, which can then be submitted to the App Store. There is no limit on the number of schemes that you can define. However, only one scheme can be active at one time.</p></li><li class="listitem">Schemes can also be managed by selecting the <strong>Manage Schemes…</strong> option, or similarly from the <strong>Product</strong> menu.</li></ol></div><p>You can specify whether schemes should be stored on a per-project basis, in which case these will be made available to every workspace that includes that project, or you can choose to have it stored within the workspace environment that it's currently in.</p><p>The following screenshot shows how you can customize the active scheme. You can specify the type of build configuration to use, the type of debugger, and the current working directory to use. You can also <a id="id84" class="indexterm"/>choose to have your product run at a higher resolution, which enables you to simulate your application running at different display resolutions.</p><div><img src="img/3349_01_14.jpg" alt="How to do it…"/></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Using the iOS Simulator to test your applications</h1></div></div></div><p>In this recipe, we will take a look at <a id="id85" class="indexterm"/>
<a id="id86" class="indexterm"/>how we can run our <strong>HelloWorld</strong> application using the iOS Simulator.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec37"/>Getting ready</h2></div></div></div><p>Now, let's run our application using the iOS Simulator. With the project window opened, ensure that you have selected the active scheme configuration to <strong>HelloWorld</strong> | <strong>iPhone Simulator</strong>.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec38"/>How to do it…</h2></div></div></div><p>Next, build and run the application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</p><p>When the compilation completes, the <a id="id87" class="indexterm"/>
<a id="id88" class="indexterm"/>iOS Simulator will appear automatically and your application that we just created will be displayed. Fill in the text fields and then click on the <strong>Tap Here</strong> button to see your result.</p><div><img src="img/3349_01_15.jpg" alt="How to do it…"/></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec39"/>How it works…</h2></div></div></div><p>The iOS Simulator is a fantastic tool that enables developers to test their applications without the need for an actual device. Whenever you use the iOS Simulator to build and run your application within the Xcode IDE, Xcode automatically installs your application within the iOS Simulator for you.</p><p>One of the other nice features of the iOS Simulator is that it has the capability of simulating different iOS versions, and this can be extremely useful if your application needs to be installed on different iOS platforms, as well as testing and debugging errors reported in your application when run under the different iOS versions.</p><p>It is worth mentioning that testing on the iOS Simulator is only good for a first round of testing, since it's not even running iOS <a id="id89" class="indexterm"/>
<a id="id90" class="indexterm"/>code and it's more forgiving than the real device (for example filenames are case insensitive typically (Mac filesystem rules)), you can write files anywhere. Testing on a Simulator is never a substitute for testing on a device.</p><p>In the end, you're just running your application in a Mac OS X application running on an Intel processor. It's not even close to running under iOS on a device. It's useful for catching obvious errors or doing quick testing during development, but you still need to device test.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec40"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Compiling your project</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Debugging your iOS applications using Xcode</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Registering your iOS devices for testing</em> recipe in <a class="link" href="ch10.html" title="Chapter 10. Packaging and Deploying Your Application">Chapter 10</a>, <em>Packaging and Deploying Your Application</em></li><li class="listitem" style="list-style-type: disc">The <em>Creating the development provisioning profiles</em> recipe in <a class="link" href="ch10.html" title="Chapter 10. Packaging and Deploying Your Application">Chapter 10</a>, <em>Packaging and Deploying Your Application</em></li><li class="listitem" style="list-style-type: disc">The <em>Using the provisioning profile to install the app on an iOS device</em> recipe in <a class="link" href="ch10.html" title="Chapter 10. Packaging and Deploying Your Application">Chapter 10</a>, <em>Packaging and Deploying Your Application</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Configuring and using compiler directives</h1></div></div></div><p>In C/C++, we use directives to include <a id="id91" class="indexterm"/>any other header files that our application will need to access. This is done by using the <code class="literal">#include</code> directive. In Objective-C, we use the <code class="literal">#import</code> directive. If you examine the contents of the <code class="literal">ViewController.h</code> file, you will notice that at the top of the file is a <code class="literal">#import</code> statement.</p><div><pre class="programlisting">
<strong>#import &lt;UIKit/UIKit.h&gt;</strong>

@interface ViewController : UIViewController
{
    IBOutlet UILabel     *lblFirstname;
    IBOutlet UITextField *txtFirstname;
    IBOutlet UILabel     *lblSurname;
    IBOutlet UITextField *txtSurname;
    IBOutlet UILabel     *lblOutput;
    IBOutlet UIButton    *btnTapHere;
}</pre></div><p>The <code class="literal">#import</code> statement is <a id="id92" class="indexterm"/>known as a preprocessor directive. As mentioned previously, in C/C++, you would use the <code class="literal">#include</code> preprocessor directive to include a file's content within the current source file. In Objective-C, you would use the <code class="literal">#import</code> directive statement to achieve the same result, with the exception that the compiler ensures that the file is only included once.</p><p>To import a header file from one of the Xcode framework libraries, you would specify the header filename using the angle brackets (<code class="literal">&lt;&gt;</code>) within the <code class="literal">#import</code> statement.</p><p>If you wanted to import one of your <a id="id93" class="indexterm"/>own custom-built header files containing your own methods, you would specify and make use of the double-quoted marks (<code class="literal">""</code>), as you can see from the following sample code:</p><div><pre class="programlisting">#import &lt;UIKit/UIKit.h&gt;
#import "MyClass.h" 

@interface ViewController : UIViewController {
}</pre></div><p>In this recipe, we will be taking a look at another approach where we can use directives to conditionally compile code based on a conditionally set pre-compiler flag that you can define yourself. This makes it easy for you to selectively enable parts of your application without making your code look messy.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec41"/>Getting ready</h2></div></div></div><p>In <code class="literal">HelloWorld-Prefix.pch</code>, we will start by declaring a few macros (so you don't have to litter your code with <code class="literal">#ifdef/#endif</code> blocks). The <code class="literal">HelloWorld-Prefix.pch</code> file is global in scope, so any functions you define there will be available in all of your classes, so this can be very useful.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec42"/>How to do it...</h2></div></div></div><p>Declaring compiler directives for your <a id="id94" class="indexterm"/>application is a very simple process, and can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">HelloWorld-Prefix.pch</code> implementation file from the project navigator, located under the supporting files group.</li><li class="listitem">Next, enter the following highlighted code snippet to this file:<div><pre class="programlisting">//
// Prefix header for all source files of the 'HelloWorld' target in the 'HelloWorld' project
//

#import &lt;Availability.h&gt;

#ifndef __IPHONE_4_0
#warning "This project uses features only available in iOS SDK 4.0 and later."
#endif

#ifdef __OBJC__
    #import &lt;UIKit/UIKit.h&gt;
    #import &lt;Foundation/Foundation.h&gt;
#endif

<strong>#ifdef DISPLAY_FIRSTNAME</strong>
<strong>#warning "This application will display the value of the First namefield."</strong>
<strong>#else</strong>
<strong>#warning "This application will display the values of both the First name and Surname fields."</strong>
<strong>#endif</strong>
</pre></div></li><li class="listitem">Next, we need to modify our <code class="literal">btnTapHere</code> method to be surrounded by an <code class="literal">#ifdef</code> statement, within our <code class="literal">ViewController.m</code> implementation file, as follows:<div><pre class="programlisting">- (IBAction)btnTapHere:(id)sender { 
#ifdef DISPLAY_FIRSTNAME 
      NSLog(@"Using the Firstname field."); 
      NSString *greeting = [NSString stringWithFormat:@"Welcome to Xcode 4 Cookbook series  %@",txtFirstname.text];
#else
    NSLog(@"Using Firstname and Surname  fields."); 
     NSString *greeting = [NSString  stringWithFormat:@"Welcome to Xcode 4 Cookbook series %@ %@",txtFirstname.text, txtSurname.text]; 
#endif 

lblOutput.text = greeting;
lblOutput.font = [UIFont boldSystemFontOfSize:21];
lblOutput.textColor = [UIColorblueColor];
}</pre></div></li></ol></div><p>Whenever you want to display just the first name of the user, you simply set this to <code class="literal">YES</code> by defining the conditional flag.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec43"/>How it works…</h2></div></div></div><p>Whenever compiler directives are <a id="id95" class="indexterm"/>used in Objective-C, they are responsible for responding to and executing the associated snippets of code encapsulated within the <code class="literal">#ifdef</code> and <code class="literal">#endif</code> tags.</p><p>This is particularly handy if you only want to force a set of <code class="literal">NSLog</code> messages or values to be used during testing, and not appear during the final release of your application. Some other uses where these types can be used would be, if you were creating a game and you wanted to disable some features in the trial or lite version of your game.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec44"/>There's more…</h2></div></div></div><p>In order to have your application use this compiler directive, we need to add this preprocessing flag to the <strong>Preprocessor Macros</strong> section, as follows:</p><div><ol class="orderedlist arabic"><li class="listitem">Select the <strong>HelloWorld</strong> project from the project navigator window.</li><li class="listitem">Next, select the <strong>HelloWorld</strong> project and then click on the <strong>Build Settings</strong> tab.</li><li class="listitem">Then, scroll down to the <strong>Apple LLVM compiler 4.0 – Preprocessing</strong> section.</li><li class="listitem">Double-click on the <strong>Debug</strong> section and then add the <code class="literal">DISPLAY_FIRSTNAME=YES</code> preprocessor flag.</li><li class="listitem">Dismiss this window by clicking outside within the project window.<div><img src="img/3349_01_18.jpg" alt="There's more…"/></div><p>That's all there is to it, easy. If you want to turn <code class="literal">DISPLAY_FIRSTNAME</code> off (for example, when you're ready to do your final release build), simply head back to this section and remove the flag from your project preferences.</p></li><li class="listitem">Next, build and run the application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em> and entering values for both <strong>Firstname</strong> and <strong>Surname</strong>. You should see a welcome message showing only your first name.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec45"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Compiling your project</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Debugging your iOS applications using Xcode</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Using the iOS Simulator to test your applications</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec18"/>Debugging your iOS applications using Xcode</h1></div></div></div><p>In this recipe, we will <a id="id96" class="indexterm"/>
<a id="id97" class="indexterm"/>show how easy it is to debug applications within Xcode and the iOS Simulator.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec46"/>Getting ready</h2></div></div></div><p>Xcode 4, provides you with a debugger for debugging your applications either using the iOS Simulator or on the actual iOS device. In this recipe, we will see how easy it is to debug applications to debug our <strong>HelloWorld</strong> application.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec47"/>How to do it…</h2></div></div></div><p>Debugging your application using the Xcode development environment is a simple process, and allows you to monitor changes to your application variables, as well as stepping through your source code line by line, and can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Next, locate the <code class="literal">btnTapHere</code> event method and place a breakpoint within the gray gutter, as shown in the following screenshot.</li><li class="listitem">You will notice that an arrow appears at the line you placed the marker at.<div><img src="img/3349_01_16.jpg" alt="How to do it…"/></div></li><li class="listitem">Next, build and run the application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li><li class="listitem">Populate the <strong>Firstname</strong> and <strong>Surname</strong> fields, and click on the <strong>Tap Here</strong> button.</li><li class="listitem">You will notice that execution of our application has paused, and the debugger has stopped at the line where we placed our breakpoint.</li><li class="listitem">Hover the mouse over the <code class="literal">greeting</code> variable in the breakpoint line to see the contents of the <strong>greeting</strong> label.<div><img src="img/3349_01_17.jpg" alt="How to do it…"/></div></li><li class="listitem">To continue execution of your application, click on the <strong>Continue program execution</strong> button.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec48"/>How it works…</h2></div></div></div><p>Although you can use the <a id="id98" class="indexterm"/>
<a id="id99" class="indexterm"/>debugger to pause execution of your program at any time and view the state of your program variables, it is better to set the breakpoints before you run your application.</p><p>A breakpoint is basically an instruction that tells the application to <em>stop</em> when the breakpoint has been reached. During this phase, the execution of your code pauses and waits for further instructions as to what to do next. During this phase, you have the opportunity to either inspect the current values of any of the properties, or step through the code.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec49"/>See Also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">If you would like to find out more information about the debugging features of Xcode, you can refer to the Apple developer documentation located at <a class="ulink" href="http://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/Xcode4UserGuide/060-Debug_Your_App/debug_app.html">http://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/Xcode4UserGuide/060-Debug_Your_App/debug_app.html</a><code class="literal">#//apple_ref/doc/uid/TP40010215-CH3-SW1.</code></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec19"/>Using the Clang Static Analyzer to examine your code</h1></div></div></div><p>In this section, we will <a id="id100" class="indexterm"/>
<a id="id101" class="indexterm"/>take a look at how we can use the Clang Static Analyzer tool to examine the syntax of our code for bugs.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec50"/>Getting ready</h2></div></div></div><p>There may be times when you want to examine the syntax of your code for bugs. This is where the Static Analyzer tool comes handy. This tool was first introduced back in Xcode 3.x, and opened and displayed the build results in a new window.</p><p>Xcode 4 allows you to perform the analysis of your code, examine the results, and apply the fixes to your source files all within the Xcode 4 workspace environment.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec51"/>How to do it…</h2></div></div></div><p>To run the Static Analyzer, perform the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Select the <strong>HelloWorld</strong> project from the project navigator window.</li><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file.</li><li class="listitem">Locate the <code class="literal">btnTapHere</code> method and enter the following modified code snippet:<div><pre class="programlisting">- (IBAction)btnTapHere:(id)sender {
 UIColor *color;
 int colorIndex;

#ifdef DISPLAY_FIRSTNAME
      NSLog(@"Using the Firstname field.");
      NSString *greeting = [NSString stringWithFormat:
@"Welcome to Xcode 4 Cookbook series %@",
txtFirstname.text];
#else
      NSLog(@"Using Firstname and Surname fields.");
      NSString *greeting = [NSString stringWithFormat:
@"Welcome to Xcode 4 Cookbook series %@ %@",
txtFirstname.text, txtSurname.text];
 #endif

if (colorIndex == 1) {
      lblOutput.textColor = [UIColor redColor];
}
else if (colorIndex == 2) {
      lblOutput.textColor = [UIColor blueColor];        
}
else if (colorIndex == 2) {
      lblOutput.textColor = [UIColor purpleColor];
}
else {
      lblOutput.textColor = [UIColor blueColor];
    }

      lblOutput.text = greeting;
      lblOutput.font = [UIFont boldSystemFontOfSize:21];
}</pre></div></li><li class="listitem">Select <strong>Product</strong> | <strong>Analyze</strong> from the <strong>Product</strong> menu, or alternatively press down the <em>Shift</em> + <em>command</em> + <em>B</em> key combinations.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec52"/>How it works…</h2></div></div></div><p>When the analyzer finishes checking your code for problems, the issues navigator opens automatically and shows you a list of <a id="id102" class="indexterm"/>
<a id="id103" class="indexterm"/>issues that were found within your project. This is shown in the following screenshot:</p><div><img src="img/3349_01_19.jpg" alt="How it works…"/></div><p>Clicking on an issue within the left-hand pane will open the file in question, and display the problem that has been marked with a blue triangle. Clicking on this triangle will display the faulty flow of logic that has been identified and detected by the static analyzer, as can be seen in the preceding screenshot.</p><p>The static analyzer has flagged that the <code class="literal">colorIndex</code> variable has a potential error. This is due to the fact that the variable was not initialized upon declaration and contains some random value.</p><p>You will also notice that the analyzer provides additional detail when you click on the message bubbles, and displays the control flow, as can be seen by the arrows. This provides you with a full <a id="id104" class="indexterm"/>
<a id="id105" class="indexterm"/>diagnosis of the bug. Many of the issues that are reported by the static analyzer tool have this information and make the analysis and fixing of these errors much easier.</p><div><div><h3 class="title"><a id="note06"/>Note</h3><p>If you would like to find out more information <a id="id106" class="indexterm"/>about the Static Analyzer, you can refer to the Apple developer documentation located at <a class="ulink" href="http://developer.apple.com/library/ios/#recipes/xcode_help-source_editor/Analyze/Analyze.html">http://developer.apple.com/library/ios/#recipes/xcode_help-source_editor/Analyze/Analyze.html</a>.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec53"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The Compiling your project recipe</li><li class="listitem" style="list-style-type: disc">The Debugging your iOS applications using Xcode recipe</li><li class="listitem" style="list-style-type: disc">The Using the iOS Simulator to test your applications recipe</li><li class="listitem" style="list-style-type: disc">The Registering your iOS devices for testing recipe in <a class="link" href="ch10.html" title="Chapter 10. Packaging and Deploying Your Application">Chapter 10</a>, <em>Packaging and Deploying Your Application</em></li><li class="listitem" style="list-style-type: disc">The <em>Creating the development provisioning profiles</em> recipe in <a class="link" href="ch10.html" title="Chapter 10. Packaging and Deploying Your Application">Chapter 10</a>, <em>Packaging and Deploying Your Application</em></li><li class="listitem" style="list-style-type: disc">The <em>Using the provisioning profile to install the app on an iOS device</em> recipe in <a class="link" href="ch10.html" title="Chapter 10. Packaging and Deploying Your Application">Chapter 10</a>, <em>Packaging and Deploying Your Application</em></li></ul></div></div></div></body></html>