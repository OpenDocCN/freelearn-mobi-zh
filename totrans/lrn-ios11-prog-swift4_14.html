<html><head></head><body>
      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Getting Data into Our Grid</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Working with data is very important, but when working with beginners, I like to do
               this in steps so that this process is a bit easier. In this chapter, we are going
               to work with data that is stored on the device. Later in the book, we will work with
               data that we get from a feed. Feed data means it is coming from a website URL. Using
               data from a feed means you can update the data without having to update the app.
            </p>
            
            <p>We will cover the following in this chapter:</p>
            
            <ul>
               
               <li>What is a model?</li>
               
               <li>What is a plist?</li>
               
               <li>How to create a plist?</li>
               
               <li>Working with a manager class</li>
               
            </ul>
            
            <p>In the last chapter, we got the <span class="packt_screen">Explore</span> listing up, but we have no data. We need to create a model that we can use to store
               information that our cell can use to display data.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Model</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Typically, when developing your model, the best way to start when you have a design
               is to look at the data associated with your view. Let's look at our app design again:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="511" src="assets/f3c5944b-1723-489d-844e-8c53fdc4138e.png" width="287"/></div>
            
            <p>The items (<kbd>UICollectionViewCell</kbd>) displayed in the grid are each supported by some data. Looking at the design, we
               see that each item needs an image and a name (cuisine). Therefore, we need to create
               a model called <kbd>ExploreItem</kbd> with two properties, specifically <kbd>image</kbd> and <kbd>name</kbd>.
            </p>
            
            <p>In the model camp, we have three files that we will create—<kbd>ExploreData.plist</kbd>, <kbd>ExploreItem.swift</kbd>, and <kbd>ExploreDataManager.swift</kbd>.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">ExploreData.plist</h1>
            
         </header>
         
         
         <article>
            
            
            <p>The first file, <kbd>ExploreData.plist</kbd>, has already been created for you and can be found in your project files for this
               chapter. This file contains all the data we need to have a list of cuisines. Drag
               this file into your <kbd>Model</kbd> folder in the Navigator panel.
            </p>
            
            <p>In the file, there is an array of dictionary items. Each item has a cuisine name and
               image for that particular cuisine. Let's take a look at the first few elements of
               this file: 
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="213" src="assets/e70b77e9-e237-48f3-a32d-05b738d87a8c.png" width="580"/></div>
            
            <p>We will load this file into our <span class="packt_screen">Explore</span> list, and this is what we use to filter restaurants by a specific cuisine.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">ExploreItem.swift</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Next, we need to create a file to represent our data. Our <span class="packt_screen">Explore</span> list displays an image and a name that match the corresponding image and name that
               we see in our <kbd>Explore.plist</kbd> file. Let's create this <kbd>ExploreItem</kbd> file now:
            </p>
            
            <ol>
               
               <li>Right-click on the <kbd>Model</kbd> folder and select <span class="packt_screen">New File</span>.
               </li>
               
               <li>Inside of the template screen, select <span class="packt_screen">iOS</span> at the top and then <span class="packt_screen">Swift File</span>. Then, hit <span class="packt_screen">Next</span>.
               </li>
               
               <li>Name the file <kbd>ExploreItem</kbd>, and then hit <span class="packt_screen">Create</span>.
               </li>
               
            </ol>
            
            <p>The only thing in this file is an <kbd>import</kbd> statement.
            </p>
            
            <div class="packt_infobox">
               
               <p>The <kbd>import</kbd> statement allows us to import other libraries into our file, giving us the ability
                  to see inside of these libraries and use properties from them. Foundation is one of
                  Apple's core frameworks, and it has a bunch of tools that we can use while we program. 
               </p>
               
            </div>
            
            <p>Since we do not need to use inheritance, we are going to make this file a <kbd>struct</kbd>. Add the following to your file:
            </p>
            <pre>struct ExploreItem {<br/>}</pre>
            <p>Now that we have declared it a <kbd>struct</kbd>, let's add the two properties we need for this file—an image, and a name. For both
               of these properties, we are going to make them String data types. For the title, this
               makes sense, because it is text that we are displaying in our Collection View. However,
               for the image, using a String data type might not seem as obvious. The reason we are
               making the image a data type of String is because, to get it, we have to access it
               by name. For example, <kbd>american.png</kbd> is the filename for the American cuisine image. Add the following to the inside of
               your curly braces (<kbd>{ }</kbd>):
            </p>
            <pre>var name:String?<br/>var image:String?</pre>
            <p>We have now added two properties, one for the image and one for the name, both of
               which are optional. Since we cannot give either of them an initial value, we have
               to make them optional.
            </p>
            
            <p>Your file should look like the following:</p>
            <pre>struct ExploreItem {<br/>  var name:String?<br/>  var image:String?<br/>}</pre>
            <p>We next need to add one more thing to this file.</p>
            
            <p>We take the dictionary data we get from the <kbd>plist</kbd> and create an <kbd>ExploreItem</kbd> for each item. Our dictionary now looks like the following:
            </p>
            <pre>["name": "All", "image": "all.png"]</pre>
            <p>We need to pass this dictionary object to our <kbd>ExploreItem</kbd>. When you are passing a dictionary object, you are required to create a custom initializer.
               Our initializer takes a dictionary object into it.  Then, we can set each item from
               the dictionary to the data of both of our properties, image, and name.
            </p>
            
            <div class="packt_tip">
               
               <p>When you create a struct, by default, you get an <kbd>init()</kbd> method that has all the properties you created in the parameters.
               </p>
               
            </div>
            
            <p>For example, our <kbd>ExploreItem</kbd> will have a default initializer that looks like the following:
            </p>
            <pre>init(name:String, image:String)</pre>
            <p>Instead of using this initializer, we will create our own to pass a dictionary object
               into it.
            </p>
            
            <p>To create a <strong>custom initializer</strong>, we are going to use what is called an <strong>extension</strong>, which gives us the ability to extend our code and add more functionality to it.
               Inside of your <kbd>ExploreItem</kbd> file, after the ending curly brace, add the following:
            </p>
            <pre>extension ExploreItem {<br/>}</pre>
            <p>Next, let's create our custom initializer that takes a dictionary object into the
               parameters. Add the following between the curly braces of the extension we just added:
            </p>
            <pre>init(dict:[String:Any Object]) {<br/>}</pre>
            <p>We have now created an <kbd>init()</kbd> method in the parameters, which accepts a dictionary object. As stated in the preceding
               section, we know that our data looks like the following:
            </p>
            <pre>["name": "All", "image": "all.png"]</pre>
            <p>To pass each value, we need to use the dictionary syntax, such as:</p>
            <pre>dict["name"]<br/>dict["image"]</pre>
            <p>Let's proceed by mapping the dictionary data to our two properties. Add the following
               inside of the <kbd>init()</kbd> method curly braces:
            </p>
            <pre>   self.name  = dict["name"] as? String<br/>   self.image = dict["image"] as? String<br/>}</pre>
            <div class="packt_tip">
               
               <p>Since our dictionary value is <kbd>AnyObject</kbd>, we have to specify that our data is a String by using the <kbd>as? String</kbd> at the end.  
               </p>
               
            </div>
            
            <p>We now have our data item set up for our <span class="packt_screen">Explore</span> view (cuisine list), and your file should look like the following:
            </p>
            <pre>extension ExploreItem {<br/>  init(dict:[String:AnyObject]) {<br/>    self.name  = dict["name"] as? String<br/>    self.image = dict["image"] as? String<br/>  }<br/>}</pre>
            <p>Let's now focus on our data manager. We want our data manager to handle parsing the
               plist and giving us the data. Since our data will be coming from a plist, we need
               to have a method that will get the data from the plist first.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">ExploreDataManager.swift</h1>
            
         </header>
         
         
         <article>
            
            
            <p>In our app, the data manager is responsible for communicating with a service (for
               example, the Yelp API, which we will discuss later in the book), as well as manipulating
               the data from the service. Once the data from the service is received, the data manager
               will create model objects that we can use for our app.
            </p>
            
            <p>In some apps, these two jobs are handled by the controller. However, rather than putting
               that responsibility on our controller, we limit the controller from talking to the
               manager so that it never knows anything about the service.
            </p>
            
            <div class="packt_infobox">
               
               <p>As you get comfortable with programming, you will find that there are a few different
                  types of architectures. We are sticking as closely as we can to MVC, because it is
                  what Apple uses to build iOS apps.
               </p>
               
            </div>
            
            <p>Let's create the <kbd>ExploreDataManager</kbd> file now:
            </p>
            
            <ol>
               
               <li>Right-click on the <kbd>Model</kbd> folder and select <span class="packt_screen">New File</span>.
               </li>
               
               <li>Inside of the template screen, select <span class="packt_screen">iOS</span> at the top and then <span class="packt_screen">Swift File</span>. Then, hit <span class="packt_screen">Next</span>.
               </li>
               
               <li>Name this file <kbd>ExploreDataManager</kbd>, and hit <span class="packt_screen">Create</span>.
               </li>
               
            </ol>
            
            <p>Since we need to define our class first, add the following under the <kbd>import</kbd> statement:
            </p>
            <pre>class ExploreDataManager {<br/>}</pre>
            <p>Here, we used a <kbd>class</kbd> instead of a <kbd>struct</kbd>, because this is a file that we will inherit from later. You do not always necessarily
               know if you are going to inherit from another class or not; therefore, you can just
               default to a struct and then change to a class if you realize that you need to inherit
               from another class.
            </p>
            
            <p>Now, we need to load data from the <kbd>ExploreData.plist</kbd> file. Add the following method to our <kbd>ExploreDataManager</kbd>:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="234" src="assets/878aaae9-02f9-4d11-912a-f7f3334681cd.png" width="687"/></div>
            
            <ul>
               
               <li><strong>Part A</strong>: <span>This  function starts with the <kbd>fileprivate</kbd> keyword. Think of <kbd>fileprivate</kbd> as a way to give your methods an access level. If you do not use <kbd>fileprivate</kbd>, it defaults to internal, which means anyone can access or use the method outside
                     of the class.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">private</pre>
            <ul>
               
               <li><strong>Part B</strong>: <span>Our <kbd>loadData()</kbd> function is returning something back. The <kbd>-&gt;</kbd> states that our function has a return value. The return value for this method is
                     an array with dictionary objects. Our dictionary will have a key of a String, and
                     the value will be <kbd>AnyObject</kbd>.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">[[String: AnyObject]]</pre>
            <div class="packt_infobox">
               
               <p><kbd>AnyObject</kbd> lets us take any data type that comes back. Therefore, we can have one item give
                  us an Int, while another gives us back a String.
               </p>
               
               <p>You can also use <kbd>Any</kbd>. <kbd>Any</kbd> can represent an instance of any type at all, including functional types and optional
                  types.
               </p>
               
            </div>
            
            <ul>
               
               <li><strong>Part C</strong>: <span>Inside of the function, we are using what is known as a <kbd>guard</kbd> statement. A <kbd>guard</kbd> statement is designed for exiting a method or function early if a given statement
                     returns <kbd>false</kbd>. Our <kbd>guard</kbd> checks two statements and both need to return <kbd>true</kbd>.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">guard let path = Bundle.main.path(forResource: "ExploreData", ofType: "plist")</pre>
            <p style="padding-left: 60px">The first statement checks to see if the <kbd>ExploreData.plist</kbd> file exists in our app bundle. If the file is found, the statement returns <kbd>true</kbd>, and the file path is set to the constant path. Our next statement, which is separated
               by a comma, is discussed in <em>Part D</em>, as follows.
            </p>
            
            <ul>
               
               <li><strong>Part D</strong>: <span><span>In this statement, if the first statement returns <kbd>true</kbd>, we take the <kbd>path</kbd> constant, and then we check the contents inside of the file. Let's take a look at
                        the data in our file again:</span></span></li>
               
            </ul>
            <pre style="padding-left: 60px">let items = NSArray(contentsOfFile: path)</pre>
            <div class="CDPAlignCenter CDPAlign"><img src="assets/346de2e7-47eb-46dc-9160-86538f2a1592.png"/></div>
            
            <p style="padding-left: 60px">If you look at the root of this plist, you see that its type is an array. <kbd>NSArray</kbd> has a method that we can use to get the data out of our file and put it into an array
               with which we can work.
            </p>
            
            <div class="packt_infobox">Typically, plists come in two types, an array or a dictionary. Currently, neither
               the standard array nor dictionary gives us a method that allows us to get data out
               of a file, so we need to utilize <kbd>NSArray</kbd> (as we are here) or <kbd>NSDictionary</kbd>, respectively, to do that.
            </div>
            
            <p style="padding-left: 60px">This statement now checks to verify that we are, indeed, working with an array, and
               then returns <kbd>true</kbd> if so. If both conditions return <kbd>true</kbd>, our array inside of our plist is given to us. The array is set to our constant items.
            </p>
            
            <div class="packt_infobox">
               
               <p><kbd>NSArray</kbd> and <kbd>NSDictionary</kbd> come from Objective C (Apple's main programming language for building iOS apps);
                  they have some extra features. Just know that they are similar to their Swift counterparts
                  without the <kbd>NS</kbd>.
               </p>
               
            </div>
            
            <ul>
               
               <li><strong>Part E</strong>: <span>Here, if any of the conditions are <kbd>false</kbd>, we return an array with an empty dictionary. </span></li>
               
            </ul>
            <pre style="padding-left: 60px">else { return [[:]] }</pre>
            <p style="padding-left: 60px">Otherwise, we run the following <kbd>return</kbd>.
            </p>
            
            <ul>
               
               <li><strong>Part F</strong>: <span>This <kbd>return</kbd> gives back an array of dictionary items. Once we have our data loaded out of the
                     plist, we can create our <kbd>ExploreItem</kbd>. Therefore, we need a method so that we can access all of our <span class="packt_screen">Explore</span> items and return an array of items.</span></li>
               
            </ul>
            <pre style="padding-left: 60px">return items as! [[String : AnyObject]]</pre>
            
            
            </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Getting data</h1>
            
         </header>
         
         
         <article>
            
            
            <p>To get our data out of the plist, add the following method above <kbd>loadData()</kbd> inside of our <kbd>ExploreDataManager</kbd>:
            </p>
            <pre>func fetch() {<br/>  for data in loadData() {<br/>    print(data)<br/>  }<br/>}</pre>
            <p>Our <kbd>fetch()</kbd> method is going to loop through our dictionary data from the plist. Here is what
               your file should look like now:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="303" src="assets/b1dbfa66-b7e4-4d24-bc8b-927c9e5b8413.png" width="634"/></div>
            
            <p>Inside of your <kbd>ExploreViewController.swift</kbd> file, delete the previous <kbd>print</kbd> statement that was inside of your <kbd>viewDidLoad()</kbd> and replace it with the following:
            </p>
            <pre>let manager = ExploreDataManager()<br/>manager.fetch()</pre>
            <p>Let's build and run the project by hitting the Play button (or use <em>cmd</em>+ <em>R</em>). You will notice that, in the <span class="packt_screen">Debug</span> panel, every time our loop runs, it gives a dictionary object, such as the following:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="354" src="assets/b7792e79-e6c2-4ec7-b7c4-ec79822ed174.png" width="340"/></div>
            
            <p>This is exactly what we want.</p>
            
            <p>Now, inside of <kbd>ExploreDataManager</kbd>, add the following directly above our <kbd>fetch</kbd> method:
            </p>
            <pre>fileprivate var items:[ExploreItem] = []</pre>
            <p>Next, inside of our <kbd>fetch()</kbd>, update our <kbd>for...in</kbd> loop by replacing <kbd>print(data)</kbd> with the following:
            </p>
            <pre>items.append(ExploreItem(dict: data))</pre>
            <p>Your file should look like mine:</p>
            
            <div class="CDPAlignCenter CDPAlign"><img src="assets/2d52715e-8fba-4f8c-8844-4684c5c84904.png"/></div>
            
            <p>Let's build and run the project by hitting the Play button (or use <em>cmd</em> + <em>R</em>). In the <span class="packt_screen">Debug</span> panel, you should see an array of <span class="packt_screen">Explore</span> items.
            </p>
            
            <p>We currently have our data, and we have cells. However, we need to get our data to
               our cells so that we can see the image and name. Let's open up <kbd>Explore.storyboard</kbd> and update our <kbd>exploreCell</kbd>.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Connecting to our cell</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Now that we have our cell set up, we need to create a file so that we can connect
               to our cells:
            </p>
            
            <ol>
               
               <li>Right-click on the <kbd>View</kbd> folder in the Navigator panel and select <span class="packt_screen">New File</span>.
               </li>
               
               <li>Inside of the template screen, select <span class="packt_screen">iOS</span> at the top, and then <span class="packt_screen">Cocoa Touch Class</span>. Then, hit <span class="packt_screen">Next</span>.
               </li>
               
               <li>You should now see an options screen. Add the following:</li>
               
            </ol>
            
            <p style="padding-left: 60px">New file:</p>
            
            <ul>
               
               <li style="list-style-type: none">
                  
                  <ul>
                     
                     <li><span class="packt_screen">Class</span>: <kbd>ExploreCell</kbd></li>
                     
                     <li><span class="packt_screen">Subclass</span>: <kbd>UICollectionViewCell</kbd></li>
                     
                     <li><span class="packt_screen">Also create XIB</span>: Unchecked
                     </li>
                     
                     <li><span class="packt_screen">Language</span>: <kbd>Swift</kbd></li>
                     
                  </ul>
                  
               </li>
               
            </ul>
            
            <ol start="4">
               
               <li>After hitting <span class="packt_screen">Next</span>, you are asked to create this file. Select <span class="packt_screen">Create</span> and your file should look like mine:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">import UIKit<br/>class ExploreCell: UICollectionViewCell {<br/>}</pre>
            <ol start="5">
               
               <li>Next, open <kbd>Explore.storyboard</kbd> and select the <kbd>exploreCell</kbd> in the Outline view.
               </li>
               
               <li>In the Utilities panel, select the Identity inspector and, under <span class="packt_screen">Custom Class</span>, type <kbd>ExploreCell</kbd>. Then, hit <em>Enter</em>.
               </li>
               
            </ol>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Hooking up our UI with IBOutlets</h1>
            
         </header>
         
         
         <article>
            
            
            <p>To access our UI elements, we need to connect them with <kbd>IBOutlets</kbd>.
            </p>
            
            <ol>
               
               <li>Open the <kbd>ExploreCell.swift</kbd> file in the Navigator panel (or use <em>cmd</em> + <em>Shift</em> + <em>O</em>, type <kbd>ExploreCell</kbd>, and then hit <em>Enter</em>).
               </li>
               
               <li>Inside of the class declaration, add the following:</li>
               
            </ol>
            <pre style="padding-left: 60px">@IBOutlet var lblName:UILabel!<br/>@IBOutlet var imgExplore:UIImageView!</pre>
            <ol start="3">
               
               <li>Open <kbd>Explore.storyboard</kbd> and select your <kbd>exploreCell</kbd> again.
               </li>
               
               <li>In the Utilities panel, select the Connection inspector. You should see both variables
                  we just created, <span class="packt_screen">lblName</span> and <span class="packt_screen">imgExplore</span>, under <span class="packt_screen">Outlets</span>:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="276" src="assets/107c615f-adf5-4873-b495-399546df0800.png" width="363"/></div>
            
            <ol start="5">
               
               <li>Now, Ctrl + drag from <span class="packt_screen">imgExplore</span> to the <span class="packt_screen">UIImageView</span> we put in our cell:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="382" src="assets/41e197ca-029e-48fc-977a-720f65e183d8.png" width="550"/></div>
            
            <ol start="6">
               
               <li>Repeat this step for <span class="packt_screen">lblName</span> by CTL dragging from <span class="packt_screen">lblName</span> to the <span class="packt_screen">UILabel</span> in our cell:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="375" src="assets/6ea14f32-e367-4d52-b549-4fb88c8cbe18.png" width="515"/></div>
            
            <p>Great! Now that we have our cell set up, let's pull data into it. In our <kbd>ExploreDataManager</kbd>, add these two methods above the <kbd>loadData()</kbd> method:
            </p>
            <pre>func numberOfItems() -&gt; Int {<br/>   return items.count<br/>}<br/><br/>func explore(at index:IndexPath) -&gt; ExploreItem {<br/>   return items[index.item]<br/>}</pre>
            <p>We use the first method, <kbd>numberOfItems()</kbd>, to update the total number of items in our Collection View. The second method, <kbd>explore (at index:IndexPath)</kbd>, is called for each item we create in our Collection View. Then, we use this to pass
               the data to our cell to display the name and the image.
            </p>
            
            <p>Now that we have these two methods added, let's open up our <kbd>ExploreViewController</kbd> file. We currently have the following inside of our <kbd>viewDidLoad()</kbd>:
            </p>
            <pre>let manager = ExploreDataManager()<br/>manager.fetch()</pre>
            <p>Let's move <kbd>let manager</kbd> underneath our Collection View so that it is outside <kbd>viewDidLoad()</kbd>; and, therefore, we can access it anywhere within the class as opposed to only within
               the function. You should now have this before <kbd>viewDidLoad()</kbd>:
            </p>
            <pre>@IBOutlet var collectionView: UICollectionView!<br/>let manager = ExploreDataManager()</pre>
            <p>Inside of <kbd>viewDidLoad()</kbd>, only <kbd>manager.fetch()</kbd> remains. Next, we need to update our <kbd>numberOfItemsInSection()</kbd> to say:
            </p>
            <pre>func collectionView(_ collectionView: UICollectionView, numberOfItemsInSection section: Int) -&gt; Int {<br/>  return manager.numberOfItems()<br/>}</pre>
            <p>Therefore, instead of returning 20, we are going to get the number of items from our
               plist.
            </p>
            
            <p>Finally, inside of our <kbd>cellForItemAt()</kbd>, revise the <kbd>let</kbd> statement in the third required method before <kbd>return</kbd> cell by adding <kbd>as! ExploreCell</kbd>, as follows:
            </p>
            <pre>let cell = collectionView.dequeueReusableCell(withReuseIdentifier: "exploreCell", for: indexPath) as! ExploreCell</pre>
            <p>Then, add the following after the code snippet you just added and before <kbd>return</kbd> cell:
            </p>
            <pre>let item = manager.explore(at: indexPath)<br/>if let name = item.name { cell.lblName.text = name }<br/>if let image = item.image { cell.imgExplore.image = UIImage(named: image) }</pre>
            <p>This gets an <kbd>ExploreItem</kbd> for each cell in our Collection View and passes the data to the cell. Finally, for
               your return, add the following:
            </p>
            <pre>return cell</pre>
            <p>Let's build and run the project by hitting the Play button (or use <em>cmd</em> + <em>R</em>). You should now see your Collection View come to life with images and text:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="484" src="assets/b7f013e4-0cc0-453b-b7d3-029f09ec1f7f.png" width="229"/></div>
            
            <p>The images are not perfect, but we will fix them later. Now that we have our cells
               displaying content, we need to make it so that when you select a cell, it goes to
               our restaurant listing.
            </p>
            
            <p>Let's build and run the project by hitting the Play button (or use <em>cmd</em> + <em>R</em>). You should now be able to select your cell, and it goes to what will be your restaurant
               listing page. This page will be empty for now, so let's work on this next. 
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Restaurant listing</h1>
            
         </header>
         
         
         <article>
            
            
            <p>Now that we have our <span class="packt_screen">Explore</span> listing going to our restaurant listing, we need to get our Collection View connected
               to our <kbd>RestaurantListViewController</kbd>:
            </p>
            
            <ol>
               
               <li>Right-click inside of the <kbd>LetsEat</kbd> folder and select <span class="packt_screen">New File</span>.
               </li>
               
               <li>Inside of the template screen, select <span class="packt_screen">iOS</span> at the top and then <span class="packt_screen">Cocoa Touch Class</span>. Then, hit <span class="packt_screen">Next</span>.
               </li>
               
            </ol>
            
            <p style="padding-left: 60px">You should now see an options screen.</p>
            
            <ol start="3">
               
               <li>Add the following:</li>
               
            </ol>
            
            <p style="padding-left: 60px">New file:</p>
            
            <ul>
               
               <li style="list-style-type: none">
                  
                  <ul>
                     
                     <li><span class="packt_screen">Class</span>: <kbd>RestaurantViewController</kbd></li>
                     
                     <li><span class="packt_screen">Subclass</span>: <kbd>UIViewController</kbd></li>
                     
                     <li><span class="packt_screen">Also create XIB</span>: Unchecked
                     </li>
                     
                     <li><span class="packt_screen">Language</span>: <kbd>Swift</kbd></li>
                     
                  </ul>
                  
               </li>
               
            </ul>
            
            <p style="padding-left: 60px">After hitting <span class="packt_screen">Next</span>, you will be asked to create this file.
            </p>
            
            <ol start="4">
               
               <li>Select <span class="packt_screen">Create</span>.
               </li>
               
               <li>Let's delete both <kbd>didReceiveMemoryWarning()</kbd> and <kbd>prepare()</kbd> (which has been commented out), as we do not need them at this time.
               </li>
               
               <li>Open <kbd>Restaurants.storyboard</kbd>.
               </li>
               
               <li>Then, select the <kbd>UIViewController</kbd> in the Utility panel, and select the Identity inspector, which is the third icon
                  from the left.
               </li>
               
               <li>Under <span class="packt_screen">Custom Class</span>, and in the <span class="packt_screen">Class</span> drop-down menu, select <kbd>RestaurantViewController</kbd> and hit <em>Enter</em>.
               </li>
               
            </ol>
            
            <p> </p>
            
            <ol start="9">
               
               <li>If your Navigator panel is currently open, close it by clicking on the hide navigator
                  toggle or <em>cmd</em> + <em>0</em>.
               </li>
               
               <li>If your Utilities panel is currently open, close it by clicking on the Utilities toggle
                  or use <em>cmd</em> + <em>Alt</em>/<em>Alt</em> + <em>0</em>.
               </li>
               
               <li>Next, select the Assistant editor or use <em>cmd</em> + <em>Alt</em>/<em>Alt</em> + <em>Enter</em>.
               </li>
               
               <li>You should now see <kbd>Restaurants.storyboard</kbd> on the left side and <kbd>RestaurantListViewController.swift</kbd> on the right.
               </li>
               
               <li>Now, add the following after:</li>
               
            </ol>
            <pre style="padding-left: 60px">class RestaurantListViewController: UIViewController {<br/>   @IBOutlet var collectionView:UICollectionView!</pre>
            <ol start="14">
               
               <li>After you create the variable, you see a small circle to the left of the variable.</li>
               
               <li>When you hover over it, you see a plus button appear inside of the circle. Click on
                  it and drag this to your Collection View inside of your <kbd>UIViewController</kbd>:
               </li>
               
               <li>Once you release, you see the circle become filled:</li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="19" src="assets/5cec34c5-87c8-481c-9e75-6e0ccc8fca85.png" width="327"/></div>
            
            <p style="padding-left: 60px">Now, it is time to display something inside of our Collection View:  </p>
            
            <ol start="17">
               
               <li>Use <em>cmd</em> + <em>Shift</em> + <em>O</em>, which opens the <span class="packt_screen">Open Quickly</span> search box, and type <kbd>Restaurant</kbd>. Then, hit <em>Enter</em> to select the <kbd>RestaurantListViewController.swift</kbd> file.
               </li>
               
               <li>In your scene, select your Collection View. Then, in your Utilities panel select the
                  Connections inspector, which is the last icon on the right. Under the <span class="packt_screen">Outlets</span> section, <kbd>dataSource</kbd> and <kbd>delegate</kbd>, the same ones we removed earlier, we now add them back:
               </li>
               
            </ol>
            
            <div class="CDPAlignCenter CDPAlign"><img height="208" src="assets/5786b170-a33f-4d08-8a99-1267ad546ca6.png" width="325"/></div>
            
            <ol start="19">
               
               <li>Next, we need to update our class definition inside of the <kbd>RestaurantListViewController</kbd>. You currently have <kbd>RestaurantListViewController:UIViewController</kbd>—update it to the following:
               </li>
               
            </ol>
            <pre style="padding-left: 60px">class RestaurantListViewController:UIViewController, UICollectionViewDataSource</pre>
            <p>As you learned earlier with our <span class="packt_screen">Explore</span> grid, we are required to implement <kbd>numberOfSections()</kbd>, <kbd>numberOfItemsInSection()</kbd>, and <kbd>cellForItemAt()</kbd> in order to use a Collection View. Therefore, add the following three methods inside
               of our <kbd>RestaurantListViewController</kbd>:
            </p>
            <pre>func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -&gt; UICollectionViewCell {<br/>    return collectionView.dequeueReusableCell(withReuseIdentifier: "restaurantCell", for: indexPath)<br/>}<br/><br/>func numberOfSections(in collectionView: UICollectionView) -&gt; Int {<br/>    return 1<br/>}<br/><br/>func collectionView(_ collectionView: UICollectionView, numberOfItemsInSection section: Int) -&gt; Int {<br/>    return 10<br/>}</pre>
            <p>Let's build and run the project by hitting the play button (or use <em>cmd</em> + <em>R</em>) to see what happens:
            </p>
            
            <div class="CDPAlignCenter CDPAlign"><img height="454" src="assets/ba59b23b-df4e-48d5-a667-e5f5275f5248.jpg" width="256"/></div>
            
            <p>Instead of having a grid, as we did for <span class="packt_screen">Explore</span>, our restaurant list displays a column of cells. However, when the restaurant list
               displays on the iPad, it shows a grid instead. This is one of the flexibilities from
               which we benefit by using a Collection View. We will further set up our restaurant
               list cells along with displaying the data later in the book.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   

      
      <section>
         
         
         <header>
            
            <h1 class="header-title">Summary</h1>
            
         </header>
         
         
         <article>
            
            
            <p>In this chapter, we talked about what a model is and looked at what a plist is. We
               also learned how to create a plist as well as creating our first manager class that
               takes care of the data. In our data manager, we covered getting data from a plist
               and how to represent that data as a model object.
            </p>
            
            <p>In the next chapter, we will look at the differences between static and prototype
               Table Views. You will see a lot of similarities between Table Views and Collection
               Views, especially concerning how we get data into them.
            </p>
            
            
            
         </article>
         
         
         
      </section>
      
   </body></html>