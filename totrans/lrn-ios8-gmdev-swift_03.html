<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch03"/>Chapter 3. An Introduction to Xcode</h1></div></div></div><p>In the last chapter, we saw the Playground tool. It's a simple tool to test your code, but if you want to actually create an application and run it on a device or publish and distribute it through the Mac or iOS App Store, you need to create an Xcode project.</p><p>In this chapter, we will take a tour of Xcode. We will take a detailed look at the interface, create a very basic "Hello World" application, and make it run on the simulator and later on the device.</p><p>We will be covering the following topics extensively in this chapter:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Xcode application types</li><li class="listitem" style="list-style-type: disc">The Xcode interface</li><li class="listitem" style="list-style-type: disc">Running the app on the device</li></ul></div><div><div><div><div><h1 class="title"><a id="ch03lvl1sec29"/>Xcode application types</h1></div></div></div><p>Xcode comes with<a id="id188" class="indexterm"/> some predefined application types for creating some <a id="id189" class="indexterm"/>specific types of applications. They are the <strong>Master-Detail Application</strong>, <strong>Page-Based Application</strong>, <strong>Single View Application</strong>, <strong>Tabbed Application</strong>, and <strong>Game</strong> types, as shown in the following screenshot. We have already seen what is in the <strong>Game</strong> type, so let's look at the other types:</p><div><img src="img/B04014_03_01.jpg" alt="Xcode application types"/></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec33"/>Master-Detail Application</h2></div></div></div><p>If you want to create a <a id="id190" class="indexterm"/>very basic application type, such <a id="id191" class="indexterm"/>as the <em>Notes</em> application, for the iOS, you should choose this template and then modify it to create your application. There is a <strong>Master</strong> list (shown in the following screenshot), and when you click on the each item on the list, it will show the details of the selected item from the list. There is a customizable <strong>Master</strong> button in the top-left corner of the <strong>Detail</strong> view. Clicking on it will take you back to the <strong>Master</strong> screen:</p><div><img src="img/B04014_03_02.jpg" alt="Master-Detail Application"/></div><p>You can create the <a id="id192" class="indexterm"/>project in a way similar to how you<a id="id193" class="indexterm"/> created the <strong>Game</strong> application in the first chapter: click on the icon for the type of application, and then select the name of the project, its location, bundle ID, and platforms that you want to create the app for.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec34"/>Page-Based Application</h2></div></div></div><p>If you want to create an application that resembles a book with a page-flipping effect, you need to choose the <a id="id194" class="indexterm"/>
<strong>Page-Based Application</strong> <a id="id195" class="indexterm"/>template. You can specify the book cover and then add content to the pages to create a flipbook application. You can swipe your fingers to the left to turn to the next page, or swipe to the right to go back to the previous page.</p><div><img src="img/B04014_03_03.jpg" alt="Page-Based Application"/></div></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec35"/>Tabbed Application</h2></div></div></div><p>The <strong>Tabbed Application</strong> template<a id="id196" class="indexterm"/> will have a row of buttons at the <a id="id197" class="indexterm"/>bottom of the screen, and clicking through it will show you different views. A <strong>Tabbed Application</strong> template is similar to the way the tabs work when opening the <em>Music</em> app on your device. When the Music app is opened, the tab displayed is <strong>Playlists</strong>. The other tabs are <strong>Artists</strong>, <strong>Songs</strong>, <strong>Albums</strong>, <strong>Genres</strong>, <strong>Compilations</strong>, and <strong>Composers</strong> (the last tab). The <strong>Playlist</strong> tab shows the playlists that you have stored, but if you click on the <strong>Artists</strong> tab, it will show a list of songs that has been sorted by artists. If you build the default application, you will have two tabs: <strong>First</strong> and <strong>Second</strong>. Clicking on the tab at the bottom will open the respective screens, like this:</p><div><img src="img/B04014_03_04.jpg" alt="Tabbed Application"/></div></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec36"/>Single View Application</h2></div></div></div><p>The <strong>Single View Application</strong> template<a id="id198" class="indexterm"/> is the most basic one. If<a id="id199" class="indexterm"/> your application doesn't adhere to any of the previous application template types, then you can use this to create your own applications.</p><p>For this chapter, we will start from the basics, so we will create a Single View Application. Click on <strong>Xcode</strong> to open it and then on <strong>Create a new Xcode project</strong>. Under <strong>iOS</strong>, select <strong>Application</strong> on the left panel. Then, select <strong>Single View Application</strong> and create it.</p><p>When you create a project and run it, the simulator will open up to show a blank screen, as shown in the following screenshot. When I said <strong>Single View Application</strong> templates are the most basic, I wasn't kidding. You will get a single view controller and no buttons to navigate. The advantage here is that you will see some basic classes that Apple already provides for creating the app from scratch, and then you can add items of your own to make it your app.</p><div><img src="img/B04014_03_05.jpg" alt="Single View Application"/></div><p>You should save this <a id="id200" class="indexterm"/>blank project, as we will be<a id="id201" class="indexterm"/> referring to it when we cover the interface of Xcode in the next section. So go ahead; name the file and save the project in the Mac.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec30"/>The Xcode interface</h1></div></div></div><p>If you are continuing from the <a id="id202" class="indexterm"/>previous section, then open the single view application you created in the previous section. Otherwise, you can create a new Single View Application project. As we will be spending most of our time looking at this window for the rest of the book, let's get a detailed understanding of its layout.</p><p>Open the project and you will be greeted with the window that is shown in the following screenshot. The top area of the <strong>Project</strong> view is called a toolbar. Below the toolbar on the left is the <strong>Project Navigation</strong> Panel. Right under in the middle is the <strong>Editor</strong> panel, and to the right of that is the <strong>Utilities</strong> <a id="id203" class="indexterm"/>panel. There is one more panel, the <strong>Debug</strong> panel, that might not be open by default, but we will activate it later:</p><div><img src="img/B04014_03_06.jpg" alt="The Xcode interface"/></div><p>There is a lot of information in each of the toolbars and panels. Let's look at them individually.</p><div><div><div><div><h2 class="title"><a id="ch03lvl2sec37"/>The toolbar</h2></div></div></div><p>The top of the Xcode project is<a id="id204" class="indexterm"/> the toolbar. Next to the maximize button on the left, the<a id="id205" class="indexterm"/> play and stop button are for running and stopping the application. Next to these buttons are the schemes in which you can select the target app and the device that you would like to run the application on, whether it is an actual device or a simulator.</p><p>At the center of the toolbar is the Activity View. This shows the status of the application at any given time. When you build a project, it will show the progress of the build, displaying the various stages of the build process.</p><div><img src="img/B04014_03_07.jpg" alt="The toolbar"/></div><p>To the right of the Activity View, there are two sets of three buttons. The first set of three buttons on the right is used to change the <strong>Editor</strong> panel according to your needs:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Standard Editor</strong>: This is activated by default whenever a new project is created. This setting is used when coding, debugging, or navigating through the project. We will be using this panel almost all the time.</li><li class="listitem" style="list-style-type: disc"><strong>Assistant Editor</strong>: Click on this button and another panel will open up to the right of <strong>Standard Editor</strong>. This is called <strong>Assistant Editor</strong>. It will provide more information, depending on what is clicked on in <strong>Standard Editor</strong>. In the following example, in the navigation panel, I clicked on the <code class="literal">Main.Storyboard</code> file. The <strong>Standard Editor</strong> changes to display the objects in the file, and the <strong>Assistant Editor</strong> shows the contents of the class associated with the View Controller as it is selected in the <strong>Standard Editor</strong>.<div><img src="img/B04014_03_08.jpg" alt="The toolbar"/></div></li><li class="listitem" style="list-style-type: disc"><strong>Version Editor</strong>: When <a id="id206" class="indexterm"/>selected, the <strong>Standard Editor</strong> is again <a id="id207" class="indexterm"/>split into two panels, and we will be able to see and compare the changes in the current and previous versions of the code. In the example shown in the following screenshot, I made some changes to the <code class="literal">ViewController.swift</code> file. The comment added is highlighted on the left panel, and the right panel shows where these changes are being made to the file. This is obviously very powerful when using source code management for your project. Source Control Management is already included in Xcode and is initiated when a new project is created.<div><img src="img/B04014_03_09.jpg" alt="The toolbar"/></div></li></ul></div><p>The three buttons to the right of the editor are used to hide and show the <strong>Navigator</strong>, <strong>Debug</strong>, and <strong>Utilities</strong> panels. These panels can be shown or hidden as per your requirement or convenience. For example, to take the preceding screenshot and get more screen real estate, I hid the utilities panel by clicking on the rightmost button.</p><p>That is all for the toolbar. Let's look at the <strong>Navigation</strong> panel next.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec38"/>The Navigation panel</h2></div></div></div><p>Below the toolbar on the left is the<a id="id208" class="indexterm"/> <strong>Navigation</strong> panel. It has eight tabs. From<a id="id209" class="indexterm"/> left to right, they are <strong>Project Navigation</strong>, <strong>Symbol</strong>, <strong>Find</strong>, <strong>Issue</strong>, <strong>Test</strong>, <strong>Debug</strong>, <strong>Breakpoint</strong>, and <strong>Report Navigator</strong>. Clicking on any tab will activate it. By default, the <strong>Project Navigation</strong> tab is selected.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec39"/>The Project Navigation tab</h2></div></div></div><p>The <strong>Project Navigation</strong> tab<a id="id210" class="indexterm"/> shows the content of the files that you have<a id="id211" class="indexterm"/> in a project, including code files and asset files. Later, if you add frameworks to the games, those will also be displayed is this panel, making it easier to navigate through. As we saw earlier, you can edit code by clicking on a code file such as a <code class="literal">.swift</code> file, and in the editor window, you can add, remove, and modify code. If you have image assets and three-dimensional meshes, those files will also be shown here. By clicking on the images and three-dimensional files, you can view the content, but you will not be able to modify it. For that, you will need to open the file in applications such as Photoshop to edit images and three-dimensional packages such as <code class="literal">Maya</code> or <code class="literal">3dsmax</code> to edit the three-dimensional geometry:</p><div><img src="img/B04014_03_10.jpg" alt="The Project Navigation tab"/></div><p>You can organize a set of files<a id="id212" class="indexterm"/> using folders (called <strong>groups</strong> here). Keep <a id="id213" class="indexterm"/>in mind that this is meant just to organize files in <strong>Project Navigator</strong>. Creating a new group or folder in the <strong>Navigation</strong> panel won't create a folder in the project directory in the system.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec40"/>The Symbol Navigator tab</h2></div></div></div><p>The next button to the <a id="id214" class="indexterm"/>right is the <a id="id215" class="indexterm"/>
<strong>Symbol Navigator</strong> tab. You can access all the symbols such as functions, methods, properties, classes, structs, enums, and variables in the project.</p><div><img src="img/B04014_03_11.jpg" alt="The Symbol Navigator tab"/></div><p>
<strong>C</strong> denotes that it is a <a id="id216" class="indexterm"/>class, <strong>M</strong> stands for method, and <strong>P</strong> stands<a id="id217" class="indexterm"/> for property. There are other notations also, but these are the most basic notations you will usually come across.</p><p>So, in the <code class="literal">AppDelegate</code> class, there are six methods and a property called <code class="literal">window</code>.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec41"/>The Find Navigator tab</h2></div></div></div><p>The <strong>Find Navigator</strong> tab<a id="id218" class="indexterm"/> is used to search for phrases or files in the project by<a id="id219" class="indexterm"/> name. In the following example, I am trying to search for the term <code class="literal">UIKit</code>, and it looks as if it is imported in the three classes:</p><div><img src="img/B04014_03_12.jpg" alt="The Find Navigator tab"/></div><p>You can also choose to <a id="id220" class="indexterm"/>search for the keyword in the current score, or <a id="id221" class="indexterm"/>create a new scope to look in other places. Also, by clicking on the <strong>Find</strong> drill-down arrow, you can choose to find or replace commands on text that contain, match, start with, or end with your search term.</p><div><img src="img/B04014_03_13.jpg" alt="The Find Navigator tab"/></div></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec42"/>The Issue Navigator tab</h2></div></div></div><p>The errors and <a id="id222" class="indexterm"/>warnings list, count, and description will be displayed in the <a id="id223" class="indexterm"/>
<strong>Issue Navigator</strong> tab whenever your project has build errors. You can click on the items in the list to show the location and file where the error exists:</p><div><img src="img/B04014_03_14.jpg" alt="The Issue Navigator tab"/></div><p>In the preceding example, I forgot to close the comment section in the <code class="literal">ViewController</code> class, so I get an error after building the project telling me that in <code class="literal">ViewController.swift</code>, there is an undetermined <code class="literal">/*</code> comment. In some cases, the error message may not be very explicit, but at least, you will get a hint of what might be causing the error.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec43"/>The Test Navigator tab</h2></div></div></div><p>If you are using unit tests on the <a id="id224" class="indexterm"/>project, then the results of the test are displayed in the <a id="id225" class="indexterm"/>
<strong>Test Navigator</strong> tab. Unit testing is a topic in itself, and is unfortunately beyond the scope of this book. To know more about unit testing, you can look at Apple's official documentation for <a id="id226" class="indexterm"/>more <a id="id227" class="indexterm"/>information <a id="id228" class="indexterm"/>at <a class="ulink" href="https://developer.apple.com/library/ios/recipes/xcode_help-test_navigator/Recipe.html#//apple_ref/doc/uid/TP40013329-CH1-SW1">https://developer.apple.com/library/ios/recipes/xcode_help-test_navigator/Recipe.html#//apple_ref/doc/uid/TP40013329-CH1-SW1</a>.</p><div><img src="img/B04014_03_15.jpg" alt="The Test Navigator tab"/></div></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec44"/>The Debug Navigator tab</h2></div></div></div><p>The <a id="id229" class="indexterm"/>
<strong>Debug Navigator</strong> tab<a id="id230" class="indexterm"/> is used for debugging and showing how optimized your code is. This navigator is active only when an application is running. While an application is running on the simulator or on a device, we can get information regarding CPU, memory, disk, and network usage. Apart from general system information, you also get a stack of methods and functions that were called in the corresponding order. Clicking on the methods and functions will open them in the editor panel.</p><div><img src="img/B04014_03_16.jpg" alt="The Debug Navigator tab"/></div><p>There are two <a id="id231" class="indexterm"/>buttons to the right of the running app. The first button <a id="id232" class="indexterm"/>on the left lets you hide or show the gauges, and the button on right lets you select whether you want to view the <strong>Process by thread</strong>, <strong>Process by Queue</strong>, or <strong>View by UI Hierarchy</strong>.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec45"/>The Breakpoint Navigator tab</h2></div></div></div><p>The <a id="id233" class="indexterm"/>
<strong>Breakpoint Navigator</strong> tab<a id="id234" class="indexterm"/> shows the location of all the breakpoints we've added to the files in the project. The location of the breakpoints is shown class- and method-wise. It will also show the line number on which the breakpoint was added.</p><div><img src="img/B04014_03_17.jpg" alt="The Breakpoint Navigator tab"/></div><p>By right-clicking on <a id="id235" class="indexterm"/>the any breakpoints, you can edit, <a id="id236" class="indexterm"/>disable, share, delete, or move it.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec46"/>The Report Navigator tab</h2></div></div></div><p>The <strong>Report Navigator</strong> tab<a id="id237" class="indexterm"/> shows the history of the recent <a id="id238" class="indexterm"/>builds and logs of the project, along with a timestamp:</p><div><img src="img/B04014_03_18.jpg" alt="The Report Navigator tab"/></div><p>This concludes the section on the <strong>Navigation</strong> panel.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec31"/>The Utility panel</h1></div></div></div><p>The top part of the <a id="id239" class="indexterm"/>
<strong>Utility</strong> panel is context-sensitive, depending on what kind of file is clicked on in the <strong>Navigation</strong> panel. The bottom part of the <strong>Utility</strong> panel has four tabs for the different library types used to drag-and-drop certain library-specific objects onto the <strong>Editor</strong> panel. Sometimes, the top part gets hidden under the bottom part of the panel, but you can drag the bottom part of the utility to reveal the content hidden under it.</p><div><img src="img/B04014_03_19.jpg" alt="The Utility panel"/></div><p>The <strong>Utility</strong> panel is better understood once we jump through the project and look at each file individually.</p></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec32"/>The Single View Project</h1></div></div></div><p>Go back to <a id="id240" class="indexterm"/>the <strong>Project Navigator</strong> tab. This is the first tab from the left in the <strong>Navigation</strong> panel. Let's look at the files in the <strong>Project Navigator</strong> tab. The <strong>Project Navigator</strong> tab shows the project root and under it, all the files associated with the project. Let's look at the project root first.</p><div><div><div><div><h2 class="title"><a id="ch03lvl2sec47"/>The project root</h2></div></div></div><p>When you click on the <a id="id241" class="indexterm"/>root of the application that is at the top of the tab, you<a id="id242" class="indexterm"/> will see the <strong>Editor</strong> panel change to display six tabs: <strong>General</strong>, <strong>Capabilities</strong>, <strong>Info</strong>, <strong>Build Settings</strong>, <strong>Build Phases</strong>, and <strong>Build Rules</strong>. Most of the time, you will be concerned with the first three tabs: <strong>General</strong>, <strong>Capabilities</strong>, and <strong>Info</strong>.</p><div><div><div><div><h3 class="title"><a id="ch03lvl3sec10"/>General</h3></div></div></div><p>This tab contains the<a id="id243" class="indexterm"/> basic information about the app. We had a brief look at it in <a class="link" href="ch01.html" title="Chapter 1. Getting Started">Chapter 1</a>, <em>Getting Started</em>, when we changed the orientation of the game. This tab has five subsections, as shown in the following screenshot:</p><div><img src="img/B04014_03_20.jpg" alt="General"/></div><p>The preceding <a id="id244" class="indexterm"/>screenshot has the following sections:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Identity</strong>: This shows the bundle identifier, version number of the app, build number of the app, and team. We will look at the team when we deploy the app on the device, as it requires some steps to get it.</li><li class="listitem" style="list-style-type: disc"><strong>Deployment Info</strong>: Here, you can select the value of <strong>Deployment Target</strong>. By default, we are targeting iOS 8.1 devices here, but if we want our app to be compatible with previous version, we can use 7.0. However, we must make sure we are not using any APIs from 8.1, in which case the app will give build errors. We can select the device that we want to target, whether we want to target the iPhone or iPad, or make a universal app. The main interface file is the first file that will be called when the application has finished loading. The files here should have the<code class="literal">.storyboard</code> extension, so here we are calling the <code class="literal">Main.storyboard</code> file when the application launches. We can also change the device orientation here and select the value for <strong>Status Bar Style</strong>, and also hide the status bar by clicking on the check box.</li><li class="listitem" style="list-style-type: disc"><strong>App Icons and Launch Images</strong>: The source file for the app icons is provided here. The<a id="id245" class="indexterm"/> <code class="literal">AppIcon</code> file is selected here. If you are <a id="id246" class="indexterm"/>wondering where this file is, it is in the <code class="literal">Images.xcassets</code> folder. We will use this file to assign the icons for different iOS versions and devices. If you want an image to be displayed at launch of the application, you can create an asset catalog file to display the launch images for different devices and iOS versions, similar to icons. We can also specify a launch screen file, which will be displayed while the application is launching. Here, the <code class="literal">LaunchScreen</code> file will be displayed during the launch. The file extension for the <code class="literal">LaunchScreen</code> file, which was in <code class="literal">.nib</code> format previously, should be in <code class="literal">.xib</code> format. Even though the extension has changed, they are still referred to as NIB files.</li><li class="listitem" style="list-style-type: disc"><strong>Embedded Binaries</strong>: This shows any binaries that are embedded in the project.</li><li class="listitem" style="list-style-type: disc"><strong>Linked Frameworks and Libraries</strong>: This displays the list of frameworks and libraries included in the project.</li></ul></div></div><div><div><div><div><h3 class="title"><a id="ch03lvl3sec11"/>The Capabilities tab</h3></div></div></div><p>This shows the Apple services that <a id="id247" class="indexterm"/>the application uses. To use a service, you will need to activate it by turning it <strong>ON</strong> on the right-hand side. Games usually use services such as GameCenter, In-App Purchases, and iCloud integration for cloud saves.</p><div><img src="img/B04014_03_21.jpg" alt="The Capabilities tab"/></div></div><div><div><div><div><h3 class="title"><a id="ch03lvl3sec12"/>The Info tab</h3></div></div></div><p>The <strong>Info</strong> tab<a id="id248" class="indexterm"/> contains information regarding the <a id="id249" class="indexterm"/>version number, build number, storyboard file base name (which is the storyboard file to be loaded at start of the app), app name, and some other information. All of this information is loaded from the <code class="literal">info.plist</code> file, which is located in the <code class="literal">Supporting Files</code> folder of the project. There are some other things such as document types, exported UTIs, imported UTIs, and URL types, which, for the most part, you won't be dealing with during the course of this book.</p><div><img src="img/B04014_03_22.jpg" alt="The Info tab"/></div></div><div><div><div><div><h3 class="title"><a id="ch03lvl3sec13"/>The Build Settings tab</h3></div></div></div><p>The basic view of <a id="id250" class="indexterm"/>the <strong>Build Settings</strong> tab<a id="id251" class="indexterm"/> shows information regarding deployment, such as the target device and iOS version, location of the path for frameworks, packaging info such as location of the <code class="literal">info.plist</code> file and <strong>Product Name</strong>, <strong>Asset Catalog App Icon Set Name</strong>, and other user-defined settings.</p><div><img src="img/B04014_03_23.jpg" alt="The Build Settings tab"/></div><p>A more detailed<a id="id252" class="indexterm"/> look can be taken by clicking on the <strong>All</strong> tab instead of <a id="id253" class="indexterm"/>
<strong>Basic</strong>. This will give information about the setting for the architectures supported, locations and options for the build, and code signing, which we will cover when we are ready to test the app on the device and deploy it on the App Store. It has further settings and information regarding the kernel module, linker, and compiler.</p></div><div><div><div><div><h3 class="title"><a id="ch03lvl3sec14"/>The Build Phases tab</h3></div></div></div><p>The <strong>Build Phases</strong> tab<a id="id254" class="indexterm"/> shows the target dependencies added, list of source files, libraries added, and asset resources added.</p><div><img src="img/B04014_03_24.jpg" alt="The Build Phases tab"/></div><p>This tab is sort of important, in the sense that when you want to add frameworks to your project, you will have come to this tab to include them. Also, sometimes when you get build errors, you might want to <a id="id255" class="indexterm"/>check whether all the required source files are actually in the <strong>Compile Sources</strong> list, as this can be the reason for build errors. Build errors can be introduced once your<a id="id256" class="indexterm"/> project becomes bigger as you might end up deleting some source files.</p></div><div><div><div><div><h3 class="title"><a id="ch03lvl3sec15"/>The Build Rules tab</h3></div></div></div><p>You will probably never be<a id="id257" class="indexterm"/> required to change anything here, as it is mostly used if you want a specific file type to compile in a certain way. To define a custom process for a certain file type, you just have to create a new build rule.</p><div><img src="img/B04014_03_25.jpg" alt="The Build Rules tab"/></div><p>Now that you have<a id="id258" class="indexterm"/> taken a look at the project root, you can click on the <a id="id259" class="indexterm"/>small triangle button to the side of the project root to open the project tree, if it is not already open.</p><p>Under the created project, there are three groups. The first is given the same name as the project. The second group holds the files for the project test files, so it will always have the project name and be suffixed with <code class="literal">Tests</code>. The third is the <strong>Products</strong> group, containing the <code class="literal">.app</code> file and the <code class="literal">Tests</code> files. For the majority of the time, we will be dealing with the files in the first group, that is, the group names after the name of the application. The first folder is where all the code, assets, and project-related files for the project should exist. You can create subfolders like the <code class="literal">Supported Files</code> folder to organize your project better. So, you can get a <code class="literal">Classes</code> folder that contains all the classes for the project, and an assets folder in which you can put your images, icons and three-dimensional objects.</p><p>Let's look at each of the files of the main project folder in detail.</p></div></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec48"/>The project folder</h2></div></div></div><p>The main project<a id="id260" class="indexterm"/> folder <a id="id261" class="indexterm"/>contains the <code class="literal">AppDelegate.swift</code>, <code class="literal">ViewController.swift</code>, <code class="literal">Main.Storyboard</code>, <code class="literal">Images.xcassets</code>, and <code class="literal">LaunchScreeb.xib</code> files; and the <code class="literal">Supported Files</code> folder.</p><p>As soon as we open the <code class="literal">AppDelegate.swift</code> file, we see that the <code class="literal">AppDelegate</code> class inherits from the <code class="literal">UIResponder</code> and <code class="literal">UIApplicationDelegate</code> classes. Both of these classes are part of the UIKit. The UIKit framework is most important, as it is required to create and manage any iOS application. This framework provides basics elements such as window and view creation.</p><p>The <code class="literal">UIResponder</code> class is responsible for handling events such as detecting touch and motion events. For touch events, it has <code class="literal">touchesBegan</code>, <code class="literal">touchesMoved</code>, <code class="literal">touchesEnded</code>, and <code class="literal">touchesCancelled</code>, which are called when a finger touches the screen. There are three motion events: <code class="literal">motionBegan</code>, <code class="literal">motionEnded</code>, and <code class="literal">motionCancelled</code>:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">UIApplicationDelegate</code>: This is a<a id="id262" class="indexterm"/> subclass of <code class="literal">UIResponder</code> that responds to events during the life cycle of the application. The functions in the <code class="literal">AppDelegate</code> class are from <code class="literal">UIApplicationDelegate</code>, which will be called when any of those functions are triggered by the application.</li><li class="listitem" style="list-style-type: disc"><code class="literal">applicationdidFinishinLaunchingWithOptions</code>: This is the function that gets called when <a id="id263" class="indexterm"/>the application has finished launching. It returns <code class="literal">true</code> when the application is launched.</li><li class="listitem" style="list-style-type: disc"><code class="literal">applicationWillResignActive</code>: This is <a id="id264" class="indexterm"/>called after the application has just become inactive and is about to go to the background. It is triggered when you either receive a phone call or press the home button to switch apps. It is used to disable timers or pause any update function.</li><li class="listitem" style="list-style-type: disc"><code class="literal">applicationDidEnterBackground</code>: When<a id="id265" class="indexterm"/> the application has gone to the background and is no longer active, this function gets called. You can save the user score and make the application ready, if it is about to be terminated.</li><li class="listitem" style="list-style-type: disc"><code class="literal">applicationWillEnterForeground</code>: Once the<a id="id266" class="indexterm"/> application sitting in the background is selected and is about to be active again, this function is called. Since the user didn't terminate the application, you can restore the values to the previous state here.</li><li class="listitem" style="list-style-type: disc"><code class="literal">applicationDidBecomeActive</code>: Now<a id="id267" class="indexterm"/> the application is fully active again, so you can resume the game and unpause and resume the update function.</li><li class="listitem" style="list-style-type: disc"><code class="literal">applicationWillTerminate</code>: This is<a id="id268" class="indexterm"/> the last function that will get called before the application fully terminates, so you might want to save the game and release all objects.</li></ul></div><p>There is an optional variable created, called window, and it is of the UIWindow type. Each application created is inside a window, and this window variable will give access to the current <a id="id269" class="indexterm"/>window. If needed, you can assign the current window to<a id="id270" class="indexterm"/> this variable to gain access to the properties of the currently running window, such as the size of the window.</p><p>Before we look at <code class="literal">ViewController.swift</code>, you need to get an understanding of <code class="literal">Main.Storyboard</code>, as the <code class="literal">ViewController.swift</code> class is called through <code class="literal">Main.StoryBoard</code>.</p><p>The <code class="literal">Main.storyboard</code> file is automatically called right after the application has finished launching. This is done automatically by Xcode as a standard protocol, and therefore, you won't see it getting called in the <code class="literal">applicationDidFinishLaunching</code> function in the <code class="literal">AppDelegate</code> class. We have already called it in the <strong>General</strong> tab of the project root. Let's now look at the file in detail and see what it does. For this, you need to understand what storyboards are in iOS:</p><div><img src="img/B04014_03_26.jpg" alt="The project folder"/></div><p>A storyboard<a id="id271" class="indexterm"/> is <a id="id272" class="indexterm"/>a part of iOS Interface Builder or UITookit. It is <a id="id273" class="indexterm"/>used to create a user interface without writing any code. You can add buttons, texts, or sliders to your app. Also, by clicking on the button, you can make the app change views by creating a link between the current view and the next view. You can create a chain of such views to create the screen flow for your application.</p><p>Every storyboard needs a ViewController to start the application with. ViewControllers are like screens that create the building blocks of the app. You will be linking the ViewControllers in the storyboard to develop the screens for any app you want.</p><p>The ViewController is associated with the custom class <code class="literal">ViewController.swift</code> file. This can be seen in the <strong>Utility</strong> panel by clicking on the <strong>Identity Inspector</strong> (third tab from the left). In the custom class, in the <code class="literal">class</code> field, the <code class="literal">ViewController</code> class is specified. We will cover more on <strong>Utility</strong> panel later.</p><div><img src="img/B04014_03_27.jpg" alt="The project folder"/></div><p>If you are not able to see the ViewController tree, you can click on the small box icon at the bottom-left corner of the <strong>Editor</strong> panel to open it. The <strong>View Controller Scene</strong> has <strong>View Controller</strong>, <strong>First Responder</strong>, and <strong>Exit</strong>.</p><div><img src="img/B04014_03_28.jpg" alt="The project folder"/></div><p>By clicking <a id="id274" class="indexterm"/>on the triangle next to the ViewController, you <a id="id275" class="indexterm"/>will see that it contains three more items: <strong>Top Layout Guide</strong>, <strong>Bottom Layout Guide</strong>, and <strong>View</strong>. The top and bottom layout show the top and bottom ends of the view. The top starts after the battery indicator icon and the bottom ends at the bottom of the view. These are more like guides to let you know the limits that you need to be working within. The <strong>View</strong> item is the entire area the user will be able to see when the ViewController opens.</p><p>The <strong>First Responder</strong> item is the first object that you interact with in the ViewController. This will send the message to the UIResponder. Each time you click on a button, interact with a slider, or enter the text field, <strong>First Responder</strong> gives information on what you are interacting with at that time. So, if you click on a button, the responder will know immediately that you are clicking on a button.</p><p>Exit is used when you want the user to be sent to a different ViewController. This can be the previous ViewController from which the user came to the present scene, or it can be some other ViewController. This is not all that important at this stage as long as you understand what a ViewController is.</p><p>We have seen that <code class="literal">ViewController.swift</code> gets called through the <code class="literal">ViewController</code> object in the <code class="literal">.storyboard</code> file. Inside the <code class="literal">ViewController.swift</code> file, there are two functions: one is <code class="literal">ViewDidLoad</code> and the other is <code class="literal">didReceieveMemoryWarning</code>. In the <code class="literal">.storyboard</code> file, we saw that <code class="literal">ViewController</code> contains the view. When the view gets created, the <code class="literal">ViewDidLoad</code> function gets called. This means that the ViewController can display whatever is in the view and it is ready for any interaction that the user might have with the view.</p><p>The <code class="literal">didReceieveMemoryWarning</code> function gets called exactly when that happens. This function will get<a id="id276" class="indexterm"/> called either when you have too many apps open on<a id="id277" class="indexterm"/> the device, or if your program is not releasing the objects that it created earlier from the memory. The latter shouldn't be a problem because Swift has its own garbage collection, so you have to worry only about releasing memory.</p><p>
<code class="literal">Images.xcasstes</code> will contain all the image assets for the project. As of now, the only file in it is the <code class="literal">AppIcon</code> set. In this file, all the different iOS versions and resolutions of the icon images are shown with placeholders.</p><p>Here is an example of the icon set for the game <em>pizZapMania</em> that <a id="id278" class="indexterm"/>was created. The value mentioned under each set is the base dimension. The base for the first icon in the top left is 29 points, so to create icons for iOS 5 and 6, we will need two icons: one at <strong>1x</strong>, meaning 29 x 29 pixels, and another twice that size. Similarly, icons will have to be created for all the base values and multiplication factors mentioned for a particular device.</p><div><img src="img/B04014_03_29.jpg" alt="The project folder"/></div><p>While looking at the <strong>General</strong> tab of the project root, we saw that the <code class="literal">LaunchScreen.xib</code> file is called at the launch of the app. So what is this XIB file?</p><div><img src="img/B04014_03_30.jpg" alt="The project folder"/></div><p>The <a id="id279" class="indexterm"/>XIB file<a id="id280" class="indexterm"/> is called the NIB file (just as <code class="literal">.xib</code> was previously <code class="literal">.nib</code>) <a id="id281" class="indexterm"/>or NeXTSTEP Interface Builder. As of now, this file is XML-based and <code class="literal">n</code> is replaced by <code class="literal">x</code>, but it is still called a NIB file. So, when someone refers to a NIB file, they mean an XIB file. According to Apple, storyboards are the way to go forward as they support multiple view controllers and a <code class="literal">.xib</code> file can have only one. Since in this case the application and the launch screen both use a single view controller, it is the same.</p><p>The <code class="literal">Launchscreen.xib</code> file adds two labels upon the creation of the project, by default. The first label is the name of the app, placed at the center of the view, and the other is placed at the bottom of the view to display the copyright information. Click on either of the text to see the <strong>Utility</strong> panel light up like a Christmas tree. Let's finally look at the <strong>Utility</strong> panel.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec49"/>The Utility panel (Redux)</h2></div></div></div><p>The top part of the<a id="id282" class="indexterm"/> <strong>Utility</strong> panel contains six inspector<a id="id283" class="indexterm"/> tabs, and the bottom part has four library tabs. Let's first look at the inspector tabs one by one.</p><div><div><div><div><h3 class="title"><a id="ch03lvl3sec16"/>The inspector tabs</h3></div></div></div><p>Let's start from the leftmost<a id="id284" class="indexterm"/> tab, the <strong>File Inspector</strong><a id="id285" class="indexterm"/> tab, and then we will look at the <strong>Quick Help Inspector</strong>, <strong>Identity Inspector</strong>, <strong>Attributes Inspector</strong>, <strong>Size Inspector</strong>, and <strong>Connections Inspectors</strong> tabs. The main tab to remember is <strong>Attributes Inspector</strong>. We will just glance at the rest.</p><div><div><div><div><h4 class="title"><a id="ch03lvl4sec01"/>The File Inspector tab</h4></div></div></div><p>The <strong>File Inspector</strong> tab<a id="id286" class="indexterm"/> gives information about the parent file that the current object is attached to. Here, the label is attached to the <code class="literal">LaunchScreen.xib</code> file and is located in the <code class="literal">Base.lproj</code> directory on the Mac.</p><div><img src="img/B04014_03_31.jpg" alt="The File Inspector tab"/></div><p>It shows the Xcode<a id="id287" class="indexterm"/> version that can open it, the build target version, and the iOS version supported by the document. It also has details regarding <strong>Source Control</strong>, such as the repository name, type, and branch.</p></div><div><div><div><div><h4 class="title"><a id="ch03lvl4sec02"/>The Quick Help Inspector tab</h4></div></div></div><p>The <strong>Quick Help Inspector</strong> tab<a id="id288" class="indexterm"/> provides a brief description, features, and capabilities of the item selected. Here, since we selected the label, it shows the parent class of the label, which is <code class="literal">UILabel</code>. It also provides other details, such as <strong>Availability</strong>, which tell us which iOS versions support this.</p><div><img src="img/B04014_03_32.jpg" alt="The Quick Help Inspector tab"/></div></div><div><div><div><div><h4 class="title"><a id="ch03lvl4sec03"/>The Identity Inspector tab</h4></div></div></div><p>The <strong>Identity Inspector</strong> tab<a id="id289" class="indexterm"/> helps in assigning and managing metadata for any object, which in this case will be the text label selected. It also shows the custom class attached to it. Here, it is expecting a class that is inherited from the <code class="literal">UILabel</code> class.</p><div><img src="img/B04014_03_33.jpg" alt="The Identity Inspector tab"/></div></div><div><div><div><div><h4 class="title"><a id="ch03lvl4sec04"/>The Attributes Inspector tab</h4></div></div></div><p>This is where you can edit the <a id="id290" class="indexterm"/>properties of the object selected. So here, we can change the look, color, position, search, and text—as we can for a page of a word document.</p><div><img src="img/B04014_03_34.jpg" alt="The Attributes Inspector tab"/></div></div><div><div><div><div><h4 class="title"><a id="ch03lvl4sec05"/>The Size Inspector tab</h4></div></div></div><p>The <strong>Size Inspector</strong> tab<a id="id291" class="indexterm"/> helps you position the object, set the size of the object, and add constraints for further assistance in positioning the object correctly.</p><div><img src="img/B04014_03_35.jpg" alt="The Size Inspector tab"/></div></div><div><div><div><div><h4 class="title"><a id="ch03lvl4sec06"/>The Connections Inspector tab</h4></div></div></div><p>As explained earlier, we <a id="id292" class="indexterm"/>can connect the ViewControllers to create the screen flow and transition from one ViewController to the next. In the <strong>Connections Inspector</strong> tab, we can see which objects are connected to which outlet.</p><div><img src="img/B04014_03_36.jpg" alt="The Connections Inspector tab"/></div></div></div><div><div><div><div><h3 class="title"><a id="ch03lvl3sec17"/>The library</h3></div></div></div><p>The library<a id="id293" class="indexterm"/> contains four tabs: <strong>File Template</strong>, <strong>Code Snippet</strong>, <strong>Object</strong>, and <strong>Media Library</strong>.</p><div><div><div><div><h4 class="title"><a id="ch03lvl4sec07"/>The File Template tab</h4></div></div></div><p>If you want to create a new file, you <a id="id294" class="indexterm"/>can either navigate to <strong>File</strong> | <strong>New</strong> or simply drag the required file type into the project navigator.</p><div><img src="img/B04014_03_37.jpg" alt="The File Template tab"/></div><p>Here, if we want to, we can drag the <strong>Swift File</strong> template into our project, and once we release the left mouse button, Xcode will ask us to save the file. Then we will be able to rename the file and it<a id="id295" class="indexterm"/> will be included in the project.</p></div><div><div><div><div><h4 class="title"><a id="ch03lvl4sec08"/>The Code Snippet Library tab</h4></div></div></div><p>These contain a <a id="id296" class="indexterm"/>collection of code blocks that can be dragged and dropped into your file to remove rework.</p><div><img src="img/B04014_03_38.jpg" alt="The Code Snippet Library tab"/></div></div><div><div><div><div><h4 class="title"><a id="ch03lvl4sec09"/>The Object Library tab</h4></div></div></div><p>In the object library, you<a id="id297" class="indexterm"/> have predefined objects such as <strong>Text</strong>, <strong>Label</strong>, and <strong>Button</strong> that can be dropped into the ViewController.</p><div><img src="img/B04014_03_39.jpg" alt="The Object Library tab"/></div></div><div><div><div><div><h4 class="title"><a id="ch03lvl4sec10"/>The Media Library tab</h4></div></div></div><p>This tab<a id="id298" class="indexterm"/> contains all media, such as <strong>Movies</strong>, <strong>Audio</strong>, and <strong>Images</strong>, that you have added to the library and dragged into your app. Currently, no media have been added, so this tab is empty.</p><div><img src="img/B04014_03_40.jpg" alt="The Media Library tab"/></div><p>This concludes the section on the <strong>Utility</strong> panel. Now that we have covered the other files and looked at the <strong>Utility</strong> panel, let's look at the last folder in the project hierarchy.</p><p>The <code class="literal">Supported Files</code> folder/group contains only an <code class="literal">info.plist</code> file, which consists all of the necessary information about the app. It will contain details such as the name of the app, bundle name, version number of the app, and other basic information about the app to Xcode. Mostly, we will be making changes to this file only when we upload an update to an application that is already live on the store, and we would want the version number of the latest build to be 1.1 instead of 1.0. We will cover this when we publish the app on the App Store in the last chapter.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec50"/>The Debug panel</h2></div></div></div><p>There is one more panel<a id="id299" class="indexterm"/> that we haven't covered yet, and that is the <a id="id300" class="indexterm"/>
<strong>Debug</strong> panel. This can be activated by clicking on the middle button from the three-button set to the right of the toolbar and left to the <strong>Utility</strong> panel. Once you click on it, the panel shown in the following screenshot will open up. You can click on it again to hide it.</p><div><img src="img/B04014_03_41.jpg" alt="The Debug panel"/></div><p>The <strong>Debug</strong> panel or <a id="id301" class="indexterm"/>area has two subsections. To the left <a id="id302" class="indexterm"/>is the <strong>Variables</strong> view, and to the right is <strong>Console</strong>. Whatever you log using the <code class="literal">println</code> function will get displayed here. For example, in the ViewController class in the <code class="literal">viewDidLoad</code> function, I logged this:</p><div><pre class="programlisting">println(" The View Is Loaded Now !!!")</pre></div><p>When I ran the application, the message popped up in the console. So, similar to how we logged information in the playground, we can do it in Xcode, but to see it, you obviously need to run the application—unlike playground.</p><p>Now that we have this awesome app, we can see how to run it on the device.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec33"/>Running the app on the device</h1></div></div></div><p>All this time, we<a id="id303" class="indexterm"/> ran the app on the simulator. Making the app run on the <a id="id304" class="indexterm"/>simulator is relatively easier—select the simulator to run the app on, click on the play button, and that's it! To run the app on a device, however, you'll need to perform a couple of steps.</p><p>First, we need to get the <strong>Developer</strong> certificate and install it. So, go to the iOS developer portal<a id="id305" class="indexterm"/> at <a class="ulink" href="https://developer.apple.com">https://developer.apple.com</a>, click on <strong>Member Center</strong>, and type in the login name and password we created in the <a class="link" href="ch01.html" title="Chapter 1. Getting Started">Chapter 1</a>, <em>Getting Started</em>:</p><div><ol class="orderedlist arabic"><li class="listitem">Under <strong>Developer Program Resources</strong>, click on <strong>Certificates, Identifiers &amp; Profiles</strong>.<div><img src="img/B04014_03_42.jpg" alt="Running the app on the device"/></div></li><li class="listitem">Under <strong>iOS Apps</strong>, click on <strong>Certificates</strong>.<div><img src="img/B04014_03_43.jpg" alt="Running the app on the device"/></div></li><li class="listitem">Under <a id="id306" class="indexterm"/><strong>Certificates</strong>, click on <strong>Development</strong>. In the<a id="id307" class="indexterm"/> top-right corner, click on the <strong>+</strong> sign next to the search button.<div><img src="img/B04014_03_44.jpg" alt="Running the app on the device"/></div></li><li class="listitem">Next, click on <strong>iOS Development</strong> once the page loads and then click on <strong>Continue</strong>. Then, we have to create a certificate signing request.<div><img src="img/B04014_03_45.jpg" alt="Running the app on the device"/></div></li><li class="listitem">On <a id="id308" class="indexterm"/>your Mac, open <em>Keychain</em> by clicking on <em>Launchpad</em>. Once <a id="id309" class="indexterm"/>the <em>KeyChain</em> app is opened, go to <strong>CertificateAssistant</strong> and click on <strong>Request a Certificate From a Certificate Authority...</strong>.<div><img src="img/B04014_03_46.jpg" alt="Running the app on the device"/></div></li><li class="listitem">In the popup, type the e-mail address that you used to create the Apple Developer <a id="id310" class="indexterm"/>ID. Then type a common name for reference, select<a id="id311" class="indexterm"/> <strong>Saved to Disk</strong>, and click to continue to select the location where you want the certificate to be downloaded. You can save it on the desktop for now, but later, move it to a safer place.<div><img src="img/B04014_03_47.jpg" alt="Running the app on the device"/></div></li><li class="listitem">Go<a id="id312" class="indexterm"/> back to the iOS Developer portal and click on <a id="id313" class="indexterm"/><strong>Continue</strong>. Now, you have to upload the CSR file that you saved on the Mac in the previous step. Click on <strong>Choose file</strong>, navigate to the desktop where you downloaded the file, select it, and click on <strong>Generate</strong>.</li><li class="listitem">Now your certificate is ready. Click on <strong>Download</strong> to download the file.</li><li class="listitem">Double-click on the downloaded file to install it. Then, click on <strong>Done</strong>.</li><li class="listitem">Now, open Xcode, go to <strong>Preferences</strong>, click on <strong>Accounts</strong>, and then click on <strong>View Details</strong>. In the top part, it should show the iOS Development meaning that the certificate is installed.<p>This certificate is only for development. For distribution, you will have to download a distribution certificate, which we will do once we are ready to publish our game.</p></li><li class="listitem">Now, plug in your device to Mac. Xcode will automatically assume that you will use the device connected for development and register it for you. You can see all the registered devices. Open Xcode and, from the top bar, select <strong>Window</strong> and then <strong>Devices</strong> to show all the registered devices. You can have up to 100 devices registered to test your application.<div><img src="img/B04014_03_48.jpg" alt="Running the app on the device"/></div></li><li class="listitem">Now, in the top-left corner next to the play button, from where we previously used to select the simulator, we can select the device.<div><img src="img/B04014_03_49.jpg" alt="Running the app on the device"/></div></li><li class="listitem">There's one<a id="id314" class="indexterm"/> final step: we still have to select the team to make<a id="id315" class="indexterm"/> the app run on the device. So, go to the <strong>Project Navigator</strong> tab and select the project root. In the Editor, under team, scroll down to select the team.<div><img src="img/B04014_03_50.jpg" alt="Running the app on the device"/></div></li></ol></div><p>Now, if everything goes well, you should be able to run the app on the device. Congratulations!!!!</p></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec34"/>Summary</h1></div></div></div><p>In this chapter, we looked at the interface of Xcode. I hope that you now have a good idea about the different panels and how to access, activate, and deactivate them. I intentionally haven't covered the <strong>File</strong>, <strong>Edit</strong>, and <strong>View</strong> menus because these are somewhat similar to other applications. If needed, we will go through some of them on a need-to-know basis.</p><p>As an exercise, you can try and change the color of the view, or change the height and type in the <code class="literal">.storyboard</code> file. You can also make similar changes in the NIB file and the app a little more colorful.</p><p>Now that you know how Xcode works, we will jump straight into game development using SpriteKit. Once we have mastered 2D space, we will look at the 3D space in SceneKit.</p></div></body></html>