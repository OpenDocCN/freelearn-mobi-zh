<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;2.&#xA0;Playing with Swift"><div class="book" id="LTSU2-d7e55eb5242648e89c396442afe4f84b"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02" class="calibre1"/>Chapter 2. Playing with Swift</h1></div></div></div><p class="calibre8">Xcode ships with both a command-line interpreter (which was covered in <a class="calibre1" title="Chapter 1. Exploring Swift" href="part0016_split_000.html#F8901-d7e55eb5242648e89c396442afe4f84b">Chapter 1</a>, <span class="strong"><em class="calibre11">Exploring Swift</em></span>) and a graphical interface called <a id="id75" class="calibre1"/>
<span class="strong"><strong class="calibre2">playground</strong></span> that can be used to prototype and test Swift code snippets. Code that is typed into the playground is compiled and executed interactively, which permits a fluid style of development. In addition, the user interface can present a graphical view of variables as well as a timeline, which can show how loops are executed. Finally, playgrounds can mix and match code and documentation leading to the possibility of providing example code as playgrounds and using playgrounds to learn how to use existing APIs and frameworks.</p><p class="calibre8">This chapter will present the following topics:</p><div class="book"><ul class="itemizedlist"><li class="listitem">How to create a playground</li><li class="listitem">Displaying values in the timeline</li><li class="listitem">Presenting objects with Quick Look</li><li class="listitem">Running asynchronous code</li><li class="listitem">Using playground's live documentation</li><li class="listitem">Creating multiple pages in a playground</li><li class="listitem">Limitations of playgrounds</li></ul></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Playing with Swift">
<div class="book" title="Getting started with playgrounds"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch02lvl1sec16" class="calibre1"/>Getting started with playgrounds</h1></div></div></div><p class="calibre8">When Xcode is started, the <a id="id76" class="calibre1"/>welcome screen is displayed with various options, including the ability to create a playground. The welcome screen can be shown with <span class="strong"><em class="calibre11">Command</em></span> + <span class="strong"><em class="calibre11">Shift</em></span> + <span class="strong"><em class="calibre11">1</em></span>, or by navigating to <span class="strong"><strong class="calibre2">Window</strong></span> | <span class="strong"><strong class="calibre2">Welcome to Xcode</strong></span>:</p><div class="mediaobject"><img src="../images/00002.jpeg" alt="Getting started with playgrounds" class="calibre9"/></div><p class="calibre10"> </p></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Playing with Swift">
<div class="book" title="Getting started with playgrounds">
<div class="book" title="Creating a playground"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec30" class="calibre1"/>Creating a playground</h2></div></div></div><p class="calibre8">Using either the Xcode welcome screen (which can be opened by navigating to <span class="strong"><strong class="calibre2">Window</strong></span> | <span class="strong"><strong class="calibre2">Welcome to Xcode</strong></span>) or by navigating to <span class="strong"><strong class="calibre2">File</strong></span> | <span class="strong"><strong class="calibre2">New</strong></span> | <span class="strong"><strong class="calibre2">Playground</strong></span>, create <code class="literal">MyPlayground</code> in a suitable location targeting <span class="strong"><strong class="calibre2">iOS</strong></span>. Creating the playground on the <code class="literal">Desktop</code> will allow<a id="id77" class="calibre1"/> easy access to testing Swift code, but it can be located anywhere on the filesystem.</p><p class="calibre8">Playgrounds can be targeted either towards OS X applications or towards iOS applications. This can be configured when the playground is created, or by switching to the <span class="strong"><strong class="calibre2">Utilities</strong></span> view by navigating to <span class="strong"><strong class="calibre2">View</strong></span> | <span class="strong"><strong class="calibre2">Utilities</strong></span> | <span class="strong"><strong class="calibre2">Show File Inspector</strong></span> or pressing <span class="strong"><em class="calibre11">Command</em></span> + <span class="strong"><em class="calibre11">Option</em></span> + <span class="strong"><em class="calibre11">1</em></span> and changing the dropdown from OS X to iOS or vice versa:</p><div class="mediaobject"><img src="../images/00003.jpeg" alt="Creating a playground" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">When initially<a id="id78" class="calibre1"/> created, the playground will have a code snippet that looks as follows:</p><div class="note"><pre class="programlisting">// Playground - noun: a place where people can play
import UIKit
var str = "Hello, playground"</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip12" class="calibre1"/>Tip</h3><p class="calibre8">Playgrounds targeting OS X will read <code class="literal">import Cocoa</code> instead.</p></div><p class="calibre8">On the right-hand side, a column will display the value of the code when each line is executed. By grabbing the vertical divider between the Swift code and the output, the output can be resized to show the full value of the text:</p><div class="mediaobject"><img src="../images/00004.jpeg" alt="Creating a playground" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">Alternatively, by moving the mouse over the right-hand side of the playground, the <span class="strong"><strong class="calibre2">Quick Look</strong></span> icon (the eye symbol) will appear. If this is clicked, a pop-up box will show<a id="id79" class="calibre1"/> the full details:</p><div class="mediaobject"><img src="../images/00005.jpeg" alt="Creating a playground" class="calibre9"/></div><p class="calibre10"> </p></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Playing with Swift">
<div class="book" title="Getting started with playgrounds">
<div class="book" title="Viewing the console output"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec31" class="calibre1"/>Viewing the console output</h2></div></div></div><p class="calibre8">The console output can be viewed in the <span class="strong"><em class="calibre11">Debug Area</em></span>. This can be shown by pressing <span class="strong"><em class="calibre11">Command</em></span> + <span class="strong"><em class="calibre11">Shift</em></span> + <span class="strong"><em class="calibre11">Y</em></span> or by navigating to <span class="strong"><strong class="calibre2">View</strong></span> | <span class="strong"><strong class="calibre2">Debug Area</strong></span> | <span class="strong"><strong class="calibre2">Show Debug Area</strong></span>. This will <a id="id80" class="calibre1"/>show the result of any <code class="literal">print</code> statements that are executed in the code.</p><p class="calibre8">Add a simple <code class="literal">for</code> loop to the playground:</p><div class="note"><pre class="programlisting">for i in 1...12 {
  print("I is \(i)")
}</pre></div><p class="calibre8">The output is shown in the debug area below:</p><div class="mediaobject"><img src="../images/00006.jpeg" alt="Viewing the console output" class="calibre9"/></div><p class="calibre10"> </p></div></div></div>

<div class="book" title="Chapter&#xA0;2.&#xA0;Playing with Swift">
<div class="book" title="Getting started with playgrounds">
<div class="book" title="Viewing the timeline"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch02lvl2sec32" class="calibre1"/>Viewing the timeline</h2></div></div></div><p class="calibre8">The timeline shows what the values were at a particular time. In the case of the print loop that <a id="id81" class="calibre1"/>was shown previously, the output was displayed in the <span class="strong"><strong class="calibre2">Debug Area</strong></span>. However, it is possible to use the playground to inspect the value of an expression on a line without having to display it directly. In addition, results can be graphed to show how these values change over time. The value of the graph is shown in-line with the source code unlike previous versions of Xcode, which displayed them on the right.</p><p class="calibre8">Add another line above the <code class="literal">print</code> statement to calculate the result of executing an expression, <code class="literal">(i-6)*(i-7)</code>, and store it in a <code class="literal">j</code> constant.</p><p class="calibre8">On the line next to the variable definition, click on the add variable history (<span class="strong"><strong class="calibre2">+</strong></span>) symbol, which is in the right-hand column (visible when the mouse moves over that area). After it is clicked , it will change to an (<span class="strong"><strong class="calibre2">o</strong></span>) symbol and display the graph on the right-hand side. This can be done for the <code class="literal">print</code> statement as well:</p><div class="note"><pre class="programlisting">for i in 1...12 {
  let j = (i-7) * (i-6)
  print("I is \(i)")
}</pre></div><div class="mediaobject"><img src="../images/00007.jpeg" alt="Viewing the timeline" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">It is possible to display a timeline slider at the bottom of the window by selecting the <span class="strong"><strong class="calibre2">Show Timeline</strong></span> checkbox in the <span class="strong"><strong class="calibre2">Utilities</strong></span> area. This adds a timeline slider at the bottom, with a<a id="id82" class="calibre1"/> red tick mark, and this can be used to slide the vertical bar to see the exact value at certain points:</p><div class="mediaobject"><img src="../images/00008.jpeg" alt="Viewing the timeline" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">To display several values at once, use additional variables to hold the values and display them in the timeline as well:</p><div class="note"><pre class="programlisting">for i in 1...12 {
  let j = (i-7) * (i-6)
  let k = i
  print("I is \(i)")
}</pre></div><div class="mediaobject"><img src="../images/00009.jpeg" alt="Viewing the timeline" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">When the timeline slider is dragged, both values will be displayed at the same time.</p></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Displaying objects with Quick Look" id="MSDG1-d7e55eb5242648e89c396442afe4f84b"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec17" class="calibre1"/>Displaying objects with Quick Look</h1></div></div></div><p class="calibre8">The playground timeline can display objects as well as numbers and simple strings. It is possible to load and view images in a playground using classes, such as <code class="literal">UIImage</code> (or <code class="literal">NSImage</code> on OS X). These are known as <span class="strong"><em class="calibre11">Quick Look supported objects</em></span>, and by default include<a id="id83" class="calibre1"/>:</p><div class="book"><ul class="itemizedlist"><li class="listitem">String (attributed and unattributed)</li><li class="listitem">Views</li><li class="listitem">Class and struct types (members are shown)</li><li class="listitem">Colors</li></ul></div><div class="note" title="Note"><h3 class="title2"><a id="tip13" class="calibre1"/>Tip</h3><p class="calibre8">It is possible to build support for custom-based types into Swift by implementing a <code class="literal">debugQuickLookObject</code> method that returns a graphical view of the data.</p></div></div>

<div class="book" title="Displaying objects with Quick Look" id="MSDG1-d7e55eb5242648e89c396442afe4f84b">
<div class="book" title="Showing colored labels"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch02lvl2sec33" class="calibre1"/>Showing colored labels</h2></div></div></div><p class="calibre8">To show a colored label, a color needs to be obtained first. When building against iOS, this will be <code class="literal">UIColor</code>; but when building against OS X, it will be <code class="literal">NSColor</code>. The methods and<a id="id84" class="calibre1"/> types are largely equivalent between the two, but this chapter will demonstrate using iOS types.</p><p class="calibre8">A color can be acquired with an initializer or using one of the predefined colors that are exposed in Swift using methods, as follows:</p><div class="note"><pre class="programlisting">import UIKit // AppKit for OS X
let blue = UIColor.blueColor() // NSColor.blueColor() for OS X</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip14" class="calibre1"/>Tip</h3><p class="calibre8">In Xcode 7.1 and above, a color can be dragged in from a color picker into the Swift code directly where it will be translated as a color initializer with the specific hardcoded color values.</p></div><p class="calibre8">The color can be used as the <code class="literal">textColor</code> of a <code class="literal">UILabel</code>, which displays a text string in a particular size and color. The <code class="literal">UILabel</code> needs a size, which is represented by a <code class="literal">CGRect</code>, and this can be defined with an <code class="literal">x</code> and <code class="literal">y</code> position along with a <code class="literal">width</code> and <code class="literal">height</code>. The <code class="literal">x</code> and <code class="literal">y</code> positions are not relevant for playgrounds, and so, they can be left as zero:</p><div class="note"><pre class="programlisting">let size = CGRect(x:0,y:0,width:200,height:100)
let label = UILabel(frame:size)// NSLabel for OS X</pre></div><p class="calibre8">Finally, the text needs to be displayed in blue and with a larger font size:</p><div class="note"><pre class="programlisting">label.text = str // from the first line of the code
label.textColor = blue
label.font = UIFont.systemFontOfSize(24) // NSFont for OS X</pre></div><p class="calibre8">When the<a id="id85" class="calibre1"/> playground is run, the color and font are displayed in the timeline and are available for quick view. Even though the same <code class="literal">UILabel</code> instance is being shown, the timeline and the quick look values show a snapshot of the state of the object at each point, making it easy to see what has happened between changes:</p><div class="mediaobject"><img src="../images/00010.jpeg" alt="Showing colored labels" class="calibre9"/></div><p class="calibre10"> </p></div></div>

<div class="book" title="Displaying objects with Quick Look" id="MSDG1-d7e55eb5242648e89c396442afe4f84b">
<div class="book" title="Showing images"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec34" class="calibre1"/>Showing images</h2></div></div></div><p class="calibre8">Images can be<a id="id86" class="calibre1"/> created and loaded into a playground using the <code class="literal">UIImage</code> constructor (or <code class="literal">NSImage</code> on OS X). Both take a <code class="literal">named</code> argument, which is used to find and load an image with the given name from the playground's <code class="literal">Resources</code> folder.</p><p class="calibre8">To copy a file into the playground's <code class="literal">Resources</code> folder, first download an image, such as <code class="literal">http://alblue.bandlem.com/images/AlexHeadshotLeft.png</code>, and save it as <code class="literal">alblue.png</code> in a suitable location such as the <code class="literal">Desktop</code>. In order to add it to the playground, the project navigator needs to be opened with <span class="strong"><em class="calibre11">Command</em></span> + <span class="strong"><em class="calibre11">1</em></span> or by navigating to <span class="strong"><strong class="calibre2">View</strong></span> | <span class="strong"><strong class="calibre2">Navigators</strong></span> | <span class="strong"><strong class="calibre2">Show Project Navigator</strong></span>. Once opened, the file can be dragged and dropped into the <code class="literal">Resources</code> element in the tree:</p><div class="mediaobject"><img src="../images/00011.jpeg" alt="Showing images" class="calibre9"/></div><p class="calibre10"> </p><div class="note" title="Note"><h3 class="title2"><a id="tip15" class="calibre1"/>Tip</h3><p class="calibre8">Xcode 7.1 allows the image to be dragged directly into the source code area. It will populate a <code class="literal">UIImage</code> (or <code class="literal">NSImage</code>) as well as copy it to the resources area. Xcode 7.0 and below will just copy the full file path of the source if dragged in.</p></div><p class="calibre8">Alternatively, to <a id="id87" class="calibre1"/>download a logo with the command line, open <code class="literal">Terminal.app</code> and run the following commands:</p><div class="note"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ mkdir MyPlayground.playground/Resources</strong></span>
<span class="strong"><strong class="calibre2">$ curl http://alblue.bandlem.com/images/AlexHeadshotLeft.png &gt; MyPlayground.playground/Resources/alblue.png</strong></span>
</pre></div><p class="calibre8">An image can now be created in swift using the following:</p><div class="note"><pre class="programlisting">let alblue = UIImage(named:"alblue")</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip16" class="calibre1"/>Tip</h3><p class="calibre8">The location of the <code class="literal">Resources</code> that are associated with a playground can be seen in the <span class="strong"><strong class="calibre2">File Inspector</strong></span> utilities view, which can be opened by pressing <span class="strong"><em class="calibre11">Command</em></span> + <span class="strong"><em class="calibre11">Option</em></span> + <span class="strong"><em class="calibre11">1</em></span>.</p></div><p class="calibre8">The created image can be displayed using <span class="strong"><strong class="calibre2">Quick Look</strong></span> or by adding it to the value history:</p><div class="mediaobject"><img src="../images/00012.jpeg" alt="Showing images" class="calibre9"/></div><p class="calibre10"> </p><div class="note" title="Note"><h3 class="title2"><a id="tip17" class="calibre1"/>Tip</h3><p class="calibre8">It is possible to use<a id="id88" class="calibre1"/> a URL to acquire an image by creating an NSURL with <code class="literal">NSURL(string:"http://...")!</code>, then loading the contents of the URL with <code class="literal">NSData(contentsOfURL:)!</code>, and finally, using <code class="literal">UIImage(data:)</code> to convert it to an image. However, as Swift will keep re-executing the code over and over again, the URL will be hit multiple times in a single debugging session without caching. It is recommended that <code class="literal">NSData(contentsOfURL:)</code> and similar networking classes be avoided in playgrounds.</p></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Advanced techniques" id="NQU21-d7e55eb5242648e89c396442afe4f84b"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec18" class="calibre1"/>Advanced techniques</h1></div></div></div><p class="calibre8">The playground has its own <code class="literal">XCPlayground</code> framework, which can be used to perform certain tasks. For<a id="id89" class="calibre1"/> example, individual values can be captured during loops for later analysis. It also permits asynchronous code to continue to execute once the playground has finished running.</p></div>

<div class="book" title="Advanced techniques" id="NQU21-d7e55eb5242648e89c396442afe4f84b">
<div class="book" title="Capturing values explicitly"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch02lvl2sec35" class="calibre1"/>Capturing values explicitly</h2></div></div></div><p class="calibre8">It is possible to explicitly add values to the timeline by importing the <code class="literal">XCPlayground</code> framework and using <code class="literal">XCPlaygroundPage.currentPage</code>, and calling <code class="literal">captureValue</code> with a value that<a id="id90" class="calibre1"/> should be displayed in the timeline. This takes an identifier, which is used both as the title and to group related data values in the same series. When the value history button is selected, it essentially inserts a call to <code class="literal">captureValue</code> with the value of the expression as the identifier.</p><p class="calibre8">For example, to add the logo to the timeline automatically:</p><div class="note"><pre class="programlisting">import XCPlayground
let page = XCPlaygroundPage.currentPage
let alblue = UIImage(named:"alblue")
page.captureValue(alblue, withIdentifier:"Al Blue")</pre></div><p class="calibre8">Opening<a id="id91" class="calibre1"/> the <span class="strong"><strong class="calibre2">Assistant Editor</strong></span> will show the timeline along with the recorded values:</p><div class="mediaobject"><img src="../images/00013.jpeg" alt="Capturing values explicitly" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">It is possible to use the identifier to group the data that is being shown in a loop, with the identifier representing categories of the values. For example, to display a list of all even and odd numbers between <code class="literal">1</code> and <code class="literal">6</code>, the following code could be used:</p><div class="note"><pre class="programlisting">for n in 1...6 {
  if n % 2 == 0 {
    page.captureValue(n,withIdentifier:"even")
    page.captureValue(0,withIdentifier:"odd")
  } else {
    page.captureValue(n,withIdentifier:"odd")
    page.captureValue(0,withIdentifier:"even")
  }
}</pre></div><p class="calibre8">When<a id="id92" class="calibre1"/> executed, the result will look like:</p><div class="mediaobject"><img src="../images/00014.jpeg" alt="Capturing values explicitly" class="calibre9"/></div><p class="calibre10"> </p></div></div>

<div class="book" title="Advanced techniques" id="NQU21-d7e55eb5242648e89c396442afe4f84b">
<div class="book" title="Running asynchronous code"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec36" class="calibre1"/>Running asynchronous code</h2></div></div></div><p class="calibre8">By default, when execution hits the end of the current playground page, the execution stops. In most cases this is desirable, but when asynchronous code is involved, execution may need to continue to run even if the main code has finished executing. This <a id="id93" class="calibre1"/>may be the case if networking data is involved or if there are multiple tasks whose results need to be synchronized.</p><p class="calibre8">For example, wrapping the previous even/odd split in an asynchronous call will result in no data being displayed:</p><div class="note"><pre class="programlisting">dispatch_async(dispatch_get_main_queue()) {
  for n in 1...6 {
    // as before
  }
}</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip18" class="calibre1"/>Tip</h3><p class="calibre8">This uses one of Swift's language features: the <code class="literal">dispatch_async</code> method which is actually a two-argument method that takes a queue and a block type. However, if the last argument is a block type, then it can be represented as a trailing closure rather than an argument.</p></div><p class="calibre8">To allow playground to continue executing after reaching the end, add the following assignment:</p><div class="note"><pre class="programlisting">
<code class="literal">page.needsIndefiniteExecution = true</code>
</pre></div><p class="calibre8">Although this suggests that the execution will run forever, it is limited to 30 seconds of runtime, or whatever the value is displayed at the bottom-right<a id="id94" class="calibre1"/> corner of the screen. This timeout can be changed by typing in a new value or using the <span class="strong"><strong class="calibre2">+</strong></span> and <span class="strong"><strong class="calibre2">–</strong></span> buttons to increase/decrease time by one second. In addition to this, the execution can be stopped by clicking the square icon on the lower left-hand side of the window:</p><div class="mediaobject"><img src="../images/00015.jpeg" alt="Running asynchronous code" class="calibre9"/></div><p class="calibre10"> </p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Playgrounds and documentation"><div class="book" id="OPEK2-d7e55eb5242648e89c396442afe4f84b"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec19" class="calibre1"/>Playgrounds and documentation</h1></div></div></div><p class="calibre8">Playgrounds can <a id="id95" class="calibre1"/>contain a <a id="id96" class="calibre1"/>mix of code and documentation. This allows a set of code, samples, and explanations to be mixed in with the playground itself.</p></div>

<div class="book" title="Playgrounds and documentation">
<div class="book" title="Learning with playgrounds"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch02lvl2sec37" class="calibre1"/>Learning with playgrounds</h2></div></div></div><p class="calibre8">As playgrounds<a id="id97" class="calibre1"/> can contain a mixture of code and documentation, it makes them an ideal format to view annotated code snippets. In fact, Apple's Swift Tour book can be opened as a playground file.</p><p class="calibre8">Xcode documentation can be searched by navigating to <span class="strong"><strong class="calibre2">Help</strong></span> | <span class="strong"><strong class="calibre2">Documentation and API Reference</strong></span> or by pressing <span class="strong"><em class="calibre11">Command</em></span> + <span class="strong"><em class="calibre11">Shift</em></span> + <span class="strong"><em class="calibre11">0</em></span>. In the search dialog that is presented, type <code class="literal">Swift Tour</code> and then select the first result. The Swift Tour book should be <a id="id98" class="calibre1"/>presented in Xcode's help system, as follows:</p><div class="mediaobject"><img src="../images/00016.jpeg" alt="Learning with playgrounds" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">A link to download and open the documentation as a playground is given in the first section; if this is downloaded, it can be opened in Xcode as a standalone playground. This provides the same information, but it allows the code examples to be dynamic and show the results in the window:</p><div class="mediaobject"><img src="../images/00017.jpeg" alt="Learning with playgrounds" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">A key advantage of learning through playground-based documentation is that the code can be experimented with. In the <span class="strong"><em class="calibre11">Simple Values</em></span> section of the documentation, where <code class="literal">myVariable</code> is <a id="id99" class="calibre1"/>assigned, the right-hand side of the playground shows the values. If the literal numbers are changed, the new values will be recalculated and shown on the right-hand side.</p></div></div>

<div class="book" title="Playgrounds and documentation">
<div class="book" title="Understanding the playground format"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch02lvl2sec38" class="calibre1"/>Understanding the playground format</h2></div></div></div><p class="calibre8">The playground is an <span class="strong"><em class="calibre11">OS X bundle</em></span>, which means that it is a directory that looks like a single file. If the<a id="id100" class="calibre1"/> playground is <a id="id101" class="calibre1"/>selected either in <code class="literal">TextEdit.app</code> or in <code class="literal">Finder</code>, then it looks like a regular file:</p><div class="mediaobject"><img src="../images/00018.jpeg" alt="Understanding the playground format" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">Under the covers, it is actually a directory:</p><div class="note"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ ls -F</strong></span>
<span class="strong"><strong class="calibre2">MyPlayground.playground/</strong></span>
</pre></div><p class="calibre8">Inside the directory, there are a number of files:</p><div class="note"><pre class="programlisting">
<span class="strong"><strong class="calibre2">$ ls -1 MyPlayground.playground/*</strong></span>
<span class="strong"><strong class="calibre2">MyPlayground.playground/Contents.swift</strong></span>
<span class="strong"><strong class="calibre2">MyPlayground.playground/Resources</strong></span>
<span class="strong"><strong class="calibre2">MyPlayground.playground/contents.xcplayground</strong></span>
<span class="strong"><strong class="calibre2">MyPlayground.playground/playground.xcworkspace</strong></span>
<span class="strong"><strong class="calibre2">MyPlayground.playground/timeline.xctimeline</strong></span>
</pre></div><p class="calibre8">The files are as follows:</p><div class="book"><ul class="itemizedlist"><li class="listitem">The <code class="literal">Contents.swift</code> file, which is the Swift file that is created by default when a new playground is created, and this contains the code that is typed in for any new playground content</li><li class="listitem">The <code class="literal">Resources</code> directory, which was created earlier to hold the logo image</li><li class="listitem">The <code class="literal">contents.xcplayground</code> file, which is an XML table of contents of the files that make up the playground</li><li class="listitem">The <code class="literal">playground.xcworkspace</code>, which is used to hold metadata about the project in Xcode</li><li class="listitem">The <code class="literal">timeline.xctimeline</code>, which is the file containing timestamps of execution that are generated by the runtime when executing a Swift file and the timeline is open</li></ul></div><p class="calibre8">The table of contents <a id="id102" class="calibre1"/>file defines<a id="id103" class="calibre1"/> which runtime environment is being targeted (for example, iOS or OS X) and a reference to the timeline file:</p><div class="note"><pre class="programlisting">&lt;playground version='5.0' target-platform='ios' requires-full-environment='true' timelineScrubberEnabled='true' display-mode='raw'&gt;
  &lt;timeline fileName='timeline.xctimeline'/&gt;
&lt;/playground&gt;</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip19" class="calibre1"/>Tip</h3><p class="calibre8">An Xcode playground directory is deleted and recreated whenever changes are made in Xcode. Any <code class="literal">Terminal.app</code> windows that are open in that directory will no longer display any files. As a result, using external tools and editing the files in place may result in changes being lost. In addition, using ancient versions of control systems, such as SVN and CVS, may find their version control metadata being wiped out between saves. Xcode ships with the industry standard Git version control system, which should be preferred instead.</p></div></div></div>

<div class="book" title="Playgrounds and documentation">
<div class="book" title="Adding a page"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch02lvl2sec39" class="calibre1"/>Adding a page</h2></div></div></div><p class="calibre8">By default, an Xcode playground has a single page open. However, for more comprehensive documentation examples, many separate pages may be preferable. For example, instead of creating a single very long page with subheadings (which may take a while to interpret and execute), additional pages can be added, each with their own specific examples. This also has the advantage of being able to interactively experiment with code as only the examples on a page need to be recalculated.</p><p class="calibre8">To add a new<a id="id104" class="calibre1"/> page to an existing playground, right-click on the <span class="strong"><strong class="calibre2">MyPlayground</strong></span> top-level element in the project navigator and select the <span class="strong"><strong class="calibre2">New Playground Page</strong></span> menu item. Alternatively, navigate to <span class="strong"><strong class="calibre2">File</strong></span> | <span class="strong"><strong class="calibre2">New</strong></span> | <span class="strong"><strong class="calibre2">Playground Page</strong></span> or its keyboard shortcut, <span class="strong"><em class="calibre11">Command</em></span> + <span class="strong"><em class="calibre11">Option</em></span> + <span class="strong"><em class="calibre11">N</em></span>. When this is done, the first page becomes <span class="strong"><strong class="calibre2">Untitled Page</strong></span> and the newly added page becomes <span class="strong"><strong class="calibre2">Untitled Page 2</strong></span>:</p><div class="mediaobject"><img src="../images/00019.jpeg" alt="Adding a page" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">Pages can be<a id="id105" class="calibre1"/> reordered by dragging and dropping them in the project navigator on the left. They can also be renamed by selecting the page, then clicking it to reveal a text field that can be renamed. This is similar to renaming files in the <code class="literal">Finder</code>. The documentation's <code class="literal">@previous</code> and <code class="literal">@next</code> links allow the reader to navigate through the pages, as described in the following section.</p><div class="note" title="Note"><h3 class="title2"><a id="note19" class="calibre1"/>Note</h3><p class="calibre8">When working with a playground with pages, the <code class="literal">contents.xcplayground</code> file's version number is updated to <code class="literal">6.0</code>, and a new <code class="literal">Pages</code> directory is created that sits alongside the <code class="literal">Resources</code> top-level folder. Inside the <code class="literal">Pages</code> directory, each page is represented as its own <code class="literal">.xcplaygroundpage</code> folder, which contains a <code class="literal">Contents.swift</code> file and an individual <code class="literal">timeline.xctimeline</code> file.</p></div></div></div>

<div class="book" title="Playgrounds and documentation">
<div class="book" title="Documenting code"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch02lvl2sec40" class="calibre1"/>Documenting code</h2></div></div></div><p class="calibre8">Swift 2 adopts a<a id="id106" class="calibre1"/> new markup scheme for documentation, both for use with playgrounds but to also document Swift code. As a result, the documentation comments are described as applying to <span class="strong"><em class="calibre11">Playground Comments</em></span> or <span class="strong"><em class="calibre11">Symbol Documentation</em></span>.</p><p class="calibre8">Playground comments start with <code class="literal">//:</code> for single-line comments, and uses <code class="literal">/*:</code> and <code class="literal">*/</code> for block-level comments. These are rendered in playgrounds as in-line documentation, and they replace the nested HTML that existed in prior versions of Xcode. Markup defaults to showing as raw text, but the rendered content can be seen by navigating to <span class="strong"><strong class="calibre2">Editor</strong></span> | <span class="strong"><strong class="calibre2">Show Rendered Markup</strong></span>. To toggle it back to display the raw markup and allow the text to be edited, navigate to <span class="strong"><strong class="calibre2">Editor</strong></span> | <span class="strong"><strong class="calibre2">Show Raw Markup</strong></span>. This setting is also persisted in the <code class="literal">xcplayground</code> file with the <code class="literal">display-mode='rendered'</code> or <code class="literal">display-mode='raw'</code> attribute.</p><p class="calibre8">Symbol documentation starts with <code class="literal">///</code> for single-line comments, and uses <code class="literal">/**</code> and <code class="literal">*/</code> for block-level comments. Symbol documentation applies to variables and constants, functions, and types. Only one type of symbol documentation comment (either single-line or multiline, but not both) may be present above a symbol definition. Multiple contiguous single-line comments will be merged into a single block.</p><div class="note" title="Note"><h3 class="title2"><a id="tip20" class="calibre1"/>Tip</h3><p class="calibre8">Symbol documentation can be revealed by pressing <span class="strong"><em class="calibre11">Command </em></span>+ <span class="strong"><em class="calibre11">Control</em></span> +<span class="strong"><em class="calibre11"> ?</em></span> while the cursor is over an identifier, or by pressing <span class="strong"><em class="calibre11">Alt</em></span> and clicking on the identifier in Xcode.</p></div><p class="calibre8">Both playground <a id="id107" class="calibre1"/>and symbol documentation allow some markup to be used for text formatting purposes. In addition, there are certain symbol <span class="strong"><em class="calibre11">format commands</em></span> that can be specified with a hyphen, followed by the command name, and then a colon. These are used to introduce documentation, for example, for a specific parameter of a function, the return type, or what errors are thrown.</p><div class="book" title="Playground navigation documentation"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec01" class="calibre1"/>Playground navigation documentation</h3></div></div></div><p class="calibre8">It is possible to <a id="id108" class="calibre1"/>create navigational links between pages in a multipage playground. Each page has a name (which starts off as <span class="strong"><strong class="calibre2">Untitled Page</strong></span>, <span class="strong"><strong class="calibre2">Untitled Page 2</strong></span>, and so on) but can be renamed in the project navigator.</p><p class="calibre8">To rename a<a id="id109" class="calibre1"/> page, open the project navigator with <span class="strong"><em class="calibre11">Command</em></span> + <span class="strong"><em class="calibre11">1</em></span> and then select the page in the navigator view. The name can be made editable by double-clicking on the page name, which turns it into a text field:</p><div class="mediaobject"><img src="../images/00020.jpeg" alt="Playground navigation documentation" class="calibre9"/></div><p class="calibre10"> </p><p class="calibre8">Links to specific pages are performed with a link, which is represented as <code class="literal">[Link Name](Page%20Name)</code>. For example, to create a link to the first page that was just shown, the following can be used:</p><div class="note"><pre class="programlisting">//: Go back to the [first page](Page%20One)</pre></div><div class="note" title="Note"><h3 class="title2"><a id="tip21" class="calibre1"/>Tip</h3><p class="calibre8">Spaces in the page name need to be URL escaped, so a space is represented as <code class="literal">%20</code>. Using <code class="literal">+</code> does not work.</p></div><p class="calibre8">As page names <a id="id110" class="calibre1"/>may be fragile, it is recommended to use the <span class="strong"><strong class="calibre2">Next</strong></span> and <span class="strong"><strong class="calibre2">Previous</strong></span> links instead. These can be <a id="id111" class="calibre1"/>represented using the <code class="literal">@next</code> and <code class="literal">@previous</code> special identifiers as the page names, as follows:</p><div class="note"><pre class="programlisting">//: Go back to [the previous page](@previous),
//: or move forward to [the next page](@next).</pre></div><p class="calibre8">Using <code class="literal">@next</code> and <code class="literal">@previous</code> is recommended in order to chain multiple pages together because it allows pages to be reordered without requiring any changes to the content. Pages can be reordered in the project navigator by dragging and dropping projects up and down the order.</p><div class="note" title="Note"><h3 class="title2"><a id="note20" class="calibre1"/>Note</h3><p class="calibre8">Page navigation is only available in playgrounds.</p></div></div><div class="book" title="Text formatting"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec02" class="calibre1"/>Text formatting</h3></div></div></div><p class="calibre8">The playground and symbol documentation can use a number of different formatting styles <a id="id112" class="calibre1"/>using a markup language to represent different types of text. These include the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Bulleted lists, which use one of the <code class="literal">*</code>, <code class="literal">+</code>, or <code class="literal">–</code> characters as the bullet, followed by a single space, and the text</li><li class="listitem">Numbered lists, which use a number, followed by a period, a single space, and the text</li><li class="listitem">Horizontal rules, which use four dashes <code class="literal">----</code> to generate a horizontal rule in the text</li><li class="listitem">Block quotations, which start each line with <code class="literal">&gt;</code> followed by a single space</li><li class="listitem">Block code, which is either indented four spaces in from the start, or begin and end with <code class="literal">````</code></li><li class="listitem">Headings, using <code class="literal">#</code>, <code class="literal">##</code>, or <code class="literal">###</code> for level 1, 2, or 3 headings, respectively. Alternatively, heading level 1 can use a <code class="literal">===</code> underneath the title and heading level 2 can use <code class="literal">---</code> underneath the title</li></ul></div><div class="note" title="Note"><h3 class="title2"><a id="tip22" class="calibre1"/>Tip</h3><p class="calibre8">Exactly a single space is required between the end of the list delimiter (the bullet or the period) and the following text; otherwise it will not be rendered as expected</p></div><p class="calibre8">In addition<a id="id113" class="calibre1"/> to the block-level formatting, it is possible to use in-line formatting elements:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Code can be represented with <code class="literal">`backticks`</code> around the words</li><li class="listitem">Text can be emphasized in italics <code class="literal">_like this_</code> or <code class="literal">*like this*</code></li><li class="listitem">Text can be marked as bold using <code class="literal">__this__</code> or <code class="literal">**this**</code></li></ul></div><p class="calibre8">Images and links can also be used in documentation:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Images are represented with <code class="literal">![Alternate Text](url "hover text")</code></li><li class="listitem">Links are represented with <code class="literal">[link text](url)</code></li><li class="listitem">Links can also be declared with <code class="literal">[link title]: url "hover text"</code>, and then referred to later with <code class="literal">[link title]</code></li></ul></div><p class="calibre8">For example, here is a markup block consisting of many single-line comments, which will be concatenated into a single documentation block:</p><div class="note"><pre class="programlisting">//: # Example Documentation
//: Navigate to the [previous](@previous) or [next](@next) page
//: ----
//: Numbered lists:
//: 1. First item
//: 2. Second item
//: 3. Third item
//:
//: Bulleted lists:
//: * First item
//: * Second item
//:   + child item
//:   + child item
//: * Third item
//:
//: How to do loops in Swift using `for`:
//:
//:     for i in 1...12 {
//:       print("Looping \(i)")
//:     }
//:
//: &gt; This is a block quote
//: &gt; which is merged together
//: &gt; using _italics_ or **bold**
//:
//: Link to [AlBlue's Blog](http://alblue.bandlem.com)
//: Image of ![AlBlue](http://alblue.bandlem.com/images/AlexHeadshotLeft.png "AlBlue")</pre></div><p class="calibre8">When <a id="id114" class="calibre1"/>viewed in a rendered markup view, it will look like:</p><div class="mediaobject"><img src="../images/00021.jpeg" alt="Text formatting" class="calibre9"/></div><p class="calibre10"> </p></div><div class="book" title="Symbol documentation"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch02lvl3sec03" class="calibre1"/>Symbol documentation</h3></div></div></div><p class="calibre8">When writing <a id="id115" class="calibre1"/>documentation for symbols (variables, constants, functions, and so on), additional <a id="id116" class="calibre1"/>commands can be used to indicate particular values. These are represented with a <code class="literal">–</code> dash, followed by a command name, and then a colon. These include the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><code class="literal">- parameter name: description</code>: This is the <code class="literal">description</code> of a <code class="literal">parameter</code> called <code class="literal">name</code> in the function or method</li><li class="listitem"><code class="literal">- parameters:</code>: This is a group of related <code class="literal">parameter</code> elements</li><li class="listitem"><code class="literal">- returns: description</code>: This is the <code class="literal">description</code> of the return result</li><li class="listitem"><code class="literal">- throws: description</code>: This is the <code class="literal">description</code> of any errors that may occur</li></ul></div><p class="calibre8">There are also a number of field commands that can be used with symbols. These are all represented with <code class="literal">– name: description</code>, and they all have exactly the same effect but with a different text name in the symbol reference. These include the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><code class="literal">author</code>: This is the name of the author who wrote this section.</li><li class="listitem"><code class="literal">authors</code>: This is a series of paragraphs with one author name per paragraph.</li><li class="listitem"><code class="literal">bug</code>: This is a description of a known bug.</li><li class="listitem"><code class="literal">complexity</code>: This is a description of the complexity of the function, such as <code class="literal">O(1)</code> or <code class="literal">O(N)</code>. Use <code class="literal">\*</code> to represent an escaped <code class="literal">*</code> character or to denote higher orders, for example, <code class="literal">O(N\*N)</code>.</li><li class="listitem"><code class="literal">copyright</code>: This is a copyright statement.</li><li class="listitem"><code class="literal">date</code>: This is a date reference; please note that the text field is not parsed in any way.</li><li class="listitem"><code class="literal">experiment</code>: This is a block-denoting experiment.</li><li class="listitem"><code class="literal">important</code>: This marks something as important.</li><li class="listitem"><code class="literal">invariant</code>: This describes an invariant of the function.</li><li class="listitem"><code class="literal">note</code>: This introduces a note.</li><li class="listitem"><code class="literal">precondition</code>: This describes what must be true for the function that has to be called.</li><li class="listitem"><code class="literal">postcondition</code>: This describes what must be true after the function returns.</li><li class="listitem"><code class="literal">remark</code>: This adds general notes to the symbol.</li><li class="listitem"><code class="literal">requires</code>: This notes what is required, such as module dependencies, or a minimum version of the operating system.</li><li class="listitem"><code class="literal">seealso</code>: This adds a <span class="strong"><strong class="calibre2">See Also</strong></span> link to the documentation.</li><li class="listitem"><code class="literal">since</code>: This is documentation indicating when the functionality first arrived.</li><li class="listitem"><code class="literal">todo</code>: This adds a note to do later.</li><li class="listitem"><code class="literal">version</code>: This documents the version number of the location.</li><li class="listitem"><code class="literal">warning</code>: This adds a warning note.</li></ul></div><p class="calibre8">The following <a id="id117" class="calibre1"/>combines a <a id="id118" class="calibre1"/>number of these documentation examples into a multi-line documentation block:</p><div class="note"><pre class="programlisting">/**
Returns the string in SHOUTY CAPS
- parameter input: the input string
- author: Alex Blewitt
- returns: The input string, but in upper case
- throws: No errors thrown
- note: Please don't shout
- seealso: String.uppercaseString
- since: 2015
 */
func shout(input:String) -&gt; String {
  return input.uppercaseString
}</pre></div><p class="calibre8">When the mouse hovers over the <code class="literal">shout</code> function, the following documentation will be seen:</p><div class="mediaobject"><img src="../images/00022.jpeg" alt="Symbol documentation" class="calibre9"/></div><p class="calibre10"> </p></div></div></div>
<div class="book" title="Limitations of playgrounds" id="PNV61-d7e55eb5242648e89c396442afe4f84b"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec20" class="calibre1"/>Limitations of playgrounds</h1></div></div></div><p class="calibre8">Although playgrounds can be very powerful for interacting with code, there are some limitations that are<a id="id119" class="calibre1"/> worth being aware of. There is no debugging support in the playground, so it is not possible to add a breakpoint and use the debugger and find out what are the values.</p><p class="calibre8">Given that the UI allows tracking values—and that it's very easy to add new lines with just the value to be tracked—this is not much of a hardship. Other limitations of playgrounds include the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Only the simulator can be used for the execution of iOS-based playgrounds. This prevents the use of hardware-specific features that may only be present on a device.</li><li class="listitem">The performance of playground scripts is mainly based on how many lines are executed and how much output is saved by the debugger. It should not be used to test the performance of performance-sensitive code.</li><li class="listitem">Although the playground is well suited to present user interface components, it cannot be used for user input.</li><li class="listitem">Anything requiring entitlements (such as in-app purchases or access to iCloud) is not possible in playground at the current time of writing.</li></ul></div></div>
<div class="book" title="Summary" id="QMFO1-d7e55eb5242648e89c396442afe4f84b"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch02lvl1sec21" class="calibre1"/>Summary</h1></div></div></div><p class="calibre8">This chapter presented playgrounds, an innovative way of running Swift code with graphical representation of values and introspection of running code. Both expressions and timeline were presented as a way of showing the state of the program at any time, as well as graphically inspecting objects using Quick Look. The <code class="literal">XCPlayground</code> framework can also be used to record specific values and allow asynchronous code to be executed.</p><p class="calibre8">The next chapter will look at how to create an iOS application with Swift.</p></div></body></html>