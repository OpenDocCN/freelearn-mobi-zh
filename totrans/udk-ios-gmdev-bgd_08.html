<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch08"/>Chapter 8. Publishing and Monetizing Your Game</h1></div></div></div><div><blockquote class="blockquote"><p>We now have our game in a finished state with a fully featured level and we have playtested it and refined it on the computer, but at some point you're going to want to get the game on your iOS device. This chapter will be all about that: getting the game first on our own iOS device, and then going all the way to publishing on the App Store.</p></blockquote></div><p>In this chapter we shall:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Learn about the process of getting your game onto an iOS device</li><li class="listitem" style="list-style-type: disc">Go through the process of deploying the game on your own iOS device</li><li class="listitem" style="list-style-type: disc">Customize our game's icons when viewed from our device as well as the App Store</li><li class="listitem" style="list-style-type: disc">Discuss the playtesting process and learn how to do playtesting sessions of your own</li><li class="listitem" style="list-style-type: disc">Discuss the current royalties model Epic Games has in place for UDK-developed iOS titles</li><li class="listitem" style="list-style-type: disc">Learn how to link Game Center into our games for a fuller social experience</li><li class="listitem" style="list-style-type: disc">Explore using in-game ads for monetization</li><li class="listitem" style="list-style-type: disc">Go through the process of uploading your game on the iTunes store</li></ul></div><p>It's a lot of stuff to go through, so at the very least I will give you an overview of the most used options available and what UDK has in place to make things happen. So with that, let's get started!</p><div><div><div><div><h1 class="title"><a id="ch08lvl1sec01"/>Before the magic happens</h1></div></div></div><p>Very soon we will have your game running on your device and it will be fantastic, but before we get to that point, there are a few things we have to make sure of at first. First of all, you will need to own an iOS device (which we will assume you have) in order to test it out first. You will need to set up provisioning for your game, which we will discuss later, and finally, you will also need to have a developer account, which we will talk about first.<a class="indexterm" id="id451"/>
</p><div><div><div><div><h2 class="title"><a id="ch08lvl2sec01"/>Registering as an iOS developer</h2></div></div></div><p>In order to put a game in the App Store using UDK you must first be a registered iOS developer. The process is relatively painless, however at the time of this writing Apple charges $99 a year for the privilege of being a developer. If at any time you let your subscription end, all of the apps you've created will be removed as well. If you are not a developer yet, you will need to register at <a class="ulink" href="http://https://developer.apple.com/programs/ios/">https://developer.apple.com/programs/ios/</a>.<a class="indexterm" id="id452"/>
</p><div><img alt="Registering as an iOS developer" src="img/image_1901_08_01.jpg" width="315"/></div><p>On that page you will see a button that says<strong> Enroll Now</strong>. From there, Apple has done a good job to make it as simple as possible by filling information out and following the menus. Upon completion, you will have a developer account.</p></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec02"/>Setting up provisioning</h2></div></div></div><p>In order to even test games on an iOS device you are required to have the correct generation of keys, certificates, and mobile profiles which is what is called<strong> provisioning</strong>. Apple requires that any device that runs any app must be set up with a provisioning profile. The<strong> Unreal iOS Configuration Wizard</strong> makes the process of setting up the provisioning process easier, though it still requires the use of the iOS provisioning portal on Apple's developer website for certain aspects.<a class="indexterm" id="id453"/>
</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec02"/>Time for action—creating new provisioning</h1></div></div></div><p>In order to get our game on our own iOS device, we need to create a provisioning profile. With that in mind, let's get it started!<a class="indexterm" id="id454"/>
</p><div><ol class="orderedlist arabic"><li class="listitem">Connect your iOS device to your computer via USB. Make sure you have enough free space on your device to install the game.</li><li class="listitem">To the left-hand side of the<strong> Mobile Previewer</strong> button, you should see an icon that looks like a mobile device with a red arrow pointing upwards. If this is the first time you are doing this, the<strong> Unreal iOS Configuration Wizard</strong> should come up.<p>If, for any reason, it doesn't appear, you can also find it in the <code class="literal">\Binaries\IPhone</code> folder inside your UDK Installation with the name <code class="literal">IPhonePackager.exe</code>. You can also run it from the <strong>Unreal Frontend</strong>, but that will be discussed later in the chapter. This is shown in the following screenshot:
</p><div><img alt="Time for action—creating new provisioning" src="img/image_1901_08_02.jpg" width="253"/></div></li><li class="listitem">From the menu click on the<strong> Create certificate request and a key pair..</strong>. button to bring up a new menu. Fill in the fields with the information requested, making sure to use the e-mail you registered as an iOS developer in the<strong> Email Address</strong> field and the<strong> Common Name</strong> being your first and last name or your company name. As you finish something, you will notice green checkmarks showing up as shown in the following screenshot:<a class="indexterm" id="id455"/><div><img alt="Time for action—creating new provisioning" src="img/image_1901_08_03.jpg" width="328"/></div></li><li class="listitem">Click on the<strong> Generate a key pair..</strong>. button to create a key pair file. This will open up a file-saving dialog, which will allow you to save the file in a known folder. As this will be the same for all of your projects it would be a good idea to place it in your UDK installation folder in something like<code class="literal"> C:\UDK\Developer Files</code>.</li><li class="listitem">Afterwards click on the<strong> Generate Certificate Request</strong> button which will also create a file for you to save. Save it in the same directory you created earlier.<a class="indexterm" id="id456"/><p>While this method will work now in allowing us to run the game on our own iOS device, we will be required to import the certificate file into our keychain on a Mac computer when you want to publish your app on the App Store.
</p><div><h3 class="title"><a id="tip07"/>Tip</h3><p>The following steps assume you have Firefox or Safari as your web browser. While it may work fine using others, if you have a problem I would use either of these two options.</p></div></li><li class="listitem">Open up your web browser and visit the Apple developer's site at <a class="ulink" href="http://https://developer.apple.com/">https://developer.apple.com/</a> and click on the<strong> iOS Dev Center</strong> option. The following screenshot shows this:<a class="indexterm" id="id457"/><div><img alt="Time for action—creating new provisioning" height="135" src="img/image_1901_08_04.jpg"/></div></li><li class="listitem">Click on the<strong> Log in</strong> button and enter in your credentials. When the<strong> iOS Dev Center</strong> comes up, click on the<strong> iOS Provisioning Portal</strong> link on the toolbar at right-hand side as shown in the following screenshot:<div><img alt="Time for action—creating new provisioning" height="98" src="img/image_1901_08_05.jpg"/></div></li><li class="listitem">On<strong> the iOS Provisioning Portal</strong> page, there will be a picture of an iPhone beside some text with a button underneath it saying<strong> Launch Assistant</strong>. Click on that button. The following screen will appear:<div><img alt="Time for action—creating new provisioning" height="93" src="img/image_1901_08_06.jpg"/></div></li><li class="listitem">A new setup should start. Click on the<strong> Continue</strong> button to start.</li><li class="listitem">At this point you need to create an<strong> App ID</strong>, which is an identifier that will allow iOS to communicate with your app, such as for push notifications. You will need to also choose a display name for the app, which is the readable name which will be used in various places. Once you type an<strong> App ID</strong>, click on<strong> Continue</strong>.<a class="indexterm" id="id458"/></li><li class="listitem">Next, you need to specify what device you will be playing the game on. Enter a description for the device, such as<code class="literal"> iPad</code>. Underneath you will see a place to enter your<strong> Device ID</strong>. While it is possible to obtain the<strong> Device ID</strong> using Xcode on a Mac, it may be simpler at this time to just open up<strong> iTunes</strong> and find the ID there.</li><li class="listitem">Open up<strong> iTunes</strong>. Click on your device to bring up its menu. From there click on the<strong> Serial Number</strong> option to change the value to show its identifier (UDID). After it is shown click on<strong> Edit</strong> |<strong> Copy Identifier</strong> (UDID). Refer to the following screenshot:<div><img alt="Time for action—creating new provisioning" src="img/image_1901_08_07.jpg" width="394"/></div></li><li class="listitem">Paste the code into your<strong> Device ID</strong> property in the previous menu and hit<strong> Continue</strong>.<a class="indexterm" id="id459"/></li><li class="listitem">You should now be brought to the<strong> Generate Certificate Signing Request</strong> step. Hit continue to skip this page as we already created a<strong> Certificate Request</strong> inside of the<strong> Configuration Wizard</strong> earlier in step 5.</li><li class="listitem">At the<strong> Submit Certificate Signing Request</strong> step click on the<strong> Browse</strong> button and locate the certificate (the<code class="literal"> .csr</code> file) inside the folder, where you placed it during step 5 and hit<strong> Continue</strong>.</li><li class="listitem">At this point you will be asked for a<strong> Profile Description</strong>. This is a name that will be used to identify a particular provision, such as if you had an iPhone and an iPad and wanted to try the game on both. With that finished, click on the<strong> Generate</strong> button. This is shown in the following screenshot:<div><img alt="Time for action—creating new provisioning" src="img/image_1901_08_08.jpg" width="274"/></div></li><li class="listitem">When the next page fully loads, your provisioning profile will be completed. Once the large green checkmark appears on the bottom step, click on<strong> Continue.</strong><a class="indexterm" id="id460"/></li><li class="listitem">Click on the<strong> Download</strong> button on the next screen and save the file into the same place you put the other two files we created this chapter.<a class="indexterm" id="id461"/></li><li class="listitem">Once you have completed the download, click on the<strong> Continue</strong> button. Click on<strong> Continue</strong> again to pass the<strong> Download &amp; Install Your Provisioning Profile</strong> as we won't need it now, but we will when we want to submit our game to the App Store.</li><li class="listitem">At this step you should see<strong> Download &amp; Install Your Development Certificate</strong>. We need this as well, so save the file into our important files' folder.</li><li class="listitem">Once the file is completed, click on<strong> Continue</strong>. Click on<strong> Continue</strong> again to pass the<strong> Download &amp; Install Your Development Certificate</strong> as we won't need it now, but we will when we want to submit our game to the<strong> App Store</strong>.</li><li class="listitem">Continue past the<strong> Install your iOS application with Xcode</strong> page as we will not be using it when creating a game with UDK.</li><li class="listitem">At this point you should have completed the<strong> Provisioning Assistant</strong>, and we can click on<strong> Done</strong> on the next page to exit the assistant. This is shown in the following screenshot:<div><img alt="Time for action—creating new provisioning" src="img/image_1901_08_09.jpg" width="297"/></div></li><li class="listitem">Back in the<strong> Unreal iOS Configuration Wizard</strong> go to the<strong> New User</strong> tab. Click on the<strong> Import a mobile provision...</strong> button to import the provisioning file that you saved in our important documents' folder. It should be the only file of its type the folder. This is shown in the following screenshot:<a class="indexterm" id="id462"/><div><img alt="Time for action—creating new provisioning" src="img/image_1901_08_10.jpg" width="309"/></div></li><li class="listitem">Next, click on<strong> Import a certificate...</strong> to import the developer certificate. Once selected, it will ask you to import the key pair file that you made when generating the certificate request. Click on<strong> OK</strong> and select the key pair file. At this point, we should have two green checkmarks on the right-hand side.<a class="indexterm" id="id463"/></li><li class="listitem">Click the<strong> Edit Info.plist overrides...</strong> button to open the<strong> Customize Info.plist</strong> window. Under<strong> Bundle Display Name</strong>, type the name you want your game to be on the iOS device. You will want to use a small name to make sure that it will fit within the space the OS will provide, something like<code class="literal"> Urban Warrior</code> would work. In<strong> Bundle Name</strong> type a condensed version of the name. This is what iOS will use to identify the app, I used<code class="literal"> Urban Warrior</code>. In<strong> Bundle Identifier</strong> type the same thing that was used in the provisioning file, as stated in the packager dialog. Click on<strong> Save Changes</strong>. This is shown in to the following screenshot:<div><img alt="Time for action—creating new provisioning" src="img/image_1901_08_11.jpg" width="240"/></div></li><li class="listitem">With all of the checkmarks completed, click on the<strong> Ready to Package</strong> button. If you got to this page by clicking on the icon I mentioned earlier, the game should be pushed to your device after a period of time. Otherwise, click on the<strong> Install on iOS device</strong> button. After a period of time you should see a popup telling you that the game has been deployed. This can be seen in the following screenshot:<a class="indexterm" id="id464"/><div><img alt="Time for action—creating new provisioning" height="99" src="img/image_1901_08_12.jpg"/></div><div><img alt="Time for action—creating new provisioning" height="71" src="img/image_1901_08_13.jpg"/></div></li><li class="listitem">After the game is pushed to your device open up your iPad and touch the icon of your game<strong> Urban Warrior</strong> as shown in the previous screenshot. You will see the following screenshot:<a class="indexterm" id="id465"/><div><img alt="Time for action—creating new provisioning" src="img/image_1901_08_14.jpg" width="305"/></div></li></ol></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec03"/>What just happened?</h2></div></div></div><p>Our game is now on our very own iOS device. It took a lot of steps to get there, but we finally made it! Every time I get to play something that I created on a new console, I always get a warm feeling inside of accomplishment, and I hope you're feeling the same. Congratulations on getting this far, you are now officially an iOS Developer!<a class="indexterm" id="id466"/>
</p></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec04"/>Custom Graphics</h2></div></div></div><p>While Epic provides graphics to be used with their games being used on iOS, one of the easy things we can do to make our game more our own is by customizing the graphics shown on the iOS version of our game. iOS apps use a collection of different icon images of many different sizes to support the large variety of items that we support. Replacing these images with your own custom images will make it so that when you package the game, using either the<strong> Unreal Frontend</strong> or the<strong> Install on iOS Device</strong> command, it will use those assets. The folder that contains those assets would be at<code class="literal"> UDKGame/Build/IPhone/Resources/Graphics/</code>. As of the time of writing, if you are creating a<strong> Universal App</strong> these are the possible graphics you can/should use:<a class="indexterm" id="id467"/>
</p><div><table border="1"><colgroup><col style="text-align: left" width="1.15"/><col style="text-align: left" width="1.44652777777778"/><col style="text-align: left" width="2.77652777777778"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Image Size (px)</p>
</th><th style="text-align: left" valign="bottom">
<p>File Name</p>
</th><th style="text-align: left" valign="bottom">
<p>Used For</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>512x512</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">iTunesArtwork</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Ad Hoc iTunes</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>57x57</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Icon.png</code>
</p>
</td><td style="text-align: left" valign="top">
<p>App Store and the Home screen on iPhone/iPod touch</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>114x114</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Icon@2x.png</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Home screen for iPhone 4 High Resolution</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>72x72</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Icon-72.png</code>
</p>
</td><td style="text-align: left" valign="top">
<p>App Store and Home screen on iPad</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>50x50</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Icon-Small-50.png</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Spotlight on iPad</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>29x29</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Icon-Small.png</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Settings on iPad and iPhone, and spotlight on iPhone</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>58x58</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">Icon-Small@2x.png</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Spotlight and settings for iPhone 4 High Resolution</p>
</td></tr></tbody></table></div><div><h3 class="title"><a id="tip08"/>Tip</h3><p>To get the latest up-to-date knowledge on the sizes for icons that you are required to have or would need to use for different devices visit <a class="ulink" href="http://https://developer.apple.com/library/ios/#qa/qa2010/qa1686.html">https://developer.apple.com/library/ios/#qa/qa2010/qa1686.html</a>.</p></div><p>When creating icons, I find it easier to start from something large and then work down in size, in order to not have any pixelation in my artwork. I took the liberty of making some sample icons that you are free to use in your own projects. Here's an example of what it looks like:<a class="indexterm" id="id468"/>
</p><div><img alt="Custom Graphics" height="88" src="img/image_1901_08_15.jpg"/></div></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec05"/>Playtesting on the device</h2></div></div></div><p>At this point, we have played our game using the Mobile Previewer with and without the aid of the UDK Remote, but it is an entirely different thing to actually play the game on your own device. For one thing your hands are now on the screen so<strong> HUD</strong> elements that you created may be hard to see, such as the buttons we created. It is also a very good idea to have other people playtest your game and give you feedback.<a class="indexterm" id="id469"/>
</p><div><div><div><div><h3 class="title"><a id="ch08lvl3sec01"/>Why playtest?</h3></div></div></div><p>
<strong>Playtesting</strong> is one of the most important things in deciding the success of a video game. However it is an area that is often way overlooked during the game creation process so I want to stress how important it is to do. Playtesters are the voice of how a normal person is going to react to your game. It is important that you take what they say seriously. They are also the people that are going to find and exploit anything they can get their hands on within your world, and you will find things that you never thought were possible in your game.<a class="indexterm" id="id470"/>
</p><p>When building your project, it is incredibly important to prototype as early as you can and get a feel if what you are working on is actually fun to your target audience. There is no secret formula to create fun (and thankfully so because game designers would be out of a job) but you can apply principles that you have learned from other products, as well as your own creativity to see if it works. That being said, you should playtest your game more than any other person before you set the game in front of your gaming group. After all, if your gaming group doesn't like what you're doing, chances are your App Store reviews aren't going to be as amazing as you think they'd be.</p></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec02"/>How to playtest</h3></div></div></div><p>Large companies devote a large amount of resources into their playtesting, creating labs with cameras that record a playtester from many different angles, as well as recording input and player behavior, trying to turn it into a science. But, unlike those companies, I know for a fact that I can't afford to do that, so instead I go with the next best thing. There are a lot of different ways to conduct a playtesting session.<a class="indexterm" id="id471"/>
</p><p>When I do playtesting sessions myself, I typically have a questionnaire that I have players fill out after they have played the game. A lot of the questions are circling a number from 1-10 talking about if the game was too difficult, the goals were hard to understand, and other assorted things that you want to figure out. I also leave a large blank at the end of additional thoughts, as those who are heavily invested will no doubt have tons of things to say to you.</p><p>For those who are still in school, I find a very easy way to get people to play your game is ordering a couple pizzas and giving someone a slice for playing your game. You could create your own website and have visitors fill out a questionnaire after playing your game. There are also many online communities of people who are always eager to try new games out and give feedback such as ModDB/IndieDB, at <a class="ulink" href="http://www.moddb.com/">http://www.moddb.com/</a> and <a class="ulink" href="http://www.indiedb.com/">http://www.indiedb.com/</a> though it may be an issue for getting iOS specific feedback. At the very least talking to friends and handing them your iPad is another way to get someone to play your game, though your friends and family may be biased in their reviews.</p><p>It is also very important that you have people play your game without your input. Most designers believe that they have covered every possible thing in their rulebook, but it is almost guaranteed that something has been forgotten. In level design it is important to see what directions that players go in and if they are being guided in the correct way. At no point in a game should players feel stupid. Having games that are not complete is a sure way of making a player feel that they just wasted their money on an incomplete product. There have been times that I have played a game that had no way to actually win if you followed the rules included.<a class="indexterm" id="id472"/>
</p><p>Try to have a thick skin, and thank everyone for their feedback; not everyone is going to like your game, but if you see a trend forming chances are you may want to adjust the game. Playtesters are going to suggest changes and it will be your decision whether or not those changes are really worth having or not. There are times when it is for a player's own good or for balance's sake that things are the way they are. Another important thing to remember is to playtest often, as you need to see if the changes you made are helping or not and rinse and repeat until you're satisfied to publish.</p></div></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec06"/>Commercialization</h2></div></div></div><p>With your project mostly finished it may be a good time to look at the possibilities of commercialization of your game. As this book is a beginner's book, I will not delve too much into specifics for implementing all of the features possible for these services; it would be large enough for its own book, but I will be going over what can be done and give some resources for any budding developer that just has to have<em> x</em> feature in their game.<a class="indexterm" id="id473"/>
</p><div><h3 class="title"><a id="note15"/>Note</h3><p>Note that most of these features will require UnrealScript input of some sort into your game in order to implement it, and as this book does not cover UnrealScript you will have to do a lot of research on your own, but the links I've given are what I used to learn it so I feel quite certain that you can do the same as well.</p></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec03"/>Licensing UDK</h3></div></div></div><p>UDK is free to use for non-commercial or educational purposes. If you are going to use the UDK for any commercial purpose, or have ads of any kind in your game you have to apply for a license with Epic Games at <a class="ulink" href="http://www.udk.com/licensing">http://www.udk.com/licensing</a>. The terms of the license as of writing is $99 up-front with a 0% royalty for the company's first $50,000 in revenue and 25% for all remaining gained revenue. As we are publishing our game on iOS, Apple takes a cut of the cost receiving 30% leaving you with 70% of the profits. If your app gained $100 of sales but you only received 70%, the royalty is calculated on the $70 that you did receive. And while it may seem like 25% may be a lot, if you sold your app at $1 it would take you selling 71,428 apps to get that mark.<a class="indexterm" id="id474"/>
</p></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec04"/>In-game advertisements</h3></div></div></div><p>Those who want to make their game free to download while still wanting to make a profit, could add in-game advertisements to their game. Apple has an entire network called<strong> iAd</strong> which can be added to your game with only a few lines of code. It is important to note that you will have to purchase a license for UDK in order to distribute your game with Ads and the revenue that you generate with those ads is revenue. For more information about adding ads to your game visit <a class="ulink" href="http://udn.epicgames.com/Three/InGameAds.html">http://udn.epicgames.com/Three/InGameAds.html</a>.<a class="indexterm" id="id475"/>
</p></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec05"/>In-app purchases</h3></div></div></div><p>One of the other ways to make money on your game is by having certain things unlocked, by making purchases after a game is purchased. An example of this could be access to certain levels and/or features. One thing to be careful about is the fact that people may complain about not getting a full version of the game in this way. A possible solution for this is to have in-app purchases for purely cosmetic things, such as a different character or outfit.<a class="indexterm" id="id476"/>
</p><div><h3 class="title"><a id="note16"/>Note</h3><p>For more information about implementing a micro-transaction system into your game visit <a class="ulink" href="http://udn.epicgames.com/Three/MicroTransactions.html">http://udn.epicgames.com/Three/MicroTransactions.html</a>.</p></div></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec06"/>Bringing everyone together with Game Center</h3></div></div></div><p>
<strong>Game Center</strong> is Apple's online gaming network. Gamers with iOS devices can use this service in order to compete against each other for achievements, play multiplayer, and even voice chat with each other.<a class="indexterm" id="id477"/>
</p><p>To add Game Center to your game, simply go to the<code class="literal"> IPhoneEngine.ini</code> file located in your UDK folder at<code class="literal"> \UDKGame\Config\IPhone\</code> and set the value of<code class="literal"> bDisableGameCenter</code> to false as follows:<a class="indexterm" id="id478"/>
</p><div><pre class="programlisting">[OnlineSubsystemGameCenter.OnlineSubsystemGameCenter]
bDisableGameCenter=false
</pre></div><p>However, if you plan on using leader boards or achievements, it is a little more complicated as you will need to dive into UnrealScript, to implement the ability to get an achievement in the game.</p><div><h3 class="title"><a id="note17"/>Note</h3><p>For more information visit <a class="ulink" href="http://udn.epicgames.com/Three/GameCenter.html">http://udn.epicgames.com/Three/GameCenter.html</a>.</p></div></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec07"/>iCloud integration</h3></div></div></div><p>Apple's<strong> iCloud</strong> is a form of storage that saves data that can be accessed from any iOS device that a person owns. This could be a prime way of creating save files for your game, saving the player's progress.<a class="indexterm" id="id479"/>
</p><div><h3 class="title"><a id="note18"/>Note</h3><p>For more information visit <a class="ulink" href="http://udn.epicgames.com/Three/CloudDocumentStorage.html">http://udn.epicgames.com/Three/CloudDocumentStorage.html</a>.</p></div></div><div><div><div><div><h3 class="title"><a id="ch08lvl3sec08"/>Facebook/Twitter integration</h3></div></div></div><p>Another feature that the iOS version of UDK has is the ability to tweet or post on your Facebook page. It can make full use of Facebook's API being able to retrieve your friends list and many other things. To find out more about either of these two things, visit <a class="ulink" href="http://udn.epicgames.com/Three/TwitterIntegration.html">http://udn.epicgames.com/Three/TwitterIntegration.html</a> or <a class="ulink" href="http://udn.epicgames.com/Three/FacebookIntegration.html">http://udn.epicgames.com/Three/FacebookIntegration.html</a> respectively.<a class="indexterm" id="id480"/>
</p></div></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec07"/>Bringing our game to the world</h2></div></div></div><p>Now that our game is in peak shape, and is the next big iOS hit, let's publish it for the world to see; or at least Apple's approval staff. At this point, you will be required to have a Mac computer in order to complete the process.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec03"/>Time for action—requesting a Distribution Certificate</h1></div></div></div><p>The first action to take is to create a distribution provisioning. This is different from the one we created earlier because it will be used for placement on multiple devices.<a class="indexterm" id="id481"/>
</p><div><ol class="orderedlist arabic"><li class="listitem">Go to the<strong> iOS Provisioning Portal</strong> page on the Apple developer's site and instead of using the launcher click on<strong> Certificates</strong> on the left-hand side toolbar as shown in the following screenshot:<div><img alt="Time for action—requesting a Distribution Certificate" height="95" src="img/image_1901_08_16.jpg"/></div></li><li class="listitem">Click on the<strong> Distribution</strong> tab and request a new distribution certificate by clicking the<strong> Request Certificate</strong> button on the right-hand side of that page.<a class="indexterm" id="id482"/></li><li class="listitem">Scroll to the bottom of the page and find the<code class="literal"> .csr</code> file that we created earlier and click the<strong> Submit</strong> button. We will then return to the<strong> Distribution</strong> tab from before and after a period you will see the certificate say<strong> Issued</strong>. This is shown in the following screenshot:<div><img alt="Time for action—requesting a Distribution Certificate" height="149" src="img/image_1901_08_17.jpg"/></div></li><li class="listitem">Switch tabs to<strong> Development</strong> and back to<strong> Distribution</strong>. Upon coming back you will notice that the<strong> Actions</strong> tab has a download button. Click on it and save the file to the same place as the rest of our files.</li><li class="listitem">Next we need to create a<strong> Distribution Profile</strong>. Click on the<strong> Provisioning</strong> section of the<strong> iOS Provisioning Portal</strong> and the<strong> Distribution</strong> tab in much the same way we did before. Click on the<strong> New Profile</strong> button to bring us to the<strong> Create iOS Distribution Provisioning Profile</strong> page.<a class="indexterm" id="id483"/></li><li class="listitem">Leave the<strong> Distribution</strong> method at<strong> App Store</strong>. The<strong> Ad Hoc</strong> option is there if you are trying to distribute the app on your own, such as if you were creating an internal application for your business.<a class="indexterm" id="id484"/></li><li class="listitem">Under<strong> Profile Name</strong> type a name to identify the profile to you in the<strong> iOS Provisioning Profile</strong>, like<code class="literal"> Urban Warrior Provision</code>.</li><li class="listitem"><strong> Distribution Certificate</strong> should list the certificate that we created previously. Under<strong> App ID</strong> select our app, and leave devices blank as it is only used in<strong> Ad Hoc</strong> distribution.</li><li class="listitem">Click on the<strong> Submit</strong> button and it will take you back to the<strong> Distribution</strong> tab of the<strong> Provisioning</strong> home page. This is shown in the following screenshot:<div><img alt="Time for action—requesting a Distribution Certificate" src="img/image_1901_08_18.jpg" width="396"/></div></li><li class="listitem">On the page you will see the<strong> Provision</strong> with a status of<strong> Pending</strong>. Switch to the<strong> Development</strong> tab and back to<strong> Distribution</strong> and you will notice it will now be displayed as<strong> Active.</strong> Download the file to our folder of items. This is shown in the following screenshot:<a class="indexterm" id="id485"/><div><img alt="Time for action—requesting a Distribution Certificate" src="img/image_1901_08_19.jpg" width="344"/></div></li><li class="listitem">Open the<strong> iPhonePackager</strong> tool by going to your<code class="literal"> Binaries\IPhone</code> folder inside your UDK installation by double-clicking on the file<code class="literal"> IPhonePackager.exe</code>. This is shown in the following screenshot:<a class="indexterm" id="id486"/><div><img alt="Time for action—requesting a Distribution Certificate" src="img/image_1901_08_20.jpg" width="296"/></div></li><li class="listitem">The program should start with the<strong> Advanced Tools</strong> tab highlighted. Click on<strong> Provision and certificate tools...</strong> to bring up the<strong> Signing Tool</strong>.</li><li class="listitem">From there, click on<strong> Import a mobile provision...</strong> to import the distribution file using the file dialog.<a class="indexterm" id="id487"/></li><li class="listitem">Next click on<strong> Import a certificate...</strong> and use the file dialog to locate your distribution certificate (probably named<code class="literal"> ios_distribution.cer</code>). After that a message box will ask you for your key file. Click on<strong> OK</strong> and then select your key pair file. Click on<strong> Refresh List</strong> to see the certificate to be displayed. This is shown in the following screenshot:<div><img alt="Time for action—requesting a Distribution Certificate" src="img/image_1901_08_21.jpg" width="396"/></div></li><li class="listitem">Make sure UDK is closed and open the<strong> Unreal Frontend</strong> by going to your<strong> Binaries</strong> folder in your UDK installation and double-clicking on the<code class="literal"> UnrealFrontend.exe</code> application. Make sure that the editor program is closed as well because if it isn't, then you are almost guaranteed to have errors in the next few steps.<a class="indexterm" id="id488"/></li><li class="listitem">Click on the large button on the right-hand side side of your<strong> Frontend</strong> that says something similar to<strong> UDKGame on PC(Shipping 32)</strong> |<strong> Cook/Make/Sync with ...</strong> From the options in the menu, select the<strong> IPhone</strong> for the<strong> Platform, Shipping_32</strong> for the<strong> Game Config, ReleaseScript</strong> for the<strong> Script Config</strong>, and<strong> Shipping_32</strong> for the<strong> Cook/Make Config</strong>. Click on<strong> OK</strong> to save your settings.<p>When you are completely finished with your game, it would be a good idea to use the <strong>FinalReleaseScript</strong> option as it will run better due to removing assert checks and log information. Refer to the following screenshot:
<a class="indexterm" id="id489"/>
</p><div><img alt="Time for action—requesting a Distribution Certificate" height="85" src="img/image_1901_08_22.jpg"/></div></li><li class="listitem">In the<strong> Mobile</strong> section underneath the large button, change the<strong> Packaging Mode</strong> to<strong> Distribution.</strong><a class="indexterm" id="id490"/></li><li class="listitem">Click the<strong> Add...</strong> button and type the name of all the levels that you want to have in your game clicking<strong> Add Selected Maps</strong> to add the map to your game. This is shown in the following screenshot:<a class="indexterm" id="id491"/><div><img alt="Time for action—requesting a Distribution Certificate" src="img/image_1901_08_23.jpg" width="145"/></div></li><li class="listitem">Make sure the<strong> Override Default</strong> option is checked and select your first level to be your first level to play. This is shown in the following screenshot:<a class="indexterm" id="id492"/><div><img alt="Time for action—requesting a Distribution Certificate" height="192" src="img/image_1901_08_24.jpg"/></div><p>If you would not like to use the <strong>Override Default</strong> option, you can also set the default level in the <code class="literal">DefaultEngine.ini</code> file.
<a class="indexterm" id="id493"/>
</p></li><li class="listitem">Click underneath the<strong> Deploy</strong> button and select<strong> Step Enabled</strong> to skip deploying to your device, as a distribution build can't be put on your normal device. If you would like to have a full build on your device, change the<strong> Packaging Mode</strong> to<strong> Default</strong>. This is shown in the following screenshot:<a class="indexterm" id="id494"/><div><img alt="Time for action—requesting a Distribution Certificate" height="99" src="img/image_1901_08_25.jpg"/></div></li><li class="listitem">With all of the options set, click on the arrow beside the word start and select<strong> Clean and Full Recook</strong> and wait for the commands to all execute. This is shown in the following screenshot:<a class="indexterm" id="id495"/><div><img alt="Time for action—requesting a Distribution Certificate" src="img/image_1901_08_26.jpg" width="393"/></div></li><li class="listitem">If everything went well, you should have a<code class="literal"> .ipa</code> file named<code class="literal"> Distro_UDKGame</code> inside you<code class="literal"> \Binaries\IPhone\Shipping-iphoneos\UDKGame</code> which you will want to save to a jump drive or similar, because we will need it when we move to our Mac computer section of this.</li><li class="listitem">Back on Firefox/Safari, we next need to go to the<strong> iTunes Connect</strong> section of the<strong> iOS Dev Center</strong> which is located directly beneath the<strong> iOS Provisioning Portal</strong> that we used before. This is shown in the following screenshot:<a class="indexterm" id="id496"/><div><img alt="Time for action—requesting a Distribution Certificate" height="103" src="img/image_1901_08_27.jpg"/></div></li><li class="listitem">Log in with your credentials, if it asks you to and agree to the<strong> Terms of Service</strong>. On the main page click on the<strong> Manage your Applications</strong> selection which is the first button on the right-hand side of your screen. This is shown in the following screenshot:<a class="indexterm" id="id497"/><div><img alt="Time for action—requesting a Distribution Certificate" height="182" src="img/image_1901_08_28.jpg"/></div></li><li class="listitem">Click on the<strong> Add New App</strong> button on the top on the left-hand side. If this is your first application, you will be brought to the<strong> New Application</strong> page, where you need to come up with a company name, so be careful, because once you create it you are stuck with it, so be sure it is what you want.<a class="indexterm" id="id498"/><div><img alt="Time for action—requesting a Distribution Certificate" src="img/image_1901_08_29.jpg" width="389"/></div></li><li class="listitem">Next you will have a number of different things to fill out. Under<strong> Default Language</strong> set it as English. Under<strong> App Name</strong> type the name of the app you would like, such as<code class="literal"> Urban Warrior</code>. Under<strong> SKU Number</strong> type any number, but remember that every game that you create has to have a different number associated with it. Under<strong> Bundle ID</strong> select the<strong> Bundle ID</strong> that we created previously and in the<strong> Bundle ID Suffix</strong> type value that will match your<code class="literal"> info.plist</code> file, which you set previously in the<code class="literal"> IPhonePackager</code> in the<strong> Edit Info.plist overrides...</strong> section on the<strong> New User</strong> tab. Once completed hit<strong> Continue</strong>. This is shown in the following screenshot:<a class="indexterm" id="id499"/><div><img alt="Time for action—requesting a Distribution Certificate" height="255" src="img/image_1901_08_30.jpg"/></div></li><li class="listitem">Now select a date and price tier for your application to use, as well as a discount for educational purchasers if you would like there to be one. You may also select specific App Stores you would like to sell your app to. Remember if you do not set your price tier to free, you will have to pay UDK a licensing fee. Once you are finished click on<strong> Continue</strong>.</li><li class="listitem">In the next section, there are plenty of metadata options to fill out that are specific to the game that you are working so them with your best judgment.<a class="indexterm" id="id500"/></li><li class="listitem">You will be required to upload images and screenshots of your game for both the iPhone/iPod Touch and iPad as well as a large icon that is 512(x)512.<div><h3 class="title"><a id="note20"/>Note</h3><p>A tip is to take screenshots from your actual device, by holding the power and home keys at the same time for a brief period and releasing. You should see the screen flash and in the<strong> Photos</strong> app you should see a picture of what you were doing. You can e-mail this picture to yourself ahead of time, to upload at this section.</p></div></li><li class="listitem">When you are finished click on the<strong> Save</strong> button to save the app's information. This will take you to the<strong> App Summary</strong> page for the app. This is shown in the following screenshot:<div><img alt="Time for action—requesting a Distribution Certificate" src="img/image_1901_08_31.jpg" width="384"/></div></li><li class="listitem">Click on the<strong> View Details</strong> button to go to the<strong> App Details</strong> page and from there click on<strong> Ready to Upload Binary</strong>. The menu will ask if you used cryptography at all to use your product in which you'll answer No and then hit<strong> Save</strong>. The menu will now show that you are ready to upload your binary using<strong> Application Loader</strong>; click on<strong> Continue</strong> and you'll be brought back to the main screen. Click on the<strong> App Summary</strong> text on the top left-hand side and then at the app summary page click on<strong> Done</strong> on the bottom right-hand side.<a class="indexterm" id="id501"/></li><li class="listitem">Go to your Mac computer and there is where we will complete the rest of the tutorial.<a class="indexterm" id="id502"/></li><li class="listitem">Install Xcode if you haven't already by using the App Store. You will see the next screenshot:<div><img alt="Time for action—requesting a Distribution Certificate" height="103" src="img/image_1901_08_32.jpg"/></div></li><li class="listitem"><strong> Download and install the Application Loader</strong> program by going to the<strong> iTunes Connect</strong> section of the site and clicking on<strong> Download Application Loader</strong> on the bottom tool bar. This is shown in the following screenshot:<div><img alt="Time for action—requesting a Distribution Certificate" src="img/image_1901_08_33.jpg" width="376"/></div></li><li class="listitem">After<strong> Application Loader</strong> is installed, open up<strong> Spotlight</strong> by pressing<strong> Command</strong> +<em> Space</em> and type the name of the program until it shows up and then click on it. This is shown in the following screenshot:<a class="indexterm" id="id503"/><div><img alt="Time for action—requesting a Distribution Certificate" src="img/image_1901_08_34.jpg" width="138"/></div></li><li class="listitem">With the<strong> Application Loader</strong> opened enter your credentials and press<strong> Next</strong>. This is shown in the next screenshot:<a class="indexterm" id="id504"/><div><img alt="Time for action—requesting a Distribution Certificate" height="216" src="img/image_1901_08_35.jpg"/></div></li><li class="listitem">Click on the<strong> Deliver Your App</strong> button. From the menu that shows up, select your app and select the<strong> Next</strong> button. In the<strong> Application Information</strong> section click on the<strong> Choose...</strong> button and select your<code class="literal"> .ipa</code> file and wait for it to complete.<a class="indexterm" id="id505"/><div><img alt="Time for action—requesting a Distribution Certificate" height="180" src="img/image_1901_08_36.jpg"/></div></li><li class="listitem">When the upload completes click on<strong> Next</strong> and then<strong> Done</strong>. Feel free to log back in to<strong> iTunes Connect</strong> and go to the<strong> Manage Your Applications</strong> page to confirm that the app has been uploaded.<a class="indexterm" id="id506"/></li></ol></div><div><div><div><div><h2 class="title"><a id="ch08lvl2sec08"/>What just happened?</h2></div></div></div><p>We have now submitted our app to Apple for review! You will get progress e-mails as the application passes through various phases of automated checking, finally reaching<strong> Waiting for Review</strong>, which means it is now in the process of getting reviewed by Apple. If anything happens you will get an e-mail, but the status will also be updated on the<strong> iTunes Connect</strong> website. Each time something is incorrect, you will have to hit<strong> Ready to Upload</strong> on the<strong> iTunes Connect</strong> website before the<strong> Application Loader</strong> can be used again.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch08lvl1sec04"/>Summary</h1></div></div></div><p>With a firm handle on how to push our games to the App Store we've now covered everything that I set out to show you how to do within the confines of this book. We've specifically learned:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">About the process of getting your game onto an iOS device</li><li class="listitem" style="list-style-type: disc">The process of deploying the game on your own iOS device</li><li class="listitem" style="list-style-type: disc">How to customize our game's icons when viewed from our device as well as the App Store</li><li class="listitem" style="list-style-type: disc">The playtesting process and learn how to do playtesting sessions of your own</li><li class="listitem" style="list-style-type: disc">The current royalties model Epic Games has in place for UDK-developed iOS titles</li><li class="listitem" style="list-style-type: disc">How to link Game Center into our games for a fuller social experience</li><li class="listitem" style="list-style-type: disc">About the use of in-game ads for monetization</li><li class="listitem" style="list-style-type: disc">The process of uploading your game on the iTunes store</li></ul></div><p>It's hard to believe that in such a short time you've manage to complete so many different things! With the knowledge that you gained from this book you have all of the tools and knowledge to create some truly great projects. UDK is quite an amazing engine, and I know first-hand how much you can get out of it. So future app-creator, I wish you good luck and I'll see you in the App Store!</p></div></body></html>