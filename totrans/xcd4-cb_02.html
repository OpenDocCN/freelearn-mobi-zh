<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch02"/>Chapter 2. User Interfaces – Creating the UI</h1></div></div></div><p>In this chapter, we will cover:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Adding and customizing views</li><li class="listitem" style="list-style-type: disc">Using labels to display text</li><li class="listitem" style="list-style-type: disc">Obtaining user input through the use of buttons</li><li class="listitem" style="list-style-type: disc">Displaying an image within the view</li><li class="listitem" style="list-style-type: disc">Displaying and editing text</li><li class="listitem" style="list-style-type: disc">Using the iOS device keyboard</li><li class="listitem" style="list-style-type: disc">Displaying the progress to the user</li><li class="listitem" style="list-style-type: disc">Adding a toolbar object to a view</li><li class="listitem" style="list-style-type: disc">Fading a view in and out</li><li class="listitem" style="list-style-type: disc">Creating a custom table view controller</li><li class="listitem" style="list-style-type: disc">Adding a table view to a view controller</li><li class="listitem" style="list-style-type: disc">Handling different iOS devices</li></ul></div><div><div><div><div><h1 class="title"><a id="ch02lvl1sec20"/>Introduction</h1></div></div></div><p>An application's user interface which is comprised of views and other elements, is the first thing the user sees when he/she loads up your application and provides him/her with an easy way of communicating with your application.</p><p>The user interface consists of a canvas, and acts as a placeholder for your controls that the user can communicate with. In most real-world applications, views alone are simply not enough. Apple provides you with another class called <code class="literal">UIViewController</code>, which is responsible for managing views.</p><p>View controllers can respond to device notifications, such as determining when the device rotates, or can provide you with different ways of displaying and dismissing multiple views or even other view controllers.</p><p>We will also see how to use some of the most common view controllers to create our own custom classes. In this chapter, we will look at how we can add and customize views, as well as apply transitions to these to have them fade in and out. We will also take a look at some of the device specific aspects of the device, to determine its current orientation.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec21"/>Adding and customizing views</h1></div></div></div><p>In this recipe, we will look at how we <a id="id107" class="indexterm"/>
<a id="id108" class="indexterm"/>can add a new <code class="literal">UIView</code> object to our existing view using Interface Builder and take a look at how we can customize this.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec54"/>Getting ready</h2></div></div></div><p>We will start by creating a new project using Xcode, and then use Interface Builder to help us add a new <code class="literal">UIView</code> object, so let's get started.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec55"/>How to do it...</h2></div></div></div><p>To begin with creating a new Xcode project, perform the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch Xcode from the <code class="literal">/Developer/Applications</code> folder.</li><li class="listitem">Select <strong>Create a new Xcode project</strong>, or click on <strong>File</strong> | <strong>New Project</strong>.</li><li class="listitem">Select <strong>Single View Application</strong> from the list of available templates.</li><li class="listitem">Click on the <strong>Next</strong> button to proceed to the next step in the wizard.</li><li class="listitem">Next, enter <code class="literal">ViewObjectsExample</code> as the name for your project.</li><li class="listitem">Select <strong>iPhone</strong> from under the <strong>Devices</strong> drop-down menu.</li><li class="listitem">Ensure that the <strong>Use Storyboards</strong> checkbox has not been checked.</li><li class="listitem">Ensure that the <strong>Use Automatic Reference Counting</strong> checkbox has been checked.</li><li class="listitem">Ensure that the <strong>Include Unit Tests</strong> checkbox has not been checked.</li><li class="listitem">Click on the <strong>Next</strong> button to proceed to the next step in the wizard.</li><li class="listitem">Specify the location where you would like to save your project.</li><li class="listitem">Then, click on the <strong>Create</strong> button to save your project at the specified location.</li></ol></div><p>Once your project has been created, you will be presented with the Xcode development environment along with the project files that the template created for you.</p><p>Next, we need to start building our user interface, which can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Select the <code class="literal">ViewController.xib</code> file from the project navigator window.</li><li class="listitem">From <strong>Object Library</strong>, drag a <strong>View</strong> object onto the main view.</li><li class="listitem">Next, create the necessary outlet and property for this view, and name it <code class="literal">subView</code>.</li><li class="listitem">Next, select the new view that we just added and from the <strong>Size Inspector</strong> tab, set the <strong>Y</strong> property to <strong>44</strong> points, the <strong>Width</strong> property to <strong>320</strong> Points, and the <strong>Height</strong> property to <strong>480</strong> points.</li><li class="listitem">Next, save your project by selecting <strong>File</strong> | <strong>Save</strong>, or alternatively by pressing <em>command</em> + <em>S</em>.</li><li class="listitem">Then, build and run the <a id="id109" class="indexterm"/><a id="id110" class="indexterm"/>application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div><p>When the compilation completes, the iOS Simulator will appear with your application that we just created and displayed showing a view with a white background.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec56"/>How it works…</h2></div></div></div><p>We just created an application that consists of a subview, which does not provide any functionality. In iOS applications, views are one of the important components that make up an application's user interface that inherits from the <code class="literal">UIView</code> class hierarchy.</p><p>It is worth mentioning what happens when a view is added using Interface Builder as opposed to having this dynamically created through code, which we will shortly take a look at. Views added using Interface Builder are instantiated at runtime and set the <code class="literal">Frame</code> property using the values that have been set manually in the <strong>Size Inspector</strong> window. The <code class="literal">Frame</code> property is of type <code class="literal">CGRect</code> and this defines the location of the view in the main window, as well as its size in points.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec57"/>There's more…</h2></div></div></div><p>The <code class="literal">UIView</code> class <a id="id111" class="indexterm"/>inherits from the <code class="literal">UIResponder</code> class that is responsible for responding to and handling events. When a view is added to an existing view, it becomes part of its responder chain. The <code class="literal">UIView</code> class exposes the properties and the associated methods of the <code class="literal">UIResponder</code> class.</p><div><div><h3 class="title"><a id="note07"/>Note</h3><p>If you would like to find more information on the <code class="literal">UIResponder</code> class, you can refer to the Apple <a id="id112" class="indexterm"/>Developer documentation located at <a class="ulink" href="http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIResponder_Class/Reference/Reference.html">http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIResponder_Class/Reference/Reference.html</a><code class="literal">#//apple_ref/occ/cl/UIResponder</code>.</p></div></div><p>Views can also be added programmatically through <a id="id113" class="indexterm"/>code using the <code class="literal">addSubView</code> method of the <code class="literal">UIView</code> class. The following line of code shows you how this can be achieved:</p><div><pre class="programlisting">[self.view addSubview:self.subView];</pre></div><p>As you can see from the preceding line of code snippet, the <code class="literal">addSubview</code> method sets the added view's <code class="literal">Superview</code> object to point to the caller. A view will not be displayed until it has been added to the main parent view using the <code class="literal">addSubview</code> method. Adding the same view to another view will result in the <a id="id114" class="indexterm"/>
<code class="literal">Superview</code> object to change and point to the new view's parent window. This is because a <a id="id115" class="indexterm"/>
<a id="id116" class="indexterm"/>view can only exist in one <code class="literal">Superview</code> object at any given time.</p><div><div><h3 class="title"><a id="note08"/>Note</h3><p>It is worth noting that when adding views manually using Interface Builder, you don't need to use the <code class="literal">addSubview:</code> method to display the subview, depending on whether you have already added it as a subview of the parent view you want it in or not.</p></div></div><p>When adding views programmatically through code, they can also be removed through code as well. This can be achieved by calling the <code class="literal">removeFromSuperview</code> method on the view. The following line of code shows you how this can be achieved:</p><div><pre class="programlisting">[self.subView removeFromSuperview];</pre></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec58"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Using labels to display text</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Building the user interface for our application</em> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting and Installing the iOS SDK Development Tools">Chapter 1</a>, <em>Getting and Installing the iOS SDK Development Tools</em></li><li class="listitem" style="list-style-type: disc">The <em>Creating outlets to Interface Builder objects</em> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting and Installing the iOS SDK Development Tools">Chapter 1</a>, <em>Getting and Installing the iOS SDK Development Tools</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec22"/>Using labels to display text</h1></div></div></div><p>In this recipe, we will <a id="id117" class="indexterm"/>
<a id="id118" class="indexterm"/>take a look at how we use labels to display informative text to the user.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec59"/>Getting ready</h2></div></div></div><p>The <code class="literal">UILabel</code> objects are one of the ways in which we can let users know what is happening. These can be if we are requesting the user to enter his/her username or password, or to inform him/her if something went wrong.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec60"/>How to do it...</h2></div></div></div><p>In order to see how this can be achieved, we need to modify the <strong>ViewObjectsExample</strong> application that we created in the previous recipe. Perform the following steps to do so:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewObjectsExample.xcodeproj</code> project file.</li><li class="listitem">Select the <code class="literal">ViewController.xib</code> file from the project navigator window.</li><li class="listitem">From <strong>Object Library</strong>, drag a <strong>Label</strong> object onto the subview.</li><li class="listitem">Resize the <code class="literal">Label</code> control so that its contents fill the width of the view.</li><li class="listitem">Next, create the outlet and properties for this <code class="literal">Label</code> control, and name it <code class="literal">lblInfo</code>.</li><li class="listitem">Our next step is to create the code functionality that will be responsible for setting the label properties with some default values.</li><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Next, create the <code class="literal">updateLabel</code> <a id="id119" class="indexterm"/><a id="id120" class="indexterm"/>method, as shown in the following code snippet:<div><pre class="programlisting">-(void)updateLabel
{
 lblInfo.text = @"Press button to change the background color";
 lblInfo.textColor = [UIColor blueColor];
 lblInfo.textAlignment = NSTextAlignmentLeft;
 lblInfo.adjustsFontSizeToFitWidth = TRUE;
 lblInfo.font = [UIFont fontWithName:@"Arial-Bold" size:17];
}</pre></div></li><li class="listitem">Then, add the following code snippet within <code class="literal">theviewDidLoad</code> method, as shown next:<div><pre class="programlisting">- (void)viewDidLoad
{
   [super viewDidLoad];
   
    // Do any additional setup after loading the view, 
    // typically from a nib.
    [self updateLabel];
}</pre></div></li><li class="listitem">Then, build and run the application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec61"/>How it works…</h2></div></div></div><p>We have successfully added a <code class="literal">UILabel</code> object<a id="id121" class="indexterm"/> to our view, and added some code to update the contents. We first created the method that will be responsible for customizing the label properties and then we assign some text that needs to be displayed to the <code class="literal">Label</code> control's text property.</p><p>In our next step, we set the <code class="literal">textColor</code> property<a id="id122" class="indexterm"/> of the <code class="literal">Label</code> control to blue by using the <code class="literal">UIColor</code> class values and then we set the <code class="literal">textAlignment</code> property so that our label contents will be displayed as left aligned. </p><p>Finally, we set the <code class="literal">adjustFontSizeToFitWidth</code> property of the label to <code class="literal">TRUE</code> to instruct the label to automatically change the font size so that it can fit inside the width of the label. Next, we add a call to this method into our <a id="id123" class="indexterm"/>
<code class="literal">viewDidLoad</code> method to update the label contents at runtime.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec62"/>There's more…</h2></div></div></div><p>With labels you can set the font that you <a id="id124" class="indexterm"/>
<a id="id125" class="indexterm"/>want your text to be displayed in; this is achieved by setting the <code class="literal">font</code> property using the <code class="literal">UIFontfontWithName</code> <a id="id126" class="indexterm"/>method. The <code class="literal">string</code> parameter represents the name of the font to set and the style, while the <code class="literal">size</code> property parameter determines the font size. If you take a look at the following line of code, you can see how to set the font of the label to <code class="literal">Arial-Bold</code> and size of <code class="literal">17</code> points, as follows:</p><div><pre class="programlisting"> [UIFont fontWithName:@"Arial-Bold" size:17];</pre></div><p>If the entered font name is not found, the <a id="id127" class="indexterm"/>
<code class="literal">fontWithName</code> method returns nil and this will cause an exception if the <code class="literal">font</code> property of the label is set to nil.</p><div><div><h3 class="title"><a id="note09"/>Note</h3><p>If you would like to find out more information on the <a id="id128" class="indexterm"/>
<code class="literal">UIFont</code> class, you can refer to the Apple Developer documentation located at <a class="ulink" href="http://developer.apple.com/library/IOs/#documentation/UIKit/Reference/UIFont_Class/Reference/Reference.html">http://developer.apple.com/library/IOs/#documentation/UIKit/Reference/UIFont_Class/Reference/Reference.html</a>.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec63"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Displaying and editing text</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Obtaining user input through the use of buttons</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Building the user interface for our application</em> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting and Installing the iOS SDK Development Tools">Chapter 1</a>, <em>Getting and Installing the iOS SDK Development Tools</em></li><li class="listitem" style="list-style-type: disc">The <em>Creating outlets to Interface Builder objects</em> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting and Installing the iOS SDK Development Tools">Chapter 1</a>, <em>Getting and Installing the iOS SDK Development Tools</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec23"/>Obtaining user input through the use of buttons</h1></div></div></div><p>In this recipe, we will take a look at <a id="id129" class="indexterm"/>
<a id="id130" class="indexterm"/>how we use buttons to change the contents of a <code class="literal">UILabel</code> control that we defined in the previous recipe.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec64"/>Getting ready</h2></div></div></div><p>In this recipe, we will start by creating a <a id="id131" class="indexterm"/>
<code class="literal">UIButton</code> object that will be used to modify the background color of a label when it is tapped.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec65"/>How to do it...</h2></div></div></div><p>In order to see how this can be achieved, we need to modify the <strong>ViewObjectsExample</strong> application that we created in the previous recipe. Perform the following steps to do so:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewObjectsExample.xcodeproj</code> project file.</li><li class="listitem">Select the <code class="literal">ViewController.xib</code> file from the project navigator window.</li><li class="listitem">From <strong>Object Library</strong>, drag a <strong>Round Rect Button</strong> object onto the subview and place it underneath the label we added previously.</li><li class="listitem">From the <strong>Attributes Inspector</strong> section, modify the <strong>Title</strong> property to read <strong>Tap Here</strong>.</li><li class="listitem">Next, create the outlet and properties for this <strong>Round Rect Button</strong> object, and name it <code class="literal">btnTapHere</code>.</li><li class="listitem">Next, create the action method for the <strong>Tap Here</strong> button and name it <code class="literal">btnTapHere</code>.</li><li class="listitem">After adding the button, save the document by selecting <strong>File</strong> | <strong>Save</strong> from the menu bar, or alternatively by pressing <em>command</em> + <em>S</em>. The main view should now look like the following screenshot:<div><img src="img/3349_02_01.jpg" alt="How to do it..."/></div></li></ol></div><p>Our next step is to create the code functionality that will be responsible for changing the background color of our label:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Next, create the <code class="literal">btnTapHere</code> method, as shown in the following code snippet:<div><pre class="programlisting">- (IBAction)btnTapHere:(UIButton *)sender {
[self.lblInfo setBackgroundColor:[UIColor yellowColor]];
}</pre></div></li><li class="listitem">Then, build and run the application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec66"/>How it works…</h2></div></div></div><p>We started by adding a button to <a id="id132" class="indexterm"/>
<a id="id133" class="indexterm"/>our user interface that changed the background contents of a label when the button was pressed. We then call the <code class="literal">setBackgroundColor</code> method to apply the background color to our label.</p><div><div><h3 class="title"><a id="note10"/>Note</h3><p>If you would like to find out more information on the <a id="id134" class="indexterm"/>
<code class="literal">UIButton</code> class, you can refer to the Apple Developer documentation located at <a class="ulink" href="http://developer.apple.com/library/ios/#documentation/uikit/reference/UIButton_Class/UIButton/UIButton.html">http://developer.apple.com/library/ios/#documentation/uikit/reference/UIButton_Class/UIButton/UIButton.html</a>.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec67"/>There's more…</h2></div></div></div><p>The functionality provided by the  <code class="literal">setBackgroundColor</code> method can also be accomplished by setting the <a id="id135" class="indexterm"/>
<a id="id136" class="indexterm"/>
<strong>Background</strong> field in the <strong>Attributes Inspector</strong> tab within Interface Builder.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec68"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Adding and customizing views</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Using labels to display text</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Displaying an image within the view</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Building the user interface for our application</em> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting and Installing the iOS SDK Development Tools">Chapter 1</a>, <em>Getting and Installing the iOS SDK Development Tools</em></li><li class="listitem" style="list-style-type: disc">The <em>Creating outlets to Interface Builder objects</em> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting and Installing the iOS SDK Development Tools">Chapter 1</a>, <em>Getting and Installing the iOS SDK Development Tools</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec24"/>Displaying an image within the view</h1></div></div></div><p>In this recipe, we will <a id="id137" class="indexterm"/>
<a id="id138" class="indexterm"/>take a look at how we can use the <code class="literal">UIImageView</code> class to display images within a view.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec69"/>Getting ready</h2></div></div></div><p>In this recipe, we will start by creating a <code class="literal">UIImageView</code> object that will be used as a container to display our image. For this example, we will be using an image file named <code class="literal">Blue-Aqua-Apple.png</code>.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec70"/>How to do it...</h2></div></div></div><p>In order to see how this can be achieved, we need to modify the <strong>ViewObjectsExample</strong> application that we created in the previous recipe. Perform the following steps to do so:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewObjectsExample.xcodeproj</code> project file.</li><li class="listitem">Select the <code class="literal">ViewController.xib</code> file from the project navigator window.</li><li class="listitem">From <strong>Object Library</strong>, drag a <strong>UIImageView</strong> object onto the subview and place it underneath the <code class="literal">Round Rect Button</code> object we added previously.</li><li class="listitem">Resize the <code class="literal">UIImageView</code> control so that it will be big enough to hold the image.</li><li class="listitem">Next, create the outlet and property for this <code class="literal">UIImageView</code>, and name it <code class="literal">imgPicture</code>.</li><li class="listitem">Then, select <strong>Files</strong> | <strong>Add Files to "ViewObjectsExample"…</strong>, or alternatively press <em>option</em> + <em>command</em> + <em>A</em>.</li><li class="listitem">Select the <strong>Blue-Aqua-Apple.pngimage</strong> file to add and then click on the <strong>Add</strong> button.</li></ol></div><p>Our next step is to create the code functionality that will be responsible for displaying the image within our <code class="literal">imageView</code> control:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Next, create the <a id="id139" class="indexterm"/><code class="literal">displayImage</code> method, as shown in the following code snippet:<div><pre class="programlisting">-(void)displayImage
{
 [self.imgPicture setImage:[UIImage imageNamed:@"Blue-Aqua-Apple.png"]];
 [self.imgPicture setContentMode:UIViewContentModeScaleAspectFit];
}</pre></div></li><li class="listitem">Then, add the following line of code within <a id="id140" class="indexterm"/>the <code class="literal">viewDidLoad</code> method:<div><pre class="programlisting">[self displayImage];</pre></div></li><li class="listitem">Then, build and run the application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div><p>When the compilation <a id="id141" class="indexterm"/>
<a id="id142" class="indexterm"/>completes, the iOS Simulator will appear, displaying the image that we just added to our project.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec71"/>How it works…</h2></div></div></div><p>The <code class="literal">UIImageView</code> class is basically a view that has been customized for the purpose of displaying images. We then set the <a id="id143" class="indexterm"/>
<code class="literal">contentMode</code> property of the <code class="literal">imageView</code> class to <code class="literal">UIViewContentModeScaleAspectFit</code>, which scales and fills the image to fit the entire contents of <code class="literal">UIImageView</code>. </p><div><div><h3 class="title"><a id="note11"/>Note</h3><p>If you would like to find out more information on the <a id="id144" class="indexterm"/>
<code class="literal">UIImageView</code> class, you can refer to the Apple Developer documentation located at <a class="ulink" href="http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIImageView_Class/Reference/Reference.html">http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIImageView_Class/Reference/Reference.html</a>.</p></div></div><p>The <code class="literal">contentMode</code> property <a id="id145" class="indexterm"/>accepts an enumeration type named <code class="literal">UIViewContentMode</code>. The following table explains some of these types:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Content mode</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ScaleToFill</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This is the default value. It <a id="id146" class="indexterm"/>scales the content to fit the size of the view, changing the aspect ratio as necessary.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ScaleAspectFit</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This scales the content to fit the size <a id="id147" class="indexterm"/>of the view, while maintaining its aspect ratio. The remaining area of the view becomes transparent.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">ScaleAspectFill</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This scales the content to fill the size of <a id="id148" class="indexterm"/>the view, while maintaining its aspect ratio.</p>
</td></tr></tbody></table></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec72"/>There's more…</h2></div></div></div><p>The <code class="literal">UIImage</code> class is the object that represents image-related information. The following table displays some of these file <a id="id149" class="indexterm"/>
<a id="id150" class="indexterm"/>formats that it currently supports:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>File format</p>
</th><th style="text-align: left" valign="bottom">
<p>File extension</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>Portable Network Graphics</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">.png</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Joint Photographic Experts Group</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">.jpg</code>, <code class="literal">.jpeg</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Tagged Image File Format</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">.tiff</code>, <code class="literal">.tif</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Graphics Interchange Format</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">.gif</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Windows Bitmap Format</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">.bmp</code>
</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>Windows Icon Format</p>
</td><td style="text-align: left" valign="top">
<p>
<code class="literal">.ico</code>
</p>
</td></tr></tbody></table></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec73"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Adding and customizing views</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Selecting images and video from the camera roll</em> recipe in <a class="link" href="ch07.html" title="Chapter 7. Working with Different Multimedia Resources">Chapter 7</a>, <em>Multimedia Resources</em></li><li class="listitem" style="list-style-type: disc">The <em>Capturing media with the camera</em> recipe in <a class="link" href="ch07.html" title="Chapter 7. Working with Different Multimedia Resources">Chapter 7</a>, <em>Multimedia Resources</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec25"/>Displaying and editing text</h1></div></div></div><p>In this recipe, we will learn how to use text <a id="id151" class="indexterm"/>block methods to determine when editing has begun and ended.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec74"/>Getting ready</h2></div></div></div><p>In this recipe, we will discuss the usage of the <code class="literal">UITextField</code> object and how we can display editable text within it.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec75"/>How to do it...</h2></div></div></div><p>In order to see how this can be achieved, we need to modify the <strong>ViewObjectsExample</strong> application that we created in the previous <a id="id152" class="indexterm"/>recipe. Perform the following steps to do so:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewObjectsExample.xcodeproj</code> project file.</li><li class="listitem">Select the <code class="literal">ViewController.xib</code> file from the project navigator window.</li><li class="listitem">From <strong>Object Library</strong>, drag a <strong>TextField</strong> object onto the subview and place it underneath <code class="literal">UIButton</code> we added previously.</li><li class="listitem">Resize the <code class="literal">TextField</code> control width so that it is big enough to hold enough text.</li><li class="listitem">Next, create the outlet and property for this <code class="literal">TextField</code>, and name it <code class="literal">txtTextInput</code>.</li></ol></div><p>Our next step is to create the code functionality that will be responsible for displaying some text within our <code class="literal">TextField</code> control:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Next, create the <code class="literal">populateTextBox</code> <a id="id153" class="indexterm"/>method, as shown in the following code snippet:<div><pre class="programlisting">-(void)populateTextBox {
  self.txtTextInput.text = @"This is some sample text";
  self.txtTextInput.returnKeyType = UIReturnKeyDone;
  self.txtTextInput.delegate = self;
}</pre></div></li><li class="listitem">Then, add the following line of code within the <code class="literal">viewDidLoad</code> method:<div><pre class="programlisting">[self populateTextBox];</pre></div></li></ol></div><p>Our next step is to modify our <code class="literal">ViewController.h</code> interface file so that we can access the methods for our textbox. This can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewController.h</code> interface file from the project navigator.</li><li class="listitem">Next, enter the following code snippet:<div><pre class="programlisting">//  ViewController.h
//  ViewObjectsExample
//  Created by Steven F Daniel on 15/09/12.
//  Copyright (c) 2012 GenieSoft Studios. All rights reserved.

#import&lt;UIKit/UIKit.h&gt;

<strong>@interface ViewController : UIViewController &lt;UITextFieldDelegate&gt;</strong>
{
 IBOutlet UITextField *txtTextInput;
}
@property (weak, nonatomic) IBOutlet UITextField *txtTextInput;</pre></div></li></ol></div><p>Next, we need to modify our <code class="literal">ViewController.m</code> implementation file to include the method events for our textbox. This can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Next, type in the following code snippet:<div><pre class="programlisting">-(BOOL)textFieldShouldReturn:(UITextField *)textField {
        
    // Dismisses the keyboard when the "Done" button is clicked
    [textField resignFirstResponder];
    return YES;
}</pre></div><div><pre class="programlisting">-(void) textFieldDidBeginEditing:(UITextField *)textField
{
   lblInfo.text = @"TextField contents are being updated";
   [self.lblInfo setBackgroundColor:[UIColor redColor]];
}

-(void)textFieldDidEndEditing:(UITextField *)textField
{
 lblInfo.text = @"TextField contents have now been updated.";
 [self.lblInfo setBackgroundColor:[UIColor greenColor]];
}</pre></div></li><li class="listitem">Then, build and run the <a id="id154" class="indexterm"/>application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div><p>When the compilation completes, the iOS Simulator will appear and display the textbox with our populated sample text, as shown in the following screenshot:</p><div><img src="img/3349_02_02.jpg" alt="How to do it..."/></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec76"/>How it works…</h2></div></div></div><p>In the following code snippet, we <a id="id155" class="indexterm"/>update the text property of the <code class="literal">textField</code> control and then set the <code class="literal">returnKeyType</code> property to dismiss the keyboard when the <strong>Done</strong> button is clicked and then set the delegate for the control to be our view controller:</p><div><pre class="programlisting">-(void)populateTextBox {
  self.txtTextInput.text = @"This is some sample text";
  self.txtTextInput.returnKeyType = UIReturnKeyDone;
  self.txtTextInput.delegate = self;
}</pre></div><p>Next, the <code class="literal">UITextField</code> class <a id="id156" class="indexterm"/>provides an object that displays editable text. In order for us to respond to the events of our textbox, we need to define a protocol class of <code class="literal">UITextBoxDelegate</code> that will act as the textbox's delegate, so that we can determine when text is being modified.</p><div><pre class="programlisting">
<strong>@interface ViewController : UIViewController &lt;UITextFieldDelegate&gt;</strong>
{
 IBOutlet UITextField *txtTextInput;
}
@property (weak, nonatomic) IBOutlet UITextField *txtTextInput;</pre></div><p>In the following code snippet, we declare the <code class="literal">textFieldShouldReturn:</code> method of our <code class="literal">TextField</code> control. This method handles the dismissing of the keyboard when the <strong>Done</strong> button is pressed which is achieved by calling the <code class="literal">resignFirstReponder</code> method on the <code class="literal">TextField</code> control, causing the control to lose focus.</p><div><pre class="programlisting">-(BOOL)textFieldShouldReturn:(UITextField *)textField {
        
    // Dismisses the keyboard when the "Done" button is clicked
    [textField resignFirstResponder];
    return YES;
}</pre></div><p>Next, we declare the <code class="literal">textFieldDidBeginEditing:</code> and <code class="literal">textFieldDidEndEditing:</code> methods of our <code class="literal">TextField</code> control. <a id="id157" class="indexterm"/>These methods are responsible for determining when text is being updated within the text field and when the editing has been completed, which is achieved when the keyboard is dismissed.</p><div><pre class="programlisting">-(void) textFieldDidBeginEditing:(UITextField *)textField
{
   lblInfo.text = @"TextField contents are being updated";
   [self.lblInfo setBackgroundColor:[UIColor redColor]];
}

-(void)textFieldDidEndEditing:(UITextField *)textField
{
 lblInfo.text = @"TextField contents have now been updated.";
 [self.lblInfo setBackgroundColor:[UIColor greenColor]];
}</pre></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec77"/>There's more…</h2></div></div></div><p>A delegate in Objective-C is a certain type of object that conform to a specific protocol. This means that it is an object that wraps one or more methods (and/or other members) that act as event handlers.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec78"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Using the iOS device keyboard</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec26"/>Using the iOS device keyboard</h1></div></div></div><p>In this recipe, we will learn how to <a id="id158" class="indexterm"/>set some of the different virtual keyboard styles.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec79"/>Getting ready</h2></div></div></div><p>In this recipe, we will discuss the usage of the <code class="literal">UITextBox</code> object and how we can display editable text within it.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec80"/>How to do it...</h2></div></div></div><p>In order to see how this can be achieved, we need to modify the <strong>ViewObjectsExample</strong> application that we created in the previous recipe. Perform the following steps to do so:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewObjectsExample.xcodeproj</code> project file.</li><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Next, modify the <code class="literal">populateTextBox</code> method, as shown in the highlighted lines of the following code snippet:<div><pre class="programlisting">-(void)populateTextBox {
  self.txtTextInput.text = @"This is some sample text";
<strong>  self.txtTextInput.keyboardType = </strong>
<strong>  UIKeyboardTypeNumbersAndPunctuation;</strong>
  self.txtTextInput.returnKeyType = UIReturnKeyDone;
  self.txtTextInput.delegate = self;
}</pre></div></li><li class="listitem">Then, build and run the application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div><p>When the compilation completes, the iOS Simulator will appear and display the textbox with our populated sample text. Tap into the <code class="literal">TextField</code> control to display our specified keyboard type.</p><div><img src="img/3349_02_03.jpg" alt="How to do it..."/></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec81"/>How it works…</h2></div></div></div><p>In the following code snippet, we update the <code class="literal">keyboardType</code> property of the <code class="literal">TextField</code> control and then specify <code class="literal">UIKeyboardTypeNumbersAndPunctuation</code> as the keyboard type to use.</p><div><pre class="programlisting">-(void)populateTextBox {
  self.txtTextInput.text = @"This is some sample text";
  self.txtTextInput.keyboardType = 
  UIKeyboardTypeNumbersAndPunctuation;
  self.txtTextInput.returnKeyType = UIReturnKeyDone;
  self.txtTextInput.delegate = self;
}</pre></div><p>The <code class="literal">keyboardType</code> property accepts an <a id="id159" class="indexterm"/>enumeration type named <code class="literal">UIKeyboardType</code>. The following table explains some of these types:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Keyboard type</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypeDefault</code>
</p>
</td><td style="text-align: left" valign="top">
<p>The default <a id="id160" class="indexterm"/>keyboard for the current input method</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypeASCIICapable</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Displays standard <a id="id161" class="indexterm"/>ASCII characters</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypeNumbersAndPunctuation</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Displays numbers and <a id="id162" class="indexterm"/>punctuation keyboard</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypeURL</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Displays a keyboard <a id="id163" class="indexterm"/>optimized for URL entry</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypeNumberPad</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Displays a numeric <a id="id164" class="indexterm"/>keypad designed for PIN entry</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypePhonePad</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Displays a keypad <a id="id165" class="indexterm"/>designed for entering telephone numbers</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypeNamePhonePad</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Displays a keypad <a id="id166" class="indexterm"/>designed for entering a person's name or phone number</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypeEmailAddress</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Displays a keyboard <a id="id167" class="indexterm"/>optimized for specifying e-mail addresses</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypeDecimalPad</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Displays a keyboard <a id="id168" class="indexterm"/>with numbers and a decimal point</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypeTwitter</code>
</p>
</td><td style="text-align: left" valign="top">
<p>Displays a keyboard <a id="id169" class="indexterm"/>optimized for twitter text entry, with easy access to the <code class="literal">@</code> and <code class="literal">#</code> characters</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<code class="literal">UIKeyboardTypeAlphabet</code>
</p>
</td><td style="text-align: left" valign="top">
<p>This has been <a id="id170" class="indexterm"/>depreciated, but uses the keyboard that displays standard ASCII characters</p>
</td></tr></tbody></table></div><div><div><h3 class="title"><a id="note12"/>Note</h3><p>If you would like to find out more information on the <code class="literal">UIKeyboardType</code> class, you can refer to the Apple Developer documentation, <a id="id171" class="indexterm"/>located at <a class="ulink" href="http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UITextInputTraits_Protocol/Reference/UITextInputTraits.html">http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UITextInputTraits_Protocol/Reference/UITextInputTraits.html</a>.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec82"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Adding and customizing views</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Obtaining user input through the use of buttons</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Displaying and editing text</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec27"/>Displaying the progress to the user</h1></div></div></div><p>In this recipe, we will learn how we <a id="id172" class="indexterm"/>
<a id="id173" class="indexterm"/>can display the progress of any given length.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec83"/>Getting ready</h2></div></div></div><p>In this recipe, we will discuss the usage of the <code class="literal">UIProgressBar</code> object and how we can use the associated properties to display an animated progress bar.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec84"/>How to do it...</h2></div></div></div><p>In order to see how this can be achieved, we need to modify the <strong>ViewObjectsExample</strong> application that we created in the previous recipe. Perform the following steps to do so:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewObjectsExample.xcodeproj</code> project file.</li><li class="listitem">Select the <code class="literal">ViewController.xib</code> file from the project navigator window.</li><li class="listitem">From <strong>Object Library</strong>, drag a <strong>ProgressView</strong> object onto the subview and place it underneath the <code class="literal">UIImageView</code> we added previously.</li><li class="listitem">Resize the <code class="literal">ProgressViewcontrol</code> so that its width is as wide as the view.</li><li class="listitem">Next, create the outlet and property for this <code class="literal">ProgressView</code>, and name it <code class="literal">pgbProgress</code>.</li></ol></div><p>Our next step is to create the code functionality that will be responsible for displaying the progress and animating the bar:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Type in the variable declaration highlighted in the following code snippet:<div><pre class="programlisting">#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

@synthesize subView;
@synthesize lblInfo;
@synthesize pgbProgress;
@synthesize imgPicture;
@synthesize txtTextInput;

<strong>float incrementBy = 0.0;</strong>
</pre></div></li><li class="listitem">Next, modify the <code class="literal">btnPressMe</code> <a id="id174" class="indexterm"/>method, as shown in the highlighted line of the following code snippet:<div><pre class="programlisting">- (IBAction)btnTapHere:(UIButton *)sender {

<strong> [self fillProgressBar];</strong>
 [self.lblInfo setBackgroundColor:[UIColor yellowColor]];
}</pre></div></li><li class="listitem">Next, type in the following code snippet:<div><pre class="programlisting">- (void)fillProgressBar {
 
 [self.pgbProgress setProgress:(incrementBy = 0.0f)];
 [NSTimer scheduledTimerWithTimeInterval:0.5 target:self selector:@selector(incrementBar:) userInfo:nil repeats:YES];
}

-(void)incrementBar:(NSTimer *)timer
{
 incrementBy += 10.0f;
        [pgbProgress setProgress:(incrementBy / 100)];
 if (incrementBy &gt; 100.0) {
     self.lblInfo.text = @"Processing has been Completed";
     [timer invalidate];
 }
 else
 {
     self.lblInfo.text = [NSString stringWithFormat:@"Processing data records: %3.2f",  (pgbProgress.progress * 100)];
 }
}</pre></div></li><li class="listitem">Then, build and run the <a id="id175" class="indexterm"/><a id="id176" class="indexterm"/>application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div><p>When the compilation completes, the iOS Simulator will appear. Click on the <strong>Tap Here</strong> button to see the progress bar fill gradually, as shown in the following code snippet:</p><div><img src="img/3349_02_04.jpg" alt="How to do it..."/></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec85"/>How it works…</h2></div></div></div><p>In the following line of code, we <a id="id177" class="indexterm"/>
<a id="id178" class="indexterm"/>declare a <code class="literal">float</code> variable <code class="literal">incrementBy</code>. This variable will be used by our method to gradually increment and fill the progress bar.</p><div><pre class="programlisting">
<strong>float incrementBy = 0.0;</strong>
</pre></div><p>Next, we modify our <code class="literal">btnTapHere:</code> method to <a id="id179" class="indexterm"/>include a call to our method, <code class="literal">fillProgressBarmethod</code> that <a id="id180" class="indexterm"/>will be responsible for handling the processing, as well as calling other methods to gradually fill the bar.</p><div><pre class="programlisting">- (IBAction)btnTapHere:(UIButton *)sender {

<strong> [self fillProgressBar];</strong>
 [self.lblInfo setBackgroundColor:[UIColor yellowColor]];
}</pre></div><p>In our next code snippet, the <code class="literal">fillProgressBar</code> <a id="id181" class="indexterm"/>method initializes the <code class="literal">incrementBy</code> variable to <code class="literal">0</code> to make sure that the bar is not filled at all. We then use the <code class="literal">scheduledTimerWithTimeInterval</code> method, which is one of the class methods of the <code class="literal">NSTimer</code> class, which is <a id="id182" class="indexterm"/>used to create timers.</p><p>
<code class="literal">NSTimer</code> is an object that is scheduled to run within the run loop, so that it can check time passed periodically. When enough time has passed, it fires. If the timer has been set up to be non repeating, it then unschedules itself, otherwise it clears its elapsed time and waits to fire again. Next, we specify the duration in seconds when to call the <code class="literal">incrementBar:</code> method, as specified by the <code class="literal">selector</code> property and keep calling this method until the timer is invalidated.</p><div><pre class="programlisting">- (void)fillProgressBar {
 
 [self.pgbProgress setProgress:(incrementBy = 0.0f)];
 [NSTimer scheduledTimerWithTimeInterval:0.5 target:self selector:@selector(incrementBar:) userInfo:nil repeats:YES];
}</pre></div><p>In our final code snippet, we start by <a id="id183" class="indexterm"/>
<a id="id184" class="indexterm"/>setting our <code class="literal">incrementBar</code> variable to the number of incremental steps this should take to fill our progress bar value, and then update the <code class="literal">progress</code> property of our <code class="literal">ProgressView</code>. Next, we check to see if we have reached our bar threshold and then update the label accordingly, before finally invalidating our <code class="literal">timer</code> object to prevent the method from being called.</p><p>Alternatively, if we have not yet reached our threshold, we update the <code class="literal">Label</code> object to show the progress bar's current progress.</p><div><pre class="programlisting">-(void)incrementBar:(NSTimer *)timer
{
 incrementBy += 10.0f;
        [pgbProgress setProgress:(incrementBy / 100)];
 if (incrementBy &gt; 100.0) {
     self.lblInfo.text = @"Processing has been Completed";
     [timer invalidate];
 }
 else
 {
     self.lblInfo.text = [NSString
stringWithFormat:@"Processing data records: %3.2f", (pgbProgress.progress * 100)];
 }
}</pre></div><div><div><h3 class="title"><a id="note13"/>Note</h3><p>If you would like to find out more information on the <code class="literal">NSTimer</code> class, you can refer to the Apple Developer documentation, located at <a class="ulink" href="https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSTimer_Class/Reference/NSTimer.html">https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSTimer_Class/Reference/NSTimer.html</a>.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec86"/>There's more…</h2></div></div></div><p>The <code class="literal">UIProgressView</code> class supports <a id="id185" class="indexterm"/>
<a id="id186" class="indexterm"/>one more style. This can be specified by setting the <code class="literal">progressViewStyle</code> property to <code class="literal">UIProgressViewStyleBar</code>. With that change, the bar will look like the one, as can be seen when using Apple's Mail application.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec87"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Adding and customizing views</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Using labels to display text</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Obtaining user input through the use of buttons</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec28"/>Adding a toolbar to a view</h1></div></div></div><p>In this recipe, we will learn <a id="id187" class="indexterm"/>
<a id="id188" class="indexterm"/>how to add and use toolbars within our application.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec88"/>Getting ready</h2></div></div></div><p>In this recipe, we will discuss the usage of the <code class="literal">Toolbar</code> object and how we can use the associated properties to display an animated progress bar.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec89"/>How to do it...</h2></div></div></div><p>In order to see how this can be achieved, we need to modify our <strong>ViewObjectsExample</strong> application that we created in the previous recipe. Perform the following steps to do so:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewObjectsExample.xcodeproj</code> project file.</li><li class="listitem">Select the <code class="literal">ViewController.xib</code> file from the project navigator window.</li><li class="listitem">From <strong>Object Library</strong>, drag a <strong>Toolbar</strong> object into the main view controller, and place it at the top of the main view.</li><li class="listitem">Next, select the button it contains by default and set its <strong>Title</strong> property to <strong>Fade In</strong>.</li><li class="listitem">Next, add a <code class="literal">Flexible Space Bar Button Item</code> object to the toolbar to the right of the <strong>Fade In</strong> button.</li><li class="listitem">Then, from <strong>Object Library</strong>, drag a <strong>UIBarButtonItem</strong> object to the toolbar and place this after the <code class="literal">Flexible Space Bar Button Item</code> object.</li><li class="listitem">Next, select the button and set its <strong>Title</strong> property to <strong>Fade Out</strong>.</li><li class="listitem">Next, create the outlets and properties for the <strong>Fade In</strong> and <strong>Fade Out</strong> buttons, and name them <code class="literal">btnFadeIn</code> and <code class="literal">btnFadeOut</code>.</li><li class="listitem">Next, create the action methods for the <strong>Fade In</strong> and <strong>Fade Out</strong> buttons, and name them <code class="literal">viewFadeIn</code> and <code class="literal">viewFadeOut</code>.</li><li class="listitem">After creating the button outlets and properties, save the document by selecting <strong>File</strong> | <strong>Save</strong> from the <a id="id189" class="indexterm"/><a id="id190" class="indexterm"/>menu bar, or alternatively by pressing <em>command</em> + <em>S</em>. The layout should look like the following screenshot:<div><img src="img/3349_02_05.jpg" alt="How to do it..."/></div></li></ol></div><p>Our next step is to create the code functionality that will be responsible for updating the label to display what button was pressed within the toolbar:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Modify the <code class="literal">viewFadeIn</code> and <code class="literal">viewFadeOut</code> methods, as shown in the following code snippet:<div><pre class="programlisting">- (IBAction)viewFadeIn:(UIBarButtonItem *)sender {
lblInfo.text = @"Fade In button clicked.";
}

- (IBAction)viewFadeOut:(UIBarButtonItem *)sender {
lblInfo.text = @"Fade Out button clicked.";
}</pre></div></li><li class="listitem">Then, build and run the application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div><p>When the compilation completes, the iOS Simulator will appear. Tap on both of the toolbar buttons to see the label update based on which button has been clicked.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec90"/>How it works…</h2></div></div></div><p>The <code class="literal">UIToolbar</code> object is <a id="id191" class="indexterm"/>used to hold items relating to the <code class="literal">UIBarButtonItem</code> object type. These types of objects are special kinds of buttons and spacers. A <code class="literal">UIBarButtonItem</code> object can be system defined or custom type, and can use any of the predefined types as listed in the <strong>Identifier</strong> attribute within Interface Builder and provides a specific icon to the button. </p><p>The <code class="literal">UIBarButtonItem</code> objects can also be customized to contain an image to make your application more <a id="id192" class="indexterm"/>
<a id="id193" class="indexterm"/>professional and visually intuitive. This can be achieved by using the <strong>Image</strong> attribute within Interface Builder.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec91"/>There's more…</h2></div></div></div><p>The <code class="literal">UIBarButtonItem</code> class <a id="id194" class="indexterm"/>has a style property that determines the button's style. It can be used only when the button item's identifier is set to <strong>Custom</strong>. You can set the button's style property to any of the <code class="literal">UIBarButtonItemStyle</code> types.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec92"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Adding and customizing views</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Using labels to display text</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec29"/>Fading a view in and out</h1></div></div></div><p>In this recipe, we will <a id="id195" class="indexterm"/>
<a id="id196" class="indexterm"/>take a look at how we can perform some fancy animations to views. These can be perfect for building and enhancing the user experience to produce smooth, animated animations for your applications.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec93"/>Getting ready</h2></div></div></div><p>The <code class="literal">UIView</code> animations are the perfect building blocks for building the visual bridge between a view's current and changed state. With views, you can visually change and create animations that link these together. Some examples include the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Moving a view around the screen</li><li class="listitem" style="list-style-type: disc">Updating the view's frame and bounds coordinates</li><li class="listitem" style="list-style-type: disc">Stretching the view's content to fill the screen regions</li><li class="listitem" style="list-style-type: disc">Altering the view's alpha value to support transparency</li><li class="listitem" style="list-style-type: disc">Hiding or showing a view</li><li class="listitem" style="list-style-type: disc">Altering the view's ordering to show which view is in front</li><li class="listitem" style="list-style-type: disc">Performing transformations and rotations to views</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec94"/>How to do it...</h2></div></div></div><p>In order to see our view fade in and out, we need to modify our <strong>ViewObjectsExample</strong> application that we created in the <a id="id197" class="indexterm"/>
<a id="id198" class="indexterm"/>previous recipe. Perform the following steps to do so:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewObjectsExample.xcodeproj</code> project file.</li><li class="listitem">Select the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Next, modify the <code class="literal">viewFadeIn</code> method, as shown in the following code snippet:<div><pre class="programlisting">- (IBAction)viewFadeIn:(UIBarButtonItem *)sender {
 
 [UIView beginAnimations: @"Fade In" context:nil];
 [UIView setAnimationDuration:2.0];
 [self.subView setAlpha:1.0f];
 [UIView commitAnimations];

 // Disable our FadeIn Button since we are processing
 [self.btnFadeOut setEnabled:YES];
 [self.btnFadeIn  setEnabled:NO];
}</pre></div></li><li class="listitem">Next, modify the <code class="literal">viewFadeOut</code> method, as shown in the following code snippet:<div><pre class="programlisting">- (IBAction)viewFadeOut:(UIBarButtonItem *)sender {

 [UIView beginAnimations: @"Fade Out" context:nil];
 [UIView setAnimationDuration:2.0];
 [self.subView setAlpha:0.0f];
 [UIView commitAnimations];
 
 [self.btnFadeOut setEnabled:NO];
 [self.btnFadeIn setEnabled:YES];
}</pre></div></li><li class="listitem">Then, add the highlighted code lines of the following code <a id="id199" class="indexterm"/>snippet to the <code class="literal">viewDidLoad</code> method:<div><pre class="programlisting">- (void)viewDidLoad
{
    [super viewDidLoad];
 
 // Do any additional setup after loading the view, typically from a nib.
 [self updateLabel];
 [self displayImage];
 [self populateTextBox];
 
<strong> [self.pgbProgress setProgress:0.0 animated:YES];</strong>
<strong> [self.btnFadeOut setEnabled:YES];</strong>
<strong> [self.btnFadeIn setEnabled:NO];</strong>
}</pre></div></li><li class="listitem">Then, build and run the application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div><p>When the compilation completes, the iOS Simulator will appear. Tap on both of the toolbar buttons to see the subview's start to fade either in our out.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec95"/>How it works…</h2></div></div></div><p>In the following code snippet, we <a id="id200" class="indexterm"/>
<a id="id201" class="indexterm"/>mark the start of our animation block using the <code class="literal">beginAnimations</code> method and specify the <code class="literal">Fade In</code> animation type, before setting the graphics context to nil. Next, we specify the length of the animation in seconds using <code class="literal">setAnimationDuration</code>, and then set the alpha transparency layer by setting <code class="literal">setAlpha</code> to <code class="literal">1.0</code>, which makes it become visible.</p><p>Finally, we use the <code class="literal">commitAnimations</code> method to indicate that all of our properties to animate have been set, and animations should begin and then enable/disable our toolbar buttons accordingly.</p><div><pre class="programlisting">- (IBAction)viewFadeIn:(UIBarButtonItem *)sender {
 
 [UIView beginAnimations: @"Fade In" context:nil];
 [UIView setAnimationDuration:2.0];
 [self.subView setAlpha:1.0f];
 [UIView commitAnimations];

 // Disable our FadeIn Button since we are processing
 [self.btnFadeOut setEnabled:YES];
 [self.btnFadeIn  setEnabled:NO];
}</pre></div><p>Next, we mark the start of our animation block using the <code class="literal">beginAnimations</code> method and specify the <code class="literal">Fade Out</code> animation type, before setting the graphics context to nil. We then specify the length of the animation in seconds using <code class="literal">setAnimationDuration</code>, and then set the alpha transparency layer by setting <code class="literal">setAlpha</code> of our subview to invisible so that it gradually fades.</p><p>Finally, we use the <code class="literal">commitAnimations</code> <a id="id202" class="indexterm"/>method to indicate that all of our properties to animate have been set, and animations <a id="id203" class="indexterm"/>
<a id="id204" class="indexterm"/>should begin and enable our <strong>Fade In</strong> button within our toolbar.</p><div><pre class="programlisting">- (IBAction)viewFadeOut:(UIBarButtonItem *)sender {

 [UIView beginAnimations: @"Fade Out" context:nil];
 [UIView setAnimationDuration:2.0];
 [self.subView setAlpha:0.0f];
 [UIView commitAnimations];
 
 [self.btnFadeOut setEnabled:NO];
 [self.btnFadeIn setEnabled:YES];
}</pre></div><div><div><h3 class="title"><a id="note14"/>Note</h3><p>If you would like to find out more information on <code class="literal">UIView</code> animations, you can refer to the Apple Developer <a id="id205" class="indexterm"/>documentation, located at <a class="ulink" href="http://developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/UIView/UIView.html">http://developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/UIView/UIView.html</a><code class="literal">#//apple_ref/doc/uid/TP40006816-CH3-SW131</code>.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec96"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Adding and customizing views</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Adding a toolbar to a view</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec30"/>Creating a custom table view controller</h1></div></div></div><p>In this recipe we will learn how to <a id="id206" class="indexterm"/>create a subclass of the <code class="literal">UITableViewController</code> <a id="id207" class="indexterm"/>class, and use it to populate a <code class="literal">UITableView</code> controller.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec97"/>Getting ready</h2></div></div></div><p>The <code class="literal">UITableViewController</code> classes are a <a id="id208" class="indexterm"/>perfect way of providing you with the flexibility to manage a table view, and providing the functionality of adding to our base controller the ability of sharing its inheritor classes. For this to happen, we will need to incorporate the methods for a <code class="literal">UITableView</code> class.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec98"/>How to do it...</h2></div></div></div><p>To begin, we will need to create a new Xcode project. This can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Create a new <strong>Single View Application</strong> project and name it <code class="literal">TableViewExample</code>.</li><li class="listitem">Next, select the <code class="literal">TableViewExample</code> folder, select <strong>File</strong> | <strong>New</strong> | <strong>New File…</strong> or press <em>command</em> + <em>N</em>.</li><li class="listitem">Select the <strong>Objective-C class</strong> template from the list of templates.</li><li class="listitem">Click on the <strong>Next</strong> button to proceed to the next step in the wizard.</li><li class="listitem">Enter <code class="literal">TableViewController</code> as the name of the file to create.</li><li class="listitem">Ensure that you have selected <strong>UITableViewController</strong> as the type of subclass to create from the <strong>Subclass</strong> drop-down menu.</li><li class="listitem">Ensure that the <strong>Targeted for iPad</strong> checkbox is not checked.</li><li class="listitem">Ensure that the <strong>With XIB for User Interface</strong> checkbox is not checked.</li><li class="listitem">Click on the <strong>Next</strong> button to proceed to the next step of the wizard.</li><li class="listitem">Click on the <strong>Create</strong> button to save the file to the specified folder location.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec99"/>How it works…</h2></div></div></div><p>What we have done here is <a id="id209" class="indexterm"/>add a new <code class="literal">TableViewController</code> class to our <strong>TableViewExample</strong> application that provides us with the necessary table view methods we can use to interact with the <code class="literal">TableView</code> control. </p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec100"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Adding a table view to a view controller</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Using Xcode to create an iOS project</em> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting and Installing the iOS SDK Development Tools">Chapter 1</a>, <em>Getting and Installing the iOS SDK Development Tools</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec31"/>Adding a table view to a view controller</h1></div></div></div><p>In this recipe we will learn <a id="id210" class="indexterm"/>
<a id="id211" class="indexterm"/>how to add a <code class="literal">UITableView</code> object to an existing view controller.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec101"/>Getting ready</h2></div></div></div><p>The <code class="literal">UITableView</code> object provides you <a id="id212" class="indexterm"/>with an interface for displaying data in list form.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec102"/>How to do it...</h2></div></div></div><p>In order to add a table view to our view controller, we need to modify our <strong>TableViewExample</strong> application that we created in the previous recipe. Perform the following steps to do so:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">TableViewExample.xcodeproj</code> project file.</li><li class="listitem">Next, change the inheritance of the <code class="literal">ViewController</code> class, as shown in the following highlighted line of code:<div><pre class="programlisting">
<strong>@interface ViewController : UITableViewController</strong>
</pre></div></li><li class="listitem">Next, select the <code class="literal">ViewController.xib file</code> from the project navigator window.</li><li class="listitem">Then, delete the current view within the view controller, by selecting it and then pressing the <em>Delete</em> key.</li><li class="listitem">Next, from <strong>Object Library</strong>, drag a <strong>TableView</strong> object onto the drawing area.</li><li class="listitem">Hold down the <em>control</em> key <a id="id213" class="indexterm"/><a id="id214" class="indexterm"/>and drag from the <strong>File's Owner</strong> object to the <code class="literal">UITableView</code>, as shown in the following screenshot:<div><img src="img/3349_02_06.jpg" alt="How to do it..."/></div></li><li class="listitem">Select <strong>view</strong> from the pop-up panel and release the button. This connects the <code class="literal">TableView</code> we have just added to the view outlet of the <strong>File's Owner</strong> object.</li></ol></div><p>Our next step is to modify the <code class="literal">ViewController</code> class to use the custom table view controller that we created in the previous recipe. This can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Click and select the <strong>File's Owner</strong> controller object within the view.</li><li class="listitem">Then, select the <strong>Identity Inspector</strong> section and change the value of the <strong>Custom Class</strong> property to read <code class="literal">CustomTableView</code>, as shown in the following screenshot:<div><img src="img/3349_02_07.jpg" alt="How to do it..."/></div></li><li class="listitem">Save the document by selecting <strong>File</strong> | <strong>Save</strong> from the menu bar, or alternatively by pressing <em>command</em> + <em>S</em>.</li><li class="listitem">Next, build and run the application by selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, <a id="id215" class="indexterm"/><a id="id216" class="indexterm"/>or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec103"/>How it works…</h2></div></div></div><p>When we add a <code class="literal">UITableView</code> object to an existing view using Interface Builder, its view is displayed with some predefined data, which is only visible during design time and not at runtime.</p><p>We then hooked up the view of our <code class="literal">TableView</code> <a id="id217" class="indexterm"/>object to our <code class="literal">File's Owner</code> object, and finally we modified the view controller's class to use our own <code class="literal">CustomTableView</code> class that we created. The discussion on how to go about populating data in <code class="literal">UITableView</code> will be covered in an upcoming chapter.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec104"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Creating a custom table view controller</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Creating an iOS Project with Xcode</em> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting and Installing the iOS SDK Development Tools">Chapter 1</a>, <em>Getting and Installing the iOS SDK Development Tools</em></li><li class="listitem" style="list-style-type: disc">The <em>Displaying data within the table view</em> recipe in <a class="link" href="ch08.html" title="Chapter 8. Working with the CoreData and GameKit Frameworks">Chapter 8</a>, <em>Data Management</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec32"/>Handling different iOS devices</h1></div></div></div><p>In this recipe, we will learn how to detect <a id="id218" class="indexterm"/>whether we are running the application on an iPhone or iPad device.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec105"/>Getting ready</h2></div></div></div><p>The <code class="literal">UIDevice</code> object provides you with various methods that allow you to gain access to certain information relating to a specific device; it can help you work out how much battery is remaining on the device, as well as determine what type of device it is and its orientation aspects.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec106"/>How to do it...</h2></div></div></div><p>To begin, we will need to create a new Xcode project. This can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Create a new <strong>Single View Application</strong> project and name it <code class="literal">UniversalApp</code>.</li><li class="listitem">Next, select the <code class="literal">ViewController.xib</code> file from the project navigator window.</li><li class="listitem">Next, from <strong>Object Library</strong>, drag a <strong>Label</strong> object onto the main view.</li><li class="listitem">Resize the <code class="literal">Label</code> control so that its contents fill the width of the view.</li><li class="listitem">Next, create the outlet and property for this <code class="literal">Label</code> control, and name it <code class="literal">lblMessage</code>.</li></ol></div><p>Our next step is to create the code functionality that will be responsible for determining what type of iOS device we are using, as well as updating the label properties. This can be achieved by performing the following simple steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">ViewController.m</code> implementation file from the project navigator.</li><li class="listitem">Next, modify the <code class="literal">viewDidLoad</code> method, as shown in the following code snippet:<div><pre class="programlisting">- (void)viewDidLoad
{
    [super viewDidLoad];
 
 // Do any additional setup after loading the view, typically from a nib.
 if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {
  self.view.frame = CGRectMake(0, 0, 768, 1024);
  self.lblMessage.text = @"I'm running on the iPad";
  self.view.backgroundColor = [UIColor yellowColor];
  self.lblMessage.font = [UIFont systemFontOfSize:18.5f];
  self.lblMessage.adjustsFontSizeToFitWidth = TRUE;
 }
 else {
  self.lblMessage.text = @"I'm running on an iPhone";
  self.view.backgroundColor = [UIColor blueColor];
  self.lblMessage.font = [UIFont systemFontOfSize:18.5f];
  self.lblMessage.adjustsFontSizeToFitWidth = TRUE;
 }
}</pre></div></li><li class="listitem">Save the document by selecting <strong>File</strong> | <strong>Save</strong> from the menu bar.</li><li class="listitem">Next, select <strong>UniversalApp</strong> from the project navigator.</li><li class="listitem">In the <strong>Summary</strong> tab, select <strong>Universal</strong> from under the <strong>Devices</strong> drop-down menu, as shown in the following screenshot:<div><img src="img/3349_02_08.jpg" alt="How to do it..."/></div></li><li class="listitem">Next, switch between the different devices by clicking inside the highlighted section, as shown in the following screenshot:<div><img src="img/3349_02_09.jpg" alt="How to do it..."/></div></li><li class="listitem">Build and run the application by <a id="id219" class="indexterm"/>selecting <strong>Product</strong> | <strong>Run</strong> from the <strong>Product</strong> menu, or alternatively by pressing <em>command</em> + <em>R</em>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec107"/>How it works…</h2></div></div></div><p>In the following code snippet, we check to see which device the application is running on, by checking the <code class="literal">userInterfaceIdiom</code> <a id="id220" class="indexterm"/>property of the <code class="literal">UIDevicecurrentDevice</code> property:</p><div><pre class="programlisting">if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) {</pre></div><p>If an iPad has been determined, we resize the view using the <code class="literal">frame</code> property to size it to the iPad screen's dimensions and then update our label properties and then set the background of our view, as shown in the following code snippet:</p><div><pre class="programlisting">self.view.frame = CGRectMake(0, 0, 768, 1024);
self.lblMessage.text = @"I'm running on the iPad";
self.view.backgroundColor = [UIColor yellowColor];
self.lblMessage.font = [UIFont systemFontOfSize:18.5f];
self.lblMessage.adjustsFontSizeToFitWidth = TRUE;</pre></div><p>Alternatively, if it has been determined that we are running the application on an iPhone, we update our label properties and then set the background of our view, as shown in the following code snippet:</p><div><pre class="programlisting"> else {
  self.lblMessage.text = @"I'm running on an iPhone";
  self.view.backgroundColor = [UIColor blueColor];
  self.lblMessage.font = [UIFont systemFontOfSize:18.5f];
  self.lblMessage.adjustsFontSizeToFitWidth = TRUE;
 }</pre></div><div><div><h3 class="title"><a id="note15"/>Note</h3><p>If you would like to find out more information on the <a id="id221" class="indexterm"/>
<code class="literal">UIDevice</code> class, you can refer to the Apple Developer documentation, located at <a class="ulink" href="http://developer.apple.com/library/ios/#documentation/uikit/reference/UIDevice_Class/Reference/UIDevice.html">http://developer.apple.com/library/ios/#documentation/uikit/reference/UIDevice_Class/Reference/UIDevice.html</a>.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec108"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Adding and customizing views</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Using labels to display text</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Creating outlets to Interface Builder objects</em> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting and Installing the iOS SDK Development Tools">Chapter 1</a>, <em>Getting and Installing the iOS SDK Development Tools</em></li><li class="listitem" style="list-style-type: disc">The <em>Using Xcode to create an iOS project</em> recipe in <a class="link" href="ch01.html" title="Chapter 1. Getting and Installing the iOS SDK Development Tools">Chapter 1</a>, <em>Getting and Installing the iOS SDK Development Tools</em></li></ul></div></div></div></body></html>