<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Setting Up and Configuring an Android Platform</h1></div></div></div><p>This chapter will talk about installing the Android SDK on Windows and Mac OS X platforms. Further, the reader will find how to configure Unity 5 for Android devices. Also, in this chapter, we will explore the APK expansion files in Unity 5. In this chapter, the reader will build the <em>Glow Hockey</em> project<strong> (</strong>we will create this game in Unity 5 from scratch in the last chapter in this book) on an Android device. At the end of this chapter, the reader will explore the side-by-side comparisons of the Unity Pro and Unity Basic-specific features and rules.</p><p>The topics that will be covered in this chapter are as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Configuring Unity 5 for Android devices</li><li class="listitem" style="list-style-type: disc">APK expansion files in Unity 5</li><li class="listitem" style="list-style-type: disc">Building for Android devices</li><li class="listitem" style="list-style-type: disc">Unity license comparison overview</li></ul></div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Configuring Unity 5 for Android devices</h1></div></div></div><p>Once you have installed the <a id="id0" class="indexterm"/>Android SDK and set up Unity, you<a id="id1" class="indexterm"/> must configure the correct settings for each of your Android project. We will begin our review by considering the <strong>Resolution And Presentation</strong> options as shown in the following screenshot. In order to access the Android platform settings in Unity, it is necessary to navigate to the <strong>Edit</strong> | <strong>Project Settings</strong> | <strong>Player</strong> menu and then click on the button with the Android icon. Also, the other way of getting to the Android platform settings is by navigating to <strong>File</strong> | <strong>Build Settings</strong>. After opening the window, you will need to click on the <strong>Player Settings</strong> button at the bottom.</p><p>The <strong>Default Orientation</strong> option is shared between multiple mobile platforms. This setting is necessary in order to indicate the orientation of the screen which is designed for your game or your application. The default is <strong>Automatic Rotation</strong> for all settings. If, for example, your project is designed only for the portrait orientation of the screen, then you need to select either the <strong>Portrait</strong> or <strong>Portrait Upside Down</strong> value:</p><div><img src="img/9191OT_01_01.jpg" alt="Configuring Unity 5 for Android devices"/></div><p>We can pick one of the<a id="id2" class="indexterm"/> following properties: <strong>Portrait</strong>, <strong>Portrait Upside Down</strong>, <strong>Landscape Right</strong>, <strong>Landscape Left</strong>, and <strong>Auto Rotation</strong>. They are <a id="id3" class="indexterm"/>pretty plain and speak for themselves. You just need to play a little with them to see their true purpose. The <strong>Status Bar Hidden</strong> checkbox needs no explanation because its meaning is obvious.</p><p>A subsequent option that we will survey is known as <strong>Use 32-bit Display Buffer</strong>. You can decide if the <strong>display buffer</strong>
<a id="id4" class="indexterm"/> should handle 16-bit color values (if not 32-bit enabled) or if it should handle 32-bit color values. Remember that you need to activate this setting only if you have some artifacts, because it greatly affects the performance. The <strong>Show Loading Indicator</strong> field ensures the ensuing behaviors for us: <strong>Don't Show</strong>, <strong>Large</strong>, <strong>Inversed Large</strong>, <strong>Small</strong>, and <strong>Inversed Small</strong>.</p><div><img src="img/9191OT_01_02.jpg" alt="Configuring Unity 5 for Android devices"/></div><p>As shown in the<a id="id5" class="indexterm"/> preceding figure, there are a lot of settings; however, most of them can be left with default values except for a few that must be<a id="id6" class="indexterm"/> adjusted before making a build. You cannot build an APK file for your Android device without configuring the <strong>Bundle Identifier</strong> option, which is shared between mobile platforms. The <strong>Bundle Identifier</strong> string must match the provisioning profile of the game you are building. The fundamental structure of the identifier is <code class="literal">com.Company.ProductName</code>. The bundle version is responsible for holding the number that describes the release index. Moreover, Unity permits us to specify the minimum API level that will be supported by your Android project. Also, you can set the name and icon for your application. Other settings are obvious and do not require additional explanation. More detailed information can be found in the official documentation of Unity.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec09"/>APK expansion files in Unity 5</h1></div></div></div><p>Google Play<a id="id7" class="indexterm"/> requires that the size of your games and applications <a id="id8" class="indexterm"/>does not exceed 50 MB. For most applications and games, this size is enough. Alternatively, you may want to have fantastic graphics for your projects and other huge media files that can take up a lot of space. Google Play makes a developer's life simpler and easier by expanding an APK file by large expansion files. Extension files are kept in a shared folder storage of the device where your game has enough access rights.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec07"/>Overview</h2></div></div></div><p>Each file cannot be larger <a id="id9" class="indexterm"/>than 2 GB, and you can choose any format for it. Of course, the best way is to use only compressed files in order to conserve bandwidth while the downloading process is active. You can add only one or two expansion files to your APK. Behind each expansion file lies its meaning:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The first expansion<a id="id10" class="indexterm"/> file is known as the <a id="id11" class="indexterm"/><strong>main</strong> and should be used for extra resources needed in your game. That's why this expansion file is primary.</li><li class="listitem" style="list-style-type: disc">The second expansion file is known as <a id="id12" class="indexterm"/><strong>patch</strong>, and is required to update the <a id="id13" class="indexterm"/>main file. That's why it is optional.</li></ul></div><p>You should know that the Developer Console does not allow you to update your existing APK file by uploading only a new expansion file.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec08"/>Formats</h2></div></div></div><p>For your expansion files, you can <a id="id14" class="indexterm"/>use any desired format, such as MP3, MP4, AVI, RAR, ZIP, DOC, and PDF. The JOBB tool can help you encapsulate and encrypt your resources and patches for them.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec09"/>The updating process</h2></div></div></div><p>In most cases, Google Play <a id="id15" class="indexterm"/>will do all jobs automatically for you. So, very often, you don't need to do anything while users will download or upload your expansion files on their devices. However, sometimes your game has to download these files itself by receiving a URL from Google Play's application licensing service.</p><p>The basic steps<a id="id16" class="indexterm"/> to download expansion files for your game are listed as follows:</p><div><ol class="orderedlist arabic"><li class="listitem">On the game start event, you should look for the expansion files in the <code class="literal">Android/obb/&lt;package-name&gt;/ directory</code>.</li><li class="listitem">In the first step, if you will find that your expansion files are already in that directory, then you can continue playing your game further.</li><li class="listitem">In the event that the expansion files are not in that directory, you should perform the next two steps.</li><li class="listitem">You have to receive URLs, names, and sizes for your game's expansion files. Before downloading anything, you should know where and what to download.</li><li class="listitem">After having all the required information to download the expansion files, you can get your files and put them into the <code class="literal">Android/obb/&lt;package-name&gt;/</code> directory with the same name as Google Play told you.</li></ol></div><div><div><h3 class="title"><a id="note02"/>Note</h3><p>The following notes that are listed are taken from the official Android Developers Documentation page<a id="id17" class="indexterm"/> at <a class="ulink" href="http://developer.android.com/google/play/expansion-files.html">http://developer.android.com/google/play/expansion-files.html</a>:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The URL that Google Play provides for your expansion files is unique for every download, and each one expires shortly after it is given to your application.</li><li class="listitem" style="list-style-type: disc">Whether your application is free or not, Google Play returns the expansion file URLs only if the user acquired your application from Google Play.</li><li class="listitem" style="list-style-type: disc">A variety of errors may occur during the request and download that you must gracefully handle.</li><li class="listitem" style="list-style-type: disc">Network connectivity can change during the download, so you should handle such changes. If interrupted, resume the download when possible.</li><li class="listitem" style="list-style-type: disc">While the download occurs in the background, you should provide a notification that indicates the download progress, notifies the user when it's done, and takes the user back to your application when selected.</li></ul></div></div></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Setting up expansion files in Unity 5</h2></div></div></div><p>Navigate to the<a id="id18" class="indexterm"/> <strong>Player Settings</strong> | <strong>Publishing Settings</strong> menu, and at the bottom you will see an option called <strong>Split Application Binary</strong>. When this option is enabled, your project will be divided into the <code class="literal">.apk </code>file for code, and for all other assets and data, it will be the <code class="literal">.obb</code> file.</p><p>Let's look at a list of key aspects related to the loading of the expansion files (<code class="literal">.obb</code>):</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The expansion files do not need to be uploaded to the server Google Play.</li><li class="listitem" style="list-style-type: disc">If you have decided to publish <code class="literal">.apk</code> and <code class="literal">.obb</code> files on Google Play, then you need to include the code to download the expansion files.</li><li class="listitem" style="list-style-type: disc">In the Unity<a id="id19" class="indexterm"/> Asset Store, you can find a great plugin for downloading and extracting your expansion files in the right location. The <a id="id20" class="indexterm"/>URL of this plugin is <a class="ulink" href="http://u3d.as/content/unity-technologies/google-play-obb-downloader/2Qq">http://u3d.as/content/unity-technologies/google-play-obb-downloader/2Qq</a>.</li><li class="listitem" style="list-style-type: disc">Before testing the .<code class="literal">obb</code> files, you need to be logged in your Google account.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Building for Android devices</h1></div></div></div><p>After creating a new <a id="id21" class="indexterm"/>project in Unity, it is a good idea to <a id="id22" class="indexterm"/>adjust the global quality settings as shown in the following figure. Most of them affect your game performance. Let's look deeper at <strong>QualitySettings</strong>, as it is a must before building applications for Android devices:</p><div><img src="img/9191OT_01_03.jpg" alt="Building for Android devices"/></div><p>Unity allows you to create a template for your quality settings; you can also select one of the templates available in Unity by default. These settings greatly affect the performance of your application and the quality of your graphics. It is especially important for mobile platforms, where resources are very limited. You will need to play around with the settings on your target platforms to find the best template settings for your quality and performance. To access these settings, you need to navigate to <strong>Edit</strong> | <strong>Project Settings</strong> | <strong>Quality</strong>. You can select different templates separately for each platform supported by Unity. This setup window is divided into two main parts. The upper part, as shown in the preceding figure, is for managing templates, while the lower part, as shown in the following figure, is responsible for the settings themselves.</p><p>Each pattern (even Unity built-in templates) can be named as you wish. For all platforms supported by Unity, you can choose several accessible settings templates and also a default one. The default settings template is highlighted in green. Your settings should be as simple as possible, especially for mobile platforms. Unity allows you to create new settings templates and<a id="id23" class="indexterm"/> delete them by clicking on the icon with <a id="id24" class="indexterm"/>the basket.</p><div><img src="img/9191OT_01_04.jpg" alt="Building for Android devices"/></div><p>The first part we intend to cover is <strong>Rendering</strong> as shown in the preceding screenshot. It contains the <strong>Pixel Light Count</strong> option that affects the upper limit pixel light only within <strong>Forward Rendering</strong> mode. The <strong>Forward Rendering</strong> path renders each object in one or more passes, depending on lights that affect the object. Lights themselves are also treated differently by <strong>Forward Rendering</strong>, depending on their settings and intensity.</p><p>The <strong>Rendering</strong> part contains the <strong>Texture Quality</strong> property with four existing options: <strong>Full Res</strong>, <strong>Half Res</strong>, <strong>Quarter Res</strong>, and <strong>Eighth Res</strong>. This lets you choose whether to display textures at maximum resolution or at a fraction of this (lower resolution has less processing overhead). Always remember, in any project you need to find a golden balance between the next two characteristics: quality and performance. The following property is named <strong>Anisotropic Textures</strong>, and it allows you to select just three values: <strong>Disabled</strong>, <strong>Per Texture</strong>, and <strong>Forced On</strong>. This describes if and how anisotropic textures will be used. On Wikipedia (<a class="ulink" href="http://en.wikipedia.org/wiki/Anisotropic_filtering">http://en.wikipedia.org/wiki/Anisotropic_filtering</a>), we can read next about anisotropic <a id="id25" class="indexterm"/>filtering: "In 3D computer <a id="id26" class="indexterm"/>graphics, <strong>anisotropic filtering</strong> (abbreviated <strong>AF</strong>) is a method of enhancing the image quality of<a id="id27" class="indexterm"/> textures on surfaces of computer graphics that are at oblique viewing angles with respect to the camera where the projection of the texture (not the polygon or other primitive on which it is rendered) appears to be non-orthogonal (thus the origin of the word: "an" for not, "iso" for same, and "tropic" from tropism, relating to direction; anisotropic filtering does not filter the same in every direction)".</p><p>The next property you learn about is <a id="id28" class="indexterm"/>
<strong>anti-aliasing</strong>. Anti-aliasing can be turned off by selecting the <strong>Disabled</strong> option or it can be turned on by selecting <strong>2x</strong>, <strong>4x</strong>, and <strong>8x Multi Sampling</strong> options. The next setting is just to toggle soft blending for particles, and its name is <strong>Soft Particles</strong>. This was the last option for the <strong>Rendering</strong> part.</p><p>The next part is <strong>Shadows</strong>, and the name absolutely describes itself and its purpose. We can choose one value from three open values: <strong>Hard and Soft Shadows</strong>, <strong>Hard Shadows Only</strong>, and <strong>Disable Shadows</strong>. A big processing overhead can result if you choose the highest resolution for the <strong>Shadow Resolution</strong> option. Possible settings are the following: <strong>Low</strong>, <strong>Medium</strong>, <strong>High</strong>, and <strong>Very High</strong>. There are two separate routines for anticipating shadows from a directional light within the Shadow Projection option. If we choose <strong>Close Fit</strong>, then it renders higher resolution shadows, which can in some cases wobble marginally if the camera moves. The next option, and the last one for <strong>Shadow Projection</strong>, is the <strong>Stable Fit</strong> value, which is the opposite of <strong>Close Fit</strong>. This means that <strong>Stable Fit</strong> renders a lower resolution but without any artifacts when the camera moves. Next is the <strong>Shadow Cascades</strong> setting, which has an effect on processing overhead. A higher cycle of cascades can cope with more processing overhead. Do not forget about the golden balance. Obtainable options for <a id="id29" class="indexterm"/>cascades are next: <strong>No Cascades</strong>, <strong>Two Cascades</strong>, and <strong>Four Cascades</strong>.</p><p>
<a class="ulink" href="http://docs.unity3d.com/460/Documentation/Manual/DirectionalShadowDetails.html">http://docs.unity3d.com/460/Documentation/Manual/DirectionalShadowDetails.html</a>
</p><div><div><h3 class="title"><a id="note03"/>Note</h3><p>On mobile platforms, real-time shadows for directional lights always use one shadow cascade and are <a id="id30" class="indexterm"/>
<strong>hard shadows</strong>.</p><p>Directional lights<a id="id31" class="indexterm"/> are mostly used as a key light—sunlight or moonlight—in an outdoor game. Viewing distances can be huge, especially in first and third person games, and shadows often require some tuning to get the best quality versus performance balance for your situation.</p></div></div><p>The value of <strong>Shadow Distance</strong> is responsible for how far we can see shadows. Shadows beyond this length are visible, others are not.</p><p>In the <a id="id32" class="indexterm"/>following text, we are going to explore <a id="id33" class="indexterm"/>what is known as <strong>Other</strong> part. It contains five options for tuning any project. Let's start with the first option—<strong>Blend Weights</strong>. We can choose just three values which are very important for performance within this setting. The lower the value, the higher the performance. This setting tells the number of bones that can affect a given vertex during an animation. We can select <strong>1 Bone</strong>, <strong>2 Bones</strong>, or <strong>4 Bones</strong>; not more and not less. The next feature highly affects the performance and is not the first priority question about quality because of its hardly visible artifact. The name of this setting is <strong>VSync Count</strong> and the name of this artifact is known as <a id="id34" class="indexterm"/>
<strong>tearing</strong>. If we want to avoid such artifacts then we need to synchronize rendering with the refresh rate of the display device, but do not forget about your performance. Synchronization can reduce a lot of your performance, so you should be ready for such kind of conditions. There are just three existing options for the <strong>VSync Count</strong> parameter: the first option is for synchronization with every <a id="id35" class="indexterm"/>
<strong>vertical blank</strong> (<strong>VBlank</strong>), the second value is for synchronization with every second vertical blank, and the third option allows us to disable all synchronizations, thereby speeding up your application. The next setting in our research is <strong>LOD Bias</strong>. This value does its work only when Unity needs to decide which LOD level to choose. For example, when there is a choice between two LOD levels, <strong>LOD Bias</strong> comes to help by selecting only one value. This is set in a range from zero to one as a fraction. The closer to zero, the less detailed a level will be chosen and vice versa. There are two remaining options that we will now consider. The first is <strong>Maximum LOD Level</strong>, and its purpose is to remember the number for the highest LOD level that you can use in your project. The second is <strong>Particle RayCast Budget</strong>, which needs particle system collisions with <strong>Low</strong> and <strong>Medium</strong> qualities, and this number describes the highest value of ray cast for physics approximation.</p><p>As for the <strong>Maximum LOD level</strong> parameter, all models in which the value will be less than this number will not be included in the build; Unity will ignore them, which can significantly reduce the amount of spending memory for your application or your game. The initial default value for this parameter is zero, which means that every model will be included in your build regardless of its level of detail. For each platform, depending on its configuration, Unity will use the smallest possible LOD level.</p><p>If the Android SDK installation and Unity setup are successful, you can safely create a build of your project. To do this, you will need to navigate to <strong>File</strong> | <strong>Build Settings</strong>, and in the opened window, you can create a build for various supported platforms as shown in the following figure. If you have properly installed the Android SDK and configured Android and have quality and player settings in Unity, you can safely click on the <strong>Build</strong> button or on the <strong>Build And Run</strong> button (if your Android device is properly configured and connected via USB) in the lower-right corner of the window.</p><p>Now, it's time <a id="id36" class="indexterm"/>to build Glow Hockey (we will create this game in Unity 5 from scratch in the last chapter in this book). First of all, you should<a id="id37" class="indexterm"/> create a new project in the Unity Editor. You can name it as you wish. To create a new project, you should click on the <strong>Create Project</strong> button in the bottom-right corner of the window.</p><p>The Unity Editor will be shown after creating the new project.</p><p>Glow Hockey is a very good example for the deployment of the project on the various platforms supported by Unity. In this game, there are many different effects, animations, sound effects, physics, and many other aspects from Unity. After deploying this project on an Android platform, you can test the various functions that are supported by Unity.</p><p>After opening the main <strong>Glow Hockey</strong> scene, you can make any changes or perform experiments as you wish. However, in this chapter, our goal is just to build this game on an Android device. We will not make any changes in the project in this chapter.</p><div><img src="img/9191OT_01_05.jpg" alt="Building for Android devices"/></div><p>After opening<a id="id38" class="indexterm"/> the <strong>Build Settings</strong> window, you <a id="id39" class="indexterm"/>should select the <strong>Android</strong> platform, following which you can create an <code class="literal">.apk</code> file by clicking on the <strong>Build </strong>button in the bottom-right corner in order to share it with your friends, for example. Also, you can press the <strong>Build And Run</strong> button to export an <code class="literal">.apk</code> file as in the first case and to deploy this project right onto a connected device via the USB cable at the same time.</p><p>Now, let's discover more about Unity license comparison in the next section.</p><div><img src="img/9191OT_01_06.jpg" alt="Building for Android devices"/></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Unity License Comparison Overview</h1></div></div></div><p>This section is based on the <a id="id40" class="indexterm"/>Unity License Comparison Overview. The<a id="id41" class="indexterm"/> link <a class="ulink" href="http://unity3d.com/unity/licenses">http://unity3d.com/unity/licenses</a> will show you the side-by-side comparisons of the Unity Pro and Unity Basic's specific features and rules.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec11"/>NavMeshes, pathfinding, and crowd simulation</h2></div></div></div><p>Pathfinding <a id="id42" class="indexterm"/>is a built-in feature of Unity. This <a id="id43" class="indexterm"/>system allows you to easily find <a id="id44" class="indexterm"/>the right way from the <a id="id45" class="indexterm"/>beginning to the end, avoiding all the obstacles encountered on that <a id="id46" class="indexterm"/>way. All you have to do before you use this functionality is bake<a id="id47" class="indexterm"/> your navigation data in the Unity Editor. There, you must specify which floor objects or grounds can be walked on, and which objects are obstacles—all other problems will be solved by Unity without any effort after calling the pathfinding function with the start and end points as parameters. With a strong desire, you can create your own pathfinding system and crowd simulation. The pathfinding system in Unity is available for Basic and Pro licenses.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec12"/>Level of Detail (LOD) support</h2></div></div></div><p>
<strong>Level Of Detail</strong> (<strong>LOD</strong>)<a id="id48" class="indexterm"/> allows you to optimize your productivity very well due <a id="id49" class="indexterm"/>to the fact that there are several different levels of quality for your mesh, each of which will be displayed in the camera view, depending on the distance to the camera. That is, when the camera is too far away, it is not optimal to display the most complex and detailed mesh, since all the power of all these details on the mesh will not be visible at all, which wastes precious resources. This is not very good for your performance as a whole. Detail mesh should be displayed only when the camera is close enough for you to see all these details on your mesh. LOD is supported only by the Unity Pro license. If you have only the Unity Basic license, then you can create your own LOD system very easily. The same idea for optimization can easily be implemented by yourself. The main thing is to change meshes in real time (more or less detailed) for your rendering, depending on their distance from the camera, which in turn will reduce unnecessary costs for the hardware.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec13"/>Audio filters</h2></div></div></div><p>Audio filters <a id="id50" class="indexterm"/>allow you to programmatically create different effects with the <a id="id51" class="indexterm"/>sound in real time. Imagine a situation where, in the game, you have to play a sound while your character is walking on sand. However, if the player suddenly gets into a tunnel, then the sound should be different from walking on sand. To solve this problem, you can choose one of the possible scenarios. The first solution to this problem lies in the fact that you can create or already use a ready-made sound for walking in tunnels and so on. For each situation, you will have a variety of ready-made sounds. Alternatively, this approach requires a lot of memory if you have too many different situations in the game where the game should play different sounds. This approach is not flexible relative to the second solution in the case of audio filters provided by Unity software in real time. Audio filters are supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec14"/>Video playback and streaming</h2></div></div></div><p>Today, many<a id="id52" class="indexterm"/> applications and <a id="id53" class="indexterm"/>games <a id="id54" class="indexterm"/>need to play different<a id="id55" class="indexterm"/> videos. A video may take a lot of memory, and this especially is an acute problem for mobile devices. In order to reduce the additional cost of memory for your video content, Unity allows you to broadcast via internet video streaming. This feature is only available on the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec15"/>Full-fledged streaming with asset bundles</h2></div></div></div><p>Asset bundles <a id="id56" class="indexterm"/>are supported <a id="id57" class="indexterm"/>only by the Unity Pro license. This feature greatly helps in optimizing the way of creating a quality game or application. This functionality allows developers to stream the content via the Internet, for example, adding new characters, new buildings, new weapons, new textures, and much more into the game.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec16"/>Hundred thousand dollar turnover</h2></div></div></div><p>This item is not a <a id="id58" class="indexterm"/>functionality in Unity, but it should rather be seen as a condition or requirement of Unity. This <a id="id59" class="indexterm"/>condition states that if in the last fiscal year, you (personally) or your organization, have earned more than $100,000 (inclusive), then you are required to use a Unity Pro license; that is, you have no right to use the Unity Basic license at all. This can be considered quite a logical and reasonable condition by Unity. After all, if you or your organization has earned more than $100,000 (or exactly $100,000), then you or your organization can buy a Unity Pro license without any problem.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec17"/>Mecanim – IK Rigs</h2></div></div></div><p>The new animation system in Unity, which is known as Mecanim, allows you to use a variety of different and useful functionalities, but a special opportunity and a key feature is the <a id="id60" class="indexterm"/>
<strong>Inverse Kinematics</strong> (<strong>IK</strong>) Rigs. IK Rigs is supported in Mecanim for <a id="id61" class="indexterm"/>only humanoid characters with a<a id="id62" class="indexterm"/> correctly configured Avatar. The meaning of this feature is that you can call a function and pass a final point where the leg should be placed for hitting the ball (as one possible example, if you are creating a football game); after that, IK Rigs system will make all the rest automatically for you. For example, your character must take a cup on the table, but before that he will need to get up from the chair and go to the table on which the desired cup is, and only after that will your character be able to take a cup in his hand. These movements will play animations. All this hard work will completely rely on the IK Rigs system, you only need to specify the endpoint. IK Rigs is supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec18"/>Mecanim – sync layers and additional curves</h2></div></div></div><p>Mecanim <a id="id63" class="indexterm"/>also allows <a id="id64" class="indexterm"/>you to use different <a id="id65" class="indexterm"/>animation states simultaneously; for example, a character with full health will walk normally, but every time the health is decreased by about 20 percent, the character will begin to become worse and go slower, and then starts to limp at poor health. When the character's health becomes very poor, he begins to creep along the ground. This approach uses the sync layers option for grouping different animation states. This greatly simplifies the creation of a variety of conditions by the reusability of sync layers for different situations. </p><p>It is possible to modify sync layers dynamically in real time to reuse your state machine many times with different animations, but with the same conditions. Thus, developers <a id="id66" class="indexterm"/>do not need to create so many <a id="id67" class="indexterm"/>different state machines for all animations, but only a few, and reuse them while playing different animations. This feature is supported only by the Unity Pro license.</p><p>Additional curves allow you to add new curves to your animations in order to control different animation parameters. It's easy and very convenient to manage your animation curves in Unity Editor. This feature is supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec19"/>Custom splash screen</h2></div></div></div><p>This feature has the<a id="id68" class="indexterm"/> following meaning: while <a id="id69" class="indexterm"/>using the Unity Basic license, every time your application boots, your user sees the Unity logo image. If you want to replace that logo with your image, then you will need to purchase a Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec20"/>Build size stripping</h2></div></div></div><p>This is a very <a id="id70" class="indexterm"/>important <a id="id71" class="indexterm"/>Unity feature, especially for mobile devices. With this feature, Unity allows you to remove all the excess out of your build. Unity helps you greatly in it, because it includes only those assets that are used in your game in your final build. Also, this feature allows you to include only those parts of the Unity engine that are utilized in your game in the final build. This feature is supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec21"/>Lightmapping with global illumination and area lights</h2></div></div></div><p>All Unity licenses <a id="id72" class="indexterm"/>support lightmapping. Unity allows you to <a id="id73" class="indexterm"/>bake lights and shadows for static objects. You can add more realism to your game by adding the global illumination and area lights provided by this feature, supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec22"/>HDR and tone mapping</h2></div></div></div><p>
<strong>High Dynamic Range</strong> (<strong>HDR</strong>) <a id="id74" class="indexterm"/>and tone mapping<a id="id75" class="indexterm"/> functionality <a id="id76" class="indexterm"/>are very useful for improving the quality of the <a id="id77" class="indexterm"/>images in your game, but it requires a significant investment of resources. You must be very careful to use such an expensive operation, as well as many other expensive features in Unity. This feature allows you to use more colors than usual, which allows you to create, for example, morning light in the room. This feature is supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec23"/>Occlusion culling</h2></div></div></div><p>This feature is very useful for <a id="id78" class="indexterm"/>optimization. Unity <a id="id79" class="indexterm"/>excludes all unnecessary objects for rendering, such as those that are behind the wall or far from the camera. Otherwise, objects that are hiding will waste processor time and memory. You can easily create a system with the same idea for your specific tasks. This feature is supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec24"/>Light probes</h2></div></div></div><p>This functionality is used <a id="id80" class="indexterm"/>to supplement the lightmapping <a id="id81" class="indexterm"/>optimization method or the so-called light baking, which is used only for static objects, while dynamic objects look much worse. Light probes solve this problem for dynamic objects, but they must be used very carefully and gently so as not to harm the performance of your application or your game. This feature is supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec25"/>Static batching</h2></div></div></div><p>This functionality may <a id="id82" class="indexterm"/>optimize the rendering <a id="id83" class="indexterm"/>process in your game scene by reducing a large number of draw calls for static objects. This feature allows us to reduce many unnecessary draw calls. It works only for static objects, and is supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec26"/>Render-to-texture effects</h2></div></div></div><p>This Unity functionality<a id="id84" class="indexterm"/> is very interesting and<a id="id85" class="indexterm"/> often useful. This feature is useful when you want to directly render your camera not to the screen, but to your image. After that, you can do what you want with that image; for example, you can create a TV box in your game. Also, you can perform postprocessing effects with that image, and much more. However, this feature is very expensive, so use it carefully. This feature is supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec27"/>Fullscreen postprocessing effects</h2></div></div></div><p>This feature can also <a id="id86" class="indexterm"/>create very <a id="id87" class="indexterm"/>interesting effects. Alternatively, this functionality should be used very carefully, especially for mobile platforms as it can take a lot of resources for execution. While optimizing, you should not forget about its high price. For example, you can create effects such as a motion blur for a Formula 1 game, where cars go at a very high speed. Also, you can create bloom effects with this functionality, which makes objects glow like neon. This feature is supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec28"/>NavMesh – dynamic obstacles and priority</h2></div></div></div><p>While searching for the right <a id="id88" class="indexterm"/>way with a pathfinding system, there may be dynamic obstacles that your <a id="id89" class="indexterm"/>character should avoid. You can programmatically set objects as obstacles in your code for a certain time. The ability to manage priorities affects searching for the right path. This feature is supported only by the Unity Pro license.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec29"/>.NET socket support</h2></div></div></div><p>The ability to use the<a id="id90" class="indexterm"/> .NET sockets allows you to<a id="id91" class="indexterm"/> create a variety of network games, as well as connect directly to a device without a server. This feature is supported by both Unity Basic and Unity Pro licenses.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec30"/>Profiler and GPU profiling</h2></div></div></div><p>This is very useful for <a id="id92" class="indexterm"/>profiling your projects. Optimization should begin with finding bottlenecks in<a id="id93" class="indexterm"/> your application or in your game. To be more effective, while searching<a id="id94" class="indexterm"/> bottlenecks in your project, you should<a id="id95" class="indexterm"/> have good tools. You can create such tools yourself, or you can use ready-made solutions. One of the solutions provided by Unity is the profiler tool. This feature is supported only by the Unity Pro license. Those who have only a Unity Basic license have to create their own profiler tool. That's why at the end of the book, we will develop a very simple code profiler tool.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec31"/>Real-time directional shadows</h2></div></div></div><p>Lighting and shadows are key<a id="id96" class="indexterm"/> aspects in most games. Many developers <a id="id97" class="indexterm"/>from around the world create their games trying to achieve the most realistic lighting. No shadows in a world with realistic lighting is much worse than having shadows. Alternatively, to create such a realistic world requires a lot of resources, such as time and memory. This is especially important for mobile devices. You will need to find a balance between quality and performance. This feature is supported by both the Unity Basic and Unity Pro licenses.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec32"/>Script access to asset pipeline</h2></div></div></div><p>This feature <a id="id98" class="indexterm"/>is also very useful. With this functionality, you<a id="id99" class="indexterm"/> can automate the processing of large amounts of assets or builds. For example, imagine that you need to put a watermark on each of your textures. If it is only a few textures, then it can be done manually, but if there are too many textures, hundreds for example, then the automation of the processing of each picture will be very useful. For more information, you can look in the official documentation of Unity. Unity provides a variety of functions for the convenient handling of your assets and builds. This feature is supported only by the Unity Pro license.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Summary</h1></div></div></div><p>In this chapter, we looked at how to install the Android SDK on Windows and Mac OS X. We also covered the various Unity settings before making the first build. After that, we looked at the APK expansion files in Unity for Android devices. Then, we talked about the build settings for Android. We created a very simple and small game build for Android platforms. At the end of the chapter, we considered step-by-step key points and the difference between the Unity Pro and Unity Basic licenses.</p><p>The next chapter has many more interesting details about the Android platform. You will learn how to create plugins within Unity for the Android platform. You will also find out how to make anti-piracy checks, detect screen orientation, handle vibration support, determine device generation, and many more useful things. Let's move on!</p></div></body></html>