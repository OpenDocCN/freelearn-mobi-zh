<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch10"/>Chapter 10. Packaging and Deploying Your Application</h1></div></div></div><p>In this chapter, we will cover:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Setting up your iOS development team</li><li class="listitem" style="list-style-type: disc">Creating the iOS development certificate</li><li class="listitem" style="list-style-type: disc">Obtaining the development certificate from Apple</li><li class="listitem" style="list-style-type: disc">Registering your iOS devices for testing</li><li class="listitem" style="list-style-type: disc">Creating your application App IDs</li><li class="listitem" style="list-style-type: disc">Creating the development provisioning profiles</li><li class="listitem" style="list-style-type: disc">Using the provisioning profile to install the app on an iOS device</li><li class="listitem" style="list-style-type: disc">Preparing an app for submission to the App Store using iTunes Connect</li><li class="listitem" style="list-style-type: disc">Archiving and submitting apps using Xcode 4</li></ul></div><div><div><div><div><h1 class="title"><a id="ch10lvl1sec105"/>Introduction</h1></div></div></div><p>Well done for making it till here. You have successfully built your application and now you are ready to release it to the rest of the world. All you now need to do is decide how to deploy and market it.</p><p>We will take a look at what is required in order to submit your application to the Apple App Store, and share your creations with the rest of the community. In this chapter we will learn how to set up your iOS development team as well as the certificates for both development and distribution.</p><p>We will also learn how to create the provisioning profiles for both development and distribution and create the necessary Application App IDs associated with an iOS application. Finally, we will learn how to go about registering your iOS devices required for testing, as well as the steps required to submit your applications to the Apple App Store.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec106"/>Setting up your iOS development team</h1></div></div></div><p>In this recipe we will <a id="id1014" class="indexterm"/>learn the steps that are required to create and set up an iOS development team.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec386"/>Getting ready</h2></div></div></div><p>Before you can submit your application to the Apple App Store for approval, you will need to set up your iOS development team.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec387"/>How to do it...</h2></div></div></div><p>To begin, follow these simple steps as outlined:</p><div><ol class="orderedlist arabic"><li class="listitem">Log in to the iOS Developer portal website at <a class="ulink" href="http://developer.apple.com/">http://developer.apple.com/</a>.</li><li class="listitem">Click on the <strong>Member Center</strong> link that is located right at the top of the screen.</li><li class="listitem">Sign in to your account using your Apple ID and password. This will display the <strong>Developer Program Resources</strong> page, as shown in the following screenshot:<div><img src="img/3349_10_01.jpg" alt="How to do it..."/></div></li><li class="listitem">Next, click on the <strong>iTunes Connect</strong> button, as highlighted in the preceding screenshot. This is where <a id="id1015" class="indexterm"/>you have the ability to check on various things such as <strong>Sales and Trends</strong> and <strong>Manage Your Applications</strong>.<div><img src="img/3349_10_02.jpg" alt="How to do it..."/></div></li><li class="listitem">Next, click on <strong>Manage Users</strong> to add yourself or the people within your organization who will be able to <a id="id1016" class="indexterm"/>log in to the iOS Developer Program portal, test apps on iOS devices, and are able to add additional iOS devices to the account.<div><img src="img/3349_10_03.jpg" alt="How to do it..."/></div></li><li class="listitem">Select the <strong>iTunes </strong><a id="id1017" class="indexterm"/><strong>Connect User</strong> button as highlighted in the preceding screenshot. This will <a id="id1018" class="indexterm"/>bring up the <strong>Add New User</strong> option pane from where you can add a new user as shown in the following screenshot:<div><img src="img/3349_10_04.jpg" alt="How to do it..."/></div></li><li class="listitem">The list in the preceding screenshot shows a list of existing users, that have been previously set up along with their details and their assigned roles that they have been set up to have access to.</li><li class="listitem">Next, click on <strong>Add New User</strong> as highlighted in the preceding screenshot.</li><li class="listitem">Then, fill in the <strong>Personal Details</strong> <a id="id1019" class="indexterm"/>section for the person that you will be adding to your development team. Once you have finished, click on the <strong>Continue</strong> button as shown in the following screenshot:<div><img src="img/3349_10_05.jpg" alt="How to do it..."/></div></li><li class="listitem">Next, we need to assign which roles the user will take on as shown in the following screenshot:<div><img src="img/3349_10_06.jpg" alt="How to do it..."/></div></li><li class="listitem">Next, simply choose from one of the four options, and then click on the <strong>Continue</strong> button to proceed to the final step within the wizard.</li><li class="listitem">Next, select the <strong>Notifications</strong> tab as shown in the following screenshot. This section is where we <a id="id1020" class="indexterm"/>will be assigning the relevant notification types and territories that will be assigned to the user:<div><img src="img/3349_10_07.jpg" alt="How to do it..."/></div></li><li class="listitem">Once you have finished specifying the different types of notification methods for each territory, click on <strong>Save Changes</strong>. The new user account will then be created with a confirmation <a id="id1021" class="indexterm"/>e-mail which will be sent to the users account for them to activate their account.</li><li class="listitem">The following table explains each of the different types of notifications that are shown in the preceding screenshot:<div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Notifications</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<strong>App Status</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>Provides <a id="id1022" class="indexterm"/>e-mail alerts with app status updates.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Contract</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>Provides e-mail alerts with <a id="id1023" class="indexterm"/>contract status updates (for example, contract expiration warnings) or if iTunes needs more contractual information.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Financial Report</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>Provides e-mail alerts when <a id="id1024" class="indexterm"/>finance reports are available for download on iTunes Connect.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Payment</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>Provides e-mail alerts when <a id="id1025" class="indexterm"/>payment(s) to your banking institution are returned.</p>
</td></tr></tbody></table></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec388"/>How it works...</h2></div></div></div><p>In this recipe, we looked at the necessary steps required to create and assign roles to users and which user roles are allowed to log into the iOS Developer portal to manage users, view sales or trends, and payments and <a id="id1026" class="indexterm"/>financial reports, as well as those users who have the ability to add new devices in order to test applications on each of the different iOS devices.</p><p>In the next recipe, we will be taking a look at the steps involved to generate an iOS development certificate. This certificate is encrypted and serves the purpose as your digital identification, and you must sign your apps using this certificate before you can run, and test any applications that you develop on your iOS device.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec389"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Creating the iOS development certificate</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec107"/>Creating the iOS development certificate</h1></div></div></div><p>In this recipe, we will learn <a id="id1027" class="indexterm"/>how to create the iOS development certificate to enable us to run and test our apps on an iOS device.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec390"/>Getting ready</h2></div></div></div><p>We will start by generating the iOS development certificate. This certificate is encrypted and serves the purpose as your digital identification. You must sign your apps using this certificate before you can run and test any application that you develop on your iOS device.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec391"/>How to do it…</h2></div></div></div><p>To begin, follow these simple steps as outlined:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch the Keychain Access application which can be found, and located in the <code class="literal">/Applications/Utilities</code> folder.</li><li class="listitem">Next, choose the <strong>Request a Certificate From a Certificate Authority…</strong> option from <strong>Keychain Access</strong> | <strong>Certificate Assistant</strong>, as shown in the following screenshot:<div><img src="img/3349_10_08.jpg" alt="How to do it…"/></div></li><li class="listitem">Next, we need to provide <a id="id1028" class="indexterm"/>some information before the certificate can be generated. Enter the required information as shown in the following screenshot, ensuring that you have selected the <strong>Saved to disk</strong> and the <strong>Let me specify key pair information</strong> options:<div><img src="img/3349_10_09.jpg" alt="How to do it…"/></div></li><li class="listitem">Once all the information has been filled out, click on the <strong>Continue</strong> button. You will be asked to specify a name for the certificate; accept the default suggested name and click <a id="id1029" class="indexterm"/>on the <strong>Save</strong> button.</li><li class="listitem">At this point, the certificate is being created at the location specified. You will be asked to specify the <strong>Key Size</strong> and <strong>Algorithm</strong> to use.</li><li class="listitem">Accept the default bits of <strong>2048 bits</strong> and <strong>RSA Algorithm</strong>. Click on the <strong>Continue</strong> button and then click on <strong>Done</strong> when the final screen appears.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec392"/>How it works...</h2></div></div></div><p>In this recipe, we learned how to generate a certificate request for iOS development <strong>Certificate Signing Request</strong> (<strong>CSR</strong>) <a id="id1030" class="indexterm"/>using the pre-installed Mac OS X Keychain Access application. This certificate is required and will be used to code-sign our iOS applications, enabling us to deploy our applications to an iOS device for development and testing.</p><p>Next, we learned how to use the Certificate Assistant that comes as a part of the Keychain Access application to request a certificate from a certified certificate authority. We then learned how to fill out the information for our certificate, as well as the key pair information for the certificate, that will be used by both the development and distribution provisioning profiles. The <strong>Common </strong>
<a id="id1031" class="indexterm"/>
<strong>Name</strong> field is the name that will be used when you begin code-signing your applications.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec393"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Obtaining the development certificate from Apple</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec108"/>Obtaining the development certificate from Apple</h1></div></div></div><p>In this recipe we will learn how to <a id="id1032" class="indexterm"/>
<a id="id1033" class="indexterm"/>request a development certificate from Apple.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec394"/>Getting ready</h2></div></div></div><p>Following on from our previous recipe, now we will learn how to obtain the development certificate from Apple.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec395"/>How to do it…</h2></div></div></div><p>To begin, follow these simple steps as outlined:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch your browser and log in to the <a id="id1034" class="indexterm"/>iOS Developer portal on the following link <a class="ulink" href="https://developer.apple.com/devcenter/ios/index.action">https://developer.apple.com/devcenter/ios/index.action</a> within the address bar field.</li><li class="listitem">Ensure that you have logged in using your Apple credentials.</li><li class="listitem">Next, click on <strong>iOS Provisioning Portal</strong>, located on the right-hand side of the page.<div><img src="img/3349_10_10.jpg" alt="How to do it…"/></div></li><li class="listitem">Click on the <strong>Certificates</strong> tab, located on the left-hand side of the panel, then click on the <strong>Development</strong> <a id="id1035" class="indexterm"/><a id="id1036" class="indexterm"/>tab as shown in the following screenshot:<div><img src="img/3349_10_11.jpg" alt="How to do it…"/></div></li><li class="listitem">Click on the <strong>Request </strong><a id="id1037" class="indexterm"/><strong>Certificate</strong> button and then click on the <strong>Choose File</strong> button.</li><li class="listitem">Next, select the certificate request file that you created in the previous recipe and click on the <strong>Submit</strong> button once you are done.</li><li class="listitem">At this point, you should see that the certificate would be showing a <strong>Pending Issuance</strong> status. This is shown in the following screenshot:<div><img src="img/3349_10_12.jpg" alt="How to do it…"/></div></li><li class="listitem">After a few seconds, the <a id="id1038" class="indexterm"/><a id="id1039" class="indexterm"/>page will refresh and the certificate will be ready and you will be able to download it.</li><li class="listitem">Once it is downloaded, double-click on the file to install it within the Keychain Access application, as shown in the following screenshot:<div><img src="img/3349_10_13.jpg" alt="How to do it…"/></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec396"/>How it works...</h2></div></div></div><p>In this recipe, we started by requesting a development certificate from Apple which will be used as it provides us the ability to code-sign our applications in order to deploy our apps onto an iOS device. Next, we looked at how to use the generated certificate request file that we created in the previous recipe to generate the development certificate at which point the certificate will be in the <strong>Pending Issuance</strong> state, and after a few seconds your certificate will be made available for download.</p><p>Finally, we looked at how to <a id="id1040" class="indexterm"/>
<a id="id1041" class="indexterm"/>use the downloaded certificate and install it using the Keychain Access application. In our next recipe, we will take a look at how to register an iOS device to be used for development and testing.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec397"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Registering your iOS devices for testing</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec109"/>Registering your iOS devices for testing</h1></div></div></div><p>In this recipe we will learn <a id="id1042" class="indexterm"/>how to register an iOS device so that it can support the <a id="id1043" class="indexterm"/>mobile provisioning profile by using the <strong>Unique Device Identifier</strong> (<strong>UDID</strong>).</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec398"/>Getting ready</h2></div></div></div><p>Following on from our previous recipe, we will learn how to register an iOS device using the UDID, or a <strong>Universally Unique Identifier</strong> (<strong>UUID</strong>) so that it can be used for development and testing.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec399"/>How to do it...</h2></div></div></div><p>To begin, follow these simple steps as outlined:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch Xcode from the <code class="literal">/Xcode4/Applications</code> folder.</li><li class="listitem">Open the <strong>Organizer</strong> window by selecting <strong>Window</strong> | <strong>Organizer</strong>.</li><li class="listitem">Ensure that you have connected your iOS device to your Mac.</li><li class="listitem">Next, copy the <strong>Identifier</strong> field shown in the following screenshot, and save it using your favorite text editor.<div><img src="img/3349_10_14.jpg" alt="How to do it..."/></div></li><li class="listitem">Click on the <strong>Use for Development</strong> option.</li><li class="listitem">The <strong>Use for Development button</strong> option may not always be visible, as this is dependent on whether you <a id="id1044" class="indexterm"/>have specified to use the iOS device previously.</li><li class="listitem">Next, log back into the <strong>Apple iOS Developer Center</strong> page and click on the <strong>iOS Provisioning Portal</strong> link on the right-hand side of the page.</li><li class="listitem">Then, from the <strong>iOS Provisioning Portal</strong> page, click on the <strong>Devices</strong> tab.</li><li class="listitem">After that click on the <strong>Manage</strong> tab, then click on the <strong>Add Devices</strong> button as shown in the following screenshot:<div><img src="img/3349_10_15.jpg" alt="How to do it..."/></div></li><li class="listitem">Next, provide a meaningful name for each device that will be used for testing.</li><li class="listitem">Finally, provide a value <a id="id1045" class="indexterm"/>for <strong>Device Name</strong> and UDID for <strong>Device ID</strong>, and click on the <strong>Submit</strong> button to save your changes.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec400"/>How it works...</h2></div></div></div><p>In this recipe, we looked at the steps required to register an iOS device that will be used for both development and testing, used by the mobile provisioning profile. We learned that for this to happen, you require the UDID of each device that will be used by the provisioning profile. Failure to provide this information will result in errors occurring when you attempt to deploy your application.</p><p>In our next steps, we proceeded to log back into the <strong>iOS Provisioning Portal</strong> to add each of the devices and paste the UDID information for each of the devices. Clicking on the <strong>+</strong> button will allow you to add additional devices at once. Upon clicking on the <strong>Submit</strong> button, you will have successfully registered each of the devices you provided. You will need to go through the same process, if you intend to deploy to additional devices.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec401"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Creating your application App IDs</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec110"/>Creating your application App IDs</h1></div></div></div><p>In this recipe, we will learn <a id="id1046" class="indexterm"/>how to create the application App IDs so that we can use these to deploy our applications to test on the iOS device.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec402"/>Getting ready</h2></div></div></div><p>Following on from our previous recipe, we will learn the steps involved in creating our application App IDs.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec403"/>How to do it...</h2></div></div></div><p>To begin, follow these simple steps as outlined:</p><div><ol class="orderedlist arabic"><li class="listitem">Log back into the <strong>Apple iOS Developer Center</strong> page.</li><li class="listitem">Next, click on the <strong>iOS Provisioning Portal</strong> link on the right-hand side of the page.</li><li class="listitem">Then, click on the <strong>App IDs</strong> menu located at the left-hand side of the page.</li><li class="listitem">Next, click on the <strong>New App ID</strong> button as shown in the following screenshot:<div><img src="img/3349_10_16.jpg" alt="How to do it..."/></div></li><li class="listitem">Next, provide a description that will be used to identify <code class="literal">CoreLocation</code>, as this is the App ID you will be using later.</li><li class="listitem">Click on <strong>Use Team ID</strong> for <strong>Bundle Seed ID (App ID Prefix)</strong>, ensuring that you provide a suitable name for your <strong>Bundle Identifier (App ID Suffix)</strong>.</li><li class="listitem">The <strong>Use Team ID</strong> option <a id="id1047" class="indexterm"/>may not always be visible, as this is dependent on whether you set yourself up as an individual or company. The Bundle Identifier needs to be the same as your application's Bundle Identifier. This can be specified as <code class="literal">12345678.com.yourcompany.yourappname</code> or can be the date of submission that is, <code class="literal">20130512.com.yourcompany.yourappname</code>.</li><li class="listitem">Finally, click on the <strong>Submit</strong> button.<div><img src="img/3349_10_17.jpg" alt="How to do it..."/></div></li><li class="listitem">In the following screenshot, you should now see the newly created App ID that you created in the previous <a id="id1048" class="indexterm"/>step, together with those you may have previously created:<div><img src="img/3349_10_18.jpg" alt="How to do it..."/></div></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec404"/>How it works...</h2></div></div></div><p>In this recipe, we looked at the necessary steps required to create the App ID for our application, which is required for each iOS application that you create and must contain a unique application ID that identifies itself. The App ID is part of the provisioning profile and identifies an app or a suite of related applications. This is used when your applications communicate with the <a id="id1049" class="indexterm"/>iOS hardware accessories, the Apple Push Notification service, and when sharing of data happens between each of your applications.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec405"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Creating the development provisioning profiles</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec111"/>Creating the development provisioning profiles</h1></div></div></div><p>In this recipe, we will learn <a id="id1050" class="indexterm"/>how to create the development provisioning profiles so that the application can be installed on an iOS device.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec406"/>Getting ready</h2></div></div></div><p>Following on from our previous recipe, we will learn the steps involved in creating our development provisioning profiles so that applications can be installed on an iOS device for testing prior to being deployed to the Apple App Store.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec407"/>How to do it...</h2></div></div></div><p>To begin, follow these simple steps as outlined:</p><div><ol class="orderedlist arabic"><li class="listitem">Log back into the <strong>Apple iOS Developer Center</strong> page.</li><li class="listitem">Next, click on the <strong>iOS Provisioning Portal</strong> link on the right-hand side of the page.</li><li class="listitem">Click on the <strong>Provisioning</strong> tab, and then click on the <strong>New Profile</strong> button as shown in the following screenshot:<div><img src="img/3349_10_19.jpg" alt="How to do it..."/></div></li><li class="listitem">Next, enter in <code class="literal">Development_Profile</code> as the value for <strong>Profile Name</strong>, ensuring that you select all the certificates that you would like to associate with this provisioning.</li><li class="listitem">Select <strong>CoreLocation</strong> as the <a id="id1051" class="indexterm"/>value for <strong>App ID</strong> and then check all the devices that you would like to provision, and then click on the <strong>Submit</strong> button once finished.<div><img src="img/3349_10_20.jpg" alt="How to do it..."/></div><div><div><h3 class="title"><a id="tip02"/>Tip</h3><p>You can choose to register additional devices using <strong>iOS Provisioning Portal</strong> by clicking on the <strong>Devices</strong> tab, and then follow the steps outlined in the recipe <em>Registering devices for testing</em> located within this chapter.</p></div></div></li><li class="listitem">At this point, the provisioning <a id="id1052" class="indexterm"/>profile will be shown as a <strong>Pending</strong> approval status. After a few seconds, you should see that the status changes from <strong>Pending</strong> to <strong>Active</strong>. If this does not happen, you may need to refresh your browser. At this point, you will be able to download your mobile provisioning file.<div><img src="img/3349_10_21.jpg" alt="How to do it..."/></div></li><li class="listitem">Click on the <strong>Download</strong> button to download your <strong>Provisioning Profile</strong>. You will notice that when you <a id="id1053" class="indexterm"/>download the mobile provisioning file, the file will be named as <code class="literal">Development_Profile.mobileprovision</code>. In the next recipe we will look at how to deploy an application to an iOS device using this certificate.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec408"/>How it works...</h2></div></div></div><p>In this recipe we learned how to create the provisioning profile so that your applications can be installed onto a real iOS device. This gives you the ability to assign team members who are authorized to install and test an application on each of their devices.</p><p>Whenever you deploy an application onto the iOS device, this will contain the iOS development certificates for each team member, as well as the UDID and the App ID.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec409"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Using the provisioning profile to install the app on an iOS device</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec112"/>Using the provisioning profile to install the app on an iOS device</h1></div></div></div><p>In this recipe we will learn how to <a id="id1054" class="indexterm"/>
<a id="id1055" class="indexterm"/>
<a id="id1056" class="indexterm"/>use the development provisioning profiles so that the application can be installed on an iOS device.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec410"/>Getting ready</h2></div></div></div><p>Following on from our previous recipe, we will learn how to modify one of our existing examples that we created in a previous chapter, so that it can be installed on an iOS device for testing.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec411"/>How to do it...</h2></div></div></div><p>To begin, follow these <a id="id1057" class="indexterm"/>
<a id="id1058" class="indexterm"/>
<a id="id1059" class="indexterm"/>simple steps as outlined:</p><div><ol class="orderedlist arabic"><li class="listitem">Launch Xcode from the <code class="literal">/Xcode4/Applications</code> folder.</li><li class="listitem">Navigate to <strong>File</strong> | <strong>Open</strong> or press <em>Command</em> + <em>O</em>.</li><li class="listitem">Select the <code class="literal">CoreLocation.xcodeproj</code> file.</li><li class="listitem">Next, click on the <strong>Open</strong> button to proceed and open the application into the Xcode Workspace environment.</li><li class="listitem">Next, open the <strong>Organizer</strong> window by navigating to <strong>Window</strong> | <strong>Organizer</strong> or by pressing <em>Shift</em> + <em>Command</em> + <em>2</em>.<div><img src="img/3349_10_22.jpg" alt="How to do it..."/></div></li><li class="listitem">This process will enable us to add the Mobile Provisioning profile that we created in the previous sections to our project.</li><li class="listitem">Then click on the <strong>Import</strong> button and select the <code class="literal">Development_Profile.mobileprovision</code> file, and click on the <strong>Open</strong> button.</li><li class="listitem">Next, select the <code class="literal">CoreLocation</code> project from <strong>Project Navigator</strong>.</li><li class="listitem">Then from the <strong>Build Settings</strong> tab, move to the <strong>Code Signing</strong> section.</li><li class="listitem">Select <strong>Any iOS SDK</strong>, and <a id="id1060" class="indexterm"/><a id="id1061" class="indexterm"/><a id="id1062" class="indexterm"/>choose your certificate from the drop-down list.<div><img src="img/3349_10_23.jpg" alt="How to do it..."/></div></li><li class="listitem">Your certificate will be shown in bold, with your provisioning profile in gray. If you don't import a valid provisioning certificate, you won't be able to deploy or upload your iOS applications to the Apple App Store.</li><li class="listitem">Next, from the <strong>Project Navigator</strong> window, click on your project, click on the <strong>Targets</strong> section, and then click on the <strong>Summary</strong> page.</li><li class="listitem">Scroll down till you get to the <strong>Entitlements</strong> section, and check the <strong>Enable Entitlements</strong> checkbox. This will add a file called <code class="literal">CoreLocation.entitlements</code> to your project.</li><li class="listitem">When you select the <strong>Enable Entitlements</strong> checkbox, Xcode creates an <code class="literal">entitlements</code> file for you (if one does not exist) and adds a Keychain Access Groups key-value pair and you need to remember that they are directly bound to your applications provisioning profile.</li><li class="listitem">Build and run your application to see if all works well. You will be asked to grant access to the certificate. Click on <strong>Always Allow</strong>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec412"/>How it works...</h2></div></div></div><p>In this recipe we learned how to import the mobile provisioning profile for our development certificate and then modify the <code class="literal">CoreLocation </code>example application that we created in a previous chapter so that it can be deployed onto an iOS device using this provisioning profile. We then looked at how to modify the <strong>Code Signing Entitlements</strong> section of the project to ensure that the <strong>Code Signing Identity</strong> fields reflect the mobile provisioning details.</p><p>In our final steps, we learned <a id="id1063" class="indexterm"/>
<a id="id1064" class="indexterm"/>
<a id="id1065" class="indexterm"/>how to add the <code class="literal">entitlements</code> file to the project. This file is an important file, and is required whenever an application needs to be deployed onto an iOS device for testing or to be deployed to the Apple App Store.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec413"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Archiving and submitting apps using Xcode 4</em> recipe</li><li class="listitem" style="list-style-type: disc">The <em>Requesting entitlements for iCloud Storage</em> recipe in <a class="link" href="ch06.html" title="Chapter 6. Storing Documents within the Cloud">Chapter 6</a>, <em>Storing Documents within the Cloud</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec113"/>Preparing an application for submission to the App Store using iTunes Connect</h1></div></div></div><p>In this recipe, we will learn <a id="id1066" class="indexterm"/>
<a id="id1067" class="indexterm"/>how to prepare an application for submission to the Apple App Store.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec414"/>Getting ready</h2></div></div></div><p>Following on from our previous recipe, when you have tested your application to ensure that it all works and is free from errors and that you have set up all of your accounts, you will want to start uploading your application to the Apple App Store.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec415"/>How to do it...</h2></div></div></div><p>To begin, follow these simple steps as outlined:</p><div><ol class="orderedlist arabic"><li class="listitem">Log into <strong>iTunes Connect</strong>, and then click on the <strong>Manage Your Applications</strong> option.<div><img src="img/3349_10_27.jpg" alt="How to do it..."/></div></li><li class="listitem">Next, click on the <strong>Add New App</strong> link to begin adding your app to the App Store.</li><li class="listitem">Next, proceed to enter in the <a id="id1068" class="indexterm"/><a id="id1069" class="indexterm"/>application details for the application we are uploading.</li><li class="listitem">Click on the <strong>Continue</strong> button to proceed with the next step. The <strong>SKU Number</strong> is a unique identifier that you create for your app as shown in the following screenshot:<div><img src="img/3349_10_28.jpg" alt="How to do it..."/></div></li><li class="listitem">In the next step, we specify values for <strong>Availability Date</strong> and <strong>Price Tier</strong> of the application when it will be made <a id="id1070" class="indexterm"/><a id="id1071" class="indexterm"/>available for download as shown in the following screenshot:<div><img src="img/3349_10_29.jpg" alt="How to do it..."/></div></li><li class="listitem">There are more than 87 pricing tiers to choose from, including an option for selling your application for free. On clicking on the <strong>Continue</strong> button, you will be directed to the Metadata screen, where you are required to fill in the information pertaining to your application. The fields in that screen along with their description are listed in the following table:<div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Screen field</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<strong>Version </strong>
<a id="id1072" class="indexterm"/>
<strong>Number</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>This can be anything that you like. It is preferable to start at <code class="literal">1.0</code>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Description</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>This is the <a id="id1073" class="indexterm"/>application description that can contain up to 4,000 characters.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Primary Category</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>These contain up to <a id="id1074" class="indexterm"/>20 different categories to choose from, including <strong>Games</strong>, <strong>Entertainment</strong>, <strong>Business</strong>, <strong>Books</strong>, and so on.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Secondary Category</strong> (optional)</p>
</td><td style="text-align: left" valign="top">
<p>You can <a id="id1075" class="indexterm"/>choose from <strong>Secondary Category</strong>.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Keywords</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>These help return <a id="id1076" class="indexterm"/>results faster when a customer is searching for an application within iTunes.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Copyright</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>The name of the <a id="id1077" class="indexterm"/>person or entity that owns the exclusive rights to the app, preceded by the year the rights were obtained (for example, <code class="literal">2013 GENIESOFT STUDIOS</code>).</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Contact Email Address</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>An e-mail address <a id="id1078" class="indexterm"/>where users can contact you, if there are problems with your app.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Support URL</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>A URL that provides <a id="id1079" class="indexterm"/>support for the app you are adding. This will be visible to customers on the App Store.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>App URL</strong> (optional)</p>
</td><td style="text-align: left" valign="top">
<p>A URL with information <a id="id1080" class="indexterm"/>about the app you are adding. If provided, this will be visible to customers on the App Store.</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Review Notes</strong> (optional)</p>
</td><td style="text-align: left" valign="top">
<p>Additional information <a id="id1081" class="indexterm"/>about your app and/or your in-app purchases. <strong>Review Notes</strong> cannot be longer than 4000 bytes.</p>
</td></tr></tbody></table></div></li></ol></div><p>When Apple released their iOS 3.0, they <a id="id1082" class="indexterm"/>
<a id="id1083" class="indexterm"/>included a rating scheme that allowed parents to control which applications their children could download. This is a compulsory area of the application distribution process, and must be completed before you can submit your application. The rating scheme can be seen in the following screenshot:</p><div><img src="img/3349_10_30.jpg" alt="How to do it..."/></div><p>The age limit will change depending on how you go about rating your application. Ensure that you rate this correctly as Apple uses this <a id="id1084" class="indexterm"/>
<a id="id1085" class="indexterm"/>information during their internal process and reviews how you score your application.</p><div><div><h3 class="title"><a id="note74"/>Note</h3><p>For more information about submitting your apps, check out the following link at <a class="ulink" href="https://developer.apple.com/library/ios/#documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/11_EditingandUpdatingAppInformation/EditingandUpdatingAppInformation.html">https://developer.apple.com/library/ios/#documentation/LanguagesUtilities/Conceptual/iTunesConnect_Guide/11_EditingandUpdatingAppInformation/EditingandUpdatingAppInformation.html</a><code class="literal">#//apple_ref/doc/uid/TP40011225-CH14-SW40</code>.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec416"/>How it works...</h2></div></div></div><p>In this recipe we learned the steps involved in preparing an application for submission to the Apple App Store using iTunes Connect. We learned that before submitting your applications for approval to the Apple App Store, you must ensure that it all works properly and is free from problems. Next, we looked at how to create a new application ID for the application that is being uploaded on the Apple App Store, providing detailed information about the application, as well as the date that it becomes available.</p><p>In the next step, we looked at how to specify the Pricing Tier for the application being uploaded, with the ability to choose from over 87 pricing tiers, with an added ability to sell your application for free, should you ever have the need to.</p><p>How much you should charge for your application is a tough question amongst developers and companies selling their applications on the App Store. One of the tactics that I have found many developers seem to adopt is to start selling their application at $6.99 and then, shortly after release, they temporarily drop the price by a couple of dollars, or sometimes offer 50 to 80 percent off the price for a limited time.</p><p>By reducing the price, this will create a surefire sale, encouraging people to rush in and purchase before the limited time expires, <a id="id1086" class="indexterm"/>
<a id="id1087" class="indexterm"/>which can also increase the number of sales for your application within the iTunes App Store, hence getting it into the top ten, or even to number one.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec417"/>There's more...</h2></div></div></div><p>Before submitting your apps to the Apple App Store for approval, it is best to ensure that your application works correctly and is free from errors, and the iOS simulator is a good place to start. Although not everything can be tested within the simulator, it proves a good starting point. Whilst your application may run perfectly within the simulator, problems may still exist when it has been deployed to the iOS device. It is therefore always best to deploy this to a real iOS device running the latest versions of iOS.</p><p>You can also make use of the Instruments application to ensure that no memory leaks exist within your application and avoid having your application crash on the users' iOS device. If your application crashes, it could also prevent your application from being successfully approved and being displayed on the App Store by Apple.</p><p>Whenever you want to proceed to submit your applications to the Apple App Store, please bear in mind that only a release version of your application that can be uploaded.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec418"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Archiving and submitting apps using Xcode 4</em> recipe</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec114"/>Archiving and submitting apps using Xcode 4</h1></div></div></div><p>In this recipe we will learn <a id="id1088" class="indexterm"/>
<a id="id1089" class="indexterm"/>
<a id="id1090" class="indexterm"/>
<a id="id1091" class="indexterm"/>how to archive an app ready for submission to the Apple App Store using the Xcode 4 Integrated Development Environment.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec419"/>Getting ready</h2></div></div></div><p>Following on from our previous recipe, ensure that our <code class="literal">CoreLocation</code> project file is open.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec420"/>How to do it...</h2></div></div></div><p>To begin, follow these simple steps as outlined:</p><div><ol class="orderedlist arabic"><li class="listitem">From the Project Navigator window, click on your project and then click on the <strong>TARGETS</strong> <a id="id1092" class="indexterm"/><a id="id1093" class="indexterm"/><a id="id1094" class="indexterm"/><a id="id1095" class="indexterm"/>section and then click on the <strong>Build Settings</strong> section.</li><li class="listitem">Next, click on the <strong>Build Settings</strong> tab and then navigate to <strong>Build Options</strong> | <strong>Validate Built Product</strong> | <strong>Release</strong> and set it as <strong>Yes</strong>.<div><img src="img/3349_10_24.jpg" alt="How to do it..."/></div></li><li class="listitem">Navigate to <strong>Product</strong> | <strong>Edit Scheme…</strong> or alternatively press the <em>Command</em> + <em>&lt;</em> key combinations.</li><li class="listitem">Next, ensure that <strong>Destination</strong> has been set to use <strong>iOS Device</strong>, and <strong>Build Configuration</strong> has been set to use the <strong>Release</strong> scheme.<div><img src="img/3349_10_25.jpg" alt="How to do it..."/></div></li><li class="listitem">Navigate to <strong>Product</strong> | <strong>Archive</strong> from the <strong>Xcode</strong> menu, and it will begin to create the application <a id="id1096" class="indexterm"/><a id="id1097" class="indexterm"/><a id="id1098" class="indexterm"/><a id="id1099" class="indexterm"/>archive as shown in the following screenshot:<div><img src="img/3349_10_26.jpg" alt="How to do it..."/></div></li><li class="listitem">Click on the <strong>Validate…</strong> button to have Xcode validate your app. You will need to sign in with your Apple ID in order to proceed.</li><li class="listitem">Once you have satisfied the necessary validation requirements, click on the <strong>Distribute…</strong> button to submit your application to Apple.</li><li class="listitem">For more information on <a id="id1100" class="indexterm"/><a id="id1101" class="indexterm"/><a id="id1102" class="indexterm"/><a id="id1103" class="indexterm"/>other ways of distributing your applications check out the provided link made available <a id="id1104" class="indexterm"/>through the Apple Developer Connection website at <a class="ulink" href="http://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/Xcode4UserGuide/090-Distribute_Your_App/distribute_app.html">http://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/Xcode4UserGuide/090-Distribute_Your_App/distribute_app.html</a>.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec421"/>How it works...</h2></div></div></div><p>In this recipe before archiving your application, you need to ensure that the target application file is self-contained. What this means is that, if the target application file relies on any static libraries, it ensures that those libraries are a part of the application binary, by setting <strong>Validate Built Product</strong> | <strong>Release</strong> to <strong>Yes</strong> within the <strong>Build Settings</strong> section of the target that builds and archives the application.</p><p>In our next step we needed to make sure the Archive action of the scheme has the appropriate destination set for the type of application to be archived before submitting an application to the App Store or sharing it with others; you create an application archive that will enable you to share your App (IPA) with other developers and testers or distribute it to users. In order to have your application considered for inclusion on the Apple App Store, you must submit the archive to iTunes Connect. This is to ensure that your application archive passes the <a id="id1105" class="indexterm"/>
<a id="id1106" class="indexterm"/>
<a id="id1107" class="indexterm"/>
<a id="id1108" class="indexterm"/>essential iTunes Connect validation tests. Xcode can validate this for you before you submit it.</p></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec422"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The <em>Preparing an application for submission to the App Store using iTunes Connect</em> recipe</li></ul></div></div></div></body></html>