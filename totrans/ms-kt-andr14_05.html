<html><head></head><body>
<div id="_idContainer067" class="calibre2">
<h1 class="chapter-number" id="_idParaDest-49"><a id="_idTextAnchor055" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.1.1">4</span></h1>
<h1 id="_idParaDest-50" class="calibre6"><a id="_idTextAnchor056" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.2.1">Design with Material Design 3</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.3.1">Material Design is a design system developed by Google. </span><span class="kobospan" id="kobo.3.2">It helps us create beautiful UIs. </span><span class="kobospan" id="kobo.3.3">It provides a set of guidelines and components for us to use as we’re developing our </span><span><span class="kobospan" id="kobo.4.1">Android apps.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.5.1">In this chapter, we’ll introduce ourselves to </span><strong class="bold"><span class="kobospan" id="kobo.6.1">Material 3</span></strong><span class="kobospan" id="kobo.7.1">. </span><span class="kobospan" id="kobo.7.2">We will also cover the features that Material 3 offers. </span><span class="kobospan" id="kobo.7.3">Lastly, we will learn how to use Material 3 in our Android apps and some of the components in </span><span><span class="kobospan" id="kobo.8.1">Material 3.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.9.1">In this chapter, we’re going to cover the following </span><span><span class="kobospan" id="kobo.10.1">main topics:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.11.1">Material Design 3 and </span><span><span class="kobospan" id="kobo.12.1">its features</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.13.1">Using Material Design 3 in </span><span><span class="kobospan" id="kobo.14.1">our apps</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.15.1">Building for large screens </span><span><span class="kobospan" id="kobo.16.1">and foldables</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.17.1">Making our </span><span><span class="kobospan" id="kobo.18.1">app accessible</span></span></li>
</ul>
<h1 id="_idParaDest-51" class="calibre6"><a id="_idTextAnchor057" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.19.1">Technical requirements</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.20.1">To follow the instructions in this chapter, you will need to have Android Studio Hedgehog or later (</span><a href="https://developer.android.com/studio" class="calibre3 pcalibre pcalibre1"><span><span class="kobospan" id="kobo.21.1">https://developer.android.com/studio</span></span></a><span><span class="kobospan" id="kobo.22.1">) downloaded.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.23.1">You can find the code for this chapter </span><span><span class="kobospan" id="kobo.24.1">at </span></span><a href="https://github.com/PacktPublishing/Mastering-Kotlin-for-Android/tree/main/chapterfour" class="calibre3 pcalibre pcalibre1"><span><span class="kobospan" id="kobo.25.1">https://github.com/PacktPublishing/Mastering-Kotlin-for-Android/tree/main/chapterfour</span></span></a><span><span class="kobospan" id="kobo.26.1">.</span></span></p>
<h1 id="_idParaDest-52" class="calibre6"><a id="_idTextAnchor058" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.27.1">Material Design 3 and its features</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.28.1">The release of </span><strong class="bold"><span class="kobospan" id="kobo.29.1">Material Design 3</span></strong><span class="kobospan" id="kobo.30.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.31.1">Material 3</span></strong><span class="kobospan" id="kobo.32.1">) came with lots of new features to help us build UIs for our apps. </span><span class="kobospan" id="kobo.32.2">Here are some of the</span><a id="_idIndexMarker163" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.33.1"> features of Material </span><span><span class="kobospan" id="kobo.34.1">Design 3:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.35.1">Dynamic color</span></strong><span class="kobospan" id="kobo.36.1">: This is a color system that sets the color of our apps to the color of the user’s wallpaper. </span><span class="kobospan" id="kobo.36.2">The System UI also adapts to this color. </span><span class="kobospan" id="kobo.36.3">This enables users to have that personalized feel for their apps. </span><span class="kobospan" id="kobo.36.4">Please note that dynamic color only works for Android 12 and </span><span><span class="kobospan" id="kobo.37.1">above devices.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.38.1">More components</span></strong><span class="kobospan" id="kobo.39.1">: Material 3 has a new set of improved components that are available for use. </span><span class="kobospan" id="kobo.39.2">Some components have new UIs and others have been added to </span><span><span class="kobospan" id="kobo.40.1">the APIs.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.41.1">Simplified typography</span></strong><span class="kobospan" id="kobo.42.1">: Material 3 has a much more simplified naming and grouping for typography. </span><span class="kobospan" id="kobo.42.2">We have the following types: </span><strong class="bold"><span class="kobospan" id="kobo.43.1">display</span></strong><span class="kobospan" id="kobo.44.1">, </span><strong class="bold"><span class="kobospan" id="kobo.45.1">headline</span></strong><span class="kobospan" id="kobo.46.1">, </span><strong class="bold"><span class="kobospan" id="kobo.47.1">title</span></strong><span class="kobospan" id="kobo.48.1">, </span><strong class="bold"><span class="kobospan" id="kobo.49.1">body</span></strong><span class="kobospan" id="kobo.50.1">, and </span><strong class="bold"><span class="kobospan" id="kobo.51.1">label</span></strong><span class="kobospan" id="kobo.52.1">, with each supporting </span><em class="italic"><span class="kobospan" id="kobo.53.1">small</span></em><span class="kobospan" id="kobo.54.1">, </span><em class="italic"><span class="kobospan" id="kobo.55.1">medium</span></em><span class="kobospan" id="kobo.56.1">, and </span><em class="italic"><span class="kobospan" id="kobo.57.1">large</span></em><span class="kobospan" id="kobo.58.1"> sizes. </span><span class="kobospan" id="kobo.58.2">This makes it easier for us to define styles all across </span><span><span class="kobospan" id="kobo.59.1">our apps.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.60.1">Improved color scheme</span></strong><span class="kobospan" id="kobo.61.1">: The color scheme has undergone a lot of improvements with the addition of more color schemes to fine-grain color customization. </span><span class="kobospan" id="kobo.61.2">It’s also way easier for us to support both dark and light color schemes in our apps. </span><span class="kobospan" id="kobo.61.3">In addition to that, they created a new tool, Material Theme Builder (</span><a href="https://m3.material.io/theme-builder" class="calibre3 pcalibre pcalibre1"><span class="kobospan" id="kobo.62.1">https://m3.material.io/theme-builder</span></a><span class="kobospan" id="kobo.63.1">), which allows us to generate and export dark and </span><a id="_idIndexMarker164" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.64.1">light theme colors for </span><span><span class="kobospan" id="kobo.65.1">our apps.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.66.1">Simplified shapes</span></strong><span class="kobospan" id="kobo.67.1">: Similar to typography, shapes have also been simplified to the following: </span><strong class="bold"><span class="kobospan" id="kobo.68.1">Extra Small</span></strong><span class="kobospan" id="kobo.69.1">, </span><strong class="bold"><span class="kobospan" id="kobo.70.1">Small</span></strong><span class="kobospan" id="kobo.71.1">, </span><strong class="bold"><span class="kobospan" id="kobo.72.1">Medium</span></strong><span class="kobospan" id="kobo.73.1">, </span><strong class="bold"><span class="kobospan" id="kobo.74.1">Large</span></strong><span class="kobospan" id="kobo.75.1">, and </span><strong class="bold"><span class="kobospan" id="kobo.76.1">Extra Large</span></strong><span class="kobospan" id="kobo.77.1">. </span><span class="kobospan" id="kobo.77.2">All these shapes come with default values, which we can always override to use </span><span><span class="kobospan" id="kobo.78.1">our own.</span></span></li>
</ul>
<p class="calibre4"><span class="kobospan" id="kobo.79.1">The good news for us is that from Android Studio Hedgehog onward, we have project templates that come set up with Material 3, which makes things easier for us. </span><span class="kobospan" id="kobo.79.2">Even the project we created in </span><a href="B19779_02.xhtml#_idTextAnchor031" class="calibre3 pcalibre pcalibre1"><span><em class="italic"><span class="kobospan" id="kobo.80.1">Chapter 2</span></em></span></a><span class="kobospan" id="kobo.81.1"> comes with Material 3 set </span><span><span class="kobospan" id="kobo.82.1">up already.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.83.1">Material 3 APIs and their predecessors offer a wide range of components for us to use in our apps. </span><span class="kobospan" id="kobo.83.2">In the next</span><a id="_idIndexMarker165" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.84.1"> subsection, we will be looking at some of the </span><span><span class="kobospan" id="kobo.85.1">common ones.</span></span></p>
<h2 id="_idParaDest-53" class="calibre7"><a id="_idTextAnchor059" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.86.1">Material components</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.87.1">The Material library</span><a id="_idIndexMarker166" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.88.1"> comes with prebuilt components that we can use to build common UI components. </span><span class="kobospan" id="kobo.88.2">Let us look at some of the commonly used components and some of the updates they had in </span><span><span class="kobospan" id="kobo.89.1">Material 3.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.90.1">Top app bars</span></h3>
<p class="calibre4"><span class="kobospan" id="kobo.91.1">This is a </span><a id="_idIndexMarker167" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.92.1">component displayed at the top of the screen. </span><span class="kobospan" id="kobo.92.2">It has a title and can also have some actions that are related to the screen the user is on. </span><span class="kobospan" id="kobo.92.3">Some of the common actions are the settings icon normally at the top right of the screen. </span><span class="kobospan" id="kobo.92.4">In Material 3, we have four types of top app bars: </span><strong class="bold"><span class="kobospan" id="kobo.93.1">center-aligned</span></strong><span class="kobospan" id="kobo.94.1">, </span><strong class="bold"><span class="kobospan" id="kobo.95.1">small</span></strong><span class="kobospan" id="kobo.96.1">, </span><strong class="bold"><span class="kobospan" id="kobo.97.1">medium</span></strong><span class="kobospan" id="kobo.98.1">, and </span><strong class="bold"><span class="kobospan" id="kobo.99.1">large</span></strong><span class="kobospan" id="kobo.100.1">, as shown in the </span><span><span class="kobospan" id="kobo.101.1">following figures.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer052">
<span class="kobospan" id="kobo.102.1"><img alt="Figure 4.1 – Small top app bar" src="image/B19779_04_01.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.103.1">Figure 4.1 – Small top app bar</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer053">
<span class="kobospan" id="kobo.104.1"><img alt="Figure 4.2 – Center-aligned top app bar" src="image/B19779_04_02.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.105.1">Figure 4.2 – Center-aligned top app bar</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer054">
<span class="kobospan" id="kobo.106.1"><img alt="Figure 4.3 – Medium top app bar" src="image/B19779_04_03.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.107.1">Figure 4.3 – Medium top app bar</span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer055">
<span class="kobospan" id="kobo.108.1"><img alt="Figure 4.4 – Large top app bar" src="image/B19779_04_04.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.109.1">Figure 4.4 – Large top app bar</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.110.1">As seen in </span><em class="italic"><span class="kobospan" id="kobo.111.1">Figures 4.1</span></em><span class="kobospan" id="kobo.112.1"> to </span><em class="italic"><span class="kobospan" id="kobo.113.1">4.4</span></em><span class="kobospan" id="kobo.114.1">, all the</span><a id="_idIndexMarker168" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.115.1"> top bars have the same width and only differ in height and positioning of the </span><span><span class="kobospan" id="kobo.116.1">title text.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.117.1">Let us look at the sample code for one of these top </span><span><span class="kobospan" id="kobo.118.1">app bars:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.119.1">
@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun PacktCenterAlignedTopBar() {
    CenterAlignedTopAppBar(
        title = {
            Text(text = "Packt Publishing")
        }
    )
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.120.1">Here, we have our custom composable and, inside it, we are using the </span><strong class="source-inline"><span class="kobospan" id="kobo.121.1">CenterAlignedTopBar</span></strong><span class="kobospan" id="kobo.122.1"> composable from Material 3 and passing in </span><strong class="source-inline"><span class="kobospan" id="kobo.123.1">Text</span></strong><span class="kobospan" id="kobo.124.1"> to the </span><strong class="source-inline"><span class="kobospan" id="kobo.125.1">title</span></strong><span class="kobospan" id="kobo.126.1"> composable. </span><span class="kobospan" id="kobo.126.2">The other three (</span><strong class="source-inline"><span class="kobospan" id="kobo.127.1">LargeTopAppBar</span></strong><span class="kobospan" id="kobo.128.1">, </span><strong class="source-inline"><span class="kobospan" id="kobo.129.1">MediumTopAppBar</span></strong><span class="kobospan" id="kobo.130.1">, and </span><strong class="source-inline"><span class="kobospan" id="kobo.131.1">TopAppBar</span></strong><span class="kobospan" id="kobo.132.1">) are similar; the only difference is the composable that you will use. </span><span class="kobospan" id="kobo.132.2">Notice that we have the </span><strong class="source-inline"><span class="kobospan" id="kobo.133.1">@OptIn</span></strong><span class="kobospan" id="kobo.134.1"> annotation as these components are </span><span><span class="kobospan" id="kobo.135.1">still experimental.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.136.1">Next, let us look at the </span><span><strong class="source-inline"><span class="kobospan" id="kobo.137.1">FloatingActionButton</span></strong></span><span><span class="kobospan" id="kobo.138.1"> component.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.139.1">FloatingActionButton</span></h3>
<p class="calibre4"><span class="kobospan" id="kobo.140.1">Most apps use the component to represent a call to action that is frequently used in the app. </span><span class="kobospan" id="kobo.140.2">For example, create a new chat in a chat app. </span><span class="kobospan" id="kobo.140.3">It is normally positioned at the bottom right of the screen or </span><a id="_idIndexMarker169" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.141.1">elsewhere, depending on your use case. </span><span class="kobospan" id="kobo.141.2">This is how we create </span><span><span class="kobospan" id="kobo.142.1">the component:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.143.1">
FloatingActionButton(
    onClick = { /*TODO*/ },
    content = {
        Icon(
            imageVector = Icons.Default.Add ,
            contentDescription = "New Chat"
        )
    }
)</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.144.1">We use the </span><strong class="source-inline"><span class="kobospan" id="kobo.145.1">FloatingActionButton</span></strong><span class="kobospan" id="kobo.146.1"> component from the Material 3 library. </span><span class="kobospan" id="kobo.146.2">We have the </span><strong class="source-inline"><span class="kobospan" id="kobo.147.1">onclick</span></strong><span class="kobospan" id="kobo.148.1"> argument on the composable and, inside the </span><strong class="source-inline"><span class="kobospan" id="kobo.149.1">content</span></strong><span class="kobospan" id="kobo.150.1"> lambda, we pass in an </span><strong class="source-inline"><span class="kobospan" id="kobo.151.1">Icon</span></strong><span class="kobospan" id="kobo.152.1"> composable that has an </span><em class="italic"><span class="kobospan" id="kobo.153.1">add</span></em><span class="kobospan" id="kobo.154.1"> icon. </span><span class="kobospan" id="kobo.154.2">The preview should be </span><span><span class="kobospan" id="kobo.155.1">the following:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer056">
<span class="kobospan" id="kobo.156.1"><img alt="Figure 4.5 – FloatingActionButton" src="image/B19779_04_05.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.157.1">Figure 4.5 – FloatingActionButton</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.158.1">The </span><strong class="source-inline"><span class="kobospan" id="kobo.159.1">FloatingActionButton</span></strong><span class="kobospan" id="kobo.160.1"> component has these sizes: large, normal, and small, and you can use whichever fits</span><a id="_idIndexMarker170" class="calibre3 pcalibre pcalibre1"/> <span><span class="kobospan" id="kobo.161.1">your purpose.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.162.1">We have another type of </span><strong class="source-inline"><span class="kobospan" id="kobo.163.1">FloatingActionButton</span></strong><span class="kobospan" id="kobo.164.1"> component known as </span><strong class="source-inline"><span class="kobospan" id="kobo.165.1">ExtendedFloatingActionButton</span></strong><span class="kobospan" id="kobo.166.1">, which looks </span><span><span class="kobospan" id="kobo.167.1">like this:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer057">
<span class="kobospan" id="kobo.168.1"><img alt="Figure 4.6 – ExtendedFloatingActionButton" src="image/B19779_04_06.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.169.1">Figure 4.6 – ExtendedFloatingActionButton</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.170.1">As seen in the preceding figure, an </span><strong class="source-inline"><span class="kobospan" id="kobo.171.1">ExtendedFloatingActionButton</span></strong><span class="kobospan" id="kobo.172.1"> component allows us to add more items to our FAB. </span><span class="kobospan" id="kobo.172.2">They are wider than the normal </span><strong class="source-inline"><span class="kobospan" id="kobo.173.1">FloatActionButton</span></strong><span class="kobospan" id="kobo.174.1"> components. </span><span class="kobospan" id="kobo.174.2">In this case, we have a </span><strong class="source-inline"><span class="kobospan" id="kobo.175.1">Text</span></strong><span class="kobospan" id="kobo.176.1"> composable with the text </span><strong class="bold"><span class="kobospan" id="kobo.177.1">New Chat</span></strong><span class="kobospan" id="kobo.178.1"> in addition to the icon. </span><span class="kobospan" id="kobo.178.2">You can use it with or without the icon. </span><span class="kobospan" id="kobo.178.3">The implementation for this is </span><span><span class="kobospan" id="kobo.179.1">as follows:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.180.1">
ExtendedFloatingActionButton(
    onClick = { /*TODO*/ },
    content = {
        Icon(
            imageVector = Icons.Default.Add ,
            contentDescription = "New Chat"
        )
        Text(
            modifier = Modifier.padding(10.dp),
            text = "New Chat"
        )
    }
)</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.181.1">Here, we used the </span><strong class="source-inline"><span class="kobospan" id="kobo.182.1">ExtendedFloatingActionButton</span></strong><span class="kobospan" id="kobo.183.1"> component and still passed in the same parameters as before. </span><span class="kobospan" id="kobo.183.2">The only difference is that inside the content, we pass in a text since the </span><strong class="source-inline"><span class="kobospan" id="kobo.184.1">content</span></strong><span class="kobospan" id="kobo.185.1"> lambda exposes </span><strong class="source-inline"><span class="kobospan" id="kobo.186.1">RowScope</span></strong><span class="kobospan" id="kobo.187.1">, which means children composables will be</span><a id="_idIndexMarker171" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.188.1"> arranged in </span><span><span class="kobospan" id="kobo.189.1">a row.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.190.1">Next, let us look at the bottom app </span><span><span class="kobospan" id="kobo.191.1">bar components.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.192.1">Bottom app bars</span></h3>
<p class="calibre4"><span class="kobospan" id="kobo.193.1">The bottom app bar components </span><a id="_idIndexMarker172" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.194.1">display navigation items at the bottom of the screen. </span><span class="kobospan" id="kobo.194.2">They are normally useful for apps that have three to five </span><span><span class="kobospan" id="kobo.195.1">primary destinations.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.196.1">Let us look at the code for a bottom </span><span><span class="kobospan" id="kobo.197.1">app bar:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.198.1">
BottomAppBar(
    actions = {
        Icon(imageVector = Icons.Rounded.Home, contentDescription = "Home Screen")
        Icon(imageVector = Icons.Rounded.ShoppingCart, contentDescription = "Cart Screen")
        Icon(imageVector = Icons.Rounded.AccountCircle, contentDescription = "Account Screen")
    }
)</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.199.1">We use the </span><strong class="source-inline"><span class="kobospan" id="kobo.200.1">BottomAppBar</span></strong><span class="kobospan" id="kobo.201.1"> component and, inside the </span><strong class="source-inline"><span class="kobospan" id="kobo.202.1">actions</span></strong><span class="kobospan" id="kobo.203.1"> lambda, we pass in three </span><strong class="source-inline"><span class="kobospan" id="kobo.204.1">Icon</span></strong><span class="kobospan" id="kobo.205.1"> composables to represent the items we are supposed to show. </span><span class="kobospan" id="kobo.205.2">This is how the preview of the composable </span><a id="_idIndexMarker173" class="calibre3 pcalibre pcalibre1"/><span><span class="kobospan" id="kobo.206.1">will look:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer058">
<span class="kobospan" id="kobo.207.1"><img alt="Figure 4.7 – BottomAppBar" src="image/B19779_04_07.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.208.1">Figure 4.7 – BottomAppBar</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.209.1">In </span><span><em class="italic"><span class="kobospan" id="kobo.210.1">Figure 4</span></em></span><em class="italic"><span class="kobospan" id="kobo.211.1">,7</span></em><span class="kobospan" id="kobo.212.1">, we can see we have three icons </span><span><span class="kobospan" id="kobo.213.1">arranged horizontally.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.214.1">Additionally, in </span><strong class="source-inline"><span class="kobospan" id="kobo.215.1">BottomAppBar</span></strong><span class="kobospan" id="kobo.216.1">, we can also provision a </span><strong class="source-inline"><span class="kobospan" id="kobo.217.1">FloatingActionButton</span></strong><span class="kobospan" id="kobo.218.1"> component. </span><span class="kobospan" id="kobo.218.2">We are going to use the </span><strong class="source-inline"><span class="kobospan" id="kobo.219.1">FloatingActionButton</span></strong><span class="kobospan" id="kobo.220.1"> component that we used early on. </span><span class="kobospan" id="kobo.220.2">The updated component code is </span><span><span class="kobospan" id="kobo.221.1">as follows:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.222.1">
BottomAppBar(
    actions = {
        Icon(imageVector = Icons.Rounded.Home, contentDescription = "Home Screen")
        Icon(imageVector = Icons.Rounded.ShoppingCart, contentDescription = "Cart Screen")
        Icon(imageVector = Icons.Rounded.AccountCircle, contentDescription = "Account Screen")
    },
    floatingActionButton = {
        PacktFloatingActionButton()
    }
)</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.223.1">In the preceding code, we have used the </span><strong class="source-inline"><span class="kobospan" id="kobo.224.1">floatingActionButton</span></strong><span class="kobospan" id="kobo.225.1"> parameter and passed in </span><strong class="source-inline"><span class="kobospan" id="kobo.226.1">PacktFloatingActionButton()</span></strong><span class="kobospan" id="kobo.227.1"> that we created earlier. </span><span class="kobospan" id="kobo.227.2">The updated preview will be </span><span><span class="kobospan" id="kobo.228.1">as follows:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer059">
<span class="kobospan" id="kobo.229.1"><img alt="Figure 4.8 – BottomAppBar with FloatingActionButton" src="image/B19779_04_08.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.230.1">Figure 4.8 – BottomAppBar with FloatingActionButton</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.231.1">As seen in the preceding figure, our </span><strong class="source-inline"><span class="kobospan" id="kobo.232.1">BottomAppBar</span></strong><span class="kobospan" id="kobo.233.1"> now has a nice </span><strong class="source-inline"><span class="kobospan" id="kobo.234.1">FloatingActionButton</span></strong><span class="kobospan" id="kobo.235.1"> to</span><a id="_idIndexMarker174" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.236.1"> its right. </span><span class="kobospan" id="kobo.236.2">The FAB is automatically positioned for you to </span><span><span class="kobospan" id="kobo.237.1">the right.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.238.1">We have looked at the different components in isolation, but what happens when we want to place them on one screen together? </span><span class="kobospan" id="kobo.238.2">Next, we are going to look at </span><strong class="source-inline"><span class="kobospan" id="kobo.239.1">Scaffold</span></strong><span class="kobospan" id="kobo.240.1">, which is meant </span><span><span class="kobospan" id="kobo.241.1">for this.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.242.1">Scaffold</span></h3>
<p class="calibre4"><span class="kobospan" id="kobo.243.1">This is a layout provided by Material Design that helps place all components on your screen in their desired </span><a id="_idIndexMarker175" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.244.1">positions </span><span><span class="kobospan" id="kobo.245.1">with ease.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.246.1">Let us look at a sample of </span><strong class="source-inline"><span class="kobospan" id="kobo.247.1">Scaffold</span></strong><span class="kobospan" id="kobo.248.1"> that has a top app bar, a floating action button, text center-aligned on the screen, and a bottom </span><span><span class="kobospan" id="kobo.249.1">navigation bar:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.250.1">
Scaffold(
    topBar = {
        PacktSmallTopAppBar()
    },
    bottomBar = {
        PacktBottomNavigationBar()
    },
    floatingActionButton = {
        PacktFloatingActionButton()
    },
    content = { paddingValues -&gt;
      Column(
          modifier = Modifier
              .fillMaxSize()
              .padding(paddingValues)
              .background(Color.Gray.copy(alpha = 0.1f)),
          verticalArrangement = Arrangement.Center,
          horizontalAlignment = Alignment.CenterHorizontally
      ) {
          Text(
              modifier = Modifier.padding(10.dp),
              text = "Mastering Kotlin for Android Development - Chapter 4",
              textAlign = TextAlign.Center
          )
        }
    }
)</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.251.1">A lot is happening here, so let</span><a id="_idIndexMarker176" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.252.1"> us break </span><span><span class="kobospan" id="kobo.253.1">it down:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.254.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.255.1">Scaffold</span></strong><span class="kobospan" id="kobo.256.1"> composable is used to create a layout that implements the Material Design guidelines. </span><span class="kobospan" id="kobo.256.2">It is a container that contains the top bar, bottom bar, floating action button, and </span><span><span class="kobospan" id="kobo.257.1">the content.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.258.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.259.1">topBar</span></strong><span class="kobospan" id="kobo.260.1"> parameter is used to specify the top bar. </span><span class="kobospan" id="kobo.260.2">In this case, we are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.261.1">PacktSmallTopAppBar</span></strong><span class="kobospan" id="kobo.262.1"> composable that we </span><span><span class="kobospan" id="kobo.263.1">created earlier.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.264.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.265.1">bottomBar</span></strong><span class="kobospan" id="kobo.266.1"> parameter is used to specify the bottom bar. </span><span class="kobospan" id="kobo.266.2">In this case, we are using the </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.267.1">PacktBottomNavigationBar</span></strong></span><span><span class="kobospan" id="kobo.268.1"> composable.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.269.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.270.1">floatingActionButton</span></strong><span class="kobospan" id="kobo.271.1"> parameter is used to specify the floating action button. </span><span class="kobospan" id="kobo.271.2">In this case, we are using the </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.272.1">PacktFloatingActionButton</span></strong></span><span><span class="kobospan" id="kobo.273.1"> composable.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.274.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.275.1">content</span></strong><span class="kobospan" id="kobo.276.1"> parameter is used to specify the content of the screen. </span><span class="kobospan" id="kobo.276.2">In this case, we are using a </span><strong class="source-inline1"><span class="kobospan" id="kobo.277.1">Column</span></strong><span class="kobospan" id="kobo.278.1"> composable that contains a </span><strong class="source-inline1"><span class="kobospan" id="kobo.279.1">Text</span></strong><span class="kobospan" id="kobo.280.1"> composable. </span><span class="kobospan" id="kobo.280.2">The text is centered in the column</span><a id="_idIndexMarker177" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.281.1"> using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.282.1">verticalArrangement</span></strong><span class="kobospan" id="kobo.283.1"> and </span><strong class="source-inline1"><span class="kobospan" id="kobo.284.1">horizontalAlignment</span></strong><span class="kobospan" id="kobo.285.1"> parameters. </span><span class="kobospan" id="kobo.285.2">Notice that inside </span><strong class="source-inline1"><span class="kobospan" id="kobo.286.1">Column</span></strong><span class="kobospan" id="kobo.287.1">, we are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.288.1">paddingValues</span></strong><span class="kobospan" id="kobo.289.1"> parameter to add padding to the column. </span><span class="kobospan" id="kobo.289.2">This is because the </span><strong class="source-inline1"><span class="kobospan" id="kobo.290.1">Scaffold</span></strong><span class="kobospan" id="kobo.291.1"> composable passes the </span><strong class="source-inline1"><span class="kobospan" id="kobo.292.1">padding</span></strong><span class="kobospan" id="kobo.293.1"> values to the </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.294.1">content</span></strong></span><span><span class="kobospan" id="kobo.295.1"> parameter.</span></span></li>
</ul>
<p class="calibre4"><span class="kobospan" id="kobo.296.1">With our </span><strong class="source-inline"><span class="kobospan" id="kobo.297.1">Scaffold</span></strong><span class="kobospan" id="kobo.298.1"> composable ready, let us see how its </span><span><span class="kobospan" id="kobo.299.1">preview looks:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer060">
<span class="kobospan" id="kobo.300.1"><img alt="Figure 4.9 – Scaffold" src="image/B19779_04_09.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.301.1">Figure 4.9 – Scaffold</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.302.1">In </span><span><em class="italic"><span class="kobospan" id="kobo.303.1">Figure 4</span></em></span><em class="italic"><span class="kobospan" id="kobo.304.1">.9</span></em><span class="kobospan" id="kobo.305.1">, we can see that the </span><strong class="source-inline"><span class="kobospan" id="kobo.306.1">Scaffold</span></strong><span class="kobospan" id="kobo.307.1"> composable has added the top bar, bottom bar, and the floating action button to the screen. </span><span class="kobospan" id="kobo.307.2">The components are also placed in the correct positions </span><a id="_idIndexMarker178" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.308.1">as per the Material </span><span><span class="kobospan" id="kobo.309.1">Design guidelines.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.310.1">We have learned about a bunch of components so far; Material 3 still offers more components out of the box for us. </span><span class="kobospan" id="kobo.310.2">We will be using some of these components in the upcoming chapters of this book. </span><span class="kobospan" id="kobo.310.3">To view the full list of all the components, go to the Material 3</span><a id="_idIndexMarker179" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.311.1"> Components website (https://m3.material.io/components) to see them and </span><span><span class="kobospan" id="kobo.312.1">their guidelines.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.313.1">Now that we understand Material 3 and its features, let us look at how to add it to </span><span><span class="kobospan" id="kobo.314.1">our apps.</span></span></p>
<h1 id="_idParaDest-54" class="calibre6"><a id="_idTextAnchor060" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.315.1">Using Material Design in our apps</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.316.1">To take advantage of the </span><a id="_idIndexMarker180" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.317.1">Material 3 features that we looked at in the previous section, we need to add it to our app. </span><span class="kobospan" id="kobo.317.2">Luckily, with Android Studio Hedgehog, we have Material 3 templates. </span><span class="kobospan" id="kobo.317.3">Even the sample apps we have been using already use Material 3. </span><span class="kobospan" id="kobo.317.4">So cool, right? </span><span class="kobospan" id="kobo.317.5">Let us quickly scan the dependencies to understand what </span><span><span class="kobospan" id="kobo.318.1">is happening:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.319.1">
implementation 'androidx.core:core-ktx:1.10.1'
implementation platform('org.jetbrains.kotlin:kotlin-bom:1.8.0')
implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.6.1'
implementation 'androidx.activity:activity-compose:1.7.2'
implementation platform('androidx.compose:compose-bom:2022.10.00')
implementation 'androidx.compose.ui:ui'
implementation 'androidx.compose.ui:ui-graphics'
implementation 'androidx.compose.ui:ui-tooling-preview'
implementation 'androidx.compose.material3:material3'
testImplementation 'junit:junit:4.13.2'
androidTestImplementation 'androidx.test.ext:junit:1.1.5'
androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'
androidTestImplementation platform('androidx.compose:compose-bom:2022.10.00')
androidTestImplementation 'androidx.compose.ui:ui-test-junit4'
debugImplementation 'androidx.compose.ui:ui-tooling'
debugImplementation 'androidx.compose.ui:ui-test-manifest'</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.320.1">This dependencies block sets up several for us, including the </span><strong class="source-inline"><span class="kobospan" id="kobo.321.1">compose</span></strong><span class="kobospan" id="kobo.322.1"> dependencies. </span><span class="kobospan" id="kobo.322.2">The most important one is the </span><strong class="source-inline"><span class="kobospan" id="kobo.323.1">androidx.compose.material3:material3</span></strong><span class="kobospan" id="kobo.324.1"> dependency. </span><span class="kobospan" id="kobo.324.2">This is the dependency that contains </span><a id="_idIndexMarker181" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.325.1">the Material 3 components. </span><span class="kobospan" id="kobo.325.2">We are using the Compose </span><strong class="bold"><span class="kobospan" id="kobo.326.1">Bill of Materials</span></strong><span class="kobospan" id="kobo.327.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.328.1">BOM</span></strong><span class="kobospan" id="kobo.329.1">) to manage our dependencies. </span><span class="kobospan" id="kobo.329.2">This means that we do not have to specify the version of each dependency. </span><span class="kobospan" id="kobo.329.3">Instead, we specify the version of the BOM, and it will </span><a id="_idIndexMarker182" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.330.1">manage the versions of the dependencies for us. </span><span class="kobospan" id="kobo.330.2">This is the recommended way of managing dependencies in Compose. </span><span class="kobospan" id="kobo.330.3">That is why we have not specified the version of </span><span><span class="kobospan" id="kobo.331.1">each dependency.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.332.1">With that, our project is ready to take advantage of the Material 3 features. </span><span class="kobospan" id="kobo.332.2">In the next subsection, we will be adding more color schemes to </span><span><span class="kobospan" id="kobo.333.1">the app.</span></span></p>
<h2 id="_idParaDest-55" class="calibre7"><a id="_idTextAnchor061" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.334.1">Adding Material Design 3 color schemes</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.335.1">As mentioned earlier, Material 3</span><a id="_idIndexMarker183" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.336.1"> comes with a lot of fine-grained color schemes and introduces </span><strong class="bold"><span class="kobospan" id="kobo.337.1">dynamic color</span></strong><span class="kobospan" id="kobo.338.1">. </span><span class="kobospan" id="kobo.338.2">However, they</span><a id="_idIndexMarker184" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.339.1"> are not set up with the templates that Android Studio generates. </span><span class="kobospan" id="kobo.339.2">We will be setting them up in the next </span><span><span class="kobospan" id="kobo.340.1">few steps.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.341.1">Head over to the </span><strong class="source-inline"><span class="kobospan" id="kobo.342.1">ui/theme</span></strong><span class="kobospan" id="kobo.343.1"> package and open the </span><strong class="source-inline"><span class="kobospan" id="kobo.344.1">Color.kt</span></strong><span class="kobospan" id="kobo.345.1"> file, which has the </span><span><span class="kobospan" id="kobo.346.1">following code:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.347.1">
val Purple80 = Color(0xFFD0BCFF)
val PurpleGrey80 = Color(0xFFCCC2DC)
val Pink80 = Color(0xFFEFB8C8)
val Purple40 = Color(0xFF6650a4)
val PurpleGrey40 = Color(0xFF625b71)
val Pink40 = Color(0xFF7D5260)</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.348.1">So far, this file only has a few colors defined. </span><span class="kobospan" id="kobo.348.2">These colors do not cover all the color tokens provided by Material 3. </span><span class="kobospan" id="kobo.348.3">We will add more colors as we need them in </span><span><span class="kobospan" id="kobo.349.1">the app.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.350.1">We will be using the </span><strong class="bold"><span class="kobospan" id="kobo.351.1">Material Theme Builder</span></strong><span class="kobospan" id="kobo.352.1"> tool to generate these colors. </span><span class="kobospan" id="kobo.352.2">Let us open our browser and</span><a id="_idIndexMarker185" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.353.1"> go to the Material Theme Builder tool (</span><a href="https://m3.material.io/theme-builder" class="calibre3 pcalibre pcalibre1"><span class="kobospan" id="kobo.354.1">https://m3.material.io/theme-builder</span></a><span class="kobospan" id="kobo.355.1">). </span><span class="kobospan" id="kobo.355.2">We will be presented with the </span><span><span class="kobospan" id="kobo.356.1">following screen:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer061">
<span class="kobospan" id="kobo.357.1"><img alt="Figure 4.10 – Material Theme Builder tool" src="image/B19779_04_10.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.358.1">Figure 4.10 – Material Theme Builder tool</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.359.1">This tool helps us visualize the color schemes for our apps and shows how different components will be themed. </span><span class="kobospan" id="kobo.359.2">It</span><a id="_idIndexMarker186" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.360.1"> makes it easier for us to customize and produce a consistent color scheme for our app. </span><span class="kobospan" id="kobo.360.2">It has two tabs: </span><strong class="bold"><span class="kobospan" id="kobo.361.1">Dynamic</span></strong><span class="kobospan" id="kobo.362.1"> and </span><strong class="bold"><span class="kobospan" id="kobo.363.1">Custom</span></strong><span class="kobospan" id="kobo.364.1">. </span><span class="kobospan" id="kobo.364.2">In the </span><strong class="bold"><span class="kobospan" id="kobo.365.1">Dynamic</span></strong><span class="kobospan" id="kobo.366.1"> tab, we can select one of the preloaded colors or wallpapers to see how the color changes. </span><span class="kobospan" id="kobo.366.2">One useful feature is that we can also add your own wallpaper and generate the colors based on </span><span><span class="kobospan" id="kobo.367.1">the wallpaper.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.368.1">In the </span><strong class="bold"><span class="kobospan" id="kobo.369.1">Custom</span></strong><span class="kobospan" id="kobo.370.1"> tab, we can select a color and the tool generates all the complementary colors for us based on the color we select, ensuring a harmonious </span><span><span class="kobospan" id="kobo.371.1">color palette:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer062">
<span class="kobospan" id="kobo.372.1"><img alt="Figure 4.11 – Material Theme Builder tool custom color" src="image/B19779_04_11.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.373.1">Figure 4.11 – Material Theme Builder tool custom color</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.374.1">On the left, we have the </span><strong class="bold"><span class="kobospan" id="kobo.375.1">Core colors</span></strong><span class="kobospan" id="kobo.376.1"> section</span><a id="_idIndexMarker187" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.377.1"> where we can select either </span><strong class="bold"><span class="kobospan" id="kobo.378.1">Primary</span></strong><span class="kobospan" id="kobo.379.1">, </span><strong class="bold"><span class="kobospan" id="kobo.380.1">Secondary</span></strong><span class="kobospan" id="kobo.381.1">, </span><strong class="bold"><span class="kobospan" id="kobo.382.1">Tertiary</span></strong><span class="kobospan" id="kobo.383.1">, or </span><strong class="bold"><span class="kobospan" id="kobo.384.1">Neutral</span></strong><span class="kobospan" id="kobo.385.1"> colors for </span><span><span class="kobospan" id="kobo.386.1">our app.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.387.1">We are going to select the </span><strong class="bold"><span class="kobospan" id="kobo.388.1">Primary</span></strong><span class="kobospan" id="kobo.389.1"> color option, which opens a </span><strong class="bold"><span class="kobospan" id="kobo.390.1">Color </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.391.1">Picker</span></strong></span><span><span class="kobospan" id="kobo.392.1"> dialog:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer063">
<span class="kobospan" id="kobo.393.1"><img alt="Figure 4.12 – Color Picker" src="image/B19779_04_12.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.394.1">Figure 4.12 – Color Picker</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.395.1">As we are changing the primary color, we will be able to see the visual preview change to match the color we have. </span><span class="kobospan" id="kobo.395.2">Now </span><a id="_idIndexMarker188" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.396.1">we have our primary color ready, we are going to export the files so that we can use them in </span><span><span class="kobospan" id="kobo.397.1">our project:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer064">
<span class="kobospan" id="kobo.398.1"><img alt="Figure 4.13 – Export option" src="image/B19779_04_13.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.399.1">Figure 4.13 – Export option</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.400.1">As seen in </span><span><em class="italic"><span class="kobospan" id="kobo.401.1">Figure 4</span></em></span><em class="italic"><span class="kobospan" id="kobo.402.1">.13</span></em><span class="kobospan" id="kobo.403.1">, the visual preview has changed to the color we chose. </span><span class="kobospan" id="kobo.403.2">Click on the </span><strong class="bold"><span class="kobospan" id="kobo.404.1">Export</span></strong><span class="kobospan" id="kobo.405.1"> option (highlighted in </span><span><em class="italic"><span class="kobospan" id="kobo.406.1">Figure 4</span></em></span><em class="italic"><span class="kobospan" id="kobo.407.1">.13</span></em><span class="kobospan" id="kobo.408.1">) and, from the dropdown that appears, choose </span><strong class="bold"><span class="kobospan" id="kobo.409.1">Jetpack Compose (Theme.kt)</span></strong><span class="kobospan" id="kobo.410.1">. </span><span class="kobospan" id="kobo.410.2">This will prompt a download of a zipped file. </span><span class="kobospan" id="kobo.410.3">Unzip the file and open the folder. </span><span class="kobospan" id="kobo.410.4">We</span><a id="_idIndexMarker189" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.411.1"> will now have a </span><strong class="source-inline"><span class="kobospan" id="kobo.412.1">ui</span></strong><span class="kobospan" id="kobo.413.1"> folder that has a </span><strong class="source-inline"><span class="kobospan" id="kobo.414.1">theme</span></strong><span class="kobospan" id="kobo.415.1"> folder inside containing </span><strong class="source-inline"><span class="kobospan" id="kobo.416.1">Color.kt</span></strong><span class="kobospan" id="kobo.417.1"> and </span><span><strong class="source-inline"><span class="kobospan" id="kobo.418.1">Theme.kt</span></strong></span><span><span class="kobospan" id="kobo.419.1"> files.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.420.1">Let us open the </span><strong class="source-inline"><span class="kobospan" id="kobo.421.1">Color.kt</span></strong><span class="kobospan" id="kobo.422.1"> file, which contains the </span><span><span class="kobospan" id="kobo.423.1">following code:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.424.1">
val md_theme_light_primary = Color(0xFF006C49)
val md_theme_light_onPrimary = Color(0xFFFFFFFF)
val md_theme_light_primaryContainer = Color(0xFF7AFAC0)
val md_theme_light_onPrimaryContainer = Color(0xFF002113)
val md_theme_light_secondary = Color(0xFF4D6357)
val md_theme_light_onSecondary = Color(0xFFFFFFFF)
val md_theme_light_secondaryContainer = Color(0xFFD0E8D8)
val md_theme_light_onSecondaryContainer = Color(0xFF0A1F16)
val md_theme_light_tertiary = Color(0xFF3D6473)
val md_theme_light_onTertiary = Color(0xFFFFFFFF)
val md_theme_light_tertiaryContainer = Color(0xFFC0E9FB)
val md_theme_light_onTertiaryContainer = Color(0xFF001F29)
val md_theme_light_error = Color(0xFFBA1A1A)
val md_theme_light_errorContainer = Color(0xFFFFDAD6)
val md_theme_light_onError = Color(0xFFFFFFFF)
val md_theme_light_onErrorContainer = Color(0xFF410002)
val md_theme_light_background = Color(0xFFFBFDF9)
val md_theme_light_onBackground = Color(0xFF191C1A)
val md_theme_light_surface = Color(0xFFFBFDF9)
val md_theme_light_onSurface = Color(0xFF191C1A)
val md_theme_light_surfaceVariant = Color(0xFFDCE5DD)
val md_theme_light_onSurfaceVariant = Color(0xFF404943)
val md_theme_light_outline = Color(0xFF707973)
val md_theme_light_inverseOnSurface = Color(0xFFEFF1ED)
val md_theme_light_inverseSurface = Color(0xFF2E312F)
val md_theme_light_inversePrimary = Color(0xFF5CDDA5)
val md_theme_light_shadow = Color(0xFF000000)
val md_theme_light_surfaceTint = Color(0xFF006C49)
val md_theme_light_outlineVariant = Color(0xFFC0C9C1)
val md_theme_light_scrim = Color(0xFF000000)
val md_theme_dark_primary = Color(0xFF5CDDA5)
val md_theme_dark_onPrimary = Color(0xFF003824)
val md_theme_dark_primaryContainer = Color(0xFF005236)
val md_theme_dark_onPrimaryContainer = Color(0xFF7AFAC0)
val md_theme_dark_secondary = Color(0xFFB4CCBD)
val md_theme_dark_onSecondary = Color(0xFF20352A)
val md_theme_dark_secondaryContainer = Color(0xFF364B40)
val md_theme_dark_onSecondaryContainer = Color(0xFFD0E8D8)
val md_theme_dark_tertiary = Color(0xFFA5CDDE)
val md_theme_dark_onTertiary = Color(0xFF063543)
val md_theme_dark_tertiaryContainer = Color(0xFF244C5A)
val md_theme_dark_onTertiaryContainer = Color(0xFFC0E9FB)
val md_theme_dark_error = Color(0xFFFFB4AB)
val md_theme_dark_errorContainer = Color(0xFF93000A)
val md_theme_dark_onError = Color(0xFF690005)
val md_theme_dark_onErrorContainer = Color(0xFFFFDAD6)
val md_theme_dark_background = Color(0xFF191C1A)
val md_theme_dark_onBackground = Color(0xFFE1E3DF)
val md_theme_dark_surface = Color(0xFF191C1A)
val md_theme_dark_onSurface = Color(0xFFE1E3DF)
val md_theme_dark_surfaceVariant = Color(0xFF404943)
val md_theme_dark_onSurfaceVariant = Color(0xFFC0C9C1)
val md_theme_dark_outline = Color(0xFF8A938C)
val md_theme_dark_inverseOnSurface = Color(0xFF191C1A)
val md_theme_dark_inverseSurface = Color(0xFFE1E3DF)
val md_theme_dark_inversePrimary = Color(0xFF006C49)
val md_theme_dark_shadow = Color(0xFF000000)
val md_theme_dark_surfaceTint = Color(0xFF5CDDA5)
val md_theme_dark_outlineVariant = Color(0xFF404943)
val md_theme_dark_scrim = Color(0xFF000000)</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.425.1">As you can now see, we have more color additions. </span><span class="kobospan" id="kobo.425.2">Let us copy these colors to the </span><strong class="source-inline"><span class="kobospan" id="kobo.426.1">Color.kt</span></strong><span class="kobospan" id="kobo.427.1"> file in our project. </span><span class="kobospan" id="kobo.427.2">Next, let us open the </span><strong class="source-inline"><span class="kobospan" id="kobo.428.1">Theme.kt</span></strong><span class="kobospan" id="kobo.429.1"> from the </span><span><span class="kobospan" id="kobo.430.1">unzipped folder.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.431.1">We will notice it is similar to the </span><strong class="source-inline"><span class="kobospan" id="kobo.432.1">Theme.kt</span></strong><span class="kobospan" id="kobo.433.1"> file but it defines all the Material 3 color schemes. </span><span class="kobospan" id="kobo.433.2">Copy the contents of this file and paste them into the </span><strong class="source-inline"><span class="kobospan" id="kobo.434.1">Theme.kt</span></strong><span class="kobospan" id="kobo.435.1"> file in our project. </span><span class="kobospan" id="kobo.435.2">We are going to make minor </span><a id="_idIndexMarker190" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.436.1">edits to the code to make sure we maintain the </span><strong class="source-inline"><span class="kobospan" id="kobo.437.1">ChapterFourTheme</span></strong><span class="kobospan" id="kobo.438.1"> name and dynamic color logic that was in our theme. </span><span class="kobospan" id="kobo.438.2">Next, we need to change the </span><strong class="source-inline"><span class="kobospan" id="kobo.439.1">DarkColorScheme</span></strong><span class="kobospan" id="kobo.440.1"> variable values to </span><span><span class="kobospan" id="kobo.441.1">the following:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.442.1">
private val DarkColorScheme = darkColorScheme(
    primary = md_theme_light_primary,
    onPrimary = md_theme_light_onPrimary,
    primaryContainer = md_theme_light_primaryContainer,
    onPrimaryContainer = md_theme_light_onPrimaryContainer,
    secondary = md_theme_light_secondary,
    onSecondary = md_theme_light_onSecondary,
    secondaryContainer = md_theme_light_secondaryContainer,
    onSecondaryContainer = md_theme_light_onSecondaryContainer,
    tertiary = md_theme_light_tertiary,
    onTertiary = md_theme_light_onTertiary,
    tertiaryContainer = md_theme_light_tertiaryContainer,
    onTertiaryContainer = md_theme_light_onTertiaryContainer,
    error = md_theme_light_error,
    errorContainer = md_theme_light_errorContainer,
    onError = md_theme_light_onError,
    onErrorContainer = md_theme_light_onErrorContainer,
    background = md_theme_light_background,
    onBackground = md_theme_light_onBackground,
    surface = md_theme_light_surface,
    onSurface = md_theme_light_onSurface,
    surfaceVariant = md_theme_light_surfaceVariant,
    onSurfaceVariant = md_theme_light_onSurfaceVariant,
    outline = md_theme_light_outline,
    inverseOnSurface = md_theme_light_inverseOnSurface,
    inverseSurface = md_theme_light_inverseSurface,
    inversePrimary = md_theme_light_inversePrimary,
    surfaceTint = md_theme_light_surfaceTint,
    outlineVariant = md_theme_light_outlineVariant,
    scrim = md_theme_light_scrim,
)</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.443.1">In the preceding code, we are using the </span><strong class="source-inline"><span class="kobospan" id="kobo.444.1">DarkColorScheme</span></strong><span class="kobospan" id="kobo.445.1"> function to create a dark color scheme. </span><span class="kobospan" id="kobo.445.2">We are passing the colors that we generated using the Material Theme Builder tool. </span><span class="kobospan" id="kobo.445.3">We will use this </span><a id="_idIndexMarker191" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.446.1">color scheme to create a dark theme. </span><span class="kobospan" id="kobo.446.2">The dark color scheme variable is defined in a similar manner, and we can copy the values from the </span><strong class="source-inline"><span class="kobospan" id="kobo.447.1">Theme.kt</span></strong><span class="kobospan" id="kobo.448.1"> file from the tool and add it there too. </span><span class="kobospan" id="kobo.448.2">Let us now look at our theme composable </span><span><span class="kobospan" id="kobo.449.1">in wholesome:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.450.1">
@Composable
fun ChapterFourTheme(
    darkTheme: Boolean = isSystemInDarkTheme(),
    dynamicColor: Boolean = true,
    content: @Composable () -&gt; Unit
) {
    val colorScheme = when {
        dynamicColor &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S -&gt; {
            val context = LocalContext.current
            if (darkTheme) dynamicDarkColorScheme(context) else dynamicLightColorScheme(context)
        }
        darkTheme -&gt; DarkColorScheme
        else -&gt; LightColorScheme
    }
    val view = LocalView.current
    if (!view.isInEditMode) {
        SideEffect {
            val window = (view.context as Activity).window
            window.statusBarColor = colorScheme.primary.toArgb()
            WindowCompat.getInsetsController(window, view).isAppearanceLightStatusBars = darkTheme
        }
    }
    MaterialTheme(
        colorScheme = colorScheme,
        typography = Typography,
        content = content
    )
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.451.1">Let us break down the </span><a id="_idIndexMarker192" class="calibre3 pcalibre pcalibre1"/><span><span class="kobospan" id="kobo.452.1">preceding code:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.453.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.454.1">ChapterFourTheme</span></strong><span class="kobospan" id="kobo.455.1"> composable is used to create a theme for our app. </span><span class="kobospan" id="kobo.455.2">It takes </span><span><span class="kobospan" id="kobo.456.1">three parameters:</span></span><ul class="calibre17"><li class="calibre15"><span class="kobospan" id="kobo.457.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.458.1">darkTheme</span></strong><span class="kobospan" id="kobo.459.1"> parameter is used to specify whether the theme is dark or light. </span><span class="kobospan" id="kobo.459.2">By default, we are using the </span><span><span class="kobospan" id="kobo.460.1">system theme.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.461.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.462.1">dynamicColor</span></strong><span class="kobospan" id="kobo.463.1"> parameter is used to specify whether the theme should use dynamic colors. </span><span class="kobospan" id="kobo.463.2">By default, we are using </span><span><span class="kobospan" id="kobo.464.1">dynamic colors.</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.465.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.466.1">content</span></strong><span class="kobospan" id="kobo.467.1"> parameter is used to specify the content of the theme. </span><span class="kobospan" id="kobo.467.2">In this case, we are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.468.1">MaterialTheme</span></strong><span class="kobospan" id="kobo.469.1"> composable to create a theme for </span><span><span class="kobospan" id="kobo.470.1">our app.</span></span></li></ul></li>
<li class="calibre15"><span class="kobospan" id="kobo.471.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.472.1">colorScheme</span></strong><span class="kobospan" id="kobo.473.1"> variable is used to specify the color scheme to use. </span><span class="kobospan" id="kobo.473.2">We are using a </span><strong class="source-inline1"><span class="kobospan" id="kobo.474.1">when</span></strong><span class="kobospan" id="kobo.475.1"> expression to determine the color scheme to use. </span><span class="kobospan" id="kobo.475.2">If the </span><strong class="source-inline1"><span class="kobospan" id="kobo.476.1">dynamicColor</span></strong><span class="kobospan" id="kobo.477.1"> parameter is </span><strong class="source-inline1"><span class="kobospan" id="kobo.478.1">true</span></strong><span class="kobospan" id="kobo.479.1"> and the device is running Android 12 or higher, we are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.480.1">dynamicDarkColorScheme</span></strong><span class="kobospan" id="kobo.481.1"> or </span><strong class="source-inline1"><span class="kobospan" id="kobo.482.1">dynamicLightColorScheme</span></strong><span class="kobospan" id="kobo.483.1"> function to create a dynamic color scheme. </span><span class="kobospan" id="kobo.483.2">When not using dynamic colors, we fall back to the normal themes. </span><span class="kobospan" id="kobo.483.3">If the </span><strong class="source-inline1"><span class="kobospan" id="kobo.484.1">darkTheme</span></strong><span class="kobospan" id="kobo.485.1"> parameter is </span><strong class="source-inline1"><span class="kobospan" id="kobo.486.1">true</span></strong><span class="kobospan" id="kobo.487.1">, we are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.488.1">DarkColorScheme</span></strong><span class="kobospan" id="kobo.489.1"> variable to create a dark color scheme. </span><span class="kobospan" id="kobo.489.2">Otherwise, we are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.490.1">LightColorScheme</span></strong><span class="kobospan" id="kobo.491.1"> variable to create a light </span><span><span class="kobospan" id="kobo.492.1">color scheme.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.493.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.494.1">view</span></strong><span class="kobospan" id="kobo.495.1"> variable is used to get the view that is using </span><span><span class="kobospan" id="kobo.496.1">the theme.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.497.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.498.1">SideEffect</span></strong><span class="kobospan" id="kobo.499.1"> composable is used to execute a side effect. </span><span class="kobospan" id="kobo.499.2">In this case, we are using it to set the status bar color and the status bar icons’ color. </span><span class="kobospan" id="kobo.499.3">We are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.500.1">WindowCompat</span></strong><span class="kobospan" id="kobo.501.1"> class to get </span><strong class="source-inline1"><span class="kobospan" id="kobo.502.1">InsetsController</span></strong><span class="kobospan" id="kobo.503.1"> and set the status bar color and the status bar icons’ color. </span><span class="kobospan" id="kobo.503.2">We are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.504.1">colorScheme.primary</span></strong><span class="kobospan" id="kobo.505.1"> color to set the status bar color. </span><span class="kobospan" id="kobo.505.2">We are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.506.1">darkTheme</span></strong><span class="kobospan" id="kobo.507.1"> parameter to determine whether the status bar icons’ color should be light </span><span><span class="kobospan" id="kobo.508.1">or dark.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.509.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.510.1">MaterialTheme</span></strong><span class="kobospan" id="kobo.511.1"> composable is used to create a theme for our app. </span><span class="kobospan" id="kobo.511.2">We are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.512.1">colorScheme</span></strong><span class="kobospan" id="kobo.513.1"> parameter to specify the color scheme to use. </span><span class="kobospan" id="kobo.513.2">We are using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.514.1">typography</span></strong><span class="kobospan" id="kobo.515.1"> variable to specify the typography </span><span><span class="kobospan" id="kobo.516.1">to use.</span></span></li>
</ul>
<p class="calibre4"><span class="kobospan" id="kobo.517.1">To be able to see the changes</span><a id="_idIndexMarker193" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.518.1"> we have made, we need to call </span><strong class="source-inline"><span class="kobospan" id="kobo.519.1">PacktScaffold</span></strong><span class="kobospan" id="kobo.520.1">, which we created earlier inside the </span><strong class="source-inline"><span class="kobospan" id="kobo.521.1">MainActivity.kt</span></strong><span class="kobospan" id="kobo.522.1"> file in the </span><span><strong class="source-inline"><span class="kobospan" id="kobo.523.1">ChapterFourTheme</span></strong></span><span><span class="kobospan" id="kobo.524.1"> block:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.525.1">
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            ChapterFourTheme {
                PacktScaffold()
            }
        }
    }
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.526.1">Let us build and run the app. </span><span class="kobospan" id="kobo.526.2">We should be able to see </span><span><span class="kobospan" id="kobo.527.1">the following:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer065">
<span class="kobospan" id="kobo.528.1"><img alt="Figure 4.14 – Chapter 4 app" src="image/B19779_04_14.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.529.1">Figure 4.14 – Chapter 4 app</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.530.1">Like me, you might be wondering why</span><a id="_idIndexMarker194" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.531.1"> the app does not have the greenish color we set on the Material Theme Builder tool. </span><span class="kobospan" id="kobo.531.2">Remember the dynamic color logic in our </span><strong class="source-inline"><span class="kobospan" id="kobo.532.1">ChapterFourTheme</span></strong><span class="kobospan" id="kobo.533.1"> composable? </span><span class="kobospan" id="kobo.533.2">It is responsible for the brownish color we see. </span><span class="kobospan" id="kobo.533.3">Look at my </span><span><span class="kobospan" id="kobo.534.1">wallpaper settings:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer066">
<span class="kobospan" id="kobo.535.1"><img alt="Figure 4.15 – Wallpaper settings" src="image/B19779_04_15.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.536.1">Figure 4.15 – Wallpaper settings</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.537.1">As seen in </span><span><em class="italic"><span class="kobospan" id="kobo.538.1">Figure 4</span></em></span><em class="italic"><span class="kobospan" id="kobo.539.1">.15</span></em><span class="kobospan" id="kobo.540.1">, my wallpaper has a brown color set. </span><span class="kobospan" id="kobo.540.2">This means our dynamic color logic is working, and our app can adapt well to my </span><span><span class="kobospan" id="kobo.541.1">wallpaper settings!</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.542.1">We have seen how to use the </span><a id="_idIndexMarker195" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.543.1">Material 3 features in our app. </span><span class="kobospan" id="kobo.543.2">In the next section, we will see how we can design UIs that work for large screens and foldables in </span><span><span class="kobospan" id="kobo.544.1">Jetpack Compose.</span></span></p>
<h1 id="_idParaDest-56" class="calibre6"><a id="_idTextAnchor062" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.545.1">Designing UIs for large screens and foldables</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.546.1">In recent years and with the release of Material 3, there has been an increased focus on tablets and foldable devices. </span><span class="kobospan" id="kobo.546.2">As such, we, as developers, must make our apps work well on these devices. </span><span class="kobospan" id="kobo.546.3">In this</span><a id="_idIndexMarker196" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.547.1"> section, we will look at how we can make our apps work well on large screens and foldables. </span><span class="kobospan" id="kobo.547.2">We need to ensure our apps adapt to the different screen sizes. </span><span class="kobospan" id="kobo.547.3">Making our apps responsive provides a good </span><span><span class="kobospan" id="kobo.548.1">user experience.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.549.1">Material 3 offers </span><strong class="bold"><span class="kobospan" id="kobo.550.1">canonical layouts</span></strong><span class="kobospan" id="kobo.551.1"> to serve as</span><a id="_idIndexMarker197" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.552.1"> guidelines for creating UIs for large screens and foldables. </span><span class="kobospan" id="kobo.552.2">These layouts are </span><span><span class="kobospan" id="kobo.553.1">as follows:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.554.1">List-detail view</span></strong><span class="kobospan" id="kobo.555.1">: Here, we place a list of items on the left and, on the right, we show the details of a </span><span><span class="kobospan" id="kobo.556.1">single item.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.557.1">Feed</span></strong><span class="kobospan" id="kobo.558.1">: Here, we arrange content elements such as cards in a customizable grid, which provides a good view of a large amount </span><span><span class="kobospan" id="kobo.559.1">of content.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.560.1">Supporting pane</span></strong><span class="kobospan" id="kobo.561.1">: Here, we organize app content into primary and secondary display areas. </span><span class="kobospan" id="kobo.561.2">The primary area shows the main content while the secondary area shows the supporting content. </span><span class="kobospan" id="kobo.561.3">The primary area occupies most of the screen while the secondary area occupies a </span><span><span class="kobospan" id="kobo.562.1">smaller portion.</span></span></li>
</ul>
<p class="calibre4"><span class="kobospan" id="kobo.563.1">For us to show the different layouts, we must know the screen size of the device the user is using. </span><span class="kobospan" id="kobo.563.2">Luckily for us, Jetpack Compose provides us with a way to get the screen size. </span><span class="kobospan" id="kobo.563.3">We have the Material 3 </span><strong class="bold"><span class="kobospan" id="kobo.564.1">WindowSizeClass</span></strong><span class="kobospan" id="kobo.565.1"> to help us determine which layout to show in </span><span><span class="kobospan" id="kobo.566.1">our app.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.567.1">We are going to learn how to use </span><span><strong class="source-inline"><span class="kobospan" id="kobo.568.1">WindowSizeClass</span></strong></span><span><span class="kobospan" id="kobo.569.1"> next.</span></span></p>
<h2 id="_idParaDest-57" class="calibre7"><a id="_idTextAnchor063" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.570.1">Using WindowSizeClass</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.571.1">For us to use </span><strong class="source-inline"><span class="kobospan" id="kobo.572.1">WindowSizeClass</span></strong><span class="kobospan" id="kobo.573.1">, we </span><a id="_idIndexMarker198" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.574.1">must add the following dependency to </span><span><span class="kobospan" id="kobo.575.1">our app:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.576.1">
implementation 'androidx.compose.material3:material3-window-size-class'</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.577.1">This is the Material 3 dependency that adds </span><strong class="source-inline"><span class="kobospan" id="kobo.578.1">WindowSizeClass</span></strong><span class="kobospan" id="kobo.579.1"> to our project. </span><span class="kobospan" id="kobo.579.2">Notice we are not providing a version for this dependency. </span><span class="kobospan" id="kobo.579.3">This is because we are using the Compose BOM to manage our dependencies. </span><span class="kobospan" id="kobo.579.4">The BOM will manage the version of this dependency </span><span><span class="kobospan" id="kobo.580.1">for us.</span></span></p>
<p class="calibre4"><strong class="source-inline"><span class="kobospan" id="kobo.581.1">WindowSizeClass</span></strong><span class="kobospan" id="kobo.582.1"> classifies the available screen width into </span><span><span class="kobospan" id="kobo.583.1">three categories:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.584.1">Compact</span></strong><span class="kobospan" id="kobo.585.1">: This is for devices whose width is less than 600 dp. </span><span class="kobospan" id="kobo.585.2">Commonly, these are devices in </span><span><span class="kobospan" id="kobo.586.1">portrait mode.</span></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.587.1">Medium</span></strong><span class="kobospan" id="kobo.588.1">: This is for devices whose width is between 600 dp and 840 dp. </span><span class="kobospan" id="kobo.588.2">Devices such as tablets and foldables in portrait mode fall into </span><span><span class="kobospan" id="kobo.589.1">this category.</span></span></li>
<li class="calibre15"><strong class="source-inline1"><span class="kobospan" id="kobo.590.1">Expanded</span></strong><span class="kobospan" id="kobo.591.1">: This is for devices whose width is greater than 840 dp. </span><span class="kobospan" id="kobo.591.2">Devices such as tablets and foldables in</span><a id="_idIndexMarker199" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.592.1"> landscape mode, phones in landscape mode, and desktops fall into </span><span><span class="kobospan" id="kobo.593.1">this category.</span></span></li>
</ul>
<p class="calibre4"><strong class="source-inline"><span class="kobospan" id="kobo.594.1">WindowSizeClass</span></strong><span class="kobospan" id="kobo.595.1"> uses </span><strong class="source-inline"><span class="kobospan" id="kobo.596.1">widthSizeClass</span></strong><span class="kobospan" id="kobo.597.1"> to get the width of the screen. </span><span class="kobospan" id="kobo.597.2">In addition to </span><strong class="source-inline"><span class="kobospan" id="kobo.598.1">widthSizeClass</span></strong><span class="kobospan" id="kobo.599.1">, it also has </span><strong class="source-inline"><span class="kobospan" id="kobo.600.1">heightSizeClass</span></strong><span class="kobospan" id="kobo.601.1"> to help us determine the height of </span><span><span class="kobospan" id="kobo.602.1">the screen.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.603.1">Let us look at </span><strong class="source-inline"><span class="kobospan" id="kobo.604.1">widthSizeClass</span></strong> <span><span class="kobospan" id="kobo.605.1">in action:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.606.1">
when(calculateWindowSizeClass(activity = this).widthSizeClass) {
    WindowWidthSizeClass.Compact -&gt; {
        CharactersScreen(
            navigationOptions = NavigationOptions.BottomNavigation,
            showDetails = false
        )
    }
    WindowWidthSizeClass.Medium -&gt; {
        CharactersScreen(
            navigationOptions = NavigationOptions.NavigationRail,
            showDetails = true
        )
    }
    WindowWidthSizeClass.Expanded -&gt; {
        CharactersScreen(
            navigationOptions = NavigationOptions.NavigationDrawer,
            showDetails = true
        )
    }
    else -&gt; {
        CharactersScreen(
            navigationOptions = NavigationOptions.BottomNavigation,
            showDetails = false
        )
    }
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.607.1">Here is an explanation of what the preceding code </span><span><span class="kobospan" id="kobo.608.1">is doing:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.609.1">The </span><strong class="source-inline1"><span class="kobospan" id="kobo.610.1">calculateWindowSizeClass</span></strong><span class="kobospan" id="kobo.611.1"> function is used to calculate </span><strong class="source-inline1"><span class="kobospan" id="kobo.612.1">WindowSizeClass</span></strong><span class="kobospan" id="kobo.613.1">. </span><span class="kobospan" id="kobo.613.2">We are passing the activity as the parameter. </span><span class="kobospan" id="kobo.613.3">The function is from the </span><strong class="source-inline1"><span class="kobospan" id="kobo.614.1">WindowSizeClass</span></strong><span class="kobospan" id="kobo.615.1"> APIs. </span><span class="kobospan" id="kobo.615.2">It has the </span><strong class="source-inline1"><span class="kobospan" id="kobo.616.1">widthSizeClass</span></strong><span class="kobospan" id="kobo.617.1"> and </span><strong class="source-inline1"><span class="kobospan" id="kobo.618.1">heightSizeClass</span></strong><span class="kobospan" id="kobo.619.1"> properties, which</span><a id="_idIndexMarker200" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.620.1"> we can use to get the width and height of the </span><span><span class="kobospan" id="kobo.621.1">screen, respectively.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.622.1">We use </span><strong class="source-inline1"><span class="kobospan" id="kobo.623.1">widthSizeClass</span></strong><span class="kobospan" id="kobo.624.1"> to customize our </span><span><span class="kobospan" id="kobo.625.1">display options:</span></span><ul class="calibre17"><li class="calibre15"><span class="kobospan" id="kobo.626.1">For the </span><strong class="source-inline1"><span class="kobospan" id="kobo.627.1">WindowWidthSizeClass.Compact</span></strong><span class="kobospan" id="kobo.628.1"> case, we are using </span><strong class="source-inline1"><span class="kobospan" id="kobo.629.1">BottomNavigation</span></strong><span class="kobospan" id="kobo.630.1"> for navigation, and the UI should only show the list </span><span><span class="kobospan" id="kobo.631.1">of characters</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.632.1">For the </span><strong class="source-inline1"><span class="kobospan" id="kobo.633.1">WindowWidthSizeClass.Medium</span></strong><span class="kobospan" id="kobo.634.1"> case, we are using </span><strong class="source-inline1"><span class="kobospan" id="kobo.635.1">NavigationRail</span></strong><span class="kobospan" id="kobo.636.1"> for navigation, and the UI should show the list of characters and the details of the </span><span><span class="kobospan" id="kobo.637.1">selected character</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.638.1">For the </span><strong class="source-inline1"><span class="kobospan" id="kobo.639.1">WindowWidthSizeClass.Expanded</span></strong><span class="kobospan" id="kobo.640.1"> case, we are using </span><strong class="source-inline1"><span class="kobospan" id="kobo.641.1">NavigationDrawer</span></strong><span class="kobospan" id="kobo.642.1"> for navigation. </span><span class="kobospan" id="kobo.642.2">and the UI should show the list of characters and the details of the </span><span><span class="kobospan" id="kobo.643.1">selected character</span></span></li><li class="calibre15"><span class="kobospan" id="kobo.644.1">We have a default case where we are using </span><strong class="source-inline1"><span class="kobospan" id="kobo.645.1">BottomNavigation</span></strong><span class="kobospan" id="kobo.646.1"> for navigation, and the UI</span><a id="_idIndexMarker201" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.647.1"> should only show the list </span><span><span class="kobospan" id="kobo.648.1">of characters</span></span></li></ul></li>
</ul>
<p class="calibre4"><span class="kobospan" id="kobo.649.1">At a glance, you can see how we take advantage of </span><strong class="source-inline"><span class="kobospan" id="kobo.650.1">WindowSizeClass</span></strong><span class="kobospan" id="kobo.651.1"> to customize our UI and navigation type based on the screen size. </span><span class="kobospan" id="kobo.651.2">This is an immensely powerful feature that we can use to make our apps responsive. </span><span class="kobospan" id="kobo.651.3">This makes sure we take advantage of the screen size and provide a good </span><span><span class="kobospan" id="kobo.652.1">user experience.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.653.1">The example shown in this section was a simple one. </span><span class="kobospan" id="kobo.653.2">In </span><a href="B19779_07.xhtml#_idTextAnchor092" class="calibre3 pcalibre pcalibre1"><span><em class="italic"><span class="kobospan" id="kobo.654.1">Chapter 7</span></em></span></a><span class="kobospan" id="kobo.655.1"> of this book, we will have a more detailed example where we will use </span><strong class="source-inline"><span class="kobospan" id="kobo.656.1">WindowSizeClass</span></strong><span class="kobospan" id="kobo.657.1"> to customize our UI based on the </span><span><span class="kobospan" id="kobo.658.1">screen size.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.659.1">Now that we know how to design and build apps for large screens and foldables, let us look at yet another important topic in this chapter, which </span><span><span class="kobospan" id="kobo.660.1">is accessibility.</span></span></p>
<h1 id="_idParaDest-58" class="calibre6"><a id="_idTextAnchor064" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.661.1">Making our app accessible</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.662.1">Making the apps that we develop accessible is extremely important. </span><span class="kobospan" id="kobo.662.2">It ensures that our apps can be used by everyone. </span><span class="kobospan" id="kobo.662.3">In this section, we will look at how we can make our apps accessible. </span><span class="kobospan" id="kobo.662.4">Jetpack Compose </span><a id="_idIndexMarker202" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.663.1">uses </span><strong class="bold"><span class="kobospan" id="kobo.664.1">semantics</span></strong><span class="kobospan" id="kobo.665.1"> to make our apps accessible. </span><span class="kobospan" id="kobo.665.2">Semantics are used to describe the UI elements in our apps. </span><span class="kobospan" id="kobo.665.3">They are used by accessibility services to make our apps accessible. </span><span class="kobospan" id="kobo.665.4">Semantics are</span><a id="_idIndexMarker203" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.666.1"> also used by automated testing tools to test our apps. </span><span class="kobospan" id="kobo.666.2">Some of the best practices for making our apps accessible are </span><span><span class="kobospan" id="kobo.667.1">as follows:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.668.1">We should always ensure that all clickable or touchable elements or those that require user interaction are large enough to be easily tapped or clicked. </span><span class="kobospan" id="kobo.668.2">Most Material components out of the box have a default size that is large enough to be easily tapped or clicked. </span><span class="kobospan" id="kobo.668.3">If we must size by ourselves, we should ensure that the size is at least 48 dp by </span><span><span class="kobospan" id="kobo.669.1">48 dp.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.670.1">We should add content descriptions to our composables. </span><span class="kobospan" id="kobo.670.2">Components such as </span><strong class="source-inline1"><span class="kobospan" id="kobo.671.1">Icon</span></strong><span class="kobospan" id="kobo.672.1"> and </span><strong class="source-inline1"><span class="kobospan" id="kobo.673.1">Image</span></strong><span class="kobospan" id="kobo.674.1"> provide this argument to describe visual elements to accessibility services. </span><span class="kobospan" id="kobo.674.2">We </span><a id="_idIndexMarker204" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.675.1">should always provide a content description for these components. </span><span class="kobospan" id="kobo.675.2">The following is </span><span><span class="kobospan" id="kobo.676.1">an example:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.677.1">
Icon(
    modifier = Modifier.size(48.dp),
    painter = painterResource(id = R.drawable.ic_launcher_foreground),
    contentDescription = "Icon"
)</span></pre><p class="calibre4"><span class="kobospan" id="kobo.678.1">You can see in the preceding code that we are using the </span><strong class="source-inline"><span class="kobospan" id="kobo.679.1">contentDescription</span></strong><span class="kobospan" id="kobo.680.1"> parameter to provide a description for </span><strong class="source-inline"><span class="kobospan" id="kobo.681.1">Icon</span></strong><span class="kobospan" id="kobo.682.1">. </span><span class="kobospan" id="kobo.682.2">This is a good practice that we should </span><span><span class="kobospan" id="kobo.683.1">always follow.</span></span></p></li> <li class="calibre15"><span class="kobospan" id="kobo.684.1">We should label our clickable elements. </span><span class="kobospan" id="kobo.684.2">We can pass a clickable label to the clickable modifiers. </span><span class="kobospan" id="kobo.684.3">This enables us to add descriptions to our clickable elements. </span><span class="kobospan" id="kobo.684.4">The following is </span><span><span class="kobospan" id="kobo.685.1">an example:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.686.1">
Text(
    modifier = Modifier
        .clickable(
            onClick = { /*TODO*/ },
            onClickLabel = "Click Me"
        )
        .padding(10.dp),
    text = "Click Me"
)</span></pre><p class="calibre4"><span class="kobospan" id="kobo.687.1">In the preceding example, we are using the </span><strong class="source-inline"><span class="kobospan" id="kobo.688.1">onClickLabel</span></strong><span class="kobospan" id="kobo.689.1"> parameter to add a description to the </span><strong class="source-inline"><span class="kobospan" id="kobo.690.1">Text</span></strong><span class="kobospan" id="kobo.691.1"> composable. </span><span class="kobospan" id="kobo.691.2">This is a good practice that we should </span><span><span class="kobospan" id="kobo.692.1">always follow.</span></span></p></li> <li class="calibre15"><span class="kobospan" id="kobo.693.1">By using semantics, we can also describe headers. </span><span class="kobospan" id="kobo.693.2">Headers are used to describe the content that follows </span><a id="_idIndexMarker205" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.694.1">them. </span><span class="kobospan" id="kobo.694.2">We can use semantics to add a header to our composables. </span><span class="kobospan" id="kobo.694.3">The following is </span><span><span class="kobospan" id="kobo.695.1">an example:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.696.1">
Text(
    modifier = Modifier
        .semantics { heading() }
        .padding(10.dp),
    text = "Heading One"
)</span></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.697.1">We can additionally provide information about the state of our composables. </span><span class="kobospan" id="kobo.697.2">For example, we can provide information about the state of a button. </span><span class="kobospan" id="kobo.697.3">We can use semantics to provide this information. </span><span class="kobospan" id="kobo.697.4">The following is </span><span><span class="kobospan" id="kobo.698.1">an example:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.699.1">
Button(
    modifier = Modifier
        .semantics { stateDescription = "Disabled" }
        .padding(10.dp),
    onClick = { /*TODO*/ },
    enabled = false
) {
    Text(text = "Disabled Button")
}</span></pre><p class="calibre4"><span class="kobospan" id="kobo.700.1">This helps us inform our users about the state of </span><span><span class="kobospan" id="kobo.701.1">our composables.</span></span></p></li> <li class="calibre15"><span class="kobospan" id="kobo.702.1">For some groups of components, we can also use the </span><strong class="source-inline1"><span class="kobospan" id="kobo.703.1">mergeDescendants</span></strong><span class="kobospan" id="kobo.704.1"> parameter to merge</span><a id="_idIndexMarker206" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.705.1"> the semantics of the children composables. </span><span class="kobospan" id="kobo.705.2">The following is </span><span><span class="kobospan" id="kobo.706.1">an example:</span></span><pre class="source-code"><span class="kobospan1" id="kobo.707.1">
Column(
    modifier = Modifier
        .padding(10.dp)
        .semantics(mergeDescendants = true) { }
) {
    Text(text = "Heading One")
    Text(text = "Heading Two")
    Text(text = "Heading Three")
}</span></pre><p class="calibre4"><span class="kobospan" id="kobo.708.1">Merging descendants is useful when we want to provide a description for a group of composables. </span><span class="kobospan" id="kobo.708.2">In the preceding example, we are using the </span><strong class="source-inline"><span class="kobospan" id="kobo.709.1">mergeDescendants</span></strong><span class="kobospan" id="kobo.710.1"> parameter to merge the semantics of the </span><strong class="source-inline"><span class="kobospan" id="kobo.711.1">Text</span></strong><span class="kobospan" id="kobo.712.1"> composables. </span><span class="kobospan" id="kobo.712.2">However, we should be careful when using this parameter. </span><span class="kobospan" id="kobo.712.3">We should only use it when we want to provide a description for a group of composables. </span><span class="kobospan" id="kobo.712.4">If we use it for a large group of composables, it can lead to performance issues and can also be confusing for </span><span><span class="kobospan" id="kobo.713.1">the users.</span></span></p></li> </ul>
<p class="calibre4"><span class="kobospan" id="kobo.714.1">To learn more about accessibility in Jetpack Compose, visit the official </span><span><span class="kobospan" id="kobo.715.1">documentation (</span></span><a href="https://developer.android.com/jetpack/compose/accessibility" class="calibre3 pcalibre pcalibre1"><span><span class="kobospan" id="kobo.716.1">https://developer.android.com/jetpack/compose/accessibility</span></span></a><span><span class="kobospan" id="kobo.717.1">).</span></span></p>
<h1 id="_idParaDest-59" class="calibre6"><a id="_idTextAnchor065" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.718.1">Summary</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.719.1">In this chapter, we introduced Material 3. </span><span class="kobospan" id="kobo.719.2">We also covered the features that Material 3 offers. </span><span class="kobospan" id="kobo.719.3">We saw how to use Material 3 in our apps. </span><span class="kobospan" id="kobo.719.4">Additionally, we covered how to design and develop our apps for large screens and, finally, we saw how to make our Jetpack Compose </span><span><span class="kobospan" id="kobo.720.1">UIs accessible.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.721.1">In the next chapter, we will continue building upon the skills that we’ve gained from the previous chapters. </span><span class="kobospan" id="kobo.721.2">We will be looking at how to architect our app and the different architectures available. </span><span class="kobospan" id="kobo.721.3">We will learn how to use Jetpack libraries in our apps and how to tackle </span><span><span class="kobospan" id="kobo.722.1">dependency injection.</span></span></p>
</div>
</body></html>