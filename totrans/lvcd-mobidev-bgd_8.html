<html><head></head><body><div class="appendix" title="Appendix&#xA0;A.&#xA0;Extending LiveCode" id="aid-2TEN41"><div class="titlepage"><div><div><h1 class="title"><a id="appA"/>Appendix A. Extending LiveCode</h1></div></div></div><div class="section" title="The story so far…"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec92"/>The story so far…</h1></div></div></div><p>"The Long and Winding Road" was the last single to be released by the Beatles and it would make a good title for a book describing what it took to get LiveCode working on mobile devices! As soon as there were apps on iPhone, RunRev was developing a way to publish apps on iPhone from LiveCode. Then, in April 2010, Steve Jobs wrote this infamous article on Flash, which <a id="id597" class="indexterm"/>you can find at:</p><p>
<a class="ulink" href="http://www.apple.com/hotnews/thoughts-on-flash/">http://www.apple.com/hotnews/thoughts-on-flash/</a>
</p><p>Adobe was also developing a way to publish apps on iPhone from Flash Professional, but as part of Apple's determination to not allow Flash-based apps to be usable on iPhone, the App Store submission rules were changed, forbidding developers from using any tool other than Xcode to publish apps.</p><p>Some tools continued to be in a gray area because they used Xcode to do the final publishing. GameSalad and Unity apps continued to be published and did well in the App Store. RunRev tried to convince Apple to allow LiveCode (which was still called <span class="strong"><strong>Runtime Revolution</strong></span> at the <a id="id598" class="indexterm"/>time) as a publishing tool for iPhone, even promising to only publish apps on iPhone and to not pursue publishing on Android. Apple stood its ground and declined the offer.</p><p>For Adobe, this wasn't the end of the world and it started working on Android publishing. However, RunRev had already planned a conference around the idea of publishing apps to iOS, but that conference had to be postponed.</p><p>During the summer of 2010, Apple ran a survey for developers and several of the questions mentioned in it gave people like me a chance to beg Apple to allow developers to use their preferred development tools so that they don't have a compulsion to use Xcode. It's hard to be sure whether that's what made the difference, but on September 9, 2010, Apple changed its <a id="id599" class="indexterm"/>position on the subject. Here is the post that we woke up to that morning:</p><p>
<a class="ulink" href="http://www.apple.com/pr/library/2010/09/09Statement-by-Apple-on-App-Store-Review-Guidelines.html">http://www.apple.com/pr/library/2010/09/09Statement-by-Apple-on-App-Store-Review-Guidelines.html</a>
</p><p>Colin Holgate (coauthor of this book) quickly posted a message to the Revolution e-mail list titled "<span class="emphasis"><em>how to totally make Kevin's day</em></span>"; "Kevin" being Kevin Miller, the CEO of RunRev. It had the desired effect and you can still read the follow up messages at:</p><p>
<a class="ulink" href="http://runtime-revolution.278305.n4.nabble.com/how-to-totally-make-Kevin-s-day-td2532866.html">http://runtime-revolution.278305.n4.nabble.com/how-to-totally-make-Kevin-s-day-td2532866.html</a>
</p><p>This got RunRev back on <a id="id600" class="indexterm"/>track to achieve its goal of developing a "Publish to iOS" feature; The iPhone OS was renamed as iOS by that time. The delayed conference ended up taking place in San Jose at the end of April 2011. By that time, RunRev had not only made the iOS feature work well, but it had also released the first version of the "Publish to Android" feature.</p><p>It's quite amusing in a way to think that if you intend to publish an app on Android from LiveCode, you can thank Apple for being so stubborn!</p></div></div>
<div class="section" title="Extending LiveCode"><div class="titlepage" id="aid-2UD7M2"><div><div><h1 class="title"><a id="ch07lvl1sec93"/>Extending LiveCode</h1></div></div></div><p>The progress on LiveCode continued at quite a fast pace and by April 2012, RunRev had implemented all the iOS features for <a id="id601" class="indexterm"/>Android as well as added a lot to the feature set for iOS.</p><p>Still today, not every feature is covered and there is a third-party market of add-ons to LiveCode, which either makes developing in LiveCode easier or provide features that are not yet available in the standard version. Here are some of the add-ons, most of which can be <a id="id602" class="indexterm"/>bought from the LiveCode Marketplace at:</p><p>
<a class="ulink" href="http://www.runrev.com/store/">http://www.runrev.com/store/</a>
</p><div class="section" title="MobGUI"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec145"/>MobGUI</h2></div></div></div><p>We already used <a id="id603" class="indexterm"/>
<span class="strong"><strong>MobGUI</strong></span> in earlier chapters. It takes the form of a plugin. You can place the <a id="id604" class="indexterm"/>MobGUI file in your <code class="literal">plugins</code> folder. The LiveCode lesson at <a class="ulink" href="http://lessons.runrev.com/s/lessons/m/4071/l/21341-how-to-install-custom-user-plugins">http://lessons.runrev.com/s/lessons/m/4071/l/21341-how-to-install-custom-user-plugins</a> describes how to add plugins.</p><p>The way MobGUI works is that it lets you place the regular LiveCode controls onto your stack's card and then when the app is run, the standard controls are swapped for native controls. This has an advantage over just making standard controls that look like iOS controls, because the control will look correct too.</p><p>MobGUI doesn't do anything that you cannot do with your own scripts, but it does make it a lot easier to lay out and use mobile OS native controls. It has an option to switch between iOS and Android <a id="id605" class="indexterm"/>themes. There is a YouTube channel for MobGUI that will show you some of the things that can be done using the tool, which you can find at:</p><p>
<a class="ulink" href="http://www.youtube.com/user/MobGUI">http://www.youtube.com/user/MobGUI</a>
</p></div><div class="section" title="tmControl"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec146"/>tmControl</h2></div></div></div><p>The <span class="strong"><strong>tmControl</strong></span> is a set of themes <a id="id606" class="indexterm"/>made by <span class="strong"><strong>Tactile Media</strong></span> that lets you give your LiveCode stacks a more artistic appearance. In addition to sci-fi and other themes, there is an iOS theme that you can find in <code class="literal">tmControl</code>. Here's what it looks like:</p><div class="mediaobject"><img src="../Images/image00318.jpeg" alt="tmControl"/></div><p style="clear:both; height: 1em;"> </p><p>Not too surprising really! An Android theme is planned as well as additions to the iOS theme. You can find the <a id="id607" class="indexterm"/>currently available themes at:</p><p>
<a class="ulink" href="http://tmtools.tactilemedia.com/tmcontrol/themes.html">http://tmtools.tactilemedia.com/tmcontrol/themes.html</a>
</p></div><div class="section" title="The DropTools palette"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec147"/>The DropTools palette</h2></div></div></div><p>Made by Sons of <a id="id608" class="indexterm"/>Thunder Software, the DropTools Palette is a free add-on to LiveCode, which acts as a shell to host many types of custom LiveCode controls. In addition to being the holder for Sons of Thunder custom controls, it is also used by other developers as an easy way to bring their own custom controls to market. The DropTools website includes detailed descriptions of how you can develop your own DropTools compatible controls.</p><p>The site also acts as an <span class="emphasis"><em>aggregator</em></span> for custom LiveCode controls and includes links to both DropTools and non-DropTools compatible add-ons. The main page of DropTools is located at:</p><p>
<a class="ulink" href="http://droptools.sonsothunder.com/">http://droptools.sonsothunder.com/</a>
</p><p>Many of the custom controls do not relate to mobile apps, but there are a few that do and that number will no doubt <a id="id609" class="indexterm"/>increase over time. DropTools does not work with the Community version of LiveCode, though they are trying to reverse the situation.</p></div><div class="section" title="mergExt"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec148"/>mergExt</h2></div></div></div><p>The <code class="literal">mergExt</code> extension is a suite <a id="id610" class="indexterm"/>of external commands for LiveCode. At the time of writing this book, there was no LiveCode Android SDK available, so currently, these are all only for iOS. Here is the list, as it stands, along with the description taken from <a id="id611" class="indexterm"/>the LiveCode Marketplace page <a class="ulink" href="http://mergext.com">http://mergext.com</a>:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">mergAccessory</code>: This is an iOS external used to connect to and communicate with accessory hardware using the <span class="strong"><strong>External Accessory framework</strong></span>.</li><li class="listitem"><code class="literal">mergAES</code>: This provides easy-to-use AES 128 and 256 encryption in the CBC or ECB mode.</li><li class="listitem"><code class="literal">mergAnswerColor</code>: This is an iOS external that presents a modal color picker.</li><li class="listitem"><code class="literal">mergAV</code>: This is an iOS external that adds functions and commands related to the <span class="strong"><strong>AVFoundation </strong></span><a id="id612" class="indexterm"/><span class="strong"><strong>framework</strong></span>. This currently includes selecting, recording, saving, and editing videos.</li><li class="listitem"><code class="literal">mergAWS</code>: This is an iOS and MacOS X external that adds functions and commands to use Amazon web services.</li><li class="listitem"><code class="literal">mergBanner</code>: This is an iOS external that adds an <span class="strong"><strong>iAd banner</strong></span> to your app at the bottom of the screen.</li><li class="listitem"><code class="literal">mergBgTask</code>: This is <a id="id613" class="indexterm"/>an iOS external that adds commands to start and stop background tasks on iOS. Background tasks allow your app to continue executing the code while in the background.</li><li class="listitem"><code class="literal">mergBonjour</code>: This is an iOS external that implements the bonjour service; searching and registration.</li><li class="listitem"><code class="literal">mergCL</code>: This implements significant location change and region monitoring. The external will allow iOS to wake your app up in the background and receive a message when the user enters or exits a region or moves a significant distance.</li><li class="listitem"><code class="literal">mergDoc</code>: This is an iOS external that adds functions and commands related to document interaction. This currently includes presenting a modal preview, opening in app menu, document options menu, and requesting the document icons in PNG form. Printing is also available here via the preview.</li><li class="listitem"><code class="literal">mergDropbox</code>: This is an iOS external used to interact with a user's Dropbox account. The external enables you to upload and download files, create folders, and manage the files on the user's Dropbox account.<p>The Dropbox Sync SDK handles all the syncing of files for you and allows you to interact with your app directory just like a local filesystem.</p></li><li class="listitem"><code class="literal">mergFTPD</code>: This adds an FTP daemon to your app allowing FTP client connections. Use <code class="literal">mergFTPD</code> to manage your app's files from your desktop version</li><li class="listitem"><code class="literal">mergGK</code>: This is an iOS external that adds GameKit/Game Center commands and functions to LiveCode.</li><li class="listitem"><code class="literal">mergJSON</code>: This is a JSON encoding/decoding external that supports all the platforms LiveCode supports.</li><li class="listitem"><code class="literal">mergLA</code>: This is an iOS external that adds a command to present a local authentication dialog box to the user if they have set up the biometric touch ID authentication.</li><li class="listitem"><code class="literal">mergMK</code>s: This is a LiveCode MapKit external that adds a map control, which supports and shows the user's location with a heading, adding annotation pins, and polylines.</li><li class="listitem"><code class="literal">mergMP</code>: This is an iOS external that adds functions and commands related to the MediaPlayer framework. This currently includes functions such as querying the iPod library and accessing the properties of the found media collections.</li><li class="listitem"><code class="literal">mergNIC</code>: This is an iOS <a id="id614" class="indexterm"/>external used to obtain information about the network interfaces active on the device.</li><li class="listitem"><code class="literal">mergNotify</code>: This is an iOS external that adds a command to request a notification callback whenever the iOS Notification Center receives the event notification.</li><li class="listitem"><code class="literal">mergPop</code>: This is an iOS external that adds functions to present an action sheet (pop over on an iPad) and contextual menu for user interaction.</li><li class="listitem"><code class="literal">mergReader</code>: This is an iOS external that presents a modal PDF reader using the open source <code class="literal">vfrReader</code> project.</li><li class="listitem"><code class="literal">mergSettings</code>: This is an iOS external that integrates a LiveCode app with the <span class="strong"><strong>Settings</strong></span> app and also includes <code class="literal">InAppSettingsKit</code> to present a matching dialog box from within your app.</li><li class="listitem"><code class="literal">mergSocial</code>: This is an iOS external that adds commands to present Twitter, Facebook, and Weibo post modal views.</li><li class="listitem"><code class="literal">mergSocket</code>: This is an iOS external that provides TCP and UDP (datagram) client and server sockets.</li><li class="listitem"><code class="literal">mergXattr</code>: This is an iOS external that adds commands to set the <code class="literal">do not backup</code> and <code class="literal">protection</code> attributes of a file.</li><li class="listitem"><code class="literal">mergZXing</code>: This is a LiveCode external that uses the <code class="literal">ZXing</code> library to read a wide range of barcode <a id="id615" class="indexterm"/>types via the rear camera of a mobile device.</li></ul></div></div><div class="section" title="animationEngine"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec149"/>animationEngine</h2></div></div></div><p>This allows you to create <a id="id616" class="indexterm"/>smooth animations and detect collisions between objects. It is well suited for both creating games and making presentation apps. You can find its information page at the LiveCode Marketplace website <a class="ulink" href="https://livecode.com/store/marketplace/animation-engine-5/">https://livecode.com/store/marketplace/animation-engine-5/</a>.</p><p>Although not specifically <a id="id617" class="indexterm"/>for mobile use, <code class="literal">animationEngine</code> <a id="id618" class="indexterm"/>has been adjusted to comply with iOS App Store requirements and so it should still be of use to make iOS apps. It also works for Android apps.</p></div><div class="section" title="AirLaunch"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec150"/>AirLaunch</h2></div></div></div><p>As shown in the <span class="emphasis"><em>Creating over the air installers for iOS</em></span> section in the last chapter, AirLaunch is an <a id="id619" class="indexterm"/>add-on that makes it easy to create over-the-air installer files for iOS. A detailed description for this can be found at:</p><p>
<a class="ulink" href="http://www.hyperactivesw.com/airlaunch/index.html">http://www.hyperactivesw.com/airlaunch/index.html</a>
</p></div><div class="section" title="The ControlManager IDE"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec151"/>The ControlManager IDE</h2></div></div></div><p>ControlManager <a id="id620" class="indexterm"/>from The Flexible Learning Company is an IDE palette designed to provide easy-view access to your project's structure, properties, and layout. It is compatible with the free edition of LiveCode as well as the commercial edition for Windows, Mac, and Linux platforms. It keeps up with your actions in the IDE and updates itself as you work.</p><p>ControlManager has three tab displays designed to support the IDE that present structure, properties, and geometry as an easy-to-use overview.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Control Browser</strong></span>: This is a navigable structural hierarchy with shuffle options and control-specific icon identification from deeply nested groups up to an overview of all available stacks, subStacks, and cards.</li><li class="listitem"><span class="strong"><strong>Property Editor</strong></span>: This allows you to preview, compare, and edit any property for any control, group, card, subStack, or stack in one easy-to-see list. These can be listed alphabetically or by type, including access to basic or multidimensional custom properties. You can apply any visual effect from <code class="literal">dropShadows</code> to <code class="literal">colorOverlays</code> with built-in drag controls for <code class="literal">fillGradient</code> and <code class="literal">strokeGradient</code>.</li><li class="listitem"><span class="strong"><strong>Geometry Editor</strong></span>: This contains point-and-click features for 3-way resizing, 4-way nudging, 9-way alignment, 6-way distribution, and 5-way layering with 7 image manipulation options. Using LiveCode's frontscript layer, the palette keeps up with <a id="id621" class="indexterm"/>you automatically, refreshing as you shuffle between objects, cards, and stacks. For more information <a id="id622" class="indexterm"/>regarding ControlManager, refer to <a class="ulink" href="http://www.flexiblelearning.com/controlmanager/"> http://www.flexiblelearning.com/controlmanager/</a>.</li></ul></div></div></div>
<div class="section" title="Creating your own add-ons" id="aid-2VBO81"><div class="titlepage"><div><div><h1 class="title"><a id="ch07lvl1sec94"/>Creating your own add-ons</h1></div></div></div><p>The two main types of <a id="id623" class="indexterm"/>add-ons that you might be interested in making are custom controls and external <a id="id624" class="indexterm"/>commands and functions (generally referred to as <span class="strong"><strong>externals</strong></span>).</p><div class="section" title="Custom controls"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec152"/>Custom controls</h2></div></div></div><p>Custom controls <a id="id625" class="indexterm"/>are typically made of a group that holds many standard controls and a group script that manages the appearance and interactions of these controls. A custom control's functionality is entirely encapsulated within itself and doesn't <a id="id626" class="indexterm"/>affect its environment in any way. There is a tutorial on how to make such a custom control at:</p><p>
<a class="ulink" href="http://lessons.runrev.com/m/4071/l/22272-custom-controls">http://lessons.runrev.com/m/4071/l/22272-custom-controls</a>
</p><p>If you intend to go on to make a nice custom palette, to make it easy to drag-and-drop your custom controls onto the card window, consider making it DropTools compatible. You would save yourself a significant amount of time solving the issue that DropTools already solves, and your custom controls would fit in with the other DropTools controls, making the screen less crowded with custom palettes! There is a lot of information available on how to <a id="id627" class="indexterm"/>develop DropTools compatible controls at:</p><p>
<a class="ulink" href="http://droptools.sonsothunder.com/developer/">http://droptools.sonsothunder.com/developer/</a>
</p></div><div class="section" title="Externals"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec153"/>Externals</h2></div></div></div><p>Down the left-hand side of the <a id="id628" class="indexterm"/>previously-mentioned "lessons" page is a long list of tutorials, several of which relate to the topic of making externals. These particular tutorials are intended to develop externals for desktop applications. To develop mobile <a id="id629" class="indexterm"/>externals, you should check out:</p><p>
<a class="ulink" href="http://livecode.com/developers/guides/externals/">http://livecode.com/developers/guides/externals/</a>
</p><p>At the time of writing, this page only covers iOS externals, but there is reason to hope that by the time you read this book, there will be information on how to create Android externals too. This page is quite long and even includes a 17-minute video! The video can also be viewed on YouTube at:</p><p>
<a class="ulink" href="https://www.youtube.com/watch?feature=player_embedded&amp;v=lqduyQkhigg">https://www.youtube.com/watch?feature=player_embedded&amp;v=lqduyQkhigg</a>
</p><p>Creating externals is not simple. If you have an idea for a useful external, but feel it's beyond your abilities or <a id="id630" class="indexterm"/>interest to create, take a look at the <code class="literal">mergExt</code> site:</p><p>
<a class="ulink" href="http://mergext.com">http://mergext.com</a>
</p><p>Here, you can make <a id="id631" class="indexterm"/>suggestions for externals that you would like to see created.</p><p>If you do feel you can make externals, why not make them available as products? The going rate for these add-ons is in the $30-$100 range—any sales you make will offset your development costs.</p></div><div class="section" title="Open source"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec154"/>Open source</h2></div></div></div><p>
<span class="strong"><strong>LiveCode Community</strong></span> is an <a id="id632" class="indexterm"/>Open Source application. This means that you can look at and edit all of the code used to run it, including the engine code.</p><p>Any apps you create using LiveCode <a id="id633" class="indexterm"/>Community must be open source. You can sell what you make, but you must make your source code public under the GPL license. You can include it with your distributed app or include a link to it that users can click on to view your code. If at any time you want to create a professional app and protect your code, you can purchase a Commercial license for LiveCode, which allows you to build a closed source app.</p><p>If you know C++, you can get right into the code and add your own features, fixes, and enhancements. After a screening process, your new features can get incorporated into LiveCode itself, making it better for everybody. The following link shows you how you can <a id="id634" class="indexterm"/>contribute to the effort:</p><p>
<a class="ulink" href="http://livecode.com/community/contribute-to-livecode/">http://livecode.com/community/contribute-to-livecode/</a>
</p><p>Users <a id="id635" class="indexterm"/>wishing to contribute code are required to sign a contributor's agreement that can be found at:</p><p>
<a class="ulink" href="http://livecode.com/store/account/contributor-agreement-signup">http://livecode.com/store/account/contributor-agreement-signup</a>
</p><p>RunRev uses <span class="strong"><strong>GitHub</strong></span> to host the source files that make up LiveCode. This is where all the interaction with the LiveCode source files takes place. If you want to make changes to LiveCode, you will need a GitHub account and understand how to use it. If you are only interested in obtaining an <a id="id636" class="indexterm"/>open source copy of the LiveCode files, you can <a id="id637" class="indexterm"/>download the zipped bundle from GitHub without having to register at <a class="ulink" href="https://github.com/runrev/livecode">https://github.com/runrev/livecode</a>.</p></div><div class="section" title="Quality control"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec155"/>Quality control</h2></div></div></div><p>If you are not comfortable <a id="id638" class="indexterm"/>working with C++ and you've come across a bug, you can report it and request features in the traditional way. You can help RunRev improve the quality of LiveCode by getting involved in the bug management process. In particular, there is ample opportunity for you to help reproduce reported bugs and fix bugs in the source code.</p><p>The <span class="strong"><strong>Quality Control Center</strong></span> is open to everyone. You can report bugs, request that bugs are assigned to you, and watch the progress of bugs that are being addressed. A helpful search bar is <a id="id639" class="indexterm"/>provided at the bottom of your Quality Control Center screen. This gives you access to bugs that you raised, that are assigned to you, that require investigation, and fixes that are ready for the next release. You can create your own Quality Control Center account by going to:</p><p>
<a class="ulink" href="http://quality.runrev.com/">http://quality.runrev.com/</a>
</p><p>Once you have set up an account, you can continue to use this link to access the Quality Control Center in the future. You should search the database for similar problems before submitting a new bug.</p></div></div>
<div class="section" title="A New World of Extensions"><div class="titlepage" id="aid-30A8Q2"><div><div><h1 class="title"><a id="ch07lvl1sec95"/>A New World of Extensions</h1></div></div></div><p>Up to this point in time <a id="id640" class="indexterm"/>of writing, everything that we've discussed is available. However, there is a new world coming in the LiveCode 8.0 development. The following text is a look at the future as presented at the RunRev14 conference in September 2014 and as presented in an early 2015 newsletter status report by Benjamin Beaumont of LiveCode. We have been hearing <a id="id641" class="indexterm"/>about an <span class="strong"><strong>Open Language</strong></span> and <span class="strong"><strong>Widgets</strong></span>. Some of the <a id="id642" class="indexterm"/>terminology and details may change from what we present here. Indeed, Open Language already has seen the terms of LiveCodish, Modular LiveCode, and now LiveCode Builder.</p><p>While all the previous add-ons were extensions, the term is taking on an expanded meaning. An extension is a black box that extends the engine in some way, exporting handlers that perform specific functions. They are insulated from the rest of the engine and each other.</p><p>The new<span class="strong"><strong> Extensions</strong></span> can be libraries or widgets. Libraries are the replacement for externals, add commands, and functions that are like the built-in ones and are not in the message path. Parameters can be typed, eliminating the need for repetitive type checking of the code. They <a id="id643" class="indexterm"/>also support seamless usage of foreign code. Libraries are written in exactly the same way as a widget except that any "public" handlers in the library are made available as syntax in the LiveCode Script.</p><p>A <span class="strong"><strong>Widget</strong></span> in LiveCode is a <a id="id644" class="indexterm"/>script that has direct access to the 2D drawing library and a canvas to draw on. Widgets are like existing built-in controls that you select from the tools palette. In particular, widgets have complete control over how they respond and which messages the LiveCode script sees.</p><p>Widgets are implemented as a collection of event handlers, such as <code class="literal">mouseEnter</code>, <code class="literal">mouseLeave</code>, <code class="literal">mouseMove</code>, <code class="literal">mouseDown</code>, <code class="literal">mouseUp</code>, <code class="literal">mouseRelease</code>, <code class="literal">keyPress</code>, <code class="literal">save</code>, <code class="literal">load</code>, and finally <code class="literal">paint</code>. The <code class="literal">paint</code> event is called to render a widget using 2D canvas syntax. All operations use floating point <a id="id645" class="indexterm"/>coordinates, so we will have subpixel positioning. Widgets will be able to have a tree of child widgets internally, so that complex widgets can be built out of simple widgets.</p><div class="section" title="Inside extensions"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec156"/>Inside extensions</h2></div></div></div><p>Extensions are built and distributed as single file archives that contain a compiled LiveCode Builder, the original LiveCode Builder source (nonoptional if an open source extension!), compiled foreign code (if needed), and file-based resources private to the extension.</p><p>Extensions will be <a id="id646" class="indexterm"/>versioned so that you can put out maintenance updates and feature updates. No action will need to be taken by the LiveCode user for maintenance updates, but the user will need to choose when to update LiveCode for feature updates.</p><p>Extensions can require that other extensions be installed and the IDE handles this seamlessly. If you load a stack requiring extensions that you don't have, the IDE will go and find them, but you might have to pay for some of them!</p></div><div class="section" title="LiveCode Builder"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec157"/>LiveCode Builder</h2></div></div></div><p>
<span class="strong"><strong>LiveCode Builder</strong></span> is a <a id="id647" class="indexterm"/>variant of the existing LiveCode language designed to be a 'systems-building' language. It is a minimal language and all its functionality is notionally provided by libraries. Foreign code bindings are built in and they are statically compiled as bytecode.</p><p>One of the design goals of LiveCode Builder was the ease of translation to web-based technologies (JavaScript and HTML5). As LiveCode 8 matures, the plan is to move parts of the existing engine functionality into libraries written in LiveCode Builder, allowing most of the engine to be shared between HTML5 and traditional platforms. This is a key milestone on the journey to get HTML5 support.</p><p>How does LiveCode Builder code compare it with the current scripting language? For all the basics such as <code class="literal">repeat/if/switch/put</code>, it's much the same if not identical. The primary difference is that you have to specify the type for variables and instantiate them. Here is an example:</p><div class="informalexample"><pre class="programlisting">variable tArray as array
put the empty array into tArray
put "ben" into tArray["name"]
if tArray["name"] is "Ben" then
answer "I found" &amp;&amp; tArray["name"]
end if</pre></div><p>The other difference is that there is lots of new syntax to do things that previously weren't possible. For example, drawing a widget on screen accesses a canvas API. You also have to add some <a id="id648" class="indexterm"/>default setup to tell LiveCode what to do with the source file and what libraries to use. Here is a simple example of a pink circle widget:</p><div class="informalexample"><pre class="programlisting">widget com.livecode.extensions.beaumont.pinkCircle
metadata title is "My Pink Circle"
metadata author is "Benjamin Beaumont"
metadata version is "1.0.0"
use com.livecode.canvas
public handler OnPaint()
// Create a path with a radius of half the width of the canvas
variable tCirclePath as Path
put rounded rectangle path of my bounds with radius my height / 2 into tCirclePath
// Set the paint to a solid pink color
set the paint of this canvas to solid paint with color [1, 0, 1]
// Fill the path
fill tCirclePath on this canvas
end handler
end widget</pre></div></div><div class="section" title="Additional constructs"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec158"/>Additional constructs</h2></div></div></div><div class="section" title="Packages"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl3sec32"/>Packages</h3></div></div></div><p>A package defines the <a id="id649" class="indexterm"/>contents of an extension using a text file with a well-defined syntax. This description is passed to the LiveCode Builder compiler.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Modular LiveCode source files (parts)</li><li class="listitem">Precompiled foreign code (code)</li><li class="listitem">Arbitrary file-based <a id="id650" class="indexterm"/>resources (file/folder)</li></ul></div></div><div class="section" title="Modules"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl3sec33"/>Modules</h3></div></div></div><p>A module is a collection of <a id="id651" class="indexterm"/>handlers composed of multiple source files specialized for specific platforms. Modules can be either widgets or libraries specified by the first line of the part...</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">widget &lt;name&gt; [ based on &lt;name&gt; ]</li><li class="listitem">library &lt;name&gt; [ for &lt;platform&gt; ]</li></ul></div></div></div><div class="section" title="Roadmap"><div class="titlepage"><div><div><h2 class="title"><a id="ch07lvl2sec159"/>Roadmap</h2></div></div></div><p>RunRev <a id="id652" class="indexterm"/>updates the LiveCode Roadmap about once a year. You can <a id="id653" class="indexterm"/>find the most recent one at:</p><p>
<a class="ulink" href="http://livecode.com/community/roadmap/">http://livecode.com/community/roadmap/</a>
</p><p>LiveCode version 8.0 will encompass what we discussed previously and is the basis for many more advancements. The <span class="strong"><strong>Open Language</strong></span> will be used to complete network, socket, and database <a id="id654" class="indexterm"/>libraries with English-like syntax as part of the development and testing process of this feature. <span class="strong"><strong>Widgets</strong></span> <a id="id655" class="indexterm"/>will be the basis for improvement in controls to play videos across all platforms and a new vector shape object. A new <span class="strong"><strong>IDE</strong></span> will be developed based on the previous technologies.</p><p>In August 2014, RunRev <a id="id656" class="indexterm"/>completed a $400k fund raising effort to add <span class="strong"><strong>HTML5</strong></span> support to the LiveCode suite. The funding allowed the hiring of additional staff to support this effort. HTML5 web delivery will provide the ability to output your LiveCode applications into modern web browsers, allowing a faithful representation of your application within the browser environment. It uses HTML5 so it does not require a browser plugin. You will be able to author true web apps with LiveCode.</p><p>Several projects are queued <a id="id657" class="indexterm"/>for completion after this. A <span class="strong"><strong>Physics Engine</strong></span> will incorporate Box2D into LiveCode along with an animation loop feature. A <span class="strong"><strong>Windows 8</strong></span> port to support Windows mobile devices will be based on the new platform API developed for the Macintosh Cocoa port.</p></div></div></body></html>