- en: '13'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '13'
- en: Modifying App Screens
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 修改应用程序屏幕
- en: In *Chapter 11,* *Building Your User Interface*, you added some of the screens
    required for your app to match what was shown during the app tour. In *Chapter
    12,* *Finishing Your User Interface*, you added the remaining screens required
    for your app. You’re now able to navigate through all the screens of your app
    when you run it in Simulator, but the screens still lack the user interface elements
    required for data input and data display.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在*第11章*，*构建你的用户界面*中，你添加了一些应用程序所需屏幕，以匹配应用程序浏览中显示的内容。在*第12章*，*完成你的用户界面*中，你添加了应用程序所需的其他屏幕。现在，当你运行模拟器中的应用程序时，你将能够导航到应用程序的所有屏幕，但屏幕仍然缺少数据输入和数据显示所需的用户界面元素。
- en: In this chapter, you’ll add and configure the missing user interface elements
    to the Journal List, Add New Journal Entry, and Journal Entry Detail screens,
    to match the design shown in the app tour.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将向期刊列表、添加新期刊条目和期刊条目详情屏幕添加和配置缺失的用户界面元素，以匹配应用程序浏览中的设计。
- en: For the Journal List screen, you’ll modify the `journalCell` table view cell
    by adding an image view and two labels to it, so that it can display the photo,
    date, and title of a journal entry. For the Add New Journal Entry screen, you’ll
    modify it by adding a custom view, a switch, a text field, a text view, and an
    image view, so that you can enter the details of a new journal entry. You’ll also
    configure the image view to show a default image. For the Journal Entry Detail
    screen, you’ll add a text view, labels, and image views to it and configure the
    image views to show default images, so that the screen can display the details
    of an existing journal entry. With all the user interface elements in place, your
    app will be ready for code, which you will implement in *Part 3* of this book.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 对于期刊列表屏幕，你需要通过向其中添加一个图像视图和两个标签来修改`journalCell`表格视图单元格，以便它可以显示期刊条目的照片、日期和标题。对于添加新期刊条目屏幕，你需要通过添加自定义视图、开关、文本字段、文本视图和图像视图来修改它，以便你可以输入新期刊条目的详细信息。你还需要配置图像视图以显示默认图像。对于期刊条目详情屏幕，你需要在其中添加文本视图、标签和图像视图，并配置图像视图以显示默认图像，以便屏幕可以显示现有期刊条目的详细信息。在所有用户界面元素就位后，你的应用程序将准备好进行代码实现，这些代码将在本书的*第3部分*中实现。
- en: By the end of this chapter, you will be more proficient in adding and positioning
    user interface elements and will have gained more experience in how to use constraints
    to determine their position relative to one another. This will be useful to ensure
    compatibility with different screen sizes and orientations, enabling you to easily
    prototype the appearance and flow of your apps.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将更加熟练地添加和定位用户界面元素，并将获得更多使用约束来确定它们相对位置的经验。这将有助于确保与不同屏幕尺寸和方向的兼容性，使你能够轻松地原型化应用程序的外观和流程。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Modifying the Journal List screen
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改期刊列表屏幕
- en: Modifying the Add New Journal Entry screen
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改添加新期刊条目屏幕
- en: Modifying the Journal Entry Detail screen
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 修改期刊条目详情屏幕
- en: Technical requirements
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: You will continue working on the `JRNL` project that you modified in the previous
    chapter.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 你将继续在上一章中修改的`JRNL`项目中工作。
- en: 'The completed Xcode project for this chapter is in the `Chapter13` folder of
    the code bundle for this book, which can be downloaded here:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 本章完成的Xcode项目位于本书代码包的`Chapter13`文件夹中，可以通过以下链接下载：
- en: '[https://github.com/PacktPublishing/iOS-17-Programming-for-Beginners-Eighth-Edition](https://github.com/PacktPublishing/iOS-17-Programming-for-Beginners-Eighth-Edition%0D)'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://github.com/PacktPublishing/iOS-17-Programming-for-Beginners-Eighth-Edition](https://github.com/PacktPublishing/iOS-17-Programming-for-Beginners-Eighth-Edition%0D)'
- en: 'Check out the following video to see the code in action:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 查看以下视频以查看代码的实际效果：
- en: '[https://youtu.be/tgo2dT1LZeM](https://youtu.be/tgo2dT1LZeM%0D)'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://youtu.be/tgo2dT1LZeM](https://youtu.be/tgo2dT1LZeM%0D)'
- en: Let’s start by modifying the `journalCell` table view cell on the Journal List
    screen. In the next section, you’ll add some user interface elements to make it
    match the table view cell shown in the app tour.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从修改期刊列表屏幕上的`journalCell`表格视图单元格开始。在下一节中，你将添加一些用户界面元素，使其与应用程序浏览中显示的表格视图单元格相匹配。
- en: Modifying the Journal List screen
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 修改期刊列表屏幕
- en: 'Let’s see what the Journal List screen looked like in the app tour:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看应用程序浏览中期刊列表屏幕的样子：
- en: '![](img/B31371_13_01.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_01.png)'
- en: 'Figure 13.1: The Journal List screen for the completed JRNL app'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.1：完成的JRNL应用程序的期刊列表屏幕
- en: As you can see, the table view cells on the Journal List screen have a photo,
    a date, and a journal entry title. In *Chapter 11*, *Building Your User Interface*,
    you set the background color for the `journalCell` table view cell to cyan and
    configured the table view to display a column of 10 cells. You’ll now remove the
    background color and add user interface elements to the `journalCell` table view
    cell, matching the design shown in the app tour. You’ll start by adding an image
    view to it in the next section.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，日记列表屏幕上的表视图单元格有一个照片、一个日期和一个日记条目标题。在 *第 11 章*，*构建您的用户界面* 中，您为 `journalCell`
    表视图单元格设置了青色背景，并配置了表视图以显示 10 个单元格的列。现在您将移除背景颜色，并将用户界面元素添加到 `journalCell` 表视图单元格中，以匹配应用导览中的设计。您将从下一节开始向其中添加图像视图。
- en: Adding an image view to journalCell
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 添加到 journalCell 的图像视图
- en: 'An image view is an instance of the `UIImageView` class. It can display a single
    image or a sequence of animated images in your app. To add an image view to the
    `journalCell` table view cell, follow these steps:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 图像视图是 `UIImageView` 类的一个实例。它可以在您的应用中显示单个图像或一系列动画图像。要将图像视图添加到 `journalCell` 表视图单元格中，请按照以下步骤操作：
- en: 'To make the user interface elements easier to see when you add them to the
    storyboard, choose **Canvas** | **Bounds Rectangles** from the **Editor** menu:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了在将用户界面元素添加到故事板时更容易看到它们，从 **编辑器** 菜单中选择 **画布** | **边界矩形**：
- en: '![](img/B31371_13_02.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_02.png)'
- en: 'Figure 13.2: Editor menu with Canvas | Bounds Rectangles selected'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.2：选择 Canvas | Bounds Rectangles 的编辑器菜单
- en: This will apply a thin blue outline to the user interface elements in the storyboard.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这将应用一个薄薄的蓝色轮廓到故事板中的用户界面元素。
- en: 'Click the **Main** storyboard file in the Project navigator. Under the first
    **Journal Scene**, select **journalCell** in the document outline:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中点击 **主故事板文件**。在第一个 **日记场景** 下，在文档大纲中选择 **journalCell**：
- en: '![](img/B31371_13_03.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_03.png)'
- en: 'Figure 13.3: Document outline showing journalCell'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.3：显示 journalCell 的文档大纲
- en: 'You will need to remove the background color you set earlier prior to adding
    the image view. In the Attributes inspector, under **View**, set **Background**
    to **Default**:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在添加图像视图之前，您需要移除之前设置的背景颜色。在属性检查器中，在 **视图** 下，将 **背景** 设置为 **默认**：
- en: '![](img/B31371_13_04.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_04.png)'
- en: 'Figure 13.4: Attributes inspector settings for journalCell'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.4：journalCell 的属性检查器设置
- en: 'To add an image view to the table view cell, click the **Library** button.
    Type `imag` into the filter field. An **Image View** object will appear in the
    results. Drag it into the prototype cell:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将图像视图添加到表视图单元格中，点击 **库** 按钮。在过滤器字段中输入 `imag`。一个 **图像视图** 对象将出现在结果中。将其拖动到原型单元格中：
- en: '![](img/B31371_13_05.png)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_05.png)'
- en: 'Figure 13.5: Prototype cell with image view added'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.5：添加了图像视图的原型单元格
- en: 'To ensure the constraints for the newly added image view can be set properly,
    verify that it is a subview of the **journalCell** table view cell’s **Content
    View** and is selected:'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了确保新添加的图像视图的约束可以正确设置，请验证它是否是 **journalCell** 表视图单元格的 **内容视图** 的子视图，并且已被选中：
- en: '![](img/B31371_13_06.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_06.png)'
- en: 'Figure 13.6: Document outline with Image View object selected'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.6：选择 Image View 对象的文档大纲
- en: 'Click the Add New Constraints button, and enter the following values to set
    the constraints for the newly added image view:'
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **添加新约束** 按钮，并输入以下值以设置新添加的图像视图的约束：
- en: 'Top: `0`'
  id: totrans-41
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顶部：`0`
- en: 'Left: `0`'
  id: totrans-42
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 左侧：`0`
- en: 'Bottom: `0`'
  id: totrans-43
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 底部：`0`
- en: 'Width: `90`'
  id: totrans-44
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 宽度：`90`
- en: 'Height: `90`'
  id: totrans-45
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高度：`90`
- en: When done, click the **Add 5 Constraints** button.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，点击 **添加 5 个约束** 按钮。
- en: '![](img/B31371_13_07.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_07.png)'
- en: 'Figure 13.7: Add New Constraints dialog box'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.7：添加新约束对话框
- en: This binds the image view’s top, left, and bottom edges to the corresponding
    edges of the `journalCell` table view cell, and sets its width and height to `90`
    points. It also implicitly sets the height of the table view cell to `90` points.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这将图像视图的顶部、左侧和底部边缘绑定到 `journalCell` 表视图单元格的相应边缘，并将其宽度和高度设置为 `90` 点。它还隐式地将表视图单元格的高度设置为
    `90` 点。
- en: 'In the Attributes inspector, under **Image View**, set **Image** to `face.smiling`:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在属性检查器中，在 **图像视图** 下，将 **图像** 设置为 `face.smiling`：
- en: '![](img/B31371_13_08.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_08.png)'
- en: 'Figure 13.8: Image view with Image set to face.smiling'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.8：将 Image 设置为 face.smiling 的图像视图
- en: You have successfully added an image view to the table view cell, set its default
    image, and applied constraints to determine its position relative to its enclosing
    view. Cool!
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 您已成功将图像视图添加到表视图单元格中，设置了其默认图像，并应用了约束以确定其相对于封装视图的位置。太酷了！
- en: In the next section, you’ll add user interface elements that will be used to
    display the date and the title of the journal entry.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，您将添加用于显示日记条目日期和标题的用户界面元素。
- en: Adding labels to journalCell
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向 journalCell 添加标签
- en: You will use labels to display the date and the journal entry title in the `journalCell`
    table view cell. A label is an instance of the `UILabel` class. It can display
    one or more lines of text in your app.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 您将使用标签在 `journalCell` 表视图单元格中显示日期和日记条目标题。标签是 `UILabel` 类的实例。它可以在您的应用中显示一行或多行文本。
- en: 'To add labels to the `journalCell` table view cell, follow these steps:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 要向 `journalCell` 表视图单元格添加标签，请按照以下步骤操作：
- en: 'First, you’ll add a label to display the date. Click the Library button and
    drag a **Label** object to the space between the image view you just added and
    the right side of the prototype cell:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，您将添加一个标签来显示日期。点击库按钮，并将一个 **标签** 对象拖动到您刚刚添加的图像视图和原型单元格右侧之间的空间：
- en: '![](img/B31371_13_09.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_09.png)'
- en: 'Figure 13.9: Library with the Label object selected'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '图 13.9: 选择标签对象的库'
- en: Note that **Label** appears in the document outline and is a subview of the
    **journalCell** table view cell’s **Content View**.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，**标签** 出现在文档大纲中，并且是 **journalCell** 表视图单元格的 **内容视图** 的子视图。
- en: 'In the Attributes inspector, under **Label**, set **Font** to **Title 1** using
    the **Font** menu:'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在属性检查器中，在 **标签** 下，使用 **字体** 菜单将 **字体** 设置为 **标题 1**：
- en: '![](img/B31371_13_10.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_10.png)'
- en: 'Figure 13.10: Attributes inspector for Label'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '图 13.10: 标签属性检查器'
- en: 'Click the **Add New Constraints** button, and enter the following values to
    set the constraints for the label:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **添加新约束** 按钮，并输入以下值以设置标签的约束：
- en: 'Top: `0`'
  id: totrans-66
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '顶部: `0`'
- en: 'Left: `8`'
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '左侧: `8`'
- en: 'Right: `0`'
  id: totrans-68
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '右侧: `0`'
- en: '**Constrain to Margins** should already be checked, which sets a standard margin
    of `8` points as the space between the top and right sides of the label, and the
    top and right sides of the table view cell. When done, click the **Add 3 Constraints**
    button.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '**约束到边距** 应已选中，这会将标准边距 `8` 点设置为标签顶部和右侧以及表格视图单元格顶部和右侧之间的空间。完成时，点击 **添加 3 个约束**
    按钮。'
- en: 'Verify that the position of the label appears as shown in the screenshot below
    and that the newly added constraints are in the document outline:'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证标签的位置是否如图下截图所示，以及新添加的约束是否在文档大纲中：
- en: '![](img/B31371_13_11.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_11.png)'
- en: 'Figure 13.11: Label with constraints applied'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '图 13.11: 应用了约束的标签'
- en: The space between the top edge of the label and the top edge of the `journalCell`
    content view is set to `0 + 8` points. The space between the left edge of the
    label and the right edge of the image view is `8` points. The space between the
    right edge of the label and the right edge of the `journalCell` content view is
    `0 + 8` points. The position of the bottom edge of the label is automatically
    set by the text style you set earlier.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 标签顶部边缘与 `journalCell` 内容视图顶部边缘之间的空间设置为 `0 + 8` 点。标签左侧边缘与图像视图右侧边缘之间的空间为 `8` 点。标签右侧边缘与
    `journalCell` 内容视图右侧边缘之间的空间为 `0 + 8` 点。标签底部边缘的位置由您之前设置的文本样式自动设置。
- en: 'Next, you’ll add a label to display the journal entry title. Follow these steps:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将添加一个标签来显示日记条目标题。按照以下步骤操作：
- en: 'Click the Library button and drag a **Label** object to the space between the
    label you just added and the bottom of the prototype cell:'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击库按钮，并将一个 **标签** 对象拖动到您刚刚添加的标签和原型单元格底部的空间之间：
- en: '![](img/B31371_13_12.png)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_12.png)'
- en: 'Figure 13.12: Library with the Label object selected'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '图 13.12: 选择标签对象的库'
- en: Note that **Label** appears in the document outline and is a subview of the
    **journalCell** table view cell’s **Content View**.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，**标签** 出现在文档大纲中，并且是 **journalCell** 表视图单元格的 **内容视图** 的子视图。
- en: 'In the Attributes inspector, under **Label**, set **Font** to **Body** using
    the **Font** menu, and set **Lines** to `2`:'
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在属性检查器中，在 **标签** 下，使用 **字体** 菜单将 **字体** 设置为 **正文**，并将 **线条** 设置为 `2`：
- en: '![](img/B31371_13_13.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_13.png)'
- en: 'Figure 13.13: Attributes inspector for Label'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '图 13.13: 标签属性检查器'
- en: Setting **Lines** to `2` will make the label display a maximum of two lines
    of text when the app is running.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 将 **线条** 设置为 `2` 将使标签在应用运行时显示最多两行文本。
- en: 'Click the Add New Constraints button, and enter the following values to set
    the constraints for the label:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **添加新约束** 按钮，并输入以下值以设置标签的约束：
- en: 'Top: `0`'
  id: totrans-84
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '顶部: `0`'
- en: 'Left: `8`'
  id: totrans-85
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '左侧: `8`'
- en: 'Right: `0`'
  id: totrans-86
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '右侧: `0`'
- en: '**Constrain to Margins** should already be checked, which sets a standard margin
    of `8` points as the space between the right side of the label and the right side
    of the table view cell. When done, click the **Add 3 Constraints** button.'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '**约束到边距**应该已经勾选，这会将标准边距`8`点设置为标签右侧和表格视图单元格右侧之间的空间。完成时，点击**添加3个约束**按钮。'
- en: 'Verify that the position of the label appears as shown in the screenshot below
    and that the newly added constraints are in the document outline:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认标签的位置如图下截图所示，并且新添加的约束在文档轮廓中：
- en: '![](img/B31371_13_14.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_14.png)'
- en: 'Figure 13.14: Label with constraints applied'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.14：应用约束的标签
- en: The space between the top edge of the label and the bottom edge of the label
    you added earlier is set to `0` points. The space between the left edge of the
    label and the right edge of the image view is `8` points. The space between the
    right edge of the label and the right edge of the `journalCell` content view is
    `0 + 8` points. The position of the bottom edge of the label is automatically
    set by the text style and number of lines you set earlier.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 标签顶部边缘和之前添加的标签底部边缘之间的空间设置为`0`点。标签左侧边缘和图像视图右侧边缘之间的空间是`8`点。标签右侧边缘和`journalCell`内容视图右侧边缘之间的空间是`0
    + 8`点。标签底部边缘的位置由你之前设置的文本样式和行数自动设置。
- en: You can click a constraint in the document outline and modify it in the Size
    inspector.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以在文档轮廓中点击一个约束，并在大小检查器中修改它。
- en: 'Build and run your app:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建并运行你的应用：
- en: '![](img/B31371_13_15.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_15.png)'
- en: 'Figure 13.15: Simulator showing the completed journalCell table view cell'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.15：模拟器显示的完成后的journalCell表格视图单元格
- en: You have successfully added and configured labels to display the date and the
    journal entry title of the `journalCell` table view cell, and all the necessary
    constraints have been added. As you can see, the Journal List screen now has all
    the user interface elements required to display data as shown in the app tour.
    Fantastic!
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 你已成功添加并配置了标签以显示`journalCell`表格视图单元格的日期和日记条目标题，并且已添加所有必要的约束。正如你所见，日记列表屏幕现在具有在应用浏览中显示数据所需的所有用户界面元素。太棒了！
- en: In the next section, you’ll add a stack view containing user interface elements
    to the Add New Journal Entry screen.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，你将在“添加新日记条目”屏幕中添加包含用户界面元素的堆叠视图。
- en: Modifying the Add New Journal Entry screen
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 修改“添加新日记条目”屏幕
- en: 'Let’s see what the Add New Journal Entry screen looks like in the app tour:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看在应用浏览中“添加新日记条目”屏幕看起来是什么样子：
- en: '![](img/B31371_13_16.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_16.png)'
- en: 'Figure 13.16: The Add New Journal Entry screen for the completed Journal app'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.16：完成后的日记应用“添加新日记条目”屏幕
- en: 'Apple provides an extensive library of user interface elements that you can
    use in your own apps. This helps to give all iOS apps a consistent look and feel.
    As you can see, the Add New Journal Entry screen has the following elements:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 苹果提供了一整套用户界面元素库，你可以在自己的应用中使用。这有助于使所有iOS应用具有一致的外观和感觉。正如你所见，添加新日记条目屏幕具有以下元素：
- en: A custom view showing star ratings
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个显示星级评分的自定义视图
- en: A switch that allows you to get your current location
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个开关，允许你获取当前位置
- en: A text field for the journal entry title
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个用于日记条目标题的文本字段
- en: A text view for the journal entry body
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个用于日记条目主体的文本视图
- en: An image view for a photo that you will take with your phone’s camera
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个用于用手机相机拍照的图片视图
- en: You will now modify the screen to match the design shown in the app tour, beginning
    in the next section by adding a custom view that allows a user to set star ratings.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你将修改屏幕以匹配应用浏览中的设计，从下一节开始，通过添加一个允许用户设置星级评分的自定义视图。
- en: Adding a custom view to the New Entry scene
  id: totrans-109
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将自定义视图添加到新条目场景
- en: As you have seen in the app tour, the Add New Journal Entry screen has a custom
    view showing star ratings. This custom view is a subclass of a horizontal stack
    view. You’ll add the horizontal stack view in this chapter and complete the implementation
    of the custom view in *Chapter 19*, *Getting Started with Custom Views*.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你在应用浏览中所见，添加新日记条目屏幕有一个显示星级评分的自定义视图。这个自定义视图是水平堆叠视图的子类。你将在本章中添加水平堆叠视图，并在*第19章*，*开始使用自定义视图*中完成自定义视图的实现。
- en: 'A stack view is an instance of the `UIStackView` class. It allows you to easily
    lay out a collection of views either in a column or a row. To add a stack view
    to the Add New Journal Entry screen, follow these steps:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 栈视图是`UIStackView`类的一个实例。它允许你轻松地在一列或一行中排列一组视图。要将栈视图添加到“添加新日志条目”屏幕，请按照以下步骤操作：
- en: 'In the **Main** storyboard file, click **New Entry Scene** in the document
    outline:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**主**故事板文件中，点击文档大纲中的**新条目场景**：
- en: '![](img/B31371_13_17.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_17.png)'
- en: 'Figure 13.17: Editor area showing New Entry Scene'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.17：编辑区域显示新条目场景
- en: 'To add a horizontal stack view to the scene, click the Library button. Type
    `hori` into the filter field. A **Horizontal Stack View** object will appear in
    the results. Drag it to the view of the **New Entry** scene:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要向场景添加水平栈视图，请点击库按钮。在过滤器字段中输入`hori`。一个**水平栈视图**对象将出现在结果中。将其拖动到**新条目**场景的视图中：
- en: '![](img/B31371_13_18.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_18.png)'
- en: 'Figure 13.18: Library with the Horizontal Stack View object selected'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.18：选择水平栈视图对象的库
- en: Note that the stack view you just added appears in the document outline and
    is a subview of the view for **New Entry Scene**.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，你刚刚添加的栈视图出现在文档大纲中，并且是**新条目场景**视图的子视图。
- en: 'Click the Attributes inspector. Under **Stack View**, set **Spacing** to `8`
    if it was not already set, and under **View**, set **Background** to **System
    Cyan Color**:'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击属性检查器。在**栈视图**下，如果尚未设置，将**间距**设置为`8`，在**视图**下，将**背景**设置为**系统青色**：
- en: '![](img/B31371_13_19.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_19.png)'
- en: 'Figure 13.19: Attributes inspector showing the Spacing and Background settings'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.19：属性检查器显示间距和背景设置
- en: The **Spacing** value determines the spacing between elements in a stack view.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: '**间距**值决定了栈视图中元素之间的间距。'
- en: 'Click the Size inspector. Under **View**, set **Width** to `252` and **Height**
    to `44`:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**大小检查器**。在**视图**下，将**宽度**设置为`252`，将**高度**设置为`44`：
- en: '![](img/B31371_13_20.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_20.png)'
- en: 'Figure 13.20: Size inspector showing the size of the stack view'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.20：大小检查器显示栈视图的大小
- en: The custom view showing star ratings will consist of five buttons. Each button
    has a height of `44` points and a width of `44` points, and the space between
    each button is `8` points. The total width of the custom view will be `5 x 44
    + 4 x 8`, giving a total width of `252` points.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 显示星级评分的自定义视图将包含五个按钮。每个按钮的高度为`44`点，宽度为`44`点，按钮之间的间距为`8`点。自定义视图的总宽度将是`5 x 44 +
    4 x 8`，总宽度为`252`点。
- en: 'Click the Add New Constraints button, and enter the following values to set
    the constraints for the stack view:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加新约束**按钮，并输入以下值以设置栈视图的约束：
- en: 'Width: `252`'
  id: totrans-128
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 宽度：`252`
- en: 'Height: `44`'
  id: totrans-129
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高度：`44`
- en: When done, click the **Add 2 Constraints** button.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，点击**添加2个约束**按钮。
- en: Setting the size of a UI element in the Size inspector makes it easier for you
    to add constraints later because the intended values will already be set in the
    **Add New Constraints** dialog box.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 在大小检查器中设置UI元素的尺寸，使你稍后添加约束更容易，因为预期的值已经设置在**添加新约束**对话框中。
- en: You’ll see that the stack view is outlined in red. Click the little reddish-pink
    arrow in the document outline.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会看到栈视图被红色勾勒出来。点击文档大纲中的小红粉箭头。
- en: '![](img/B31371_13_21.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_21.png)'
- en: 'Figure 13.21: Arrow in the document outline'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.21：文档大纲中的箭头
- en: 'You’ll see two **Missing Constraints** errors in the document outline:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将在文档大纲中看到两个**缺少约束**错误：
- en: '![](img/B31371_13_22.png)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_22.png)'
- en: 'Figure 13.22: Missing constraints error displayed'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.22：显示缺少约束错误的错误信息
- en: The stack view is outlined in red because of the missing constraints errors.
    This means that the position of the stack view relative to its enclosing view
    is currently ambiguous. You will fix this when you embed this stack view in another
    stack view later.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 由于缺少约束错误，栈视图被红色勾勒出来。这意味着栈视图相对于其封装视图的位置目前是不明确的。你将在稍后将其嵌入另一个栈视图时修复这个问题。
- en: Click the **< Structure** button to go back.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**< 结构**按钮返回。
- en: You have successfully added a horizontal stack view to the **New Entry** scene.
    In the next section, you’ll add a UI element to it that allows you to get your
    current location.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 你已成功将水平栈视图添加到**新条目**场景。在下一节中，你将向其中添加一个UI元素，允许你获取当前位置。
- en: Adding a switch to the New Entry scene
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向新条目场景添加开关
- en: As shown in the app tour, you can toggle a switch to get your current location
    when creating a new journal entry. A switch is an instance of the `UISwitch` class.
    It displays a control that offers you a binary choice, such as on/off. You will
    also add a label to describe what the switch does and put both objects in a horizontal
    stack view.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 如应用程序导游所示，在创建新日记条目时，您可以通过切换开关来获取您的当前位置。开关是`UISwitch`类的实例。它显示一个提供二元选择的控件，例如开/关。您还将添加一个标签来描述开关的功能，并将这两个对象放入水平堆叠视图中。
- en: 'Follow these steps:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤操作：
- en: 'To add a switch to the **New Entry** scene, click the Library button. Type
    `swi` into the filter field. A **Switch** object will appear in the results. Drag
    it to the view of the **New Entry** scene under the horizontal stack view:'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将开关添加到**新条目**场景，单击库按钮。在过滤器字段中输入`swi`。结果中会出现一个**开关**对象。将其拖动到水平堆叠视图下的**新条目**场景视图：
- en: '![](img/B31371_13_23.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_23.png)'
- en: 'Figure 13.23: Library with the Switch object selected'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.23：选择开关对象的库
- en: Note that the switch you just added appears in the document outline and is a
    subview of the view for **New Entry Scene**.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，您刚刚添加的开关出现在文档大纲中，并且是**新条目场景**视图的子视图。
- en: 'To add a label next to the switch, drag a **Label** object from the library
    and position it next to the switch:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要在开关旁边添加标签，从库中拖动一个**标签**对象并将其放置在开关旁边：
- en: '![](img/B31371_13_24.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_24.png)'
- en: 'Figure 13.24: Library with Label object selected'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.24：选择标签对象的库
- en: Note that the label you just added appears in the document outline and is also
    a subview of the view for the **New Entry** scene.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，您刚刚添加的标签出现在文档大纲中，并且也是**新条目**场景视图的子视图。
- en: Blue lines will appear to help you position the label the correct distance away
    from the switch.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 将出现蓝色线条以帮助您将标签放置在开关的正确距离处。
- en: 'Double-click the label and change the label text to `Get Location`:'
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击标签并更改标签文本为“获取位置”：
- en: '![](img/B31371_13_25.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_25.png)'
- en: 'Figure 13.25: Label text changed to Get Location'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.25：标签文本更改为“获取位置”
- en: 'You’ll embed both the label and the switch in a horizontal stack view. In the
    document outline, hold down the *Shift* key, click **Switch**, and then click
    **Get Location** to select both the switch and the label:'
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将把标签和开关都嵌入到水平堆叠视图中。在文档大纲中，按住*Shift*键，单击**开关**，然后单击**获取位置**以选择开关和标签：
- en: '![](img/B31371_13_26.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_26.png)'
- en: 'Figure 13.26: Document outline showing both label and switch selected'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.26：显示已选择标签和开关的文档大纲
- en: Choose **Embed In** | **Stack View** from the **Editor** menu.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**编辑器**菜单中选择**嵌入**|**堆叠视图**。
- en: '![](img/B31371_13_27.png)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_27.png)'
- en: 'Figure 13.27: Editor menu with Embed In | Stack View selected'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.27：选择“嵌入”|“堆叠视图”的编辑器菜单
- en: Both the switch and the label are now embedded in a stack view.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 开关和标签现在都嵌入在堆叠视图中。
- en: 'Click the Attributes inspector button, and under **Stack View**, set **Spacing**
    to `8`:'
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击属性检查器按钮，在**堆叠视图**下将**间距**设置为`8`：
- en: '![](img/B31371_13_28.png)'
  id: totrans-164
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_13_28.png)'
- en: 'Figure 13.28: Attributes inspector with Spacing set to 8'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.28：设置间距为 8 的属性检查器
- en: You have successfully added a horizontal stack view containing a switch and
    a label to the **New Entry** scene. In the next section, you’ll add UI elements
    to it so that a user can enter the journal title and body text.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 您已成功将包含开关和标签的水平堆叠视图添加到**新条目**场景。在下一节中，您将向其中添加 UI 元素，以便用户可以输入日记标题和正文。
- en: Adding a text field and a text view to the New Entry scene
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将文本字段和文本视图添加到新条目场景
- en: As shown in the app tour, users will enter the title and body text of a journal
    entry using this screen. To enter text, you can use either a text field or a text
    view. A text field is an instance of the `UITextField` class. It displays an editable
    text area and is typically limited to a single line. You’ll enter the title of
    the journal entry using a text field. A text view is an instance of the `UITextView`
    class. It also displays an editable text area, but it normally displays more than
    one line. You’ll enter the body text of the journal entry using a text view.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 如应用程序导游所示，用户将使用此屏幕输入日记条目的标题和正文文本。要输入文本，您可以使用文本字段或文本视图。文本字段是`UITextField`类的实例。它显示一个可编辑的文本区域，通常限制为单行。您将使用文本字段输入日记条目的标题。文本视图是`UITextView`类的实例。它也显示一个可编辑的文本区域，但通常显示多行。您将使用文本视图输入日记条目的正文。
- en: 'To add the text field and text view to the **New Entry** scene, follow these
    steps:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 要将文本字段和文本视图添加到**新条目**场景，请按照以下步骤操作：
- en: 'To add a text field to the scene, click the Library button. Type `text` into
    the filter field. A **Text Field** object will appear in the results. Drag it
    to the view of the **New Entry** scene, and position it under the horizontal stack
    view containing the switch and the label:'
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将文本字段添加到场景中，点击库按钮。在过滤器字段中输入`text`。一个**文本字段**对象将出现在结果中。将其拖动到包含开关和标签的水平堆叠视图下的**新条目**场景视图：
- en: '![](img/B31371_13_29.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_29.png)'
- en: 'Figure 13.29: Library with the Text Field object selected'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.29：选择文本字段对象的库
- en: Note that the text field you just added appears in the document outline and
    is a subview of the view for the **New Entry** scene.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 注意您刚刚添加的文本字段出现在文档大纲中，并且是**新条目**场景视图的子视图。
- en: 'In the Attributes inspector, under **Text Field**, set **Placeholder** to `Journal
    Title`:'
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在属性检查器中，在**文本字段**下，将**占位符**设置为`Journal Title`：
- en: '![](img/B31371_13_30.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_30.png)'
- en: 'Figure 13.30: Attributes inspector with Placeholder set to Journal Title'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.30：将占位符设置为期刊标题的属性检查器
- en: 'To add a text view to the scene, click the Library button. Type `text` into
    the filter field. A **Text View** object will appear in the results. Drag it to
    the view of the **New Entry** scene under the text field you just added:'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将文本视图添加到场景中，点击库按钮。在过滤器字段中输入`text`。一个**文本视图**对象将出现在结果中。将其拖动到您刚刚添加的文本字段下的**新条目**场景视图：
- en: '![](img/B31371_13_31.png)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_31.png)'
- en: 'Figure 13.31: Library with Text Field object selected'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.31：选择文本字段对象的库
- en: Verify the text view you just added appears in the document outline and is a
    subview of the view for **New Entry Scene**. You may also change the default text
    if you wish.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 验证您刚刚添加的文本视图是否出现在文档大纲中，并且是**新条目场景**视图的子视图。如果您愿意，也可以更改默认文本。
- en: 'You’ll use a constraint to set the height of the text view to its default value
    of 128 points. With the text view selected, click the Add New Constraints button
    and tick the **Height** constraint. After that, click the **Add 1 Constraint**
    button. The text view will now look like the following screenshot:'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将使用约束将文本视图的高度设置为默认值128点。选择文本视图后，点击添加新约束按钮并勾选**高度**约束。然后，点击**添加1个约束**按钮。文本视图现在将看起来像以下截图：
- en: '![](img/B31371_13_32.png)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_32.png)'
- en: 'Figure 13.32: Text view with a constraint applied'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.32：应用了约束的文本视图
- en: Note the red outlines around the text view, as its position relative to the
    enclosing view is ambiguous. Don’t worry about it now, as you will fix it later.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 注意文本视图周围的红色轮廓，因为它相对于封装视图的位置不明确。现在不用担心，因为您稍后会修复它。
- en: You have successfully added a text field and a text view to the New Entry scene.
    In the next section, you will add a UI element that lets a user take and display
    photos in it.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 您已成功将文本字段和文本视图添加到新条目场景。在下一节中，您将添加一个UI元素，允许用户在其中拍照并显示。
- en: Adding an image view to the New Entry scene
  id: totrans-186
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向新条目场景添加图像视图
- en: 'As shown in the app tour, the user can use the device camera to take a photo
    for a journal entry. The selected photo will be shown in the Add New Journal Entry
    screen using an image view. In *Chapter 11*, *Building Your User Interface*, you
    added an image view to the `journalCell` table view cell. Now, you will add an
    image view to the New Entry scene. Follow these steps:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 如应用导览所示，用户可以使用设备相机为日记条目拍照。选定的照片将使用图像视图在添加新日记条目屏幕上显示。在*第11章*，*构建您的用户界面*中，您已将图像视图添加到`journalCell`表格视图单元格。现在，您将向新条目场景添加图像视图。按照以下步骤操作：
- en: 'To add an image view to the scene, click the Library button. Type `imag` into
    the filter field. An **Image View** object will appear in the results. Drag it
    to the view of the **New Entry** scene under the text view:'
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将图像视图添加到场景中，点击库按钮。在过滤器字段中输入`imag`。一个**图像视图**对象将出现在结果中。将其拖动到文本视图下的**新条目**场景视图：
- en: '![](img/B31371_13_33.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_33.png)'
- en: 'Figure 13.33: Library with the Image View object selected'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.33：选择图像视图对象的库
- en: Note that the image view you just added appears in the document outline and
    is a subview of the view for **New Entry Scene**.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 注意您刚刚添加的图像视图出现在文档大纲中，并且是**新条目场景**视图的子视图。
- en: Click the Size inspector button. Under **View**, set both **Width** and **Height**
    to `200`.
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击大小检查器按钮。在**视图**下，将**宽度**和**高度**都设置为`200`。
- en: Click the Attributes inspector button. Under **Image View**, set **Image** to
    `face.smiling`.
  id: totrans-193
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击属性检查器按钮。在**图像视图**下，将**图像**设置为`face.smiling`。
- en: 'You’ll use constraints to set the width and height for the image view. Click
    the **Add New Constraints** button, and tick the **Width** and **Height** constraints
    (their values should already be set to `200`). After that, click the **Add 2 Constraints**
    button. The image view will now look like the following screenshot:'
  id: totrans-194
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将使用约束来设置图像视图的宽度和高度。点击 **添加新约束** 按钮，勾选 **宽度** 和 **高度** 约束（它们的值应已设置为 `200`）。之后，点击
    **添加 2 个约束** 按钮。图像视图现在将看起来像以下截图：
- en: '![](img/B31371_13_34.png)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_34.png)'
- en: 'Figure 13.34: Image View with constraints applied'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.34：应用约束的图像视图
- en: Note the red outlines around the image view, as its position relative to the
    enclosing view is ambiguous. Don’t worry about it now, as you will fix it later.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 注意图像视图周围的红色轮廓，因为它相对于包含视图的位置是不明确的。现在不用担心，因为稍后你会修复它。
- en: All the user interface elements for the New Entry scene have been added. In
    the next section, you’ll embed all of them in a vertical stack view to resolve
    the positioning issues.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 新条目场景的所有用户界面元素都已添加。在下一节中，你将把它们全部嵌入到垂直堆叠视图中以解决定位问题。
- en: Embedding user interface elements in a stack view
  id: totrans-199
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在堆叠视图中嵌入用户界面元素
- en: 'The **New Entry** scene now has all the required user interface elements, but
    the position of the elements relative to the enclosing view is ambiguous. You’ll
    embed all the elements in a vertical stack view and use constraints to resolve
    the positioning issues. Follow these steps:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '**新条目** 场现在拥有了所有必需的用户界面元素，但元素相对于包含视图的位置是不明确的。你将把所有元素嵌入到垂直堆叠视图中，并使用约束来解决定位问题。按照以下步骤操作：'
- en: 'In the document outline, select all the user interface elements that you added
    earlier, as shown here:'
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文档大纲中，选择你之前添加的所有用户界面元素，如图所示：
- en: '![](img/B31371_13_35.png)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_35.png)'
- en: 'Figure 13.35: Document outline showing selected elements'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.35：显示所选元素的文档大纲
- en: Choose **Embed In** | **Stack View** from the **Editor** menu.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 **编辑器** 菜单中选择 **嵌入** | **堆叠视图**。
- en: Select **Stack View** in the document outline. In the Attributes inspector,
    under **Stack View**, set **Alignment** to **Center** and **Spacing** to `8`.
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文档大纲中选择 **堆叠视图**。在属性检查器中，在 **堆叠视图** 下，将 **对齐** 设置为 **居中**，并将 **间距** 设置为 `8`。
- en: 'With the stack view selected, click the Add New Constraints button. Enter the
    following values to set the constraints for the stack view:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择堆叠视图后，点击添加新约束按钮。输入以下值以设置堆叠视图的约束：
- en: 'Top: `20`'
  id: totrans-207
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顶部：`20`
- en: 'Left: `20`'
  id: totrans-208
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 左侧：`20`
- en: 'Right: `20`'
  id: totrans-209
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 右侧：`20`
- en: '**Constrain to Margins** should already be ticked, which sets a standard margin
    of `8` points. When done, click the **Add 3 Constraints** button. The stack view
    will now look like the following screenshot:'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '**约束到边距** 应已勾选，这设置了标准的 `8` 点边距。完成后，点击 **添加 3 个约束** 按钮。堆叠视图现在将看起来像以下截图：'
- en: '![](img/B31371_13_36.png)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_36.png)'
- en: 'Figure 13.36: Stack view with constraints applied'
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.36：应用约束后的堆叠视图
- en: Note that all the red lines are gone. The space between the top, right, and
    left edges of the stack view and the corresponding edges of the enclosing view
    have been set to `20 + 8` points. The position of the bottom edge of the stack
    view is automatically derived by the heights of all the elements it contains.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 注意所有红色线条都已消失。堆叠视图与包含视图顶部、右侧和左侧边缘之间的空间已设置为 `20 + 8` 点。堆叠视图底部边缘的位置将自动由它包含的所有元素的高度推导出来。
- en: 'You will see that the text field does not extend to the full width of the stack
    view. To fix this, select **Journal Title** in the document outline, and click
    the Add New Constraints button. Set the right constraint to `8`, and click the
    **Add 1 Constraint** button. The text field will be extended to almost the full
    width of the stack view:'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你会看到文本字段没有扩展到堆叠视图的全宽。为了修复这个问题，在文档大纲中选择 **日记标题**，然后点击添加新约束按钮。将右侧约束设置为 `8`，然后点击
    **添加 1 个约束** 按钮。文本字段将扩展到几乎堆叠视图的全宽：
- en: '![](img/B31371_13_37.png)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_37.png)'
- en: 'Figure 13.37: Text field in the stack view with a constraint applied'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.37：应用约束后的堆叠视图中的文本字段
- en: 'Note that the text view also does not extend to the full width of the stack
    view. Select **Text View** in the document outline, and click the Add New Constraints
    button. Set the right constraint to `8`, and click the **Add 1 Constraint** button.
    The text view will be extended to almost the full width of the stack view:'
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 注意文本视图也没有扩展到堆叠视图的全宽。在文档大纲中选择 **文本视图**，然后点击添加新约束按钮。将右侧约束设置为 `8`，然后点击 **添加 1 个约束**
    按钮。文本视图将扩展到几乎堆叠视图的全宽：
- en: '![](img/B31371_13_38.png)'
  id: totrans-218
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_38.png)'
- en: 'Figure 13.38: Text view in the stack view with a constraint applied'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.38：应用约束的堆叠视图中的文本视图
- en: All the positioning issues have now been resolved.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 所有定位问题现在都已解决。
- en: 'Build and run your app, and tap the **+** button to display the Add New Journal
    Entry screen:'
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建并运行您的应用，然后轻触 **+** 按钮以显示添加新日记条目屏幕：
- en: '![](img/B31371_13_39.png)'
  id: totrans-222
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_39.png)'
- en: 'Figure 13.39: Simulator showing the Add New Journal Entry screen'
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.39：模拟器显示添加新日记条目屏幕
- en: You have added all the required user interface elements and constraints to the
    Add New Journal Entry screen. Great job! In the next section, you’ll configure
    the static table view and add user interface elements to the Journal Entry Detail
    screen.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 您已将所有必需的用户界面元素和约束添加到添加新日记条目屏幕。干得好！在下一节中，您将配置静态表格视图并向日记条目详情屏幕添加用户界面元素。
- en: Modifying the Journal Entry Detail screen
  id: totrans-225
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 修改日记条目详情屏幕
- en: 'Let’s see what the Journal Entry Detail screen looks like in the app tour:'
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看日记条目详情屏幕在应用导览中的样子：
- en: '![](img/B31371_13_40.png)'
  id: totrans-227
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_40.png)'
- en: 'Figure 13.40: The Journal Entry Detail screen for the completed Journal app'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.40：完成后的日记应用日记条目详情屏幕
- en: 'Scrolling up reveals the remaining part of the **Journal Entry Detail** screen:'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: 向上滚动可显示**日记条目详情**屏幕的剩余部分：
- en: '![](img/B31371_13_41.png)'
  id: totrans-230
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_41.png)'
- en: 'Figure 13.41: The remainder of the Journal Entry Detail screen'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.41：日记条目详情屏幕的其余部分
- en: 'As you can see, the **Journal Entry Detail** screen has the following elements:'
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，**日记条目详情**屏幕具有以下元素：
- en: A label showing the date
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示日期的标签
- en: A custom view showing star ratings
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示星级评分的自定义视图
- en: A label for the journal entry title
  id: totrans-235
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日记条目标题的标签
- en: A label for the journal entry body
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 日记条目正文的标签
- en: An image view for a photo that you will take with your phone’s camera
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个用于您用手机相机拍摄的照片的图像视图
- en: An image view showing a map location
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 显示地图位置的图像视图
- en: Also, you need to scroll to view the entire screen. You will now modify it to
    match the design shown in the app tour, beginning by setting the number and size
    of the table view cells in the next section.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，您还需要滚动以查看整个屏幕。您现在将修改它以匹配应用导览中的设计，首先在下一节中设置表格视图单元格的数量和大小。
- en: Configuring the number and size of static table view cells
  id: totrans-240
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 配置静态表格视图单元格的数量和大小
- en: 'In *Chapter 12*, *Finishing Up Your User Interface*, you added a table view
    controller scene to the `Main` storyboard file and configured it to use a fixed
    number of cells. This will represent the Journal Entry Detail screen. Now, you
    will set the number and size of the cells to match the layout shown in the app
    tour. Follow these steps:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 在 *第 12 章*，*完成您的用户界面* 中，您已将表格视图控制器场景添加到 `Main` 故事板文件，并配置它使用固定数量的单元格。这将代表日记条目详情屏幕。现在，您将设置单元格的数量和大小以匹配应用导览中的布局。按照以下步骤操作：
- en: 'In the **Main** storyboard file, click **Table View Controller Scene** in the
    document outline, and click **Navigation Item**:'
  id: totrans-242
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **Main** 故事板文件中，在文档大纲中单击 **Table View Controller Scene**，然后单击 **Navigation
    Item**：
- en: '![](img/B31371_13_42.png)'
  id: totrans-243
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_42.png)'
- en: 'Figure 13.42: Document outline with Table View Controller Scene selected'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.42：选择 Table View Controller Scene 的文档大纲
- en: Click the Attributes inspector button, and under **Navigation Item**, set **Title**
    to `Entry Detail`.
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击属性检查器按钮，在 **Navigation Item** 下，将 **Title** 设置为 `Entry Detail`。
- en: 'Select **Table View Section** in the document outline:'
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文档大纲中选择 **Table View Section**：
- en: '![](img/B31371_13_43.png)'
  id: totrans-247
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_43.png)'
- en: 'Figure 13.43: Document outline with Table View Section selected'
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.43：选择 Table View Section 的文档大纲
- en: In the Attributes inspector under **Table View Section**, set **Rows** to `7`.
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **Table View Section** 下的属性检查器中，将 **Rows** 设置为 `7`。
- en: '![](img/B31371_13_44.png)'
  id: totrans-250
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_44.png)'
- en: 'Figure 13.44: Attributes inspector showing 7 rows'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.44：属性检查器显示 7 行
- en: 'Click the second **Table View Cell** under **Table View Section** in the document
    outline:'
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文档大纲中的 **Table View Section** 下单击第二个 **Table View Cell**：
- en: '![](img/B31371_13_45.png)'
  id: totrans-253
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_45.png)'
- en: 'Figure 13.45: Document outline showing second Table View Cell'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.45：显示第二个 Table View Cell 的文档大纲
- en: 'Click the Size inspector button. Under **Table View Cell**, set **Row Height**
    to `60`:'
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击大小检查器按钮。在 **Table View Cell** 下，将 **Row Height** 设置为 `60`：
- en: '![](img/B31371_13_46.png)'
  id: totrans-256
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_46.png)'
- en: 'Figure 13.46: Size inspector showing Row Height set to 60'
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.46：大小检查器显示行高设置为 60
- en: Click the fourth **Table View Cell** under **Table View Section** in the document
    outline. In the Size inspector, under **Table View Cell**, set **Row Height**
    to `150`.
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文档大纲中点击**表格视图部分**下的第四个**表格视图单元格**。在大小检查器中，在**表格视图单元格**下，将**行高**设置为`150`。
- en: Click the fifth **Table View Cell** under **Table View Section** in the document
    outline. In the Size inspector, under **Table View Cell**, set **Row Height**
    to `316`.
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文档大纲中点击**表格视图部分**下的第五个**表格视图单元格**。在大小检查器中，在**表格视图单元格**下，将**行高**设置为`316`。
- en: Repeat the previous step with the sixth **Table View Cell**.
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复之前的步骤，对第六个**表格视图单元格**进行操作。
- en: You have set the number and size of the cells to match the layout shown in the
    app tour. In the next section, you’ll add the user interface elements to each
    cell.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经设置了单元格的数量和大小以匹配应用导览中显示的布局。在下一节中，你将为每个单元格添加用户界面元素。
- en: Adding user interface elements to static table view cells
  id: totrans-262
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向静态表格视图单元格添加用户界面元素
- en: 'In the previous section, you used a stack view to help you manage multiple
    user interface elements in the Add New Journal Entry screen. Here, you’ll use
    a table view with static table view cells instead. The advantage of using a static
    table view is that view scrolling is built in, so it can accommodate views that
    are taller than the device screen. Follow these steps:'
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一节中，你使用了一个堆叠视图来帮助你管理添加新日志条目屏幕中的多个用户界面元素。这里，你将使用带有静态表格视图单元格的表格视图。使用静态表格视图的优势在于内置了视图滚动，因此它可以容纳比设备屏幕更高的视图。按照以下步骤操作：
- en: In the document outline, click the first **Table View Cell**, and drag a **Label**
    object into it from the library. In the Attributes inspector, under **Label**,
    use the **Font** menu to set **Style** to `Semibold` and set **Alignment** to
    right.
  id: totrans-264
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文档大纲中点击第一个**表格视图单元格**，并从库中将一个**标签**对象拖入其中。在属性检查器中，在**标签**下，使用**字体**菜单将**样式**设置为`Semibold`并将**对齐方式**设置为右对齐。
- en: 'Click the Add New Constraints button, and set the top, left, and right constraints
    of the label to `0`. Make sure that **Constrain to Margins** is ticked, and click
    the **Add 3 Constraints** button. The label will now look like the following screenshot:'
  id: totrans-265
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加新约束**按钮，并将标签的顶部、左侧和右侧约束设置为`0`。确保勾选了**约束到边距**，然后点击**添加3个约束**按钮。标签现在将看起来像以下截图：
- en: '![](img/B31371_13_47.png)'
  id: totrans-266
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_47.png)'
- en: 'Figure 13.47: Label with the constraints applied'
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.47：应用了约束的标签
- en: In the document outline, click the second **Table View Cell**, and drag a **Horizontal
    Stack View** object into it from the library. In the Attributes inspector, under
    **Stack View**, set **Spacing** to `8`. Under **View**, set **Background** to
    `System Cyan color`.
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文档大纲中点击第二个**表格视图单元格**，并从库中将一个**水平堆叠视图**对象拖入其中。在属性检查器中，在**堆叠视图**下，将**间距**设置为`8`。在**视图**下，将**背景**设置为`系统青色颜色`。
- en: Click the Size inspector. Under **View**, set **Width** to `252` and **Height**
    to `44`.
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击大小检查器。在**视图**下，将**宽度**设置为`252`和**高度**设置为`44`。
- en: Click theAdd New Constraints button, and set the **Width** and **Height** constraints
    (their values should already be present). Click the **Add 2 Constraints** button.
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加新约束**按钮，并设置**宽度**和**高度**约束（它们的值应该已经存在）。点击**添加2个约束**按钮。
- en: Click the **Align** button, and tick **Horizontally in Container** and **Vertically
    in Container**. Click the **Add 2 Constraints** button.
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**对齐**按钮，勾选**容器内水平对齐**和**容器内垂直对齐**。点击**添加2个约束**按钮。
- en: '![](img/B31371_13_48.png)'
  id: totrans-272
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_48.png)'
- en: 'Figure 13.48: Align button and dialog box'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.48：对齐按钮和对话框
- en: 'The stack view will now look like the following screenshot:'
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 堆叠视图现在将看起来像以下截图：
- en: '![](img/B31371_13_49.png)'
  id: totrans-275
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_49.png)'
- en: 'Figure 13.49: Stack view with the constraints applied'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.49：应用了约束的堆叠视图
- en: Click the third **Table View Cell**, and drag a **Label** object into it from
    the library. In the Attributes inspector, under **Label**, set **Style** to `Semibold`
    and **Alignment** to left.
  id: totrans-277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击第三个**表格视图单元格**，并从库中将一个**标签**对象拖入其中。在属性检查器中，在**标签**下，将**样式**设置为`Semibold`并将**对齐方式**设置为左对齐。
- en: 'Click theAdd New Constraints button, and set the top, left, and right constraints
    of **Label** to `0`. Make sure that **Constrain to Margins** is ticked, and click
    the **Add 3 Constraints** button. The label will now look like the following screenshot:'
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加新约束**按钮，并将**标签**的顶部、左侧和右侧约束设置为`0`。确保勾选了**约束到边距**，然后点击**添加3个约束**按钮。标签现在将看起来像以下截图：
- en: '![](img/B31371_13_50.png)'
  id: totrans-279
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_50.png)'
- en: 'Figure 13.50: Label with the constraints applied'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 图13.50：应用了约束的标签
- en: Click the fourth **Table View Cell**,and drag a **Text View** object into it
    from the library. In the Attributes inspector, under **Text View**, uncheck **Editable**
    and **Selectable**. You can also change the default text if you wish.
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击第四个**表格视图单元格**，从库中将一个**文本视图**对象拖入其中。在属性检查器中，在**文本视图**下取消选中**可编辑**和**可选择**。如果您愿意，也可以更改默认文本。
- en: 'Click theAdd New Constraints button, and set the top, left, right, and bottom
    constraints to `0`. Make sure that **Constrain to Margins** is ticked, and click
    the **Add 4 Constraints** button. The text view will now look like the following
    screenshot:'
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“添加新约束”按钮，并将顶部、左侧、右侧和底部约束设置为`0`。确保勾选**约束到边距**，并点击“添加 4 个约束”按钮。文本视图现在将看起来像以下截图：
- en: '![](img/B31371_13_51.png)'
  id: totrans-283
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_51.png)'
- en: 'Figure 13.51: Text View with the constraints applied'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.51：应用约束的文本视图
- en: Click the fifth **Table View Cell**, and drag an **Image View** object into
    it from the library. In the Attributes inspector, under **Image View**, set **Image**
    to `face.smiling`.
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击第五个**表格视图单元格**，从库中将一个**图像视图**对象拖入其中。在属性检查器中，在**图像视图**下将**图像**设置为`face.smiling`。
- en: In the Size inspector, under **View**, set **Width** and **Height** to `300`.
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在大小检查器中，在**视图**下将**宽度**和**高度**设置为`300`。
- en: Click the Add New Constraints button, and set the **Width** and **Height** constraints
    (their values should already be present). Click the **Add 2 Constraints** button.
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“添加新约束”按钮，并设置**宽度**和**高度**约束（它们的值应该已经存在）。点击“添加 2 个约束”按钮。
- en: 'Click the Align button, and tick **Horizontally in Container** and **Vertically
    in Container**. Click the **Add 2 Constraints** button. The image view will now
    look like the following screenshot:'
  id: totrans-288
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击对齐按钮，勾选**在容器中水平对齐**和**在容器中垂直对齐**。点击“添加 2 个约束”按钮。图像视图现在将看起来像以下截图：
- en: '![](img/B31371_13_52.png)'
  id: totrans-289
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_52.png)'
- en: 'Figure 13.52: Image View object with constraints applied'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.52：应用约束的图像视图对象
- en: Click the sixth **Table View Cell**, and drag an **Image View** object into
    it from the library. In the Attributes inspector, under **Image View**, set **Image**
    to `map`.
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击第六个**表格视图单元格**，从库中将一个**图像视图**对象拖入其中。在属性检查器中，在**图像视图**下将**图像**设置为`map`。
- en: 'Repeat *steps 13* to *15* for this image view. It will now look like the following
    screenshot:'
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对此图像视图重复*步骤 13*到*15*。现在它将看起来像以下截图：
- en: '![](img/B31371_13_53.png)'
  id: totrans-293
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_53.png)'
- en: 'Figure 13.53: Image View object with constraints applied'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.53：应用约束的图像视图对象
- en: 'All the required user interface elements have been added to the **Entry Detail**
    scene. Build and run your app, and tap a row on the Journal List screen to navigate
    to the Journal Entry Detail screen:'
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 所有必需的用户界面元素都已添加到**条目详情**场景中。构建并运行您的应用，并在“日记列表”屏幕上点击一行以导航到“日记条目详情”屏幕：
- en: '![](img/B31371_13_54.png)'
  id: totrans-296
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_54.png)'
- en: 'Figure 13.54: Simulator showing the Journal Entry Detail screen'
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.54：模拟器显示“日记条目详情”屏幕
- en: Scroll down to see the remaining part of the Journal Entry Detail screen.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 滚动查看“日记条目详情”屏幕的剩余部分。
- en: '![](img/B31371_13_55.png)'
  id: totrans-299
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_13_55.png)'
- en: 'Figure 13.55: Simulator showing the remainder of the Journal Entry Detail screen'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 图 13.55：模拟器显示“日记条目详情”屏幕的剩余部分
- en: Excellent! You have modified all the screens for your app, and you’re ready
    to add functionality to them in the next part of this book.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 太棒了！您已经修改了应用的所有屏幕，并准备好在本书的下一部分中添加它们的功能。
- en: Summary
  id: totrans-302
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you modified the Journal List, Add New Journal Entry, and Journal
    Entry Detail screens to match the design shown in the app tour. For the Journal
    List screen, you modified the `journalCell` table view cell by adding an image
    view and two labels to it. You modified the Add New Journal Entry screen by adding
    a custom view, a switch, a text field, a text view, and an image view to it. You
    also configured the image view to show a default image. For the Journal Entry
    Detail screen, you added a text view, labels, and image views to it, configuring
    the image views to show default images.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您修改了“日记列表”、“添加新日记条目”和“日记条目详情”屏幕，以匹配应用导览中显示的设计。对于“日记列表”屏幕，您通过添加图像视图和两个标签来修改`journalCell`表格视图单元格。您通过添加自定义视图、开关、文本字段、文本视图和图像视图来修改“添加新日记条目”屏幕，并配置图像视图以显示默认图像。对于“日记条目详情”屏幕，您添加了文本视图、标签和图像视图，并配置图像视图以显示默认图像。
- en: You now have more experience in how to use Interface Builder to add and configure
    multiple user interface elements, set their sizes and positions using the Size
    inspector, and apply the necessary constraints using the Add New Constraints and
    Align buttons. This will be useful to ensure compatibility with different screen
    sizes and orientations. You should also be able to easily prototype the appearance
    and flow of your apps.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在在如何使用Interface Builder添加和配置多个用户界面元素、使用大小检查器设置它们的大小和位置以及使用添加新约束和对齐按钮应用必要的约束方面有了更多的经验。这将有助于确保与不同屏幕尺寸和方向的兼容性。您还应该能够轻松地原型化您应用的界面和流程。
- en: You’re now finished with the storyboard and design setup. You can go through
    every screen that your app has and see what they look like, even though none of
    the screens have actual data in them. If this app was a house being built, it’s
    as though you’ve built all the walls and floors, and the house is now ready to
    have the interior done. Great job!
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在已经完成了故事板和设计设置。您可以浏览应用中的每一个屏幕，看看它们的样子，尽管这些屏幕中没有任何实际数据。如果这个应用就像一座正在建造的房子，那么您就像是已经建好了所有的墙壁和地板，房子现在可以开始内部装修了。干得好！
- en: This concludes *Part 2* of this book. In the next part, you’ll begin to type
    in all the code required for your app to work. In the next chapter, you’ll start
    by learning more about the **Model-View-Controller** design pattern. You’ll also
    learn how table views work, which is crucial for understanding how the Journal
    List screen works.
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书的**第二部分**到此结束。在下一部分，你将开始输入使你的应用工作的所有必需代码。在下一章，你将开始学习更多关于**模型-视图-控制器**设计模式的知识。你还将了解表格视图是如何工作的，这对于理解“期刊列表”屏幕的工作方式至关重要。
- en: Leave a review!
  id: totrans-307
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 留下您的评价！
- en: Thank you for purchasing this book from Packt Publishing—we hope you enjoy it!
    Your feedback is invaluable and helps us improve and grow. Once you’ve completed
    reading it, please take a moment to leave an Amazon review; it will only take
    a minute, but it makes a big difference for readers like you. Scan the QR code
    below or visit the link to receive a free ebook of your choice.
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 感谢您从Packt Publishing购买这本书——我们希望您喜欢它！您的反馈对我们来说是无价的，它帮助我们改进和成长。一旦您阅读完毕，请花一点时间在亚马逊上留下评价；这只需要一分钟，但对于像您这样的读者来说意义重大。扫描下面的二维码或访问链接，以获得您选择的免费电子书。
- en: '[https://packt.link/NzOWQ](https://packt.link/NzOWQ%0D)'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/NzOWQ](https://packt.link/NzOWQ%0D)'
- en: '[![](img/QR_Code2370024260177460609.png)](https://packt.link/NzOWQ%0D)'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: '[![](img/QR_Code2370024260177460609.png)](https://packt.link/NzOWQ%0D)'
