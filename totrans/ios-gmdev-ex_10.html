<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch10"/>Chapter 10. Revisiting Our Game and More on iOS 9</h1></div></div></div><p>Firstly, congratulations for overriding all the hurdles associated with the development of a game and making it to the last chapter. Now you are in a strong position to develop 2D games on your own, using the Sprite Kit game engine. In the previous chapter, we read about performance enhancements and added some extra functionality in our game, such as the scoring system, sounds, and player running animation.</p><p>In this chapter, we are going to finalize the game with a few final touches and discuss formidable bonus items that make your game super awesome. We will also read about integrating the game center to feed our game development experience to the fullest!</p><div><div><div><div><h1 class="title"><a id="ch10lvl1sec67"/>A recap on the development process of our Platformer game</h1></div></div></div><p>Let's recall the whole<a id="id543" class="indexterm"/> development process of our <em>Platformer</em> game by discussing each of the scenes constructed, starting from the main menu:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Main menu screen</strong>: This is the<a id="id544" class="indexterm"/> first screen we see, once we start the game. We have four buttons on this screen. In the top left corner, you will see the <strong>SCORE MENU</strong> button, which will take you to the high scoreboard. In the top right corner, there is a button called <strong>NODE MENU</strong>, which will take you to the node menu screen. In the bottom left corner, there is a button called <strong>SHADOW EFFECT</strong>, which will display the shadow effect. Lastly, in the centre of the screen, is <a id="id545" class="indexterm"/>the <strong>PLAY</strong> button. On tapping this button, you will enter the game screen.<div><img src="img/4201_10_01.jpg" alt="A recap on the development process of our Platformer game"/></div></li><li class="listitem" style="list-style-type: disc"><strong>Score menu screen</strong>: This screen is the high scoreboard. You can see the high scorer's name and<a id="id546" class="indexterm"/> score on this screen. In the bottom left corner of the screen is the <strong>MAIN MENU</strong> button, which will take you back to the main menu.<div><img src="img/4201_10_02.jpg" alt="A recap on the development process of our Platformer game"/></div></li><li class="listitem" style="list-style-type: disc"><strong>Node menu screen</strong>: This screen <a id="id547" class="indexterm"/>has various examples of nodes. You can see five different buttons called <strong>SKCropNode</strong>, <strong>SKLightNode</strong>, <strong>SKEmitterNode</strong>, <strong>SKShapeNode</strong>, and <strong>SKVideoNode</strong>. Along with these five buttons, there is a <strong>BACK</strong> button to take you back to the main menu screen. Each of the node buttons displays the respective example as the name of the button.<div><img src="img/4201_10_03.jpg" alt="A recap on the development process of our Platformer game"/></div></li><li class="listitem" style="list-style-type: disc"><strong>SKCropNode screen</strong>: This <a id="id548" class="indexterm"/>screen shows an example of <code class="literal">SKCropNode</code>. You can see the cropping of a node in this screen. Along with this, there is the <strong>BACK</strong> button to go back to the node menu screen.<div><img src="img/4201_10_04.jpg" alt="A recap on the development process of our Platformer game"/></div></li><li class="listitem" style="list-style-type: disc"><strong>SKLightNode screen</strong>: This <a id="id549" class="indexterm"/>screen shows an example of <code class="literal">SKLightNode</code>. You can see a light in the centre of the screen, which you can drag to see the changes in the shadow effect being created behind the images.<div><img src="img/4201_10_05.jpg" alt="A recap on the development process of our Platformer game"/></div></li><li class="listitem" style="list-style-type: disc"><strong>SKEmitterNode screen</strong>: This<a id="id550" class="indexterm"/> screen presents an example of <code class="literal">SKEmitterNode</code>. You can see emitted particles on this screen, and along with this, you can also note the change in the number of nodes and <strong>fps</strong> on the screen, due to the regular creation or destruction of the emitted particles.<div><img src="img/4201_10_06.jpg" alt="A recap on the development process of our Platformer game"/></div></li><li class="listitem" style="list-style-type: disc"><strong>SKShapeNode screen</strong>: This<a id="id551" class="indexterm"/> screen presents an example of <code class="literal">SKShapeNode</code>. You can see a shape in this screen, and as set before, by pressing the <strong>BACK</strong> button on the screen, you can go to the previous node menu screen.<div><img src="img/4201_10_07.jpg" alt="A recap on the development process of our Platformer game"/></div></li><li class="listitem" style="list-style-type: disc"><strong>SKVideoNode screen</strong>: This<a id="id552" class="indexterm"/> screen shows an example of <strong>SKVideoNode</strong>. You can see a video in the centre of the screen, and when you tap on the screen, it will start playing. You can press the <strong>BACK</strong> button to go to the previous screen.<div><img src="img/4201_10_08.jpg" alt="A recap on the development process of our Platformer game"/></div></li><li class="listitem" style="list-style-type: disc"><strong>Shadow effect screen</strong>: This screen shows the shadow effect. You can view the shadow<a id="id553" class="indexterm"/> effect running in the middle of the screen, and like the emitter node screen, you can note that the <strong>fps</strong> of this screen is changing due to the shadow effect.<div><img src="img/4201_10_09.jpg" alt="A recap on the development process of our Platformer game"/></div></li><li class="listitem" style="list-style-type: disc"><strong>Game screen</strong>: This is<a id="id554" class="indexterm"/> the game screen that has a <strong>JUMP</strong> and pause button. If the player hits any obstacle, the game terminates and the score list screen pops up.<div><img src="img/4201_10_10.jpg" alt="A recap on the development process of our Platformer game"/></div></li><li class="listitem" style="list-style-type: disc"><strong>Score list screen</strong>: This screen is displayed just after the game is over. It has a <strong>Congratulations</strong><a id="id555" class="indexterm"/> note and a textbox for entering the name of the player. Once you have added the name of the player, you can tap on the <strong>ADD PLAYER</strong> button to save the name of the player.<div><img src="img/4201_10_11.jpg" alt="A recap on the development process of our Platformer game"/></div></li></ul></div><p>The preceding points briefly describe what each screen does and what elements are present on each screen.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec68"/>Working further on the Platformer game</h1></div></div></div><p>By now, we have worked on every essential aspect that is provided by Sprite Kit for game development. We <a id="id556" class="indexterm"/>have even integrated a scoring system, sound, and running animation to enhance the gaming experience. However, there is still room for further improvement; you can try out various effects and features, or just enhance the current features and make your game more exciting. Here are some ideas that you can, yourself, give a shot:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Obstacles</strong>: Currently, we have only two types of obstacles; you can work on adding more obstacles in the<a id="id557" class="indexterm"/> game and make the gameplay a little more exciting.</li><li class="listitem" style="list-style-type: disc"><strong>Levels</strong>: Currently, we have<a id="id558" class="indexterm"/> just three levels in the game, but you can work on adding more levels and make the game more challenging as the levels progress.</li><li class="listitem" style="list-style-type: disc"><strong>Extra life</strong>: If the player hits an<a id="id559" class="indexterm"/> obstacle, the player dies; you can work on giving an extra life to the player, and hence, increase the gameplay time too.</li><li class="listitem" style="list-style-type: disc"><strong>Bonus points</strong>: One <a id="id560" class="indexterm"/>more idea could be to add some bonus points when the player hits a special power-up. You can increase the score by an extra 100 or 200 points when the player hits this bonus item.</li><li class="listitem" style="list-style-type: disc"><strong>Sounds</strong>: Our game <a id="id561" class="indexterm"/>currently has two sound effects: one is the background sound, and the other is the player's death sound. You can add more sounds in the game, such as different music for the menu and gameplay. Apart from this, you can have separate music in the node menu screen, and so on.</li></ul></div><p>These ideas are just a beginning; you can apply a whole lot of creativity to the game and make it the next super hit title around.</p></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec69"/>An introduction to Game Center</h1></div></div></div><p>Games on iOS and <a id="id562" class="indexterm"/>OS X platforms can utilize Apple's social gaming network called Game Center. Game players can compare scores on a leaderboard, track<a id="id563" class="indexterm"/> achievements, invite friends, or start a multiplayer game through auto-matching. The Game Center is a part of the Game Kit, which has two other functionalities apart from the Game Center.</p><p>The Game Center allows devices to connect to the Game Center service and exchange information. The Game Center also makes sure to add the information in the leaderboards and achievements. One can also play a multiplayer game using the Game Center service.</p><div><div><div><div><h2 class="title"><a id="ch10lvl2sec89"/>The advantages of Game Center in a game</h2></div></div></div><p>The Game Center <a id="id564" class="indexterm"/>handles user authentication, friends, leaderboards, achievements, challenges, multiplayer, turn-based gaming, and invitations. In a way, it could be said that <a id="id565" class="indexterm"/>game center provides us with server services that are related to social interaction; something like its networking system. Some advantages of using the Game Center are:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>No server side hassle</strong>: With Game Center you don't have to worry about setting up your own servers. You can use the servers of Game Center for most of the tasks<a id="id566" class="indexterm"/> required in a social game.</li><li class="listitem" style="list-style-type: disc"><strong>User authentication</strong>: Game Center also helps in authenticating the user, so you don't have to <a id="id567" class="indexterm"/>worry about duplicate IDs or any other such issues.</li><li class="listitem" style="list-style-type: disc"><strong>Friends</strong>: You can<a id="id568" class="indexterm"/> play games with friends; players can interact with other players through an alias. Players can also set statuses, as well as mark other players with friends.</li><li class="listitem" style="list-style-type: disc"><strong>Multiplayer games</strong>: You can play multiplayer games via the Game Center. Players can invite their<a id="id569" class="indexterm"/> friends or be connected to anonymous<a id="id570" class="indexterm"/> players across the Game Center network.</li><li class="listitem" style="list-style-type: disc"><strong>Turn-based gaming</strong>: With this feature, you can have a turn-based network infrastructure. The <a id="id571" class="indexterm"/>match is played without all the players being connected to the Game Center simultaneously; the players play with each other via a turn-based method.</li><li class="listitem" style="list-style-type: disc"><strong>Leaderboards</strong>: This allows<a id="id572" class="indexterm"/> the player to store the game scores at Game Center's scoreboard. Each of the games will have a local and a network leaderboard, where you can compare your score with local and global players.</li><li class="listitem" style="list-style-type: disc"><strong>Achievements</strong>: Players<a id="id573" class="indexterm"/> can achieve various goals or accomplishments in a game and unlock achievements to gain special bonuses.</li><li class="listitem" style="list-style-type: disc"><strong>Challenges</strong>: This <a id="id574" class="indexterm"/>allows players to challenge other players and compete with them for a score or an achievement.</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch10lvl2sec90"/>Integrating Game Center in a game</h2></div></div></div><p>Integrating Game<a id="id575" class="indexterm"/> Center in games is not hard, and on a macro level, consists of two steps:</p><div><ol class="orderedlist arabic"><li class="listitem">One, is the<a id="id576" class="indexterm"/> implementation and integration of all of the Game Center's libraries that are required to be integrated in our game in Xcode.</li><li class="listitem">The other step is to register the app on iTunes Connect, enable the Game Center support, and set up any leaderboard and achievements required in the game.</li></ol></div><p>To integrate the Game Center in a Sprite Kit game, it is important to first have an Apple ID, so that you can register the game with Apple. Apart from having an Apple ID, it is also important to make some tweaks in the code and design to successfully incorporate the Game Center in your game. For example, you will have to do the sign-in (authentication) to the Game Center at game launch; if you wish to show leaderboards in the game, it is better to show them in the game itself, and so on.</p><p>Now, let's discuss both these steps in more detail.</p><div><div><div><div><h3 class="title"><a id="ch10lvl3sec12"/>Working with Xcode</h3></div></div></div><p>You have to perform activities, such<a id="id577" class="indexterm"/> as the creation or integration of an <a id="id578" class="indexterm"/>Apple ID, for the game to be developed and to enable the Game Center in the Xcode. Let's have a look at the process:</p><div><ol class="orderedlist arabic"><li class="listitem">To add an Apple ID, first click on the <strong>Xcode</strong> menu, <strong>Preferences</strong> in your Xcode. The <strong>Preferences</strong> windows will appear. At the top of the <strong>Preferences</strong> window, there will be various tabs. Click on the <strong>Accounts</strong> tab.<div><img src="img/4201_10_12.jpg" alt="Working with Xcode"/></div></li><li class="listitem">Now, go to the<a id="id579" class="indexterm"/> bottom left corner of the<a id="id580" class="indexterm"/> window and click on the button with the <strong>+</strong> symbol to get a small menu having three options.<div><img src="img/4201_10_13.jpg" alt="Working with Xcode"/></div></li><li class="listitem">Out of the three options in the small menu, click on the add <strong>Apple ID</strong> option. In the window<a id="id581" class="indexterm"/> that pops up, enter your <a id="id582" class="indexterm"/><strong>Apple ID</strong> and <strong>Password</strong> and click on the <strong>Add</strong> button.<div><img src="img/4201_10_14.jpg" alt="Working with Xcode"/></div></li><li class="listitem">Now you will get a summary of your <strong>Apple ID</strong> in the <strong>Accounts</strong> tab.<div><img src="img/4201_10_15.jpg" alt="Working with Xcode"/></div></li><li class="listitem">Now, in the project<a id="id583" class="indexterm"/> navigator, click on the<a id="id584" class="indexterm"/> project target.<div><img src="img/4201_10_16.jpg" alt="Working with Xcode"/></div></li><li class="listitem">Under the <strong>General</strong> tab in the <strong>Identity</strong> section, there will be a drop-down menu named <strong>Team</strong>. If you click on it, you will see the developer's name inside it. It will confirm that the Apple ID has been successfully integrated. Then, you have<a id="id585" class="indexterm"/> to click on it to make Xcode<a id="id586" class="indexterm"/> use your developer account. Xcode to create the App ID automatically.<div><img src="img/4201_10_17.jpg" alt="Working with Xcode"/></div></li><li class="listitem">Now, click on the <strong>Capabilities</strong> tab that is just next to <strong>General</strong>. In the list of all the provided capabilities, expand the <strong>Game Center</strong> one. Now, turn on the switch on the right-hand side of the list.<div><img src="img/4201_10_18.jpg" alt="Working with Xcode"/></div></li></ol></div><p>The first step of Game Center integration in the game is complete. We have enabled the Game Center in the game and also created an App ID to be used by iTunes Connect in the next step.</p></div><div><div><div><div><h3 class="title"><a id="ch10lvl3sec13"/>Working with iTunes Connect</h3></div></div></div><p>In this step, we are<a id="id587" class="indexterm"/> going to create a record in the iTunes<a id="id588" class="indexterm"/> Connect for a new application, and then we will manage the Game Center part by creating leaderboards and achievements.</p><div><ol class="orderedlist arabic"><li class="listitem">Go to iTunes Connect and use your developer credentials to sign in. Then click on the <strong>My Apps</strong> option, among all the options.<div><img src="img/4201_10_19.jpg" alt="Working with iTunes Connect"/></div></li><li class="listitem">Then, on<a id="id589" class="indexterm"/> the upper right corner, there is a <strong>+</strong> button to add a new iOS app.<div><img src="img/4201_10_20.jpg" alt="Working with iTunes Connect"/></div></li><li class="listitem">When you will <a id="id590" class="indexterm"/>click on the <strong>New iOS App</strong> button, you will get a popup window, asking for information regarding the new iOS app. The details asked are the <strong>Company Name</strong>, <strong>Name</strong> (app name), <strong>Version</strong>, <strong>Primary Language</strong>, <strong>Bundle ID</strong>, and <strong>SKU</strong>.<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Company Name</strong> is the company's or developer's name (it cannot be changed later)</li><li class="listitem" style="list-style-type: disc">Next is the app name (<strong>Name</strong>), which cannot be longer than 255 characters</li><li class="listitem" style="list-style-type: disc">Next is the <strong>Primary Language</strong> in the app, which you can choose from a drop-down</li><li class="listitem" style="list-style-type: disc">The next option is the <strong>Bundle ID</strong>, which is a drop-down, and will be having a bundle ID of the app, present in Xcode</li><li class="listitem" style="list-style-type: disc">After that, you can add the <strong>Version</strong> number to be shown in the app store, and<a id="id591" class="indexterm"/> it should match the one used in Xcode</li><li class="listitem" style="list-style-type: disc">Finally, <strong>SKU</strong> is <a id="id592" class="indexterm"/>a unique ID for your app that is not visible on the app store</li></ul></div><div><img src="img/4201_10_21.jpg" alt="Working with iTunes Connect"/></div></li><li class="listitem">After you click on <strong>Create</strong> in the <strong>New iOS App</strong> popup, you will reach a page where you'll have to fill in details such as description, pricing, rating, and other release related options. From the tabs, there will be an option called <strong>Game Center</strong>. Click on that button to reach the <strong>Enable Game Center</strong> page.<div><img src="img/4201_10_22.jpg" alt="Working with iTunes Connect"/></div></li><li class="listitem">As you just have <a id="id593" class="indexterm"/>a single game, click<a id="id594" class="indexterm"/> on <strong>Enable for Single Game</strong>, and then, Game Center will become enabled for our game.<div><img src="img/4201_10_23.jpg" alt="Working with iTunes Connect"/></div></li><li class="listitem">Under that, there will be an option to add the leaderboard and achievements; you can add them as per your convenience.<div><img src="img/4201_10_24.jpg" alt="Working with iTunes Connect"/></div></li></ol></div><p>Now, we are<a id="id595" class="indexterm"/> through with the second step of the Game Center integration, which involves working with the iTunes Connect.</p><p>You have got a macro-level idea<a id="id596" class="indexterm"/> of what exactly has to be done to integrate the Game Center in a Sprite Kit game.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec70"/>What's new in iOS 9</h1></div></div></div><p>Apple<a id="id597" class="indexterm"/> announced iOS 9 in June 2015, and it will officially be released later this year. It is proposed to have some new features for the Sprite Kit framework. A few of them are mentioned in the following list:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Metal rendering support</strong>: Metal <a id="id598" class="indexterm"/>provides lowest-overhead entry to the <strong>Graphical Processing Unit</strong> (<strong>GPU</strong>). This enables <a id="id599" class="indexterm"/>us to maximize the graphics and computational abilities of our apps and games. Metal has streamlined APIs, multi-threading support, and precompiled shaders, which help make our game or app superior in performance and <a id="id600" class="indexterm"/>efficiency.</li><li class="listitem" style="list-style-type: disc"><strong>Improved scene editor and new action editor</strong>: The latest version of Xcode now has a much<a id="id601" class="indexterm"/> improved scene editor and a new <a id="id602" class="indexterm"/>action editor. This will help in designing scenes in Xcode in less time with less code work.</li><li class="listitem" style="list-style-type: disc"><strong>Camera nodes</strong>: Camera node is an <code class="literal">SKCameraNode</code> object and helps in specifying a position<a id="id603" class="indexterm"/> in the scene from which the scene can be rendered. If we set the scene's camera property to the camera node, then the scene is rendered using the camera node's property. This makes it even easier to create 2D scrolling games, belt scrolling games, and so on. The camera node in the scene determines <a id="id604" class="indexterm"/>which part of the scene's coordinate space should be visible in the view.</li><li class="listitem" style="list-style-type: disc"><strong>Positional audio</strong>: We can add spatial audio effects with this feature. With this, the audio effects can<a id="id605" class="indexterm"/> track the position of the listener in a scene. An <code class="literal">SKAudioNode</code> object is used for the positional audio effect.</li></ul></div><p>These features are a few of the important features launched by Apple for the Sprite Kit framework.</p></div>
<div><div><div><div><h1 class="title"><a id="ch10lvl1sec71"/>Summary</h1></div></div></div><p>In this chapter, we discussed about our <em>Platformer</em> game and every aspect of it, starting from the first chapter of this book to the most recent one. We also discussed how you can apply new thoughts and ventures in this <em>Platformer</em> game and expand it further to make it the next big hit in the Apple app store. Lastly, we studied about Game Center and discussed in brief about its integration into a Sprite Kit game.</p><p>That being said, we are drawing the finishing line on our iOS game development book with the thought that a list of new games will storm the App Store, and this book will have been a great influence to the developers of those new platformer games. I am hoping to see some exciting titles from you guys. Good luck!</p></div></body></html>