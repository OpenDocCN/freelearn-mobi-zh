- en: '*Chapter 7*: Classes, Structures, and Enumerations'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第七章*: 类、结构和枚举'
- en: In the previous chapter, you've learned how to group instruction sequences together
    using functions and closures.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，你已经学习了如何使用函数和闭包将指令序列分组在一起。
- en: It's time to think about how to represent complex objects in your code. For
    example, think about a car. You could use a `String` constant to store a car name
    and a `Double` variable to store a car price, but they are not associated with
    one another. You've seen that you can group instructions together to make functions
    and closures. In this chapter, you'll learn how to group constants and variables
    together in a single entity using **classes** and **structures**, and how to manipulate
    them. You'll also learn how to use **enumerations** to group a set of related
    values together.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 是时候考虑如何在代码中表示复杂对象了。例如，考虑一辆车。你可以使用一个`String`常量来存储车名，以及一个`Double`变量来存储车价，但它们之间没有关联。你已经看到你可以将指令分组在一起来创建函数和闭包。在本章中，你将学习如何使用**类**和**结构**将常量和变量组合成一个单一实体，以及如何操作它们。你还将学习如何使用**枚举**将一组相关值组合在一起。
- en: By the end of this chapter, you'll have learned how to create and initialize
    a class, create a subclass from an existing class, create and initialize a structure,
    differentiate between classes and structures, and create an enumeration.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将学会如何创建和初始化一个类，从现有类创建子类，创建和初始化结构体，区分类和结构体，以及创建枚举。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Understanding classes
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解类
- en: Understanding structures
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解结构
- en: Understanding enumerations
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解枚举
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'The Xcode playground for this chapter is in the `Chapter07` folder of the code
    bundle for this book, which can be downloaded here:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的Xcode游乐场位于本书代码包的`Chapter07`文件夹中，可以在此处下载：
- en: '[https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition](https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition)'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition](https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition)'
- en: 'Check out the following video to see the code in action:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 查看以下视频以查看代码的实际操作：
- en: '[https://bit.ly/3HbRJTA](https://bit.ly/3HbRJTA)'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://bit.ly/3HbRJTA](https://bit.ly/3HbRJTA)'
- en: If you wish to start from scratch, create a new playground and name it `Classes,StructuresAndEnumerations`.
    You can type in and run all of the code in this chapter as you go along. Let's
    start with learning what a class is, and how to declare and define it.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望从头开始，创建一个新的游乐场，并将其命名为`Classes,StructuresAndEnumerations`。你可以一边输入一边运行本章中的所有代码。让我们从学习什么是类以及如何声明和定义它开始。
- en: Understanding classes
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解类
- en: 'Classes are useful for representing complex objects, for example:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 类对于表示复杂对象非常有用，例如：
- en: Individual employee information for a company
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公司的个别员工信息
- en: Items for sale at an e-commerce site
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在电子商务网站上出售的商品
- en: Items you have in your house for insurance purposes
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了保险目的而拥有的家庭物品
- en: 'Here''s what a class declaration and definition looks like:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一个类声明和定义的例子：
- en: '[PRE0]'
  id: totrans-20
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Every class has a descriptive name, and it contains variables or constants used
    to represent an object. Variables or constants associated with a class are called
    **properties**.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 每个类都有一个描述性的名称，它包含用于表示对象的变量或常量。与类关联的变量或常量称为**属性**。
- en: A class can also contain functions that perform specific tasks. Functions associated
    with a class are called **methods**.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 一个类也可以包含执行特定任务的函数。与类关联的函数称为**方法**。
- en: Once you have declared and defined a class, you can create `Animal` class, you
    can use instances of that class to represent different animal types at the zoo.
    Each of these instances will have different values for their properties.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你声明并定义了一个类，你就可以创建`Animal`类，你可以使用该类的实例来表示动物园中不同类型的动物。这些实例的属性值将各不相同。
- en: Important information
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 重要信息
- en: 'To learn more about classes, visit: [https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html](https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html).'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解更多关于类的信息，请访问：[https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html](https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html)。
- en: Let's look at how to work with classes. You'll learn how to declare and define
    classes, create instances based on the class declaration, and manipulate those
    instances. You'll start by creating a class declaration to represent animals in
    the next section.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何处理类。您将学习如何声明和定义类，根据类声明创建实例，并操作这些实例。您将从下一节中创建一个表示动物的类声明开始。
- en: Creating a class declaration
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建类声明
- en: 'Let''s declare and define a class that can store details about animals. Add
    the following code to your playground:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们声明并定义一个可以存储有关动物详情的类。将以下代码添加到您的游乐场中：
- en: '[PRE1]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: You've just declared a very simple class named `Animal`. Convention dictates
    that class names start with a capital letter. This class has properties to store
    the name of the animal, the sound it makes, the number of legs it has, and whether
    it breathes oxygen or not. This class also has a method, `makeSound()`, that prints
    the noise it makes to the Debug area.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 您刚刚声明了一个非常简单的名为`Animal`的类。惯例规定，类名应以大写字母开头。此类具有存储动物名称、它发出的声音、它拥有的腿数以及它是否呼吸氧气的属性。此类还有一个`makeSound()`方法，该方法将打印的噪音输出到调试区域。
- en: Now that you have an `Animal` class, let's use it to create an instance of an
    animal in the next section.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经有了`Animal`类，让我们在下一节中使用它来创建一个动物的实例。
- en: Making an instance of the class
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建类的实例
- en: 'Once you have declared and defined a class, you can create instances of that
    class. You will now create an instance of the `Animal` class that represents a
    cat. Follow these steps:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦声明并定义了一个类，您就可以创建该类的实例。现在，您将创建一个代表猫的`Animal`类的实例。请按照以下步骤操作：
- en: 'To create an instance of the `Animal` class, list all its properties and call
    its `makeSound()` method, type the following after your class declaration and
    run it:'
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建`Animal`类的实例，列出其所有属性并调用其`makeSound()`方法，请在类声明之后输入以下内容并运行：
- en: '[PRE2]'
  id: totrans-35
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: You access instance properties and methods by typing a dot after the instance
    name, followed by the property or method you want. You'll see the values for the
    instance properties and method calls listed in the Debug area. Since the values
    are the default values assigned when the class was created, `name` and `sound`
    contain empty strings, `numberOfLegs` contains `0`, `breathesOxygen` contains
    `true`, and the `makeSound()` method prints an empty string.
  id: totrans-36
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您可以通过在实例名称后输入一个点，然后跟您想要的属性或方法来访问实例属性和方法。您将在调试区域看到实例属性和方法的值。由于这些值是在创建类时分配的默认值，因此`name`和`sound`包含空字符串，`numberOfLegs`包含`0`，`breathesOxygen`包含`true`，而`makeSound()`方法打印一个空字符串。
- en: 'Let''s assign some values to this instance''s properties. Modify your code
    as shown:'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们为此实例的属性分配一些值。按照以下所示修改您的代码：
- en: '[PRE3]'
  id: totrans-38
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'An initializer is responsible for ensuring all of the instance properties have
    valid values when a class is created. Let''s add an initializer for the `Animal`
    class. Modify your class definition as shown:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 初始化器负责确保在创建类时所有实例属性都有有效的值。让我们为`Animal`类添加一个初始化器。按照以下所示修改您的类定义：
- en: '[PRE4]'
  id: totrans-40
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'You''ll see some errors in your code at this point. You will need to update
    your function call to address this. Modify your code as shown and run it:'
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这一点上，您将看到一些代码错误。您需要更新您的函数调用以解决这个问题。按照以下所示修改您的代码并运行它：
- en: '[PRE5]'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The results are the same as those in *Step 2*, but you created the instance
    and set its properties in a single instruction. Excellent!
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 结果与*步骤 2*中的相同，但您在一个指令中创建了实例并设置了其属性。太棒了！
- en: Now there are different types of animals, such as mammals, birds, reptiles,
    and fish. You could create a class for each type, but you could also create a
    **subclass** based on an existing class. Let's see how to do that in the next
    section.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 现在有不同类型的动物，如哺乳动物、鸟类、爬行动物和鱼类。您可以创建每个类型的类，也可以基于现有类创建一个**子类**。让我们在下一节中看看如何做到这一点。
- en: Making a subclass
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建子类
- en: 'A subclass of a class inherits all of the methods and properties of an existing
    class. You can also add additional properties and methods to it if you wish. You''ll
    now create `Mammal`, a subclass of the `Animal` class. Follow these steps:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 一个类的子类继承了现有类的所有方法和属性。如果您愿意，还可以向其中添加额外的属性和方法。现在，您将创建`Mammal`类，它是`Animal`类的子类。请按照以下步骤操作：
- en: 'To declare the `Mammal` class, type in the following code just after the `Animal`
    class declaration:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要声明`Mammal`类，请在`Animal`类声明之后输入以下代码：
- en: '[PRE6]'
  id: totrans-48
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Typing `: Animal` after the class name makes the `Mammal` class a subclass
    of the `Animal` class. It has all the properties and methods declared in the `Animal`
    class, and one additional property, `hasFurOrHair`. Since the `Animal` class is
    the parent of the `Mammal` class, you can refer to it as the `Mammal` class.'
  id: totrans-49
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '在类名后键入`: Animal`使`Mammal`类成为`Animal`类的子类。它具有在`Animal`类中声明的所有属性和方法，以及一个额外的属性`hasFurOrHair`。由于`Animal`类是`Mammal`类的父类，您可以将其称为`Mammal`类。'
- en: 'Modify your code that creates an instance of your class as shown, and run it:'
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照以下所示修改创建类实例的代码，并运行它：
- en: '[PRE7]'
  id: totrans-51
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Type in the following code after all other code in your playground to display
    the contents of the `hasFurOrHair` property and run it:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的playground中所有其他代码之后输入以下代码以显示`hasFurOrHair`属性的值并运行它：
- en: '[PRE8]'
  id: totrans-53
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Since the initializer for the `Animal` class does not have a parameter to assign
    a value to `hasFurOrHair`, the default value is used, and `true` will be displayed
    in the Debug area.
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 由于`Animal`类的初始化器没有参数来分配`hasFurOrHair`的值，因此将使用默认值，并在调试区域显示`true`。
- en: You have seen that a subclass can have additional properties. A subclass can
    also have additional methods, and method implementation in a subclass can differ
    from the superclass implementation. Let's see how to do that in the next section.
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 您已经看到子类可以具有额外的属性。子类还可以具有额外的属性，子类中的方法实现可以与超类实现不同。让我们在下一节中看看如何做到这一点。
- en: Overriding a superclass method
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 覆盖超类方法
- en: 'So far, you''ve been using multiple `print()` statements to display the values
    of the class instance. You''ll implement a `description()` method to display all
    of the instance properties in the Debug area, so multiple `print()` statements
    will no longer be required. Follow these steps:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，您一直使用多个`print()`语句来显示类实例的值。您将实现一个`description()`方法来在调试区域显示所有实例属性，因此不再需要多个`print()`语句。请按照以下步骤操作：
- en: 'Modify your `Animal` class declaration to implement a `description()` method,
    as shown:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照以下所示修改您的`Animal`类声明以实现一个`description()`方法：
- en: '[PRE9]'
  id: totrans-59
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Modify your code as shown to use the `description()` method in place of the
    multiple `print()` statements, and run the program:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照以下所示修改代码，以使用`description()`方法代替多个`print()`语句，并运行程序：
- en: '[PRE10]'
  id: totrans-61
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'You can change the implementation of the `description()` method in the `Mammal`
    class to display the `hasFurOrHair` property''s value. Add the following code
    to your `Mammal` class definition and run it:'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以将`Mammal`类中`description()`方法的实现修改为显示`hasFurOrHair`属性值。将以下代码添加到您的`Mammal`类定义中并运行它：
- en: '[PRE11]'
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'name: Cat sound: Mew numberOfLegs: 4 breathesOxygen: true hasFurOrHair: true'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 'name: 猫 声音: 喵 拥有腿数: 4 呼吸氧气: 是 有毛或毛发: 是'
- en: Mew
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 喵
- en: '[PRE12]'
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: The `hasFurOrHair` property's value is displayed in the Debug area, showing
    that you are using the `Mammal` subclass implementation of the `description()`
    method.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '`hasFurOrHair`属性的值在调试区域显示，表明您正在使用`Mammal`子类的`description()`方法实现。'
- en: You've created class and subclass declarations and made instances of both. You've
    also added initializers and methods to both. Cool! Let's look at how to declare
    and use structures in the next section.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经创建了类和子类声明，并创建了这两个类的实例。你还在两个类中添加了初始化器和方法。太棒了！让我们看看如何在下一节中声明和使用结构体。
- en: Understanding structures
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解结构体
- en: Like classes, structures also group together properties and methods used to
    represent an object and do specific tasks. Remember the `Animal` class you created?
    You can also use a structure to accomplish the same thing. There are differences
    between classes and structures though, and you will learn more about those later.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 与类一样，结构体也组合了用于表示对象和执行特定任务的属性和方法。还记得您创建的`Animal`类吗？您也可以使用结构体来完成相同的事情。不过，类和结构体之间有一些区别，您将在稍后了解更多。
- en: 'Here''s what a structure declaration and definition looks like:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一个结构体声明和定义的例子：
- en: '[PRE13]'
  id: totrans-72
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: As you can see, a structure is very similar to a class. It also has a descriptive
    name, can contain properties and methods, and you can create instances.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，结构体与类非常相似。它也有一个描述性的名称，可以包含属性和方法，并且您可以创建实例。
- en: Important information
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 重要信息
- en: 'To learn more about structures, visit: [https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html](https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html).'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解更多关于结构体的信息，请访问：[https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html](https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html)。
- en: Let's look at how to work with structures. You'll learn how to declare and define
    structures, create instances based on the structure, and manipulate them. You'll
    start by creating a structure to represent reptiles in the next section.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何处理结构。你将学习如何声明和定义结构，根据结构创建实例，并操作它们。你将从下一节创建一个表示爬行动物的结构开始。
- en: Creating a structure declaration
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建结构声明
- en: 'Continuing with the animal theme, let''s declare and define a structure that
    can store details of reptiles. Add the following code after all other code in
    your playground:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 继续动物主题，让我们声明并定义一个可以存储爬行动物详细信息的结构。在你的游乐场中所有其他代码之后添加以下代码：
- en: '[PRE14]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: As you can see, this is almost the same as the `Animal` class declaration you
    did earlier. Structure names also normally start with a capital letter, and this
    structure has properties to store the name of the animal, the sound it makes,
    how many legs it has, whether it breathes oxygen, and whether it has fur or hair.
    This structure also has a method, `makeSound()`, that prints the sound it makes
    to the Debug area.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所见，这几乎和你之前所做的`Animal`类声明相同。结构名称通常也以大写字母开头，这个结构有属性来存储动物的名字、它发出的声音、它有多少条腿、它是否呼吸氧气，以及它是否有毛皮或毛发。这个结构还有一个方法，`makeSound()`，它会将发出的声音打印到调试区域。
- en: Now that you have a `Reptile` structure declaration, let's use it to create
    an instance representing a snake in the next section.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你有了`Reptile`结构声明，让我们在下一节中使用它来创建一个代表蛇的实例。
- en: Making an instance of the structure
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建结构的实例
- en: 'As with classes, you can create instances from a structure declaration. You
    will now create an instance of the `Reptile` structure that represents a snake,
    print out the property values of that instance, and call the `makeSound()` method.
    Type the following after your structure declaration and run it:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 与类一样，你可以从结构声明中创建实例。现在，你将创建一个`Reptile`结构实例，代表一条蛇，打印出该实例的属性值，并调用`makeSound()`方法。在你的结构声明之后输入以下代码并运行：
- en: '[PRE15]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'Note that you did not need to implement an initializer; structures automatically
    get an initializer for all of their properties, called the **memberwise** initializer.
    Neat! The following will be displayed in the Debug area:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，你不需要实现初始化器；结构会自动为其所有属性获取一个初始化器，称为**成员初始化器**。真方便！以下将在调试区域显示：
- en: '[PRE16]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Even though the structure declaration is very similar to the class declaration,
    there are two differences between a class and a structure:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管结构声明与类声明非常相似，但类和结构之间有两个区别：
- en: Structures cannot inherit from another structure.
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 结构不能从另一个结构继承。
- en: Classes are **reference types**, while structures are **value types**.
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 类是**引用类型**，而结构是**值类型**。
- en: Let's look at the difference between value types and reference types in the
    next section.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们在下一节中看看值类型和引用类型之间的区别。
- en: Comparing value types and reference types
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 比较值类型和引用类型
- en: Classes are reference types. This means when you assign a class instance to
    a variable, you are actually storing the memory location of the original instance
    in the variable, instead of the instance itself.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 类是引用类型。这意味着当你将一个类实例赋值给一个变量时，你实际上是在变量中存储原始实例的内存位置，而不是实例本身。
- en: Structures are value types. This means when you assign a structure instance
    to a variable, that instance is copied, and whatever changes you make to the original
    instance do not affect the copy.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 结构是值类型。这意味着当你将结构实例赋值给一个变量时，该实例将被复制，你对原始实例所做的任何更改都不会影响副本。
- en: 'Now, you will create an instance of a class and a structure and observe the
    differences between them. Follow these steps:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你将创建一个类的实例和一个结构的实例，并观察它们之间的差异。按照以下步骤操作：
- en: 'You''ll start by creating a variable containing a structure instance and assigning
    it to a second variable, then change the value of a property in the second variable.
    Type in the following code and run it:'
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将首先创建一个包含结构实例的变量，并将其赋值给第二个变量，然后更改第二个变量中属性的值。输入以下代码并运行：
- en: '[PRE17]'
  id: totrans-96
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: In this example, you declared a structure, `SampleValueType`, that contains
    one property, `sampleProperty`. Then, you created an instance of that structure
    and assigned it to a variable, `a`. After that, you assigned `a` to a new variable,
    `b`. Next, you changed the `sampleProperty` value of `b` to `20`. When you print
    out the `sampleProperty` value of `a`, `10` is printed in the Debug area, showing
    that any changes made to the `sampleProperty` value of `b` do not affect the `sampleProperty`
    value of `a`. This is because when you assigned `a` to `b`, a copy of `a` was
    assigned to `b`, so they are completely separate instances that don't affect one
    another.
  id: totrans-97
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在这个例子中，你声明了一个结构体，`SampleValueType`，它包含一个属性，`sampleProperty`。然后，你创建了该结构体的一个实例并将其赋值给变量`a`。之后，你将`a`赋值给一个新的变量`b`。接下来，你将`b`的`sampleProperty`值更改为`20`。当你打印出`a`的`sampleProperty`值时，在调试区域打印出`10`，这表明对`b`的`sampleProperty`值的任何更改都不会影响`a`的`sampleProperty`值。这是因为当你将`a`赋值给`b`时，`a`的一个副本被赋值给`b`，因此它们是完全独立的实例，不会相互影响。
- en: 'Next, you''ll create a variable containing a class instance and assign it to
    a second variable, then change the value of a property in the second variable.
    Type in the following code and run it:'
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，你将创建一个包含类实例的变量，并将其赋值给第二个变量，然后更改第二个变量的属性值。输入以下代码并运行：
- en: '[PRE18]'
  id: totrans-99
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: In this example, you declared a class, `SampleReferenceType`, that contains
    one property, `sampleProperty`. Then, you created an instance of that class and
    assigned it to a variable, `c`. After that, you assigned `c` to a new variable,
    `d`. Next, you changed the `sampleProperty` value of `d` to `20`. When you print
    out the `sampleProperty` value of `c`, `20` is printed in the Debug area, showing
    that any changes made to `c` or `d` are affecting the same `SampleReferenceType`
    instance.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，你声明了一个类，`SampleReferenceType`，它包含一个属性，`sampleProperty`。然后，你创建了该类的实例并将其赋值给变量`c`。之后，你将`c`赋值给一个新的变量`d`。接下来，你将`d`的`sampleProperty`值更改为`20`。当你打印出`c`的`sampleProperty`值时，在调试区域打印出`20`，这表明对`c`或`d`的任何更改都会影响相同的`SampleReferenceType`实例。
- en: Now, the question is, which should you use, classes or structures? Let's explore
    that in the next section.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，问题是，你应该使用类还是结构体？让我们在下一节中探讨这个问题。
- en: Deciding between classes and structures
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在类和结构体之间做出选择
- en: You've seen that you can use either a class or a structure to represent a complex
    object. So, which should you use?
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经看到你可以使用类或结构体来表示一个复杂对象。那么，你应该使用哪一个？
- en: It is recommended to use structures unless you need something that requires
    classes, such as subclasses. This actually helps to prevent some subtle errors
    that may occur due to classes being reference types.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 建议使用结构体，除非你需要类才能实现的功能，例如子类。这实际上有助于防止由于类是引用类型而可能发生的某些微妙错误。
- en: Fantastic! Now that you have learned about classes and structures, let's take
    a look at **enumerations**, which allow you to group related values together,
    in the next section.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 太棒了！现在你已经了解了类和结构体，让我们看看下一节中的**枚举**，它允许你将相关的值分组在一起。
- en: Understanding enumerations
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解枚举
- en: 'Enumerations allow you to group related values together, for example:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 枚举允许你将相关的值分组在一起，例如：
- en: Compass directions (E, W, N, and S)
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 指南针方向（东、西、北、南）
- en: Traffic light colors
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 交通灯颜色
- en: The colors of a rainbow
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 彩虹的颜色
- en: To understand why enumerations would be ideal for this purpose, let's consider
    the following example.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 为了理解枚举为何适合这个目的，让我们考虑以下示例。
- en: 'Imagine you''re programming a traffic light. You can use an integer variable
    to represent different traffic light colors where `0` is red, `1` is yellow and
    `2` is green, like this:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 想象你正在编写交通灯的代码。你可以使用一个整型变量来表示不同的交通灯颜色，其中`0`代表红色，`1`代表黄色，`2`代表绿色，如下所示：
- en: '[PRE19]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Although this is a possible way to represent a traffic light, what happens when
    you assign `3` to `trafficLightColor`? This will cause problems as `3` does not
    represent a valid traffic light color. So, it would be better if you could limit
    the possible values of `trafficLightColor` to the colors it can display.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这是一种表示交通灯的可能方式，但当将`3`赋值给`trafficLightColor`时会发生什么？这将导致问题，因为`3`不代表有效的交通灯颜色。因此，如果能够将`trafficLightColor`的可能值限制为它可以显示的颜色，那就更好了。
- en: 'Here''s what an enumeration declaration looks like:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一个枚举声明的样子：
- en: '[PRE20]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Every enumeration has a descriptive name, and the body contains the associated
    values for that enumeration.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 每个枚举都有一个描述性的名称，其主体包含该枚举的关联值。
- en: Important information
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 重要信息
- en: To learn more about enumerations, visit [https://docs.swift.org/swift-book/LanguageGuide/Enumerations.html](https://docs.swift.org/swift-book/LanguageGuide/Enumerations.html).
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解更多关于枚举的信息，请访问 [https://docs.swift.org/swift-book/LanguageGuide/Enumerations.html](https://docs.swift.org/swift-book/LanguageGuide/Enumerations.html)。
- en: Let's look at how to work with enumerations. You'll learn how to create and
    manipulate them. You'll start by creating one to represent a traffic light color
    in the next section.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何与枚举一起工作。你将学习如何创建和操作它们。你将在下一节中创建一个表示交通灯颜色的枚举。
- en: Creating an enumeration
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建一个枚举
- en: 'Let''s create an enumeration to represent a traffic light. Follow these steps:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们创建一个枚举来表示交通灯。按照以下步骤进行：
- en: 'Add the following code to your playground and run it:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将以下代码添加到你的游乐场中并运行它：
- en: '[PRE21]'
  id: totrans-124
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: This creates an enumeration named `TrafficLightColor`, which groups together
    the red, yellow, and green values. As you can see, the value for the `trafficLightColor`
    variable is limited to red, yellow, and green; setting any other value will generate
    an error.
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这创建了一个名为 `TrafficLightColor` 的枚举，它将红色、黄色和绿色值分组在一起。正如你所看到的，`trafficLightColor`
    变量的值被限制为红色、黄色和绿色；设置任何其他值将生成错误。
- en: 'Just like classes and structures, enumerations can contain methods. Let''s
    add a method to `TrafficLightColor`. Modify your code as shown to make `TrafficLightColor`
    return a string representing the traffic light color and run it:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 就像类和结构体一样，枚举也可以包含方法。让我们给 `TrafficLightColor` 添加一个方法。按照以下所示修改你的代码，使 `TrafficLightColor`
    返回一个表示交通灯颜色的字符串，并运行它：
- en: '[PRE22]'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: The `description()` method returns a string depending on `trafficLightColor`'s
    value. Since `trafficLightColor`'s value is `TrafficLightColor.red`, `red` will
    appear in the Debug area.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '`description()` 方法返回一个字符串，取决于 `trafficLightColor` 的值。由于 `trafficLightColor`
    的值是 `TrafficLightColor.red`，因此 `red` 将会在调试区域中显示。'
- en: You've learned how to create and use enumerations to store grouped values, and
    how to add methods to them. This concludes this chapter. Good job!
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 你已经学会了如何创建和使用枚举来存储分组值，以及如何向它们添加方法。这章的内容到此结束。做得好！
- en: Summary
  id: totrans-130
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned how to declare complex objects using a class, create
    instances of a class, create a subclass, and override a class method. You've also
    learned how to declare a structure, create instances of a structure, and understand
    the difference between reference and value types. Finally, you learned how to
    use enumerations to represent a specific set of values.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了如何使用类声明复杂对象，创建类的实例，创建子类，以及重写类方法。你还学会了如何声明结构体，创建结构体的实例，并理解引用类型和值类型之间的区别。最后，你学习了如何使用枚举来表示一组特定的值。
- en: You now know how to use classes and structures to represent complex objects,
    and how to use enumerations to group related values together in your own programs.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在知道了如何使用类和结构体来表示复杂对象，以及如何在你的程序中使用枚举来将相关值分组在一起。
- en: In the next chapter, you will study how to specify common traits in classes
    and structures using protocols, extend the capability of built-in classes using
    extensions, and handle errors in your programs.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你将学习如何使用协议在类和结构体中指定共同特性，使用扩展扩展内置类的功能，以及处理程序中的错误。
