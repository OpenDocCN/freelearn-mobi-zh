<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch02"/>Chapter 2. Starting a Project</h1></div></div></div><p>Now that you have installed Android Studio, the next thing to do is to get familiar with its features. You need to understand the necessary fields and form factors when creating a project. Also, you may need to choose the activity type to create the main activity. How can you achieve this using Android Studio?</p><p>In this chapter, we will discuss how to create a new project with the basic content that is needed to start out. We will use the Android Studio wizard to create the project and go through the project configuration fields. We will also select one of the different kinds of activities available in the wizard as our main activity.</p><p>These are the topics we'll be covering in this chapter:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Creating a new project</li><li class="listitem" style="list-style-type: disc">Selecting the parameters</li><li class="listitem" style="list-style-type: disc">Choosing your main activity from different types of activities</li><li class="listitem" style="list-style-type: disc">Customizing your main activity</li></ul></div><div><div><div><div><h1 class="title"><a id="ch02lvl1sec14"/>Creating a new project</h1></div></div></div><p>To create a<a class="indexterm" id="id13"/> new project, click on the <strong>Start a new Android Studio project</strong> option from the welcome screen. If you are not in the welcome screen, then navigate to <strong>File</strong> | <strong>New Project</strong>. This opens the <strong>New Project</strong> wizard, as shown in the following screenshot:</p><div><img alt="Creating a new project" src="img/B05459_02_01.jpg"/></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec07"/>Configuring the project</h2></div></div></div><p>The fields that <a class="indexterm" id="id14"/>will be shown on the <strong>New Project</strong> wizard are as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Application name</strong>: This is the name shown in Google Play and the name that users see.</li><li class="listitem" style="list-style-type: disc"><strong>Company Domain</strong>: This is the company or domain name that is used to create the package name of your application.</li><li class="listitem" style="list-style-type: disc"><strong>Package name</strong>: This is the unique identifier of your application, usually in the <code class="literal">com.company_name.app_name</code> or <code class="literal">reverse_company_domain.app_name</code> form. This form reduces the risk of name conflicts with other applications. A default package name is proposed, based on the <strong>Company Domain</strong> and <strong>Application name</strong> fields. You can change the package name by clicking on <strong>Edit</strong>.</li><li class="listitem" style="list-style-type: disc"><strong>Project location</strong>: This is the directory in your system in which the project is saved.</li></ul></div><p>Complete the information for your project and click on the <strong>Next</strong> button. This will take you to the <a class="indexterm" id="id15"/>second screen. This screen allows you to select your platform and the minimum SDK your project will support on different devices.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec08"/>Selecting the form factors</h2></div></div></div><p>Because<a class="indexterm" id="id16"/> of the way Android has expanded to different types of devices, you may want to select one or more kinds of platforms and devices to be included in your project. For each type of device, you can select a different minimum SDK. The devices Android supports are as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Phone and Tablet</strong>: These<a class="indexterm" id="id17"/> are standard Android platforms used to create an application for phones and/or tablets.</li><li class="listitem" style="list-style-type: disc"><strong>Wear</strong>: This is an<a class="indexterm" id="id18"/> Android Wear platform used to design applications for wearable devices such as smartwatches.</li><li class="listitem" style="list-style-type: disc"><strong>TV</strong>: This is an<a class="indexterm" id="id19"/> Android TV platform used to design applications for big screens, such as those of television sets.</li><li class="listitem" style="list-style-type: disc"><strong>Android Auto</strong>: This is <a class="indexterm" id="id20"/>an extension to the Android platform to enable your app to work in cars. There is no platform selector for Android Auto because it depends on a standard <strong>Phone and Tablet</strong> project. Your app needs to target Android 5.0 or higher to support Android Auto.</li><li class="listitem" style="list-style-type: disc"><strong>Glass</strong>: This is an <a class="indexterm" id="id21"/>Android Glass platform used to design applications for Google Glass devices.</li></ul></div><p>Once you've decided on your devices, you can choose the minimum SDK supported by your application. Devices with an older SDK will not be able to install your application. Try to reach a balance between supported devices and available features. If your application does not require a specific feature published in the newest SDKs, then you can select an older <strong>Application Programming Interface</strong> (<strong>API</strong>). The last dashboards published by<a class="indexterm" id="id22"/> Google about platform distribution show that 97.3 percent of the devices use Android 4.0.3 Ice Cream Sandwich or a later version. If you select Android 2.3.3 Gingerbread, then the percentage rises to almost 100 percent. You can check out these values by clicking on the <strong>Help me choose</strong> link. The <a class="indexterm" id="id23"/>official Android dashboards are also available at <a class="ulink" href="http://developer.android.com/about/dashboards/index.html">http://developer.android.com/about/dashboards/index.html</a>.</p><p>To include any of the platforms and SDKs in your project, you need to have them installed in your system. The usual way to install a new platform is using a tool known as Android SDK Manager, which will be explained in <a class="link" href="ch06.html" title="Chapter 6. Tools">Chapter 6</a>, <em>Tools</em>. You don't have to use the manager now since the wizard to create a new project does all the work for you.</p><p>Check the <strong>Phone</strong> and <strong>Tablet</strong> option and select <code class="literal">API 16</code> as the minimum SDK. After that, click on <strong>Next</strong>. The required components will be installed if necessary. If this is your case, click on <strong>Next</strong> again once the installation is completed. This will take you to the next screen <a class="indexterm" id="id24"/>where you can select the activity type.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec09"/>Choosing the activity type</h2></div></div></div><p>Activities are<a class="indexterm" id="id25"/> the components associated with the screens with which users interact in an application. The logic of an activity is implemented in a Java class with the name of the activity, which is created inside the source folder of your project. Android applications usually have multiple screens and are usually based on multiple activities. All the activities of an application have to be declared in the <code class="literal">AndroidManifest.xml</code> file. It is mandatory in any Android application since it describes essential information about the application. In <a class="link" href="ch03.html" title="Chapter 3. Navigating a Project">Chapter 3</a>, <em>Navigating a Project</em>, you will learn about the project structure and the <code class="literal">AndroidManifest.xml</code> file.</p><p>When an application is launched, it shows the main screen of the application. This step of the <strong>New Project</strong> wizard creates the main activity of your application, which is the main entry point of your application. You can indicate the type of activity you want to create as the main activity of your application. You can complete the creation of a new project without adding an activity, but you will need to add a main activity when you are finished creating your project. You can also change your main activity later in your project by modifying the <code class="literal">AndroidManifest.xml</code> file. You will be able to add new activities to complete your application once your project is created. To create new activities you can use this same wizard step in the menu by navigating to <strong>File</strong> | <strong>New</strong> | <strong>Activity</strong> | <strong>Gallery</strong>.</p><p>Several types of activities that can be selected are as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Basic Activity</strong>: This<a class="indexterm" id="id26"/> template creates an activity with an action bar and a floating action button. The action bar includes a title and an options menu. Action bars can provide navigation modes and user actions. You <a class="indexterm" id="id27"/>can read more about action bars at <a class="ulink" href="http://developer.android.com/guide/topics/ui/actionbar.html">http://developer.android.com/guide/topics/ui/actionbar.html</a>.<div><div><h3 class="title"><a id="note02"/>Note</h3><p>You can read more<a class="indexterm" id="id28"/> about floating action buttons at <a class="ulink" href="https://www.google.com/design/spec/components/buttons-floating-action-button.html">https://www.google.com/design/spec/components/buttons-floating-action-button.html</a>.</p></div></div><p>The following screenshot shows <strong>Basic Activity</strong>:</p><div><img alt="Choosing the activity type" src="img/B05459_02_02.jpg"/></div><p>If you<a class="indexterm" id="id29"/> select this template, Android Studio will create a project with two layout files (<code class="literal">activity_main.xml</code> and <code class="literal">content_main.xml</code>) and the main activity class. The main layout (<code class="literal">activity_main.xml</code>) declares the action bar and the floating action button, and includes the content layout (<code class="literal">content_main.xml</code>) by adding the following XML declaration:</p><div><pre class="programlisting">&lt;include layout="@layout/content_main" /&gt;</pre></div></li><li class="listitem" style="list-style-type: disc"><strong>Empty Activity</strong>: This<a class="indexterm" id="id30"/> creates a blank activity. Here is a screenshot showing <strong>Empty Activity</strong>:<div><img alt="Choosing the activity type" src="img/B05459_02_03.jpg"/></div></li><li class="listitem" style="list-style-type: disc"><strong>Fullscreen Activity</strong>: This template hides the system's user interface (such as the notification bar) in a fullscreen view. By default, the fullscreen mode is alternated with an <a class="indexterm" id="id31"/>action bar that shows up when the user touches the device screen. <strong>Fullscreen Activity</strong> is shown in the following screenshot:<div><img alt="Choosing the activity type" src="img/B05459_02_04.jpg"/></div><p>If you <a class="indexterm" id="id32"/>select this template, Android Studio will create a project with a main activity and its main layout. The main activity contains all the logic to handle the fullscreen mode. For example, you will notice two helper methods that hide and show the action bar:</p><div><pre class="programlisting">private void hide() {
   …
}

private void show() {
   …
}</pre></div><p>And you will notice the constant variables to configure whether the bar should hide automatically after a delay and the time of that delay:</p><div><pre class="programlisting">/**
 * Whether or not the system UI should be auto-hidden after
 * {@link #AUTO_HIDE_DELAY_MILLIS} milliseconds.
 */
private static final boolean AUTO_HIDE = true;
/**
 * If {@link #AUTO_HIDE} is set, the number of milliseconds to wait after
 * user interaction before hiding the system UI.
 */
private static final int AUTO_HIDE_DELAY_MILLIS = 3000;</pre></div></li><li class="listitem" style="list-style-type: disc"><strong>Google AdMob Ads Activity</strong>: This template creates an activity with a contained <strong>AdMob Ad</strong>. The purpose of this template is to display ads that allow monetizing <a class="indexterm" id="id33"/>your app. Here is a screenshot <a class="indexterm" id="id34"/>showing <strong>Google AdMob Ads Activity</strong>:<div><img alt="Choosing the activity type" src="img/B05459_02_05.jpg"/></div><p>If you <a class="indexterm" id="id35"/>select this template, Android Studio will create a project with a main activity and its main layout. The main activity contains all the logic to create (<code class="literal">newInterstitialAd</code> method), load (<code class="literal">loadInterstitial</code> method), and show (<code class="literal">showInterstital</code> method) ads, which are saved in an <code class="literal">InterstitialAd</code> object.</p></li><li class="listitem" style="list-style-type: disc"><strong>Google Maps Activity</strong>: This template creates a new activity with a Google map in a<a class="indexterm" id="id36"/> fragment. A fragment is a portion of user interface in an activity. Fragments can be reused in multiple activities, and multiple fragments can be combined in a single activity. See more about<a class="indexterm" id="id37"/> fragments at <a class="ulink" href="https://developer.android.com/guide/components/fragments.html">https://developer.android.com/guide/components/fragments.html</a>. It is shown in the next screenshot:<div><img alt="Choosing the activity type" src="img/B05459_02_06.jpg"/></div><p>If you<a class="indexterm" id="id38"/> select this template, Android Studio will create a project with a main activity and a layout containing<a class="indexterm" id="id39"/> the following map fragment:</p><div><pre class="programlisting">&lt;fragment 


android:id="@+id/map"
android:name="<strong>com.google.android.gms.maps.SupportMapFragment</strong>"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context="<strong>com.example.mapstest.MapsActivity</strong>" /&gt;</pre></div></li><li class="listitem" style="list-style-type: disc"><strong>Login Activity</strong>: This<a class="indexterm" id="id40"/> template creates a view as a login screen, allowing the users to log in or register with e-mail and password.<div><img alt="Choosing the activity type" src="img/B05459_02_07.jpg"/></div><p>If you <a class="indexterm" id="id41"/>select this template, Android Studio will create a project with a main activity and its layout. The <a class="indexterm" id="id42"/>main layout contains: a <code class="literal">ProgressBar</code> to show the login progress, an <code class="literal">AutoCompleteTextView</code> for the user's e-mail, an <code class="literal">EditText</code> for the user's password, and a <code class="literal">Button</code> to sign in.</p><p>The main activity includes code to autocomplete the e-mail, code to change the focus from one field to another, an <code class="literal">AsyncTask</code> class to perform the login in background, and code to show the progress of the login.</p></li><li class="listitem" style="list-style-type: disc"><strong>Master/Detail Flow</strong>: This template splits the screen into two sections: a left-hand-side<a class="indexterm" id="id43"/> menu and the details of the selected item on the right-hand side. On a smaller screen, just one section is displayed, but on a bigger screen, both sections are displayed at the same time.<div><img alt="Choosing the activity type" src="img/B05459_02_08.jpg"/></div><p>If you<a class="indexterm" id="id44"/> select this template, Android Studio will create a project with two activities: the list activity<a class="indexterm" id="id45"/> and the detail activity. The project also contains the two layouts for both activities: the list layout and the detail layout. There are some additional classes, such as a detail fragment and layouts to create the master list.</p></li><li class="listitem" style="list-style-type: disc"><strong>Navigation Drawer Activity</strong>: This template creates a new activity with a navigation<a class="indexterm" id="id46"/> drawer. It displays the main navigation options in a panel that is brought onto the screen from a left-hand-side<a class="indexterm" id="id47"/> panel. You can read more about navigation drawers at <a class="ulink" href="https://developer.android.com/design/patterns/navigation-drawer.html">https://developer.android.com/design/patterns/navigation-drawer.html</a>.<div><img alt="Choosing the activity type" src="img/B05459_02_09.jpg"/></div><p>This template contains a main activity that implements the <code class="literal">NavigationView.OnNavigationItemSelectedListener</code> interface. This listener allows the activity to receive an event when the user selects an option from the drawer menu. Events are received in the <code class="literal">onNavigationItemSelected</code> method implemented by the main activity:</p><div><pre class="programlisting">@Override
public boolean onNavigationItemSelected(MenuItem item) {
   …
}</pre></div><p>The <a class="indexterm" id="id48"/>main layout is <code class="literal">DrawerLayout</code>, which contains a <code class="literal">NavigationView</code> object. Extra layouts are also <a class="indexterm" id="id49"/>created in the project for the main content, the main top bar, and the drawer header views.</p></li><li class="listitem" style="list-style-type: disc"><strong>Scrolling Activity</strong>: This <a class="indexterm" id="id50"/>template creates an activity that scrolls vertically.<div><img alt="Choosing the activity type" src="img/B05459_02_10.jpg"/></div><p>This template contains a main activity and a main layout. The main layout has a <code class="literal">Toolbar</code> and includes the scroll content layout:</p><div><pre class="programlisting">&lt;include layout=""@layout/content_scrolling"" /&gt;</pre></div><p>The content layout is <code class="literal">NestedScrollView</code>.</p></li><li class="listitem" style="list-style-type: disc"><strong>Settings Activity</strong>: This<a class="indexterm" id="id51"/> creates a preferences activity with a list of settings:<div><img alt="Choosing the activity type" src="img/B05459_02_11.jpg"/></div><p>This <a class="indexterm" id="id52"/>template has two activities: the main activity and the preferences activity. The preferences activity extends the <code class="literal">PreferenceActivity</code> class and overrides the methods to build the preferences screen. The preferences content is configured using the XML files that define the <code class="literal">PreferenceScreen</code> components.</p></li><li class="listitem" style="list-style-type: disc"><strong>Tabbed Activity</strong>: This <a class="indexterm" id="id53"/>creates a blank activity with an action bar similar to <strong>Basic Activity</strong>, but it also includes a navigational element. The navigational element can be a tabbed user interface (fixed or scrollable tabs), a horizontal swipe, or a spinner menu. The project content generated by Android Studio depends on the navigational element selected.<div><img alt="Choosing the activity type" src="img/B05459_02_12.jpg"/></div></li></ul></div><p>Select <a class="indexterm" id="id54"/>
<strong>Empty Activity</strong> and click on <strong>Next</strong>.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec15"/>Customizing your activity</h1></div></div></div><p>In the last step<a class="indexterm" id="id55"/> of the <strong>New Project</strong> wizard, you can customize a little bit of your activity. This customization is going to determine the names of some of your classes and resources files. You can also customize from this wizard the use of fragments or the navigation type.</p><p>The following screenshot shows the customization screen for an <strong>Empty Activity</strong>:</p><div><img alt="Customizing your activity" src="img/B05459_02_13.jpg"/></div><p>The basic customization for the activity has the following options:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Activity Name</strong>: Name of the main activity class.</li><li class="listitem" style="list-style-type: disc"><strong>Layout Name</strong>: You can create a layout for your activity if you check the <strong>Generate Layout File</strong> option. This field lets you specify the name of the layout associated with your main activity, which will be created in the resources folder.</li></ul></div><p>Depending on<a class="indexterm" id="id56"/> the type of activity selected in the previous steps, you can customize more parameters. The following screenshot shows the customization of <strong>Basic Activity</strong>:</p><div><img alt="Customizing your activity" src="img/B05459_02_14.jpg"/></div><p>In addition to the activity and layout names, you can configure the following options:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Title</strong>: This will be used for the activity and in the action bar by default.</li><li class="listitem" style="list-style-type: disc"><strong>Menu Resource Name</strong>: The name of the resource file that configures the menu items.</li></ul></div><p>There are other customizations that are available only to one type of activity, such as <strong>AdMob Ads Activity</strong> and <strong>Tabbed Activity</strong>. The <strong>AdMob Ads Activity</strong> contains one additional option, <strong>Ad Format</strong>, which is the format of the ad. Format can be <strong>Interstitial</strong> or <strong>Banner</strong>. The <strong>Tabbed Activity</strong> includes two additional options: <strong>Fragment Layout Name</strong>, which is the name of the layout associated with the activity's content fragment; and <strong>Navigation Style</strong>, which is the type of navigation. You can choose to navigate by any of the following three alternatives:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Swiping the <a class="indexterm" id="id57"/>views (<strong>Swipe Views</strong>) as shown in the next screenshot:<div><img alt="Customizing your activity" src="img/B05459_02_15.jpg"/></div><p>This type of navigation uses a <code class="literal">ViewPager</code> component to display the fragments. The <code class="literal">ViewPager</code> object is configured, in the main activity, with a <code class="literal">SectionsPagerAdapter</code> object. It provides the fragments that the <code class="literal">ViewPager</code> needs. In addition to the main layout that contains a <code class="literal">ViewPager</code>, a fragment layout is also created: <code class="literal">fragment_main.xml</code>.</p></li><li class="listitem" style="list-style-type: disc">Tabs in the<a class="indexterm" id="id58"/> action bar (<strong>Action Bar Tabs</strong>) as shown in the next screenshot:<div><img alt="Customizing your activity" src="img/B05459_02_16.jpg"/></div><p>This type of navigation uses the same components and files as the <strong>Swipe Views</strong> navigation type, plus a <code class="literal">TabLayout</code> object. The <code class="literal">TabLayout</code> object needs to receive the <code class="literal">ViewPager</code> object, which is set in the <code class="literal">onCreate</code> method of the main activity:</p><div><pre class="programlisting">TabLayout tabLayout = (TabLayout) findViewById(R.id.tabs);
tabLayout.setupWithViewPager(mViewPager);</pre></div></li><li class="listitem" style="list-style-type: disc">Using a <a class="indexterm" id="id59"/>spinner in the action bar (<strong>Action Bar Spinner</strong>) as shown in the next screenshot:<div><img alt="Customizing your activity" src="img/B05459_02_17.jpg"/></div><p>This type of navigation uses a <code class="literal">Spinner</code> component to display the fragments. The <code class="literal">Spinner</code> object is configured, in the main activity, with <code class="literal">ThemedSpinnerAdapter</code>. It provides the fragments that the <code class="literal">Spinner</code> needs. In addition to the main layout that contains <code class="literal">ViewPager</code>, a fragment layout is also created: <code class="literal">fragment_main.xml</code>.</p></li></ul></div><p>To complete this chapter, we select <strong>Empty Activity</strong>. Retain the default values in the customization and click on <strong>Finish</strong>.</p><p>An <strong>Empty Activity</strong> will be created in your project. This activity is also configured as the main activity of your application in the <code class="literal">AndroidManifest.xml</code> file by setting the following intent filter action:</p><div><pre class="programlisting">&lt;activity
    android:name=".MainActivity"
    android:label="@string/app_name" &gt;
    &lt;intent-filter&gt;
        &lt;action android:name="android.intent.action.MAIN" /&gt;
        &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
    &lt;/intent-filter&gt;
&lt;/activity&gt;</pre></div><p>The <code class="literal">android.intent.action.MAIN</code> action sets the activity as the main entry point of your<a class="indexterm" id="id60"/> application. The <code class="literal">android.intent.category.LAUNCHER</code> category indicates that the entry point should appear as a top-level application in the launcher. We will examine this <code class="literal">AndroidManifest.xml</code> file in <a class="link" href="ch03.html" title="Chapter 3. Navigating a Project">Chapter 3</a>, <em>Navigating a Project</em>.</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec16"/>Summary</h1></div></div></div><p>We have used the Android Studio wizard to create our first project and have filled the configuration fields. We also went through the different kinds of activities.</p><p>In the next chapter, we will go through the different elements of the structure of Android Studio. We will see how to create new classes, add and access libraries, and configure the project.</p></div></body></html>