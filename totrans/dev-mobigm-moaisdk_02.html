<html><head></head><body><div class="chapter" title="Chapter&#xA0;2.&#xA0;Installing Moai SDK"><div class="titlepage"><div><div><h1 class="title"><a id="ch02"/>Chapter 2. Installing Moai SDK</h1></div></div></div><p>Before we can get our hands dirty, there are a couple of steps we need to take in order to have a fully working environment to develop in with Moai SDK.</p><p>This differs from platform to platform, so feel free to jump to your platform of choice.</p><p>We'll see how to install Moai SDK in Windows and Mac OS X; for Linux users, the process is more complicated and we can't cover it here, but you'll find more information about it in this chapter as well. At the end of the chapter, you should end up with a working copy of Moai SDK installed on your system.</p><div class="section" title="Getting the latest stable build"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec12"/>Getting the latest stable build</h1></div></div></div><p>Head to <a class="ulink" href="http://getmoai.com/sdk/moai-sdk-download.html">http://getmoai.com/sdk/moai-sdk-download.html</a>.</p><p>You'll find two download options, the release and the nightly build.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Release</strong></span>: This is a stable version of Moai SDK. It includes all you need to start developing with Moai SDK. The current version at the time of this writing is 1.4p0.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Nightly builds</strong></span>: Every night (or morning depending on where are you located!) there is an automatic build of the whole Moai SDK project. This build is extremely unstable since it includes all the changes since the last stable release. If you need some feature that has not been included in the latest release, download the nightly build, it should be there.</li></ul></div><p>For each of these versions, there are two possible packages: a <code class="literal">.zip</code> and a <code class="literal">.tar.gz</code> package, download the one you like the most.</p><div class="mediaobject"><img src="graphics/5064_02_01.jpg" alt="Getting the latest stable build"/></div></div></div>
<div class="section" title="Setting up the environment"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec13"/>Setting up the environment</h1></div></div></div><p>After downloading the SDK, we need to set up our environment.</p><p>Moai SDK can be <a id="id3" class="indexterm"/>used with any text editor, but if you want some fancy features such as a debugger, you'd need to use one of the IDE's that support Moai SDK. There are a bunch of them, each with different levels of integration. For a complete list, I suggest you visit <span class="emphasis"><em>Tools that work with Moai</em></span> on <a id="id4" class="indexterm"/>Moai's wiki at <a class="ulink" href="http://getmoai.com/wiki/index.php?title=Tools_that_work_with_Moai">http://getmoai.com/wiki/index.php?title=Tools_that_work_with_Moai</a>.</p><p>In this book we'll focus on using ZeroBrane <a id="id5" class="indexterm"/>Studio, since it's open source (you can program it in Lua) and has a lot of neat features that will be useful to us (syntax highlighting, autocompletion for Moai SDK, debugging, and live coding, among others). To <a id="id6" class="indexterm"/>install it, go to <a class="ulink" href="http://studio.zerobrane.com">http://studio.zerobrane.com</a> and download the latest version of the software for your specific platform.</p><div class="section" title="Windows"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec07"/>Windows</h2></div></div></div><p>The book assumes that you've <a id="id7" class="indexterm"/>already downloaded ZeroBrane Studio (either the zip or the installer) and installed it in <code class="literal">C:\Program Files\ZeroBraneStudio</code>.</p><p>Now, unzip the Moai SDK package to <code class="literal">C:\moai-sdk</code>.</p><p>After doing this, we need to set up <a id="id8" class="indexterm"/>ZeroBrane to work with our Moai SDK installation.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a file called <code class="literal">user.lua</code> in <code class="literal">C:\Program Files\ZeroBraneStudio\cfg\</code> and add the following lines:<div class="informalexample"><pre class="programlisting">-- MOAI Path
path.moai = 'c:/moai-sdk/bin/win32/moai.exe'</pre></div></li><li class="listitem">If you chose to install Moai SDK in another location use that location instead.</li><li class="listitem">There is one last thing you need to do in order to support Moai SDK.</li><li class="listitem">Navigate to <span class="strong"><strong>Project</strong></span> | <span class="strong"><strong>Lua Interpreter</strong></span> | <span class="strong"><strong>Moai</strong></span>.</li></ol></div><p>Now you're all set. You can jump to the <span class="emphasis"><em>Running Samples</em></span> section to see if everything worked correctly.</p></div><div class="section" title="Mac OS X"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec08"/>Mac OS X</h2></div></div></div><p>The book assumes that you've already <a id="id9" class="indexterm"/>downloaded <a id="id10" class="indexterm"/>ZeroBrane Studio for Mac OS X and have installed it in <code class="literal">/Applications</code>.</p><p>Now, unzip the Moai SDK package to <code class="literal">~/moai-sdk</code>.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a file called <code class="literal">user.lua</code> in <code class="literal">/Applications/ZeroBraneStudio.app/Contents/ZeroBraneStudio/cfg/</code> and add the following lines:<div class="informalexample"><pre class="programlisting">-- MOAI Path
path.moai = '~/moai-sdk/bin/osx/moai'</pre></div></li><li class="listitem">If you chose to install MOAI in another location use that location instead.</li><li class="listitem">The last step is to navigate to <span class="strong"><strong>Project</strong></span><code class="literal"> | </code><span class="strong"><strong>Lua Interpreter</strong></span><code class="literal"> | </code><span class="strong"><strong>Moai</strong></span><code class="literal">.</code></li></ol></div><p>Now you're all set.</p><p>The next step is to try some samples to see if everything is working correctly.</p></div><div class="section" title="GNU/Linux"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec09"/>GNU/Linux</h2></div></div></div><p>Sadly, the current stable release of <a id="id11" class="indexterm"/>Moai SDK doesn't include a precompiled host for GNU/Linux. So the only option is to build your own host from the source code. In order to do this, you'll need some understanding of how to compile C++ and how to <a id="id12" class="indexterm"/>handle the Git repositories (at least how to clone them).</p><p>This is outside the scope of this book, but feel free to jump into the Moai forums to get help if you're lost.</p><p>Just as a hint, you'll need to <a id="id13" class="indexterm"/>get the source code from <a class="ulink" href="https://github.com/moai/moai-dev">https://github.com/moai/moai-dev</a>, switch to the Linux branch and compile everything using <span class="emphasis"><em>CMake</em></span>.</p></div></div>
<div class="section" title="Running samples"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec14"/>Running samples</h1></div></div></div><p>In order to see if your installation <a id="id14" class="indexterm"/>works fine, we will run a sample from Moai's release.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open up the ZeroBrane Studio and on the left panel (<span class="strong"><strong>Project</strong></span>), click the button with the ellipsis (<span class="strong"><strong>...</strong></span>) and head to <code class="literal">moai-sdk/samples/anim/anim-basic</code>, and click <span class="strong"><strong>OK</strong></span>.<div class="mediaobject"><img src="graphics/5064_02_02.jpg" alt="Running samples"/></div><p>Now your project is using one of Moai SDK's samples as project root. You'll see a lot of examples on how to do stuff with Moai SDK in the <code class="literal">moai-sdk/samples/folder</code>. Take a look at them after reading the book in order to understand more advanced topics.</p></li><li class="listitem">Now press <span class="emphasis"><em>F6</em></span> (or <span class="strong"><strong>Project</strong></span> | <span class="strong"><strong>Run</strong></span>).<p>If a window opens up <a id="id15" class="indexterm"/>and shows Moai SDK's logo rotating, yay! You're ready to go!</p><div class="mediaobject"><img src="graphics/5064_02_03.jpg" alt="Running samples"/></div></li></ol></div><p>You will want to read the sample; especially take a look at the line that reads:</p><div class="informalexample"><pre class="programlisting">prop:moveRot ( 360, 1.5 )</pre></div><p>This line is what makes the Moai logo move. The first parameter is the rotation angle and the second is the time it takes to perform the whole movement. Go ahead, play with it, change the angle and duration time and see what happens.</p></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec15"/>Summary</h1></div></div></div><p>In this chapter, we've seen that in order to develop with Moai SDK, we need to use one of the precompiled hosts or build one from source (in the case of the Linux development this is mandatory, since there are no precompiled builds yet).</p><p>We've downloaded the latest version of the framework, installed it, and run a sample to see if it's working properly.</p><p>The next chapter will introduce you to the basic concepts behind Moai SDK, so keep reading if you want to learn about Moai's runtime, the Action Tree, and Node Graph.</p></div></body></html>