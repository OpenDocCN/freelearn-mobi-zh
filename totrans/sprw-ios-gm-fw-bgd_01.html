<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Getting Started with Sparrow"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Getting Started with Sparrow</h1></div></div></div><p>
<span class="emphasis"><em>Before we dive right into the concept of development, we first need to set up our development environment and set up Sparrow on our system. In this chapter, we will take a short look at what Sparrow actually is, set up Xcode and Sparrow for our needs, create a game template, and set up goals and expectations for the game we are going to develop.</em></span>
</p><div class="section" title="Understanding the basics of Sparrow"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Understanding the basics of Sparrow</h1></div></div></div><p>Sparrow<a id="id0" class="indexterm"/> is a game framework that might feel familiar to those who already have some experience with ActionScript, the Flash API, and/or Starling. The familiarity to Starling is not a coincidence; the core development team of both Starling and Sparrow are the same. Starling could be considered the ActionScript version of Sparrow. We will delve into these aspects once we use the different features of Sparrow in detail.</p><p>
<span class="strong"><strong>Open Graphics Library for Embedded Systems</strong></span> (<span class="strong"><strong>OpenGL ES</strong></span>)<a id="id1" class="indexterm"/> is a graphics renderer for mobile devices which is available on all kinds of devices ranging from iOS devices to Android devices and even consoles such as OUYA. OpenGL can be seen as the older and bigger brother of OpenGL ES. OpenGL itself is available for all desktop platforms such as Windows, Linux, Mac OS X, and next-generation consoles such as the PlayStation 4.</p><p>OpenGL and OpenGL ES are the kind of libraries that let us perform magic on the screen, be it drawing textures, or having some kind of geometrical shapes or particle effects on the screen.</p><p>Sparrow abstracts all the OpenGL components away from the developer. We don't have to worry about the inner workings of OpenGL at all. Sparrow fully concentrates on 2D rendering and puts it into a bunch of logically structured classes and methods. While the choice for performance-heavy graphics applications is usually C or C++ as far as programming language is concerned, Sparrow uses Objective-C to keep it familiar for Mac and iOS developers.</p><p>Sparrow is not only a 2D graphics engine, but it also provides the functionality to create animations on the screen—ranging from simple effects such as fading objects in and out to more sophisticated actions such as moving a ball from the left to the right of the screen with a bouncing animation. This mechanism is also referred to as tweening.</p><p>Apart from <a id="id2" class="indexterm"/>graphic-related features, Sparrow also gives us the means to load audio files and play music and sounds in our games.</p><p>When directly compared with other game frameworks, Sparrow does not impose a specific workflow on us. As a result, a few things need to be set up by hand, such as structuring all the needed assets for our game and managing our scenes.</p></div></div>
<div class="section" title="System requirements"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>System requirements</h1></div></div></div><p>From a <a id="id3" class="indexterm"/>hardware perspective, any Mac that can run the latest Mac OS X works just fine.</p><p>On the software side, we will need the latest version of Mac OS X and all the latest updates need to be installed. The minimum at the time of writing this book is OS X 10.8 Mountain Lion.</p><p>For the platforms we are going to target, we need at least a device with iOS 5.0 and Xcode 4.0 or higher. The latest version of Sparrow uses OpenGL ES 2.0 internally, which is only supported by iPhone 3GS or newer devices.</p></div>
<div class="section" title="Setting up the Apple developer account"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Setting up the Apple developer account</h1></div></div></div><p>Setting up<a id="id4" class="indexterm"/> the Apple developer account and joining the iOS developer program is entirely optional for the purpose of this book, but it will become necessary if you would like to test the game on a physical device or publish it to the Apple App Store.</p><p>The iOS Simulator bundled with Apple Developer Tools is a great platform to test different functionalities. However, performance can be misleading in the simulator itself. Performance is a crucial factor in game development, so testing on a real device should be a priority.</p><p>Depending on the performance of your Mac, apps on the iOS simulator can run from terribly slow to quite fast. All in all, don't take the performance in the simulator as a reference to how well the game is going to perform on real devices.</p><p>For <a id="id5" class="indexterm"/>more information on the iOS developer program and Apple developer accounts, go to <a class="ulink" href="https://developer.apple.com/">https://developer.apple.com/</a>.</p></div>
<div class="section" title="Downloading Xcode"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Downloading Xcode</h1></div></div></div><p>
<span class="strong"><strong>Xcode</strong></span> is<a id="id6" class="indexterm"/> the default integrated-development environment for developing everything related to Mac and iOS. Xcode is available for free and the latest version—at the time of writing this book—is 5.0.2.</p><p>The first step is to download Xcode from the Mac App Store. Click on the Mac App Store icon from the dock to open the Mac App Store.</p><p>Search <code class="literal">Xcode</code> using the search box and select the appropriate result.</p><p>The store page might look something like the following screenshot:</p><div class="mediaobject"><img src="graphics/1509_01_01.jpg" alt="Downloading Xcode"/></div><p>Click <a id="id7" class="indexterm"/>on the <span class="strong"><strong>Install</strong></span> button right under the logo. (If Xcode is <a id="id8" class="indexterm"/>already installed, the caption of the button changes to <span class="strong"><strong>Installed</strong></span>.) The download is around 2.6 GB, so it may take a while depending on the speed of your Internet connection.</p><p>It's always a good idea to keep the Xcode installation up to date as updates are frequent.</p></div>
<div class="section" title="Downloading Sparrow"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Downloading Sparrow</h1></div></div></div><p>Now that<a id="id9" class="indexterm"/> Xcode is installed and ready to go, the next step is to get the <a id="id10" class="indexterm"/>latest stable version of Sparrow. Go to the official Sparrow homepage at <a class="ulink" href="http://sparrow-framework.org">http://sparrow-framework.org</a> or <a class="ulink" href="http://gamua.com/sparrow/">http://gamua.com/sparrow/</a>.</p><p>The latest Sparrow version—at the time of writing this book—is 2.0.1. The download page will look like the following screenshot:</p><div class="mediaobject"><img src="graphics/1509_01_02.jpg" alt="Downloading Sparrow"/></div><p>Click on <a id="id11" class="indexterm"/>the big blue <span class="strong"><strong>Download</strong></span> button and the download should start.</p><div class="section" title="Cloning the Git repository"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Cloning the Git repository</h2></div></div></div><p>If you <a id="id12" class="indexterm"/>are familiar with the version control system Git, you <a id="id13" class="indexterm"/>can also get the latest version by cloning the Git repository. This section is meant for advanced users who have already worked with Git.</p><p>The <a id="id14" class="indexterm"/>Sparrow GitHub repository is located at <a class="ulink" href="https://github.com/Gamua/Sparrow-Framework/">https://github.com/Gamua/Sparrow-Framework/</a>, where more information on the procedure can be found. Typically, Git commands are entered in the terminal:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git clone https://github.com/Gamua/Sparrow-Framework</strong></span>
</pre></div><p>This will take a while to download; the current progress is being shown in the terminal. After the download is complete, you will have the latest development version. Only use this version if you want to test a specific feature of Sparrow before its release or if you are feeling adventurous.</p><p>Never use this version for production code in games about to be released on Apple's App Store.</p><p>To get the latest stable version of Sparrow, check out the stable tag:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>git checkout tags/v2.0.1</strong></span>
</pre></div><p>Now we <a id="id15" class="indexterm"/>can update to the latest version<a id="id16" class="indexterm"/> if we want to.</p></div></div>
<div class="section" title="Contents of the Sparrow package"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Contents of the Sparrow package</h1></div></div></div><p>After<a id="id17" class="indexterm"/> the download has finished, extract the file to a location of your choice. We can use the unpacker that is included in Mac OS X by default, but any third-party unpacker should work as well. Let's take a look at the following screenshot to see what the Sparrow package has to offer:</p><div class="mediaobject"><img src="graphics/1509_01_03.jpg" alt="Contents of the Sparrow package"/></div><div class="section" title="The samples folder"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec11"/>The samples folder</h2></div></div></div><p>The <code class="literal">samples</code><a id="id18" class="indexterm"/> folder consists of three subfolders, and they are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">barebone</code>: This<a id="id19" class="indexterm"/> is a bare minimum project and a <a id="id20" class="indexterm"/>good start for creating your own games and will serve as the template for our game as well</li><li class="listitem" style="list-style-type: disc"><code class="literal">demo</code>: This <a id="id21" class="indexterm"/>is a sample application showcasing many<a id="id22" class="indexterm"/> of the features found within Sparrow</li><li class="listitem" style="list-style-type: disc"><code class="literal">scaffold</code>: The<a id="id23" class="indexterm"/> scaffold template provides some base <a id="id24" class="indexterm"/>classes and more boilerplate code than the <code class="literal">barebone</code> example</li></ul></div></div><div class="section" title="The sparrow folder"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>The sparrow folder</h2></div></div></div><p>The <code class="literal">sparrow</code><a id="id25" class="indexterm"/> folder has three subfolders, and they are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">doc</code>: This<a id="id26" class="indexterm"/> has<a id="id27" class="indexterm"/> a script to generate the documentation</li><li class="listitem" style="list-style-type: disc"><code class="literal">src</code>: This<a id="id28" class="indexterm"/> is the entire source of the Sparrow framework<a id="id29" class="indexterm"/> itself</li><li class="listitem" style="list-style-type: disc"><code class="literal">util</code>: This<a id="id30" class="indexterm"/> has different command-line tools which <a id="id31" class="indexterm"/>will help our workflow when dealing with graphic assets</li></ul></div></div><div class="section" title="Markdown files in the root folder"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>Markdown files in the root folder</h2></div></div></div><p>Markdown files<a id="id32" class="indexterm"/> are, in essence, text files that can be <a id="id33" class="indexterm"/>rendered into HTML files. They are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">BUILDING.md</code>: This gives a quick start on how to use the library</li><li class="listitem" style="list-style-type: disc"><code class="literal">CHANGELOG.md</code>: This gives a detailed list of items on what exactly changed between the versions</li><li class="listitem" style="list-style-type: disc"><code class="literal">LICENSE.md</code>: This is the license Sparrow uses</li><li class="listitem" style="list-style-type: disc"><code class="literal">README.md</code>: This is a short introduction into what Sparrow is</li></ul></div></div><div class="section" title="License"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>License</h2></div></div></div><p>Sparrow<a id="id34" class="indexterm"/> is a free and open source software, which means its source can be viewed and modified by anyone.</p><p>Like many other pieces of software in the Mac/iOS universe, Sparrow is licensed under an unmodified two-clause Simplified BSD license, which allows us to use Sparrow as long as the copyright notice, the list of conditions, and the disclaimer is distributed with the source or the application.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note02"/>Note</h3><p>What does this mean if we were to modify the source code?</p><p>The modified source code must have the same <code class="literal">LICENSE.md</code> file and the contents of this file are not allowed to change.</p><p>What does this mean if we were to develop a game with Sparrow and distribute the game on the Apple App Store?</p><p>The game needs to have the contents of <code class="literal">LICENSE.md</code> present in the game itself. Having the<a id="id35" class="indexterm"/> contents of the file in the options or credits screen is a valid solution.</p></div></div></div></div>
<div class="section" title="Setting up Sparrow"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Setting up Sparrow</h1></div></div></div><p>There are <a id="id36" class="indexterm"/>two different ways to set up Sparrow on your machine. The first is probably the easiest way to set up Sparrow.</p><p>The second option is to use <span class="strong"><strong>CocoaPods</strong></span>, a dependency management system for Objective-C. CocoaPods is probably the better way to go in the long run, especially when working with large-scale projects and more than one dependency. Setting up CocoaPods takes a bit longer than the first option and requires some knowledge on how to use the terminal.</p><p>While these options are not mutually exclusive, it's best to try out both and stick with the one that appeals the most.</p><div class="section" title="Option 1 – source tree reference"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec15"/>Option 1 – source tree reference</h2></div></div></div><p>First, copy the <code class="literal">sparrow</code> folder inside the downloaded folder to a location of your choice. Refrain from using spaces in your folder names, as Xcode can't really handle them in source trees.</p></div></div>
<div class="section" title="Time for action &#x2013; adding Sparrow as a source tree reference"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Time for action – adding Sparrow as a source tree reference</h1></div></div></div><p>To<a id="id37" class="indexterm"/> add Sparrow as a source tree reference, follow<a id="id38" class="indexterm"/> these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open Xcode.</li><li class="listitem">Open the Xcode settings through <span class="strong"><strong>Xcode</strong></span> at the top menu bar and then click on <span class="strong"><strong>Preferences…</strong></span>.</li><li class="listitem">Navigate to <span class="strong"><strong>Locations</strong></span>.</li><li class="listitem">Click on the <span class="strong"><strong>Source Trees</strong></span> tab.</li><li class="listitem">Click on the plus (<span class="strong"><strong>+</strong></span>) button to add a source tree item.</li><li class="listitem">Enter <code class="literal">SPARROW_SRC</code> in the <span class="strong"><strong>Name</strong></span> tab.</li><li class="listitem">Enter <code class="literal">Sparrow</code> in the <span class="strong"><strong>Display Name</strong></span> tab. (Alternatively, using <span class="strong"><strong>SPARROW_SRC</strong></span> as the display name works as well.)</li><li class="listitem">Add the absolute path to where we put the <code class="literal">sparrow</code> folder. Let's not forget the <code class="literal">src</code> suffix.</li></ol></div><div class="mediaobject"><img src="graphics/1509_01_04.jpg" alt="Time for action – adding Sparrow as a source tree reference"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec16"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We <a id="id39" class="indexterm"/>added the Sparrow source location as a <a id="id40" class="indexterm"/>source tree item in Xcode. This only has to be done once, as all Sparrow projects use this source tree item.</p><p>As the next step, we will set up our template which we are going to use throughout the book.</p></div></div>
<div class="section" title="Time for action &#x2013; using the barebone project as a template"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Time for action – using the barebone project as a template</h1></div></div></div><p>Follow <a id="id41" class="indexterm"/>these steps to use the <code class="literal">barebone</code> project as a <a id="id42" class="indexterm"/>template:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Copy the <code class="literal">barebone</code> application from <span class="strong"><strong>samples</strong></span> | <span class="strong"><strong>barebone</strong></span> to a location of your choice.</li><li class="listitem">Open up the project in Xcode by double-clicking on <code class="literal">Barebone.xcodeproj</code>.</li><li class="listitem">Click on the project name in the project navigator to make it editable.</li><li class="listitem">Rename it to <code class="literal">PirateGame</code>.</li><li class="listitem">Open the <span class="strong"><strong>Product</strong></span> menu from the top menu bar.</li><li class="listitem">Select <span class="strong"><strong>Scheme</strong></span> and <span class="strong"><strong>Manage Schemes</strong></span>.</li><li class="listitem">Rename the <span class="strong"><strong>Scheme</strong></span> name from <span class="strong"><strong>Barebone</strong></span> to <code class="literal">PirateGame</code>.</li><li class="listitem">Run the project in the iOS Simulator by hitting the play button. Make sure <span class="strong"><strong>PirateGame</strong></span> is selected and not <span class="strong"><strong>Sparrow</strong></span>.</li></ol></div><div class="mediaobject"><img src="graphics/1509_01_05.jpg" alt="Time for action – using the barebone project as a template"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec17"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We<a id="id43" class="indexterm"/> copied the <code class="literal">barebone</code> Sparrow template and used it<a id="id44" class="indexterm"/> as a template for our game. We renamed all project and scheme references and ran the template in order to see if everything went ok.</p><p>The indication for everything working as expected is when there are no errors while compiling the template and a red rectangle shows up on the screen.</p></div><div class="section" title="Option 2 – CocoaPods"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec18"/>Option 2 – CocoaPods</h2></div></div></div><p>CocoaPods<a id="id45" class="indexterm"/> is a dependency manager for Objective-C projects. It can handle Mac OS X and iOS dependencies alike and is similar to package managers of other systems. It can be compared to what Ruby's package manager RubyGems is to the Ruby platform or what NPM is to Node.js.</p><p>CocoaPods needs Ruby and RubyGems to run, which is nothing to worry about, as both come preinstalled on every Mac OS X machine.</p><p>Before we<a id="id46" class="indexterm"/> begin installing CocoaPods, we need to make sure that the command-line tools are installed.</p></div></div>
<div class="section" title="Time for action &#x2013; installing command-line tools"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec18"/>Time for action – installing command-line tools</h1></div></div></div><p>To install <a id="id47" class="indexterm"/>command-line tools, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open a terminal.</li><li class="listitem">Enter <code class="literal">xcode-select</code> and press <span class="emphasis"><em>Enter</em></span> to confirm.</li><li class="listitem">A dialog will pop up if the command-line tools are not installed yet. If a dialog does not pop up, the command-line tools are already installed and there is nothing to do here.</li><li class="listitem">Click on <a id="id48" class="indexterm"/>the <span class="strong"><strong>Install</strong></span> button to continue as shown in the following screenshot:<div class="mediaobject"><img src="graphics/1509_01_06.jpg" alt="Time for action – installing command-line tools"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec19"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>Before we can install CocoaPods, we need to have the latest version of the command-line tools.</p><p>If you want to trigger a reinstallation of the command-line tools regardless of whether they are already installed, this can be achieved by entering <code class="literal">xcode-select --install</code>.</p><p>Now that the command-line tools are installed, we can begin with the CocoaPods installation.</p></div></div>
<div class="section" title="Time for action &#x2013; installing CocoaPods"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec19"/>Time for action – installing CocoaPods</h1></div></div></div><p>To install <a id="id49" class="indexterm"/>CocoaPods, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open a terminal.</li><li class="listitem">Enter <code class="literal">sudo gem update –system</code> and press <span class="emphasis"><em>Enter</em></span> to confirm.</li><li class="listitem">Enter <code class="literal">sudo gem install cocoapods</code>.</li><li class="listitem">Enter <code class="literal">pod setup</code>. This may take a long time, so be patient.</li></ol></div><div class="mediaobject"><img src="graphics/1509_01_07.jpg" alt="Time for action – installing CocoaPods"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec20"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>As CocoaPods needs to be installed using the command line, our requirement is to have a terminal window opened.</p><p>In the second step, we are going to update RubyGems to the latest available version.</p><p>After that, we trigger the installation of CocoaPods. This also installs all dependencies. If there is a conflict, we get a prompt to deal with this conflict. If you are unsure about what to do, just press <span class="emphasis"><em>Enter</em></span> in this case and the safest option will be chosen.</p><p>The last step is necessary in order to set up CocoaPods. It's recommended to run this command from time to time as it updates the local repository with all the latest specifications of libraries that can be used.</p><p>Now that CocoaPods is installed, we can go ahead and set up our Sparrow template.</p></div></div>
<div class="section" title="Time for action &#x2013; using the barebone project as a template"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec20"/>Time for action – using the barebone project as a template</h1></div></div></div><p>Follow<a id="id50" class="indexterm"/> these steps to use the <code class="literal">barebone</code> project as a <a id="id51" class="indexterm"/>template:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Copy the <code class="literal">barebone</code> application from <span class="strong"><strong>samples</strong></span> | <span class="strong"><strong>barebone</strong></span> to a location of your choice.</li><li class="listitem">Open the Xcode project.</li><li class="listitem">Click on the project name in the project navigator to make it editable.</li><li class="listitem">Rename it to <code class="literal">PirateGame</code>.</li><li class="listitem">Open the <span class="strong"><strong>Product</strong></span> menu from the top menu bar.</li><li class="listitem">Select <span class="strong"><strong>Scheme</strong></span> and <span class="strong"><strong>Manage Schemes</strong></span>.</li><li class="listitem">Rename the <span class="strong"><strong>Scheme</strong></span> name from <span class="strong"><strong>Barebone</strong></span> to <code class="literal">PirateGame</code>.</li><li class="listitem">Close Xcode.</li><li class="listitem">Open <a id="id52" class="indexterm"/>any text editor.</li><li class="listitem">Type in <a id="id53" class="indexterm"/>the following code:<div class="informalexample"><pre class="programlisting">platform :ios, '5.0'

pod 'Sparrow-Framework', '2.0.1'</pre></div></li><li class="listitem">Save the file as <code class="literal">Podfile</code> in the recently copied <code class="literal">barebone</code> folder on the same level as the Xcode project file. If you are using TextEdit (OS X default text editor), make sure to save the file in the plain format which can be done by changing <span class="strong"><strong>Format</strong></span> to <span class="strong"><strong>Make Plain Text</strong></span> in the menu. Also disable <span class="strong"><strong>Smart Quotes</strong></span> by navigating to <span class="strong"><strong>TextEdit</strong></span> | <span class="strong"><strong>Preferences…</strong></span>.</li><li class="listitem">Open a terminal.</li><li class="listitem">Navigate to the copied <code class="literal">barebone</code> folder.</li><li class="listitem">Execute<a id="id54" class="indexterm"/> the <code class="literal">pod install</code> command in the terminal.</li><li class="listitem">Open <code class="literal">PirateGame.xcworkspace</code> with Xcode.</li><li class="listitem">Remove <code class="literal">Sparrow.xcodeproj</code> from the project by right-clicking on it and selecting <span class="strong"><strong>Delete</strong></span>.</li><li class="listitem">Run the project in the iOS Simulator by hitting the play button. If there are any errors, try to change the <span class="strong"><strong>Build Settings</strong></span> in the configuration by changing <span class="strong"><strong>recursive</strong></span> to <span class="strong"><strong>non-recursive</strong></span> in <span class="strong"><strong>User Header Search Paths</strong></span>.</li></ol></div><div class="mediaobject"><img src="graphics/1509_01_05.jpg" alt="Time for action – using the barebone project as a template"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec21"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We copied<a id="id55" class="indexterm"/> the barebone Sparrow template and <a id="id56" class="indexterm"/>used it as a template for our game. We renamed all project and scheme references.</p><p>We then needed to close Xcode, as CocoaPods will generate some files and we didn't want Xcode to interfere with the process.</p><p>In the next step, we had to define <code class="literal">Podfile</code>, which is the specification file for CocoaPods. This file tells CocoaPods which dependencies to fetch.</p><p>The specifications are written in Ruby, but they are easily understandable even to those who don't know the Ruby programming language.</p><p>The first statement sets the dependencies for the iOS platform. As mentioned earlier, CocoaPods can handle Mac OS and iOS dependencies even in the same project, so it makes sense for it to have a statement separating one from the other. As we are only targeting iOS, we don't need to worry about Mac OS dependencies and we leave that one out.</p><p>The second part of the <code class="literal">Podfile</code> in our example has all the dependencies we need in our project. As we only have one dependency—which is Sparrow—we only need to define that one.</p><p>A dependency is written in the following format:</p><div class="informalexample"><pre class="programlisting">pod 'name' 'version'</pre></div><p>The repository with all dependencies and versions currently available can be found on GitHub at <a class="ulink" href="https://github.com/CocoaPods/Specs">https://github.com/CocoaPods/Specs</a>.</p><p>After our <code class="literal">Podfile</code> is written and saved, we need to get back to the terminal and let CocoaPods fetch our dependencies which is what <code class="literal">pod install</code> does. CocoaPods also generates a <code class="literal">Pod</code> folder which is where all dependencies are stored as well as an Xcode workspace.</p><p>From<a id="id57" class="indexterm"/> now on, instead of opening the project file, we need <a id="id58" class="indexterm"/>to open the workspace file as this is what CocoaPods updates and maintains. </p><p>If we were to open the project file and try to run the application, the application would fail to compile.</p><p>As the last step, we run our example. The indication that everything worked fine is when there are no errors while compiling the template and a red rectangle shows up on the screen.</p></div></div>
<div class="section" title="Running the template on the actual device"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec21"/>Running the template on the actual device</h1></div></div></div><p>Even though our template is still a bit basic, we can run it on an actual device. For this section, we'll need an Apple developer account and we will need to be a member of the iOS Developer Program.</p></div>
<div class="section" title="Time for action &#x2013; running the template on the actual device"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec22"/>Time for action – running the template on the actual device</h1></div></div></div><p>To run<a id="id59" class="indexterm"/> the template on the actual device, follow these <a id="id60" class="indexterm"/>steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the Xcode settings through <span class="strong"><strong>Xcode</strong></span> at the top menu bar and then click on <span class="strong"><strong>Preferences…</strong></span>.</li><li class="listitem">Navigate to <span class="strong"><strong>Accounts</strong></span>.</li><li class="listitem">Click on the plus icon to add a new account.</li><li class="listitem">Select <span class="strong"><strong>Add Apple ID…</strong></span> from the menu.</li><li class="listitem">Enter the required credentials and confirm by clicking on <span class="strong"><strong>Add</strong></span>.</li><li class="listitem">Connect your device to your Mac.</li><li class="listitem">Open<a id="id61" class="indexterm"/> the Xcode organizer by going to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Organizer</strong></span> to check whether the device has been successfully<a id="id62" class="indexterm"/> detected.</li><li class="listitem">Select the device from the menu by clicking on the application name and selecting the correct device.</li><li class="listitem">Run the project by hitting the play button.</li></ol></div><div class="mediaobject"><img src="graphics/1509_01_05.jpg" alt="Time for action – running the template on the actual device"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec22"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We connected a device to our Mac, and set the build configuration to the device so that the application would run on the device instead of the simulator.</p><p>As expected, the red rectangle should be successfully displayed on the device as it did on the simulator.</p></div></div>
<div class="section" title="Getting Sparrow documentation files"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec23"/>Getting Sparrow documentation files</h1></div></div></div><p>The Sparrow framework features documentation, also known as a docset, which can be integrated in order to get additional information on Sparrow classes and methods.</p><p>To add a docset for Xcode 5, a free application called <span class="strong"><strong>Docs for Xcode</strong></span> is necessary and can be <a id="id63" class="indexterm"/>downloaded from the Mac App Store. More information on Docs for Xcode can be found at <a class="ulink" href="http://documancer.com/xcode/">http://documancer.com/xcode/</a>.</p></div>
<div class="section" title="Time for action &#x2013; adding the Sparrow API documentation to Xcode"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec24"/>Time for action – adding the Sparrow API documentation to Xcode</h1></div></div></div><p>To add <a id="id64" class="indexterm"/>the Sparrow API documentation, just follow these easy steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open<a id="id65" class="indexterm"/> Docs for Xcode (if you launch Docs for Xcode for the first time, grant it the access to the documentation folder).</li><li class="listitem">Click on <span class="strong"><strong>Add Feed</strong></span>.</li><li class="listitem">Enter <code class="literal">http://doc.sparrow-framework.org/core/feed/docset.atom</code> in the text field and confirm by clicking on <span class="strong"><strong>Add</strong></span>.</li><li class="listitem">Restart Xcode (or open Xcode if Xcode was already closed).</li><li class="listitem">Open a Sparrow project and open the inline documentation by pressing the <span class="emphasis"><em>Alt</em></span> button and clicking on any class name or method.</li></ol></div><div class="mediaobject"><img src="graphics/1509_01_08.jpg" alt="Time for action – adding the Sparrow API documentation to Xcode"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec23"/>
<span class="emphasis"><em>What just happened?</em></span>
</h2></div></div></div><p>We added a docset feed in Docs for Xcode so that we get more precise and always up-to-date documentation when developing with Sparrow.</p></div></div>
<div class="section" title="The idea for the game"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec25"/>The idea for the game</h1></div></div></div><p>Finding the right idea for a game can be quite tricky. As a rule of thumb, find something to be excited about and something you might want to play yourself. A good motivation is playing games and finding bits and pieces that you really like or that can be improved. One thing is for certain: do not clone. Don't make clones, make something original instead.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>
<span class="strong"><strong>Finding game ideas</strong></span>
</p><p>Probably the best way to find game ideas is during game jams, where you get to develop<a id="id66" class="indexterm"/> a game in a very short time frame. One of the more popular ones is Ludum Dare (<a class="ulink" href="http://www.ludumdare.com/compo/">http://www.ludumdare.com/compo/</a>) and Global Game Jam (<a class="ulink" href="http://globalgamejam.org/">http://globalgamejam.org/</a>). The first one is an online solo competition whereas<a id="id67" class="indexterm"/> at Global Game Jam you have to work in teams. What both game jams have in common is a theme that is provided and should be used by all entrants.</p><p>For a less competitive approach, you might also want to check the Twitter <code class="literal">@PeterMolydeux</code>, which is a parody account of Peter Molyneux, the creative mind behind Fable, Black &amp; White, and Populous. There are tweets about completely crazy and/or funny game ideas, most of which would be very fun to play.</p></div></div><p>The kind of game we are developing is something a bit like an action game with role-playing game elements. The player is going to control a ship full of pirates who are waiting for ships to attack, seize, and scavenge.</p><p>After each mission, we'll get back to the pirate cove and buy better items such as cannonballs or hire a more experienced crew. Our game will be called "A Practical Survival Guide for Pirates". However, as the name is long, we'll just leave the game template name as "PirateGame".</p><div class="section" title="Setting goals and expectations"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec24"/>Setting goals and expectations</h2></div></div></div><p>It's always <a id="id68" class="indexterm"/>a good idea to have some kind of plan. While most of game development is iterative, it doesn't hurt to communicate the vision of the game.</p><p>The most<a id="id69" class="indexterm"/> important thing when developing is to remember the scope. It's very important to keep the scope as small as possible; in most situations, you still have to cut gameplay elements out in latter stages of the development cycle.</p><p>So saying we are going to create the next <span class="emphasis"><em>Angry Birds</em></span> with more levels is probably as unrealistic as saying we're going to develop the next <span class="emphasis"><em>World of WarCraft</em></span> just with more weapons and quests.</p><p>Let's put our goals and expectations into a list. The following is the list of goals we have for this book:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Finished game by the end of the book</li><li class="listitem" style="list-style-type: disc">Gained an understanding of development with Sparrow</li><li class="listitem" style="list-style-type: disc">Examples are relevant for game development and working with Sparrow</li></ul></div><p>The following <a id="id70" class="indexterm"/>is the list of expectations we have out of this book:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The game <a id="id71" class="indexterm"/>is polished enough so that it can be published to the Apple App Store</li><li class="listitem" style="list-style-type: disc">The game is fun to play</li></ul></div></div><div class="section" title="Examining our gameplay elements"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec25"/>Examining our gameplay elements</h2></div></div></div><p>Most independent games generally focus on a single mechanic and polish it to the maximum. <span class="emphasis"><em>Tiny Wings</em></span> and <span class="emphasis"><em>Snapshot</em></span> are good examples.</p><p>As with<a id="id72" class="indexterm"/> all software, there is always the danger of becoming a feature creep, which means adding all kinds of features during development without planning for it or balancing. In the end, the game might have all the features we want, but these features might be mutually exclusive and the game might not be fun.</p><p>So keeping in mind the scope and limitations, let's make a list with our features and gameplay elements for our game:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Attacking enemy ships</li><li class="listitem" style="list-style-type: disc">Collecting loot from enemy ships</li><li class="listitem" style="list-style-type: disc">Upgrading ship equipments</li><li class="listitem" style="list-style-type: disc">Hiring new crew members</li></ul></div></div></div>
<div class="section" title="Code conventions"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec26"/>Code conventions</h1></div></div></div><p>Before we <a id="id73" class="indexterm"/>head into our first lines of code, we should take a moment and settle on code conventions for all code examples. The most used code guideline in the Objective-C world is the one made by Apple, which we are going to follow as closely as possible.</p><p>The most important conventions to remember are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Keep all method names in camel case (as in <code class="literal">myMethodName</code>)</li><li class="listitem" style="list-style-type: disc">The method names should be descriptive</li><li class="listitem" style="list-style-type: disc">Don't <a id="id74" class="indexterm"/>abbreviate method names</li><li class="listitem" style="list-style-type: disc">Instance <a id="id75" class="indexterm"/>variables should be prefixed with an underscore</li></ul></div><p>The complete guideline for these conventions is available at <a class="ulink" href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html">https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html</a>.</p><div class="section" title="Pop quiz"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec26"/>Pop quiz</h2></div></div></div><p>Q1. What is the Sparrow Framework?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">A game framework for 2D games</li><li class="listitem">A 3D graphics engine</li><li class="listitem">A scene graph library</li></ol></div><p>Q2. What is CocoaPods?</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Source control for Objective-C</li><li class="listitem">An add-on library for Cocoa</li><li class="listitem">A dependency manager for Objective-C packages</li></ol></div><p>Q3. In order to develop games with Sparrow 2.x, we need at least iOS 5.0 SDK and preferably an iPhone 3GS or a more recent device.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">True</li><li class="listitem">False</li></ol></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec27"/>Summary</h1></div></div></div><p>We learned a lot in this chapter about setting up our development environment for Sparrow. Specifically, we covered how to set up Xcode, the Sparrow game framework, and creating our own game template.</p><p>We also touched on some general game development topics and learned about dependency management with CocoaPods.</p><p>Now that we have a game template set up, we're ready to learn about display objects and how to use them—which is the topic of the next chapter.</p></div></body></html>