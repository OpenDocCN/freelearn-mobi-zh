<html><head></head><body>
<div><h1 class="chapter-number" id="_idParaDest-90"><a id="_idTextAnchor354"/>6</h1>
<h1 id="_idParaDest-91"><a id="_idTextAnchor355"/>Mac Project – App Store Bars</h1>
<p>In the previous four chapters, we created a tax calculator app for the iPhone and a photo gallery app for the iPad. We implemented them from scratch, looking at the technical requirements, design specifications, wireframes, and code implementation. We will use the skills covered in this and the next chapter to create the App Store sidebar, but worry not: we will go over all necessary aspects in case you have jumped straight to this chapter.</p>
<p>In this chapter, we will work on the design of our third project, an App Store application for the Mac that will showcase its big screen, which also stays in one orientation. We will assess the requirements for designing such an application and discuss the design specifications, allowing us to get a better understanding of what is required and how it will all fit together. Then, we will start our application's coding process to build the sidebars in this chapter, and the next chapter will cover the main body of the App Store app. This project will cover the foundations of SwiftUI components.</p>
<p> This chapter covers the following main topics:</p>
<ul>
<li>Understanding the Design Specifications</li>
<li>Acceptance Criteria</li>
<li>Building the Sidebar UIs</li>
</ul>
<p>By the end of this chapter, you will have a better understanding of the design of our application and what is required, along with a skeleton user interface that will be used as the foundation for making the gallery work in the next chapter.</p>
<h1 id="_idParaDest-92"><a id="_idTextAnchor356"/>Technical requirements</h1>
<p>This chapter requires you to download Xcode version 14 or above from Apple’s App Store. To install Xcode, just search for Xcode in the App Store, then select and download the latest version. Open Xcode and follow any additional installation instructions. Once Xcode has opened and launched, you’re ready to go.</p>
<p>Version 14 of Xcode has the following features/requirements:</p>
<ul>
<li>Includes SDKs for iOS 16, iPadOS 16, macOS 12.3, tvOS 16, and watchOS 9</li>
<li>Supports on-device debugging in iOS 11 or later, tvOS 11 or later, and watchOS 4 or later</li>
<li>Requires a Mac running macOS Monterey 12.5 or later</li>
</ul>
<p>For further information regarding technical details, please refer to <a href="B18783_01.xhtml#_idTextAnchor014"><em class="italic">Chapter 1</em></a>.</p>
<p>The code files for this chapter can be found here: <a href="https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects">https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects</a></p>
<p><a id="_idTextAnchor357"/>In the next section, we will provide clarity on the specifications of our application’s design and look at mockups of what the app will look like.</p>
<h1 id="_idParaDest-93"><a id="_idTextAnchor358"/>Understanding the Design Specifications</h1>
<p><a id="_idTextAnchor359"/>In <a id="_idIndexMarker266"/>this section, we will look at the <a id="_idIndexMarker267"/>design specifications of our App Store application and describe the features we are going to implement in it. The best method for figuring out the features required is to put yourself in the user’s shoes to determine how they will use the app, then break it into individual steps.</p>
<p>There can be many <a id="_idIndexMarker268"/>features of our app, and they are as follows:</p>
<ul>
<li>Sidebar – for different sections of the app.</li>
<li>Highlight banner – showcasing an app of the day.</li>
<li>Featured tiles – showcasing lesser apps or more specific category applications.</li>
<li>New apps and updates section.</li>
<li>Search – the ability to search the whole collection for a specific app</li>
<li>Account management.</li>
<li>App reviewing.</li>
<li>App reporting.</li>
<li>App page – showing information such as description and date for a selected app, similar to the <code>EnhancedView</code> from the photo gallery application we created previously.</li>
<li>App images and information from an external source such as a local database or online.</li>
<li>Sharing – the ability to share an image.</li>
<li>Creating favorite/download later lists.</li>
</ul>
<p>Now that we have listed the ideal features we would like, next, it is important for us to determine which features are absolutely crucial. To do this, we must understand the end use of our product. For me, the purpose of creating this App Store application is to showcase a sidebar and how it integrates with the main body. We will not be implementing an app page because it is very similar to the photo gallery’s <code>EnhancedView</code>, which will be set as an extra task, and you can use the previous two chapters for assistance. Based on that, I know that not all the features are required, and some would be useful if omitted and assigned as extra tasks for you as the <a id="_idIndexMarker269"/>developer to undertake. Therefore, the following are the core <a id="_idIndexMarker270"/>features we will be implementing:</p>
<ul>
<li>Sidebar – for different sections of the app.</li>
<li>Highlight banner – showcasing an app of the day.</li>
<li>Featured tiles – showcasing lesser apps or more specific category applications.</li>
<li>New apps and updates section.</li>
</ul>
<p><a id="_idTextAnchor360"/>The rest of the features will be an exercise for you once you have completed this and the next chapter. The next section will cover the acceptance criteria for our application.</p>
<h1 id="_idParaDest-94"><a id="_idTextAnchor361"/>Understanding the Acceptance criteria</h1>
<p>We will discuss the mandatory <a id="_idIndexMarker271"/>requirements for our application that we absolutely want to see in the end product at the end of the next chapter. If possible, we should try to make them measurable, so let’s list them right now:</p>
<ul>
<li>Sidebar with text components and an icon next to them for enhanced visual context.</li>
<li>Scrollable main body view to scroll through the applications and highlighted applications in the main body.</li>
<li>Highlight banner that will take the full width of its parent container to showcase an application.</li>
<li>Tiles to showcase other specific apps in a category.</li>
<li>Images and text displayed for the rest of the apps.</li>
</ul>
<p><a id="_idTextAnchor362"/>Develop test cases in which the application’s acceptance criteria will be tested. Using this method allows the ability to see the conditions in which the application will be used by the end user and the level that needs to be attained for it to be considered successful.</p>
<p><a id="_idTextAnchor363"/>We will develop testing methods to check the acceptance criteria that can be tested and ultimately measured. This will allow us to see whether the use cases in which the application is to be used will pass.</p>
<h1 id="_idParaDest-95"><a id="_idTextAnchor364"/>Wireframe design</h1>
<p>One of the most useful tools for <a id="_idIndexMarker272"/>designing layouts is wireframing. A <a id="_idIndexMarker273"/>wireframe is an overview of how the layout will look. The following figure shows the whole front page of the application that we will be implementing using a wireframe:</p>
<div><div><img alt="Figure 6.1 – App Store wireframe" src="img/Figure_6.01_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.1 – App Store wireframe</p>
<p>In the next section, we will build the <a id="_idIndexMarker274"/>interface for our application and make sure it looks the way we designed it in the wireframe. Though we will build it the same way, there can be small differences. We will focus on the sidebar in this chapter and complete the main body in the next chapter.</p>
<h1 id="_idParaDest-96"><a id="_idTextAnchor365"/>Building the Sidebar UI</h1>
<p>W<a id="_idTextAnchor366"/>e will now <a id="_idIndexMarker275"/>build the UI for the sidebar. First, let’s create our project. Follow the following steps:</p>
<ol>
<li>Open Xcode and select <strong class="bold">Create a new </strong><strong class="bold">Xcode project</strong>:</li>
</ol>
<div><div><img alt="Figure 6.2 – Create a new Xcode project" src="img/Figure_6.02_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.2 – Create a new Xcode project</p>
<ol>
<li value="2">Now, we will <a id="_idIndexMarker276"/>choose the template for our application. As we are creating an iPad app, we will select <strong class="bold">iOS</strong> from the top, select <strong class="bold">App</strong>, and click <strong class="bold">Next</strong>:</li>
</ol>
<div><div><img alt="Figure 6.3 – Xcode project template selection" src="img/Figure_6.03_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.3 – Xcode project template selection</p>
<ol>
<li value="3">We will now choose the options for our project. Here, there are only two crucial things to select/set. Make sure that the interface is set to <strong class="bold">SwiftUI</strong>, which will be the UI our system will use, and that <strong class="bold">Language</strong> is set to <strong class="bold">Swift</strong>, which is obviously the programming language used for our application:</li>
</ol>
<div><div><img alt="Figure 6.4 – Xcode project options" src="img/Figure_6.04_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.4 – Xcode project options</p>
<ol>
<li value="4">Once you press <strong class="bold">Next</strong>, you can choose <a id="_idIndexMarker277"/>where to create your project, as seen in the following figure:</li>
</ol>
<div><div><img alt="Figure 6.5 – Xcode project save directory" src="img/Figure_6.05_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.5 – Xcode project save directory</p>
<ol>
<li value="5">Once you have found the location you would like to create it in, go ahead and click on <strong class="bold">Create</strong> in the bottom-right corner as seen in <em class="italic">Figure 6</em><em class="italic">.5</em>. Xcode shows your project in all its glory, as seen in the following figure:</li>
</ol>
<div><div><img alt="Figure 6.6 – New Xcode project overview" src="img/Figure_6.06_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.6 – New Xcode project overview</p>
<p>In the next section, we will implement the sidebar of our application using SwiftUI.</p>
<h1 id="_idParaDest-97"><a id="_idTextAnchor367"/>Exploring the Sidebar components</h1>
<p>In this section, we will <a id="_idIndexMarker278"/>implement the sidebar’s user interface. As a reminder, it will look like the following:</p>
<div><div><img alt="Figure 6.7 – App ﻿Store wireframe" src="img/Figure_6.07_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.7 – App Store wireframe</p>
<p>There are two main <a id="_idIndexMarker279"/>elements to the sidebar. As a little task, see whether you can figure out what they are. Don’t worry if you don’t know the exact UI components’ names; we will look at these components in the following sections.</p>
<h2 id="_idParaDest-98"><a id="_idTextAnchor368"/>Label item</h2>
<p>A label item component <a id="_idIndexMarker280"/>simply displays an item within the <a id="_idIndexMarker281"/>sidebar that can be used as a button to navigate the application. It allows you to display a string of characters, numbers, or even icons, all of which can be used in conjunction with each other. For us, we will use them as dummy buttons inside of our sidebar:</p>
<div><div><img alt="Figure 6.8 – Sidebar item" src="img/Figure_6.08_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.8 – Sidebar item</p>
<h2 id="_idParaDest-99"><a id="_idTextAnchor369"/>SearchBar</h2>
<p>A <code>SearchBar</code> component allows the user to <a id="_idIndexMarker282"/>search through a set list of components. For us, we will use it as a dummy search <a id="_idIndexMarker283"/>component that will search through all the apps in the App Store. Though the search bar isn’t part of the sidebar per se, we will implement it along with the sidebar:</p>
<div><div><img alt="Figure 6.9 – Search bar" src="img/Figure_6.09_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.9 – Search bar</p>
<h3>Renaming the view</h3>
<p>In this section, we will add the <a id="_idIndexMarker284"/>image components to our highlight page, which is currently named <code>ContentView</code> to <code>MainView</code>. If you already know how to rename it, feel free to skip these steps. Doing this is simple: open <code>ContentView</code>, right-click any reference to <code>ContentView</code> in the code, then go to <strong class="bold">Refactor</strong> | <strong class="bold">Rename</strong>..., as shown in the following screenshot:</p>
<div><div><img alt="Figure 6.10 – Rename button" src="img/Figure_6.10_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.10 – Rename button</p>
<p>Next, the following <a id="_idIndexMarker285"/>screen will be shown:</p>
<div><div><img alt="Figure 6.11 – Rename screen" src="img/Figure_6.11_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.11 – Rename screen</p>
<p>Change the name from <code>MainView</code>. You can see all other references to be changed, which is useful. Finally, press the <strong class="bold">Rename</strong> button at the top right, as demonstrated in the following screenshot:</p>
<div><div><img alt="Figure 6.12 – Rename button" src="img/Figure_6.12_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.12 – Rename button</p>
<p>We have now renamed <a id="_idIndexMarker286"/>our view, including the file, as can be seen in <strong class="bold">Project Navigator</strong>:</p>
<div><div><img alt="Figure 6.13 – Updated filename in Project Navigator" src="img/Figure_6.13_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.13 – Updated filename in Project Navigator</p>
<p>There is one extra <a id="_idIndexMarker287"/>step that is optional. That step is to rename the <code>ContentView_Previews</code> struct. Though not crucial, I would highly recommend renaming it to keep all the name references in sync. Using the preceding steps, rename the <code>ContentView_Previews</code> struct to <code>MainView_Previews</code>. The location of the struct is at the bottom of the <code>MainView</code> file (previously named <code>ContentView</code>):</p>
<div><div><img alt="Figure 6.14 – Rename Previews struct" src="img/Figure_6.14_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.14 – Rename Previews struct</p>
<p>In this section, we took a look at the design for the application and, more specifically, the <code>SideBar</code> UI. We also renamed <code>ContentView</code>. In the next section, we will implement the code for the sidebar.</p>
<h1 id="_idParaDest-100"><a id="_idTextAnchor370"/>Implementing the Sidebar</h1>
<p>As we have created a fresh project, the coding standards aren’t in line with my personal preference. So, firstly, I will <a id="_idIndexMarker288"/>change the standards. Feel free to take a few moments to do the same.</p>
<h2 id="_idParaDest-101"><a id="_idTextAnchor371"/>NavigationView</h2>
<p>Let’s implement a <code>NavigationView</code> to provide a split-screen layout, which will allow us to code a sidebar. Doing so is simple. Remove the <a id="_idIndexMarker289"/>current body code and replace it with the following:</p>
<pre class="source-code">
var body: some View{
    NavigationView
    {
        List
        {
            Label( "Discover", systemImage: "" )
            Label( "Arcade", systemImage: "" )
            Label( "Create", systemImage: "" )
            Label( "Categories", systemImage: "" )
            Label( "Favorites", systemImage: "" )
            Label( "Updates", systemImage: "" )
        }
    }
}</pre>
<p>Within our <code>NavigationView</code>, we create a <code>List</code> that has a collection of <code>Labels</code> that will serve as our dummy buttons. By default, we provide no system image, but we need to specify something otherwise it will <a id="_idIndexMarker290"/>result in an error.</p>
<p>The preceding code will result in the following:</p>
<div><div><img alt="Figure 6.15 – Labels preview" src="img/Figure_6.15_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.15 – Labels preview</p>
<p>Though we do not need to implement icons, the application will greatly benefit from their inclusion. Adding an image is easy enough; you simply use the <code>systemImage</code> parameter. Alternatively, you can provide your own images by following the steps from <a href="B18783_04.xhtml#_idTextAnchor309"><em class="italic">Chapter 4</em></a> in the <em class="italic">Implementing the HighlightView</em> section and implementing them using the <code>image</code> parameter. The best method for finding/searching for system <a id="_idIndexMarker291"/>images is to download <strong class="bold">SF Symbols</strong> from Apple, which you can find at <a href="https://developer.apple.com/sf-symbols/">https://developer.apple.com/sf-symbols/</a>. Once that’s installed, you can search for system images easily. To use a system image, simply copy the following name of the system image:</p>
<div><div><img alt="Figure 6.16 – System image name" src="img/Figure_6.16_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.16 – System image name</p>
<p>Feel free to use the <a id="_idIndexMarker292"/>system images that you feel best suit your application. I have chosen the following:</p>
<pre class="source-code">
List{
    Label( "Discover", systemImage: "star" )
    Label( "Arcade", systemImage: "gamecontroller" )
    Label( "Create", systemImage: "paintbrush" )
    Label( "Categories", systemImage: "square.grid.3x3.square" )
    Label( "Favorites", systemImage: "heart" )
    Label( "Updates", systemImage: "square.and.arrow.down" )
}</pre>
<p>Running the <a id="_idIndexMarker293"/>application will display the following result:</p>
<div><div><img alt="Figure 6.17 – System image icons" src="img/Figure_6.17_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.17 – System image icons</p>
<h2 id="_idParaDest-102"><a id="_idTextAnchor372"/>SearchBar</h2>
<p>Though the <code>SearchBar</code> will be <a id="_idIndexMarker294"/>placed in the top bar, it is included in the sidebar code. Adding the search bar is very simple. First, add the following code before the body, which will store the user input of the <code>SearchBar</code>:</p>
<pre class="source-code">
@State private var searchText = ""</pre> <p>Next, add the following code to the <code>List</code> component:</p>
<pre class="source-code">
.searchable( text: $searchText )</pre> <p>The code we have just added adds a <code>SearchBar</code> and links its text to the <code>searchText</code> variable we created. The list component code will now look as follows:</p>
<pre class="source-code">
List{
    Label( "Discover", systemImage: "star" )
    Label( "Arcade", systemImage: "gamecontroller" )
    Label( "Create", systemImage: "paintbrush" )
    Label( "Categories", systemImage:
"square.grid.3x3.square" )
    Label( "Favorites", systemImage: "heart" )
    Label( "Updates", systemImage: "square.and.arrow.down" )
}.searchable( text: $searchText )</pre>
<p>Running the <a id="_idIndexMarker295"/>application will result in the following:</p>
<div><div><img alt="Figure 6.18 – Sear﻿chBar" src="img/Figure_6.18_B18783.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.18 – Sear<a id="_idTextAnchor373"/>chBar</p>
<p>In this section, we implemented the code for the <code>SearchBar</code> UI. In the next section, we will look at extra features that will help bring the App Store to life.</p>
<h1 id="_idParaDest-103"><a id="_idTextAnchor374"/>Implementing Extra Features</h1>
<p>Even though for the <a id="_idIndexMarker296"/>scope of this project we are done with the <code>SideBar</code>, I would like to show you how to implement events for pressing <em class="italic">Enter</em> on the <code>SearchBar</code> and how to make the <code>SideBar</code> labels clickable.</p>
<h2 id="_idParaDest-104"><a id="_idTextAnchor375"/>SearchBar Enter Event</h2>
<p>We want the <a id="_idIndexMarker297"/>user to be able to press <em class="italic">Enter</em> when they have selected <code>SearchBar</code> and trigger an event. This event could pull up a list of results in a context menu or new page. Feel free to implement this as an extra task.</p>
<p>The code to achieve this is super simple. Add the following after the <code>.</code><code>searchable</code> code:</p>
<pre class="source-code">
}.searchable( text: $searchText )    .onSubmit( of: .search )
    {
        print( searchText )
    }</pre>
<p>When the user has <a id="_idIndexMarker298"/>submitted the search, the code inside of the parentheses will run. For testing, we are printing out the <code>searchText</code> variable, which will print out what you type in it. Feel free to run it.</p>
<h2 id="_idParaDest-105"><a id="_idTextAnchor376"/>Clickable Label Event</h2>
<p>Right now, the labels <a id="_idIndexMarker299"/>inside the sidebar have no event functionality. For the scope of this chapter, we don’t require it, but I will show you how to make the labels clickable. It is actually very simple. Just add an <code>onTapGesture</code> function to each label as follows:</p>
<pre class="source-code">
Label( "Discover", systemImage: "star" ).onTapGesture
{
    print( "Discover" )
}</pre>
<p>I have only added it to the first label, but feel free to add it to the rest.</p>
<p>In this section, we implemented code to allow the user to trigger the <code>Submit</code> event when pressing <em class="italic">Enter</em> in the search bar. We also added the code to detect when the labels have been clicked.</p>
<h1 id="_idParaDest-106"><a id="_idTextAnchor377"/>Summary</h1>
<p>In this chapter, we covered the design of our App Store application. We looked at wireframes and broke down each element into SwiftUI components. We then implemented the SwiftUI components to match the design from the wireframes for the <code>SideBar</code> UI. We also took a look at the requirements for building this application and the design specifications. We then simplified it to the core features that our app will provide. We also implemented extra features to allow extra input for a more well-rounded application.</p>
<p>In the next chapter, we’ll take a look at implementing the main body for our App Store application.</p>
</div>
</body></html>