<html><head></head><body>
<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch03" class="calibre1"/>Chapter 3. Navigating the App Inventor Platform</h1></div></div></div><p class="calibre9">Now that you have created a new project and set up connectivity, you are ready to begin learning how to make mobile apps! This chapter will provide a step-by-step guide to navigate the App Inventor web application through the process of building a game app called Fling. You will be using:</p><div><ul class="itemizedlist"><li class="listitem">The Projects View</li><li class="listitem">The Designer (a graphical user interface)<div><ul class="itemizedlist1"><li class="listitem">Palette</li><li class="listitem">Viewer</li><li class="listitem">Components</li><li class="listitem">Properties</li></ul></div></li><li class="listitem">The Blocks Editor (a visual programming language)</li><li class="listitem">The Integrated Development Environment (IDE)</li></ul></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_1"><a id="ch03lvl1sec14" class="calibre1"/>The projects view</h1></div></div></div><p class="calibre9">In <a class="calibre1" title="Chapter 2. Setting Up MIT App Inventor 2" href="part0017_split_000.html#G6PI2-9c0b907946184095a315b26c8a9b12bc">Chapter 2</a>, <em class="calibre19">Setting Up MIT App Inventor 2</em>, you logged into App Inventor for the first time, created a new <a id="id104" class="calibre1"/>project, and named it, so at the moment, you only have one App Inventor project. Once you start building more apps, all of the projects associated with your Google Account will be listed under My Projects. Every time you log into App Inventor, the platform will automatically open the most recent project that you worked on. To pick a different project, click on <strong class="calibre10">My Projects</strong> in the top menu bar, or to start a new project, click on <strong class="calibre10">Start new project</strong> in the upper left corner.</p><div><img src="img/00047.jpeg" alt="The projects view" class="calibre11"/></div><p class="calibre12"> </p></div></div>

<div><div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec22" class="calibre1"/>Creating a new project</h2></div></div></div><p class="calibre9">We're going to build a <a id="id105" class="calibre1"/>game in this chapter. It will be similar to Pong, but instead of a paddle, you will use your finger to fling the ball. Let's create a new project called <code class="email">Fling</code>. Note that project names containing no spaces must start with a letter. Use only letters, underscores, and numbers. Click on <strong class="calibre10">Start new project</strong> in the upper-left corner of the screen. A pop-up window will appear, as shown in the following screenshot. Type in the word <strong class="calibre10">Fling</strong>. Once you click on <strong class="calibre10">OK</strong>, you will be taken into the Designer.</p><div><img src="img/00048.jpeg" alt="Creating a new project" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">If you happen to have a previous project open in the Designer, you can still start a new project in this view by clicking on <strong class="calibre10">Start new project</strong> listed under <strong class="calibre10">Projects</strong> in the top menu bar, as shown in the following screenshot:</p><div><img src="img/00049.jpeg" alt="Creating a new project" class="calibre11"/></div><p class="calibre12"> </p></div></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec15" class="calibre1"/>The Designer</h1></div></div></div><p class="calibre9">When you open a <a id="id106" class="calibre1"/>project or start a new project, App Inventor will take you to the Designer. This window is a graphical editor where you can create the look and feel of your mobile app by choosing components (buttons, labels, images, and so on), layouts (horizontal/vertical alignments), colors, fonts, and more. The next screenshot is a layout of the Designer (with some helpful navigation hints):</p><div><img src="img/00050.jpeg" alt="The Designer" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">The name of the open project is displayed in the upper-left corner. In the upper-right corner, you will see toggle buttons for the <strong class="calibre10">Designer</strong> and <strong class="calibre10">Blocks</strong> Editor (the <strong class="calibre10">Designer</strong> button is disabled at the moment, since we are currently in the Designer view). The Designer consists of five panels, which are explained as follows.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec23" class="calibre1"/>Palette</h2></div></div></div><p class="calibre9">The <strong class="calibre10">Palette</strong> (found in <a id="id107" class="calibre1"/>the left-hand column of the previous Designer image) contains drawers that hold sets of tools called <strong class="calibre10">Components</strong>. Drawers group <strong class="calibre10">Components</strong> by type such as <strong class="calibre10">User Interface</strong>, <strong class="calibre10">Layout</strong>, <strong class="calibre10">Media</strong>, <strong class="calibre10">Drawing and Animation</strong>, <strong class="calibre10">Sensors</strong>, <strong class="calibre10">Social</strong>, <strong class="calibre10">Storage</strong>, <strong class="calibre10">Connectivity</strong>, and <strong class="calibre10">LEGO MINDSTORMS</strong>. It will take a little bit of time to remember which drawer houses which Components and what functions they have. More on Components later!</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec24" class="calibre1"/>Viewer</h2></div></div></div><p class="calibre9">The <strong class="calibre10">Viewer</strong> (found in the <a id="id108" class="calibre1"/>middle of the preceding Designer image) is the white workspace in the middle of the Designer window. When you first create a project, the default workspace name is <strong class="calibre10">Screen1</strong>. You cannot change the name of Screen1, although you can change the title of the screen name. This can be done in the <strong class="calibre10">Properties</strong> panel (as follows). The new screen name will be displayed in the Viewer and be seen by app users. Later, you may want to add more screens to your app and you can rename the subsequent screens. To build your app, you will drag Components from the Palette drawers onto the Viewer. We will be using visual components in our Fling app, so these will remain visible when dragged into the Viewer. In the subsequent chapters, we will demonstrate the use of non-visible components, which will not remain in the Viewer when added. Instead, they will be housed underneath the Viewer.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_3"><a id="ch03lvl2sec25" class="calibre1"/>Components</h2></div></div></div><p class="calibre9">Components are the tools <a id="id109" class="calibre1"/>located in the <strong class="calibre10">Palette</strong> drawers on the left-hand side of the Designer window (we will demonstrate what different components do once we start building apps). Once Components are dragged into the Viewer, they will also appear in the Components panel (found in the middle right of the Designer image). The Components panel lists Components and organizes them by screens. You can collapse and expand the screen Component contents for convenience. Components are listed in columns so that it is easy to see whether they exist on their own or within other Components.</p><p class="calibre9">To illustrate that some Components are inside other Components, the Components panel will display them in a nested (indented) list. Note that when you click on a Component in the Viewer, it will be highlighted in both the Viewer and the Components panel and display editable options in the <strong class="calibre10">Properties</strong> panel (described in the following section). And conversely, if you click on a Component in the Components panel, it will also be highlighted in the Viewer. Once a Component is clicked and it becomes active, you can either rename or delete it by clicking the <strong class="calibre10">Rename</strong> or <strong class="calibre10">Delete</strong> button or you can view or edit its settings in the Properties panel.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_4"><a id="ch03lvl2sec26" class="calibre1"/>Properties</h2></div></div></div><p class="calibre9">The <strong class="calibre10">Properties</strong> panel (found in the right-hand side column of the preceding Designer image) displays a set of <a id="id110" class="calibre1"/>configurable settings (such as size, color, and alignments) for each <strong class="calibre10">Screen</strong> and <strong class="calibre10">Component</strong> added to the <strong class="calibre10">Viewer</strong>. In the subsequent chapters, you will be adding more and more Components (and Screens), so make certain that the correct item is highlighted before you change its settings. The name of the active Component (or Screen) appears at the top of the Properties pane (in the earlier Designer screenshot, the active <strong class="calibre10">Property</strong> is <strong class="calibre10">Screen1</strong> as indicated at the top of the <strong class="calibre10">Properties</strong> panel).</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_5"><a id="ch03lvl2sec27" class="calibre1"/>Media</h2></div></div></div><p class="calibre9">The <strong class="calibre10">Media</strong> panel is located underneath the Components panel (see the Designer screenshot). This feature <a id="id111" class="calibre1"/>enables you to upload images, sound files, or other media files from your computer to your project. If you find a <em class="calibre19">creative commons</em> (freely shared, uncopyrighted) photo online that you'd like to use in your app, you must first download it and then click on the <strong class="calibre10">Upload</strong> File button in the media panel (you cannot download an image from the Internet directly into the App Inventor). Once the file is uploaded, it will be listed in both the <strong class="calibre10">Media</strong> panel and the Properties panel (to delete media files, click on the media file name and a popup will appear to delete the file). Note that even though the media files can also be added to the Properties panel, they cannot be deleted from the Properties panel. How to use an image, sound, or video file in your app will be explained in the future chapters.</p></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec16" class="calibre1"/>Creating a game app</h1></div></div></div><p class="calibre9">You've already logged into <a id="id112" class="calibre1"/>App Inventor with your Google Account, created a new project, named it Fling, and learned how to navigate the Designer screen. It's time to create your first mobile app!</p><div><h3 class="title2"><a id="tip04" class="calibre1"/>Tip</h3><p class="calibre9">Since this is a tutorial, we will explain the way to play our game. But, if you were starting from scratch to create your own game, you would want to make sure that you've put in the time, effort, and energy to figure out what you want it to do and what you want it to look like. We outlined the design process for mobile app creation in <a class="calibre1" title="Chapter 1. Unleashing Creativity with MIT App Inventor 2" href="part0014_split_000.html#DB7S2-9c0b907946184095a315b26c8a9b12bc">Chapter 1</a>, <em class="calibre19">Unleashing Creativity with MIT App Inventor 2</em>. This may be a good time to review it.</p></div><p class="calibre9">The object of the Fling game app is to fling a moving ball with your finger to prevent it from hitting the bottom edge of the screen and ending the game. When the Play button is clicked, the ball will start moving from top to bottom. If it hits the bottom edge of the screen before the user flings it away, the game will stop and a <strong class="calibre10">Game Over</strong> notice will appear on the screen. The <strong class="calibre10">Reset</strong> button resets the ball to the top of the screen and the <strong class="calibre10">Play</strong> button starts another round. In this game, you will learn to design the user interface using these Components: a ball, a canvas (the game board), a horizontal layout, buttons, and a label. You will learn to program:</p><div><ul class="itemizedlist"><li class="listitem">An animated <a id="id113" class="calibre1"/>object (ball) that moves randomly</li><li class="listitem">Conditions where the ball will respond to a screen touch</li><li class="listitem">An end-game mechanism when the ball touches the bottom of the screen</li><li class="listitem">A game over display when the game ends</li><li class="listitem">A button that starts the game by moving the ball downward</li><li class="listitem">A button that resets the game by repositioning the ball at the top of the screen and erases the "game over" display</li></ul></div><p class="calibre9">As you build your app, you will see your progress unfold on your mobile device or emulator in <a id="id114" class="calibre1"/>real time using the <strong class="calibre10">IDE</strong> (<strong class="calibre10">Integrated Development Environment</strong>). Let's get started!</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec28" class="calibre1"/>Creating the UI in designer</h2></div></div></div><p class="calibre9">The first thing <a id="id115" class="calibre1"/>you will notice in a new project is that Screen1 automatically exists in the Viewer. As shown in the following screenshot, the name Screen1 appears in three places: in the <strong class="calibre10">Viewer</strong>, the <strong class="calibre10">Components</strong> panel, and the Properties panel. Note that this is also true for any component added to the Viewer. When a component is highlighted (as shown with a light green box) in the Components panel, you will see the corresponding properties for it in the Properties panel. While the name Screen1 is not editable, the properties associated with Screen1 are such as the title, although we won't be changing the Screen1 Properties in Fling.</p><div><img src="img/00051.jpeg" alt="Creating the UI in designer" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">To create a game interface for the Fling app, we will:</p><div><ol class="orderedlist"><li class="listitem" value="1">Add the canvas <a id="id116" class="calibre1"/>Component to <strong class="calibre10">Screen1</strong>.</li><li class="listitem" value="2">Click on the Palette drawer: <strong class="calibre10">Drawing and Animation</strong>. It will open to reveal three components: <strong class="calibre10">Canvas</strong>, <strong class="calibre10">ImageSprite</strong>, and <strong class="calibre10">Ball</strong>.</li><li class="listitem" value="3">Click on <strong class="calibre10">Canvas</strong> and drag it to the <strong class="calibre10">Viewer</strong>, as shown in the following screenshot:<div><img src="img/00052.jpeg" alt="Creating the UI in designer" class="calibre11"/></div><p class="calibre21"> </p></li></ol><div></div><p class="calibre9">Your Designer window will look like the following screenshot. The Canvas component will automatically be named <a id="id117" class="calibre1"/>
<strong class="calibre10">Canvas1</strong> in the Components panel. If you were to add another Canvas, it would automatically be named Canvas2. It is possible to rename Canvas1, although we are not going to for this tutorial, since it is aptly named. You can see that it is active (as it is highlighted with a light green box) in both the <strong class="calibre10">Viewer</strong> and the <strong class="calibre10">Components</strong> panel. Being active means that you are able to see and edit its properties in the <strong class="calibre10">Properties</strong> panel.</p><div><img src="img/00053.jpeg" alt="Creating the UI in designer" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">The Canvas is <a id="id118" class="calibre1"/>going to hold our Ball component, so we need to make it fill the whole screen not just a tiny part of the screen like it is now. To change the size of the Canvas, go to the <strong class="calibre10">Properties</strong> panel and click on the white text box below the <strong class="calibre10">Height</strong> element (currently filled with the word Automatic). A pop-up box will offer choices with radio buttons, as shown in the following screenshot. Click on the radio button next to <strong class="calibre10">Fill Parent</strong>. Click on the <strong class="calibre10">OK</strong> button.</p><div><img src="img/00054.jpeg" alt="Creating the UI in designer" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Repeat these steps for the <strong class="calibre10">Width</strong>. You will see that the Canvas now fills the entire Viewer. Next we will change the color. At the top of the <strong class="calibre10">Properties</strong> panel, click on the word <strong class="calibre10">White</strong> underneath <strong class="calibre10">BackgroundColor</strong>. A drop-down list of colors will appear (not shown); select <strong class="calibre10">Gray</strong>. The Designer window should now look like the following screenshot with the gray canvas filling up the entire Viewer.</p><div><img src="img/00055.jpeg" alt="Creating the UI in designer" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Next, we will <a id="id119" class="calibre1"/>add a ball. Go back to the <strong class="calibre10">Drawing and Animation</strong> Capitalize Palette drawer, click on <strong class="calibre10">Ball</strong>, and drag it to the <strong class="calibre10">Canvas</strong> in the Viewer, as shown in the following screenshot:</p><div><img src="img/00056.jpeg" alt="Creating the UI in designer" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">The Ball will end up on the Canvas wherever you drop it. It is named Ball1 in the Components panel. Notice how Ball1 appears nested (indented) in the Components panel list. This is because you placed it within another component, the Canvas1.</p><p class="calibre9">You can position the ball's starting location, size, and color in the Properties panel. Since <strong class="calibre10">Ball1</strong> is already active, you can begin editing the options in the <strong class="calibre10">Properties</strong> panel. Change the settings to match those shown in the following screenshot. We will actually end up changing the ball's starting position once we start programming, but this is just to get you familiar <a id="id120" class="calibre1"/>with the features available in the Properties panel.</p><div><img src="img/00057.jpeg" alt="Creating the UI in designer" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Next, you will create a menu bar at the bottom of the screen. Since we want the buttons to be horizontal across the bottom of the screen, we will open the <strong class="calibre10">Layout</strong> palette drawer. Drag <strong class="calibre10">HorizontalArrangement</strong> to the bottom of the <strong class="calibre10">Viewer</strong> so that it sits underneath the <strong class="calibre10">Canvas</strong> and not inside the <strong class="calibre10">Canvas</strong>. It should look like the following screenshot:</p><div><img src="img/00058.jpeg" alt="Creating the UI in designer" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">You will know you did this correctly by looking at the Components panel. HorizontalArrangement should be listed in the same column under Canvas1 and not be indented like Ball1. If it is indented, it means that the HorizontalArrangement Component is inside the Canvas. We don't want that so, if it is, go to the <strong class="calibre10">Viewer</strong> and drag the <strong class="calibre10">HorizontalArrangement</strong> component out of the <strong class="calibre10">Canvas</strong> and position it below the <strong class="calibre10">Canvas</strong>. To shrink the size of <strong class="calibre10">HorizontalArrangement</strong>, edit the <strong class="calibre10">Height</strong> and <strong class="calibre10">Width</strong> options in the <strong class="calibre10">Properties</strong> panel to match the ones below. There are two ways to check whether you did this correctly. In the Viewer, HorizontalArrangement will create white space below the gray Canvas, as shown in the preceding screenshot. And, in the Components panel, HorizontalArrangement will align with Canvas1, as shown in the following screenshot. If you accidentally did this incorrectly and dropped HorizontalArrangement inside the Canvas, there would be no white space below the gray Canvas in the <a id="id121" class="calibre1"/>Viewer and the HorizontalArrangement component would be indented and aligned directly under Ball1.</p><p class="calibre9">To resize <strong class="calibre10">HorizontalArrangement</strong>, edit the <strong class="calibre10">Height</strong> and <strong class="calibre10">Width</strong> options in the <strong class="calibre10">Properties</strong> panel to match the following screenshot:</p><div><img src="img/00059.jpeg" alt="Creating the UI in designer" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Next, drag a <strong class="calibre10">Button</strong> from the <strong class="calibre10">User Interface</strong> palette drawer into the <strong class="calibre10">HorizontalArrangement</strong> component at the bottom of <strong class="calibre10">Screen1</strong>. The button will say <strong class="calibre10">Text for Button1</strong>, as shown in the following screenshot:</p><div><img src="img/00060.jpeg" alt="Creating the UI in designer" class="calibre11"/></div><p class="calibre12"> </p><div><h3 class="title2"><a id="note05" class="calibre1"/>Note</h3><p class="calibre9">You can verify that you did this correctly by seeing whether your screen matches the <a id="id122" class="calibre1"/>
<strong class="calibre10">Viewer</strong> in the preceding screenshot. Also, in the <strong class="calibre10">Components</strong> panel, you will see that <strong class="calibre10">Button1</strong> will be nested underneath <strong class="calibre10">HorizontalArrangement</strong> and will therefore be indented.</p></div></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec29" class="calibre1"/>IDE</h2></div></div></div><p class="calibre9">At any point <a id="id123" class="calibre1"/>during the app building <a id="id124" class="calibre1"/>process, you can see your progress live on your mobile device or on the emulator. You'll want to use this feature while building your app, so you can see updates as soon as you make changes in the Designer to track your progress, and see how your app looks on your device. Since we've made some changes, let's connect now, so you can get familiar with the process. As you've already done the technical setup in <a class="calibre1" title="Chapter 2. Setting Up MIT App Inventor 2" href="part0017_split_000.html#G6PI2-9c0b907946184095a315b26c8a9b12bc">Chapter 2</a>, <em class="calibre19">Setting Up MIT App Inventor 2</em>, you can easily start using the Integrated Development Environment (IDE).</p><p class="calibre9"><strong class="calibre10">For users with mobile devices</strong>: on your computer in the Designer window, go to the top menu bar, click on Connect, and from the drop-down menu, select <strong class="calibre10">AI Companion</strong>, as shown in the following screenshot:</p><div><img src="img/00061.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">A pop-up window will appear on your computer screen with a QR code and a six-character code. Launch the AI2 Companion app on your mobile device and either scan the QR code or type in the six-character code. Note that to scan the QR code, you need to press the blue button on your mobile device that says <strong class="calibre10">scan QR code</strong> and then hold the mobile device up to the computer screen to capture the image. Scanning the QR code with your mobile device will automatically launch your Fling app after a few moments. To connect with the code, type the six-character code shown on your computer screen into the white <a id="id125" class="calibre1"/>text box on your mobile device and then click on the orange button <strong class="calibre10">Connect with code</strong> to display the Fling app on your mobile device.</p><p class="calibre9"><strong class="calibre10">For users </strong><a id="id126" class="calibre1"/>
<strong class="calibre10">without mobile devices</strong>: On your computer in the Designer window, go to the top menu bar, click on <strong class="calibre10">Connect</strong> and, from the drop-down menu, select <strong class="calibre10">Emulator</strong>, as shown in the following screenshot:</p><div><img src="img/00062.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">The emulator will take a few minutes to launch. You will see pop-up messages about the progress and the status of the emulator (to review connecting with the emulator, please see <a class="calibre1" title="Chapter 2. Setting Up MIT App Inventor 2" href="part0017_split_000.html#G6PI2-9c0b907946184095a315b26c8a9b12bc">Chapter 2</a>, <em class="calibre19">Setting Up MIT App Inventor 2</em>).</p><p class="calibre9">Note that at any point throughout the app building process, if you have trouble connecting or if the modes of connection are grayed out, you may need to choose <strong class="calibre10">Reset Connection</strong> from the drop-down menu, as shown in the next screenshot:</p><div><img src="img/00063.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">After clicking on Reset Connection, the choices for connecting will become clickable again. Choose <a id="id127" class="calibre1"/>the method you previously <a id="id128" class="calibre1"/>used: <strong class="calibre10">AI Companion</strong> or <strong class="calibre10">Emulator</strong> (remember, for WiFi connection to work, your computer and mobile device must be on the same WiFi network). For connecting via USB, please review the instructions in <a class="calibre1" title="Chapter 2. Setting Up MIT App Inventor 2" href="part0017_split_000.html#G6PI2-9c0b907946184095a315b26c8a9b12bc">Chapter 2</a>, <em class="calibre19">Setting Up MIT App Inventor 2</em>.</p><p class="calibre9">Wait a few seconds after connecting and you will see one of the following images (the screenshot of a mobile device on the left-hand side and an emulator on the right-hand side):</p><div><img src="img/00064.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Now that you've connected your project to your mobile device or emulator, all the changes you make on your computer will automatically be updated on your device or emulator. This is particularly helpful because a component on your computer screen could be displayed somewhat differently on your mobile device or emulator. It is always a good idea to check periodically to see how your app is taking shape on your mobile device or emulator.</p><p class="calibre9">Let's go back <a id="id129" class="calibre1"/>to the Designer. You can <a id="id130" class="calibre1"/>change the look and the text of <strong class="calibre10">Button1</strong> by editing the <strong class="calibre10">Properties</strong>. Change the options to reflect the following screenshot:</p><div><img src="img/00065.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Notice how your mobile device or emulator also updates in real time and displays the changes you just made to Button1, as shown in the following images (the screenshot of a mobile device on the left-hand side and an emulator on the right-hand side):</p><div><img src="img/00066.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">You are <a id="id131" class="calibre1"/>now going to add another <strong class="calibre10">Button</strong> to the <strong class="calibre10">HorizontalArrangement</strong> component.</p><p class="calibre9">When <a id="id132" class="calibre1"/>you drag the Button from the <strong class="calibre10">User Interface</strong> palette drawer, App Inventor will name this button as <strong class="calibre10">Button2</strong>, as shown in the next screenshot:</p><div><img src="img/00067.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Notice how your mobile device or emulator also updates in real time, as shown in the next <a id="id133" class="calibre1"/>images (the screenshot of a <a id="id134" class="calibre1"/>mobile device on the left-hand side and an emulator on the right-hand side):</p><div><img src="img/00068.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">It is always a good practice to rename your components when you have more than one of a kind, or to reflect what they will do. Soon your apps will have multiple buttons, screens, and more. So, it's helpful to use specific names. <strong class="calibre10">Button1</strong> is the <strong class="calibre10">Play</strong> button, so let's rename it accordingly. Click on <strong class="calibre10">Button1</strong>, so it is highlighted in the <strong class="calibre10">Components</strong> panel. Then, click on <strong class="calibre10">Rename</strong> at the bottom of the panel. A pop-up window will give you the option to type in a new name, as shown in the next screenshot:</p><div><img src="img/00069.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">You will see the new name listed in the Components panel. Note that App Inventor converted the space between the two words into an underscore.</p><div><img src="img/00070.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Note that if <a id="id135" class="calibre1"/>we had changed the name of Button1 to Play_Button before adding the second button, when you dragged out the second <a id="id136" class="calibre1"/>button, it would've been named as Button1. This can be confusing, so it's always a good idea to rename your components rather than keeping track of the order you added them, especially because in this case, Button1 would not have been the first button you added, but the second one.</p><p class="calibre9">Repeat the steps listed earlier to rename <strong class="calibre10">Button2</strong> to <strong class="calibre10">Reset</strong> button. Then, edit the <strong class="calibre10">Properties</strong> of <strong class="calibre10">Reset_Button</strong> as shown in the following screenshot:</p><div><h3 class="title2"><a id="note06" class="calibre1"/>Note</h3><p class="calibre9">Note that while we changed the names of the <strong class="calibre10">Button</strong> components to <strong class="calibre10">Play_Button</strong> and <strong class="calibre10">Reset_Button</strong>, the text on the buttons remains what we typed in the text fields: <strong class="calibre10">Play</strong> and <strong class="calibre10">Reset</strong>, respectively.</p></div><div><img src="img/00071.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Notice how <a id="id137" class="calibre1"/>your mobile device or <a id="id138" class="calibre1"/>emulator also updates in real time. Here is a good example of why you would want to take advantage of the Integrated Development Environment. As you can see in the previous screenshot, a space appears between the two buttons in the designer, but on the mobile device (in this case, a tablet) and on the emulator, there is no space, as shown in the following screenshot. By continuously monitoring how your app looks (and later functions) on your device as you build it, you are ensuring at each step of the way that your app will appear and work as you intended.</p><div><img src="img/00072.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Now, we are going to add a Label to display some text (and ultimately the score). Go to the Palette <strong class="calibre10">User </strong><a id="id139" class="calibre1"/>
<strong class="calibre10">Interface</strong> drawer and drag out a <strong class="calibre10">Label</strong> onto <strong class="calibre10">HorizontalArrangement</strong>. You can place it anywhere you want <a id="id140" class="calibre1"/>in the menu bar, but for the purpose of this tutorial, we will drag it in between the <strong class="calibre10">Play</strong> and <strong class="calibre10">Replay</strong> buttons. Adjust the label properties to reflect this in the next screenshot and rename the Label Component to <strong class="calibre10">Score</strong> (note that underneath the <strong class="calibre10">Text</strong> property, we have deleted <strong class="calibre10">Text for Label1</strong>, so it appears empty).</p><div><img src="img/00073.jpeg" alt="IDE" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Congratulations! You have completed designing the UI of the Fling app! Notice how nothing <a id="id141" class="calibre1"/>happens to the ball when either <a id="id142" class="calibre1"/>of the buttons is pushed. This is because we haven't programmed the behavior of the Components yet. Next, we will switch to the Blocks Editor to start coding.</p></div></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec17" class="calibre1"/>The Blocks editor</h1></div></div></div><p class="calibre9">To switch to the <a id="id143" class="calibre1"/>Blocks editor, click on the <strong class="calibre10">Blocks</strong> button in the upper-right corner of the menu bar.</p><div><img src="img/00074.jpeg" alt="The Blocks editor" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">The Blocks window has a Blocks panel (left), a Viewer (the large white workspace), and a Media panel (in the lower-left corner). The Media panel operates in the same manner as the designer, although we won't be using it for this app.</p><div><img src="img/00075.jpeg" alt="The Blocks editor" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">All the tools you need to program your app are in the Blocks panel on the left-hand side of the window. The first set of Blocks shown with small colored boxes is called Built-in (you will learn about these as we build our app). Below the Built-in blocks are the blocks relating to the Components you just added in the Designer. Below the Component blocks is a list of Any Component blocks. We will not be using these in this chapter.</p><p class="calibre9">Navigating the <a id="id144" class="calibre1"/>Blocks editor is similar to the Designer. When you click on a block in the Blocks panel, a pop-up drawer will appear to reveal many colored puzzle-like blocks. The block you click on will automatically appear in the white workspace called the Viewer. To program your app, you need to drag one block into another, and hear and see it snap into place.</p><p class="calibre9">Once you start filling up the Viewer with blocks, it can get crowded. There are two ways to use more of the workspace: by using the bottom and side gray scroll bars or by clicking and dragging on the white space itself. This will become evident once the blocks are in place.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch03lvl2sec30" class="calibre1"/>The Blocks drawer</h2></div></div></div><p class="calibre9">When you <a id="id145" class="calibre1"/>click on any of the blocks' categories in the Blocks panel, a pop-up drawer of available blocks will appear. The following screenshot shows some of the available blocks for the Play_Button component (the gray scroll bar indicates that there are more blocks than what is shown on the screen. You can see the rest of the blocks by scrolling down):</p><div><img src="img/00076.jpeg" alt="The Blocks drawer" class="calibre11"/></div><p class="calibre12"> </p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch03lvl2sec31" class="calibre1"/>Types of Blocks</h2></div></div></div><p class="calibre9">Component Blocks are <a id="id146" class="calibre1"/>made up of different kinds of blocks. For this app, we will be using three kinds of blocks: <strong class="calibre10">event</strong>, <strong class="calibre10">setters</strong>, and <strong class="calibre10">getters</strong>.</p><div><ul class="itemizedlist"><li class="listitem"><strong class="calibre10">Event Blocks</strong>: They <a id="id147" class="calibre1"/>are gold, and if they exist for a certain component, they will appear at the top of any pop-up Blocks drawer. They launch an event, such as <strong class="calibre10">when Play_Button.Click</strong>. To program what happens when the <strong class="calibre10">Play</strong> button is clicked, you can snap together other puzzle piece blocks called setters and getters.</li><li class="listitem"><strong class="calibre10">Setters</strong>: They are dark <a id="id148" class="calibre1"/>green or orange puzzle piece blocks that say set because they set a property's value. Notice that setters have an opening at the end. Another type of block, a getter, fits into that space and so the setter can get a value.</li><li class="listitem"><strong class="calibre10">Getters</strong>: They are <a id="id149" class="calibre1"/>colored puzzle piece blocks that fit at the end of the setters. They give a property value to the setters.</li></ul></div><p class="calibre9"><strong class="calibre10">Built-in</strong> blocks have a variety of different colors and purposes. We will explain them as we use them.</p><div><div><div><div><h3 class="title2"><a id="ch03lvl3sec19" class="calibre1"/>Using Blocks to program Fling</h3></div></div></div><p class="calibre9">We will now begin using blocks to code our app.</p><div><div><div><div><h4 class="title3"><a id="ch03lvl4sec05" class="calibre1"/>The Play button</h4></div></div></div><p class="calibre9">Click on <a id="id150" class="calibre1"/>
<strong class="calibre10">Play_Button</strong> in the <strong class="calibre10">Blocks </strong>panel to open its drawer. Then, click on the top gold <strong class="calibre10">when Play_Button.Click</strong> event block as shown in the next screenshot. It will now appear in the <strong class="calibre10">Viewer</strong>.</p><div><img src="img/00077.jpeg" alt="The Play button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">When a user clicks on the app's <strong class="calibre10">Play</strong> button, we want the game to begin and the ball to start moving. So, we need to program these steps.</p><p class="calibre9">First of all, we are going to position the ball at the top of the screen and have it move down toward the bottom of the screen. But we don't want to set it all the way at the top of the screen because, in the next chapter, we are going to program our app, so that, every time the ball hits the top edge, the user will score a point. To avoid scoring points by merely pressing <a id="id151" class="calibre1"/>Play or Reset, we must position the ball a little below the top edge. To do this, we need to set a pair of the (x, y) values for the Canvas. The x value is where the ball will be horizontally on the screen and the y value will be the ball's vertical position. The x value is defined as the number of pixels from the left edge of the Canvas and y is defined as the number of pixels from the top edge of the Canvas. We decided that we don't want y to be 0, as the ball would be touching the edge, so we can set the y value to something close to 0, such as 2. We can set the x value to any value along the width of the Canvas. To make the game more unpredictable, we will program the app to pick a random value for x. Then, each time the user hits Play or Reset, the ball will start at a different location horizontally on the screen (although it will always start 2 pixels from the top, since we are setting y = 2). To set the ball's starting location, we will select a block from the Ball1 drawer.</p><p class="calibre9">Click on <strong class="calibre10">Ball1</strong> in the <strong class="calibre10">Blocks</strong> panel. A drawer will open with all the available blocks for <strong class="calibre10">Ball1</strong>. Use the gray scroll bar to the right of the pop-up drawer to scroll down past the gold event blocks. Click on the purple procedure block: <strong class="calibre10">call Ball1.MoveTo x, y</strong>, as shown in the <a id="id152" class="calibre1"/>next screenshot:</p><div><img src="img/00078.jpeg" alt="The Play button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">The purple procedure block will now appear next to the <strong class="calibre10">when Play_Button.Click</strong> gold event block in the <strong class="calibre10">Viewer</strong>. Notice how the shape of this purple block fits inside the gold block. Go ahead and place it into the gold block (by clicking on it with your mouse and dragging it). The gold block will expand to accommodate the purple block. You will hear and see it snap into place, as shown in the following screenshot on the right-hand side:</p><div><img src="img/00079.jpeg" alt="The Play button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">We know that we want the value of <strong class="calibre10">y</strong> to be equal to 2, so we will find a block (a getter) to get this value. Click on the <strong class="calibre10">Math</strong> block in the <strong class="calibre10">Built-in</strong> section. The <strong class="calibre10">Built-in Math</strong> blocks have a little <a id="id153" class="calibre1"/>blue box next to it. A drawer will open up with the available blue <strong class="calibre10">Math</strong> getter blocks. Click on the first one with the value of <strong class="calibre10">0</strong>, as shown in the next screenshot:</p><div><img src="img/00080.jpeg" alt="The Play button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">The <strong class="calibre10">0</strong> block will appear in the <strong class="calibre10">Viewer</strong>, and you can drag it and snap it to the <em class="calibre19">y</em> value. Click on <strong class="calibre10">0</strong> to highlight it. You can type in the number <code class="email">2</code> to change the value to <code class="email">2</code>, as shown in the following screenshot. Next, we are going to set the <em class="calibre19">x</em> value to a random integer. Go <a id="id154" class="calibre1"/>back to the <strong class="calibre10">Math</strong> blocks and click on the last block shown in the preceding screenshot: <strong class="calibre10">random integer from 1 to 100</strong>. Drag this block to the <em class="calibre19">x</em> value, as shown next:</p><div><img src="img/00081.jpeg" alt="The Play button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Since users will have mobile devices with different screen sizes, we won't know whether the width will be 100 pixels or 350 pixels. So, to enable the game to be played on different size screens, we can remove the <strong class="calibre10">Math</strong> block with the value of <strong class="calibre10">100</strong> and insert a getter block instead that will get the screen width of the mobile device the user is using. To delete the blue <strong class="calibre10">100</strong> block, click on it to outline it in yellow. A little hand icon will appear. This indicates that you can drag the block out of the slot, as shown in the following screenshot:</p><div><img src="img/00082.jpeg" alt="The Play button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Note that if you don't see the hand icon, it just means that you clicked on the actual number instead of the block. This will be indicated by a cursor and a little bit of white space to the right of the number. Click again on the actual blue part of the number puzzle piece and you will see the hand icon, which will allow you to drag the block out.</p><p class="calibre9">To delete this block (or any unwanted block), click on it (if it is not already highlighted in yellow) and hit <em class="calibre19">Delete</em> on your computer's keyboard. Or, you can drag the block to the lower-right corner of the Viewer to throw it in the trash. Hover the block over the trash can and the lid will open. When you release the block, it will disappear. You will see it fade away and hear a crumple sound.</p><p class="calibre9">To add the a block indicating the user's screen width block, click on <strong class="calibre10">Screen1</strong> in the <strong class="calibre10">Blocks</strong> palette and choose <strong class="calibre10">Screen1.Width</strong> from the drawer. It will be near the bottom, so you can use the gray scroll bar to <a id="id155" class="calibre1"/>scroll down and find it.</p><div><img src="img/00083.jpeg" alt="The Play button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Note that to drop this block inside another block (whether an equation or a single block), align the little puzzle piece nib on the left-hand side of the block with the nib space on the left-hand side of the block's opening and it will easily snap into place. Your blocks should look as follows:</p><div><img src="img/00084.jpeg" alt="The Play button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Every time a user presses <strong class="calibre10">Play</strong>, the ball will be positioned at a different place along the width of the screen and <strong class="calibre10">2</strong> pixels from the top of the screen.</p><p class="calibre9">Now that we <a id="id156" class="calibre1"/>have positioned the ball, we will now program it to move.</p></div><div><div><div><div><h4 class="title3"><a id="ch03lvl4sec06" class="calibre1"/>Moving the ball</h4></div></div></div><p class="calibre9">Since we've <a id="id157" class="calibre1"/>programmed the ball to start at the top of the screen, we want the ball to move downward. Instead of it just dropping straight down or at the same angle each time, we can set the degrees to be random. There are 360 degrees in a circle, but we only want the ball to fall between certain degrees, those represented as downward that fit between the width of the screen, but not along the edges of the screen. The figure below shows that the right edge is <strong class="calibre10">0</strong> degrees and the left edge is <strong class="calibre10">180</strong> degrees. The actual space that we are interested in is the lower half or the degrees between <strong class="calibre10">180</strong> and <strong class="calibre10">360</strong>. Since we don't want the ball to just travel down the edges, we will eliminate the two extremes when choosing some numbers. We decided to choose degrees between <strong class="calibre10">200</strong> and <strong class="calibre10">340</strong>. We will code the app so that the program will choose a random number between those degrees for the angle at which the ball will move.</p><div><img src="img/00085.jpeg" alt="Moving the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">You already learned how to program a random integer from our previous blocks, so let's repeat those steps. Go to the <strong class="calibre10">Math</strong> blocks and choose the blue <strong class="calibre10">random integer from to</strong> block. You also know how to fill in these numbers. To review, choose the topmost blue block in the <strong class="calibre10">Math</strong> blocks: the one with <strong class="calibre10">0</strong>. You can enter <strong class="calibre10">200</strong> in it and then copy and paste the block by clicking on it to highlight it (make sure it has a yellow outline). If you don't want to copy and paste, you can always drag out another <strong class="calibre10">Math 0</strong> block. Click on the number in the copied block and type <strong class="calibre10">340</strong>. Then, place the <strong class="calibre10">200</strong> block into the <strong class="calibre10">from</strong> spot and the 340 block into the <strong class="calibre10">to</strong> spot.</p><p class="calibre9">Our <strong class="calibre10">random integer from to</strong> block needs to fit someplace, to which block will it be giving this information? Another way to ask this question is: which block will be getting this information? If you guessed Ball, you are correct! The ball will need this information to know the angle at which it has to move. So, we need to find the ball block that represents the ball's direction. This block is called <strong class="calibre10">Ball1.Heading</strong>, and it represents the degrees the ball will move. Click on the <strong class="calibre10">Ball1</strong> Blocks drawer to find the dark green <strong class="calibre10">Ball1.Heading</strong> <a id="id158" class="calibre1"/>block (you will need to scroll down past the gold and purple blocks to find it). Once this is on your <strong class="calibre10">Viewer</strong>, snap it together with the blue <strong class="calibre10">random integer from to</strong> block that you just created. Then, take these connected pieces and insert them at the bottom of the gold <strong class="calibre10">when Play_Button.Click</strong>. Your blocks should now look like the following screenshot:</p><div><img src="img/00086.jpeg" alt="Moving the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Now that we have the location of the ball and the direction it is heading in degrees, we need to program it to actually move. To do this, we will first set the ball to enabled. From the <strong class="calibre10">Ball1</strong> blocks drawer, choose the dark green <strong class="calibre10">set Ball1.Enabled to</strong> block. Then, from the <strong class="calibre10">Logic</strong> blocks drawer, choose the lime green <strong class="calibre10">true</strong> block at the top, as shown in the next screenshot:</p><div><img src="img/00087.jpeg" alt="Moving the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Insert the <strong class="calibre10">true</strong> <a id="id159" class="calibre1"/>block into the <strong class="calibre10">set Ball1.Enabled to</strong> block and add them to the bottom of the <strong class="calibre10">when Play_Button.Click</strong> event, as shown in the following screenshot:</p><div><img src="img/00088.jpeg" alt="Moving the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Now that the ball is ready to move, we can actually move it by setting the speed and the interval. Go back to the <strong class="calibre10">Ball1</strong> Blocks drawer and select the dark green setter block, <strong class="calibre10">set Ball1.Speed</strong>. Next, from the same drawer, select <strong class="calibre10">set Ball1.Interval</strong>.</p><p class="calibre9">The interval is the amount of time, in milliseconds (<em class="calibre19">1000 milliseconds = 1 second</em>), the ball will travel, and the speed is the number of pixels the ball will move in that timeframe. It's fun to play around with these numbers to see how fast or slow you can make the ball move. We've decided to have the ball move <strong class="calibre10">10</strong> pixels every <strong class="calibre10">50</strong> milliseconds, so we will program our blocks to look as follows:</p><div><img src="img/00089.jpeg" alt="Moving the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Insert these blocks at the bottom of the <strong class="calibre10">when Play_Button.Click</strong> event. Your blocks will look like the <a id="id160" class="calibre1"/>following screenshot:</p><div><img src="img/00090.jpeg" alt="Moving the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">So far, this is what our app does: when the <strong class="calibre10">Play</strong> button is clicked, it will move the ball to position it <strong class="calibre10">2</strong> pixels away from the top edge of the screen and to a random number between <strong class="calibre10">1</strong> pixel from the left edge of the screen and the right edge of the screen. It will set the ball rolling downward in a random direction (between the degrees <strong class="calibre10">200</strong> to <strong class="calibre10">340</strong>) at a speed of <strong class="calibre10">10</strong> pixels every <strong class="calibre10">50</strong> milliseconds!</p></div><div><div><div><div><h4 class="title3"><a id="ch03lvl4sec07" class="calibre1"/>Flinging the ball</h4></div></div></div><p class="calibre9">The object of the <a id="id161" class="calibre1"/>game is to fling the downward moving ball away from the bottom edge, because if the ball drops down to the bottom edge of the screen, the game will end. Next, we need to code these events.</p><p class="calibre9">First, let's program the app to fling the ball.</p><p class="calibre9">How will the ball know when a finger touches it and how to move in another direction (not downward)? We can program these events by using a block from the <strong class="calibre10">Ball1</strong> Blocks drawer called <strong class="calibre10">when Ball1.Flung</strong>. Click on this gold event block to add it to the Viewer. You can make the ball move at any speed you like, but we are going to keep it going at the same speed, just in a different direction. To do this, you can copy and paste the <strong class="calibre10">set Ball1.Speed to</strong> and <strong class="calibre10">set Ball1.Interval to</strong> blocks from the <strong class="calibre10">when Play_Button.Click</strong> event (note that when you click on the dark green set block and copy and paste it, the blue getter block attached to it will also copy and paste). Add these blocks to the <strong class="calibre10">when Ball1.Flung</strong> <a id="id162" class="calibre1"/>event to resemble the following screenshot:</p><div><img src="img/00091.jpeg" alt="Flinging the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Next, we will reposition the direction of the ball to go upward (when it is flung by a finger). We could set the heading to a degree between 10 and 170 (see <em class="calibre19">image #39</em>) or we could make the ball go in the upward direction with an equation. Let's practice equations more. Copy and paste the <strong class="calibre10">set Ball1.Heading</strong> block from the <strong class="calibre10">when Play_Button.Click</strong> event (remember the heading block determines the angle at which the ball will move). Drag it to the bottom of the <strong class="calibre10">when Ball1.Flung</strong> event. We want the ball to go in the opposite direction than the direction in which it was heading, not to a random integer, so you can delete the attached blue block by highlighting it and pressing <strong class="calibre10">delete</strong> on your keyboard or by clicking on the blue block and dragging it to trash. To get the ball to go in the opposite direction, we are going to subtract the current ball's heading (direction) from 360 degrees (the total number of degrees possible). To code this, choose the minus block from the <strong class="calibre10">Math Blocks</strong> drawer. In the first open space, add the number <strong class="calibre10">360</strong>. Copy and paste the <strong class="calibre10">50</strong> blue block from the <strong class="calibre10">when Ball1.Flung</strong> event and change the number to <strong class="calibre10">360</strong>. Insert it into the open space to the left of the minus sign.</p><p class="calibre9">Next, from the <strong class="calibre10">Ball1</strong> Blocks drawer, select the light green getter block, <strong class="calibre10">Ball1.Heading</strong>. Insert it in the open space to the right of the minus sign (line up the block nib with the open nib). Here is what we have coded: when the ball is touched and flung, the program will move the ball's direction (or heading) to 360 degrees minus the old direction (or heading). Your blocks will look like the next screenshot:</p><div><img src="img/00092.jpeg" alt="Flinging the ball" class="calibre11"/></div><p class="calibre12"> </p></div><div><div><div><div><h4 class="title3"><a id="ch03lvl4sec08" class="calibre1"/>Ending the game or bouncing the ball</h4></div></div></div><p class="calibre9">Now that the <a id="id163" class="calibre1"/>Play Button starts the ball <a id="id164" class="calibre1"/>moving downward and the user can fling it in a different direction, we want to program the following actions:</p><div><ul class="itemizedlist"><li class="listitem">Ending the game when the ball touches the bottom edge</li><li class="listitem">Bouncing the ball off the left, top, and right edges</li></ul></div><p class="calibre9">We can program these actions with the <strong class="calibre10">if</strong>/<strong class="calibre10">then</strong> blocks. <strong class="calibre10">If</strong> the ball touches the bottom edge, <strong class="calibre10">then</strong> the ball will stop and the game will end. <strong class="calibre10">If</strong> the ball touches the other edges, <strong class="calibre10">then</strong> the ball will bounce back and the game will continue.</p><p class="calibre9">Let's first program the app to stop and end the game when the ball hits the bottom edge. App Inventor makes this easy. Go to the <strong class="calibre10">Ball1</strong> Blocks drawer and click on the <strong class="calibre10">when Ball1.EdgeReached</strong> event. Once the event block is in the Viewer, hover (don't click) on the light orange word <strong class="calibre10">edge</strong> on the left-hand side of the block and you will get a popup, as shown in the next screenshot. Choose the top dark orange <strong class="calibre10">get edge</strong> block. This is a variable. Set it aside; we will use it in a minute.</p><div><img src="img/00093.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">We will add an <strong class="calibre10">if then</strong> event to the inside of the when <strong class="calibre10">Ball1.EdgeReached</strong> event. But first we will configure it. Go to the topmost <strong class="calibre10">Blocks</strong> drawer called <strong class="calibre10">Control</strong> and click on the first gold <strong class="calibre10">if then</strong> block.</p><div><img src="img/00094.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">When the block first appears on your <strong class="calibre10">Viewer</strong>, it will look like <em class="calibre19">Step 1</em> in the following image. If you click on the blue color square in the upper-left corner, a popup will appear. Move your <a id="id165" class="calibre1"/>cursor over the bottom <strong class="calibre10">else</strong> block on <a id="id166" class="calibre1"/>the left-hand side of the popup, click on it, and drag it into the <strong class="calibre10">if</strong> opening on the right-hand side of the popup, as shown in <em class="calibre19">Step 2</em> and <em class="calibre19">Step 3</em>. Once the <strong class="calibre10">else</strong> block is in place, you will see the original <strong class="calibre10">if then</strong> event block change into an <strong class="calibre10">if then else</strong> block. You will see that <strong class="calibre10">else</strong> is now added to the bottom of the block, as shown in <em class="calibre19">Step 3</em> and <em class="calibre19">Step 4</em>:</p><div><img src="img/00095.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Add this <a id="id167" class="calibre1"/>
<strong class="calibre10">if then else</strong> block to the inside of <a id="id168" class="calibre1"/>the when <strong class="calibre10">Ball1.EdgeReached</strong> block, as shown in the following screenshot:</p><div><img src="img/00096.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><div><h3 class="title2"><a id="note07" class="calibre1"/>Note</h3><p class="calibre9">Notice how the get edge block that we set aside has an exclamation point with a triangle around it. This is an error message alerting you that the block is unattached and is in need of a setter block.</p></div><p class="calibre9">To program, <strong class="calibre10">if</strong> the ball touches the bottom edge, <strong class="calibre10">then</strong> the ball will stop and the game will end. We will use a <strong class="calibre10">math equals</strong> block. It is the second one from the top in the <strong class="calibre10">Math Blocks</strong> drawer, as shown in the next screenshot:</p><div><img src="img/00097.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Inside the first opening to the left of the equal sign, add the dark orange <strong class="calibre10">get edge</strong> block that we had set aside. You will notice that the alert will remain on this block until we snap the math block in place with the <strong class="calibre10">if</strong> block, which we will do shortly.</p><p class="calibre9">In the next image, you will see that each edge is represented by a number:</p><p class="calibre9"> </p><div><img src="img/00098.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Since the <a id="id169" class="calibre1"/>bottom edge is equal to <strong class="calibre10">-1</strong>, add a <a id="id170" class="calibre1"/>number Math block to this equal block and enter the number <strong class="calibre10">-1</strong>. Snap the blue math block into the <strong class="calibre10">if</strong> block, as shown below (and you will see the alert disappear).</p><div><img src="img/00099.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">When the bottom edge is reached, we want the ball to stop, the game to end, and the app to display the text <strong class="calibre10">Game Over</strong>. We already know how to enable the ball to move: we set the property enabled to <strong class="calibre10">true</strong>. So, now that we want the ball to stop or not move, we must set the enabled property to <strong class="calibre10">false</strong>. In the <strong class="calibre10">Ball1</strong> blocks drawer, select <strong class="calibre10">set Ball1.Enabled to</strong> and then in the <strong class="calibre10">Logic</strong> blocks drawer select the <strong class="calibre10">false</strong> block. Slide that set of blocks into the <strong class="calibre10">then</strong> space of the <strong class="calibre10">if then else</strong> block, as shown below.</p><div><img src="img/00100.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Next, we <a id="id171" class="calibre1"/>will program the app to display some <a id="id172" class="calibre1"/>text indicating that the game is over. We will use the Label that we named <strong class="calibre10">Score</strong> (in the next chapter, we will also use this Label to display the score). Go to the <strong class="calibre10">Score</strong> blocks drawer and select the dark green <strong class="calibre10">set Score.Text to</strong> block, as shown in the following screenshot:</p><p class="calibre9"> </p><div><img src="img/00101.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">This setter block needs to get some text, so we will add a getter text block. Go to the pink <strong class="calibre10">Text</strong> block drawer and choose the first block, which is an empty space with quotes around it, as shown in the next screenshot:</p><div><img src="img/00102.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">You will <a id="id173" class="calibre1"/>add this pink text block to the <strong class="calibre10">set </strong><a id="id174" class="calibre1"/>
<strong class="calibre10">Score.Text to</strong> block and insert it below the <strong class="calibre10">set Ball1.Enabled to</strong> block in the <strong class="calibre10">then</strong> event. Click on the pink text block and type the words <strong class="calibre10">Game Over</strong>, as follows:</p><div><img src="img/00103.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">We have programmed the app so that if the ball hits the bottom edge, it will stop moving and the Label will display the text: <strong class="calibre10">Game Over</strong>.</p><p class="calibre9">The last step, the <strong class="calibre10">else</strong> block, is for when the ball hits an edge other than <strong class="calibre10">-1</strong> (the bottom). If the ball hits any of the other edges, we want the ball to bounce off them and the gameplay to continue. To program this, we'll use the purple <strong class="calibre10">call Ball1.Bounce</strong> block. We will attach the same orange <strong class="calibre10">get edge</strong> block we used previously, but this time, we won't specify a certain edge. Any edge that the ball touches, other than the bottom edge, will cause the ball to bounce. Copy and paste the <strong class="calibre10">get edge block</strong>, add it to the purple <strong class="calibre10">call Ball1.Bounce</strong> block, and insert the blocks into the <strong class="calibre10">else</strong> slot, as follows:</p><p class="calibre9"> </p><div><img src="img/00104.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Think of <strong class="calibre10">else</strong> <a id="id175" class="calibre1"/>as meaning <em class="calibre19">otherwise</em>. If the ball hits an edge equal to <strong class="calibre10">-1</strong>, then execute the <strong class="calibre10">then</strong> code, otherwise execute the <a id="id176" class="calibre1"/>
<strong class="calibre10">else</strong> code. In other words, if the <strong class="calibre10">if</strong> option is not met (if the ball doesn't hit the <strong class="calibre10">-1</strong> edge), then the program will skip <strong class="calibre10">then</strong> and jump to <strong class="calibre10">else</strong>.</p><p class="calibre9">Following is a screenshot of our app when the ball hits the bottom edge, stops, and displays <strong class="calibre10">Game Over</strong>.</p><div><img src="img/00105.jpeg" alt="Ending the game or bouncing the ball" class="calibre11"/></div><p class="calibre12"> </p></div><div><div><div><div><h4 class="title3"><a id="ch03lvl4sec09" class="calibre1"/>The Reset button</h4></div></div></div><p class="calibre9">The last <a id="id177" class="calibre1"/>thing we will do in this chapter is configure the <strong class="calibre10">Reset</strong> button. The <strong class="calibre10">Reset</strong> button gets pressed after the game has ended due to the ball hitting the bottom edge. It doesn't start the gameplay like the <strong class="calibre10">Play</strong> button does; it merely repositions the ball back at the top of the screen and makes the <strong class="calibre10">Game Over</strong> text disappear from the screen (Label).</p><p class="calibre9">Go into the <strong class="calibre10">Reset Button</strong> Blocks and choose the gold event <strong class="calibre10">when Reset_Button.Click</strong>. We want to move the ball from the bottom of the screen to the top of the screen. We already know how to do this because we did it for the Play Button. You can copy and paste the call <strong class="calibre10">Ball1.MoveTo</strong> purple block (when you click on the purple block and copy and paste it, it will automatically copy and paste the blue <em class="calibre19">x</em>, <em class="calibre19">y</em>, getter blocks attached to it). Add your <a id="id178" class="calibre1"/>blocks to the <strong class="calibre10">when Reset_Button.Click</strong> event, and your blocks will look like the following screenshot:</p><div><img src="img/00106.jpeg" alt="The Reset button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">These blocks reposition the ball back up to the top of the screen (to a random <strong class="calibre10">x</strong> location), but the <strong class="calibre10">Game Over</strong> text will still be displayed. To have the Reset Button erase this, we will simply set the <strong class="calibre10">Score Text</strong> to blank text instead of <strong class="calibre10">Game Over</strong>. Copy and paste the dark green <strong class="calibre10">set Score.Text to</strong> block from the <strong class="calibre10">when Ball1.EdgeReached</strong> event block (copying and pasting the green Setter block will also copy and paste the pink text block). Click on the <strong class="calibre10">Game Over</strong> text and press <em class="calibre19">Delete</em>, so the text area is empty. Add this set of blocks to the bottom of the <strong class="calibre10">when Reset_Button.Click</strong> event block, as follows:</p><div><img src="img/00107.jpeg" alt="The Reset button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">The following is a screenshot of our app after the <strong class="calibre10">Reset</strong> button is pressed. It shows the ball up at the top of the screen and a blank area where the <strong class="calibre10">Game Over</strong> text previously appeared.</p><div><img src="img/00108.jpeg" alt="The Reset button" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Our first version of the Fling app is now complete! We have designed and coded the Fling app, so when the Play Button is clicked, it will randomly position the ball at the top of the screen and start the ball rolling downward. Flinging the ball with a finger causes the ball to move in the opposite direction to than was going. The ball bounces of all the edges, except for the bottom one. When the ball hits the bottom edge, it stops and the app <a id="id179" class="calibre1"/>displays <strong class="calibre10">Game Over</strong>. The <strong class="calibre10">Reset</strong> button repositions the ball to a random position at the top of the screen. At this point, you may or may not have discovered that we have a bug! It has something to do with the Play and Reset buttons. We will reveal and fix this bug in the next chapter.</p></div></div></div></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch03lvl1sec18" class="calibre1"/>Summary</h1></div></div></div><p class="calibre9">Wow! You have learned a great deal about the App Inventor platform in this chapter and you have built and programmed your first app! This is a huge accomplishment! But, as you may have noticed, we have an issue to fix. We will demonstrate not only how to debug your first bug, but also how to add more features. Really, this is just the beginning of your mobile computing adventure. There is much more to learn and create! Our Fling app is functional and simple, but I'm sure you can think of countless more features to enhance it. In the next chapter, you will learn how to expand the app's complexity by creating a scoring mechanism that is displayed when the ball touches the top edge, by allowing the ball to be flung only from the lower half of the screen, and by creating levels and increasing the speed of the ball</p><p class="calibre9">By learning how to add more functionality to an existing app, you will gain experience developing multiple versions. This process of building an app with added features is what developers regularly do. Ultimately, once you post your app in an app market like Google Play, the new versions would be released as updates.</p><p class="calibre9">Let's take our game to the next level!</p></div></body></html>