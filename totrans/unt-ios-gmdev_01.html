<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. What is Unity and why should I care?</h1></div></div></div><div><blockquote class="blockquote"><p>Welcome to the world of Unity! In this book we will explore from beginning to end how to develop games utilizing what is one of the most exciting and accessible game development technologies available for mobile devices.<a id="id0" class="indexterm"/>
</p></blockquote></div><div><blockquote class="blockquote"><p>In this chapter you will learn the basics of getting up and running with Unity Technologies' game development product Unity. Together we will explore how to utilize this development platform to deliver games on iOS devices.</p></blockquote></div><p>In this chapter we shall:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Learn about the value of Unity as a development platform</li><li class="listitem" style="list-style-type: disc">Install Unity</li><li class="listitem" style="list-style-type: disc">Learn how to configure the Apple Developer Portal to support development and publishing</li><li class="listitem" style="list-style-type: disc">Configure our development environment for publishing to an iOS device</li><li class="listitem" style="list-style-type: disc">Publish a sample application to our iOS device</li></ul></div><p>This may not sound like a lot, but with iOS development there are many things that you can do incorrectly, which will lead to difficulties when working with Unity. Rather than assume that you'll get it all right, we're going to talk through it step by step to make sure that you can spend your time building games and not trying to decipher mysterious error messages.<a id="id1" class="indexterm"/>
</p><p>So let's get on with it...</p><div><div><div><div><h1 class="title"><a id="ch01lvl1sec01"/>Important preliminary points</h1></div></div></div><p>This chapter assumes that you have already installed XCode and the Apple iOS SDK 4.x or later. If you don't have either of these tools installed, you can get them from<a class="ulink" href="http://developer.apple.com"> http://developer.apple.com</a>.<a id="id3" class="indexterm"/>
</p><p>Further, it is assumed that you have downloaded and installed Unity from<a class="ulink" href="http://www.unity3d.com"> http://www.unity3d.com</a>.<a id="id4" class="indexterm"/>
</p><p>This chapter also assumes that you have set up an account at the iOS Dev Center located at<a class="ulink" href="http://developer.apple.com"> http://developer.apple.com</a>. Since iOS applications must be signed before they can be published to an application store, or distributed to devices, you must have an account set up and have the requisite certificates installed on your machine. There are a number of videos on the Dev Center website, which can help you get your certificates set up.</p><p>Also note that the screenshots in the book represent the Mac OSX version of Unity, as the OSX platform is the official development environment for iPhone applications.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec02"/>What is Unity?</h1></div></div></div><p>Imagine for a moment that you want to build a game for the iPhone and you want to take advantage of all the platforms' features, but you don't know Objective-C and you don't want to build a 3D engine. There are a large number of solutions in the marketplace for developing applications that will run on iOS — including the tried and tested method of creating an Objective-C project and writing a game engine using OpenGL ES that is specifically tailored to your content.<a id="id5" class="indexterm"/>
</p><p>Given those facts, what is Unity and why should you care?</p><p>With hundreds of millions of mobile devices in the hands of consumers, and more arriving seemingly every day, it has become clear that the mobile device is one of the fastest growing areas for game developers. While the prospect of such an amazing audience is tantalizing, there are numerous operating systems, video technologies, touch interfaces, cellular network technologies, 3D accelerators, and so on that would make it difficult to truly deliver compelling content to this large an audience, profitably, without some mechanism to abstract above the platform differences and allow you to focus on what's important — delivering a great gaming experience.<a id="id6" class="indexterm"/>
</p><p>Additionally there are a substantial number of approaches for delivering the various aspects of a game to the end-user. Consider for a moment the number of techniques available for providing sound, music, 3d artwork, physics, networking, or even force feedback for a game. Consider further the level of effort that would be necessary to have an environment where you can rapidly construct and test your ideas.</p><p>To truly be successful in this new multi-screen market you need an environment that allows you to focus your energies on creating great experiences and not the tedious details of the different hardware platforms on which the game will be played, or the mechanics behind how the game delivers that experience to the end-user. This is what Unity provides for you — and that is why you should care!<a id="id7" class="indexterm"/>
</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec03"/>Getting a real application running on a device</h1></div></div></div><p>To illustrate the type of content that is possible using Unity3d, we're going to get started by getting a real application running on a device. There are a number of steps that you have to perform to get this right, especially if you're a new developer to the iOS platform so I'm going to take some time to make sure you understand what's going on. iOS development can be very unforgiving if you don't do things the right way — but once you walk through it a few times it becomes second nature.<a id="id8" class="indexterm"/>
</p><p>We are going to walk through each of the steps necessary to produce commercial content for Unity3 that can be deployed to an iOS device:<a id="id9" class="indexterm"/>
</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Loading a project</li><li class="listitem" style="list-style-type: disc">Selecting iOS as the target platform</li><li class="listitem" style="list-style-type: disc">Publishing the application to our device</li><li class="listitem" style="list-style-type: disc">Play our content on the device</li></ul></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec04"/>Time for action —  Loading a project</h1></div></div></div><p>The first step is to start the Unity development environment by clicking on the<strong> Unity IDE</strong> icon.<a id="id10" class="indexterm"/>
</p><div><img src="img/978-1-84969-040-9_1_1.jpg" alt="Time for action — Loading a project"/></div><p>If you're familiar with Unity version 2, it is important to note that there is no longer a separate application for Unity iPhone. One of the new features in Unity 3 is that there is no longer a distinct environment for every deployment target  — you have one IDE for everything. This has a number of benefits, as we will see throughout the course of the book.<a id="id11" class="indexterm"/>
</p><p>The first thing you will see when the environment starts is the Project Wizard. In this chapter we are simply going to load and deploy an existing project so that we can walk through the workflow of getting everything setup for publishing to the iOS device.</p><div><ol class="orderedlist"><li class="listitem">Select the<strong> Open Other...</strong> button, navigate to where you installed the assets for the book and select the<code class="literal"> Chapter 1</code> folder.<a id="id12" class="indexterm"/></li><li class="listitem">Unity will then load this project and you will be greeted with the standard Unity interface:<div><img src="img/978-1-84969-040-9_1_2.jpg" alt="Time for action — Loading a project"/></div></li><li class="listitem">If you noticed, in the middle of the previous screenshot, the title bar for the application you will see the standard VCR controls.</li><li class="listitem">If you click on the<strong> play</strong> button, the game will start on your machine and you will be able to play around with the game in the Unity IDE. Play around with it for a second because you want to have some idea of how the application should look and behave when it is installed on a regular iOS device.<a id="id13" class="indexterm"/></li></ol></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec01"/>What just happened?</h2></div></div></div><p>We have just loaded the sample game project in the Unity environment and run it on our development machine. In the normal development lifecycle you will find that you will perform the code-debug-test cycle on your machine and export it to your device to ensure that the performance is adequate or test the device-specific functionality.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec05"/>Time for action —  Select iPhone as a target platform</h1></div></div></div><p>After we've had a chance to understand what our game will look, and play like, when it gets on our iOS device, it's time to deploy the application to our target iOS device. In the Unity IDE you accomplish this by changing the build settings for your project:<a id="id14" class="indexterm"/>
</p><div><img src="img/978-1-84969-040-9_1_3.jpg" alt="Time for action — Select iPhone as a target platform"/></div><p>Next, let's examine the<strong> Build Settings</strong> dialog for the project:<a id="id15" class="indexterm"/>
</p><div><img src="img/978-1-84969-040-9_1_4.jpg" alt="Time for action — Select iPhone as a target platform"/></div><p>In the<strong> Build Settings</strong> dialog there are a couple of activities we want to perform:<a id="id16" class="indexterm"/>
</p><div><ol class="orderedlist"><li class="listitem">First, we want to make sure that we have something in our game world. Since you're loading an existing project you should already have scenes in your build. If for some reason you don't, you can press the<strong> Add Current</strong> button. This tells Unity that the scene that you've been playing around with is the one that you want to have included in your iOS game.<a id="id17" class="indexterm"/></li><li class="listitem">Next we want to make sure we're targeting the correct platform. In the platform list you can tell which platform is being targeted by looking for the one with the Unity logo next to it. In our case we make sure that it is next to "iOS"</li></ol></div><p>I know your urge is strong to press the<strong> Build And Run</strong> button at this point. However, remember that iOS applications have to be signed before they can be deployed to devices, or sold on the Apple App store. Since we haven't told Unity anything about which developer profile and application identifier it should be publishing for, it will not be able to publish the application to the device. Thus, if you do follow through on this urge you will be greeted by this dialog box when you try to<strong> Build And Run</strong> for your device:<a id="id18" class="indexterm"/>
</p><div><img src="img/978-1-84969-040-9_1_5.jpg" alt="Time for action — Select iPhone as a target platform"/></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec02"/>What just happened?</h2></div></div></div><p>We have just chosen the publishing target for our game. Since Unity can publish to multiple platforms, you would perform this step for each platform that you want to target. Thus, if you are targeting Android, the web, or even a game console you simply select that platform in the dialog and Unity will produce a distribution that will run on that platform.<a id="id19" class="indexterm"/>
</p><div><h3 class="title"><a id="tip01"/>Tip</h3><p>At the time of this writing Unity provides publishing for other platforms such as Android, Xbox360, PS3, and the Nintendo Wii, with many other platforms in development. These additional platforms will require the purchase of the Pro version of Unity, in addition to any fees required to publish to the specific platform.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec06"/>Time for action —  Publishing to our device</h1></div></div></div><p>To publish to our device we will have to provide a bundle identifier for Unity. To create one we will have to provide one within the iOS Provisioning Portal. This portal is located within the iOS Dev Center accessible at<a class="ulink" href="http://developer.apple.com"> http://developer.apple.com</a>.<a id="id20" class="indexterm"/>
</p><p>On the main page for the iOS developer program you will find a link that will take you to the<strong> iOS Provisioning Portal</strong>. In addition, you will see links to the<strong> iTunes Connect</strong> portal that is used for publishing your product and getting information about sales and market performance:<a id="id21" class="indexterm"/>
</p><div><img src="img/978-1-84969-040-9_1_6.jpg" alt="Time for action — Publishing to our device"/></div><div><ol class="orderedlist"><li class="listitem">In the<strong> iOS Provisioning Portal</strong> you will select the<strong> App IDs</strong> setting so that you can create a new application ID (which is the same as the bundle identifier which Unity is looking for):<a id="id22" class="indexterm"/><div><img src="img/978-1-84969-040-9_1_7.jpg" alt="Time for action — Publishing to our device"/></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">Let's take a look at how we create <strong>App IDs</strong> for our applications:<a id="id23" class="indexterm"/></li></ul></div><div><img src="img/978-1-84969-040-9_1_8.jpg" alt="Time for action — Publishing to our device"/></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">An <strong>App ID</strong> for an iOS application is very important, as it is the mechanism through which the application will be uniquely identified by Game Center, in App Purchases, Push Notifications, and inside of the Unity development environment:<a id="id24" class="indexterm"/></li></ul></div><div><img src="img/978-1-84969-040-9_1_9.jpg" alt="Time for action — Publishing to our device"/></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">An application identifier has a description, a prefix and a suffix. The prefix is a collection of characters that are randomized for uniqueness, and the suffix represents the unique identifier for the application. When Unity refers to the <strong>Bundle Identifier</strong>, it is referring only to the suffix.<a id="id25" class="indexterm"/><p>Create your <strong>App ID</strong> with a clear description of what this application is so that it will be easy to find it later. This is important, as over time you will end up with a large number of <strong>App IDs</strong> for all the games you will be creating. For the Seed ID itself, simply leave that set to <strong>Generate New.
</strong>
</p><p>For your <strong>Bundle Identifier</strong>, use the standard reverse-domain name notation to come up with the identifier for your app. Once this is created we just need a way to move this over to our development environment.
<a id="id26" class="indexterm"/>
</p></li></ul></div><div><h3 class="title"><a id="note02"/>Note</h3><p>For the bundle identifier make sure that you do not append a wildcard character to the end as this will limit you later as you seek to add more advanced functionality.</p></div></li><li class="listitem">We now need to associate this application ID with a provisioning profile. If you already have a provisioning profile, you can modify the one you already have and change the<strong> App ID</strong> that it represents. If you don't have one, or don't want to modify an existing one, enter the<strong> Provisioning</strong> section of the<strong> iOS Provisioning Portal:</strong><a id="id27" class="indexterm"/><div><img src="img/978-1-84969-040-9_1_10.jpg" alt="Time for action — Publishing to our device"/></div></li><li class="listitem">Once there, create a new profile for this<strong> App ID</strong> and fill in all of the fields, making sure to select the appropriate<strong> App ID</strong> in the drop-down list box:<a id="id28" class="indexterm"/><div><img src="img/978-1-84969-040-9_1_11.jpg" alt="Time for action — Publishing to our device"/></div><div><h3 class="title"><a id="tip02"/>Tip</h3><p>You may not have noticed it, but this example illustrates what happens when you follow the bad practice of not coming up with very descriptive names for your<strong> App IDs</strong>. While in this case I know that I want<strong> Chapter 1</strong>, if I were developing several books — I would not be able to identify which Chapter 1 this App ID represented.</p></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">Notice that I have selected all of the devices that I want this application to be provisioned for. If you don't select a device here, you won't be able to deploy the application to that device.</li></ul></div></li><li class="listitem">Your provisioning profile is created, you now need to press<strong> Download</strong> so that it will be downloaded to your development environment:<div><img src="img/978-1-84969-040-9_1_12.jpg" alt="Time for action — Publishing to our device"/></div></li><li class="listitem">Once downloaded (you should have a<code class="literal"> .mobileprovision</code> file), double-click on the file on your machine. As this is a registered file type for XCode it should install it into XCode for you.<a id="id29" class="indexterm"/><p>If for some reason it doesn't, you can open up the Organizer in XCode (<strong>Window | Organizer</strong>), select the <strong>Provisioning Profiles</strong> entry in the organizer. XCode will then install the profile and it will be synchronized to all devices that can accept the profile:
<a id="id30" class="indexterm"/>
</p><div><img src="img/978-1-84969-040-9_1_13.jpg" alt="Time for action — Publishing to our device"/></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">XCode has the ability to automatically provision devices that are configured in the iOS developer portal within XCode. This makes it easy to ensure that your profiles are added to your target devices. To do this, ensure that the <strong>Automatic Device Provisioning</strong> checkbox is checked:<a id="id31" class="indexterm"/></li></ul></div><div><img src="img/978-1-84969-040-9_1_14.jpg" alt="Time for action — Publishing to our device"/></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">Once performed, XCode will communicate with the iOS developer portal and download all of your configured devices and display them in the Organizer:</li></ul></div><div><img src="img/978-1-84969-040-9_1_16.jpg" alt="Time for action — Publishing to our device"/></div></li><li class="listitem">We are now able to configure Unity to publish content for this application ID on our target device. We accomplish this by entering the<strong> Bundle Identifier</strong> and setting the<strong> App ID</strong> suffix for our application. In the case of our example, it would be<code class="literal"> com.gregorypierce.chapter1:</code><a id="id32" class="indexterm"/><div><img src="img/978-1-84969-040-9_1_15.jpg" alt="Time for action — Publishing to our device"/></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">With that step completed, the hardest part of building games for Unity is over!<a id="id33" class="indexterm"/></li></ul></div></li><li class="listitem">Run this application by selecting the<strong> Build and Run</strong> option from the File menu (File |<strong> Build and Run)</strong>. This time when you select "Build and Run," Unity will build a player for your content and deploy the application to the iOS device connected to the machine.<p>Don't be alarmed when you see XCode open and start building your application, as this means that the process is working and very shortly you should see the sample application start on your device.
</p></li></ol></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec03"/>What just happened?</h2></div></div></div><p>What Unity is doing behind the scenes is taking all of the assets and scripts from the Unity IDE and putting together a player that will be able to playback the content and all of its scenarios based on input from the user. This is a very important concept to understand as the content within the Unity IDE is largely platform agnostic and can be readily redeployed after a simple recompile within the Unity environment. This player is what becomes the actual application that is deployed to the iOS device.<a id="id34" class="indexterm"/>
</p><p>We spent a large number of steps creating some artifacts within the iOS Developer Portal. These artifacts were: the certificate, the App ID, and the provisioning profile. These artifacts form a circle of trust between the developer, Apple, and the iOS devices in the hands of developers and consumers.</p><p>The certificate is a credential that is created in the Apple environment that allows content to be signed specifically by the developer, so that it is clear who authored the content. Without a certificate it is possible that someone could claim to be the developer and sign applications on his/her behalf.</p><p>The App ID is a unique identifier that allows the iOS device and the Apple services to know, without ambiguity, which application is trying to do something. Finally, the provisioning profile defines.</p><p>The provisioning profile associates the certificates, devices, and an app ID. Without a provisioning profile on your machine you will not be able to sign or deploy applications to either a device or to the application store.</p><p>Once we provided Unity the App ID, it was able to communicate with XCode and tell XCode which profile and certificates should be used to sign our application and deploy it the iOS device. On the device itself, when XCode deployed the application it transferred the provisioning profile to the device, so that the iOS device could identify that this was a device that it should run, even though the Apple App Store did not provide it.</p><p>We have just performed all of the steps necessary to setup our development environment and publish content to Unity. Further, we have built our own mini testing lab using Unity Remote so we can utilize our device yet debug the game in our development environment. This is a crucial milestone as we can now focus entirely on customizing Unity and building games.<a id="id35" class="indexterm"/>
</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec04"/>Pop quiz -  The fundamentals</h2></div></div></div><div><ol class="orderedlist"><li class="listitem">Which of these platforms can Unity not publish content for?<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">a. Web</li><li class="listitem" style="list-style-type: none">b. Consoles</li><li class="listitem" style="list-style-type: none">c. iOS Devices</li><li class="listitem" style="list-style-type: none">d. Android Devices</li><li class="listitem" style="list-style-type: none">e. Linux</li></ul></div></li><li class="listitem">Where can you go to set up an application ID for your iOS device?<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">a. Apple Developer Forums</li><li class="listitem" style="list-style-type: none">b. XCode Organizer</li><li class="listitem" style="list-style-type: none">c. iTunes Connect</li><li class="listitem" style="list-style-type: none">d. iOS Provisioning Portal</li><li class="listitem" style="list-style-type: none">e. XCode SDK</li></ul></div></li><li class="listitem">There remains uncertainty about whether or not Unity developed applications can be published to iOS devices within Apple's Terms of Service? (true/false)</li><li class="listitem">If you have the following App ID 255U952NTW.com.gregorypierce.chapter1, what should you provide to Unity as your Bundle Identifier?<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">a. Chapter1</li><li class="listitem" style="list-style-type: none">b. com.gregorypierce.chapter1</li><li class="listitem" style="list-style-type: none">c. 255U952NTW</li><li class="listitem" style="list-style-type: none">d. 255U952NTW.com.gregorypierce.chapter1</li><li class="listitem" style="list-style-type: none">e. 255U952NTW.com.gregorypierce.chapter1.*</li></ul></div></li><li class="listitem">You can publish an iOS application without creating a developer account? (true/false)</li></ol></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec07"/>Summary</h1></div></div></div><p>In this chapter we learned a lot about how to set up everything for publishing to iOS devices.</p><p>Specifically, we covered:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">How to load Unity and open a new project</li><li class="listitem" style="list-style-type: disc">How to create an Application ID for signing and publishing an application</li><li class="listitem" style="list-style-type: disc">How to deploy an application to an iOS device</li></ul></div><p>Now that we've learned about setting up our development platform we're ready to really dive into Unity and explore its capabilities — which is the topic of the next chapter.</p></div></body></html>