<html><head></head><body>
		<div><h1 id="_idParaDest-50"><em class="italic"><a id="_idTextAnchor051"/>Chapter 3</em>: Conditionals and Optionals</h1>
			<p>In the last chapter, you looked at data types, constants, variables, and operations. At this point, you are able to write simple programs that process letters and numbers. However, programs don't always proceed in sequence. Oftentimes, you will need to execute different instructions based on a condition. Swift allows you to do this by using <strong class="bold">conditionals</strong>, and you will learn how to use them in this chapter.</p>
			<p>Another thing you may have noticed is that, in the last chapter, each variable or constant was immediately assigned a value. What if you require a variable where the value may not be present initially? You will need a way to create a variable that may or may not have a value. Swift allows you to do this by using <strong class="bold">optionals</strong>, and you will also learn about them in this chapter.</p>
			<p>By the end of this chapter, you should be able to write programs that do different things based on different conditions, and to handle variables that may or may not have a value.</p>
			<p>The following topics will be covered: </p>
			<ul>
				<li>Introducing conditionals</li>
				<li>Introducing optionals and optional binding<p class="callout-heading">Tip</p><p class="callout">Please spend some time understanding optionals. They can be daunting for the novice programmer.</p></li>
			</ul>
			<h1 id="_idParaDest-51"><a id="_idTextAnchor052"/>Technical requirements</h1>
			<p>The Xcode playground for this chapter is in the <code>Chapter03</code> folder of the code bundle for this book, which can be downloaded here:</p>
			<p><a href="https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition">https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition</a><a href="https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition "/></p>
			<p>Check out the following video to see the code in action:</p>
			<p><a href="https://bit.ly/3woRRKq">https://bit.ly/3woRRKq</a><a href="https://bit.ly/3woRRKq "/></p>
			<p>Create a new playground and name it <code>ConditionalsAndOptionals</code>. You can type in and run all the code in this chapter as you go along. You'll start by learning about conditionals.</p>
			<h1 id="_idParaDest-52"><a id="_idTextAnchor053"/>Introducing conditionals</h1>
			<p>At times, you'll <a id="_idIndexMarker104"/>want to execute different code blocks based on a specific condition, such as in the following scenarios:</p>
			<ul>
				<li>Choosing between different room types at a hotel. The price for bigger rooms would be higher.</li>
				<li>Switching between different payment methods at an online store. Different payment methods would have different procedures.</li>
				<li>Deciding what to order at a fast-food restaurant. Preparation procedures for each food item would be different.</li>
			</ul>
			<p>To do this, you would use conditionals. In Swift, this is implemented using the <code>if</code> statement (for a single condition) and the <code>switch</code> statement (for multiple conditions). </p>
			<p class="callout-heading">Important information</p>
			<p class="callout">For more information on conditionals, visit <a href="https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html">https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html</a>.</p>
			<p>Let's see how <code>if</code> statements are used to execute different tasks depending on a condition's value in the next section. </p>
			<h2 id="_idParaDest-53"><a id="_idTextAnchor054"/>Using if statements</h2>
			<p>An <code>if</code> statement <a id="_idIndexMarker105"/>executes a block of code if a condition is <code>true</code>, and <a id="_idIndexMarker106"/>optionally another block of code if the condition is <code>false</code>. An <code>if</code> statement looks like this: </p>
			<pre>if condition {
   code1
} else {
   code2
}</pre>
			<p>Let's implement an <code>if</code> statement now to see this in action. Imagine that you're programming an app for a restaurant. The app would allow you to check if a restaurant is open, search for a restaurant, and check to see if a customer is over the drinking age limit.</p>
			<p>Follow these steps:</p>
			<ol>
				<li>To check if a restaurant is open, add the following code to your playground to create a <a id="_idIndexMarker107"/>constant and execute a statement if the <a id="_idIndexMarker108"/>constant's value is <code>true</code>. Click the <code>isRestaurantOpen</code>, and assigned <code>true</code> to it. Next, you have an <code>if</code> statement that checks the value stored in <code>isRestaurantOpen</code>. Since the value is <code>true</code>, the <code>print()</code> statement is executed and <code>Restaurant is open</code> is printed in the Debug area.</p></li>
				<li>Try changing the value of <code>isRestaurantOpen</code> to <code>false</code> and run your code again. As the condition is now <code>false</code>, nothing will be printed to the Debug area.</li>
				<li>You can also execute statements if a value is <code>false</code>. Let's say the customer has searched for a particular restaurant which is not in the app's database, so the app should display a message to say that the restaurant is not found. Type in the following code to create a constant and execute a statement if the constant's value is <code>false</code>:<pre>let isRestaurantFound = false 
if isRestaurantFound == false {
   print("Restaurant was not found")
}</pre><p>The constant <code>isRestaurantFound</code> is set to <code>false</code>. Next, the <code>if</code> statement is checked. The <code>isRestaurantFound == false</code> condition returns <code>true</code>, and <code>Restaurant was not found</code> is printed in the Debug area.</p></li>
				<li>Try changing the value of <code>isRestaurantFound</code> to <code>true</code>. As the condition is now <code>false</code>, nothing will be printed to the Debug area.</li>
				<li>To execute one set of statements if a condition is <code>true</code>, and another set of statements if a condition is <code>false</code>, use the <code>else</code> keyword. Type in the following <a id="_idIndexMarker109"/>code, which checks if a customer at a bar is <a id="_idIndexMarker110"/>over the drinking age limit:<pre>let drinkingAgeLimit = 21 
let customerAge = 23
if customerAge &lt; drinkingAgeLimit {
   print("Under age limit")
} else {
   print("Over age limit")
}</pre><p>Here, <code>drinkingAgeLimit</code> is assigned the value <code>21</code> and <code>customerAge</code> is assigned the value <code>23</code>. In the <code>if</code> statement, <code>customerAge &lt; drinkingAgeLimit</code> is checked. Since 23 &lt; 21 returns <code>false</code>, the <code>else </code>statement is executed and <code>Over age limit</code> is printed in the Debug area. If you change the value of <code>customerAge</code> to <code>19</code>, <code>customerAge &lt; drinkingAgeLimit</code> will return <code>true</code>, so <code>Under age limit</code> will be printed in the Debug area.</p></li>
			</ol>
			<p>Up to now, you have only been dealing with single conditions. What if there are multiple conditions? That's <a id="_idIndexMarker111"/>where <code>switch</code> statements come in, and you will <a id="_idIndexMarker112"/>learn about them in the next section.</p>
			<h2 id="_idParaDest-54"><a id="_idTextAnchor055"/>Using switch statements</h2>
			<p>To <a id="_idIndexMarker113"/>understand <code>switch</code> statements, let's start by implementing<a id="_idIndexMarker114"/> an <code>if</code> statement with multiple conditions first. Imagine that you're programming a traffic light. There are three possible conditions for the traffic light—red, yellow, or green—and you want something different to happen based on the color of the light. To do this, you can chain multiple <code>if</code> statements together. Follow these steps:</p>
			<ol>
				<li value="1">Add the following code to your playground to implement a traffic light using multiple <code>if</code> statements and click the <code>if</code> condition, <code>trafficLightColor == "Red"</code>, returns <code>false</code>, so the <code>else</code> statement is executed. The second <code>if</code> condition, <code>trafficLightColor == "Yellow"</code>, returns <code>true</code>, so <code>Caution</code> is printed in the Debug area and no more <code>if</code> conditions are evaluated. Try changing the value of <code>trafficLightColor</code> to see different results.</p><p>The code used here works, but it's a little hard to read. In this case, a <code>switch</code> statement would be more concise and easier to comprehend. A <code>switch</code> statement looks like this:</p><pre>switch value {
case firstValue:
   code1
case secondValue:
   code2
default: 
   code3
}</pre><p>The value<a id="_idIndexMarker115"/> is checked and matched to a case, and<a id="_idIndexMarker116"/> code for that case is executed. If none of the cases match, the code in the <code>default</code> case is executed.</p></li>
				<li>Here's how to write the <code>if</code> statement shown earlier as a <code>switch</code> statement. Type in the following code:<pre>trafficLightColor = "Yellow"
switch trafficLightColor {
case "Red":
   print("Stop")
case "Yellow":
   print("Caution")
case "Green":
   print("Go")
default:
   print("Invalid color")
}</pre></li>
			</ol>
			<p>The code here is much easier to read and understand when compared to the previous version. The value in <code>trafficLightColor</code> is <code>"Yellow"</code>, so <code>case "Yellow":</code> is matched and <code>Caution</code> is printed in the Debug area. Try changing the value of <code>trafficLightColor</code> to see different results.</p>
			<p>There are two things to remember about <code>switch</code> statements:</p>
			<ul>
				<li><code>switch</code> statements in Swift do not fall through the bottom of each case and into the next one by default. In the example shown previously, once <code>case "Red":</code> is matched, <code>case "Yellow":</code>, <code>case "Green":</code> , and<code> default:</code> will not execute.</li>
				<li><code>switch</code> statements must cover all possible cases. In the example shown previously, any <code>trafficLightColor</code> value other than <code>"Red"</code>, <code>"Yellow"</code>, or <code>"Green"</code> will be matched to <code>default:</code> and <code>Invalid color</code> will be printed in the Debug area.</li>
			</ul>
			<p>This concludes the section on <code>if</code> and <code>switch</code> statements. </p>
			<p>In the next <a id="_idIndexMarker117"/>section, you'll learn about optionals, which allow<a id="_idIndexMarker118"/> you to create variables without initial values, and <strong class="bold">optional binding</strong>, which allows instructions to be executed if an optional has a value.</p>
			<h1 id="_idParaDest-55"><a id="_idTextAnchor056"/>Introducing optionals and optional binding</h1>
			<p>Up until now, every <a id="_idIndexMarker119"/>time you <a id="_idIndexMarker120"/>declared a variable or constant, you assigned a value to it immediately. But what if you want to declare a variable first and assign a value later? In this case, you would use optionals.</p>
			<p class="callout-heading">Important information</p>
			<p class="callout">For more information on optionals, visit <a href="https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html">https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html</a>.</p>
			<p>Let's learn how to create and use optionals, and see how they are used in a program. Imagine you're writing a program where the user needs to enter the name of their spouse. Of course, if the user is not married, there would be no value for this. In this case, you can use an optional to represent the spouse's name. </p>
			<p>An optional may have one of two possible states. It can either contain a value, or not contain a value. If an optional contains a value, you can access the value inside it. The process of accessing an optional's value is known as unwrapping the optional. Let's see how this works. Follow these steps:</p>
			<ol>
				<li value="1">Add the following code to your playground to create a variable and print its contents: <pre>var spouseName: String 
print(spouseName)</pre></li>
				<li>Click the Play/Stop button to run it. Since Swift is type-safe, it will display <a id="_idIndexMarker121"/>an<a id="_idIndexMarker122"/> error, <strong class="bold">Variable 'spouseName' used before being initialized</strong>.</li>
				<li>To resolve this issue, you could assign an empty string to <code>spouseName</code>. Modify your code as shown:<pre>var spouseName: String <code>spouseName</code> should not have a value.</p></li>
				<li>Since <code>spouseName</code> should not have a value initially, let's make it an optional. To do so, type a question mark after the type annotation and remove the empty string assignment:<pre>var spouseName: String<code>spouseName</code> is now an optional string variable instead of a regular string variable, and the <code>print()</code> statement is expecting a regular string variable: </p><div><img src="img/Figure_3.1_B17469.jpg" alt="Figure 3.1: Warning notification&#13;&#10;"/></div><p class="figure-caption">Figure 3.1: Warning notification</p><p>Click the Play/Stop button. Even though there is a warning, the program will execute. Ignore the warning for now. The value of <code>spouseName</code> is shown as <code>"nil\n"</code> in the Results area, and <code>nil</code> is printed in the Debug area. <code>nil</code> is a special keyword that means the optional variable <code>spouseName</code> has no value.</p></li>
				<li>The <a id="_idIndexMarker123"/>warning<a id="_idIndexMarker124"/> appears because the <code>print</code> statement is treating <code>spouseName</code> as being of type <code>Any</code> instead of <code>String?</code>. Click the yellow triangle to display possible fixes, and choose the first fix:<div><img src="img/Figure_3.2_B17469.jpg" alt="Figure 3.2: Expanded warning notification with the first fix selected&#13;&#10;"/></div><p class="figure-caption">Figure 3.2: Expanded warning notification with the first fix selected</p><p>The statement will change to <code>print(spouseName ?? default value)</code>. Note the use of the <code>??</code> operator. This assigns <code>default value</code> to <code>spouseName</code> if it does not contain a value.</p></li>
				<li>Replace the <code>default value</code> placeholder with <code>"No value in spouseName"</code> as shown. The warning will disappear. Run your program again and <code>"No value in spouseName"</code> will appear in the Results area:<div><img src="img/Figure_3.3_B17469.jpg" alt="Figure 3.3: Results area showing default value&#13;&#10;"/></div><p class="figure-caption">Figure 3.3: Results area showing default value</p></li>
				<li>Let's assign a value to <code>spouseName</code>. Modify the code as shown:<pre>var spouseName: String?
<code>Nia</code> appears in the Debug area.</p></li>
				<li>Add one more line of code to join <code>spouseName</code> to another string as shown: <pre>print(spouseName ?? "No value in spouseName")
<code>String</code> variable to an optional using the <code>+</code> operator. To use the string inside the optional, you'll have to unwrap it first.</p></li>
				<li>Click on the red circle to display possible fixes, and you'll see the following:<p class="figure-caption"> </p><div><img src="img/Figure_3.4_B17469.jpg" alt="Figure 3.4: Expanded error notification&#13;&#10;"/></div><p class="figure-caption">Figure 3.4: Expanded error notification</p><p>The second fix recommends <code>spouseName</code> has a value, but if <code>spouseName</code> is <code>nil</code>, your program will crash.</p></li>
				<li>Click the second fix, and you'll see an exclamation mark appear after <code>spouseName</code> in the last line of code, which indicates the optional is force-unwrapped:<pre>let greeting = "Hello, " + spouseName<strong class="bold">!</strong></pre></li>
				<li>When your program runs, <code>Hello, Nia</code> is assigned to <code>greeting</code>, as shown in the Results area. This means that <code>spouseName</code> has been successfully unwrapped.</li>
				<li>To see the <a id="_idIndexMarker128"/>effect <a id="_idIndexMarker129"/>of force-unwrapping a variable containing <code>nil</code>, set <code>spouseName</code> to <code>nil</code>: <pre>spouseName = <code>spouseName</code> is now <code>nil</code>, the program crashed while attempting to force-unwrap <code>spouseName</code>.</p><p>A better way of handling this is to use optional binding. In optional binding, you attempt to assign the value in an optional to a temporary variable (you can name it whatever you like). If the assignment is successful, a block of code is executed.</p></li>
				<li>To see the effect of optional binding, modify your code as follows: <pre>spouseName = <code>Hello, Nia</code> will <a id="_idIndexMarker130"/>appear in the Debug area. Here's how it<a id="_idIndexMarker131"/> works. If <code>spouseName</code> has a value, it will be unwrapped and assigned to a temporary variable, <code>spouseTempVar</code>, and the <code>if</code> statement will return <code>true</code>. The statements between the curly braces will be executed and the constant <code>greeting</code> will then be assigned the value <code>Hello, Nia</code>. Then, <code>Hello, Nia</code> will be printed in the Debug area. Note that the temporary variable <code>spouseTempVar</code> is not an optional.</p><p>If <code>spouseName</code> does not have a value, no value can be assigned to <code>spouseTempVar</code> and the <code>if</code> statement will return <code>false</code>. In this case, the statements in the curly braces will not be executed at all.</p></li>
				<li>To see the effect of optional binding when an optional contains <code>nil</code>, assign <code>nil</code> once more to <code>spouseName</code>:<pre>spouseName = <code>spouseName</code> is <code>nil</code>.</p></li>
			</ol>
			<p>This concludes the section on optionals and optional binding, and you can now create and use<a id="_idIndexMarker132"/> optional <a id="_idIndexMarker133"/>variables. Awesome!</p>
			<h1 id="_idParaDest-56"><a id="_idTextAnchor057"/>Summary</h1>
			<p>You're doing great! You learned how to use <code>if</code> and <code>switch</code> statements, which means you are now able to write your own programs that do different things based on different conditions. </p>
			<p>You also learned about optionals and optional binding. This means you can now represent variables that may or may not have a value, and execute instructions only if a variable's value is present.</p>
			<p>In the next chapter, you will study how to use a range of values instead of single values, and how to repeat program statements using loops.</p>
		</div>
	</body></html>