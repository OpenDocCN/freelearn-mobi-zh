<html><head></head><body>
		<div id="_idContainer057">
			<h1 id="_idParaDest-50"><em class="italic"><a id="_idTextAnchor051"/>Chapter 3</em>: Conditionals and Optionals</h1>
			<p>In the last chapter, you looked at data types, constants, variables, and operations. At this point, you are able to write simple programs that process letters and numbers. However, programs don't always proceed in sequence. Oftentimes, you will need to execute different instructions based on a condition. Swift allows you to do this by using <strong class="bold">conditionals</strong>, and you will learn how to use them in this chapter.</p>
			<p>Another thing you may have noticed is that, in the last chapter, each variable or constant was immediately assigned a value. What if you require a variable where the value may not be present initially? You will need a way to create a variable that may or may not have a value. Swift allows you to do this by using <strong class="bold">optionals</strong>, and you will also learn about them in this chapter.</p>
			<p>By the end of this chapter, you should be able to write programs that do different things based on different conditions, and to handle variables that may or may not have a value.</p>
			<p>The following topics will be covered: </p>
			<ul>
				<li>Introducing conditionals</li>
				<li>Introducing optionals and optional binding<p class="callout-heading">Tip</p><p class="callout">Please spend some time understanding optionals. They can be daunting for the novice programmer.</p></li>
			</ul>
			<h1 id="_idParaDest-51"><a id="_idTextAnchor052"/>Technical requirements</h1>
			<p>The Xcode playground for this chapter is in the <strong class="source-inline">Chapter03</strong> folder of the code bundle for this book, which can be downloaded here:</p>
			<p><a href="https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition">https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition</a><a href="https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition "/></p>
			<p>Check out the following video to see the code in action:</p>
			<p><a href="https://bit.ly/3woRRKq">https://bit.ly/3woRRKq</a><a href="https://bit.ly/3woRRKq "/></p>
			<p>Create a new playground and name it <strong class="source-inline">ConditionalsAndOptionals</strong>. You can type in and run all the code in this chapter as you go along. You'll start by learning about conditionals.</p>
			<h1 id="_idParaDest-52"><a id="_idTextAnchor053"/>Introducing conditionals</h1>
			<p>At times, you'll <a id="_idIndexMarker104"/>want to execute different code blocks based on a specific condition, such as in the following scenarios:</p>
			<ul>
				<li>Choosing between different room types at a hotel. The price for bigger rooms would be higher.</li>
				<li>Switching between different payment methods at an online store. Different payment methods would have different procedures.</li>
				<li>Deciding what to order at a fast-food restaurant. Preparation procedures for each food item would be different.</li>
			</ul>
			<p>To do this, you would use conditionals. In Swift, this is implemented using the <strong class="source-inline">if</strong> statement (for a single condition) and the <strong class="source-inline">switch</strong> statement (for multiple conditions). </p>
			<p class="callout-heading">Important information</p>
			<p class="callout">For more information on conditionals, visit <a href="https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html">https://docs.swift.org/swift-book/LanguageGuide/ControlFlow.html</a>.</p>
			<p>Let's see how <strong class="source-inline">if</strong> statements are used to execute different tasks depending on a condition's value in the next section. </p>
			<h2 id="_idParaDest-53"><a id="_idTextAnchor054"/>Using if statements</h2>
			<p>An <strong class="source-inline">if</strong> statement <a id="_idIndexMarker105"/>executes a block of code if a condition is <strong class="source-inline">true</strong>, and <a id="_idIndexMarker106"/>optionally another block of code if the condition is <strong class="source-inline">false</strong>. An <strong class="source-inline">if</strong> statement looks like this: </p>
			<p class="source-code">if condition {</p>
			<p class="source-code">   code1</p>
			<p class="source-code">} else {</p>
			<p class="source-code">   code2</p>
			<p class="source-code">}</p>
			<p>Let's implement an <strong class="source-inline">if</strong> statement now to see this in action. Imagine that you're programming an app for a restaurant. The app would allow you to check if a restaurant is open, search for a restaurant, and check to see if a customer is over the drinking age limit.</p>
			<p>Follow these steps:</p>
			<ol>
				<li>To check if a restaurant is open, add the following code to your playground to create a <a id="_idIndexMarker107"/>constant and execute a statement if the <a id="_idIndexMarker108"/>constant's value is <strong class="source-inline">true</strong>. Click the <strong class="bold">Play/Stop</strong> button to run it:<p class="source-code">let isRestaurantOpen = true </p><p class="source-code">if isRestaurantOpen {</p><p class="source-code">   print("Restaurant is open.")</p><p class="source-code">}</p><p>First, you created a constant, <strong class="source-inline">isRestaurantOpen</strong>, and assigned <strong class="source-inline">true</strong> to it. Next, you have an <strong class="source-inline">if</strong> statement that checks the value stored in <strong class="source-inline">isRestaurantOpen</strong>. Since the value is <strong class="source-inline">true</strong>, the <strong class="source-inline">print()</strong> statement is executed and <strong class="source-inline">Restaurant is open</strong> is printed in the Debug area.</p></li>
				<li>Try changing the value of <strong class="source-inline">isRestaurantOpen</strong> to <strong class="source-inline">false</strong> and run your code again. As the condition is now <strong class="source-inline">false</strong>, nothing will be printed to the Debug area.</li>
				<li>You can also execute statements if a value is <strong class="source-inline">false</strong>. Let's say the customer has searched for a particular restaurant which is not in the app's database, so the app should display a message to say that the restaurant is not found. Type in the following code to create a constant and execute a statement if the constant's value is <strong class="source-inline">false</strong>:<p class="source-code">let isRestaurantFound = false </p><p class="source-code">if isRestaurantFound == false {</p><p class="source-code">   print("Restaurant was not found")</p><p class="source-code">}</p><p>The constant <strong class="source-inline">isRestaurantFound</strong> is set to <strong class="source-inline">false</strong>. Next, the <strong class="source-inline">if</strong> statement is checked. The <strong class="source-inline">isRestaurantFound == false</strong> condition returns <strong class="source-inline">true</strong>, and <strong class="source-inline">Restaurant was not found</strong> is printed in the Debug area.</p></li>
				<li>Try changing the value of <strong class="source-inline">isRestaurantFound</strong> to <strong class="source-inline">true</strong>. As the condition is now <strong class="source-inline">false</strong>, nothing will be printed to the Debug area.</li>
				<li>To execute one set of statements if a condition is <strong class="source-inline">true</strong>, and another set of statements if a condition is <strong class="source-inline">false</strong>, use the <strong class="source-inline">else</strong> keyword. Type in the following <a id="_idIndexMarker109"/>code, which checks if a customer at a bar is <a id="_idIndexMarker110"/>over the drinking age limit:<p class="source-code">let drinkingAgeLimit = 21 </p><p class="source-code">let customerAge = 23</p><p class="source-code">if customerAge &lt; drinkingAgeLimit {</p><p class="source-code">   print("Under age limit")</p><p class="source-code">} else {</p><p class="source-code">   print("Over age limit")</p><p class="source-code">}</p><p>Here, <strong class="source-inline">drinkingAgeLimit</strong> is assigned the value <strong class="source-inline">21</strong> and <strong class="source-inline">customerAge</strong> is assigned the value <strong class="source-inline">23</strong>. In the <strong class="source-inline">if</strong> statement, <strong class="source-inline">customerAge &lt; drinkingAgeLimit</strong> is checked. Since 23 &lt; 21 returns <strong class="source-inline">false</strong>, the <strong class="source-inline">else </strong>statement is executed and <strong class="source-inline">Over age limit</strong> is printed in the Debug area. If you change the value of <strong class="source-inline">customerAge</strong> to <strong class="source-inline">19</strong>, <strong class="source-inline">customerAge &lt; drinkingAgeLimit</strong> will return <strong class="source-inline">true</strong>, so <strong class="source-inline">Under age limit</strong> will be printed in the Debug area.</p></li>
			</ol>
			<p>Up to now, you have only been dealing with single conditions. What if there are multiple conditions? That's <a id="_idIndexMarker111"/>where <strong class="source-inline">switch</strong> statements come in, and you will <a id="_idIndexMarker112"/>learn about them in the next section.</p>
			<h2 id="_idParaDest-54"><a id="_idTextAnchor055"/>Using switch statements</h2>
			<p>To <a id="_idIndexMarker113"/>understand <strong class="source-inline">switch</strong> statements, let's start by implementing<a id="_idIndexMarker114"/> an <strong class="source-inline">if</strong> statement with multiple conditions first. Imagine that you're programming a traffic light. There are three possible conditions for the traffic light—red, yellow, or green—and you want something different to happen based on the color of the light. To do this, you can chain multiple <strong class="source-inline">if</strong> statements together. Follow these steps:</p>
			<ol>
				<li value="1">Add the following code to your playground to implement a traffic light using multiple <strong class="source-inline">if</strong> statements and click the <strong class="bold">Play/Stop</strong> button to run it:<p class="source-code">var trafficLightColor = "Yellow"</p><p class="source-code">if trafficLightColor == "Red" {</p><p class="source-code">   print("Stop")</p><p class="source-code">} else if trafficLightColor == "Yellow" {</p><p class="source-code">   print("Caution")</p><p class="source-code">} else if trafficLightColor == "Green" {</p><p class="source-code">   print("Go")</p><p class="source-code">} else {</p><p class="source-code">   print("Invalid color")</p><p class="source-code">}</p><p>The first <strong class="source-inline">if</strong> condition, <strong class="source-inline">trafficLightColor == "Red"</strong>, returns <strong class="source-inline">false</strong>, so the <strong class="source-inline">else</strong> statement is executed. The second <strong class="source-inline">if</strong> condition, <strong class="source-inline">trafficLightColor == "Yellow"</strong>, returns <strong class="source-inline">true</strong>, so <strong class="source-inline">Caution</strong> is printed in the Debug area and no more <strong class="source-inline">if</strong> conditions are evaluated. Try changing the value of <strong class="source-inline">trafficLightColor</strong> to see different results.</p><p>The code used here works, but it's a little hard to read. In this case, a <strong class="source-inline">switch</strong> statement would be more concise and easier to comprehend. A <strong class="source-inline">switch</strong> statement looks like this:</p><p class="source-code">switch value {</p><p class="source-code">case firstValue:</p><p class="source-code">   code1</p><p class="source-code">case secondValue:</p><p class="source-code">   code2</p><p class="source-code">default: </p><p class="source-code">   code3</p><p class="source-code">}</p><p>The value<a id="_idIndexMarker115"/> is checked and matched to a case, and<a id="_idIndexMarker116"/> code for that case is executed. If none of the cases match, the code in the <strong class="source-inline">default</strong> case is executed.</p></li>
				<li>Here's how to write the <strong class="source-inline">if</strong> statement shown earlier as a <strong class="source-inline">switch</strong> statement. Type in the following code:<p class="source-code">trafficLightColor = "Yellow"</p><p class="source-code">switch trafficLightColor {</p><p class="source-code">case "Red":</p><p class="source-code">   print("Stop")</p><p class="source-code">case "Yellow":</p><p class="source-code">   print("Caution")</p><p class="source-code">case "Green":</p><p class="source-code">   print("Go")</p><p class="source-code">default:</p><p class="source-code">   print("Invalid color")</p><p class="source-code">}</p></li>
			</ol>
			<p>The code here is much easier to read and understand when compared to the previous version. The value in <strong class="source-inline">trafficLightColor</strong> is <strong class="source-inline">"Yellow"</strong>, so <strong class="source-inline">case "Yellow":</strong> is matched and <strong class="source-inline">Caution</strong> is printed in the Debug area. Try changing the value of <strong class="source-inline">trafficLightColor</strong> to see different results.</p>
			<p>There are two things to remember about <strong class="source-inline">switch</strong> statements:</p>
			<ul>
				<li><strong class="source-inline">switch</strong> statements in Swift do not fall through the bottom of each case and into the next one by default. In the example shown previously, once <strong class="source-inline">case "Red":</strong> is matched, <strong class="source-inline">case "Yellow":</strong>, <strong class="source-inline">case "Green":</strong> , and<strong class="source-inline"> default:</strong> will not execute.</li>
				<li><strong class="source-inline">switch</strong> statements must cover all possible cases. In the example shown previously, any <strong class="source-inline">trafficLightColor</strong> value other than <strong class="source-inline">"Red"</strong>, <strong class="source-inline">"Yellow"</strong>, or <strong class="source-inline">"Green"</strong> will be matched to <strong class="source-inline">default:</strong> and <strong class="source-inline">Invalid color</strong> will be printed in the Debug area.</li>
			</ul>
			<p>This concludes the section on <strong class="source-inline">if</strong> and <strong class="source-inline">switch</strong> statements. </p>
			<p>In the next <a id="_idIndexMarker117"/>section, you'll learn about optionals, which allow<a id="_idIndexMarker118"/> you to create variables without initial values, and <strong class="bold">optional binding</strong>, which allows instructions to be executed if an optional has a value.</p>
			<h1 id="_idParaDest-55"><a id="_idTextAnchor056"/>Introducing optionals and optional binding</h1>
			<p>Up until now, every <a id="_idIndexMarker119"/>time you <a id="_idIndexMarker120"/>declared a variable or constant, you assigned a value to it immediately. But what if you want to declare a variable first and assign a value later? In this case, you would use optionals.</p>
			<p class="callout-heading">Important information</p>
			<p class="callout">For more information on optionals, visit <a href="https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html">https://docs.swift.org/swift-book/LanguageGuide/TheBasics.html</a>.</p>
			<p>Let's learn how to create and use optionals, and see how they are used in a program. Imagine you're writing a program where the user needs to enter the name of their spouse. Of course, if the user is not married, there would be no value for this. In this case, you can use an optional to represent the spouse's name. </p>
			<p>An optional may have one of two possible states. It can either contain a value, or not contain a value. If an optional contains a value, you can access the value inside it. The process of accessing an optional's value is known as unwrapping the optional. Let's see how this works. Follow these steps:</p>
			<ol>
				<li value="1">Add the following code to your playground to create a variable and print its contents: <p class="source-code">var spouseName: String </p><p class="source-code">print(spouseName)</p></li>
				<li>Click the Play/Stop button to run it. Since Swift is type-safe, it will display <a id="_idIndexMarker121"/>an<a id="_idIndexMarker122"/> error, <strong class="bold">Variable 'spouseName' used before being initialized</strong>.</li>
				<li>To resolve this issue, you could assign an empty string to <strong class="source-inline">spouseName</strong>. Modify your code as shown:<p class="source-code">var spouseName: String <strong class="bold">= ""</strong> </p><p>This makes the error go away, but an empty string is still a value, and <strong class="source-inline">spouseName</strong> should not have a value.</p></li>
				<li>Since <strong class="source-inline">spouseName</strong> should not have a value initially, let's make it an optional. To do so, type a question mark after the type annotation and remove the empty string assignment:<p class="source-code">var spouseName: String<strong class="bold">?</strong></p><p>You'll see a warning because <strong class="source-inline">spouseName</strong> is now an optional string variable instead of a regular string variable, and the <strong class="source-inline">print()</strong> statement is expecting a regular string variable: </p><div id="_idContainer052" class="IMG---Figure"><img src="image/Figure_3.1_B17469.jpg" alt="Figure 3.1: Warning notification&#13;&#10;"/></div><p class="figure-caption">Figure 3.1: Warning notification</p><p>Click the Play/Stop button. Even though there is a warning, the program will execute. Ignore the warning for now. The value of <strong class="source-inline">spouseName</strong> is shown as <strong class="source-inline">"nil\n"</strong> in the Results area, and <strong class="source-inline">nil</strong> is printed in the Debug area. <strong class="source-inline">nil</strong> is a special keyword that means the optional variable <strong class="source-inline">spouseName</strong> has no value.</p></li>
				<li>The <a id="_idIndexMarker123"/>warning<a id="_idIndexMarker124"/> appears because the <strong class="source-inline">print</strong> statement is treating <strong class="source-inline">spouseName</strong> as being of type <strong class="source-inline">Any</strong> instead of <strong class="source-inline">String?</strong>. Click the yellow triangle to display possible fixes, and choose the first fix:<div id="_idContainer053" class="IMG---Figure"><img src="image/Figure_3.2_B17469.jpg" alt="Figure 3.2: Expanded warning notification with the first fix selected&#13;&#10;"/></div><p class="figure-caption">Figure 3.2: Expanded warning notification with the first fix selected</p><p>The statement will change to <strong class="source-inline">print(spouseName ?? default value)</strong>. Note the use of the <strong class="source-inline">??</strong> operator. This assigns <strong class="source-inline">default value</strong> to <strong class="source-inline">spouseName</strong> if it does not contain a value.</p></li>
				<li>Replace the <strong class="source-inline">default value</strong> placeholder with <strong class="source-inline">"No value in spouseName"</strong> as shown. The warning will disappear. Run your program again and <strong class="source-inline">"No value in spouseName"</strong> will appear in the Results area:<div id="_idContainer054" class="IMG---Figure"><img src="image/Figure_3.3_B17469.jpg" alt="Figure 3.3: Results area showing default value&#13;&#10;"/></div><p class="figure-caption">Figure 3.3: Results area showing default value</p></li>
				<li>Let's assign a value to <strong class="source-inline">spouseName</strong>. Modify the code as shown:<p class="source-code">var spouseName: String?</p><p class="source-code"><strong class="bold">spouseName = "Nia"</strong> </p><p class="source-code">print(spouseName ?? "No value in spouseName")</p><p>When<a id="_idIndexMarker125"/> your <a id="_idIndexMarker126"/>program runs, <strong class="source-inline">Nia</strong> appears in the Debug area.</p></li>
				<li>Add one more line of code to join <strong class="source-inline">spouseName</strong> to another string as shown: <p class="source-code">print(spouseName ?? "No value in spouseName")</p><p class="source-code"><strong class="bold">let greeting = "Hello, " +  spouseName</strong></p><p>You'll get an error, and the Debug area displays the error information and where the error occurred. This happened because you can't join a regular <strong class="source-inline">String</strong> variable to an optional using the <strong class="source-inline">+</strong> operator. To use the string inside the optional, you'll have to unwrap it first.</p></li>
				<li>Click on the red circle to display possible fixes, and you'll see the following:<p class="figure-caption"> </p><div id="_idContainer055" class="IMG---Figure"><img src="image/Figure_3.4_B17469.jpg" alt="Figure 3.4: Expanded error notification&#13;&#10;"/></div><p class="figure-caption">Figure 3.4: Expanded error notification</p><p>The second fix recommends <strong class="bold">force-unwrapping</strong> to resolve this issue. Force-unwrapping unwraps an<a id="_idIndexMarker127"/> optional whether it contains a value or not. It works fine if <strong class="source-inline">spouseName</strong> has a value, but if <strong class="source-inline">spouseName</strong> is <strong class="source-inline">nil</strong>, your program will crash.</p></li>
				<li>Click the second fix, and you'll see an exclamation mark appear after <strong class="source-inline">spouseName</strong> in the last line of code, which indicates the optional is force-unwrapped:<p class="source-code">let greeting = "Hello, " + spouseName<strong class="bold">!</strong></p></li>
				<li>When your program runs, <strong class="source-inline">Hello, Nia</strong> is assigned to <strong class="source-inline">greeting</strong>, as shown in the Results area. This means that <strong class="source-inline">spouseName</strong> has been successfully unwrapped.</li>
				<li>To see the <a id="_idIndexMarker128"/>effect <a id="_idIndexMarker129"/>of force-unwrapping a variable containing <strong class="source-inline">nil</strong>, set <strong class="source-inline">spouseName</strong> to <strong class="source-inline">nil</strong>: <p class="source-code">spouseName = <strong class="bold">nil</strong> </p><p>Your program crashes, and you can see what caused the crash in the Debug area:</p><div id="_idContainer056" class="IMG---Figure"><img src="image/Figure_3.5_B17469.jpg" alt="Figure 3.5: Crashed program with details in Debug area&#13;&#10;"/></div><p class="figure-caption">Figure 3.5: Crashed program with details in Debug area</p><p>Since <strong class="source-inline">spouseName</strong> is now <strong class="source-inline">nil</strong>, the program crashed while attempting to force-unwrap <strong class="source-inline">spouseName</strong>.</p><p>A better way of handling this is to use optional binding. In optional binding, you attempt to assign the value in an optional to a temporary variable (you can name it whatever you like). If the assignment is successful, a block of code is executed.</p></li>
				<li>To see the effect of optional binding, modify your code as follows: <p class="source-code">spouseName = <strong class="bold">"Nia"</strong></p><p class="source-code">print(spouseName ?? "No value in spouseName")</p><p class="source-code"><strong class="bold">if let spouseTempVar = spouseName {</strong></p><p class="source-code"><strong class="bold">   let greeting = "Hello, " + spouseTempVar </strong></p><p class="source-code"><strong class="bold">   print(greeting)</strong></p><p class="source-code"><strong class="bold">}</strong></p><p><strong class="source-inline">Hello, Nia</strong> will <a id="_idIndexMarker130"/>appear in the Debug area. Here's how it<a id="_idIndexMarker131"/> works. If <strong class="source-inline">spouseName</strong> has a value, it will be unwrapped and assigned to a temporary variable, <strong class="source-inline">spouseTempVar</strong>, and the <strong class="source-inline">if</strong> statement will return <strong class="source-inline">true</strong>. The statements between the curly braces will be executed and the constant <strong class="source-inline">greeting</strong> will then be assigned the value <strong class="source-inline">Hello, Nia</strong>. Then, <strong class="source-inline">Hello, Nia</strong> will be printed in the Debug area. Note that the temporary variable <strong class="source-inline">spouseTempVar</strong> is not an optional.</p><p>If <strong class="source-inline">spouseName</strong> does not have a value, no value can be assigned to <strong class="source-inline">spouseTempVar</strong> and the <strong class="source-inline">if</strong> statement will return <strong class="source-inline">false</strong>. In this case, the statements in the curly braces will not be executed at all.</p></li>
				<li>To see the effect of optional binding when an optional contains <strong class="source-inline">nil</strong>, assign <strong class="source-inline">nil</strong> once more to <strong class="source-inline">spouseName</strong>:<p class="source-code">spouseName = <strong class="bold">nil</strong> </p><p>You'll notice that nothing appears in the Debug area, and your program no longer crashes even though <strong class="source-inline">spouseName</strong> is <strong class="source-inline">nil</strong>.</p></li>
			</ol>
			<p>This concludes the section on optionals and optional binding, and you can now create and use<a id="_idIndexMarker132"/> optional <a id="_idIndexMarker133"/>variables. Awesome!</p>
			<h1 id="_idParaDest-56"><a id="_idTextAnchor057"/>Summary</h1>
			<p>You're doing great! You learned how to use <strong class="source-inline">if</strong> and <strong class="source-inline">switch</strong> statements, which means you are now able to write your own programs that do different things based on different conditions. </p>
			<p>You also learned about optionals and optional binding. This means you can now represent variables that may or may not have a value, and execute instructions only if a variable's value is present.</p>
			<p>In the next chapter, you will study how to use a range of values instead of single values, and how to repeat program statements using loops.</p>
		</div>
	</body></html>