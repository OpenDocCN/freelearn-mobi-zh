<html><head></head><body><div class="chapter" title="Chapter&#xA0;5.&#xA0;Action Sequences for Urban Warrior"><div class="titlepage"><div><div><h1 class="title"><a id="ch05"/>Chapter 5. Action Sequences for Urban Warrior</h1></div></div></div><div class="blockquote"><blockquote class="blockquote"><p>In the previous chapter, we built up a basic understanding of the lovely tools of Kismet and Matinee and how they can work together in some simple examples. But now that we know the basics can't we do more? Oh yes, we certainly can.</p><p>In this chapter we are going to create a series of sequences and prefabs to set the groundwork, allowing us to easily create our level in the next chapter.</p></blockquote></div><p>In this chapter we shall:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Discuss what sequences are and how we use them</li><li class="listitem" style="list-style-type: disc">Spawn an enemy into our level</li><li class="listitem" style="list-style-type: disc">Develop a rudimentary AI system that will shoot at us if we are close</li><li class="listitem" style="list-style-type: disc">Expand upon that system by adding chasing and retreating behavior</li><li class="listitem" style="list-style-type: disc">Import/export subsequences to create additional enemies easily</li><li class="listitem" style="list-style-type: disc">Implement regenerating health using remote events</li><li class="listitem" style="list-style-type: disc">Discuss prefabs and their use in our project</li><li class="listitem" style="list-style-type: disc">Make a door prefab</li><li class="listitem" style="list-style-type: disc">Discuss workflow and things to consider when creating combat scenarios</li></ul></div><p>So with that, let's take a look at what we can do with sequences.</p><div class="section" title="Sequences and you"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec01"/>Sequences and you</h1></div></div></div><p>Sequences are UDK's ways of helping you organize your code as well as compartmentalize all of the actions that you want to have happen in a certain area. Events and their associated actions, that you will be re-using, are also prime candidates for being placed inside sequences.<a class="indexterm" id="id296"/>
</p><p>Anyone who works with Kismet has worked with sequences before. You have already been using sequences without even knowing it. UDK provides us with a<span class="strong"><strong> LevelName</strong></span> sequence within the Kismet editor that we have used in the previous chapter.</p><div class="section" title="Life, or something like it"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec01"/>Life, or something like it</h2></div></div></div><p>Now that we have an idea of what sequences are, let's create one of our own! It will enable us to bring the characters to life, such as enemies, explained in this section.</p></div></div></div>
<div class="section" title="Time for action&#x2014;spawning AI into our level"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec02"/>Time for action—spawning AI into our level</h1></div></div></div><p>As we are creating the building blocks of our game, creating a third person shooter is kind of hard to do without having enemies to fight. Thankfully UDK has helped us out and made it incredibly easy to add enemies into our level!<a class="indexterm" id="id297"/>
</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go into to the<span class="strong"><strong> Actor Classes</strong></span> browser<span class="strong"><strong> View</strong></span> |<span class="strong"><strong> Browser Windows</strong></span> |<span class="strong"><strong> Actor Classes</strong></span>. From there you will see a list of classes that we can place within our level. Type<code class="literal"> Path</code> in the<span class="strong"><strong> Search</strong></span> bar and left-click on the<span class="strong"><strong> PathNode</strong></span> selection. The following screenshot explains this:<div class="mediaobject"><img alt="Time for action—spawning AI into our level" height="96" src="graphics/image_1901_05_01.jpg"/></div></li><li class="listitem">Close the<span class="strong"><strong> Actor Classes</strong></span> browser and right-click anywhere in your level. From the menu that pops up select<span class="strong"><strong> Add PathNode Here</strong></span>. This will create an actor on the ground on the spot where you clicked. I have placed my<span class="strong"><strong> PathNode</strong></span> away from the player but still visible from the camera for our opening sequence.</li><li class="listitem">Open the Kismet editor by clicking on the<span class="strong"><strong> K</strong></span> icon at the top of the UDK interface on the main toolbar.</li><li class="listitem">Left click-and-drag the background of the workspace to move the graph plane, bringing some open space for us to work with.</li><li class="listitem">Right-click somewhere in the background and select<span class="strong"><strong> Create New Sequence: 0 Objs</strong></span>. A pop-up window should come up asking you for the name of the sequence. Type<code class="literal"> EnemyAI</code> and press<span class="emphasis"><em> Enter</em></span>. A little box with the name should be created at the position where you right-clicked.</li><li class="listitem">Double-click on the<span class="strong"><strong> EnemyAI</strong></span> sequence. You will notice that we have now moved into this sequence and there is nothing there, and that our Sequences pane on the bottom at right-hand side has the<span class="strong"><strong> EnemyAI</strong></span> sequence highlighted. This is shown in the following screenshot:<a class="indexterm" id="id298"/><div class="mediaobject"><img alt="Time for action—spawning AI into our level" src="graphics/image_1901_05_02.jpg" width="230"/></div></li><li class="listitem">Right-click and create a<span class="strong"><strong> Sequence Activated</strong></span> event by choosing<span class="strong"><strong> New Event</strong></span> |<span class="strong"><strong> Sequence Activated</strong></span> from the menu.</li><li class="listitem">Create an<span class="strong"><strong> Actor Factory</strong></span> action by right-clicking and choosing<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Actor</strong></span> |<span class="strong"><strong> Actor Factory</strong></span> from the menu. Go into the Properties pane and click on the blue triangle on the right-hand side of the<span class="strong"><strong> Factory</strong></span> variable and select<span class="strong"><strong> UTActorFactoryAI</strong></span> from the pop-up menu that comes out to create a new<span class="strong"><strong> Actor Factory</strong></span> to use. Inside our new factory's properties set the<span class="strong"><strong> Pawn Class</strong></span> to<span class="strong"><strong> UTPawn</strong></span> and check the<span class="strong"><strong> Give Default Inventory</strong></span> option. Finally, change the<span class="strong"><strong> Team Index</strong></span> to <span class="strong"><strong>1</strong></span>.</li><li class="listitem">Underneath the<span class="strong"><strong> Spawn Point</strong></span> variable create an external object variable by right-clicking and selecting<span class="strong"><strong> New Variable</strong></span> |<span class="strong"><strong> External Variable</strong></span> from the menu. Left-click on the variable and in its properties set<span class="strong"><strong> Expected Type</strong></span> to<span class="strong"><strong> SeqVar_Object</strong></span> and<span class="strong"><strong> Variable Label</strong></span> to<span class="strong"><strong> Spawn Point</strong></span>.</li><li class="listitem">Create a<span class="strong"><strong> Finish Sequence</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Misc</strong></span> |<span class="strong"><strong> Finish Sequence</strong></span>. Under the<span class="strong"><strong> Output Label</strong></span> property type<code class="literal"> Spawned</code>.</li><li class="listitem">Connect the<span class="strong"><strong> Out</strong></span> of the<span class="strong"><strong> Sequence Activated "In"</strong></span> event to the<span class="strong"><strong> Spawn Actor</strong></span> input of the Actor Factory action. Connect the<span class="strong"><strong> Spawn Point</strong></span> link to the<span class="strong"><strong> External Object</strong></span> variable we created. Finally, connect the<span class="strong"><strong> Finished</strong></span> output of the<span class="strong"><strong> Actor Factory</strong></span> to the<span class="strong"><strong> Finish Sequence "Spawned"</strong></span> action. At this point our sequence should look as shown in the following screenshot:<a class="indexterm" id="id299"/><div class="mediaobject"><img alt="Time for action—spawning AI into our level" height="149" src="graphics/image_1901_05_03.jpg"/></div></li><li class="listitem">On the bottom right-hand side of our Kismet editor click on the<span class="strong"><strong> LevelName</strong></span> sequence to return to the main level sequence. We should now see the sequence look similar to a Kismet node with inputs, outputs, and variable chains, as shown in the following screenshot:<div class="mediaobject"><img alt="Time for action—spawning AI into our level" src="graphics/image_1901_05_04.jpg" width="84"/></div></li><li class="listitem">Right-click and create a<span class="strong"><strong> Level Loaded</strong></span> event by choosing<span class="strong"><strong> New Event</strong></span> |<span class="strong"><strong> Level Loaded</strong></span> from the menu.</li><li class="listitem">Go into our level and left-click on the PathNode that you created earlier and go back into Kismet. Right-click on our Spawn Point link and select<span class="strong"><strong> Create New Variable from PathNode_0</strong></span>. This is shown in the following screenshot:<a class="indexterm" id="id300"/><div class="mediaobject"><img alt="Time for action—spawning AI into our level" src="graphics/image_1901_05_05.jpg" width="161"/></div></li><li class="listitem">Build our game by selecting<span class="strong"><strong> Build</strong></span> |<span class="strong"><strong> Build All</strong></span> and pressing Close when finished.</li><li class="listitem">Save your project. Now start your game by clicking on the<span class="strong"><strong> Start Mobile Previewer</strong></span> button on the main toolbar as shown in following screenshot:<div class="mediaobject"><img alt="Time for action—spawning AI into our level" src="graphics/image_1901_05_06.jpg" width="258"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec02"/>What just happened?</h2></div></div></div><p>Upon the level being loaded (via the<span class="strong"><strong> Level Loaded</strong></span> event) we call our<span class="strong"><strong> EnemyAI</strong></span> sequence which spawns an enemy (via an<span class="strong"><strong> Actor Factory</strong></span>) and places him in the level where our<span class="strong"><strong> PathNode</strong></span> is. Putting these events and actions into a sequence will enable us to put code relevant to our AI in one place making it as simple as possible to create new AIs in our future levels.<a class="indexterm" id="id301"/>
</p></div><div class="section" title="It lives! but..."><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec03"/>It lives! but...</h2></div></div></div><p>As you can now tell, our actor is in the level, but it isn't really doing anything. That is because it lacks<span class="strong"><strong> artificial intelligence</strong></span> (<span class="strong"><strong>AI</strong></span>). Surely we could force the actor to use the<span class="strong"><strong> Deathmatch</strong></span> AI that is included in UDK, but if we had more than one AI they would fight each other. One thing that experienced UDK developers may come to realize is that you lose a lot of functionality when making a game for iOS. For example, if we were creating the game on PC I could just use the<code class="literal"> UTTeamGame</code> type which would take care of not attacking actors other than the player, but that functionality is broken if you were to use the iOS build. Fear not dear reader; I do have a solution and you'll learn about sequences and some advanced Kismet in the process!<a class="indexterm" id="id302"/>
</p></div></div>
<div class="section" title="Time for action&#x2014;base enemy AI"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec03"/>Time for action—base enemy AI</h1></div></div></div><p>Now we will be creating a rudimentary AI using Kismet and using our sequence we will be able to attach this behavior to every AI that we use.<a class="indexterm" id="id303"/>
</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the Kismet editor by clicking on the<span class="strong"><strong> K</strong></span> icon at the top of the UDK interface on the main toolbar.</li><li class="listitem">Enter the<span class="strong"><strong> EnemyAI</strong></span> sequence by either double-clicking on the sequence in the<span class="strong"><strong> Graph</strong></span> pane or clicking on the<span class="strong"><strong> EnemyAI</strong></span> text in the<span class="strong"><strong> Sequences</strong></span> pane.</li><li class="listitem">Underneath the<span class="strong"><strong> Spawned</strong></span> variable inside the<span class="strong"><strong> Actor Factory</strong></span> create an external object variable by right-clicking and selecting<span class="strong"><strong> New Variable</strong></span> |<span class="strong"><strong> External Variable</strong></span> from the menu. Left-click on the variable and inside of its properties set<span class="strong"><strong> Expected Type</strong></span> to<span class="strong"><strong> SeqVar_Object</strong></span> and<span class="strong"><strong> Variable Label</strong></span> to<span class="strong"><strong> Spawned</strong></span>.</li><li class="listitem">Create an<span class="strong"><strong> Is Alive</strong></span> conditional by right-clicking and selecting<span class="strong"><strong> New Condition</strong></span> |<span class="strong"><strong> Is Alive?</strong></span> Connect the<span class="strong"><strong> Spawned</strong></span> variable link to the<span class="strong"><strong> Players</strong></span> link underneath the conditional.</li><li class="listitem">Create a<span class="strong"><strong> Finish Sequence</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Misc</strong></span> |<span class="strong"><strong> Finish Sequence</strong></span>. Under the<span class="strong"><strong> Output Label</strong></span> property type<code class="literal"> Dead</code>. Connect the<span class="strong"><strong> False</strong></span> output of the<span class="strong"><strong> Is Alive</strong></span> conditional to the<span class="strong"><strong> In</strong></span> of the<span class="strong"><strong> Finish</strong></span> sequence.</li><li class="listitem">Create a<span class="strong"><strong> Trace</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Misc</strong></span> |<span class="strong"><strong> Trace</strong></span>. Connect the<span class="strong"><strong> True</strong></span> output of the<span class="strong"><strong> Is Alive</strong></span> conditional to the In of the<span class="strong"><strong> Trace</strong></span>. Connect the<span class="strong"><strong> Start</strong></span> variable link on the bottom of the trace equal to the<span class="strong"><strong> Spawned</strong></span> variable used previously. Set the<span class="strong"><strong> End</strong></span> variable link to a<span class="strong"><strong> Player 0</strong></span> variable (<span class="strong"><strong>New Variable</strong></span> |<span class="strong"><strong> Player</strong></span> |<span class="strong"><strong> Player</strong></span> with<span class="strong"><strong> All Players</strong></span> unchecked). Right-click under the<span class="strong"><strong> Distance</strong></span> variable link and create a new Float variable. This is shown in the following screenshot:<div class="mediaobject"><img alt="Time for action—base enemy AI" height="197" src="graphics/image_1901_05_07.jpg"/></div></li><li class="listitem">Create a<span class="strong"><strong> Compare Float</strong></span> conditional by right-clicking and selecting<span class="strong"><strong> New Condition</strong></span> |<span class="strong"><strong> Comparison</strong></span> |<span class="strong"><strong> Compare Float</strong></span>. Underneath the<span class="strong"><strong> A</strong></span> variable link connect the variable under Distance in our trace. Underneath<span class="strong"><strong> B</strong></span> create a new Float variable and enter a value of<code class="literal"> 600.</code><a class="indexterm" id="id304"/></li><li class="listitem">Create a<span class="strong"><strong> Start Firing At</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> AI</strong></span> |<span class="strong"><strong> Start Firing At</strong></span>. Set the<span class="strong"><strong> Target</strong></span> variable to the Spawned object variable and the<span class="strong"><strong> Fire At</strong></span> link to a<span class="strong"><strong> Player 0</strong></span> object. Connect the<span class="strong"><strong> A &lt; B</strong></span> of the<span class="strong"><strong> Compare Float</strong></span> conditional to the<span class="strong"><strong> In</strong></span> of the<span class="strong"><strong> Start Firing At</strong></span> action.</li><li class="listitem">Create a<span class="strong"><strong> Stop Firing</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> AI</strong></span> |<span class="strong"><strong> Stop Firing</strong></span>. Set the<span class="strong"><strong> Target</strong></span> variable to the Spawned object variable. Connect the<span class="strong"><strong> A &gt;= B</strong></span> of the<span class="strong"><strong> Compare Float</strong></span> conditional to the In of the<span class="strong"><strong> Start Firing At</strong></span> action. We will see the output as shown in the following screenshot:<div class="mediaobject"><img alt="Time for action—base enemy AI" height="226" src="graphics/image_1901_05_08.jpg"/></div><p>Now, if our enemy is alive, we will perform a trace on the screen which will create a line between the actor and the player and will see whether there is anything between them that would break <span class="strong"><strong>line-of-sight</strong></span> (<span class="strong"><strong>LOS</strong></span>). If the AI can see the player and he's within a certain distance of the player, he will start fi ring at him. If something is in the way he will stop. Of course, right now this is only called once. So aft er it happens once it won't be called again. What if the player runs away from the fight? We want to have the enemy chase aft er the player.</p></li><li class="listitem">Create a<span class="strong"><strong> Compare Bool</strong></span> conditional by right-clicking and selecting<span class="strong"><strong> New Condition</strong></span> |<span class="strong"><strong> Comparison</strong></span> |<span class="strong"><strong> Compare Bool</strong></span>. Underneath the Bool variable link create a<span class="strong"><strong> Bool</strong></span> variable with a<span class="strong"><strong> False</strong></span> value.</li><li class="listitem">Create a<span class="strong"><strong> Move To Actor</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> AI</strong></span> |<span class="strong"><strong> Move To Actor</strong></span>. Underneath the<span class="strong"><strong> Target</strong></span> variable link connect the Spawned object. Under<span class="strong"><strong> Destination</strong></span> create a Player variable and connect it. Connect the<span class="strong"><strong> True</strong></span> output from the<span class="strong"><strong> Compare Bool</strong></span> conditional to the In input on the<span class="strong"><strong> Move To Actor</strong></span> action.</li><li class="listitem">Create a<span class="strong"><strong> Toggle</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Toggle</strong></span> |<span class="strong"><strong> Toggle</strong></span>. Underneath the<span class="strong"><strong> Bool</strong></span> variable link connect the<span class="strong"><strong> Bool</strong></span> variable we created earlier with<code class="literal"> False</code> as the value. Connect the Out output of the<span class="strong"><strong> Start Firing At</strong></span> action to the<span class="strong"><strong> Turn On</strong></span> input of this<span class="strong"><strong> Toggle</strong></span> action.</li><li class="listitem">Create a<span class="strong"><strong> Delay</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Misc</strong></span> |<span class="strong"><strong> Delay</strong></span>. In the<span class="strong"><strong> Properties</strong></span> pane change the<span class="strong"><strong> Duration</strong></span> to<code class="literal"> 0.20</code>. Connect the<span class="strong"><strong> Out</strong></span> from the<span class="strong"><strong> Toggle</strong></span> and<span class="strong"><strong> Move to Actor</strong></span> actions as well as the<span class="strong"><strong> False</strong></span> output from the Compare Bool conditional to the<span class="strong"><strong> Start</strong></span> input of our<span class="strong"><strong> Delay</strong></span>. Connect the<span class="strong"><strong> Finished</strong></span> output of our<span class="strong"><strong> Delay</strong></span> action to the<span class="strong"><strong> In</strong></span> of the<span class="strong"><strong> Is Alive</strong></span> conditional we created at the beginning of this section.</li><li class="listitem">Build our game by selecting<span class="strong"><strong> Build</strong></span> |<span class="strong"><strong> Build All</strong></span> and pressing<span class="strong"><strong> Close</strong></span> when finished.<a class="indexterm" id="id305"/></li><li class="listitem">Save your project and start your game by clicking on the<span class="strong"><strong> Start Mobile Previewer</strong></span> button on the main toolbar as shown in the following screenshot:<div class="mediaobject"><img alt="Time for action—base enemy AI" src="graphics/image_1901_05_09.jpg" width="264"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec04"/>What just happened?</h2></div></div></div><p>Our enemy now responds to what we do in the world! If we come within a distance of<code class="literal"> 600</code> or closer to the enemy, and it has a clear line-of-sight, it will start firing at us. If the player runs a certain distance away or goes behind some cover, it will attempt to travel to us. However there is still a lot of work to do.</p></div><div class="section" title="Improvements to be made"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec05"/>Improvements to be made</h2></div></div></div><p>Instead of running to the player's position, the enemy we spawned goes towards the spawn point, or rather the place where the character was initially created, rather than where they currently are. It will continue to follow delete us, until it can fire at us again as well. Shouldn't it give up after a while? If we start attacking the enemy at a distance, the player will not react and will just take hits as well. With this basis, we can now extend our AI to be much more robust.<a class="indexterm" id="id306"/>
</p></div></div>
<div class="section" title="Time for action&#x2014;base enemy AI"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec04"/>Time for action—base enemy AI</h1></div></div></div><p>Now we will be creating a rudimentary AI using Kismet and using our sequence we will be able to attach this behavior to every AI that we use.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go into the<span class="strong"><strong> Actor Classes</strong></span> browser<span class="strong"><strong> View</strong></span> |<span class="strong"><strong> Browser Windows</strong></span> |<span class="strong"><strong> Actor Classes</strong></span>. From there, you will see a list of classes that we can place within our level. Type<code class="literal"> Path</code> in the<span class="strong"><strong> Search</strong></span> bar and left-click on the<span class="strong"><strong> PathNode_Dynamic</strong></span> selection. The following screenshot shows this:<div class="mediaobject"><img alt="Time for action—base enemy AI" height="112" src="graphics/image_1901_05_10.jpg"/></div></li><li class="listitem">Close the<span class="strong"><strong> Actor Classes</strong></span> browser and right-click anywhere in your level. From the menu that pops up, select<span class="strong"><strong> Add PathNode_Dynamic Here</strong></span>. This will create an actor on the ground in the spot where you clicked. Place it nearby the player's spawn point.</li><li class="listitem">Open the Kismet editor by clicking on the<span class="strong"><strong> K</strong></span> icon at the top of the UDK interface on the main toolbar.</li><li class="listitem">Enter the<span class="strong"><strong> EnemyAI</strong></span> sequence by either double-clicking on the sequence in the<span class="strong"><strong> Graph</strong></span> pane or clicking on the<span class="strong"><strong> EnemyAI</strong></span> text in the<span class="strong"><strong> Sequences</strong></span> pane.</li><li class="listitem">Delete the connections to the<span class="strong"><strong> Start</strong></span> input on the<span class="strong"><strong> Delay</strong></span> action by holding<span class="emphasis"><em> Alt</em></span> and clicking on the black square. Left-click on the<span class="strong"><strong> Delay</strong></span> action, hold<span class="emphasis"><em> Shift</em></span> and drag it to the right-hand side to give some room for our new additions.</li><li class="listitem">Select the<span class="strong"><strong> Move to Actor</strong></span> action and its attached variables by holding down<span class="emphasis"><em> Ctrl</em></span> +<span class="emphasis"><em> Alt</em></span> and left-clicking slightly above and to the left-hand side of the<span class="strong"><strong> Move to Actor</strong></span> action, and drag until the box you create covers all of the items we want to move. Alternatively, hold<span class="emphasis"><em> Ctrl</em></span> and click on each item. Move the objects to beside the<span class="strong"><strong> Delay</strong></span> position. Delete the connection from the<span class="strong"><strong> In</strong></span> of the<span class="strong"><strong> Move To Actor</strong></span> action and connect the<span class="strong"><strong> Out</strong></span> from the<span class="strong"><strong> Move To Actor</strong></span> action to the<span class="strong"><strong> Start</strong></span> of the<span class="strong"><strong> Delay</strong></span> action. Connect the<span class="strong"><strong> Out</strong></span> of our<span class="strong"><strong> Toggle</strong></span> action to the<span class="strong"><strong> Start</strong></span> of the<span class="strong"><strong> Delay</strong></span> action.<a class="indexterm" id="id307"/></li><li class="listitem">Create a<span class="strong"><strong> Compare Float</strong></span> conditional next to our<span class="strong"><strong> Compare Bool</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Condition</strong></span> |<span class="strong"><strong> Conditional</strong></span> |<span class="strong"><strong> Compare Float</strong></span>. Connect the<span class="strong"><strong> True</strong></span> of the<span class="strong"><strong> Compare Bool</strong></span> conditional to the<span class="strong"><strong> In</strong></span> input of this<span class="strong"><strong> Compare Float</strong></span>. Connect the<span class="strong"><strong> False</strong></span> output of the<span class="strong"><strong> Compare Bool</strong></span> to the<span class="strong"><strong> Start</strong></span> input on the<span class="strong"><strong> Delay</strong></span> action. Create a float variable in both the<span class="strong"><strong> A</strong></span> and<span class="strong"><strong> B</strong></span> section of our<span class="strong"><strong> Compare Float</strong></span> action. Inside the<span class="strong"><strong> A</strong></span> float variable, create a comment saying<span class="strong"><strong> timeSinceCaught</strong></span> with a value of<code class="literal"> 0.0</code>. Set the<span class="strong"><strong> B</strong></span> variable to have a value of<code class="literal"> 2.0</code>. What I'm trying to accomplish in this section, is making it so that if the AI chases after the player and a certain time passes, he will give up and stop where he is.</li><li class="listitem">Create an<span class="strong"><strong> Add Float</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Math</strong></span> |<span class="strong"><strong> Add Float</strong></span>. Connect the<span class="strong"><strong> A</strong></span> and<span class="strong"><strong> Float Result</strong></span> variables of<span class="strong"><strong> Add Float</strong></span> action to the float variable that we placed a comment saying<span class="strong"><strong> timeSinceCaught</strong></span>, which is connected to the<span class="strong"><strong> A</strong></span> link on our<span class="strong"><strong> Compare Float</strong></span>. Connect the<span class="strong"><strong> A &lt; B</strong></span> output of our<span class="strong"><strong> Compare Float</strong></span> to the<span class="strong"><strong> In</strong></span> of our<span class="strong"><strong> Add Float</strong></span> action. Create a float variable below<span class="strong"><strong> B</strong></span> with a value of<code class="literal"> 0.2</code>. The following screenshot shows this:<div class="mediaobject"><img alt="Time for action—base enemy AI" height="194" src="graphics/image_1901_05_11.jpg"/></div><p>As this acti on is called every 0.2 seconds (due to our delay), we add 0.2 to our counter if it has been less than 2 seconds since we started chasing the player after seeing them for the fi rst ti me. What do we do if we have waited 2 seconds or more? That's what we're going to do next.</p></li><li class="listitem">Below the<span class="strong"><strong> Add Float</strong></span> action we just created add a<span class="strong"><strong> Set Float</strong></span> action by using<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Set Variable</strong></span> |<span class="strong"><strong> Float</strong></span>. Create a new float with a value of<code class="literal"> 0.0</code> for the<span class="strong"><strong> Value</strong></span> link and connect the<span class="strong"><strong> Target</strong></span> variable to the<span class="strong"><strong> timeSinceCaught</strong></span> float variable. Connect the<span class="strong"><strong> A &gt;= B</strong></span> output from the<span class="strong"><strong> Compare Float</strong></span> conditional to the<span class="strong"><strong> In</strong></span> of our<span class="strong"><strong> Set Float</strong></span> action.</li><li class="listitem">Create a<span class="strong"><strong> Toggle</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Toggle</strong></span> |<span class="strong"><strong> Toggle</strong></span>. Underneath the<span class="strong"><strong> Bool</strong></span> variable link connect the<span class="strong"><strong> Bool</strong></span> variable we created earlier with<span class="strong"><strong> False</strong></span> value. Connect the<span class="strong"><strong> Out</strong></span> output of the<span class="strong"><strong> Set Float</strong></span> action to the<span class="strong"><strong> Turn Off</strong></span> input of this<span class="strong"><strong> Toggle</strong></span> action.</li><li class="listitem">Create a<span class="strong"><strong> Modify Property</strong></span> action by using<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Object Property</strong></span> |<span class="strong"><strong> Modify Property</strong></span>. Go to the<span class="strong"><strong> Properties</strong></span> pane and left-click on the green<span class="strong"><strong> +</strong></span> sign beside the<span class="strong"><strong> Properties</strong></span> variable, to create a new property to change. Click on the black triangle on the left-hand side to expand the options. Inside the<span class="strong"><strong> Property Name</strong></span> property type<code class="literal"> bLockLocation</code>. Click on the checkbox for<span class="strong"><strong> Modify Property</strong></span>. Finally, in the<span class="strong"><strong> Property Value</strong></span> section type<code class="literal"> 1</code>. This is shown in the following screenshot:<div class="mediaobject"><img alt="Time for action—base enemy AI" height="105" src="graphics/image_1901_05_12.jpg"/></div><p>The <span class="strong"><strong>bLockLocati</strong></span> on variable is a <span class="strong"><strong>Bool</strong></span> contained within our <span class="strong"><strong>Actor</strong></span> class that will prevent an actor from being moved. With a value other than 0, a <span class="strong"><strong>Bool</strong></span> will treat the value to mean true which will freeze our AI unti l we set the value back to 0. Note that UDK will give us a warning about using the <span class="strong"><strong>Modify Property</strong></span> acti on, but as we are not going to be using UnrealScript for our project it will be fine.</p></li><li class="listitem">Connect the<span class="strong"><strong> Out</strong></span> from the<span class="strong"><strong> Toggle</strong></span> action to the<span class="strong"><strong> In</strong></span> of our<span class="strong"><strong> Modify Property</strong></span> action. Connect the<span class="strong"><strong> Target</strong></span> to the<span class="strong"><strong> Spawned</strong></span> external variable. Connect the<span class="strong"><strong> Out</strong></span> output of the<span class="strong"><strong> Modify Property</strong></span> action to the<span class="strong"><strong> Start</strong></span> on our<span class="strong"><strong> Delay</strong></span> action on the far right-hand side.</li><li class="listitem">Next to the<span class="strong"><strong> Add Float</strong></span> that we created in step 8 create a<span class="strong"><strong> Modify Property</strong></span> action by using<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Object Property</strong></span> |<span class="strong"><strong> Modify Property</strong></span>. Go to the<span class="strong"><strong> Properties</strong></span> pane and left-click on the green<span class="strong"><strong> +</strong></span> sign beside the<span class="strong"><strong> Properties</strong></span> variable to create a new property to change. Click on the black triangle on the left-hand side to expand the options. Inside the<span class="strong"><strong> Property Name</strong></span> property type<code class="literal"> bLockLocation</code>. Click on the checkbox for<span class="strong"><strong> Modify Property</strong></span>. Finally, in the<span class="strong"><strong> Property Value</strong></span> section type<code class="literal"> 0</code>. Connect the<span class="strong"><strong> Out</strong></span> output of the<span class="strong"><strong> Add Float</strong></span> action to the<span class="strong"><strong> In</strong></span> of our new<span class="strong"><strong> Modify Property</strong></span> action.</li><li class="listitem">Go back into the editor and confirm that you have the<span class="strong"><strong> PathNode_Dynamic_0</strong></span> selected.</li><li class="listitem">Back in Kismet create a<span class="strong"><strong> Get Location and Rotation</strong></span> action<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Actor</strong></span> |<span class="strong"><strong> Get Location and Rotation</strong></span>. Set the<span class="strong"><strong> Target</strong></span> variable to<span class="strong"><strong> Player 0</strong></span> by creating a player object variable. Right-click under the<span class="strong"><strong> Location</strong></span> link and select<span class="strong"><strong> Create New Vector Variable</strong></span>.</li><li class="listitem">Delete the<span class="strong"><strong> Player</strong></span> variable under the<span class="strong"><strong> Move to Actor</strong></span> action and right-click under the<span class="strong"><strong> Destination</strong></span> variable and select<span class="strong"><strong> New Object Var using PathNode_Dynamic_0</strong></span>. Create a<span class="strong"><strong> Set Actor Location</strong></span> action<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Actor</strong></span> |<span class="strong"><strong> Set Actor Location</strong></span>. Connect the<span class="strong"><strong> Location</strong></span> variable link to the location that we created in the previous step. Connect the<span class="strong"><strong> Target</strong></span> of the<span class="strong"><strong> Set Actor Location</strong></span> action to the<span class="strong"><strong> Destination</strong></span> variable link on the<span class="strong"><strong> Move to Actor</strong></span>.</li><li class="listitem">Above our<span class="strong"><strong> Trace</strong></span> action create a<span class="strong"><strong> Take Damage</strong></span> event by right-clicking and selecting<span class="strong"><strong> New Event</strong></span> |<span class="strong"><strong> Actor</strong></span> |<span class="strong"><strong> Take Damage</strong></span>. In the<span class="strong"><strong> Properties</strong></span> pane set<span class="strong"><strong> Max Trigger Count</strong></span> to<code class="literal"> 0</code>. Connect the<span class="strong"><strong> Instigator</strong></span> to the<span class="strong"><strong> Spawned</strong></span> object. Connect the<span class="strong"><strong> Out</strong></span> output to the<span class="strong"><strong> In</strong></span> input of the<span class="strong"><strong> Start Firing At</strong></span> action.<a class="indexterm" id="id308"/><p>This will make it so that if the player decides to att ack someone from far away, that the enemy will react in some way by chasing aft er the player. Finally we will see something similar to the following screenshot:</p><div class="mediaobject"><img alt="Time for action—base enemy AI" height="119" src="graphics/image_1901_05_13.jpg"/></div></li><li class="listitem">Back in the editor window, click on the<span class="strong"><strong> Door</strong></span> we created in the previous chapter. Open its properties by pressing<span class="emphasis"><em> F4</em></span> and type<code class="literal"> path</code> in the search box. You will see a box checked for the value<span class="strong"><strong> Path Colliding</strong></span>. Uncheck it. Unchecking the<span class="strong"><strong> Path Colliding</strong></span> value lets the editor know that it is possible for AI to pass through the door, as it will treat the area as being open even though we have a door there. If you intend to not allow enemies to use doors then you'd want to make sure this is checked.</li><li class="listitem">Build our game by selecting<span class="strong"><strong> Build</strong></span> |<span class="strong"><strong> Build All</strong></span> and pressing<span class="strong"><strong> Close</strong></span> when finished.</li><li class="listitem">Save your project and start your game by clicking on the<span class="strong"><strong> Start Mobile Previewer</strong></span> button on the main toolbar as shown in following screenshot:<div class="mediaobject"><img alt="Time for action—base enemy AI" src="graphics/image_1901_05_14.jpg" width="299"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec06"/>What just happened?</h2></div></div></div><p>We breathed much more life into the routines of our AIs; they are now reacting to us in a much more believable way, and are good enough for what we are doing in our project. Now the enemies will chase to where you are for a period of time, giving up after a while, and if you attack them from anywhere, they will react to you. We've also been exposed to much more advanced Kismet scripting, showing us how we can manipulate the game environment based on events happening in the world.<a class="indexterm" id="id309"/>
</p></div><div class="section" title="Have a go hero—taking your AI further"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec07"/>Have a go hero—taking your AI further</h2></div></div></div><p>There are plenty of other things that you can add to your AI, such as different states depending on how close the player is to them (distance of the<span class="strong"><strong> Trace</strong></span> action was discussed in the<span class="emphasis"><em> Base enemy AI</em></span> section). Right now as long as the<span class="strong"><strong> timeSinceCaught</strong></span> variable is less than 2.0, the<code class="literal"> PathNode_Dynamic</code> is set to your actual position as well. You could make it so that the AI could only know where you were at that point (only setting the position once). You can use the<span class="strong"><strong> Bool</strong></span> (true/false statement) the variable red in color as a way of checking whether it was already set or not.</p><p>Another thing that you can do is use a<span class="strong"><strong> Timer</strong></span> (<span class="strong"><strong>Action</strong></span> |<span class="strong"><strong> Misc</strong></span> |<span class="strong"><strong> Timer</strong></span>) rather than using float comparisons and addition, toggling a timer on and off as necessary to add one other tool to your toolbox.</p></div><div class="section" title="Exporting subsequences"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec08"/>Exporting subsequences</h2></div></div></div><p>After setting up a useful subsequence such as our<span class="strong"><strong> EnemyAI</strong></span> event that we created, we may want to share it between other levels. One way to do this is just copy/pasting; but what if we want to share our sequence with other developers/designers or on different computers? One of the neat things that we can do with sequences is export them so that we can place them inside our levels much in the same way that we place meshes or<span class="strong"><strong> Actor Classes</strong></span>. One thing to note though is that when a sequence is imported it will remove all references to objects within the level that was created, so for that reason having external variables for items is vital to make sure that the sequence performs the way we'd like it to.<a class="indexterm" id="id310"/>
</p></div></div>
<div class="section" title="Time for action&#x2014;creating a second enemy"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec05"/>Time for action—creating a second enemy</h1></div></div></div><p>At this point, it's a good idea to save our<span class="strong"><strong> EnemyAI</strong></span> subsequence as we are going to use it inside our final level. As this is the first time we've exported something to the content editor, I'm going to be very thorough.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Go into to the<span class="strong"><strong> Actor Classes</strong></span> browser<span class="strong"><strong> View</strong></span> |<span class="strong"><strong> Browser Windows</strong></span> |<span class="strong"><strong> Actor Classes</strong></span>. From there you will see a list of classes that we can place within our level. Type<code class="literal"> Path</code> in the<span class="strong"><strong> Search</strong></span> bar and left-click on the<span class="strong"><strong> PathNode</strong></span> selection.</li><li class="listitem">Close the<span class="strong"><strong> Actor Classes</strong></span> browser and right-click in front of the door we created in the previous chapter. From the menu that pops up, select<span class="strong"><strong> Add PathNode Here</strong></span>. Select the<span class="strong"><strong> PathNode</strong></span>, hold<span class="strong"><strong> Option</strong></span> and drag the object behind the door, creating a copy.</li><li class="listitem">Open the Kismet editor by clicking on the<span class="strong"><strong> K</strong></span> icon at the top of the UDK interface on the main toolbar.</li><li class="listitem">Right-click on our<span class="strong"><strong> EnemyAI</strong></span> subsequence and select<span class="strong"><strong> Export Sequence to Package</strong></span>. This is shown in the following screenshot:<div class="mediaobject"><img alt="Time for action—creating a second enemy" height="206" src="graphics/image_1901_05_15.jpg"/></div></li><li class="listitem">A prompt will come up asking for the package, group, and name of your object. Under<span class="strong"><strong> Package</strong></span> put<code class="literal"> UrbanWarrior</code>, in<span class="strong"><strong> Group</strong></span> put<code class="literal"> Sequences</code>, and under<span class="strong"><strong> Name</strong></span> put<code class="literal"> EnemyAI</code>.</li><li class="listitem">Open up the<span class="strong"><strong> Content Browser</strong></span>, and in the<span class="strong"><strong> Search</strong></span> bar underneath<span class="strong"><strong> Packages</strong></span> type<code class="literal"> urban</code>. You should see your package come up on top with your sequence being the first item selected.<a class="indexterm" id="id311"/></li><li class="listitem">Right-click on the package (it should have a<span class="strong"><strong> *</strong></span> next to it) and click on<span class="strong"><strong> Save</strong></span>. This is shown in the following screenshot:<div class="mediaobject"><img alt="Time for action—creating a second enemy" height="113" src="graphics/image_1901_05_16.jpg"/></div></li><li class="listitem">Left-click on the<span class="strong"><strong> EnemyAI</strong></span> sequence and open up the Kismet editor. Move to the left-hand side of our<span class="strong"><strong> EnemyAI</strong></span> sequence, right-click and select<span class="strong"><strong> Import EnemyAI Sequence</strong></span>.<a class="indexterm" id="id312"/><p>You may not see anything change, but there is a good reason for that.</p></li><li class="listitem">Left-click on the<span class="strong"><strong> EnemyAI</strong></span> subsequence and move it by holding<span class="emphasis"><em> Alt</em></span> and dragging it to the left-hand side. You will notice that the new subsequence that we imported has the same position as when we exported it.<a class="indexterm" id="id313"/></li><li class="listitem">Left-click on the<span class="strong"><strong> PathNode</strong></span> behind where the player is and go back into Kismet. Underneath the<span class="strong"><strong> Spawn Point</strong></span>, right-click and select<span class="strong"><strong> New Object Var using PathNode_2 Here</strong></span>. Create a new<span class="strong"><strong> Object</strong></span> variable for the<span class="strong"><strong> Spawned</strong></span> variable link. Connect the<span class="strong"><strong> Dead</strong></span> output from the first<span class="strong"><strong> EnemyAI</strong></span> sequence up to the<span class="strong"><strong> In</strong></span> input of this<span class="strong"><strong> EnemyAI</strong></span>.</li><li class="listitem">Create a<span class="strong"><strong> Move To Actor</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> AI</strong></span> |<span class="strong"><strong> Move To Actor</strong></span>. Underneath the<span class="strong"><strong> Target</strong></span> variable link connect the<span class="strong"><strong> Spawned</strong></span> object. Under<span class="strong"><strong> Destination</strong></span> connect it to the<span class="strong"><strong> PathNode</strong></span> in front of the door. Connect the<span class="strong"><strong> Spawned</strong></span> output from the<span class="strong"><strong> EnemyAI</strong></span> subsequence to the<span class="strong"><strong> In</strong></span> input on the<span class="strong"><strong> Move To Actor</strong></span> action. We will see the output as shown in the following screenshot:<div class="mediaobject"><img alt="Time for action—creating a second enemy" height="116" src="graphics/image_1901_05_17.jpg"/></div></li><li class="listitem">Build our game by selecting<span class="strong"><strong> Build</strong></span> |<span class="strong"><strong> Build All</strong></span> and pressing<span class="strong"><strong> Close</strong></span> when finished.</li><li class="listitem">Save your project and start your game by clicking on the<span class="strong"><strong> Start Mobile Previewer</strong></span> button on the main toolbar, as shown in the following screenshot:<a class="indexterm" id="id314"/><div class="mediaobject"><img alt="Time for action—creating a second enemy" src="graphics/image_1901_05_18.jpg" width="299"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec09"/>What just happened?</h2></div></div></div><p>The world is becoming more and more dynamic. By using an imported subsequence we made it so that if our first enemy died, a second enemy would spawn and rush through the door to see what was going on.<a class="indexterm" id="id315"/>
</p></div><div class="section" title="Remote events"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec10"/>Remote events</h2></div></div></div><p>As seen in the previous sequence that we created, Kismet can often get quite complex and over time may become quite jumbled up. One possible solution to stop stay connections going all over the place is to use<span class="strong"><strong> Remote Events</strong></span>. Similarly to our<span class="strong"><strong> Level Loaded</strong></span> or<span class="strong"><strong> Player Spawned</strong></span> events, whenever we activate a remote event through the<span class="strong"><strong> Activate Remote Event</strong></span> Kismet action the actions and conditionals connected to it are called.<a class="indexterm" id="id316"/>
</p><div class="section" title="When we can use a remote event"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec01"/>When we can use a remote event</h3></div></div></div><p>Remote events sound quite amazing, but they can't always be used. Each remote event needs to have a specific name and UDK will get confused if you have multiple versions of the same remote event. This is also why we cannot have variables with the same name. If you are planning on re-using the same sequence for multiple objects, you cannot use them.<a class="indexterm" id="id317"/>
</p></div><div class="section" title="Creating a remote event"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec02"/>Creating a remote event</h3></div></div></div><p>To create a<span class="strong"><strong> Remote Event</strong></span> you right-click inside the<span class="strong"><strong> Graph</strong></span> pane in Kismet and select<span class="strong"><strong> New Event</strong></span> |<span class="strong"><strong> Remote Event</strong></span>. After creating the event, go into its<span class="strong"><strong> Properties</strong></span> and under the<span class="strong"><strong> Event Name</strong></span> variable type a unique identifier. When you want the actions associated with the Remote Event to be called you just need to create an<span class="strong"><strong> Activate Remote Event</strong></span> action<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Event</strong></span> |<span class="strong"><strong> Activate Remote Event</strong></span> and in the<span class="strong"><strong> Properties</strong></span> pane find the variable<span class="strong"><strong> Event Name</strong></span> and set it to that same identifier. This is shown in the following screenshot:<a class="indexterm" id="id318"/>
</p><div class="mediaobject"><img alt="Creating a remote event" height="103" src="graphics/image_1901_05_19.jpg"/></div></div></div><div class="section" title="Named variables"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec11"/>Named variables</h2></div></div></div><p>In programming there is such a thing as global variables.<span class="strong"><strong> Global variables</strong></span> are things that you wish to have at all times within the game; for example, a player's gold or the number of enemies currently spawned. This can be very useful if it's a piece of data that you use quite often.<span class="strong"><strong> Named variables</strong></span> are basically Kismet's version of global variables; however, they are only global in terms of the level currently loaded.<a class="indexterm" id="id319"/>
</p><div class="section" title="When we can use a named variable"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec03"/>When we can use a named variable</h3></div></div></div><p>A<span class="strong"><strong> named variable</strong></span>, just like a remote event, needs to have unique names which is why we used a comment instead of a variable name for our<span class="strong"><strong> timeSinceCaught</strong></span> variable in our<span class="strong"><strong> EnemyAI</strong></span> sequence. The nice thing about having variables with names is that instead of creating links to the one variable every single time, like we did with the<span class="strong"><strong> Spawned</strong></span> external variable in our<span class="strong"><strong> EnemyAI</strong></span> sequence, we can just create new named variables to hook it up to make our script much more organized.<a class="indexterm" id="id320"/>
</p></div><div class="section" title="Creating a named variable"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec04"/>Creating a named variable</h3></div></div></div><p>To create a named variable you right-click inside the<span class="strong"><strong> Graph</strong></span> pane in Kismet and select<span class="strong"><strong> New Variable</strong></span> |<span class="strong"><strong> Named Variable.</strong></span> After creating the variable and going into its properties you can set the expected type to what it is and under the<span class="strong"><strong> Find Var Name</strong></span> property just fill in the variable name.<a class="indexterm" id="id321"/>
</p><p>If everything goes correctly, you'll see a green checkmark in its position as shown in the following screenshot:</p><div class="mediaobject"><img alt="Creating a named variable" src="graphics/image_1901_05_20.jpg" width="107"/></div></div></div><div class="section" title="Manipulating the player"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec12"/>Manipulating the player</h2></div></div></div><p>We have worked in such a way to create actions that work with the AIs we are going to place within the world, but there is one thing in the game that is more important that we haven't worked on yet at all: the player! Adding new types of gameplay or new mechanics are often tested out in Kismet before writing in UnrealScript, making it a lot easier to iterate. Make sure that the mechanics are? fun and interesting. Now that we have someone to shoot at us and some smarts, let's add a new mechanics to our player.</p></div></div>
<div class="section" title="Time for action&#x2014;regenerating player health over time"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec06"/>Time for action—regenerating player health over time</h1></div></div></div><p>Made popular in<span class="emphasis"><em> Halo</em></span> and seen in hit games such as<span class="emphasis"><em> Gears of War</em></span> and<span class="emphasis"><em> Batman: Arkham City</em></span>, regenerating health is a modern game mainstay that features in many<span class="emphasis"><em> games</em></span> and are here to stay. Surprisingly, it is not that difficult at all to implement within Kismet, and you may notice some overlap between the behavior we use here and what we did previously.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the Kismet editor and enter our main sequence and drag the screen till you have a large amount of open space.</li><li class="listitem">Create a remote event by selecting<span class="strong"><strong> New Event</strong></span> |<span class="strong"><strong> Remote Event</strong></span>. In the<span class="strong"><strong> Properties</strong></span> pane set the<span class="strong"><strong> Event Name</strong></span> variable to<code class="literal"> RegenHealth</code>.</li><li class="listitem">Directly above the remote event create a<span class="strong"><strong> Level Loaded</strong></span> event by right-clicking and selecting<span class="strong"><strong> New Event</strong></span> |<span class="strong"><strong> Level Loaded</strong></span>.</li><li class="listitem">To the right of the<span class="strong"><strong> Level Loaded</strong></span> event create an<span class="strong"><strong> Activate Remote Event</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Event</strong></span> |<span class="strong"><strong> Activate Remote Event</strong></span>. In the<span class="strong"><strong> Properties</strong></span> pane find the variable<span class="strong"><strong> Event Name</strong></span> and set it to<code class="literal"> RegenHealth</code>.<a class="indexterm" id="id322"/><p>Note that both the <span class="strong"><strong>Activate Remote Event</strong></span> and remote event <span class="strong"><strong>RegenHealth</strong></span> may still have a large red <span class="strong"><strong>X</strong></span> in them. This is either due to a misspelling, or the sequence has not been refreshed. If you exit and enter Kismet again, you will see both of the objects have a green checkmark next to them as shown in the following screenshot:</p><div class="mediaobject"><img alt="Time for action—regenerating player health over time" src="graphics/image_1901_05_21.jpg" width="248"/></div></li><li class="listitem">To the right-hand side of the remote event<span class="strong"><strong> RegenHealth</strong></span> create a<span class="strong"><strong> Get Property</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Object Property</strong></span> |<span class="strong"><strong> Get Property</strong></span>. In the<span class="strong"><strong> Properties</strong></span> pane set the<span class="strong"><strong> Property Name</strong></span> variable to<code class="literal"> Health</code>. Underneath the<span class="strong"><strong> Target</strong></span> variable link create a<span class="strong"><strong> Player 0</strong></span> object variable. Underneath the<span class="strong"><strong> Int</strong></span> variable link create a new<span class="strong"><strong> Int</strong></span> variable by right-clicking underneath it and selecting<span class="strong"><strong> Create New Int Variable</strong></span>.<a class="indexterm" id="id323"/><p>Inside the UnrealScript file for the <span class="strong"><strong>Player</strong></span> in the <span class="strong"><strong>Pawn Class</strong></span> there exists an integer that has the name of <span class="strong"><strong>Health</strong></span> which stores the player's health. The <span class="strong"><strong>Get Property</strong></span> acti on allows us to see the value that it contains in our target, if it contains that variable.</p></li><li class="listitem">Create a<span class="strong"><strong> Compare Int</strong></span> conditional by right-clicking and selecting<span class="strong"><strong> New Condition</strong></span> |<span class="strong"><strong> Comparison</strong></span> |<span class="strong"><strong> Compare Int</strong></span>. Underneath the<span class="strong"><strong> A</strong></span> variable link connect the variable under<span class="strong"><strong> Int</strong></span> in our<span class="strong"><strong> Get Property</strong></span>. Underneath<span class="strong"><strong> B</strong></span> create a new<span class="strong"><strong> Int</strong></span> variable and put a value of<code class="literal"> 100</code>. Connect the<span class="strong"><strong> Out</strong></span> from the<span class="strong"><strong> Get Property</strong></span> action to the<span class="strong"><strong> In</strong></span> input of the<span class="strong"><strong> Compare Int</strong></span> conditional.<p>Basically, we're going to compare whether our <span class="strong"><strong>Health</strong></span> is lower than <span class="strong"><strong>100</strong></span> (the maximum value it can be at the moment) or not.</p></li><li class="listitem">Create a<span class="strong"><strong> Modify Property</strong></span> action by using<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Object Property</strong></span> |<span class="strong"><strong> Modify Property</strong></span>. Go to the<span class="strong"><strong> Properties</strong></span> pane and left-click on the green<span class="strong"><strong> +</strong></span> sign beside the<span class="strong"><strong> Properties</strong></span> variable to create a new property to change. Click on the black triangle on the left-hand side to expand the options. Inside the<span class="strong"><strong> Property Name</strong></span> property type<code class="literal"> Health</code>. Click on the checkbox for<span class="strong"><strong> Modify Property</strong></span>. Finally, in the<span class="strong"><strong> Property Value</strong></span> section type<code class="literal"> 100</code>. Under the<span class="strong"><strong> Target</strong></span> variable link place a<span class="strong"><strong> Player 0</strong></span> object. Connect the<span class="strong"><strong> A &gt;= B</strong></span> from the<span class="strong"><strong> Compare Int</strong></span> conditional to the<span class="strong"><strong> In</strong></span> of the<span class="strong"><strong> Modify Property</strong></span> that we just created.<a class="indexterm" id="id324"/></li><li class="listitem">Create a<span class="strong"><strong> Compare Float</strong></span> conditional by right-clicking and selecting<span class="strong"><strong> New Condition</strong></span> |<span class="strong"><strong> Comparison</strong></span> |<span class="strong"><strong> Compare Float</strong></span>. Underneath the<span class="strong"><strong> A</strong></span> variable link create a new<span class="strong"><strong> Float</strong></span> variable and put a value of<code class="literal"> 0.0</code> with the<span class="strong"><strong> Var Name</strong></span> of<span class="strong"><strong> TimeSinceDamaged</strong></span>. Underneath<span class="strong"><strong> B</strong></span> create a new<span class="strong"><strong> Float</strong></span> variable with a Float Value of<code class="literal"> 2.0</code> and<span class="strong"><strong> Obj Comment of TimeSinceLastDamaged</strong></span>. Connect the<span class="strong"><strong> A &lt; B</strong></span> output of the<span class="strong"><strong> Compare Int</strong></span> conditional to the<span class="strong"><strong> In</strong></span> input of this<span class="strong"><strong> Compare Float</strong></span> conditional.</li><li class="listitem">Add a<span class="strong"><strong> Set Float</strong></span> action by using<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Set Variable</strong></span> |<span class="strong"><strong> Float</strong></span>. Create a new float with a value of<code class="literal"> 0.0</code> for the<span class="strong"><strong> Value</strong></span> link.</li><li class="listitem">Create a named variable with an<span class="strong"><strong> Expected Type of SeqVar_Float</strong></span> and a<span class="strong"><strong> Find Var Name of TimeSinceDamaged</strong></span> and connect the<span class="strong"><strong> Target</strong></span> variable link from the<span class="strong"><strong> Set Float</strong></span> action to it. Connect the<span class="strong"><strong> Out</strong></span> of the<span class="strong"><strong> Modify Property</strong></span> (<span class="strong"><strong>Health</strong></span>) to the<span class="strong"><strong> In</strong></span> input of our<span class="strong"><strong> Set Float</strong></span> action.</li><li class="listitem">Create an<span class="strong"><strong> Activate Remote Event</strong></span> action<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Event</strong></span> |<span class="strong"><strong> Activate Remote Event</strong></span> and in the<span class="strong"><strong> Properties</strong></span> pane, find the variable<span class="strong"><strong> Event Name</strong></span> and set it to<span class="strong"><strong> RegenHealth</strong></span>. Connect the<span class="strong"><strong> Out</strong></span> output of our<span class="strong"><strong> Set Float</strong></span> action to the<span class="strong"><strong> In</strong></span> of our<span class="strong"><strong> Activate Remote Event</strong></span> variable<span class="strong"><strong> RegenHealth</strong></span>. This is shown in the following screenshot:<a class="indexterm" id="id325"/><div class="mediaobject"><img alt="Time for action—regenerating player health over time" height="176" src="graphics/image_1901_05_22.jpg"/></div></li><li class="listitem">Create a<span class="strong"><strong> Modify Health</strong></span> action<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Actor</strong></span> |<span class="strong"><strong> Modify Health</strong></span>. Under the<span class="strong"><strong> Target</strong></span> variable link create a<span class="strong"><strong> Player 0</strong></span> object variable. Under amount create a<span class="strong"><strong> Float</strong></span> variable with a value of<code class="literal"> 1.0</code>. Inside the<span class="strong"><strong> Properties</strong></span> pane check the<span class="strong"><strong> Heal</strong></span> checkbox and connect the<span class="strong"><strong> A &gt;= B</strong></span> from our<span class="strong"><strong> Compare Float</strong></span> conditional to the<span class="strong"><strong> In</strong></span> of this action.<a class="indexterm" id="id326"/><p>You may noti ce that we are not using <span class="strong"><strong>Modify Property</strong></span> like we did in the previous example; this is merely to show you that there are oft en multi ple ways of doing the exact same thing within Kismet and by experimenti ng you can discover all sorts of things that you can do.</p></li><li class="listitem">Copy (<span class="emphasis"><em>Ctrl</em></span> +<span class="emphasis"><em> C</em></span>) and Paste (<span class="emphasis"><em>Ctrl</em></span> +<span class="emphasis"><em> V</em></span>) the<span class="strong"><strong> Activate Remote Event</strong></span> variable<span class="strong"><strong> RegenHealth</strong></span> that we created earlier. Drag the action till it is beside the<span class="strong"><strong> Modify Health</strong></span> action we just created. Delete this one's connection to its<span class="strong"><strong> In</strong></span> input by left-clicking while holding the<span class="emphasis"><em> Alt</em></span> key. Copy and paste another one with the<span class="strong"><strong> In</strong></span> removed and place it above this one. Hook the<span class="strong"><strong> Out</strong></span> from our<span class="strong"><strong> Modify Health</strong></span> to the one beside it.<a class="indexterm" id="id327"/></li><li class="listitem">Create an<span class="strong"><strong> Add Float</strong></span> action by right-clicking and selecting<span class="strong"><strong> New Action</strong></span> |<span class="strong"><strong> Math</strong></span> |<span class="strong"><strong> Add Float</strong></span>. Connect the<span class="strong"><strong> A</strong></span> and<span class="strong"><strong> Float Result</strong></span> variables of<span class="strong"><strong> Add Float</strong></span> to a named variable with the value of<span class="strong"><strong> TimeSinceDamaged</strong></span> like we did in step 10. Connect the<span class="strong"><strong> A &lt; B</strong></span> output of our<span class="strong"><strong> Compare Float</strong></span> to the<span class="strong"><strong> In</strong></span> of our<span class="strong"><strong> Add Float</strong></span> action. Create a<span class="strong"><strong> Float</strong></span> variable below<span class="strong"><strong> B</strong></span> with a value of<code class="literal"> 0.2</code>. Finally, connect the<span class="strong"><strong> Out</strong></span> output of this<span class="strong"><strong> Add Float</strong></span> to the extra<span class="strong"><strong> Activate Remote Event</strong></span> variable<span class="strong"><strong> RegenHealth</strong></span> we created in the previous step.<div class="mediaobject"><img alt="Time for action—regenerating player health over time" height="191" src="graphics/image_1901_05_23.jpg"/></div></li><li class="listitem">Save your project and start your game by clicking on the<span class="strong"><strong> Start Mobile Previewer</strong></span> button on the main toolbar as shown in the following screenshot:<a class="indexterm" id="id328"/><div class="mediaobject"><img alt="Time for action—regenerating player health over time" src="graphics/image_1901_05_24.jpg" width="249"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec13"/>What just happened?</h2></div></div></div><p>You can't tell by a still image, but we're one step closer to having a fully featured game, with the fantastic addition of a regenerating health system. When our health is not at maximum, we wait for a period of time and if we are not hit within that time period, we will slowly increase our health over time. We've also gained a good knowledge of how to use named variables, getting and setting object properties in Kismet, as well as experience in using remote events.<a class="indexterm" id="id329"/>
</p></div><div class="section" title="Have a go hero—regenerating player health over time"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec14"/>Have a go hero—regenerating player health over time</h2></div></div></div><p>With this base system, there are plenty of things that you can do to extend the functionality. It would be easy to do something similar to<span class="emphasis"><em> Halo's</em></span> shield recovery, by having the recovery go faster than the lower health you have, by changing the float value under the<span class="strong"><strong> Modify Health</strong></span> action. You could also use the same sequence with a few changes to make it into something that will damage you if you spend too much time in it like with the water in<span class="emphasis"><em> Sonic: The Hedgehog</em></span>.<a class="indexterm" id="id330"/>
</p></div><div class="section" title="Prefabs"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec15"/>Prefabs</h2></div></div></div><p>Quite often when constructing a level, you want to create some arrangement of actors and associated Kismet, and then re-use that collection in the same or other levels, like the door we created. Prefabs allow you to create an object once, and then save it in a package as a prefab. You can then select the<span class="strong"><strong> Prefab</strong></span> in the<span class="strong"><strong> Content Browser</strong></span>, and add it as many times as you like throughout the level.<a class="indexterm" id="id331"/>
</p><p>Note that prefabs can cause problems in UDK and may break and/or stop working for seemingly no reason so SAVE OFTEN after making sure that things work.</p></div></div>
<div class="section" title="Time for action&#x2014;door prefab"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec07"/>Time for action—door prefab</h1></div></div></div><p>Right now we have one single door, and while it is an awesome door, we would probably like to have more than one inside our game. To make it easier to work with and place in new areas of our game, let's make a door prefab!<a class="indexterm" id="id332"/>
</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">In Kismet, go to the door behavior that we wrote in the previous chapter. Hold<span class="emphasis"><em> Alt+Ctrl</em></span> and drag from the top left-hand side of the objects to the bottom, to select all of the items used in the creation. Right-click and select<span class="strong"><strong> Create New Sequence</strong></span>. In the following menu name the sequence<code class="literal"> Door</code>. This is shown in the following screenshot:<a class="indexterm" id="id333"/><div class="mediaobject"><img alt="Time for action—door prefab" height="256" src="graphics/image_1901_05_25.jpg"/></div></li><li class="listitem">Similarly in the regular editor window, select all of the objects used to create our door, including the walls surrounding it and the trigger volume used in its creation. Right-click and select<span class="strong"><strong> Create Prefab</strong></span>.<div class="mediaobject"><img alt="Time for action—door prefab" height="245" src="graphics/image_1901_05_26.jpg"/></div></li><li class="listitem">In the popup that is created under<span class="strong"><strong> Packages</strong></span> use the name<code class="literal"> UrbanWarrior</code> and inside the<span class="strong"><strong> Name</strong></span> use<code class="literal"> Door.</code><a class="indexterm" id="id334"/></li><li class="listitem">Another popup will come up telling you that it detected a Kismet sequence using items of this prefab and wants to confirm that we want it to be part of the prefab. Click on<span class="strong"><strong> Yes</strong></span>.<p>Note that a prefab can only have one sequence associated with it, and you cannot use the main sequence as your sequence that uses that prefab. Unlike the subsequences that we exported/imported earlier, these objects will have the variable links in the sequence corresponding to the new copies made inside the prefab, which is a really neat thing.</p></li><li class="listitem">Finally the popup will ask if you'd like to convert your door to an instance of the prefab; this is a good idea so click on<span class="strong"><strong> Yes</strong></span>. You will now notice a red<span class="strong"><strong> P</strong></span> symbol next to our door letting us know that it is a prefab.</li><li class="listitem">Left-click on the prefab object and hold<span class="emphasis"><em> Alt</em></span> while dragging it along an axis to create a copy of the door a distance away from the base point. You should see a second prefab being created and moved, as you drag along making another door in the process.</li><li class="listitem">The walls will not appear inside the perspective view until you build the game, due to it not being able to render changes in BSP at runtime.</li><li class="listitem">Build our game by selecting<span class="strong"><strong> Build</strong></span> |<span class="strong"><strong> Build All</strong></span> and pressing<span class="strong"><strong> Close</strong></span> when finished.<a class="indexterm" id="id335"/></li><li class="listitem">Save your project and start your game by clicking on the<span class="strong"><strong> Start Mobile Previewer</strong></span> button on the main toolbar, saying<span class="strong"><strong> Yes</strong></span> when it asks you to save the package. The following screenshot shows the modified views:<a class="indexterm" id="id336"/><div class="mediaobject"><img alt="Time for action—door prefab" src="graphics/image_1901_05_27.jpg" width="216"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec16"/>What just happened?</h2></div></div></div><p>We have now quickly and easily created a second door inside our level. The same functionality included in our previous door is still there, allowing us to enter and exit through both of them quite easily with the sound effects and everything. Using the prefab, it will be trivial to make new doors, and as they aren't forced to be the same (like Unity) we can change anything about each individual prefab without worrying about how it will affect the others.</p></div><div class="section" title="Building combat sequences"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec17"/>Building combat sequences</h2></div></div></div><p>As someone who enjoys playing games can attest to, there are always moments in gameplay that stand out from others. We've also played games where it just seemed that you were going through corridor after corridor, with little to no exciting things happening, with the game turning into a bore. Crafting a satisfying combat experience is something that every designer strives to do, and here are some suggestions on my end as to ways of doing just that.<a class="indexterm" id="id337"/>
</p></div><div class="section" title="Layouts"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec18"/>Layouts</h2></div></div></div><div class="blockquote"><blockquote class="blockquote"><p>By failing to prepare, you are preparing to fail. - Benjamin Franklin</p></blockquote></div><p>A good layout is the basis of a solid foundation for the creation of your level, and as such is probably the most important thing to consider when beginning a level. This is one of the numerous reasons why pre-production on game projects is so important. It may go against your initial thoughts, but it is not a good idea to just go in the editor and try to make something. While every once in a while you may stumble into something, it is far more likely that if you plan something out that the resulting level will be much better. That's not to say that what you plan in pre-production will be the same as how you planned it. Playtesting your level may teach you that certain things in the layout are confusing and/or too easy or hard which are important things to take note of. One of the most important things to keep in mind when working on a layout is making it easy to read at a first glance. Keep action in the player's<span class="strong"><strong> field of view</strong></span> (<span class="strong"><strong>FOV</strong></span>) when creating action.<a class="indexterm" id="id338"/>
</p><p>You may have already noticed how in our current version of our layout our door is not in the player's view when spawned, making it confusing to where the player should continue in the game. This sends mixed signals, which is never a good thing.</p></div><div class="section" title="Spawning and enemy placement"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec19"/>Spawning and enemy placement</h2></div></div></div><p>Of course, having a great layout is good, but if there is nothing to do in the environment, players will soon grow bored and as such we spawn opponents to face them. It is terribly important that enemies get spawned out of sight of the player, because seeing an enemy suddenly appear out of nowhere will suddenly break the suspension of disbelief that our player should be feeling, unless of course it is known as an ability of an enemy such as the Houdini splicers in<span class="emphasis"><em> Bioshock</em></span>.<a class="indexterm" id="id339"/>
</p><p>Of course, we also don't always want our enemies to be static; which is why we will often have enemies walking according to a path, or coming in from an area. This movement should give our player a visual cue, as just like the real world there is usually a reason why something is where it is. If your game has stealth elements, the player may wait to see a pattern emerging in the enemy's path to avoid conflict. If your game is an action based shooter, our player will be likely travel to where they see things come from. Another thing to keep in mind is to know your engine's limitations, especially working within the mobile gamespace, as mobile platforms are much more demanding on the hardware when spawning enemies.<a class="indexterm" id="id340"/>
</p></div><div class="section" title="Environment"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec20"/>Environment</h2></div></div></div><p>Pretty art is pretty, but it can't make up for poor design. For artistic people, like me, it can be incredibly easy to fall into the trap of starting to polish up an area before finishing it. After doing preproduction by designing a layout, build your level using BSP additive brushes at first. At this point, the focus in the level is creating an environment that is fun, and has some semblance to the environment that we want the level to take place in. It is important to do whatever we can, to exploit the type of gameplay that we want to occur as well. For example, we could give the player places to hide from enemies and take pot shots, making the player feel smart for outsmarting the enemies.<a class="indexterm" id="id341"/>
</p><p>One of the most important things you can do as a designer is empowering the players as they are not your enemies, they're your best friends, and are ultimately who gives you your pay check, so it's important to respect them. Aside from the actual physical environment, an environment's lighting can be used in many different ways to affect players. Primarily, light draws focus to things and leads players to travel towards it. Darkness and the unknown are uncomfortable areas for players to be in and not lighting areas as much as others adds to the foreboding nature that an area could have.<span class="emphasis"><em> Monolith's</em></span> F.E.A.R. does this quite nicely by turning a regular everyday office into an intense and dangerous place to be in, even though you are fully armed and equipped to handle anything that may come by your way.</p></div><div class="section" title="Scripting"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec21"/>Scripting</h2></div></div></div><p>As important as the placement and spawning of an enemy is, if the enemy doesn't do anything the game will get old quickly. We've created a basic AI for what an enemy could do to enemies, and there are a lot of ways to expand upon it and create unique situations based on what is going on in the game. In large open areas, as long as the player does something resembling intelligence, things seem to go well to which our AI, though limited, can be used to good effect. In general, the tighter the environment, the more you'll want to hand-script the enemy's behavior.<a class="indexterm" id="id342"/>
</p><p>Flanking is a type of behavior in which an enemy is able to come at a target from its sides or behind it, catching it off guard. Flanking in games can be both good and bad. If done well, it can make the player improvise and feel a rush of excitement. If done poorly however, it will make player think AI is cheating, and cause the player to resent the encounter. If you do decide to implement flanking, wait and let the player engage the area before attempting to flank, and make the first shot miss and let the player notice where the shot came from so they can adjust.</p><p>Another tool that designers can utilize is the idea of waves in an environment where you spawn different enemies at different times, in order to extend the gameplay and time spent in a certain area. However, each wave should be unique or else the player will get bored easily.<span class="emphasis"><em> Dungeon Defenders</em></span> does this in a good way by incrementing difficulty over time making sure that things don't get boring.<a class="indexterm" id="id343"/>
</p><p>Keep in mind the difficulty of your waves and encounters in general, and modify the elements that you can in order to curve up the difficulty in each encounter, but also give the player a chance to take a breather once in a while to reflect on how powerful he has become.</p></div><div class="section" title="Playtesting"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec22"/>Playtesting</h2></div></div></div><p>In my opinion, a game designer is the player's advocate and in that role, their main responsibility is to make a game that your target audience will love. Because of this, playtesters are a game designer's best friend. They are the voice of how a normal person is going to react to your game, and as such it is important that you take what they say seriously. They are the people that are going to find and exploit anything they can get their hands on within your world as well and you will find things you never thought of possible in your game. They are going to suggest changes and it will be your decision whether or not those changes are really worth having or not.<a class="indexterm" id="id344"/>
</p><p>It is also very important that you have people to play your game without your input. Most designers believe that they have covered every possible thing a player can do, but it is almost guaranteed that something has been forgotten. In level design, it is important to see what directions players go in, and whether they are being guided in the correct way.</p></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec08"/>Summary</h1></div></div></div><p>We now have all of the pieces that we need to create our game and have learned a lot of things in the process. By using the same principles given in this chapter it is possible to expand and create many different types of enemies and behaviors.</p><p>In this short period of time we managed to cover quite a lot of things. We specifically learned the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">What sequences are and how we use them</li><li class="listitem" style="list-style-type: disc">How to spawn an enemy into our level</li><li class="listitem" style="list-style-type: disc">What we can do to develop a rudimentary AI system that will shoot at us if we are close to it</li><li class="listitem" style="list-style-type: disc">How to expand upon that system by adding chasing and retreating behavior</li><li class="listitem" style="list-style-type: disc">How to create additional enemies using import/export subsequences</li><li class="listitem" style="list-style-type: disc">How to implement regenerating health using remote events</li><li class="listitem" style="list-style-type: disc">What prefabs are and how we can and their use them in our project</li><li class="listitem" style="list-style-type: disc">How to make a door prefab</li><li class="listitem" style="list-style-type: disc">Things to consider when creating combat scenarios</li></ul></div><p>Now we've learned how to build all of the base elements that we will need to implement our game.</p><p>In the next chapter, we will be bringing all of these pieces together to create our full-fledged game by discussing a workflow for creating levels using<span class="strong"><strong> Geometry Mode</strong></span>, how to use modular pieces to create our level quickly, and advice on building levels on</p></div></body></html>