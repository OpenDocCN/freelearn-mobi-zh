<html><head></head><body><div class="chapter" title="Chapter&#xA0;6.&#xA0;Tools"><div class="titlepage"><div><div><h1 class="title"><a id="ch06"/>Chapter 6. Tools</h1></div></div></div><p>In the previous chapter, you learned about the useful services that Google provides, which can be used by developers to improve their applications. Now, you will learn about tools available in Android Studio that make your life easier. Have you wondered how to manage the Android platforms? Do you want to have your project clearly documented? Are you working as a group of developers and need a version control manager integrated with Android Studio?</p><p>This chapter describes the most important additional tools provided in Android Studio: Android SDK tools, Javadoc, and version control integration. First, you will learn about the SDK Manager available in Android Studio from which you'll be able to examine, update, and<a class="indexterm" id="id227"/> install different components for our project. Next, we will review the <span class="strong"><strong>Android Virtual Device</strong></span> (<span class="strong"><strong>AVD</strong></span>) Manager, where we can edit the virtual devices in which we will be testing our project. You will also learn how to have complete documentation using the Javadoc tool, how to have version control using the systems available in Android Studio, and how to handle your project tasks.</p><p>These are the topics we'll be covering in this chapter:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">SDK Manager</li><li class="listitem" style="list-style-type: disc">AVD Manager</li><li class="listitem" style="list-style-type: disc">Javadoc</li><li class="listitem" style="list-style-type: disc">Version control</li><li class="listitem" style="list-style-type: disc">Tasks and contexts</li></ul></div><div class="section" title="Software Development Kit Manager"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec35"/>Software Development Kit Manager</h1></div></div></div><p>The SDK Manager is<a class="indexterm" id="id228"/> an Android tool accessible from Android Studio to control our Android SDK installation. From this tool, we can examine the Android platforms installed in our system, update them, install new platforms, or install some other components such as Google Play services or Android Support Library.</p><p>To open the <a class="indexterm" id="id229"/>SDK Manager from Android Studio, navigate to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Android</strong></span> | <span class="strong"><strong>SDK Manager</strong></span>. You can also click on the shortcut from the toolbar. The SDK Manager is an independent Android tool that has been integrated in Android Studio default settings at <span class="strong"><strong>Appearance &amp; Behavior</strong></span> | <span class="strong"><strong>System Settings</strong></span> | <span class="strong"><strong>Android SDK</strong></span>, as shown in the next screenshot:</p><div class="mediaobject"><img alt="Software Development Kit Manager" src="graphics/B05459_06_01.jpg"/></div><p>The SDK path configured in Android Studio is displayed at the top of the manager. You can change its path by clicking on the <span class="strong"><strong>Edit</strong></span> button. The SDK Manager displays the list of available <span class="strong"><strong>SDK Platforms</strong></span> packages with the following properties:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Name</strong></span>: This is the name of the container that aggregates related packages. Check the <span class="strong"><strong>Show Package Details</strong></span> checkbox under the list of packages to see the details of the container.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>API level</strong></span>: This is the API number in which the package was added.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Revision</strong></span>: This is the package revision or version.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Status</strong></span>: This is the status of the package on your system. The status can be <span class="emphasis"><em>Not installed</em></span>, <span class="emphasis"><em>Installed</em></span>, <span class="emphasis"><em>Update available</em></span>, <span class="emphasis"><em>Not compatible</em></span>, or <span class="emphasis"><em>Obsolete</em></span>. If the <span class="strong"><strong>Show Package Details</strong></span> checkbox is unchecked, then the status can also be <span class="emphasis"><em>Partially installed</em></span>. With <span class="strong"><strong>Show Package Details</strong></span> unchecked, a container package is considered <span class="emphasis"><em>Installed</em></span> when both the <span class="strong"><strong>SDK Platform</strong></span> and <span class="strong"><strong>Sources for Android SDK</strong></span> packages are installed. If there is only one of these packages installed, the container package status is <span class="emphasis"><em>Partially installed</em></span>.</li></ul></div><p>In the SDK Tools tab, you can manage the available SDK developer tools such as <span class="strong"><strong>Android SDK Platform-tools</strong></span>, <span class="strong"><strong>Android Support Library</strong></span>, or <span class="strong"><strong>Google Play services</strong></span>, which will be explained in <a class="link" href="ch07.html" title="Chapter 7. Google Play Services">Chapter 7</a>, <span class="emphasis"><em>Google Play Services</em></span>.</p><p>In the <span class="strong"><strong>SDK Update Sites</strong></span> tab, we can examine the list of official sites that provide add-ons and extra packages. We can add our custom external sites using the <span class="strong"><strong>Add</strong></span> button at the bottom of the list.</p><p>Click on <a class="indexterm" id="id230"/>the <span class="strong"><strong>Launch Standalone SDK Manager</strong></span> button at the bottom of the screen to open the standalone SDK Manager. This manager was the only option available in old versions of Android Studio. From the standalone SDK Manager, the SDK platforms and tools are listed like in the integrated SDK Manager, but we can also find some more options to filter and select the packages.</p><p>The packages can be filtered by their state using the checkboxes under the list. These options are also accessible from the <span class="strong"><strong>Packages</strong></span> menu at the top.</p><p>Next to the name of the packages, there is a checkbox to select the packages we want to install, update, or delete. As shown in the next screenshot, the packages that are installed in our system and also have an update available are checked by default:</p><div class="mediaobject"><img alt="Software Development Kit Manager" src="graphics/B05459_06_02.jpg"/></div><p>If there is a new Android platform version that is not installed, its packages will also be checked, as shown in the following screenshot:</p><div class="mediaobject"><img alt="Software Development Kit Manager" src="graphics/B05459_06_03.jpg"/></div><p>The total number of selected packages to be installed or updated is indicated in the text of the<a class="indexterm" id="id231"/> button at the bottom of the dialog. The button under it indicates the total number of selected packages to be deleted. You can delete packages that are deprecated or packages that you do not need anymore.</p><p>Check the packages that need to be updated and also check the last Android platform. In addition, you should check the minimum platform supported by our application (Android 4.1.2, API 16) to be able to test our application in a virtual device using this version. Click on the <span class="strong"><strong>Install</strong></span> button.</p><p>In the next dialog, we have to accept the package licenses. Check the <span class="strong"><strong>Accept License</strong></span> radio button and click on the <span class="strong"><strong>Install</strong></span> button. The installation or update of the packages will start showing its progress. First, the manager downloads the packages, then it unzips them, and, finally, it installs them.</p><p>Remember to check the SDK Manager from time to time for updates.</p></div></div>
<div class="section" title="The AVD Manager"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec36"/>The AVD Manager</h1></div></div></div><p>The <span class="strong"><strong>AVD Manager</strong></span> is an Android tool accessible from Android Studio to manage the Android virtual devices that will be executed in the Android emulator.</p><p>To open the <a class="indexterm" id="id232"/>AVD Manager from Android Studio, navigate to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Android</strong></span> | <span class="strong"><strong>AVD Manager</strong></span>. You can also click on the shortcut from the toolbar. The AVD Manager displays the list of the existing virtual devices. Since we have not created any virtual devices, the list will initially be empty. To create our first virtual device, click on the <span class="strong"><strong>Create Virtual Device</strong></span> button to open the configuration dialog.</p><p>The first step is<a class="indexterm" id="id233"/> to select the hardware configuration of the virtual device. The device definitions are listed on the left-hand side of the window. Device definitions can be classified into one of these categories: <span class="strong"><strong>Phone</strong></span>, <span class="strong"><strong>Tablet</strong></span>, <span class="strong"><strong>Wear</strong></span>, or <span class="strong"><strong>TV</strong></span>. Select one of them in the <span class="strong"><strong>Phone</strong></span> category, such as Nexus 6, to examine its details on the right-hand side, as shown in the following screenshot:</p><div class="mediaobject"><img alt="The AVD Manager" src="graphics/B05459_06_04.jpg"/></div><p>We can also <a class="indexterm" id="id234"/>configure our own hardware device definitions from the AVD Manager. We can create a new definition using the <span class="strong"><strong>New Hardware Profile</strong></span> button. The <span class="strong"><strong>Clone Device…</strong></span> button creates a duplicate of an existing device.</p><p>Click on the <span class="strong"><strong>New Hardware Profile</strong></span> button to examine the existing configuration parameters. The parameters that define a device are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Device Name</strong></span>: This is the name of the device.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Device Type</strong></span>: This is the device type, which can be a <span class="strong"><strong>Phone/Tablet</strong></span>, <span class="strong"><strong>Android Wear</strong></span>, or <span class="strong"><strong>Android TV</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Screensize</strong></span>: This is screen size in inches. This value determines the size category of the device. Type a value of <code class="literal">4.0</code> and notice how the <span class="strong"><strong>Size</strong></span> value (on the right-hand side) becomes <span class="strong"><strong>normal</strong></span>, as the following screenshot shows:<div class="mediaobject"><img alt="The AVD Manager" src="graphics/B05459_06_05.jpg"/></div><p>Now, type <a class="indexterm" id="id235"/>a value of <code class="literal">7.0</code> and the <span class="strong"><strong>Size</strong></span> field changes its value to <span class="strong"><strong>large</strong></span>, as the following screenshot shows:</p><div class="mediaobject"><img alt="The AVD Manager" src="graphics/B05459_06_06.jpg"/></div><p>This parameter, along with the screen resolution, also determines the <span class="strong"><strong>Density</strong></span> category.</p></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Resolution</strong></span>: This is the screen resolution in pixels. This value determines the density category of the device. For a screen size of <code class="literal">4.0</code> inches, type a value of <code class="literal">768 x 1280</code> and note how the <span class="strong"><strong>Density</strong></span> value becomes <span class="strong"><strong>360 dpi</strong></span>. Change the screen size to <code class="literal">6.0</code> inches and the <span class="strong"><strong>Density</strong></span> value changes to <span class="strong"><strong>hdpi</strong></span>. Now, change the resolution to <code class="literal">480 x 800</code> and the <span class="strong"><strong>Density</strong></span> value will be <span class="strong"><strong>mdpi</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>RAM</strong></span>: This is the RAM memory size of the device.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Input</strong></span>: This configures software and hardware inputs. The <span class="strong"><strong>Has Hardware Buttons</strong></span> checkbox indicates whether the <span class="strong"><strong>Back</strong></span>, <span class="strong"><strong>Home</strong></span>, or <span class="strong"><strong>Menu</strong></span> buttons of the device are available via software or hardware. The <span class="strong"><strong>Has Hardware Keyboard</strong></span> checkbox indicates whether the keyboard is available via software or hardware. The <span class="strong"><strong>Navigation Style</strong></span> selector enables the navigation controls via Directional Pad (<span class="strong"><strong>D-Pad</strong></span>), <span class="strong"><strong>Trackball</strong></span>, or <span class="strong"><strong>Wheel</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Supported device states</strong></span>: This checks the allowed states, which are <span class="strong"><strong>Portrait</strong></span> and <span class="strong"><strong>Landscape</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Cameras</strong></span>: This checks whether the device has a <span class="strong"><strong>Front-facing camera</strong></span> or a <span class="strong"><strong>Back-facing camera</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Sensors</strong></span>: These are the sensors available in the device. They are <span class="strong"><strong>Accelerometer</strong></span>, <span class="strong"><strong>Gyroscope</strong></span>, <span class="strong"><strong>GPS</strong></span>, and <span class="strong"><strong>Proximity Sensor</strong></span>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Default Skin</strong></span>: This selects additional hardware controls.</li></ul></div><p>Create <a class="indexterm" id="id236"/>a new device with a screen size of 5.5 inches, a resolution of 1080 x 1920, a RAM value of 2048 MiB, software buttons (leave input boxes unchecked), and both portrait and landscape states enabled. Name it <code class="literal">My Device</code>. Then, click on the <span class="strong"><strong>Finish</strong></span> button. The hardware definition has been added to the list of configurations. If you right-click on the new hardware profile, you can edit it, clone it, export it, or delete it. Hardware profiles are exported using a XML format.</p><p>Click on the <span class="strong"><strong>Next</strong></span> button to continue the creation of a new virtual device. The next step is to select the virtual device system image and the target Android platform. Each platform has its own architecture. The system images are listed on the left-hand panel and the details of a selected system image are shown in the right-hand panel. If a <span class="strong"><strong>Recommendation</strong></span> message appears in the detail panel as shown in the next screenshot, follow the recommendation and select a different image.</p><div class="mediaobject"><img alt="The AVD Manager" src="graphics/B05459_06_07.jpg"/></div><p>Along <a class="indexterm" id="id237"/>with <span class="strong"><strong>Release Name</strong></span> of a system image, there is a <span class="strong"><strong>Download</strong></span> button. Select one of the <span class="strong"><strong>Recommended</strong></span> images of the Marshmallow (API level 23) release with Google APIs and click on the <span class="strong"><strong>Download</strong></span> button. Wait until the installation is finished and click on the <span class="strong"><strong>Next</strong></span> button.</p><p>The last step is to verify the configuration of the virtual device. Enter the name of the AVD in the <span class="strong"><strong>AVD Name</strong></span> field. Give the virtual device a meaningful name to recognize it easily, such as <code class="literal">AVD_nexus6_api23</code>. Click on the <span class="strong"><strong>Show Advanced Settings</strong></span> button. The settings that we can configure for the virtual device are the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Startup size and orientation</strong></span>: Select a scale for the screen and the initial orientation of the device. We recommend selecting the <span class="strong"><strong>Auto</strong></span> scale.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Camera</strong></span>: Select this if the emulator has a front camera or a back camera. The camera can be <span class="strong"><strong>Emulated</strong></span> (which emulates that the device is actually capturing a video with the camera) or can be real (by the use of a <span class="strong"><strong>Webcam</strong></span> from the computer).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Network</strong></span>: Select the speed of the simulated network and the delay in processing data across the network. This is useful for testing your app with low connections or missing responses.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Emulated Performance</strong></span>: Select how graphics are rendered in the device. They can be rendered using your computer's graphics (<span class="strong"><strong>Hardware</strong></span>) or they can be emulated in software (<span class="strong"><strong>Software</strong></span>). We recommend selecting the <span class="strong"><strong>Auto</strong></span> option.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Memory and Storage</strong></span>: Select the memory parameters of the virtual device. Leave the default values as they are, but, if a warning message is shown, follow the instructions of that message. For example, select <span class="strong"><strong>1536M</strong></span> for the <span class="strong"><strong>RAM</strong></span> memory and <span class="strong"><strong>64</strong></span> for the <span class="strong"><strong>VM Heap</strong></span>. The <span class="strong"><strong>Internal Storage</strong></span> option can also be configured, for example, <span class="strong"><strong>200 MiB</strong></span>. Select the size of <span class="strong"><strong>SD Card</strong></span> or select a file to behave as the SD card.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Device Frame</strong></span>: Select this if additional hardware controls are displayed in the emulator.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Keyboard</strong></span>: Select this if a hardware keyboard is displayed in the emulator.</li></ul></div><p>Click <a class="indexterm" id="id238"/>on <span class="strong"><strong>Finish</strong></span>. The new virtual device is now listed in the AVD Manager. On the <span class="strong"><strong>Actions</strong></span> section of the recently created virtual device, you can find the following actions:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Start</strong></span> icon: This runs the virtual device.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Edit</strong></span> icon: This edits the virtual device configuration.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Duplicate</strong></span>: This creates a new device configuration displaying the last step of the creation process. You can change its configuration parameters and then verify the new device.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Wipe Data</strong></span>: This removes the user files from the virtual device.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Show on Disk</strong></span>: This opens the virtual device directory in your system.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>View Details</strong></span>: This opens a dialog detailing the virtual device's characteristics.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Delete</strong></span>: This deletes the virtual device.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Stop</strong></span>: This stops the virtual device.</li></ul></div><p>A <span class="strong"><strong>Download</strong></span> button in the <span class="strong"><strong>Actions</strong></span> section, like in the next screenshot, means that the system image of that AVD is missing. Click on the <span class="strong"><strong>Download</strong></span> button to install it in your system:</p><div class="mediaobject"><img alt="The AVD Manager" src="graphics/B05459_06_08.jpg"/></div><p>The recently created AVD will also be listed in the device selector of the graphical editor of a layout. In Android Studio, open the main layout with the graphical editor and click on the list of the devices. As the following screenshot shows, our custom device definition<a class="indexterm" id="id239"/> appears and we can select it to preview the layout:</p><div class="mediaobject"><img alt="The AVD Manager" src="graphics/B05459_06_09.jpg"/></div><div class="section" title="The Android emulator"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec20"/>The Android emulator</h2></div></div></div><p>Now <a class="indexterm" id="id240"/>that we have one AVD<a class="indexterm" id="id241"/> created in the AVD Manager, we can run it on the Android <a class="indexterm" id="id242"/>emulator. Open the AVD Manager and click on the <span class="strong"><strong>Start</strong></span> button of the AVD. The emulator will be opened, as shown in the next screenshot. Wait until it is completely loaded and then you will be able to try it.</p><div class="mediaobject"><img alt="The Android emulator" src="graphics/B05459_06_10.jpg"/></div><p>Next to<a class="indexterm" id="id243"/> the emulator, to its right-hand side, there is a bar with actions: power button, volume up and down, rotate left and right, take screenshot, zoom, back button, home button, overview button, and the extended controls.</p><p>Click on the <span class="strong"><strong>More</strong></span> option to open the next extended controls:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Location</strong></span>: This<a class="indexterm" id="id244"/> emulates the location of the device by setting latitude, longitude, and altitude. You can also emulate a series of location changes. Unfortunately, no map is provided to easily select a location, but you can use Google Maps to get the latitude and longitude of the locations you want to emulate. This mechanism is useful if your app displays a map or depends on the user's location to trigger a specific action. To try this feature, open the Google Maps app on the virtual device. Enter some coordinates in the <span class="strong"><strong>Extended controls</strong></span> and click on <span class="strong"><strong>SEND</strong></span>. Observe how Google Maps draws your location in the one you entered as<a class="indexterm" id="id245"/> the following screenshot shows:<div class="mediaobject"><img alt="The Android emulator" src="graphics/B05459_06_11.jpg"/></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Cellular</strong></span>: This emulates the speed of the network (<span class="strong"><strong>Full</strong></span>, <span class="strong"><strong>HSDAP</strong></span>, <span class="strong"><strong>UMTS</strong></span>, and so on). This<a class="indexterm" id="id246"/> also <a class="indexterm" id="id247"/>emulates <span class="strong"><strong>Data status</strong></span> and <span class="strong"><strong>Voice status</strong></span>. This mechanism is useful, if your app depends on external data, to examine how it works with slow network connections. Try this feature by changing the <span class="strong"><strong>Network type</strong></span> to <span class="strong"><strong>EDGE</strong></span> and note how it changes in the emulator:<div class="mediaobject"><img alt="The Android emulator" src="graphics/B05459_06_12.jpg"/></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Battery</strong></span>: This emulates the battery charge level, if the device is connected to a charger, the battery health, or the battery status. This mechanism is useful if your app<a class="indexterm" id="id248"/> changes<a class="indexterm" id="id249"/> its behavior depending on the battery status. For example, if the battery level is low, you can avoid unnecessary network requests to reduce battery consumption. If you change the <span class="strong"><strong>Charge level</strong></span> to <span class="strong"><strong>10%</strong></span> and the <span class="strong"><strong>Charger connection</strong></span> to <span class="strong"><strong>None</strong></span>, the emulator displays a low battery notification:<div class="mediaobject"><img alt="The Android emulator" src="graphics/B05459_06_13.jpg"/></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Phone</strong></span>: This emulates a phone call or a SMS message. This mechanism is useful, for example, to examine how your app recovers from interruptions. To try this feature, click on the <span class="strong"><strong>CALL DEVICE</strong></span> button and see how the device <a class="indexterm" id="id250"/>receives<a class="indexterm" id="id251"/> the call, as the next screenshot shows:<div class="mediaobject"><img alt="The Android emulator" src="graphics/B05459_06_14.jpg"/></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Directional pad</strong></span>: This<a class="indexterm" id="id252"/> emulates a directional pad.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Fingerprint</strong></span>: This emulates a finger touching the fingerprint sensor. This mechanism is<a class="indexterm" id="id253"/> useful if your app has a fingerprint security step, for example, to make a payment. To try this feature, open the Android <span class="strong"><strong>Settings</strong></span> in the virtual device, go to <span class="strong"><strong>Security</strong></span>, and click on <span class="strong"><strong>Fingerprint</strong></span>. Follow the steps to add a fingerprint. You will get to the step, shown in the next screenshot, in which you need put your finger on the sensor:<div class="mediaobject"><img alt="The Android emulator" src="graphics/B05459_06_15.jpg"/></div><p>Click<a class="indexterm" id="id254"/> on the <span class="strong"><strong>TOUCH SENSOR</strong></span> button from the <span class="strong"><strong>Extended controls</strong></span>. The fingerprint will be added as shown in the following screenshot:</p><div class="mediaobject"><img alt="The Android emulator" src="graphics/B05459_06_16.jpg"/></div><p>Click on the power button to lock the device and click it again to unlock it. The fingerprint is then required. Click on the <span class="strong"><strong>TOUCH SENSOR</strong></span> button using the same fingerprint and the device will be unlocked.</p></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Settings</strong></span>: These <a class="indexterm" id="id255"/>are the settings of the emulator. For example, you can change the folder to save <a class="indexterm" id="id256"/>the screenshots or if you want to send crash reports.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Help</strong></span>: This <a class="indexterm" id="id257"/>contains <span class="strong"><strong>Keyboard shortcuts</strong></span>, <span class="strong"><strong>Emulator help</strong></span>, and <span class="strong"><strong>About</strong></span>.</li></ul></div><p>Finally, if you selected an emulated camera when you created the device definition, you can test it by opening the camera app in the emulator. Open it and note how a random video appears as if the camera was capturing it:</p><div class="mediaobject"><img alt="The Android emulator" src="graphics/B05459_06_17.jpg"/></div></div></div>
<div class="section" title="Generating Javadoc"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec37"/>Generating Javadoc</h1></div></div></div><p>Javadoc is <a class="indexterm" id="id258"/>a utility to document Java code in HTML format. The Javadoc documentation is generated from comments and tags added to Java classes or methods. The comments start with the <code class="literal">/**</code> string and end with <code class="literal">*/</code>. Inside these comments, tags can be added. The following tags, in the same order as they should be added, are available in Javadoc:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">@author</code>: This<a class="indexterm" id="id259"/> indicates the author or authors of the code.</li><li class="listitem" style="list-style-type: disc"><code class="literal">@version</code>: This <a class="indexterm" id="id260"/>indicates the version of the class or method. Used for classes and interfaces.</li><li class="listitem" style="list-style-type: disc"><code class="literal">@param</code>: This <a class="indexterm" id="id261"/>describes a method parameter. Only used in methods and constructors.</li><li class="listitem" style="list-style-type: disc"><code class="literal">@return</code>: This <a class="indexterm" id="id262"/>describes the return object of a method. Only used in methods that do not return <code class="literal">void</code>.</li><li class="listitem" style="list-style-type: disc"><code class="literal">@throws</code>: This<a class="indexterm" id="id263"/> describes an exception that can be thrown by the method. Equivalent to <code class="literal">@exception</code>.</li><li class="listitem" style="list-style-type: disc"><code class="literal">@see</code>: This<a class="indexterm" id="id264"/> indicates a reference, which can be an URL, another element in the documentation, or just some text.</li><li class="listitem" style="list-style-type: disc"><code class="literal">@serial</code>: This<a class="indexterm" id="id265"/> indicates if a field is serializable.</li><li class="listitem" style="list-style-type: disc"><code class="literal">@deprecated</code>: This<a class="indexterm" id="id266"/> indicates that a method is deprecated and there is a replacement.</li></ul></div><p>The use of <a class="indexterm" id="id267"/>Javadoc is integrated in Android Studio. We can use code completion when typing Javadoc comments. Javadoc documentation will appear in the pop-up tool tips of the code elements.</p><p>To generate a complete Javadoc, we have to write the Javadoc comments about our classes and methods. Open the main activity of our project to add the Javadoc comments to the <code class="literal">onAcceptClick</code> method we created in <a class="link" href="ch05.html" title="Chapter 5. Creating User Interfaces">Chapter 5</a>, <span class="emphasis"><em>Creating User Interfaces</em></span>. Place the caret on the line before the method declaration, type <code class="literal">/**</code>, and press <span class="emphasis"><em>Enter</em></span>. The Javadoc comments are automatically inserted containing the available information from the method declaration: parameters and return type. In this case, there is no return type, so the automatically generated Javadoc is the following:</p><div class="informalexample"><pre class="programlisting">/**
 * 
 * @param v
 */</pre></div><p>The first line of the documentation comments is the method description. Then, it explains each parameter and the return type. The method should now look like this:</p><div class="informalexample"><pre class="programlisting">/**
 * Method executed when the user clicks on the Accept button.
 * Change the greeting message to include the name introduced by the user in the editText box.
 *
 * @param v View the user clicked
 */
public void onAcceptClick(View v) { ... }</pre></div><p>This information about the method will now be displayed as its documentation in the emerging dialogs. The<a class="indexterm" id="id268"/> following screenshot shows the dialog that should appear over the method:</p><div class="mediaobject"><img alt="Generating Javadoc" src="graphics/B05459_06_18.jpg"/></div><p>To generate the Javadoc documentation, navigate to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Generate Javadoc...</strong></span>. A dialog showing the Javadoc options will be opened. We can select the scope, if we want to include test or library sources, the output directory, and the visibility of the included elements. Related to the format of documentation, we can create a hierarchy tree, a navigation bar, and an index if needed.</p><p>Check <span class="strong"><strong>Current File</strong></span> as scope to generate just the documentation of our main activity. Select an output directory from your system. Reduce the visibility to <span class="strong"><strong>public</strong></span> and click on the <span class="strong"><strong>OK</strong></span> button. The Javadoc documentation in HTML format has been created in the output directory. The <code class="literal">index.html</code> file is the start point. Open the <code class="literal">index.html</code> file and navigate through the documentation to open the <code class="literal">MyActivity</code> class, like in the following screenshot. Note that the <code class="literal">onCreate</code> method, whose visibility is protected, does not appear, as we reduced the visibility of the generated Javadoc to <span class="strong"><strong>public</strong></span> elements.</p><div class="mediaobject"><img alt="Generating Javadoc" src="graphics/B05459_06_19.jpg"/></div></div>
<div class="section" title="Tasks and contexts"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec38"/>Tasks and contexts</h1></div></div></div><p>Android Studio integrates several issue tracking systems. An issue tracking system is a software<a class="indexterm" id="id269"/> tool that manages lists of issues. Some issue tracking systems supported by Android Studio are the following: Jira, YouTrack, Lighthouse, Mantis, Trello, or Bugzilla.</p><p>To integrate<a class="indexterm" id="id270"/> one of these tracking systems into your project using Android <a class="indexterm" id="id271"/>Studio, navigate to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Tasks &amp; Contexts</strong></span> | <span class="strong"><strong>Configure Servers...</strong></span>. Click on the <span class="strong"><strong>Add</strong></span> button and select one of the available systems. You need to enter the server URL, the authentication values, and some additional parameters depending on the system type.</p><p>From the <span class="strong"><strong>Tasks &amp; Contexts</strong></span> menu you will find the actions to manage the tasks, such as switching among tasks, creating a new task, closing the current task, or editing the current task.</p><p>A task is identified by its name and is usually attached to an issue in your issue tracking system. A task can also be associated with a context, which defines a set of files that will be opened in the editor when you work on it. You can create, load, or clear a context from the <span class="strong"><strong>Tasks &amp; Contexts</strong></span> menu.</p><p>Let's create a task. Navigate to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Tasks &amp; Contexts</strong></span> | <span class="strong"><strong>+ Open Task...</strong></span>. Type the name, for example, <code class="literal">My first task</code>, and click on <span class="strong"><strong>Create New Task 'My first task'</strong></span>. The creation dialog will be displayed as in the next screenshot:</p><div class="mediaobject"><img alt="Tasks and contexts" src="graphics/B05459_06_20.jpg"/></div><p>When you <a class="indexterm" id="id272"/>create a new task, you can clear the context and create a new branch in your<a class="indexterm" id="id273"/> VCS. Click <span class="strong"><strong>OK</strong></span> to finish the creation. If you check the <span class="strong"><strong>Clear current context</strong></span> option, all the files that were open in the editor are now closed.</p><p>In the toolbar of Android Studio there is a new item, a drop-down list with your tasks. As shown in the next screenshot, our current task is the recently created <span class="strong"><strong>My first task</strong></span>. Note the existence of a previous task, the <span class="strong"><strong>Default task</strong></span>:</p><div class="mediaobject"><img alt="Tasks and contexts" src="graphics/B05459_06_21.jpg"/></div><p>When you are ready to close a task, navigate to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Tasks &amp; Contexts</strong></span> | <span class="strong"><strong>Close Active Task...</strong></span>. In the close task dialog, you can commit the changes and merge the current branch.</p></div>
<div class="section" title="Version control systems"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec39"/>Version control systems</h1></div></div></div><p>Android Studio<a class="indexterm" id="id274"/> integrates some <span class="strong"><strong>version control systems</strong></span> (<span class="strong"><strong>VCS</strong></span>): GitHub, CVS, Git, Google Cloud, Mercurial, and Subversion. To enable version control integration, navigate to <span class="strong"><strong>VCS</strong></span> | <span class="strong"><strong>Enable Version Control Integration...</strong></span> and select the type of system. Now, some more options will be added to the <span class="strong"><strong>VCS</strong></span> menu:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">To update the entire project, navigate to <span class="strong"><strong>VCS</strong></span> | <span class="strong"><strong>Update Project...</strong></span></li><li class="listitem" style="list-style-type: disc">To commit all the changes to the project, navigate to <span class="strong"><strong>VCS</strong></span> | <span class="strong"><strong>Commit Changes...</strong></span></li></ul></div><p>The first step is to do the checkout from the version control system. Navigate to <span class="strong"><strong>VCS</strong></span> | <span class="strong"><strong>Checkout from Version Control</strong></span>, click on the add icon, and type the repository URL or the repository configuration.</p><p>The version control actions can also be applied to individual files. Right-click on any file of the project and select the <span class="strong"><strong>Subversion</strong></span> section. From the emerging menu, we can add the file to the <a class="indexterm" id="id275"/>repository, add it to the ignore list, browse the changes, revert the changes, or lock it.</p><p>A simpler way to control the file versions is using the <span class="strong"><strong>Local History</strong></span> option. Open the main activity file in the editor and navigate to <span class="strong"><strong>VCS</strong></span> | <span class="strong"><strong>Local History</strong></span> | <span class="strong"><strong>Show History</strong></span>. The file history dialog will be opened. On the left-hand side of the dialog, the available versions of the file are listed. Select an older version to compare it to the current version of the file. The differences between the older version and the current version are highlighted. Gray color is used to indicate a block of deleted code, blue color to highlight the text that has changed, and green color to indicate the newly inserted text. From the top icons, we can revert the changes and configure the whitespaces visualization. The following screenshot shows the comparison between two versions of our main activity. We can observe how the method we recently added—the <code class="literal">onAcceptClick</code> method—is highlighted in green:</p><div class="mediaobject"><img alt="Version control systems" src="graphics/B05459_06_22.jpg"/></div><p>We can also examine the local history of a specific block of code. Close the dialog, select some lines of code from the editor, and navigate to <span class="strong"><strong>VCS</strong></span> | <span class="strong"><strong>Local History</strong></span> | <span class="strong"><strong>Show History for Selection</strong></span>. The same history dialog will be opened, but, this time, it displays the versions of the selected code.</p></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec40"/>Summary</h1></div></div></div><p>By the end of this chapter, you have the knowledge required to use the Android SDK Manager tool to install, update, or examine available platforms for your project. You can create a new AVD and edit it whenever necessary. Creating complete documentation for our project should no longer be a problem using Javadoc and we should also be able to work with a VCS integrated in Android Studio.</p><p>In the next chapter, you will learn about the available Google Play services and how to integrate them with your project using Android Studio. We will also see how to install and integrate different libraries available with Google technology, such as Google Maps, Google Cloud Messaging, and more.</p></div></body></html>