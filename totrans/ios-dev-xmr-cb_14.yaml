- en: Chapter 14. Deploying
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第14章 部署
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Creating profiles
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建配置文件
- en: Creating an ad hoc distribution bundle
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建一个ad hoc分发包
- en: Preparing an app for the App Store
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为App Store准备应用
- en: Submitting an app to the App Store
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将应用提交到App Store
- en: Introduction
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: In this chapter, we will walk through all the required steps for preparing and
    installing the appropriate certificates on the development computer. We will also
    learn how to create the provisioning profiles that will allow us to deploy the
    app to a device, whether it is our own or someone else's, or send it to beta testers
    for installation on their devices.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将详细介绍在开发计算机上准备和安装适当证书的所有必要步骤。我们还将学习如何创建允许我们将应用部署到设备（无论是自己的还是他人的）或发送给测试人员进行设备安装的配置文件。
- en: Finally, we will see how to prepare the app for App Store submission and the
    process for its final release to the App Store.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将了解如何为App Store提交应用以及其最终发布到App Store的过程。
- en: Creating profiles
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建配置文件
- en: In this recipe, we will go through a step-by-step guide to creating and installing
    the appropriate certificates and provisioning profiles that are required for deploying
    an app to the device.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在本食谱中，我们将逐步指导创建和安装部署应用到设备所需的适当证书和配置文件。
- en: How to do it...
  id: totrans-11
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: The following steps will guide you through the process of creating your developer
    certificate and appropriate provisioning profiles for an app.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将指导您完成创建开发者证书和为应用创建适当的配置文件的过程。
- en: 'We will start with the developer certificate, as follows:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从开发者证书开始，如下所示：
- en: Log in to the iOS Developer website at [http://developer.apple.com/ios](http://developer.apple.com/ios).
  id: totrans-14
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到[iOS开发者网站](http://developer.apple.com/ios)。
- en: Go to the iOS **Provisioning Portal**.
  id: totrans-15
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 前往iOS **配置文件门户**。
- en: Go to **Certificates, Identifiers & Profiles** from the menu on the right-hand
    side and click on **Certificates** on the next page.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从右侧菜单转到**证书、标识符和配置文件**，然后在下一页点击**证书**。
- en: Click on the plus (**+**) button on the right-hand side to add a new certificate.
    The following screenshot shows the settings page for the new certificate:![How
    to do it...](img/8924OT_14_01.jpg)
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击右侧的加号（**+**）按钮添加新证书。以下截图显示了新证书的设置页面：![如何操作...](img/8924OT_14_01.jpg)
- en: Select **iOS App Development** and click on **Continue**.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**iOS应用开发**并点击**继续**。
- en: The next page provides information on creating a **Certificate Signing Request**
    (**CSR**) on your Mac. Follow the instructions to create a CSR and click on **Continue**.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一页提供了在您的Mac上创建**证书签名请求**（**CSR**）的信息。按照说明创建CSR并点击**继续**。
- en: On the next page, upload the CSR file and click on **Generate**.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一页，上传CSR文件并点击**生成**。
- en: After the certificate is generated, you will have the option of downloading
    it. Download it and double-click on the `.cer` file to install it. Keychain Access
    will open, showing the installed certificates on the machine.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 证书生成后，您将可以选择下载它。下载并双击`.cer`文件进行安装。Keychain Access将打开，显示机器上安装的证书。
- en: 'Now that the certificate is installed, we need to set up Xamarin Studio to
    be able to use it. If you haven''t already done so, close Keychain Access, as
    we don''t need it. Perform the following steps:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 现在证书已安装，我们需要设置Xamarin Studio以便使用它。如果您尚未这样做，请关闭Keychain Access，因为我们不需要它。执行以下步骤：
- en: Open Xamarin Studio.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开Xamarin Studio。
- en: Open **Preferences** (*Cmd* + *,*).
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**首选项**（*Cmd* + *,*）。
- en: Under the **Developer Accounts** option, click on the plus button to add your
    Apple Developer account.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**开发者账户**选项下，点击加号按钮添加您的Apple开发者账户。
- en: Enter your Apple Developer account credentials and click on **OK**.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入您的Apple开发者账户凭据并点击**确定**。
- en: 'The following screenshot displays Xamarin Studio''s **Preferences** window
    with a developer account already added:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了Xamarin Studio的**首选项**窗口，其中已添加了开发者账户：
- en: '![How to do it...](img/8924OT_14_02.jpg)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/8924OT_14_02.jpg)'
- en: 'Now that we have issued and installed our developer certificate, we need to
    register the devices we will be using for debugging by performing the following
    steps:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经颁发并安装了我们的开发者证书，我们需要通过以下步骤注册我们将用于调试的设备：
- en: Back in **Certificates, Identifiers & Profiles** of the Apple Developer portal,
    click on **Devices** on the left-hand side of the page.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回到Apple开发者门户的**证书、标识符和配置文件**，点击页面左侧的**设备**。
- en: Click on the plus button (**+**) to add a new device.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击加号按钮（**+**）以添加新设备。
- en: Enter a name for the device. If you are testing on multiple devices that do
    not belong to you, you will only be able to tell them apart by this name, so make
    sure it is something that will help you identify the device, for example, `Mike's
    iPhone 5s`.
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入设备的名称。如果您在测试不属于您的多个设备，您只能通过此名称来区分它们，所以请确保它有助于您识别设备，例如，`Mike的iPhone 5s`。
- en: Enter the device's **Unique Device Identifier** (**UDID**). You can find a device's
    UDID by connecting the device on your Mac and opening iTunes. Under the device's
    **Summary** tab, clicking on the serial number will display the UDID. Right-click
    on it and click on **Copy**. You can now paste it in the UDID field.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入设备的**唯一设备标识符**（**UDID**）。您可以通过在 Mac 上连接设备并打开 iTunes 来找到设备的 UDID。在设备的**摘要**选项卡下，点击序列号将显示
    UDID。右键单击并点击**复制**。您现在可以将其粘贴到 UDID 字段中。
- en: Click on **Continue**. The device is now added to your Apple Developer account
    and can be used for debugging and testing with your app.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**继续**。设备现在已添加到您的 Apple 开发者账户中，并可用于调试和测试您的应用。
- en: We have created a development profile, set up Xamarin Studio, and added at least
    one device to our Apple Developer account. The next stage is to create an App
    ID and a provisioning profile, which will allow our app to be installed on a device.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已创建开发配置文件，设置好 Xamarin Studio，并将至少一个设备添加到我们的 Apple 开发者账户中。下一步是创建 App ID 和配置文件，这将允许我们的应用在设备上安装。
- en: 'Follow these steps to create an App ID:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤创建 App ID：
- en: In the **Certificates, Identifiers & Profiles** page, click on **App IDs** on
    the left-hand side of the page.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**证书、标识符和配置文件**页面，点击页面左侧的**App IDs**。
- en: Click on the plus button (**+**) on the right-hand side to create a new App
    ID.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击右侧的加号按钮（**+**）以创建新的 App ID。
- en: In the **App ID Description** section, enter a name for the App ID.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**App ID 描述**部分，输入 App ID 的名称。
- en: Select an **App ID Prefix**. If there is no available prefix, select **Generate
    New**.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**App ID 前缀**。如果没有可用的前缀，请选择**生成新**。
- en: In the **App ID Suffix** section, enter a bundle ID. As the instructions suggest,
    it is a good practice to use a reverse-domain name style string (for example,
    `com.mycompany.myapp`) for a bundle ID.
  id: totrans-41
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**App ID 后缀**部分，输入包 ID。根据说明，使用反向域名风格字符串（例如，`com.mycompany.myapp`）作为包 ID 是一个好习惯。
- en: Click on **Continue**, and the App ID is created.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**继续**，App ID 即被创建。
- en: 'We are almost there. Now, it''s time for the provisioning profile. Perform
    the following steps:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 我们即将完成。现在，是时候创建配置文件了。执行以下步骤：
- en: Click on **Provisioning Profiles** on the left-hand side of the page.
  id: totrans-44
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击页面左侧的**配置文件**。
- en: Click the plus (**+**) button on the right-hand side to create a new provisioning
    profile.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击右侧的加号（**+**）按钮以创建新的配置文件。
- en: Check the **iOS App Development** option and click on **Continue**.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**iOS 应用开发**选项并点击**继续**。
- en: In the next page, select the App ID to which the provisioning profile will be
    bound and click on **Continue**.
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一页，选择将配置文件绑定到的 App ID 并点击**继续**。
- en: After selecting an App ID, we need to select the developer certificate. After
    selecting the developer certificate we created earlier, click on **Continue**.
  id: totrans-48
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 App ID 后，我们需要选择开发者证书。选择我们之前创建的开发者证书后，点击**继续**。
- en: We now need to select the devices that the app can be installed on. Select one
    or more devices and click on **Continue**. It is important to note that the app
    will not be installed to devices that are not included here.
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们现在需要选择应用可以安装的设备。选择一个或多个设备并点击**继续**。请注意，应用不会安装到此处未包含的设备上。
- en: The final step is to give a name to the provisioning profile. Enter your preferred
    name and click on the **Generate** button.
  id: totrans-50
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后一步是为配置文件命名。输入您首选的名称并点击**生成**按钮。
- en: After the provisioning profile is generated, we have the option of downloading
    it. Download and double-click on the `.mobileprovision` file to install it on
    your machine. Xcode will now open, with the **Organizer** window showing all the
    installed provisioning profiles on the machine.
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置文件生成后，我们有下载它的选项。下载并双击 `.mobileprovision` 文件以在您的机器上安装它。Xcode 现在将打开，**组织者**窗口将显示机器上所有已安装的配置文件。
- en: We're done. We have successfully prepared our machine for iOS development and
    all the necessary provisioning profiles that will allow us to debug our app on
    a device!
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 我们完成了。我们已经成功地为 iOS 开发准备了我们的机器，以及所有必要的配置文件，这将允许我们在设备上调试我们的应用！
- en: How it works...
  id: totrans-53
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The process described in this recipe will allow you to deploy and debug your
    app on a device connected to your Mac. It will not allow you to distribute your
    app to beta testers or to the App Store.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 本食谱中描述的过程将允许您在连接到您的 Mac 的设备上部署和调试您的应用。它不会允许您将应用分发给测试人员或 App Store。
- en: The developer certificate is the certificate that allows the compilation of
    apps that will be deployed to devices. It is only meant for development, and one
    developer certificate corresponds to the enrollment of one iOS Developer Program.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 开发者证书是允许编译将部署到设备的应用的证书。它仅用于开发，并且一个开发者证书对应于一个 iOS 开发者计划的注册。
- en: Each provisioning profile holds information on what devices it can be installed
    on. An Apple Developer enrolled to the iOS Developer Program can add up to 100
    devices and include them in a provisioning profile.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 每个配置文件都包含有关它可以安装在其上的设备的信息。注册到 iOS 开发者计划的 Apple 开发者可以添加最多 100 台设备并将它们包含在配置文件中。
- en: The App ID is the identifier of your app. Create one App ID for each of your
    apps.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: App ID 是您应用的标识符。为您的每个应用创建一个 App ID。
- en: The provisioning profile is the electronic signature that allows your app to
    be deployed to the device. Each provisioning profile corresponds to one app and
    holds all the appropriate permissions that will allow the app to execute on the
    device(s) included in it and the App ID information. It is also what distinguishes
    an app for development or distribution. Provisioning profiles are issued with
    an expiration time. At the time of writing this book, the duration of a provisioning
    profile is 1 year.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 配置文件是允许您的应用部署到设备的电子签名。每个配置文件对应一个应用，并包含所有适当的权限，允许应用在其包含的设备（和 App ID 信息）上执行。它也是区分开发或发布应用的关键。配置文件带有有效期。在撰写本书时，配置文件的持续时间是
    1 年。
- en: There's more...
  id: totrans-59
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'To compile and debug an app on the device, select the developer certificate
    and provisioning profile in Xamarin Studio under the **iPhone Bundle Signing**
    node in project options, as shown in the following screenshot:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 要在设备上编译和调试应用，请在 Xamarin Studio 的项目选项中**iPhone 包签名**节点下选择开发者证书和配置文件，如图所示：
- en: '![There''s more...](img/8924OT_14_03.jpg)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![还有更多...](img/8924OT_14_03.jpg)'
- en: This has to be done for each build configuration (**Debug**, **Release**, and
    so on).
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 这必须为每个构建配置（**调试**、**发布**等）执行。
- en: Under the **iPhone Application** node, set the **Display name**, **Bundle Identifier**,
    and **Bundle version** fields for your app. If you leave them blank, Xamarin Studio
    will set their values to default. Specifically, the **Bundle Identifier** field
    will be set to the one that is included in the App ID. However, if you set the
    **Bundle Identifier** field to something other than what is declared in the App
    ID, an error on compilation will occur.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 在**iPhone 应用**节点下，为您的应用设置**显示名称**、**包标识符**和**包版本**字段。如果您留空，Xamarin Studio 将使用默认值设置它们的值。具体来说，**包标识符**字段将设置为包含在
    App ID 中的值。然而，如果您将**包标识符**字段设置为与 App ID 中声明的内容不同的值，则在编译时将发生错误。
- en: Expiration of provisioning profiles
  id: totrans-64
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 配置文件的过期
- en: When a provisioning profile expires, the app does not work on the device any
    longer. You can either renew the existing profile or create a new one and install
    it on the device again.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 当配置文件过期时，应用将无法在设备上运行。您可以续订现有的配置文件或创建一个新的配置文件并将其重新安装到设备上。
- en: See also
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 相关内容
- en: The *Creating an ad hoc distribution bundle* recipe
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*创建一个临时的发布包*食谱'
- en: The *Compiling an iOS project* recipe in [Chapter 1](ch01.html "Chapter 1. Development
    Tools"), *Development Tools*
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[第 1 章](ch01.html "第 1 章。开发工具")中的 *编译 iOS 项目* 食谱，*开发工具*'
- en: Creating an ad hoc distribution bundle
  id: totrans-69
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建一个临时的发布包
- en: In this recipe, we will learn how to create a bundle of our app. We will be
    able to send this bundle to beta testers so that they can test it on their devices.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 在本食谱中，我们将学习如何创建我们的应用包。我们将能够将此包发送给测试人员，以便他们在他们的设备上测试它。
- en: Getting ready
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To create an ad hoc distribution bundle, make sure you have created an App ID
    on the iOS Provisioning Portal for your app.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建一个临时的发布包，请确保您已在 iOS 配置文件门户上为您的应用创建了一个 App ID。
- en: How to do it...
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'The process of creating ad hoc provisioning profiles is similar to the process
    of creating development distribution profiles. The following steps will guide
    you through the process:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 创建临时配置文件的过程与创建开发分发配置文件的过程类似。以下步骤将指导您完成这个过程：
- en: Create a distribution certificate. For distributing apps to various devices
    that are not connected to your Mac, but also for submitting to the App Store,
    you need a distribution certificate to be installed. Follow the same steps described
    in the previous recipe for creating a developer certificate. This time though,
    select **App Store and Ad-Hoc** under the **Production** section when adding a
    new certificate. All the other required steps are the same.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建分发证书。对于分发到未连接到您的 Mac 的各种设备，以及提交到 App Store，您需要一个已安装的分发证书。遵循之前菜谱中描述的创建开发者证书的相同步骤。不过，这次在添加新证书时，在
    **生产** 部分下选择 **App Store 和临时**。所有其他必需步骤都相同。
- en: Create a distribution provisioning profile. Follow the same steps described
    in the previous recipe to create a provisioning profile. This time though, select
    the **Ad Hoc** option in the **Distribution** section, instead of **iOS App Development**.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建分发配置文件。遵循之前菜谱中描述的创建配置文件的相同步骤。不过，这次在 **分发** 部分选择 **临时** 选项，而不是 **iOS 应用开发**。
- en: Download the provisioning profile and double-click on it to install it on your
    machine.
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载配置文件，双击它以在您的机器上安装。
- en: 'Now that we have all the distribution certificates and provisioning profiles
    ready, we need to create our ad hoc build by performing the following steps:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经准备好了所有分发证书和配置文件，我们需要通过以下步骤创建我们的临时构建：
- en: Open the project in Xamarin Studio. In this example, the `RegionalFormattingApp`
    project is used.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Xamarin Studio 中打开项目。在这个例子中，使用的是 `RegionalFormattingApp` 项目。
- en: Select **Ad-Hoc** in the solution configuration combo box in the top-left corner,
    as shown in the following screenshot:![How to do it...](img/8924OT_14_04.jpg)
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在屏幕左上角的解决方案配置组合框中选择 **临时**，如图所示：![如何操作...](img/8924OT_14_04.jpg)
- en: Open the project options, and under the **iPhone Bundle Signing** option, select
    the distribution certificate and provisioning profile in the list. Just make sure
    that you are selecting the certificate and provisioning profile for the **Ad-Hoc**
    configuration. In the following screenshot, the distribution certificate has been
    selected:![How to do it...](img/8924OT_14_05.jpg)
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开项目选项，在 **iPhone 包签名** 选项下，从列表中选择分发证书和配置文件。只需确保您选择的是 **临时** 配置的证书和配置文件。在下面的屏幕截图中，已经选择了分发证书：![如何操作...](img/8924OT_14_05.jpg)
- en: Under **iOS IPA Options**, make sure that **Build ad-hoc/enterprise package
    (IPA)** is checked.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **iOS IPA 选项** 下，确保 **构建临时/企业包（IPA）** 已勾选。
- en: Navigate to **Build** | **Rebuild All** on the menu bar to create the build.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到菜单栏上的 **构建** | **重新构建全部** 来创建构建。
- en: 'The distribution build of our app is ready! It is time to share it with our
    testers. The following steps will guide you through the process:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的应用的分发构建已经准备好了！现在是时候与我们的测试人员分享它了。以下步骤将指导您完成这个过程：
- en: On the Mac, open Finder and navigate to the `bin` folder of your project.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Mac 上，打开 Finder 并导航到您项目的 `bin` 文件夹。
- en: Open the `iPhone/Ad-Hoc` folder.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 `iPhone/Ad-Hoc` 文件夹。
- en: You can now send the `*.ipa` file, along with the provisioning profile file
    (`*.mobileprovision`) to the tester(s).
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您现在可以将 `*.ipa` 文件以及配置文件（`*.mobileprovision`）发送给测试人员。
- en: The tester(s) will be able to install the app by dragging-and-dropping both
    files in iTunes and syncing them with the device.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 测试人员可以通过在 iTunes 中拖放这两个文件并将它们与设备同步来安装应用。
- en: How it works...
  id: totrans-89
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: For distributing apps, we need a distribution certificate. Just like the developer
    certificate, the distribution certificate is created once, but can be transferred
    to another Mac if needed.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 对于分发应用，我们需要一个分发证书。就像开发者证书一样，分发证书一旦创建，就可以在需要时转移到另一台 Mac 上。
- en: The creation process of the ad hoc distribution provisioning profile is the
    same as the process of creating development provisioning profiles. The only difference
    is that we have the option of the type of distribution, which is either **App
    Store** or **Ad Hoc**. The `*.ipa` file is a file that is recognized by iTunes.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 创建临时分发配置文件的创建过程与创建开发配置文件的过程相同。唯一的区别是我们有选择分发类型的选项，可以是 **App Store** 或 **临时**。`*.ipa`
    文件是 iTunes 识别的文件。
- en: There's more...
  id: totrans-92
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: There is also a third-party service that makes the distribution process very
    easy. You can create teams and upload different builds, notify your testers through
    e-mail whenever there is a new build, and most importantly, skip the iTunes syncing.
    You can find all the information at [http://www.testflightapp.com](http://www.testflightapp.com).
    Note that TestFlight is for distribution only. The necessary certificates and
    provisioning profiles will still have to be created.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一个第三方服务可以使分发过程变得非常简单。您可以创建团队并上传不同的构建版本，每当有新的构建版本时，通过电子邮件通知您的测试人员，最重要的是，跳过iTunes同步。您可以在[http://www.testflightapp.com](http://www.testflightapp.com)找到所有信息。请注意，TestFlight仅用于分发。必要的证书和配置文件仍然需要创建。
- en: Syncing ad hoc app bundles with iTunes
  id: totrans-94
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用iTunes同步ad hoc应用包
- en: Different users have different settings set up in their iTunes application.
    In case a user syncs the device and cannot find the app on the device, make sure
    the app is selected for syncing under the **Apps** tab of the selected device
    in iTunes.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 不同用户在他们的iTunes应用中设置了不同的设置。如果用户同步设备且无法在设备上找到应用，请确保在iTunes中选中设备的**应用**选项卡下的应用进行同步。
- en: See also
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Creating profiles* recipe
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*创建配置文件*菜谱'
- en: Preparing an app for the App Store
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为App Store准备应用
- en: In this recipe, we will discuss the important steps we need to take for preparing
    an app for the App Store.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将讨论为准备App Store应用所需的重要步骤。
- en: Getting ready
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Follow the steps in the previous recipes to create an App Store distribution
    profile for your app.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 按照前一个菜谱中的步骤为您的应用创建App Store分发配置文件。
- en: How to do it...
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: One very important step in the preparation of the App Store regards the images
    that should be included in your app.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在准备App Store的过程中，有一个非常重要的步骤是关于应用中应包含的图片。
- en: The most important image is the app icon. This is the icon that will represent
    your app on the users' devices. Depending on the target device, the dimensions
    of the icon should be different. Xamarin Studio makes this process easy by providing
    specific slots for assigning the icon for each target device/platform. For example,
    the icon size for an iPhone 3s is different from the size for an iPhone 4s, as
    is the icon for an iPhone 5 or a later device running on iOS 7.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 最重要的是应用图标。这是将在用户设备上代表您应用的图标。根据目标设备，图标的尺寸应不同。Xamarin Studio通过为每个目标设备/平台提供特定的槽位来分配图标，使得这个过程变得简单。例如，iPhone
    3s的图标大小与iPhone 4s的大小不同，iPhone 5或运行iOS 7的后续设备的图标也是如此。
- en: 'The following steps will guide you through the process:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤将指导您完成这个过程：
- en: Double-click on the `Info.plist` file of your project to open the file in the
    embedded editor. The following screenshot shows all the available options for
    app icons in a universal (iPhone and iPad) app:![How to do it...](img/8924OT_14_06.jpg)
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击项目的`Info.plist`文件以在嵌入式编辑器中打开文件。以下截图显示了通用（iPhone和iPad）应用中所有可用的应用图标选项：![如何操作...](img/8924OT_14_06.jpg)
- en: Click on each corresponding icon to assign the icon. The icons must be in the
    PNG format.
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击每个相应的图标来分配图标。图标必须是PNG格式。
- en: Now that we have set the app icon, we need to set a launch image.
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们已经设置了应用图标，我们需要设置启动画面。
- en: 'The launch image is the first thing that is displayed when an app starts. Prepare
    a launch image in at least two dimensions for the iPhone and iPod Touch apps:
    320 x 480 pixels for the lower resolution version, 640 x 960 pixels for the higher
    resolution version, and 640 x 1136 pixels for the 4-inch devices (iPhone 5, iPhone
    5s, and so on).'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动画面是应用启动时首先显示的内容。为iPhone和iPod Touch应用准备至少两个维度的启动画面：低分辨率版本为320 x 480像素，高分辨率版本为640
    x 960像素，4英寸设备（如iPhone 5、iPhone 5s等）为640 x 1136像素。
- en: Click on the corresponding box in the `Info.plist` editor to set the launch
    image.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Info.plist`编辑器中点击相应的框来设置启动画面。
- en: We now have to set the iTunes Artwork image. This is a 512 x 512 and 1024 x
    1024 image that will be displayed on our app's page on iTunes. It can be whatever
    you want; however, a good practice is to make it the same as the app icon. Just
    click on the corresponding button in the `Info.plist` file to assign the iTunes
    Artwork images.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在必须设置iTunes艺术作品图片。这是一个512 x 512和1024 x 1024像素的图片，将在我们的应用页面上显示在iTunes中。它可以是你想要的任何东西；然而，一个好的做法是让它与应用图标相同。只需点击`Info.plist`文件中的相应按钮来分配iTunes艺术作品图片。
- en: How it works...
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: The application icons are very important. It is what the user will see on the
    device's screen and tap to start your app. Although all app icons appear as buttons
    with rounded corners and a lighting effect, you should not include these graphical
    features in your icons. These graphical features are automatically rendered upon
    app submission to the App Store. The icons should be perfect squares. Also, always
    provide a background for the icons. Do not use transparencies, because any transparencies
    on the icon will be displayed with black color, potentially destroying your intended
    icon appearance.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 应用图标非常重要。这是用户将在设备屏幕上看到并点击以启动你的应用的内容。尽管所有应用图标都显示为带圆角和光效的按钮，但你不应在图标中包含这些图形特征。这些图形特征在提交到
    App Store 时会自动渲染。图标应该是完美的正方形。此外，始终为图标提供背景。不要使用透明度，因为图标上的任何透明度都将显示为黑色，可能会破坏你预期的图标外观。
- en: The launch image is displayed first when the app starts. When a screen goes
    blank at startup, it means there is no launch image. According to Apple's **iOS
    Human Interface Guidelines** ([https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/index.html](https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/index.html)),
    this image should be the first screen that is loaded when the app completes the
    launch process and is ready to accept input. It should only contain the static
    content of the first screen and not the content that is likely to change, like
    localized text.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 启动图像是应用启动时首先显示的。当启动时屏幕变黑，这意味着没有启动图像。根据苹果的 **iOS 人机界面指南** ([https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/index.html](https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/index.html))，这个图像应该是应用完成启动过程并准备好接受输入时加载的第一个屏幕。它应仅包含第一个屏幕的静态内容，而不是可能改变的内容，如本地化文本。
- en: There's more...
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: It is not mandatory to create your app icon for each available slot in the editor.
    In fact, even if you just create only one low-resolution icon, it will be acceptable,
    and you will be able to upload your app to the App Store. Its quality though,
    when installed on a high-resolution device such as the iPad Air, is not going
    to be top-notch. This is not good for the reputation of both the app and its developer,
    unfortunately.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 并非必须为编辑器中每个可用的槽位创建你的应用图标。实际上，即使你只创建一个低分辨率的图标，也是可以接受的，你将能够上传你的应用到 App Store。不过，当安装在高分辨率设备（如
    iPad Air）上时，其质量可能不会是顶级的。这对应用及其开发者的声誉来说是不利的。
- en: The 4-inch screen launch image
  id: totrans-117
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 4 英寸屏幕启动图像
- en: As you may have already noticed, the `Info.plist` editor has a launch image
    already set for retina (4-inch) screens, which is a plain black background. This
    is because when the iPhone 5 was first launched, it was a device with a screen
    height that was different from that of the previous models.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你可能已经注意到的，`Info.plist` 编辑器已经为视网膜（4 英寸）屏幕设置了一个启动图像，背景是纯黑色。这是因为当 iPhone 5 首次发布时，它的屏幕高度与之前的型号不同。
- en: The way Apple chose to help developers easily support the taller screen required
    developers to include a launch image in the dimensions of the new screen. This
    way, iOS automatically sizes the view controllers to the new screen size upon
    startup. By including this blank launch image by default, Xamarin Studio makes
    our life easier so that all our projects appear properly on the 4-inch devices.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 苹果选择帮助开发者轻松支持更高屏幕的方法要求开发者包括一个与新屏幕尺寸相匹配的启动图像。这样，iOS 在启动时会自动调整视图控制器的大小以适应新的屏幕尺寸。通过默认包含这个空白启动图像，Xamarin
    Studio 让我们的工作变得更简单，这样我们所有的项目都能在 4 英寸设备上正确显示。
- en: See also
  id: totrans-120
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Creating profiles* recipe
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*创建配置文件* 菜谱'
- en: Submitting an app to the App Store
  id: totrans-122
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将应用提交到 App Store
- en: In this recipe, we will go through the required steps to submit an app to the
    App Store.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将介绍提交应用至 App Store 所需的步骤。
- en: Getting ready
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: For this recipe, you will need to have your zipped distribution app bundle ready.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个菜谱，你需要准备好你的压缩版分发应用包。
- en: How to do it...
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Perform the following steps for submitting your app to the App Store:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 提交你的应用到 App Store 的步骤如下：
- en: Prepare up to five screenshots that display various aspects of your app. For
    iPhone/iPod Touch apps, the dimensions should be 640 x 1136 px for portrait and
    1136 x 640 px for landscape orientations.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 准备最多五张展示你应用不同方面的截图。对于 iPhone/iPod Touch 应用，肖像模式的尺寸应为 640 x 1136 像素，横屏模式的尺寸应为
    1136 x 640 像素。
- en: Prepare the text that best describes your app. Try to include the most significant
    features. Remember, the description is what the users will read before downloading
    the app, so the more appealing it is, the better.
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 准备最能描述您应用的文本。尽量包括最重要的功能。记住，描述是用户在下载应用之前会阅读的内容，所以越吸引人越好。
- en: Note
  id: totrans-130
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Prepare keywords that will help your app climb on top of the search results.
    Both app description and keywords are required.
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 准备有助于您的应用在搜索结果中排名靠前的关键词。应用描述和关键词都是必需的。
- en: iTunes Connect is the developer portal for managing and submitting apps (among
    other App Store-related stuff). Log in to iTunes Connect ([http://itunesconnect.apple.com](http://itunesconnect.apple.com))
    with your Apple Developer ID. Click on the **Manage your Applications** link.
    Then, click on the **Add New App** button on the top-left corner. Follow the steps
    to complete the app's preparation on the portal. When you finish, make sure the
    app's status is **Waiting for Upload**.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: iTunes Connect 是管理并提交应用（以及其他与 App Store 相关的内容）的开发商门户。使用您的 Apple 开发者 ID 登录到 iTunes
    Connect ([http://itunesconnect.apple.com](http://itunesconnect.apple.com))。点击
    **管理您的应用** 链接。然后，点击左上角的 **添加新应用** 按钮。按照门户上的步骤完成应用的准备。完成时，请确保应用的状态是 **等待上传**。
- en: After you have created a new app on the portal, you can upload the zipped app
    bundle with the Application Loader. It is installed by default with Xcode, and
    can be found under `/Developer/Application/Utilities`, or by searching through
    the Spotlight.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在门户上创建新应用后，您可以使用 Application Loader 上传压缩的应用程序包。它默认安装在 Xcode 中，可以在 `/Developer/Application/Utilities`
    下找到，或者通过 Spotlight 搜索。
- en: 'When you start Application Loader, it will ask you to log in with your Apple
    Developer ID. After logging in, you will be presented with the following window:'
  id: totrans-134
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当您启动 Application Loader 时，它将要求您使用 Apple 开发者 ID 登录。登录后，您将看到一个以下窗口：
- en: '![How to do it...](img/8924OT_14_07.jpg)'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/8924OT_14_07.jpg)'
- en: Click on the **Deliver Your App** button, and it will connect to iTunes Connect,
    find the apps you have in the **Waiting for Upload** status, and load them in
    the list box.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **提交您的应用** 按钮，它将连接到 iTunes Connect，找到您处于 **等待上传** 状态的应用，并将它们加载到列表框中。
- en: You will then be presented with a summary view of your app.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将看到一个关于您应用的概览视图。
- en: Click on the **Choose...** button, and a dialog box will appear that will allow
    you to select the zipped app bundle. After selecting it, proceed with the upload.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **选择...** 按钮，将出现一个对话框，允许您选择压缩的应用程序包。选择后，继续上传。
- en: You are all set! If all steps have been completed correctly, the app will be
    uploaded, and it will be under review for release on the App Store.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 您已经准备好了！如果所有步骤都正确完成，应用将被上传，并将在 App Store 上进行发布审查。
- en: How it works...
  id: totrans-140
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: App screenshots can be in JPG, TIF, or PNG formats, in RGB color, and at a resolution
    of at least 72 DPI.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 应用截图可以是 JPG、TIF 或 PNG 格式，RGB 颜色，分辨率至少为 72 DPI。
- en: However, the images are important only when users are already viewing your app
    in the App Store. The keywords and description are the parameters that will allow
    your app to come up higher on search results and make the user decide whether
    the app is worth the download. Regarding the keywords, choose them wisely. Do
    not include as many as you can; fewer keywords that reflect the key aspects of
    the app are always better.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，图片只有在用户已经在 App Store 中查看您的应用时才重要。关键词和描述是允许您的应用在搜索结果中排名更高并使用户决定应用是否值得下载的参数。关于关键词，要明智地选择。不要包含尽可能多的关键词；反映应用关键方面的较少关键词总是更好的。
- en: iTunes Connect is the developer portal for managing applications, reviewing
    financial data, app downloads, and it includes the contracts and agreements a
    developer needs to sign. Make sure you read and accept the contracts, or else
    you will not be able to proceed with the app's preparation process. During this
    process, you are required to provide the necessary information, for your app it
    includes, the price range if it is a paid app, the countries in which it will
    be available, as well as the release date for it if you do not want it to be released
    automatically as soon as it has passed through the App Store review process.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: iTunes Connect 是管理应用、审查财务数据、应用下载的开发商门户，它还包括开发商需要签署的合同和协议。请确保您阅读并接受这些合同，否则您将无法继续进行应用的准备流程。在此过程中，您需要提供必要的信息，对于您的应用而言，包括如果是付费应用，其价格范围、将在哪些国家提供，以及如果您不希望它自动在通过
    App Store 审查流程后立即发布，其发布日期。
- en: When everything is set up correctly and the app's status is **Waiting for Upload**,
    you can then run the Application Loader to upload it. Periodically and with each
    release of iOS and iOS SDK versions, various components or procedures change.
    Always make sure that your iOS SDK version is up-to-date.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 当一切设置正确且应用状态为**等待上传**时，您就可以运行应用程序加载器来上传它。随着iOS和iOS SDK版本的定期发布，各种组件或流程都会发生变化。请始终确保您的iOS
    SDK版本是最新的。
- en: There's more...
  id: totrans-145
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: At some point in the app's preparation process, you will be required to enter
    a **Stock Keeping Unit** (**SKU**) number. This number is a unique identifier
    for each product or service. It can be any number you want, but keep a specific
    pattern to keep track of the identifiers, for example, when you develop additional
    apps.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 在应用准备过程中某个阶段，您将需要输入一个**库存单位**（**SKU**）编号。这个编号是每个产品或服务的唯一标识符。它可以是你想要的任何数字，但请保持一个特定的模式以跟踪标识符，例如，当你开发额外的应用时。
- en: See also
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Preparing an app for the App Store* recipe
  id: totrans-148
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*为App Store准备应用* 的配方'
