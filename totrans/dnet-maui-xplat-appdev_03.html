<html><head></head><body>
<div><div><h1 class="chapterNumber">2</h1>
<h1 class="chapterTitle" id="_idParaDest-55">Building Our First .NET MAUI App</h1>
<p class="normal">In this chapter, we will create a new .NET MAUI project and customize it so that we can use it in the development of an app. The app that we will develop is a password management app. We will gradually introduce various features to it in the subsequent chapters. By the end of <em class="italic">Part 1</em>, we will possess a fully functional password management app.</p>
<p class="normal">Those who have prior experience with Xamarin.Forms will recall that the <strong class="keyWord">Shell</strong> serves as a convenient application container that simplifies app development by offering a unified structure for defining an application’s key components. While there isn’t a direct Visual Studio template for .NET MAUI Shell from Microsoft, we can effectively utilize the one from Xamarin.Forms. To incorporate Shell in our app, we’ll reuse the project template found in Xamarin.Forms. As well as from providing us with a proficient project template, the process of migrating the Xamarin.Forms Shell template to .NET MAUI will provide valuable insights into the migration of a Xamarin.Forms project to .NET MAUI.</p>
<p class="normal">The following topics will be covered in this chapter:</p>
<ul>
<li class="bulletList">Setting up a new .NET MAUI project</li>
<li class="bulletList">App startup and lifecycle management</li>
<li class="bulletList">Configuring resources</li>
<li class="bulletList">Creating a new Xamarin.Forms project with Shell support</li>
<li class="bulletList">Migrating this Xamarin.Forms project to .NET MAUI</li>
</ul>
<h1 class="heading-1" id="_idParaDest-56">Technical requirements</h1>
<p class="normal">To test and debug the source code in this chapter, you need Visual Studio 2022 installed on either Windows or macOS. Please refer to the <em class="italic">Development environment setup</em> section in <em class="chapterRef">Chapter 1</em>, <em class="italic">Getting Started with .NET MAUI</em>, for details.</p>
<p class="normal">To check out the source code of this chapter, we can use the following Git command:</p>
<pre class="programlisting con"><code class="hljs-con">$ git clone https://github.com/PacktPublishing/.NET-MAUI-Cross-Platform-Application-Development-Second-edition.git -b 2nd/chapter02
</code></pre>
<h1 class="heading-1" id="_idParaDest-57">Managing the source code in this book</h1>
<p class="normal">Since we will <a id="_idIndexMarker100"/>develop a password manager app incrementally in this book, the source code of each chapter is built on top of the previous chapters. To continuously improve our app, we will have separate branches for the source code of each chapter. If you want to clone the source code of all chapters in one command, you can clone it from the main branch. In the main branch, all the chapters are in separate folders. If you don’t want to use Git, you can also download the source code as a compressed file from the release area, as shown in the following screenshot (<em class="italic">Figure 2.1</em>):</p>
<figure class="mediaobject"><img alt="Figure 2.1: Source code in GitHub" height="506" src="img/B21554_02_01.png" width="825"/></figure>
<p class="packt_figref">Figure 2.1: Source code in GitHub</p>
<p class="normal">Since <a id="_idIndexMarker101"/>new .NET MAUI releases may be available from time to time, the Git tags and versions in the release area will be updated according to the new .NET MAUI releases and bug fixes.</p>
<p class="normal">The source code of this book can be found in the following GitHub repository: <a href="https://github.com/PacktPublishing/.NET-MAUI-Cross-Platform-Application-Development-Second-edition">https://github.com/PacktPublishing/.NET-MAUI-Cross-Platform-Application-Development-Second-edition</a>.</p>
<p class="normal">There are three ways to download the source code from GitHub.</p>
<h2 class="heading-2" id="_idParaDest-58">Download the source code in a compressed file</h2>
<p class="normal">The <a id="_idIndexMarker102"/>source code can be downloaded in the release area, or use the following URL: <a href="https://github.com/PacktPublishing/.NET-MAUI-Cross-Platform-Application-Development-Second-edition/releases/tag/V1.0.0">https://github.com/PacktPublishing/.NET-MAUI-Cross-Platform-Application-Development-Second-edition/releases/tag/V1.0.0</a>.</p>
<p class="normal">The release tag may be changed when a new release is available.</p>
<h2 class="heading-2" id="_idParaDest-59">Clone the source code per chapter</h2>
<p class="normal">To check<a id="_idIndexMarker103"/> out the source code for a chapter, you can use the following command, for example:</p>
<pre class="programlisting con"><code class="hljs-con">$ git clone https://github.com/PacktPublishing/.NET-MAUI-Cross-Platform-Application-Development-Second-edition.git -b 2nd/chapter02
</code></pre>
<p class="normal">I use the following naming convention for branches: <code class="inlineCode">[xxx]/chapter[yy]</code>, where <code class="inlineCode">x</code> is the edition number and <code class="inlineCode">y</code> is the chapter number, such as <code class="inlineCode">2nd/chapter01</code>.</p>
<h2 class="heading-2" id="_idParaDest-60">Clone the source code from the main branch</h2>
<p class="normal">To <a id="_idIndexMarker104"/>check out the source code of all chapters from the main branch, you can use the following command:</p>
<pre class="programlisting con"><code class="hljs-con">$ git clone https://github.com/PacktPublishing/.NET-MAUI-Cross-Platform-Application-Development-Second-edition.git
</code></pre>
<h1 class="heading-1" id="_idParaDest-61">Setting up a new .NET MAUI project</h1>
<p class="normal">In this <a id="_idIndexMarker105"/>chapter, we will create and configure a new .NET MAUI project, which will form the basis for further development of our password manager app. Given that the default .NET NAUI project template is a very simple one, we require a more robust project framework to establish the base project structure.</p>
<p class="normal">Xamarin.Forms project templates provide suitable options. In particular, there is a template that incorporates the Shell and <strong class="keyWord">Model-View-View Model</strong> (<strong class="keyWord">MVVM</strong>) pattern setup. We’ll migrate this into our .NET MAUI project, which will also provide us with the opportunity to learn how to migrate a Xamarin.Forms project to .NET MAUI. Ultimately, we’ll create our very own Visual Studio project template.</p>
<p class="normal">To create a new .NET MAUI project, we can use Visual Studio or the command line.</p>
<h2 class="heading-2" id="_idParaDest-62">Creating a new project using Visual Studio</h2>
<p class="normal">To<a id="_idIndexMarker106"/> create a new .NET MAUI project, follow these steps:</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1">Launch Visual Studio 2022 and select <strong class="screenText">Create a new project</strong> on the startup screen. This will open the <strong class="screenText">Create a new project</strong> wizard.</li>
<li class="numberedList">At the top of the screen, there is a search box. We can type <code class="inlineCode">maui</code> in the search<a id="_idIndexMarker107"/> box, and .NET MAUI-related project templates will be shown (see <em class="italic">Figure 2.2</em>):
    <figure class="mediaobject"><img alt="" height="506" src="img/B21554_02_02.png" width="759"/></figure>
<p class="packt_figref">Figure 2.2: New project setup – Create a new project</p>
<p class="normal">There are three templates for the .NET MAUI app or library:</p>
<ul>
<li class="bulletList"><strong class="screenText">.NET MAUI App</strong> – This is for a XAML-based .NET MAUI app.</li>
<li class="bulletList"><strong class="screenText">.NET MAUI Blazor Hybrid App</strong> – This template can be used to create a .NET MAUI Blazor app.</li>
<li class="bulletList"><strong class="screenText">.NET MAUI Class Library</strong> – This is the option for building a .NET MAUI class library. We can build shared components as a .NET MAUI class library when we develop a .NET MAUI app.</li>
</ul></li>
</ol>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="3">Let’s select <strong class="screenText">.NET MAUI App</strong> and click the <strong class="screenText">Next</strong> button; it goes to the next step to configure our new project, as shown in <em class="italic">Figure 2.3</em>:</li>
</ol>
<figure class="mediaobject"><img alt="" height="476" src="img/B21554_02_03.png" width="759"/></figure>
<p class="packt_figref">Figure 2.3: New project setup – Configure your new project</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="4">Enter the<a id="_idIndexMarker108"/> project name and solution name as <code class="inlineCode">PassXYZ.Vault</code> and click the <strong class="screenText">Next</strong> button. After the project is created, the project structure will look like <em class="italic">Figure 2.4</em> and will display the following:<ul>
<li class="bulletList"><em class="italic">Common files</em> – In a new project, three files are included in the template – <code class="inlineCode">App.xaml</code>, <code class="inlineCode">MainPage.xaml</code>, and <code class="inlineCode">MauiProgram.cs</code>. This is the group of files that we will work on throughout the book. They are platform agnostic. Both business logic and UI can be developed here and shared on all platforms.</li>
<li class="bulletList"><em class="italic">Platform-specific files</em> – There are five subfolders (<code class="inlineCode">Android</code>, <code class="inlineCode">iOS</code>, <code class="inlineCode">MacCatalyst</code>, <code class="inlineCode">Windows</code>, and <code class="inlineCode">Tizen</code>) in the <code class="inlineCode">Platforms</code> folder. Since we won’t support Tizen, we can remove it from our project.</li>
<li class="bulletList"><em class="italic">Resources</em> – A variety of resources ranging from images, fonts, splash screens, styles, and raw assets are in the <code class="inlineCode">Resources</code> folder. These resources can be used in all supported platforms.</li>
</ul>
</li>
</ol>
<figure class="mediaobject"><img alt="A screenshot of a computer  Description automatically generated" height="650" src="img/B21554_02_04.png" width="759"/></figure>
<p class="packt_figref">Figure 2.4: .NET MAUI project structure</p>
<p class="normal">In the .NET MAUI project, there <a id="_idIndexMarker109"/>is only one project structure. Later, we will see that the development of Xamarin.Forms involves multiple projects.</p>
<h2 class="heading-2" id="_idParaDest-63">Creating a new project using the dotnet command</h2>
<p class="normal">Although .NET MAUI was<a id="_idIndexMarker110"/> installed as part of the Visual Studio installation, it can also be installed independently using the command line. This flexibility allows the use of alternative development tools, such as Visual Studio Code, instead of Visual Studio. To create and build a .NET MAUI application from the command line, we can use the <code class="inlineCode">dotnet</code> command. </p>
<p class="normal">To find out which project templates have been installed, we can refer to the following command:</p>
<pre class="programlisting con"><code class="hljs-con">C:\ &gt; dotnet new --list
</code></pre>
<p class="normal">To create<a id="_idIndexMarker111"/> a new project using the command line, we can execute the following command:</p>
<pre class="programlisting con"><code class="hljs-con">C:\ &gt; dotnet new maui -n "PassXYZ.Vault"
</code></pre>
<p class="normal">Once the new .NET MAUI project has been created, we can build and test it. Before we move on to that, let’s spend some time looking at the .NET MAUI app startup code and lifecycle.</p>
<h1 class="heading-1" id="_idParaDest-64">App startup and lifecycle</h1>
<p class="normal">Lifecycle management in .NET MAUI is crucial for efficient resource management, ensuring <a id="_idIndexMarker112"/>smooth and consistent user experiences, secure application handling, and understanding and troubleshooting app behavior. It allows<a id="_idIndexMarker113"/> the application to conserve resources, appropriately saving and restoring the application’s state when it’s in the background or foreground. It provides opportunities to perform certain actions when an app goes to the background, such as saving data or pausing activities. Moreover, it provides enhanced security by managing sensitive data when apps switch to and from the active state. Hence, understanding the application lifecycle is crucial for crafting robust, efficient, and user-friendly .NET MAUI applications.</p>
<p class="normal">In .NET MAUI projects, app startup and lifecycle management are handled in the following two files:</p>
<ul>
<li class="bulletList"><code class="inlineCode">MauiProgram.cs</code></li>
<li class="bulletList"><code class="inlineCode">App.xaml/App.xaml.cs</code></li>
</ul>
<p class="normal">.NET Generic Host is used for app startup and configuration. When the application starts, a .NET Generic Host object is created to encapsulate an app’s resources and lifetime functionality, such as the following:</p>
<ul>
<li class="bulletList"><strong class="keyWord">Dependency injection</strong> (<strong class="keyWord">DI</strong>)</li>
<li class="bulletList">Logging</li>
<li class="bulletList">Configuration</li>
<li class="bulletList">Lifecycle management</li>
</ul>
<p class="normal">This enables<a id="_idIndexMarker114"/> apps to be initialized in a single location and provides the ability to configure fonts, services, and third-party libraries. This chapter will explore everything except DI, which will be introduced in <em class="chapterRef">Chapter 6</em>, <em class="italic">Software Design with Dependency Injection</em>.</p>
<div><p class="normal"><strong class="keyWord">.NET Generic Host</strong></p>
<p class="normal">If you are a<a id="_idIndexMarker115"/> Xamarin developer, you may not be familiar with .NET Generic Host. Introduced in .NET Core, .NET Generic Host is a unified hosting model for building cross-platform .NET applications. It provides a consistent way to configure, run, and manage services and background tasks across various types of .NET applications, such as console apps, microservices, and web applications. In .NET MAUI, the same pattern is borrowed and used for startup and configuration management.</p>
</div>
<p class="normal">Let’s examine the app start up code in <em class="italic">Listing 2.1</em>: </p>
<pre class="programlisting code"><code class="hljs-code">namespace PassXYZ.Vault;
public static class <strong class="hljs-title-slc">MauiProgram</strong>
{
  public static MauiApp <strong class="hljs-title-slc">CreateMauiApp</strong>()                  //(1)
  {
    var builder = MauiApp.CreateBuilder();               //(2)
    builder
      .UseMauiApp&lt;App&gt;()                                 //(4)
      .ConfigureFonts(fonts =&gt;
      {
        fonts.AddFont("OpenSans-Regular.ttf", "OpenSansRegular");
      });
    return builder.Build();                              //(3)
  }
}
</code></pre>
<p class="packt_figref">Listing 2.1: <code class="inlineCode">MauiProgram.cs</code> (<a href="https://epa.ms/MauiProgram2-1">https://epa.ms/MauiProgram2-1</a>)</p>
<p class="normal">We can see the following in <em class="italic">Listing 2.1</em>:</p>
<p class="normal"><strong class="keyWord">(1)</strong> In each platform, the entry point is in platform-specific code. The entry point calls the <code class="inlineCode">CreateMauiApp</code> function, which is a method of the <code class="inlineCode">MauiProgram</code> static class.</p>
<p class="normal"><strong class="keyWord">(2)</strong> Inside <code class="inlineCode">CreateMauiApp</code>, the code calls the <code class="inlineCode">CreateBuilder</code> function, which is a method of the <code class="inlineCode">MauiApp</code> static class, and returns a <code class="inlineCode">MauiAppBuilder</code> instance, which provides a .NET Generic Host interface. We can use this instance of the .NET Generic Host interface <a id="_idIndexMarker116"/>to configure resources or services used in our app.</p>
<p class="normal"><strong class="keyWord">(3)</strong> The return value of <code class="inlineCode">CreateMauiApp</code> is a <code class="inlineCode">MauiApp</code> instance, which is the entry point of our app.</p>
<p class="normal"><strong class="keyWord">(4)</strong> The <code class="inlineCode">App</code> class referenced in the <code class="inlineCode">UseMauiApp</code> method is the root object of our application. Let’s review the definition of the <code class="inlineCode">App</code> class in <em class="italic">Listing 2.2</em>:</p>
<pre class="programlisting code"><code class="hljs-code">namespace PassXYZ.Vault;
public partial class <strong class="hljs-title-slc">App</strong> : <strong class="hljs-title-slc">Application</strong>              //(1)
{
  public App()
  {
    InitializeComponent();
    MainPage = new <strong class="hljs-slc">AppShell</strong>();                      //(2)
  }
}
</code></pre>
<p class="packt_figref">Listing 2.2: <code class="inlineCode">App.xaml.cs</code> (<a href="https://epa.ms/App2-2">https://epa.ms/App2-2</a>)</p>
<p class="normal">In <em class="italic">Listing 2.2</em>, we can see the following:</p>
<p class="normal"><strong class="keyWord">(1)</strong> The <code class="inlineCode">App</code> class is derived from the <code class="inlineCode">Application</code> class, and the <code class="inlineCode">Application</code> class is defined in the <code class="inlineCode">Microsoft.Maui.Controls</code> namespace.</p>
<p class="normal"><strong class="keyWord">(2)</strong> <code class="inlineCode">AppShell</code> is an instance of Shell, and it defines the UI of the initial page of the app.</p>
<p class="normal"><code class="inlineCode">Application</code> creates an instance of the <code class="inlineCode">Window</code> class within which the application will run and views will be displayed. In the <code class="inlineCode">App</code> class, we can overwrite the <code class="inlineCode">CreateWindow</code> method to manage the lifecycle, which we will see soon.</p>
<h2 class="heading-2" id="_idParaDest-65">Lifecycle management</h2>
<p class="normal">.NET MAUI app generally <a id="_idIndexMarker117"/>operates in four execution states:</p>
<ul>
<li class="bulletList">Running</li>
<li class="bulletList">Not running</li>
<li class="bulletList">Deactivated</li>
<li class="bulletList">Stopped</li>
</ul>
<p class="normal">During the state transitions, the predefined lifecycle events will be triggered. Six cross-platform <a id="_idIndexMarker118"/>lifecycle events are defined, as we can see in <em class="italic">Table 2.1</em>:</p>
<table class="table-container" id="table001-2">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Event</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Description</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">State transition</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Override method</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Created</p>
</td>
<td class="table-cell">
<p class="normal">This event is raised after the native window has been created.</p>
</td>
<td class="table-cell">
<p class="normal">Not running -&gt; Running</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">OnCreated</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Activated</p>
</td>
<td class="table-cell">
<p class="normal">This event is raised when the window has been activated and is or will become the focused window.</p>
</td>
<td class="table-cell">
<p class="normal">Not running -&gt; Running</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">OnActivated</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Deactivated</p>
</td>
<td class="table-cell">
<p class="normal">This event is raised when the window is no longer the focused window. However, the window might still be visible.</p>
</td>
<td class="table-cell">
<p class="normal">Running -&gt; Deactivated</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">OnDeactivated</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Stopped</p>
</td>
<td class="table-cell">
<p class="normal">This event is raised when the window is no longer visible.</p>
</td>
<td class="table-cell">
<p class="normal">Deactivated -&gt; Stopped</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">OnStopped</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Resumed</p>
</td>
<td class="table-cell">
<p class="normal">This event is raised when an app resumes after being stopped.</p>
</td>
<td class="table-cell">
<p class="normal">Stopped -&gt; Running</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">OnResumed</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Destroying</p>
</td>
<td class="table-cell">
<p class="normal">This event is raised when the native window is destroyed and deallocated.</p>
</td>
<td class="table-cell">
<p class="normal">Stopped -&gt; Not running</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">OnDestroying</code></p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 2.1: Lifecycle events and override methods</p>
<p class="normal">Please refer to the following Microsoft document to find out more about lifecycle events: <a href="https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/app-lifecycle">https://learn.microsoft.com/en-us/dotnet/maui/fundamentals/app-lifecycle</a>.</p>
<p class="normal">These lifecycle events are associated with the instance of the <code class="inlineCode">Window</code> class created by <code class="inlineCode">Application</code>. For each event, a corresponding override method is defined. We can either subscribe to the lifecycle events or create override functions to handle lifecycle management.</p>
<h3 class="heading-3" id="_idParaDest-66">Subscribing to the Window lifecycle events</h3>
<p class="normal">To<a id="_idIndexMarker119"/> subscribe to the lifecycle events, as we can see in <em class="italic">Listing 2.3</em>, at <strong class="keyWord">(1)</strong>, we can override the <code class="inlineCode">CreateWindow</code> method in the <code class="inlineCode">App</code> class to create a <code class="inlineCode">Window</code> instance on which we can subscribe to events:</p>
<pre class="programlisting code"><code class="hljs-code">using System.Diagnostics;
namespace PassXYZ.Vault;
public partial class App : Application {
  public App() {
    InitializeComponent();
    MainPage = new MainPage();
  }
  protected override Window CreateWindow(IActivationState
    activationState)                                       //(1)
  {
    Window window = base.CreateWindow(activationState);
    window.Created += (s, e) =&gt; {
      Debug.WriteLine("PassXYZ.Vault.App: 1. Created event");
    };
    window.Activated += (s, e) =&gt; {
      Debug.WriteLine("PassXYZ.Vault.App: 2. Activated event");
    };
    window.Deactivated += (s, e) =&gt; {
      Debug.WriteLine("PassXYZ.Vault.App: 3. Deactivated event");
    };
    window.Stopped += (s, e) =&gt; {
      Debug.WriteLine("PassXYZ.Vault.App: 4. Stopped event");
    };
    window.Resumed += (s, e) =&gt; {
      Debug.WriteLine("PassXYZ.Vault.App: 5. Resumed event");
    };
    window.Destroying += (s, e) =&gt; {
      Debug.WriteLine("PassXYZ.Vault.App: 6. Destroying event");
    };
    return window;
  }
}
</code></pre>
<p class="packt_figref">Listing 2.3: <code class="inlineCode">App.xaml.cs</code> with lifecycle events (<a href="https://epa.ms/App2-3">https://epa.ms/App2-3</a>)</p>
<p class="normal">In <em class="italic">Listing 2.3</em>, we revised the code of <code class="inlineCode">App.xaml.cs</code>, and we subscribed to all six events so that we can run a test and observe the state in the Visual Studio output window. As we can see in the following debug output, we run and test our app in the Windows environment. </p>
<p class="normal">After <a id="_idIndexMarker120"/>we launch our app, we can see that <code class="inlineCode">Created</code> and <code class="inlineCode">Activated</code> events are fired. Then, we minimize our app and we can see that <code class="inlineCode">Deactivated</code> and <code class="inlineCode">Stopped</code> events are fired. When we resume our app again, <code class="inlineCode">Resumed</code> and <code class="inlineCode">Activated</code> events are fired. Finally, we close our app, and a <code class="inlineCode">Destroying</code> event is fired:</p>
<pre class="programlisting con"><code class="hljs-con">PassXYZ.Vault.App: 1. Created event
PassXYZ.Vault.App: 2. Activated event
PassXYZ.Vault.App: 4. Stopped event
PassXYZ.Vault.App: 3. Deactivated event
PassXYZ.Vault.App: 5. Resumed event
PassXYZ.Vault.App: 2. Activated event
PassXYZ.Vault.App: 5. Resumed event
PassXYZ.Vault.App: 2. Activated event
The thread 0x6f94 has exited with code 0 (0x0).
PassXYZ.Vault.App: 6. Destroying event
The program '[30628] PassXYZ.Vault.exe' has exited with code 0 (0x0).
</code></pre>
<h3 class="heading-3" id="_idParaDest-67">Consuming the lifecycle override methods</h3>
<p class="normal">Alternatively, we<a id="_idIndexMarker121"/> can consume the lifecycle override methods. We can create our own derived class from the <code class="inlineCode">Window</code> class:</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1">In Visual Studio, right-click on the project node and select <strong class="screenText">Add</strong> and then <strong class="screenText">New Item…</strong>.</li>
<li class="numberedList">In the <strong class="screenText">Add New Item</strong> window, select <strong class="screenText">C# Class</strong> from the template and name it <code class="inlineCode">PxWindow</code>. We created a new class, as shown next in <em class="italic">Listing 2.4</em>:</li>
</ol>
<pre class="programlisting code"><code class="hljs-code">using System.Diagnostics;
namespace PassXYZ.Vault;
public class PxWindow : Window
{
    public PxWindow() : base() {}
    public PxWindow(Page page) : base(page) {}
    protected override void OnCreated() {
        Debug.WriteLine("PassXYZ.Vault.App: 1. OnCreated");
    }
    protected override void OnActivated() {
        Debug.WriteLine("PassXYZ.Vault.App: 2. OnActivated");
    }
    protected override void OnDeactivated() {
        Debug.WriteLine("PassXYZ.Vault.App: 3. OnDeactivated");
    }
    protected override void OnStopped() {
        Debug.WriteLine("PassXYZ.Vault.App: 4. OnStopped");
    }
    protected override void OnResumed() {
        Debug.WriteLine("PassXYZ.Vault.App: 5. OnResumed");
    }
    protected override void OnDestroying() {
        Debug.WriteLine("PassXYZ.Vault.App: 6. OnDestroying");
    }
}
</code></pre>
<p class="packt_figref">Listing 2.4: <code class="inlineCode">PxWindow.cs</code> (<a href="https://epa.ms/PxWindow2-4">https://epa.ms/PxWindow2-4</a>)</p>
<p class="normal">In <em class="italic">Listing 2.4</em>, we<a id="_idIndexMarker122"/> created a new class, <code class="inlineCode">PxWindow</code>. In this class, we define our lifecycle override methods. We can use this new class in <code class="inlineCode">App.xaml.cs</code>.</p>
<p class="normal">Next, let’s look at the modified version of <code class="inlineCode">App.xaml.cs</code> (<em class="italic">Listing 2.5</em>):</p>
<pre class="programlisting code"><code class="hljs-code">namespace PassXYZ.Vault;
public partial class App : Application
{
  public App()
  {
    InitializeComponent();
  }
  protected override Window CreateWindow(
    IActivationState activationState)            //(1)
  {
    return new PxWindow(new MainPage());
  }
}
</code></pre>
<p class="packt_figref"><em class="italic">Listing 2.5: Modified App.xaml.cs with PxWindow (</em><a href="https://epa.ms/App2-5">https://epa.ms/App2-5</a><em class="italic">)</em></p>
<p class="normal">When we <a id="_idIndexMarker123"/>repeat the previous test steps, we can see the following output in the Visual Studio output window. The output looks very similar to the previous one. Basically, both approaches have the same effect on lifecycle management:</p>
<pre class="programlisting con"><code class="hljs-con">PassXYZ.Vault.App: 1. OnCreated
PassXYZ.Vault.App: 2. OnActivated
PassXYZ.Vault.App: 4. OnStopped
PassXYZ.Vault.App: 3. OnDeactivated
PassXYZ.Vault.App: 5. OnResumed
PassXYZ.Vault.App: 2. OnActivated
PassXYZ.Vault.App: 5. OnResumed
PassXYZ.Vault.App: 2. OnActivated
PassXYZ.Vault.App: 6. OnDestroying
The program '[25996] PassXYZ.Vault.exe' has exited with code 0 (0x0).
</code></pre>
<p class="normal">We have learned about app lifecycle management in .NET MAUI through the <code class="inlineCode">Window</code> class. We can either subscribe to lifecycle events or override the overridable methods to manage the app lifecycle. <em class="italic">Table 2.1</em> shows the comparison of these two approaches.</p>
<p class="normal">If you were a Xamarin.Forms developer, you might know that there were lifecycle methods defined in the <code class="inlineCode">Application</code> class as well. In .NET MAUI, the following virtual methods are still available:</p>
<ul>
<li class="bulletList"><code class="inlineCode">OnStart</code> – Called when the application starts</li>
<li class="bulletList"><code class="inlineCode">OnSleep</code> – Called each time the application goes to the background</li>
<li class="bulletList"><code class="inlineCode">OnResume</code> – Called when the application is resumed, after being sent to the background</li>
</ul>
<p class="normal">To observe the behavior of these methods, we can override the following methods in our <code class="inlineCode">App</code> class, as shown in <em class="italic">Listing 2.6</em>:</p>
<pre class="programlisting code"><code class="hljs-code">using System.Diagnostics;
namespace PassXYZ.Vault;
public partial class App : Application
{
  public App()
  {
    InitializeComponent();
    MainPage = new MainPage();
  }
  protected override void <strong class="hljs-title-slc">OnStart</strong>() {                    //(1)
    Debug.WriteLine("PassXYZ.Vault.App: OnStart");
  }
  protected override void <strong class="hljs-title-slc">OnSleep</strong>() {                    //(2)
    Debug.WriteLine("PassXYZ.Vault.App: OnSleep");
  }
  protected override void <strong class="hljs-title-slc">OnResume</strong>() {                   //(3)
    Debug.WriteLine("PassXYZ.Vault.App: OnResume");
  }
}
</code></pre>
<p class="packt_figref">Listing 2.6: <code class="inlineCode">App.xaml.cs</code> (<a href="https://epa.ms/App2-6">https://epa.ms/App2-6</a>)</p>
<p class="normal">When we<a id="_idIndexMarker124"/> test the preceding code on Windows, we can see the following debug message in the Visual Studio Output window:</p>
<pre class="programlisting con"><code class="hljs-con">PassXYZ.Vault.App: OnStart
PassXYZ.Vault.App: OnSleep
The thread 0x6844 has exited with code 0 (0x0).
The thread 0x6828 has exited with code 0 (0x0).
The thread 0x683c has exited with code 0 (0x0).
PassXYZ.Vault.App: OnResume
</code></pre>
<p class="normal">As demonstrated in <em class="italic">Listing 2.6</em>, specific methods will be activated according to the varying statuses of the application.</p>
<p class="normal"><strong class="keyWord">(1)</strong> When the app starts, the <code class="inlineCode">OnStart</code> method is invoked.</p>
<p class="normal"><strong class="keyWord">(2)</strong> When we minimize our app, the <code class="inlineCode">OnSleep</code> method is invoked.</p>
<p class="normal"><strong class="keyWord">(3)</strong> When we resume the app from the taskbar, the <code class="inlineCode">OnResume</code> method is invoked.</p>
<p class="normal">We’ve learned about the lifecycle states of a .NET MAUI app and also learned that we can either subscribe to lifecycle events or use override methods to manage the app’s lifecycle. Let’s now focus on the configuration of resources during the app’s startup.</p>
<h1 class="heading-1" id="_idParaDest-68">Configuring the resources</h1>
<p class="normal">Resource management is<a id="_idIndexMarker125"/> one of the major differences between .NET MAUI and Xamarin.</p>
<p class="normal">Cross-platform <a id="_idIndexMarker126"/>development presents unique challenges as each platform has its own method for managing resources. This diversity can pose significant management tasks for development teams. For instance, we must incorporate multiple image sizes to accommodate various resolutions.</p>
<p class="normal">In Xamarin, most of the resources are managed separately in platform-specific projects. If we want to add an image, we must add the image files with different sizes to all platform projects separately.</p>
<p class="normal">.NET MAUI provides an elegant solution to manage resources effectively. The design goal of one single project for all supported platforms helps to manage resources in one place.</p>
<p class="normal">In .NET MAUI, resource files can be tagged into different categories using a build action based on the role they play in the project, as we can see in <em class="italic">Table 2.2</em>:</p>
<table class="table-container" id="table002-1">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Resource Type</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Build Action</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Example</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Images</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">MauiImage</code></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">dotnet_bot.svg</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Icons</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">MauiIcon</code></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">appicon.svg</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Splash screen image</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">MauiSplashScreen</code></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">appiconfg.svg</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Fonts</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">MauiFont</code></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">OpenSans-Regular.ttf</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Style definition using external CSS</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">MauiCss</code></p>
</td>
<td class="table-cell">
<p class="normal">N/A</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Raw assets</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">MauiAsset</code></p>
</td>
<td class="table-cell">
<p class="normal">N/A</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">XAML UI definition</p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">MauiXaml</code></p>
</td>
<td class="table-cell">
<p class="normal">N/A</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 2.2: .NET MAUI resource types</p>
<p class="normal">The last three are not used frequently, so we will focus on examples using the more common resource types.</p>
<p class="normal">After <a id="_idIndexMarker127"/>adding a resource file, the build action can be <a id="_idIndexMarker128"/>set in the <strong class="screenText">Properties</strong> window in Visual Studio. If we look at the project file, we can see the following <code class="inlineCode">ItemGroup</code>:</p>
<pre class="programlisting code"><code class="hljs-code">&lt;ItemGroup&gt;
  &lt;!-- App Icon --&gt;
  &lt;MauiIcon Include="Resources\AppIcon\appicon.svg"
    ForegroundFile="Resources\AppIcon\appiconfg.svg"
    Color="#512BD4" /&gt;
  &lt;!— Splash Screen --&gt;
  &lt;MauiSplashScreen Include= "Resources\Splash\splash.svg"
    Color="#512BD4" BaseSize="128,128" /&gt;
  &lt;!-- Images --&gt;
  &lt;MauiImage Include="Resources\Images\*" /&gt;
  &lt;!-- Custom Fonts --&gt;
  &lt;MauiFont Include="Resources\Fonts\*" /&gt;
&lt;/ItemGroup&gt;
</code></pre>
<p class="normal">If we put resources according to the convention of default folder setup, the resources will be treated as the respective category and the build action will be set automatically.</p>
<h2 class="heading-2" id="_idParaDest-69">App icon</h2>
<p class="normal">In our<a id="_idIndexMarker129"/> app setup, as we can see in the <code class="inlineCode">ItemGroup</code> above, we have an SVG image file, <code class="inlineCode">appicon.svg</code>, in the <code class="inlineCode">Resources\AppIcon</code> folder, with the build action set to <code class="inlineCode">MauiIcon</code>. At build time, this file is used to generate icon images on the target platform for various purposes, such as on the device or in the app store.</p>
<p class="normal">It is possible to move this SVG file together with other images to the <code class="inlineCode">Resources\Images</code> folder. In that case, we should use the following entry in the project file:</p>
<pre class="programlisting code"><code class="hljs-code">&lt;MauiIcon Include="Resources\Images\appicon.png" ForegroundFile="Resources\Images\appiconfg.svg" Color="#512BD4" /&gt;
</code></pre>
<p class="normal">The downside is that the build action treats the files in the same folder inconsistently – <code class="inlineCode">appicon.svg</code> resides in the <strong class="screenText">Resources\AppIcon</strong> folder instead of <strong class="screenText">Resources\Images</strong> in our project.</p>
<h2 class="heading-2" id="_idParaDest-70">Splash screen</h2>
<p class="normal">The configuration <a id="_idIndexMarker130"/>of the splash screen is similar to configuration of the app icon. We have an SVG image file, <code class="inlineCode">splash.svg</code>, in the <code class="inlineCode">Resources/Splash</code> folder, with the build action set to <code class="inlineCode">MauiSplashScreen</code>:</p>
<pre class="programlisting code"><code class="hljs-code">&lt;MauiSplashScreen Include="Resources\Splash\splash.svg" Color="#512BD4" /&gt;
</code></pre>
<p class="normal">Resources like app icons, splash screens, and other images are simple and can be directly configured in the project file.</p>
<p class="normal">Some frequently used resources, such as custom fonts and services, may have to be configured in code, or in both code and project files. We will discuss the configuration of custom fonts in the next section and leave DI until <em class="chapterRef">Chapter 6</em>, <em class="italic">Software Design with Dependency Injection</em>.</p>
<h2 class="heading-2" id="_idParaDest-71">Setting custom font icons</h2>
<p class="normal">Custom fonts <a id="_idIndexMarker131"/>can be managed as part of resources. Using custom font icons, we can dramatically reduce the number of image resources in our app. In a mobile app, the visual representation is generally delivered through images. We use images in all kinds of navigation activities. In Android and iOS development, we need to manage image resources for different screen resolutions. </p>
<p class="normal">There are many advantages of using custom fonts as icons instead of images. Font icons are vector icons instead of bitmap icons. Vector icons are scalable, meaning you don’t need different images with different sizes and different resolutions based on the device. Icon font scaling can be handled through the <code class="inlineCode">FontSize</code> property. The font file size is also much smaller than the images. A font file with hundreds of icons in it can be only a few KB in size.</p>
<p class="normal">The icon color can be changed with the <code class="inlineCode">TextColor</code> property. With static images, we are not able to change the icon color.</p>
<p class="normal">Finally, font files can be managed in the shared project, so we don’t have to manage fonts separately on different platforms.</p>
<p class="normal">In both <a id="_idIndexMarker132"/>Xamarin.Forms and .NET MAUI, we can use a custom font (icon font) instead of images for application icons.</p>
<p class="normal">In .NET MAUI, controls that display text typically have definable properties for configuring font settings. The properties that can be configured include:</p>
<ul>
<li class="bulletList"><code class="inlineCode">FontAttributes</code>, which is an enumeration with three members: <code class="inlineCode">None</code>, <code class="inlineCode">Bold</code>, and <code class="inlineCode">Italic</code>. The default value of this property is <code class="inlineCode">None</code>.</li>
<li class="bulletList"><code class="inlineCode">FontSize</code>, which is the property of the font size, and the type is <code class="inlineCode">double</code>.</li>
<li class="bulletList"><code class="inlineCode">FontFamily</code>, which is the property of the font family, and the type is <code class="inlineCode">string</code>.</li>
</ul>
<h3 class="heading-3" id="_idParaDest-72">Custom font setup</h3>
<p class="normal">The <a id="_idIndexMarker133"/>setup of custom fonts has two stages – adding font files and configuring them. Custom font files can be added to a shared project in both .NET MAUI and Xamarin.Forms. However, the configuration process differs between them. In Xamarin.Forms, the configuration is handled through <code class="inlineCode">AssemblyInfo.cs</code>. In .NET MAUI, this is managed via .NET Generic Host.</p>
<p class="normal">In Xamarin.Forms, the process for accomplishing this is as follows:</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1">Add the font file to the Xamarin.Forms shared project as an embedded resource (build action: <code class="inlineCode">EmbeddedResource</code>).</li>
<li class="numberedList">Register the font file with the assembly in a file such as <code class="inlineCode">AssemblyInfo.cs</code> using the <code class="inlineCode">ExportFont</code> attribute. An optional alias can also be specified.</li>
</ol>
<p class="normal">In .NET MAUI, the process is as follows:</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1">Add the font files to the <code class="inlineCode">Resources</code>-&gt;<code class="inlineCode">Fonts</code> folder. The build action is set to <strong class="screenText">MauiFont</strong>, as we can see in <em class="italic">Figure 2.5</em>:</li>
</ol>
<figure class="mediaobject"><img alt="" height="401" src="img/B21554_02_05.png" width="760"/></figure>
<p class="packt_figref">Figure 2.5: .NET MAUI Resources</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="2">Instead of registering the font file with the assembly, .NET MAUI initializes most of the resources through .NET Generic Host in the startup code, as shown in <em class="italic">Listing 2.7 </em>at <strong class="keyWord">(1)</strong>. Font files are added using the <code class="inlineCode">ConfigureFonts</code> method, which is an extension method of the <code class="inlineCode">MauiAppBuilder</code> class.</li>
</ol>
<p class="normal">In our <a id="_idIndexMarker134"/>project, we use the Font Awesome icon library from the following open-source project: <a href="https://github.com/FortAwesome/Font-Awesome">https://github.com/FortAwesome/Font-Awesome</a>.</p>
<p class="normal">The <code class="inlineCode">fa-brands-400.ttf</code>, <code class="inlineCode">fa-regular-400.ttf</code>, and <code class="inlineCode">fa-solid-900.ttf</code> font files can be downloaded from the preceding website.</p>
<p class="normal">Let’s review the source code in <em class="italic">Listing 2.7</em> and see how to add these fonts to the app configuration:</p>
<pre class="programlisting code"><code class="hljs-code">namespace PassXYZ.Vault;
public static class MauiProgram
{
  public static MauiApp CreateMauiApp()
  {
    var builder = MauiApp.CreateBuilder();
    builder
      .UseMauiApp&lt;App&gt;()
      .ConfigureFonts(fonts =&gt;                             //(1)
      {
       fonts.AddFont("fa-regular-400.ttf","FontAwesomeRegular");
       fonts.AddFont("fa-solid-900.ttf", "FontAwesomeSolid");
       fonts.AddFont("fa-brands-400.ttf","FontAwesomeBrands");
       fonts.AddFont("OpenSans-Regular.ttf","OpenSansRegular");
       fonts.AddFont("OpenSans-SemiBold.ttf","OpenSansSemiBold");
      });
    return builder.Build();
  }
}
</code></pre>
<p class="packt_figref">Listing 2.7: <code class="inlineCode">MauiProgram.cs</code> (<a href="https://epa.ms/MauiProgram2-7">https://epa.ms/MauiProgram2-7</a>)</p>
<p class="normal">In the above <a id="_idIndexMarker135"/>code, we can add fonts by calling the <code class="inlineCode">ConfigureFonts</code> <strong class="keyWord">(1)</strong> method on the <code class="inlineCode">MauiAppBuilder</code> object. To pass arguments to <code class="inlineCode">ConfigureFonts</code>, we call the extension method <code class="inlineCode">AddFont</code> of interface <code class="inlineCode">IFontCollection</code> to add a font.</p>
<h3 class="heading-3" id="_idParaDest-73">Displaying font icons</h3>
<p class="normal">To <a id="_idIndexMarker136"/>display font icons in .NET MAUI applications, the font icon data can be defined in a <code class="inlineCode">FontImageSource</code> object. This class, a derivative of the <code class="inlineCode">ImageSource</code> class, comprises the properties shown in <em class="italic">Table 2.3</em>:</p>
<table class="table-container" id="table003-1">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Property name</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Type</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Description</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">Glyph</code></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">string</code></p>
</td>
<td class="table-cell">
<p class="normal">Unicode character value, such as <code class="inlineCode">"&amp;#xf007;"</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">Size</code></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">double</code></p>
</td>
<td class="table-cell">
<p class="normal">The size of the font in device-independent units</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">FontFamily</code></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">string</code></p>
</td>
<td class="table-cell">
<p class="normal">A string representing the font family, such as <code class="inlineCode">FontAwesomeRegular</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">Color</code></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">Color</code></p>
</td>
<td class="table-cell">
<p class="normal">Font icon color in <code class="inlineCode">Microsoft.Maui.Graphics.Color</code></p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 2.3: Properties of FontImageSource</p>
<p class="normal">The following XAML example has a single font icon being displayed in an <code class="inlineCode">Image</code> view:</p>
<pre class="programlisting code"><code class="hljs-code">&lt;Image BackgroundColor="#D1D1D1"&gt;
    &lt;Image.Source&gt;
        &lt;<strong class="hljs-name-slc">FontImageSource</strong> Glyph="&amp;#xf007;"
                         FontFamily="FontAwesomeRegular"
                         Size="32" /&gt;
    &lt;/Image.Source&gt;
&lt;/Image&gt;
</code></pre>
<p class="normal">If you are <a id="_idIndexMarker137"/>not familiar with the XAML syntax in the preceding example, don’t worry. We will cover it in the following chapter. In the preceding code, a <code class="inlineCode">User</code> icon is displayed in an <code class="inlineCode">Image</code> control, which is from the <code class="inlineCode">FontAwesomeRegular</code> font family that we just added in the configuration. The <code class="inlineCode">Glyph</code> of the <code class="inlineCode">User</code> icon in the hexadecimal format is <code class="inlineCode">\uf007</code>, presented here in C# escaped format. When we use it in XML, the escaped format we have to use is <code class="inlineCode">&amp;#xf007;</code>.</p>
<p class="normal">The equivalent C# code is as follows:</p>
<pre class="programlisting code"><code class="hljs-code">Image image = new Image {
    BackgroundColor = Color.FromHex("#D1D1D1")
};
image.Source = new <strong class="hljs-slc">FontImageSource</strong> {
    Glyph = "\uf007",
    FontFamily = "FontAwesomeRegular",
    Size = 32
};
</code></pre>
<p class="normal">In the preceding example, we referred to a font icon using a string representation of a hex number for its <code class="inlineCode">Glyph</code>. However, this is not the most practical for real-world usage. It’s preferable to define font glyphs as C# string constants, allowing more meaningful references. Several approaches can be applied here. In our case, we make use of the open-source <strong class="keyWord">IconFont2Code</strong> tool to generate string constants. <strong class="keyWord">IconFont2Code</strong> can be found on GitHub using the following URL: <a href="https://github.com/andreinitescu/IconFont2Code">https://github.com/andreinitescu/IconFont2Code</a>.</p>
<p class="normal">In our project, we use Font Awesome. Through the <strong class="keyWord">IconFont2Code</strong> website, we can upload the font library from our project’s <code class="inlineCode">Resources\Fonts</code> folder. <strong class="keyWord">IconFont2Code</strong> then generates the corresponding code for us, as demonstrated in the following example:</p>
<pre class="programlisting code"><code class="hljs-code">namespace PassXYZ.Vault.Resources.Styles;
static class FontAwesomeRegular
{
    public const string Heart = "\uf004";
    public const string Star = "\uf005";
    public const string Scan = "\uf006";
    public const string User = "\uf007";
    public const string Qrcode = "\uf008";
    public const string Fingerprint = "\uf009";
    public const string Clock = "\uf017";
    public const string ListAlt = "\uf022";
    public const string Flag = "\uf024";
    public const string Bookmark = "\uf02e";
    ...
    public const string SmileBeam = "\uf5b8";
    public const string Surprise = "\uf5c2";
    public const string Tired = "\uf5c8";
}
</code></pre>
<p class="normal">We can <a id="_idIndexMarker138"/>save the generated C# files in the <code class="inlineCode">Resources\Styles</code> folder. The preceding file can be found here: <code class="inlineCode">Resources\Styles\FontAwesomeRegular.cs</code>.</p>
<p class="normal">With the preceding <code class="inlineCode">FontAwesomeRegular</code> static class, a font icon can be used just like the normal text in a XAML file:</p>
<pre class="programlisting code"><code class="hljs-code">&lt;Button
  Text="Click me"
  FontAttributes="Bold"
  Grid.Row="3"
  SemanticProperties.Hint="Counts the number of times …"
  Clicked="OnCounterClicked"
  HorizontalOptions="Center"&gt;
  &lt;Button.ImageSource&gt;
&lt;FontImageSource 
      <strong class="hljs-attr-slc">FontFamily</strong>="FontAwesomeSolid"
      <strong class="hljs-attr-slc">Glyph</strong>="{x:Static app:FontAwesomeSolid.PlusCircle}"
      <strong class="hljs-attr-slc">Color</strong>="{DynamicResource SecondaryColor}"
      <strong class="hljs-attr-slc">Size</strong>="16" /&gt;
  &lt;/Button.ImageSource&gt;
&lt;/Button&gt;
</code></pre>
<p class="normal">In the preceding code, we have added a circle plus icon to the <code class="inlineCode">Button</code> control, which appears before the text <code class="inlineCode">"Click me"</code>. In order to reference the icon name in the generated C# class, we <a id="_idIndexMarker139"/>introduce an <code class="inlineCode">app</code> namespace, as defined here:</p>
<pre class="programlisting code"><code class="hljs-code">xmlns:app="clr-namespace:PassXYZ.Vault.Resources.Styles"
</code></pre>
<p class="normal">So far, we have created our project and configured the resources that we need. It’s time to build and test our app.</p>
<h1 class="heading-1" id="_idParaDest-74">Building and debugging</h1>
<p class="normal">As we<a id="_idIndexMarker140"/> mentioned in <em class="chapterRef">Chapter 1</em>, <em class="italic">Getting Started with .NET MAUI</em>, we cannot build and test every target using a single platform. Please refer to <em class="italic">Table 1.8</em> for the available build targets on Windows and macOS platforms. For the sake of simplicity, we will build and test targets Windows and Android on Windows. For iOS and macOS builds, we will do it on the macOS platform.</p>
<p class="normal">Once we’ve set<a id="_idIndexMarker141"/> things up, we can start building and debugging our application.</p>
<p class="normal">Let’s begin with building and testing on the Windows platform. We can choose the framework that we want to run or debug, depending on our needs, as depicted in <em class="italic">Figure 2.6</em>:</p>
<figure class="mediaobject"><img alt="" height="455" src="img/B21554_02_06.png" width="825"/></figure>
<p class="packt_figref">Figure 2.6: Building and debugging</p>
<h2 class="heading-2" id="_idParaDest-75">Windows</h2>
<p class="normal">We can run<a id="_idIndexMarker142"/> or debug a Windows build on a local machine by choosing <strong class="screenText">net8.0-windows10.0.19041.0</strong> as the framework. However, to accomplish this, we must first enable Developer Mode on Windows, if it’s not yet been activated. Please refer to <em class="italic">Figure 2.7</em> for guidance on enabling Developer Mode on Windows 10 or 11:</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1">Open the <strong class="screenText">Start</strong><strong class="keyWord"> </strong>menu.</li>
<li class="numberedList">Search for <strong class="screenText">Developer settings</strong> and select it.</li>
<li class="numberedList">Turn on <strong class="screenText">Developer Mode</strong>.</li>
<li class="numberedList">If you receive a warning message about Developer Mode, read it, and select <strong class="screenText">Yes</strong>.</li>
</ol>
<figure class="mediaobject"><img alt="Figure 2.7: Developer Mode" height="141" src="img/B21554_02_07.png" width="388"/></figure>
<p class="packt_figref">Figure 2.7: Developer Mode</p>
<h2 class="heading-2" id="_idParaDest-76">Android</h2>
<p class="normal">For <a id="_idIndexMarker143"/>Android builds, testing can be done using an Android emulator or device. However, prior to building or debugging, we need to connect a device or set up an instance of an emulator. For instructions on how to configure a device or create an emulator instance, please refer to the following Microsoft documentation: <a href="https://learn.microsoft.com/en-us/dotnet/maui/">https://learn.microsoft.com/en-us/dotnet/maui/</a>.</p>
<p class="normal">We can run or debug from Visual Studio (<em class="italic">Figure 2.6</em>) by selecting <strong class="screenText">net8.0-android</strong> as the framework.</p>
<p class="normal">Alternatively, we can also build and run <code class="inlineCode">net8.0-android</code> from the command line using the following command:</p>
<pre class="programlisting con"><code class="hljs-con">dotnet build -t:Run -f net8.0-android
</code></pre>
<figure class="mediaobject"><img alt="Figure 2.8: Running on Android and Windows" height="565" src="img/B21554_02_08.png" width="825"/></figure>
<p class="packt_figref">Figure 2.8: Running on Android and Windows</p>
<p class="normal">After we run the app on<a id="_idIndexMarker144"/> Android and Windows targets, we can see the preceding screen (<em class="italic">Figure 2.8</em>).</p>
<h2 class="heading-2" id="_idParaDest-77">iOS and macOS</h2>
<p class="normal">We’re<a id="_idIndexMarker145"/> able to build and test iOS and macOS targets on a Mac computer. Given Microsoft’s announcement regarding the retirement of Microsoft Visual Studio 2022 for Mac, we will proceed to demonstrate how to build and test iOS and macOS targets utilizing command-line operations.</p>
<h3 class="heading-3" id="_idParaDest-78">Building and testing the iOS target</h3>
<p class="normal">To build and test the iOS target, we can use the following command in the project folder:</p>
<pre class="programlisting con"><code class="hljs-con">dotnet build -t:Run -f net8.0-ios -p:_DeviceName=:v2:udid=02C556DA-64B8-440B-8F06-F8C56BB7CC22
</code></pre>
<p class="normal">To select a target iOS emulator, we need to provide the device ID using the following parameter:</p>
<pre class="programlisting con"><code class="hljs-con">-p:_DeviceName=:v2:udid=
</code></pre>
<p class="normal">To find the <a id="_idIndexMarker146"/>device ID, we can launch Xcode on a Mac computer and go to <strong class="screenText">Windows</strong> -&gt; <strong class="screenText">Devices and Simulators</strong>, as shown in <em class="italic">Figure 2.9</em>:</p>
<figure class="mediaobject"><img alt="" height="495" src="img/B21554_02_09.png" width="825"/></figure>
<p class="packt_figref">Figure 2.9: Devices and simulators in Xcode</p>
<p class="normal">As an addition to building on a Mac, it’s worth noting that iOS targets can also be built and tested using Visual Studio 2022 on Windows, provided the configuration is set up accordingly. Refer to the following Microsoft documentation for instructions on how to deploy an iOS app using hot restart: <a href="https://learn.microsoft.com/en-us/dotnet/maui/ios/hot-restart">https://learn.microsoft.com/en-us/dotnet/maui/ios/hot-restart</a>.</p>
<h3 class="heading-3" id="_idParaDest-79">Building and testing the macOS target</h3>
<p class="normal">For the <a id="_idIndexMarker147"/>macOS target, we can use the following command to build and test:</p>
<pre class="programlisting con"><code class="hljs-con">dotnet build -t:Run -f net8.0-maccatalyst
</code></pre>
<p class="normal">In <em class="italic">Figure 2.10</em>, we can see a screenshot of our project in both iOS and macOS. The look and feel are similar to Android and Windows.</p>
<figure class="mediaobject"><img alt="Figure 2.10: Running on iOS and macOS" height="565" src="img/B21554_02_10.png" width="825"/></figure>
<p class="packt_figref">Figure 2.10: Running on iOS and macOS</p>
<p class="normal">The environment <a id="_idIndexMarker148"/>setup for Android, iOS, and macOS involves platform-specific details. Please refer to the Microsoft documentation for detailed instructions.</p>
<p class="normal">Our app works well now, but you can see that it is a very simple one with only one window. To lay a better foundation for our subsequent development, we will use Shell as the navigation framework. There is a good Shell-based template in Xamarin.Forms, and we can use it to create the initial code for our app.</p>
<h1 class="heading-1" id="_idParaDest-80">Migrating from Xamarin</h1>
<p class="normal">In this section, we <a id="_idIndexMarker149"/>will showcase the process of migrating a Xamarin.Forms project template to .NET MAUI. It should be noted that this serves only as an example, given that there are many types of Xamarin projects. Therefore, only<a id="_idIndexMarker150"/> an example of migrating a Xamarin.Forms project to .NET MAUI is discussed in this chapter. For additional information on migrating Xamarin-native projects and other related topics, please refer to the Microsoft documentation: <a href="https://learn.microsoft.com/en-us/dotnet/maui/migration/">https://learn.microsoft.com/en-us/dotnet/maui/migration/</a>.</p>
<p class="normal">Though we are primarily porting the Xamarin.Forms Shell template as an example in this chapter, this new project template is crucial for our subsequent developments. To provide further context, I will briefly introduce the planned migration of PassXYZ.Vault from Xamarin.Forms to .NET MAUI. This will outline the challenges we’ll need to tackle in this book, which should prepare you for the challenges you may encounter when migrating your own apps.</p>
<p class="normal">We can run the app that we have created successfully now. We are going to develop a password manager app named PassXYZ.Vault in the rest of this book. Version <em class="italic">1.x.x</em> of this app is implemented in Xamarin.Forms, and you can find it on GitHub: <a href="https://github.com/passxyz/Vault">https://github.com/passxyz/Vault</a>.</p>
<p class="normal">Version <em class="italic">1.x.x</em> is developed using Xamarin.Forms <em class="italic">5.0.0</em>. We plan to rebuild it using .NET MAUI and will discuss the process in this book. The .NET MAUI release will be labeled as <em class="italic">2.x.x</em>, and the source code will be available at the following location: <a href="https://github.com/passxyz/Vault2">https://github.com/passxyz/Vault2</a>.</p>
<p class="normal">Both the <em class="italic">1.x.x</em> and <em class="italic">2.x.x</em> versions utilize Shell as the navigation framework, supported in .NET MAUI and Xamarin.Forms through <code class="inlineCode">Microsoft.Maui.Controls.Shell</code> and <code class="inlineCode">Xamarin.Forms.Shell</code>, respectively. Shell provides a consistent navigation user experience across all platforms. We will delve deeper into Shell and its navigation features in <em class="chapterRef">Chapter 5</em>, <em class="italic">Navigation Using .NET MAUI Shell and NavigationPage</em>.</p>
<p class="normal">Project templates created from the Visual Studio for both .NET MAUI and Xamarin.Forms incorporate Shell. However, the default .NET MAUI project template contains only the simplest form of Shell, as seen in <em class="italic">Listing 2.8</em>:</p>
<pre class="programlisting code"><code class="hljs-code">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;Shell
    x:Class="PassXYZ.Vault.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:PassXYZ.Vault"
    Shell.FlyoutBehavior="Disabled"&gt;
    &lt;ShellContent
        Title="Home"
        ContentTemplate="{DataTemplate local:MainPage}"
        Route="MainPage" /&gt;
&lt;/Shell&gt;
</code></pre>
<p class="packt_figref">Listing 2.8: <code class="inlineCode">AppShell.xaml</code> (<a href="https://epa.ms/AppShell2-8">https://epa.ms/AppShell2-8</a>)</p>
<p class="normal"><code class="inlineCode">MainPage</code> is displayed in <code class="inlineCode">ShellContent</code>, presenting a basic UI without much content. In our app, we<a id="_idIndexMarker151"/> will employ the <strong class="keyWord">MVVM pattern</strong> to<a id="_idIndexMarker152"/> build our user interface via Shell. In order to do so, boilerplate code is required that encompasses both the MVVM pattern and the Shell navigation structure.</p>
<div><p class="normal">The MVVM pattern is a frequently used UI design pattern in .NET MAUI app development. We will encounter it several times as we progress through the topics in this book.</p>
</div>
<p class="normal">We have the option of creating this code from scratch. However, the Xamarin.Forms template includes the boilerplate code that I used in version <em class="italic">1.x.x</em> of <code class="inlineCode">PassXYZ.Vault</code>. Thus, the same project template can be created for .NET MAUI. This process also gives us an insight into how to migrate or reuse existing Xamarin.Forms code.</p>
<h2 class="heading-2" id="_idParaDest-81">Migrating and reusing the Shell template from Xamarin.Forms</h2>
<p class="normal">Xamarin.Forms <a id="_idIndexMarker153"/>provides a more versatile Shell template that can be used to generate boilerplate code with either<a id="_idIndexMarker154"/> flyout or tabbed Shell navigation options. We can set up a new Xamarin.Forms project using this template. Then, we can<a id="_idIndexMarker155"/> implement this boilerplate code in the .NET MAUI application that we just created.</p>
<p class="normal">To create a <a id="_idIndexMarker156"/>new Xamarin.Forms project, follow these steps:</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1">Launch Visual Studio 2022 and select <strong class="screenText">Create a new project</strong>. This opens the <strong class="screenText">Create a new project</strong> wizard. In<a id="_idIndexMarker157"/> the search box, we can type <code class="inlineCode">Xamarin</code>, and all Xamarin-related project templates will be shown (see <em class="italic">Figure 2.11</em>):</li>
</ol>
<figure class="mediaobject"><img alt="Figure 2.11: New Xamarin project" height="498" src="img/B21554_02_11.png" width="759"/></figure>
<p class="packt_figref">Figure 2.11: New Xamarin project</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="2">Select <strong class="screenText">Mobile App (Xamarin.Forms)</strong> from the list and click <strong class="screenText">Next</strong>. On the next screen, as shown in <em class="italic">Figure 2.12</em>, we can choose a different location and use the same project name, <code class="inlineCode">PassXYZ.Vault</code>, and then click the <strong class="screenText">Create</strong> button:</li>
</ol>
<figure class="mediaobject"><img alt="Figure 2.12: Configure the Xamarin project" height="505" src="img/B21554_02_12.png" width="759"/></figure>
<p class="packt_figref">Figure 2.12: Configure the Xamarin project</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="3">We have<a id="_idIndexMarker158"/> one <a id="_idIndexMarker159"/>more<a id="_idIndexMarker160"/> step, as shown in <em class="italic">Figure 2.13</em>. Let’s select the <strong class="screenText">Flyout</strong> template and click <strong class="screenText">Create</strong>:</li>
</ol>
<figure class="mediaobject"><img alt="Figure 2.13: Configure the Xamarin project – Flyout" height="570" src="img/B21554_02_13.png" width="759"/></figure>
<p class="packt_figref">Figure 2.13: Configure the Xamarin project – Flyout</p>
<p class="normal">After the new<a id="_idIndexMarker161"/> solution has <a id="_idIndexMarker162"/>been created, we can see that<a id="_idIndexMarker163"/> there are four projects in the solution, as shown in <em class="italic">Figure 2.14</em>:</p>
<ul>
<li class="bulletList"><strong class="screenText">PassXYZ.Vault</strong> – This is a .NET Standard project that is shared by other projects, and all platform-independent code should be here.</li>
<li class="bulletList"><strong class="screenText">PassXYZ.Vault.Android</strong> – This is the Android platform-specific project.</li>
<li class="bulletList"><strong class="screenText">PassXYZ.Vault.iOS</strong> – This is the iOS platform-specific project.</li>
<li class="bulletList"><strong class="screenText">PassXYZ.Vault.UWP</strong> – This is the UWP-specific project.</li>
</ul>
<p class="normal">We observe that <a id="_idIndexMarker164"/>the project structure of Xamarin.Forms is quite different from that of .NET MAUI. The solution consists of multiple projects, with resources managed separately in<a id="_idIndexMarker165"/> platform-specific projects. The <a id="_idIndexMarker166"/>bulk of the development work is carried out in the .NET Standard project, <strong class="screenText">PassXYZ.Vault</strong>. We will focus on migrating and reusing the code present in this project.</p>
<figure class="mediaobject"><img alt="A screenshot of a computer  Description automatically generated" height="876" src="img/B21554_02_14.png" width="826"/></figure>
<p class="packt_figref">Figure 2.14: Xamarin.Forms project structure</p>
<p class="normal">The source<a id="_idIndexMarker167"/> code of this Xamarin.Forms project can be found here: <a href="https://github.com/shugaoye/PassXYZ.Vault2/tree/xamarin">https://github.com/shugaoye/PassXYZ.Vault2/tree/xamarin</a>.</p>
<p class="normal">The migration process is<a id="_idIndexMarker168"/> relatively straightforward when it does not involve platform-specific code. We are tackling the simplest case here, but it’s important to note that production code might be far more complex than this example. Therefore, any migration should only occur after meticulous analysis.</p>
<p class="normal">Let’s concentrate<a id="_idIndexMarker169"/> on the .NET Standard project. Its content includes the boilerplate code required for the MVVM pattern and Shell UI – precisely what we need. We can copy the files highlighted in<em class="italic"> Table 2.4</em> to the .NET MAUI project and adjust the namespaces in the source code accordingly.</p>
<p class="normal">Below are the<a id="_idIndexMarker170"/> steps of the migration process:</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1">Please refer to <em class="italic">Table 2.4</em>, which shows a list of actions corresponding to the list of files and folders in the .NET Standard project:</li>
</ol>
<table class="table-container" id="table004-1">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Xamarin.Forms</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Actions</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">.NET MAUI</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">App.xaml</code></p>
</td>
<td class="table-cell">
<p class="normal">No</p>
</td>
<td class="table-cell">
<p class="normal">Keep the .NET MAUI version. It defines the instance of the <code class="inlineCode">Application</code> class.</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">AppShell.xaml</code></p>
</td>
<td class="table-cell">
<p class="normal">Replace</p>
</td>
<td class="table-cell">
<p class="normal">Overwrite the .NET MAUI version and change namespaces to .NET MAUI. This file defines the Shell navigation hierarchy.</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">Views/</code></p>
</td>
<td class="table-cell">
<p class="normal">Copy</p>
</td>
<td class="table-cell">
<p class="normal">New folder in .NET MAUI project. Need to change namespaces.</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">ViewModels/</code></p>
</td>
<td class="table-cell">
<p class="normal">Copy</p>
</td>
<td class="table-cell">
<p class="normal">New folder in .NET MAUI project. Need to change namespaces.</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">Services/</code></p>
</td>
<td class="table-cell">
<p class="normal">Copy</p>
</td>
<td class="table-cell">
<p class="normal">Interface to export models. New folder in .NET MAUI project. Need to change namespaces.</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">Models/</code></p>
</td>
<td class="table-cell">
<p class="normal">Copy</p>
</td>
<td class="table-cell">
<p class="normal">New folder in .NET MAUI project. Need to change namespaces.</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 2.4: Actions in the .NET Standard project</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="2">In the .NET MAUI project, please <a id="_idIndexMarker171"/>refer to <em class="italic">Table 2.5</em> to replace the following namespaces:</li>
</ol>
<table class="table-container" id="table005-1">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Old namespace</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">New namespace</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode"/></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode"/></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">using Xamarin.Forms</code></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">using Microsoft.Maui AND using Microsoft.Maui.Controls</code></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><code class="inlineCode">using Xamarin.Forms.Xaml</code></p>
</td>
<td class="table-cell">
<p class="normal"><code class="inlineCode">using Microsoft.Maui.Controls.Xaml</code></p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 2.5: Namespaces in .NET MAUI and Xamarin.Forms</p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="3">Test <a id="_idIndexMarker172"/>and fix any errors.
    <p class="normal">In <em class="italic">Figure 2.15</em>, we can see the list of files changed in the process:</p>
<figure class="mediaobject"><img alt="" height="358" src="img/B21554_02_15.png" width="759"/></figure>
<p class="packt_figref">Figure 2.15: Changed files in migration (https://bit.ly/3NlfqvO)</p>
<p class="normal">For this<a id="_idIndexMarker173"/> straightforward case, all the necessary changes relate to the namespace. However, real-world situations may not always follow this pattern. Despite the simplicity of the process, it can still be somewhat daunting for newcomers to .NET MAUI. In fact, you are not required to carry out this process<a id="_idIndexMarker174"/> yourself. As an alternative, I’ve created a new .NET MAUI project template that you can use.</p></li>
</ol>
<p class="normal">After building and<a id="_idIndexMarker175"/> testing this updated app, we’ll be able to view the outcome in the screenshot provided in <em class="italic">Figure 2.16</em>:</p>
<figure class="mediaobject"><img alt="" height="588" src="img/B21554_02_16.png" width="825"/></figure>
<p class="packt_figref">Figure 2.16: PassXYZ.Vault with .NET MAUI Shell</p>
<p class="normal">In <em class="italic">Figure 2.16</em>, we<a id="_idIndexMarker176"/> can see that there are three pages included in the default Shell menu:</p>
<ul>
<li class="bulletList"><strong class="keyWord">About:</strong> This is a page that informs users about the app’s functionality.</li>
<li class="bulletList"><strong class="keyWord">Browse:</strong> This is the entry point of a list of items.</li>
<li class="bulletList"><strong class="keyWord">Logout:</strong> This is the link to the login page where you can log in or log out.</li>
</ul>
<p class="normal">This boilerplate code will serve as the foundation for the further development of our project in this book. To encapsulate the work we’ve done in this section, I’ve created a corresponding <a id="_idIndexMarker177"/>Visual Studio project template. Utilizing this template allows us to generate the desired project structure with ease.</p>
<p class="normal">Note that this <a id="_idIndexMarker178"/>example merely <a id="_idIndexMarker179"/>illustrates the basic migration process. In a real-life project, numerous other factors would need to be taken into account, such as:</p>
<ul>
<li class="bulletList">Moving resources (font, images, and so on) out of platform folders</li>
<li class="bulletList">Converting Customer Renderer to Handler</li>
<li class="bulletList">Updating dependencies (NuGet packages)</li>
<li class="bulletList">Changing <code class="inlineCode">DependencyService</code> to DI</li>
</ul>
<p class="normal">The above list is just an example. We can only find out all the considerations after a detailed analysis of a project.</p>
<h2 class="heading-2" id="_idParaDest-82">Visual Studio project template</h2>
<p class="normal">The<a id="_idIndexMarker180"/> project template can be downloaded as a<a id="_idIndexMarker181"/> Visual Studio extension package from the Visual Studio Marketplace at: <a href="https://marketplace.visualstudio.com/items?itemName=shugaoye.maui">https://marketplace.visualstudio.com/items?itemName=shugaoye.maui</a>.</p>
<p class="normal">When you go to the above URL, you will see the page shown in <em class="italic">Figure 2.17</em>:</p>
<figure class="mediaobject"><img alt="" height="383" src="img/B21554_02_17.png" width="825"/></figure>
<p class="packt_figref">Figure 2.17: Project template in Visual Studio Marketplace</p>
<p class="normal">After the installation of this project template, we can create a new .NET MAUI project, as shown in <em class="italic">Figure 2.18</em>:</p>
<figure class="mediaobject"><img alt="A computer screen shot of a computer screen  Description automatically generated" height="445" src="img/B21554_02_18.png" width="825"/></figure>
<p class="packt_figref">Figure 2.18: Creating a new .NET MAUI MVVM project</p>
<p class="normal">In the<a id="_idIndexMarker182"/> project created using this template, the project<a id="_idIndexMarker183"/> structure is the same as the one in this chapter. The source code of this project template can be found here: <a href="https://github.com/passxyz/MauiTemplate">https://github.com/passxyz/MauiTemplate</a>.</p>
<h1 class="heading-1" id="_idParaDest-83">Summary</h1>
<p class="normal">In this chapter, we created a new .NET MAUI project. We learned how to configure our .NET MAUI app using .NET Generic Host and adjusted the resources configuration to utilize a custom font (Font Awesome). We also learned about the .NET MAUI application lifecycle and tested the process of subscribing to lifecycle events by overriding the <code class="inlineCode">CreateWindow</code> method and by creating a derived class of the <code class="inlineCode">Window</code> class. To generate boilerplate code with MVVM pattern and Shell support, we created a new .NET MAUI project template. This walkthrough served to demonstrate how to migrate Xamarin.Forms code to .NET MAUI.</p>
<p class="normal">In our next chapter, we will learn how to create a user interface using XAML, which can be used to build user interfaces for WPF, UWP, Xamarin.Forms, and .NET MAUI. We will continue to create and enhance the user interfaces of our password manager app using XAML.</p>
<h1 class="heading-1">Learn more on Discord</h1>
<p class="normal">Join our community’s Discord space for discussions with the author and other readers:</p>
<p class="normal"><a href="https://packt.link/cross-platform-app">https://packt.link/cross-platform-app</a></p>
<p class="normal"><img alt="" height="354" src="img/QR_Code166522361691420406.png" style="width:10em;" width="354"/></p>
</div>
</div></body></html>