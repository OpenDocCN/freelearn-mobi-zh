# 前言

用户界面是任何现代移动应用程序最重要的单一方面。它们是您与用户的主要接触点，良好的用户界面可能是应用程序成功与失败的区别。本书将引导您走向用户界面卓越之路，教授您优秀的 Android 用户界面设计技巧，并展示如何实现它们。

构建用户界面全部是为了用户，并使他们的生活变得更简单。用户界面帮助用户在应用程序中实现目标而不分散他们的注意力是很重要的。这意味着每个屏幕都必须有一个目的，每个小部件都必须在其屏幕位置上发挥作用。很少使用的小部件是干扰，应该从应用程序中移除或删除。

用户界面不仅仅是关于漂亮的颜色、字体和图形；它们是应用程序用户体验的核心。您如何创建用户界面建立在您在应用程序代码库中构建的底层结构之上。如果应用程序的基础不牢固，用户体验将受到影响。用户采取的每个动作都应该有一个快速而积极的结果，从而增强他们能够达到应用程序目标的信心。

在本书中，我们将探讨的不仅仅是如何编写用户界面代码，还包括如何设计出色的用户界面。我们将探讨底层如数据存储如何影响用户体验，以及如何利用 Android 平台及其支持库构建更好的应用程序，这些应用程序看起来很棒，运行速度快，并有助于确保用户可以快速理解应用程序，并在最小干扰的情况下得到引导。

# 本书涵盖内容

第一章*,* 创建 Android 布局，*将介绍或重新介绍 Android Studio，并帮助从模板创建新的 Android 应用程序项目。我们将探讨 Android 项目的结构以及用户界面是如何连接在一起的。

第二章*,* 设计表单屏幕，*将向您展示如何从头开始设计表单屏幕。您将学习决定在屏幕上放置什么以及如何布局表单屏幕以最大化其效果，同时不干扰用户的思维流程。

第三章，*采取行动*，将向您展示如何在 Android 中处理事件。它将引导您了解各种类型的事件，并提供您保持应用程序尽可能响应的模式和技巧。它还将向您展示避免代码库中复杂性过载的技术，以及如何使应用程序的内部结构尽可能干净。

第四章，*组合用户界面*，将为你提供构建模块化用户界面组件的工具。它将向你展示如何封装相关的逻辑和用户界面结构，以便它们可以被重用，从而在降低代码复杂性的同时，也使用户体验更加一致。

第五章，*将数据绑定到小部件*，将介绍 Android 中的数据绑定框架。你将了解数据绑定存在的理由，它是如何工作的，以及如何有效地使用它。你将学习如何创建当数据模型发生变化时自动更新的用户界面结构。

第六章，*存储和检索数据*，将涵盖在移动应用程序中存储和检索数据如何直接影响用户体验。你将学习如何最好地构建以离线优先、响应式应用程序使用 Room 数据访问层和数据绑定。

第七章*，*创建概览屏幕*，将探讨`RecyclerView`及其在概览屏幕和仪表板中提供信息时的常用方式。你将学习如何创建支持`RecyclerView`的数据结构，以及如何利用数据绑定来大幅减少与这些结构传统上相关的样板代码。

第八章，*设计材料布局*，将介绍适用于 Android 应用程序的几个 Material Design 特定模式和组件。你将学习如何利用可折叠标题栏并对其进行自定义，以向用户展示更多信息。你还将学习如何在用户界面中添加滑动删除行为、撤销 snackbars 和高度。

第九章，*有效导航*，将帮助你学习如何制作设计有效的应用程序导航，以直观地引导用户到达他们的目标。本章介绍了几个特定的导航小部件和布局技术，并展示了它们在哪里以及如何最有效地应用。

第十章，*让概览更加完善*，将重新审视在第七章中构建的概览屏幕第七章*，*创建概览屏幕*，并展示如何利用 Android 平台 API 生成精致的概览屏幕。你将学习如何使用`DiffUtil`在`RecyclerView`中自动生成动画，以及允许你生成更易读的概览列表的模式。

第十一章，*打磨你的设计*，将帮助你提升优秀设计的打磨技巧。它将介绍工具和技术，帮助你为你的应用程序选择配色方案。你还将学习如何即时生成配色方案，以及如何创建和使用动画来引导你的用户。

第十二章，*自定义小部件和布局*，将介绍为 Android 构建自己的自定义小部件。您将学习如何直接从 Java 代码中渲染 2D 图形以及如何创建您自己的自定义布局。本章还展示了如何构建在可见时自动动画的小部件。

附录 A*，活动生命周期，*一张涵盖发送给 Android `Activity`的生命周期事件及其发生时间的图表和简要描述。

附录 B，*测试您的知识答案，*每个章节“测试您的知识”部分的答案。

# 您需要为本书准备什么

您需要下载并安装至少 Android Studio 3.0。使用 Android Studio，您需要下载最新的 Android SDK，以便您可以编译和运行您的代码。

# 本书的目标读者

本书面向对 Android 开发有基本知识的初级 Android 和 Java 开发者，他们希望开始开发令人惊叹的用户界面。

# 术语约定

在本书中，您将找到许多文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义的解释。文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示：“接下来的代码行读取链接并将其分配给`constantSize`属性。”代码块设置如下：

```kt
<selector

    android:constantSize="true"
    android:exitFadeDuration="@android:integer/config_shortAnimTime"
    android:enterFadeDuration="@android:integer/config_shortAnimTime">
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```kt
<selector

    android:constantSize="true"
    android:exitFadeDuration="@android:integer/config_shortAnimTime"
    android:enterFadeDuration="@android:integer/config_shortAnimTime">
```

**新术语**和**重要词汇**以粗体显示。屏幕上看到的单词，例如在菜单或对话框中，在文本中显示如下：“为了下载新模块，我们将转到文件 | 设置 | 项目名称 | 项目解释器。”

警告或重要注意事项看起来像这样。

小贴士和技巧看起来像这样。

# 读者反馈

我们欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢或不喜欢什么。读者反馈对我们很重要，因为它帮助我们开发您真正能从中获得最大收益的标题。要发送一般反馈，请简单地发送电子邮件至`feedback@packtpub.com`，并在邮件主题中提及书名。如果您在某个主题领域有专业知识，并且对撰写或参与书籍感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 图书的骄傲拥有者，我们有一些事情可以帮助您从您的购买中获得最大收益。

# 下载示例代码

您可以从您的账户中下载此书的示例代码文件，网址为[`www.packtpub.com`](http://www.packtpub.com)。如果您在其他地方购买了此书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。您可以通过以下步骤下载代码文件：

1.  使用您的电子邮件地址和密码登录或注册我们的网站。

1.  将鼠标指针悬停在顶部的 SUPPORT 标签上。

1.  点击代码下载与错误清单。

1.  在搜索框中输入书籍名称。

1.  选择您想要下载代码文件的书籍。

1.  从下拉菜单中选择您购买此书的来源。

1.  点击代码下载。

一旦文件下载完成，请确保您使用最新版本的以下软件解压或提取文件夹：

+   WinRAR / 7-Zip for Windows

+   Zipeg / iZip / UnRarX for Mac

+   7-Zip / PeaZip for Linux

该书的代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Hands-On-Android-UI-Development`](https://github.com/PacktPublishing/Hands-On-Android-UI-Development)。我们还有其他来自我们丰富图书和视频目录的代码包可供在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。查看它们吧！

# 错误清单

尽管我们已经尽一切努力确保我们内容的准确性，但错误仍然会发生。如果您在我们的某本书中找到错误——可能是文本或代码中的错误——如果您能向我们报告，我们将不胜感激。这样做可以节省其他读者的挫败感，并帮助我们改进此书的后续版本。如果您发现任何错误清单，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击错误提交表单链接，并输入您的错误清单详情来报告它们。一旦您的错误清单得到验证，您的提交将被接受，错误清单将被上传到我们的网站或添加到该标题的错误清单部分。要查看之前提交的错误清单，请转到[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在错误清单部分。

# 盗版

互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。请通过`copyright@packtpub.com`与我们联系，并提供疑似盗版材料的链接。我们感谢您在保护我们作者和我们为您提供有价值内容的能力方面的帮助。

# 问题

如果您对本书的任何方面有问题，您可以联系我们的`questions@packtpub.com`，我们将尽力解决问题。
