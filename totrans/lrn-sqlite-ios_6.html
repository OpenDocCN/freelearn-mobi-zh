<html><head></head><body><div class="chapter" title="Chapter&#xA0;6.&#xA0;Using Swift with iOS and SQLite"><div class="titlepage"><div><div><h1 class="title"><a id="ch06"/>Chapter 6. Using Swift with iOS and SQLite</h1></div></div></div><p>In this chapter, you will look at using the new programming language from Apple called <a class="indexterm" id="id260"/>
<span class="strong"><strong>Swift</strong></span>. It is a new language created by Apple and has very powerful features to perform a variety of tasks and is now open source. Apple released it, and it has grown so fast that in the months and years to come, it will be the de facto standard for coding using Apple devices. You will see how Swift works with iOS, Xcode, and SQLite.</p><p>It has been an extraordinary journey since Swift was announced at the WWDC 2014 in San Francisco. In 2015, Apple announced that Swift would be open source. The language itself allows you to write high-level code and even low-level code with ease. It is a culmination of languages, such as Python, C, and Objective-C, making it faster and easier, and it's available on a number of platforms.</p><p>Can you imagine what is going to happen in the next few years? Design patterns and skills are developing at a fast rate, and applications will be rewritten and deployed using the new language.</p><p>We will show you how to install Xcode to work with Swift and any SQLite libraries. There will be a few examples of how to get the new language to work with SQLite and Xcode. The examples and information given in this chapter will allow you, as a beginner, to get to grips with learning this new language and gaining new skills.</p><div class="section" title="Basic requirements"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec53"/>Basic requirements</h1></div></div></div><p>All <a class="indexterm" id="id261"/>f#Apple development is completed on a Mac. You will require the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A MAC computer with the Maverick or Yosemite operating system</li><li class="listitem" style="list-style-type: disc">The Xcode application development environment</li><li class="listitem" style="list-style-type: disc">A good understanding of object-oriented programming</li><li class="listitem" style="list-style-type: disc">A basic <a class="indexterm" id="id262"/>understanding of the Swift language, from the Swift reference guide</li></ul></div><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note03"/>Note</h3><p>For reference information, you can <a class="indexterm" id="id263"/>check out the <span class="emphasis"><em>Apple Developer Guide</em></span> at <a class="ulink" href="https://developer.apple.com/library/ios/navigation/#section=Resource%20Types&amp;topic=Guides">https://developer.apple.com/library/ios/navigation/#section=Resource%20Types&amp;topic=Guides</a>.</p><p>A positive attitude to learning and developing your skills is very important.</p></div></div></div></div>
<div class="section" title="Starting an Xcode Project with Swift"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec54"/>Starting an Xcode Project with Swift</h1></div></div></div><p>Xcode has been impacted with <a class="indexterm" id="id264"/>release fixes and enhances to the Swift<a class="indexterm" id="id265"/> language. So, sometimes, code that used to work easily now requires some coding changes before the compiler is happy with it. This is something that will always happen with a changing code base for a new language.</p><p>Start by opening Xcode. The best version of <a class="indexterm" id="id266"/>Xcode is the latest one, available from the Apple App Store at <a class="ulink" href="https://developer.apple.com/xcode/download/">https://developer.apple.com/xcode/download/</a>. Install Xcode, and when everything is set up, launch Xcode and follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Create a new project (<span class="emphasis"><em>Cmd</em></span>+<span class="emphasis"><em>Shift</em></span>+<span class="emphasis"><em>N</em></span>).</li><li class="listitem">In the template selector, make sure <span class="strong"><strong>iOS</strong></span> | <span class="strong"><strong>Application</strong></span> is selected. Choose the <span class="strong"><strong>Single View Application</strong></span> template to start the process:<div class="mediaobject"><img alt="Starting an Xcode Project with Swift" src="graphics/4725_06_01.jpg"/></div></li><li class="listitem">You are then <a class="indexterm" id="id267"/>prompted to add the project name, so<a class="indexterm" id="id268"/> add a name like <code class="literal">Test Swift Project</code>.</li><li class="listitem">Next, add in the company name as <code class="literal">Voxstar Ltd</code> or your company's name.</li><li class="listitem">Next, add in the organizer identifier, in our case <code class="literal">com.voxstar.testswiftproject</code>, which will identify a name for your apps and that is how it will be recognized by Apple.</li><li class="listitem">Next, for the computer language, select Swift instead of Objective-C, which is what we are using in this chapter.</li><li class="listitem">For the devices, select <span class="strong"><strong>iPhone</strong></span>, also ensure that the <span class="strong"><strong>Use Core Data</strong></span> option is not selected. See the following screenshot as an example:<div class="mediaobject"><img alt="Starting an Xcode Project with Swift" src="graphics/4725_06_02.jpg"/></div></li><li class="listitem">Click on the <a class="indexterm" id="id269"/><span class="strong"><strong>Next</strong></span> button to continue this <a class="indexterm" id="id270"/>process. Thereafter, you have to store the location of your project files; we suggest you use the location where the main <code class="literal">.swift</code> directory is stored, as shown in the following screenshot. For this example, use the <code class="literal">Documents</code> directory, select and click on <span class="strong"><strong>Next</strong></span>, and a new directory called <code class="literal">Test Swift App</code> will be created. The following screenshots show the directory and project information within:<div class="mediaobject"><img alt="Starting an Xcode Project with Swift" src="graphics/4725_06_03.jpg"/></div><div class="mediaobject"><img alt="Starting an Xcode Project with Swift" src="graphics/4725_06_04.jpg"/></div></li><li class="listitem">Once the <span class="strong"><strong>Create</strong></span> button is clicked on, the project details page is displayed, as shown in the following screenshot. A set of standard files, templates, and components are <a class="indexterm" id="id271"/>used as<a class="indexterm" id="id272"/> part of Xcode:<div class="mediaobject"><img alt="Starting an Xcode Project with Swift" src="graphics/4725_06_05.jpg"/></div></li><li class="listitem">To show what the standard app using an iPhone would look like, click on the Play button and watch the default screen and the output from the iPhone 6 simulator:<div class="mediaobject"><img alt="Starting an Xcode Project with Swift" src="graphics/4725_06_06.jpg"/></div></li></ol></div><p>However, the first main <a class="indexterm" id="id273"/>entry place for the Swift application is the <code class="literal">AppDelegate.swift</code> file. This file is located in the application directory. Under the <a class="indexterm" id="id274"/>application directory, there will be a directory with the name of the app, and this is where the <code class="literal">AppDelegate.swift</code> file is located. In Xcode, click on it to open and you will find an array of information. This information will start with the standard comments that use your name and company details as part of the setup.</p><p>The main piece of information thereafter is the <code class="literal">import UIKit</code> statement. If you have developed in Objective-C before, this statement will be obvious and very familiar and reconcilable.</p><p>The UIKit will provide the essential infrastructure and backbone to manage and build these iOS Swift applications. It will contain the necessary user interface and other architecture to even handle and interact with the rest of the app. It provides support for motion-based events and handling touch events as well.</p><p>It will also support a model for iCloud support in addition to handling web and text content. It will support Apple and a push notification service. Further information can be obtained from the Developer Apple site:</p><div class="mediaobject"><img alt="Starting an Xcode Project with Swift" src="graphics/4725_06_07.jpg"/></div><p>Unlike Objective-C or <a class="indexterm" id="id275"/>other standard programming <a class="indexterm" id="id276"/>languages, Swift does not have a <code class="literal">main</code> function or file. Instead, you just mention the <code class="literal">@UIApplicationMain</code> statement in the main Swift file and all the relevant components are included. This line of code may never need to change, unless there is a major update or change.</p></div>
<div class="section" title="Using the SQLite 3 Library"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec55"/>Using the SQLite 3 Library</h1></div></div></div><p>Before starting to code, you must <a class="indexterm" id="id277"/>add a specific library for SQLite. Within Xcode, ensure that the <span class="strong"><strong>General</strong></span> tab is selected and visible. At the end of the page, look out for the <span class="strong"><strong>Linked Frameworks and Libraries</strong></span> section. View and click on the icon with the plus sign, as shown in the following screenshot:</p><div class="mediaobject"><img alt="Using the SQLite 3 Library" src="graphics/4725_06_08.jpg"/></div><p>A modal window will appear; please<a class="indexterm" id="id278"/> enter the word <code class="literal">sqlite</code>, and from the list of information, select the <span class="strong"><strong>libsqlite3.dylib</strong></span> option, as shown in the following screenshot:</p><div class="mediaobject"><img alt="Using the SQLite 3 Library" src="graphics/4725_06_09.jpg"/></div><p>After selecting it, click on the <span class="strong"><strong>Add</strong></span> button to move forward.</p><p>As part of this chapter, we will use <a class="indexterm" id="id279"/>
<span class="strong"><strong>FMDB</strong></span> and an Objective-C wrapper around SQLite to show the database SQLite with Swift. <span class="strong"><strong>FMDB</strong></span> stands for <span class="strong"><strong>Flying Meat Database</strong></span>, and it easily interacts with SQLite and<a class="indexterm" id="id280"/> actually saves time and effort. For example, the FMDB will be linked to one SQLite database and will be there for the execution of SQL queries. The output is <code class="literal">FMResultsSet</code>, which shows results for queries executed on the FMDB.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>The class of <code class="literal">FMDatabaseQueue</code> is there to handle updates, queries, and multiple threading.</p></div></div><p>The FMDB approach with an application that performs the SQL commands of <code class="literal">Insert</code>, <code class="literal">Select</code>, <code class="literal">Delete</code>, and <code class="literal">Update</code> will be used on a table called <code class="literal">Mortgage</code>. The <code class="literal">Mortgage</code> table will have a <span class="strong"><strong>Name</strong></span> field and a <span class="strong"><strong>Mortgage Roll Number</strong></span> field for the account details, as a very simple example.</p><p>The following is a screenshot of the actual user design using the View controller scene tool within Xcode to create the basic screen layout. This will outline and show the resulting action to be followed and executed when a button is clicked:</p><div class="mediaobject"><img alt="Using the SQLite 3 Library" src="graphics/4725_06_010.jpg"/></div><p>There are many tools to manage the SQLite database, and one of these is the <span class="strong"><strong>SQLite Manager Add-on</strong></span><a class="indexterm" id="id281"/> in the Firefox browser, to administer the database. The<a class="indexterm" id="id282"/> add-on can be obtained from <a class="ulink" href="https://addons.mozilla.org/en-US/firefox/addon/sqlite-manager/">https://addons.mozilla.org/en-US/firefox/addon/sqlite-manager/</a>.</p><p>The add-on product has <a class="indexterm" id="id283"/>some of the following features for administrators:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Manage the SQLite database on your machine</li><li class="listitem" style="list-style-type: disc">Get a tree view of database objects</li><li class="listitem" style="list-style-type: disc">There are easy and helpful dialogs that are easy to manage as well, for example, triggers, views, and tables</li><li class="listitem" style="list-style-type: disc">A platform to execute SQL queries</li><li class="listitem" style="list-style-type: disc">Export tables or views in UTF-8/UTF-16</li><li class="listitem" style="list-style-type: disc">It is also possible to execute multiple SQL statements in the <span class="strong"><strong>Execute</strong></span> tab</li></ul></div><p>Open Firefox and install the extensions from the aforementioned link. The following screenshot shows how the extension is installed:</p><div class="mediaobject"><img alt="Using the SQLite 3 Library" src="graphics/4725_06_011.jpg"/></div><p>When you click on the <span class="strong"><strong>Install Now</strong></span> button, the add-on is installed. Then go to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Menu Option</strong></span> and you will find <span class="strong"><strong>SQLite Manager</strong></span>. Once you click on that option, the following <a class="indexterm" id="id284"/>screen will appear:</p><div class="mediaobject"><img alt="Using the SQLite 3 Library" src="graphics/4725_06_012.jpg"/></div><p>In order to add data to the system, the database must be created.</p><p>When you click on the <span class="strong"><strong>Install Now</strong></span> button, the add-on is installed. Once you go to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Menu Option</strong></span>, you will see the <span class="strong"><strong>SQLite Manager</strong></span> option. When you click on that option, the following screen is seen.</p><p>Create the new database and ensure that a table is created for this small test application with SQLite. In this scenario, we have a database called <code class="literal">Mortgagedata.sqlite</code>, and a table called <code class="literal">Mortgage_data</code> with two fields: <code class="literal">mortgage_rollno</code> and <code class="literal">mortgage_name</code>.</p><p>The following screenshot shows the screens to call up <span class="strong"><strong>SQL Manager</strong></span> in Firefox:</p><div class="mediaobject"><img alt="Using the SQLite 3 Library" src="graphics/4725_06_013.jpg"/></div><p>When you click on the <span class="strong"><strong>SQL Manager</strong></span> option to create a database, a pop up will be displayed where the user enters the database name, as shown in the following screenshot:</p><div class="mediaobject"><img alt="Using the SQLite 3 Library" src="graphics/4725_06_014.jpg"/></div><p>Next, after the database is created, the<a class="indexterm" id="id285"/> user has to select a disk directory to store the database in, as shown in the next screenshot:</p><div class="mediaobject"><img alt="Using the SQLite 3 Library" src="graphics/4725_06_015.jpg"/></div><p>Next, you need to create a table, as shown in <a class="indexterm" id="id286"/>the preceding screenshot, with two rows:</p><div class="mediaobject"><img alt="Using the SQLite 3 Library" src="graphics/4725_06_016.jpg"/></div><p>The preceding screenshot now <a class="indexterm" id="id287"/>shows what the table structure looks like before further work is carried out.</p><p>Next, a class, that is a subclass of <code class="literal">NSObject</code>, has to be created. Call this class <code class="literal">Mortgage_data</code> and set up its properties as per the requirements of this test scenario. These properties will form part of the database schema and foundations for your small database and table:</p><div class="informalexample"><pre class="programlisting">Class Mortgage_data: NSObject {
    Varmortgage_rollno: String = String()
    Varmortgage_name: String = String()
}</pre></div><div class="section" title="Using FMDB"><div class="titlepage"><div><div><h2 class="title"><a id="ch06lvl2sec29"/>Using FMDB</h2></div></div></div><p>FMDB is a SQLite library written on top of SQLite to handle database operations easier.</p><p>Since FMDB is built in Objective-C, a bridging header is required to link it up with the simple app. A <code class="literal">.h</code> file has to be included, which is <code class="literal">FMDatabase.h</code>.</p><p>This is required to ensure that the linking works for the Objective-C and Swift technology produce the results we want. Next, we need to create a database in SQLite Manager and copy it to the right place.</p><p>In the following code, we show the function to copy a database. In this instance, we need to create and use a function called <code class="literal">copyFile</code>, which will copy the files to the application's document directory. Methods such as <code class="literal">applicationDidFinishLaunch</code> work with <code class="literal">AppDelegate</code> by passing the<a class="indexterm" id="id288"/> database name in, as part of the requirements argument.</p><p>See the following class:</p><div class="informalexample"><pre class="programlisting">class func copyFile(fileName:NSString){
    var database_path:NSString=getPath(fileName)
    var MortgageManager=NSFileManager.defaultManager()
    if !MortageManager.fileExistsAtPath(database_path){
    var fromthePath:NSString= NSBundle.mainBundle().resourcePath.stringByAppendingPathComponent(fileName)
    MortgageManager.copyItemAtPath(fromPath,toPath:database_path, error: nil)
}
}</pre></div><p>When using the FMDB way of interacting with SQLite, a class called <code class="literal">ModelManager</code> is created as part of <code class="literal">NSObject{}</code>, so that a variety of functions can reside, or be inserted, within it. This is mandatory and is shown in the next code snippet.</p><p>In the following code, you will see that after the database object has been copied, it needs to be initialized, a Swift file has to be named and added to the <code class="literal">ModelManager</code>, and a shared instance of the type of <code class="literal">ModelManager</code> has to be defined out of the <code class="literal">class</code> block, as shown in the following:</p><div class="informalexample"><pre class="programlisting">let mortgage_instance=<span class="strong"><strong>ModelManager</strong></span>()</pre></div><p>Then, set up the database object for the FMDB, namely, the <code class="literal">FMDatabase</code> object, and together with the database object, set up and reset it as shown in the following:</p><div class="informalexample"><pre class="programlisting">var database:FMDatabase?= nil
class var instance:ModelManager{
mortgage_instance.database=FMDatabase(path:Util.getPath("Mortgagedata.sqlite"))
var Mydatapath=Util.getPath("Mortgagedata.sqlite")
println("The Current Path is&gt; : \(Mydatapath)")
return mortgage_instance
}</pre></div><p>The next part of the process is to interrogate the database with the following command, the <code class="literal">insert</code> command, as an example wrapped in the assigned value <code class="literal">Mortage_Inserted</code>. The other class, like <code class="literal">ModelManager</code>, will have the <code class="literal">Mobile_data</code> method added to it. The <code class="literal">ModelManager</code> method is then trying to open the <code class="literal">Mortgage</code> database by using the method for opening, namely, the <code class="literal">FMDatabase</code> class. Then the <code class="literal">executeUpdate</code> method is allocated and used as part of the <code class="literal">FMDatabase</code> class to push and pass down the SQL query and the input parameters. To finish this off, part of the operation, the <code class="literal">close</code> method, is used. See the following code on how<a class="indexterm" id="id289"/> the database is connected:</p><div class="informalexample"><pre class="programlisting">func addMortageData(Mortage_Data:Mortgage_data)-&gt; Bool {
        mortgage_instance.database!.open()
        let Mortage_Inserted= Mortgage_instance.database!.executeUpdate("INSERT INTO Mortgage_Data (mortgage_rollno, mortgage_name) VALUES (?, ?)",withArgumentsInArray:[Mortgage_data.mortgage_rollno,Mortgage_data.mortgage_name])
        mortgage_instance.database!.close()
        return isInserted
    }</pre></div><p>The <code class="literal">Insert Button</code> has an action method; call this method to send through the <code class="literal">Mortage_data</code> class, which holds the <code class="literal">mortgage_rollno</code> and <code class="literal">mortgage_name</code> field names, as shown in the following:</p><div class="informalexample"><pre class="programlisting">@IBAction func btnInsertClicked(sender: AnyObject) {
var mortgage_data: Mortgage_data = Mortgage_data()
Mortgage_data.mortgage_rollno = tmp_ Mortgage_data.mortgage_rollno.text
Mortgage_data.studentName = Mortgage_data.mortgage_name.text
var Mortgage_insert = ModelManager.instance.MortgageData(Mortgage)
if Mortgage_insert {
Util.invokeAlertMethod("", MortgageBody: " Data Inserted ", delegate: nil)
        } else {
Util.invokeAlertMethod("", MortgageBody: "Error in inserting data", delegate: nil)
        }

    Mortgage_data.tmp_rollno.text = ""
    Mortgage_data.tmp_name.text = ""
    Mortgage_data.tmp_rollno =.becomeFirstResponder()
}</pre></div><p>FMDB is well documented and popular on the Internet. Next, the actual SQL query is passed through the <code class="literal">executeUpdate</code> method, which is part of the <code class="literal">FMDatabase</code> class and is linked up as parameters, as part of an argument:</p><div class="informalexample"><pre class="programlisting">func Mortgage_Updatedata(Mortage_data: Mortgage_Data) -&gt; Bool {
    ModelManager.instance.database!.open()
    let Mortgage_Info_Updated {
 = sharedInstance.database!.executeUpdate("UPDATE Mortgage_data SET Mortgage_name=? WHERE Mortgage_rollno=?",withArgumentsInArray: [Mortgage_data.Name, Mortgage_data.rollno])
Mortgageinstance.database!.close()
return Mortgage_Info_Updated
}</pre></div><p>The following code shows how the <code class="literal">@IBAction</code> function is <a class="indexterm" id="id290"/>called using the <code class="literal">btnUpdateClicked</code> function with the relevant fields and text information, to perform the update based on the click of the button called <code class="literal">btnUpdateClicked</code>:</p><div class="informalexample"><pre class="programlisting">@IBActionfuncMortgage_UpdateClicked(sender:AnyObject){
    var Mortgage_data:Mortgage_data=Mortgage_data()
    Mortgage_data.mortgage_rollno =tmp_mortgage_rollno.text
    Mortgage_data.mortgage_name=tmp_mortgage_name.text

    var Mortgage_Data:Mortgage_data=Mortgage_data()
    var tmp_roll_no: String ="mortgage_rollno"
    var tmp_name: String ="mortgage_name"


var Mortgage_Info_Updated = ModelManager.instance.updateStudentData(Mortgage_data)
if Mortgage_Info_Updated {
Util.invokeAlertMethod("", strBody: "Mortgage Record has been updated ", delegate: nil)
} else {
Util.invokeAlertMethod("", strBody: "Error in updating the Mortgage record", delegate: nil)
}

    Mortgage_data.tmp_rollno.text=""
    Mortgage_data.tmp_name.text=""
    Mortgage_data.tmp_rollno=.becomeFirstResponder()
}</pre></div><p>To perform the <code class="literal">delete</code> operation, use the <code class="literal">DeleteMortgateData</code> method. First, the <code class="literal">ModelManager</code> class is used to open the database, using the <code class="literal">FMDatabase</code> class as utilized previously. Thereafter, again use the <code class="literal">executeUpdate</code> method, and using an argument, pass the SQL <code class="literal">delete</code> query and close the database by invoking the <code class="literal">close</code> method, as defined in the <code class="literal">FMDatabase</code> class. Details of this operation are as follows:</p><div class="informalexample"><pre class="programlisting">func deleteStudentData(Mortgage_data:Mortgage_Data)-&gt; Bool {
    Mortgageinstance.database!.open()
let Mortgage_isDeleted_var= Mortgageinstance.database!.executeUpdate("DELETE FROM Mortgage_data WHERE Mortgage_data_rollno=?",withArgumentsInArray:[Mortgagedata.name])
sharedInstance.database!.close()
return Mortgage_isDeleted
}</pre></div><p>As previously used, the <a class="indexterm" id="id291"/>same <code class="literal">ModelManager</code> method is used for SQL operations:</p><div class="informalexample"><pre class="programlisting">@IBAction func btnDeleteClicked(sender:AnyObject){
var Mortgage_data:Mortgage_data=Mortgage_data()
    Mortgage_data.mortgage_rollno =tmp_mortgage_rollno.text
Mortgage_data.mortgage_name=tmp_mortgage_name.text

var isDeleted_var=ModelManager.instance.deleteStudentData(studentInfo)
if isDeleted_var{
Util.invokeAlertMethod("",strBody:"Record Deleted", delegate: nil)
}else{
Util.invokeAlertMethod("",strBody:"Error- On Deleting Record", delegate: nil)
}
    Mortgage_data.tmp_rollno.text=""
    Mortgage_data.tmp_name.text=""
    Mortgage_data.tmp_rollno=.becomeFirstResponder()
}</pre></div><p>The next operation is the <code class="literal">SelectMortgageData</code> operation, which will be added to the <code class="literal">ModelManager </code>method. This will open the database by using the <code class="literal">open</code> method within the <code class="literal">FMDatabase</code> class. This is then followed by the <code class="literal">executeQuery</code> method, using the <code class="literal">FMDatabase</code> class, which accepts the input SQL query:</p><div class="informalexample"><pre class="programlisting">func SelectMortgageData (){
    Mortgageinstance.database!.open()
var mortgage_resultSet:FMResultSet!= Mortgageinstance.database!.executeQuery("SELECT * FROM Mortgage_data",withArgumentsInArray: nil)
        var tmp_roll_no: String ="mortgage_rollno"
        var tmp_name: String ="mortgage_name"
if resultSet{
while mortgage_resultSet.next(){
    println("roll no data is : \(mortgage_resultSet.stringForColumn(tmp_roll_no))")
    println("name data is : \(mortgage_resultSet.stringForColumn(tmp_name))"
}
}Mortgageinstance.database!.close()
}</pre></div><p>The following method is called from the previous action:</p><div class="informalexample"><pre class="programlisting">@IBAction func btnDisplayRecordClicked(sender:AnyObject){
    ModelManager.instance.MortgageData()
    }</pre></div><p>The SQLite scheme using<a class="indexterm" id="id292"/> Firefox can be viewed as shown in the following screenshot. Go to Firefox, and under the <span class="strong"><strong>Tools</strong></span> menu, invoke <span class="strong"><strong>SQLite Manager</strong></span>. Click on the <span class="strong"><strong>Mortgage Manager</strong></span> table and you can see the structure of the table, as shown in the following screenshot:</p><div class="mediaobject"><img alt="Using FMDB" src="graphics/4725_06_17.jpg"/></div><p>An alternate method for using<a class="indexterm" id="id293"/> FMDB this way is to use it directly in the Swift programming language, as shown in the following code. When setting up Xcode with Swift, you will be prompted for the bridging component for linking them up, but it can be done as described here.</p><p>The code is added in the place where the <code class="literal">IBAction</code> is set up. The method will require the use of the <code class="literal">SaveMortgageData</code> action method, which will open the database, take text/information from the data fields, build an SQL database, and execute the statement. Once the operation is complete, the database will be closed. Then the text fields will be initialized, ready for the next input. Therefore, the <code class="literal">IBAction</code> method using the default template will have to be modified as follows:</p><div class="informalexample"><pre class="programlisting">@IBAction func SaveMortgageData(sender: AnyObject) {
let Mortgage_data_save = FMDatabase(path: Database_path as String)

if Mortgage_data_save.open() {

let insertdata = "INSERT INTO Mortgage_data (mortgage_rollno, mortgage_name) VALUES ('\(tmp_mortgage_rollno.text)', '\(tmp_mortgage_name.text)')"

let mortgage_result = Mortgage_data_save.executeUpdate(insertdata, 
            withArgumentsInArray: nil)

        if !mortgage_result {
Msg_info.text = "Error inserting Mortgage Details"
println("Error: \(Mortgage_data_save.Mortgage_ErrorMessage())")
        } else {
Msg_info.text = "Mortgage Details inserted to system"
tmp_mortgage_rollno.text = ""
tmp_mortgage_name.text = ""}
    } else {
println("Error: \(Mortgage_data_save.Mortgage_ErrorMessage())")
    }
}</pre></div><p>After using this creation <a class="indexterm" id="id294"/>process and method for an application that is created with Swift and SQLite, you can see how the basic components and the <code class="literal">SQLite 3</code> library have been successfully added to the new project.</p></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch06lvl1sec56"/>Summary</h1></div></div></div><p>In this chapter, you had a quick look at how Xcode works with Swift. This chapter showed you some examples and ideas, and exposed the app development environment Xcode to you. We used the FMDB classes and methods to access the database and perform a variety of commands. There are some basic, but intuitive examples of how Swift works with iOS. Apple wrote this language to become the next leap in development for all developers in the next 20 years. It has also become open source as well.</p><p>In the next chapter, you will find out how Xcode can be used with PhoneGap and HTML5, and the use of SQL statements, embedded in HTML5, compiled with PhoneGap, and run as an app.</p></div></body></html>