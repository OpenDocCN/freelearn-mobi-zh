<html><head></head><body><div class="chapter" title="Chapter&#xA0;14.&#xA0;Deploying"><div class="titlepage"><div><div><h1 class="title"><a id="ch14"/>Chapter 14. Deploying</h1></div></div></div><p>In this chapter, we will cover:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Creating profiles</li><li class="listitem" style="list-style-type: disc">Creating an ad-hoc distribution bundle</li><li class="listitem" style="list-style-type: disc">Preparing an app for the App Store</li><li class="listitem" style="list-style-type: disc">Submitting to the App Store</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch14lvl1sec01"/>Introduction</h1></div></div></div><p>The process of deploying apps to devices or the App Store is considered quite complicated. This, of course, is for the benefit of developers also, since various certificates and profiles are required to get the application bundle from the development Mac to a device.</p><p>In this chapter, we will walk through all the required steps for preparing and installing the appropriate certificates on the development computer. We will also learn how to create the provisioning profiles that will allow us to deploy the application to a device, whether it is our own, or to send it to beta testers for installation on theirs.</p><p>Finally, we will see how to prepare the application for App Store submission and the process for the final release to the App Store.</p></div></div>
<div class="section" title="Creating profiles"><div class="titlepage"><div><div><h1 class="title"><a id="ch14lvl1sec02"/>Creating profiles</h1></div></div></div><p>In this recipe, we will go through a step-by-step guide to creating and installing the appropriate certificates and provisioning profiles that are required for deploying an application to the device.<a id="id997" class="indexterm"/>
</p><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec01"/>How to do it...</h2></div></div></div><p>The following steps will guide you through creating your developer certificate and appropriate provisioning profiles for an application.</p><p>We will start with the developer certificate.<a id="id998" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"> Log in to the iOS Developer website:<a class="ulink" href="http://developer.apple.com/ios"> http://developer.apple.com/ios</a>.<a id="id999" class="indexterm"/></li><li class="listitem"> Go to the iOS Provisioning Portal.</li><li class="listitem"> Go to<span class="strong"><strong> Certificates</strong></span> from the menu on the left.</li><li class="listitem"> If this is the first time you are working with developer certificates on your Mac, download and install the<span class="strong"><strong> WWDR intermediate certificate</strong></span>. You will find the link under the<span class="strong"><strong> Development</strong></span> tab.<a id="id1000" class="indexterm"/></li><li class="listitem"> Under the<span class="strong"><strong> How To</strong></span> tab, you will find the instructions for creating a Certificate Sign in Request, which is a requirement for issuing your developer certificate and how to download and install it.</li><li class="listitem"> If the developer certificate has been installed correctly, you will be able to select it in your project's options in MonoDevelop, under the<span class="strong"><strong> iPhone Bundle Signing</strong></span> node in the<span class="strong"><strong> Identity</strong></span> drop-down list:</li></ol></div><div class="mediaobject"><img src="graphics/1468_14_01.jpg" alt="How to do it..."/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">You can view your developer certificate under the <span class="strong"><strong>Development</strong></span> tab in the <span class="strong"><strong>Certificates</strong></span> option on the <span class="strong"><strong>iOS Provisioning Portal.
</strong></span></li></ul></div><p>Now that we have issued and installed our developer certificate, we need to register the devices that we will be using for debugging.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"> Click on the<span class="strong"><strong> Devices</strong></span> option on the menu on the left.</li><li class="listitem"> Under the<span class="strong"><strong> Manage</strong></span> tab, click on the<span class="strong"><strong> Add Devices</strong></span> button.</li><li class="listitem"> In the<span class="strong"><strong> Device Name</strong></span> field, enter a name that will allow you to identify the particular device (for example,<code class="literal"> My iPhone)</code>.</li><li class="listitem"> In the<span class="strong"><strong> Device ID</strong></span> field, enter the device's<span class="strong"><strong> Unique Device Identifier</strong></span> (UDID). You can find the device's UDID by connecting the device to your Mac and opening<span class="strong"><strong> iTunes</strong></span>. Under the device's<span class="strong"><strong> Summary</strong></span> tab, clicking on the serial number will switch to the UDID. Press<span class="emphasis"><em> Command</em></span> +<span class="emphasis"><em> C</em></span> to copy the UDID to the clipboard.<a id="id1001" class="indexterm"/></li><li class="listitem"> Click on the plus (+) button and then<span class="strong"><strong> Submit</strong></span>. Repeat all the steps for all the devices you want to add.</li></ol></div><p>Next, we need an<span class="strong"><strong> App ID.</strong></span>
<a id="id1002" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"> Click on the<span class="strong"><strong> App IDs</strong></span> option on the menu on the left.</li><li class="listitem"> Under the<span class="strong"><strong> Manage</strong></span> tab, enter a description/name for your application. Do not use special characters and spaces.</li><li class="listitem"> Leave the<span class="strong"><strong> Bundle Seed ID (App ID Prefix)</strong></span> option to<span class="strong"><strong> Generate New</strong></span>.</li><li class="listitem"> Enter a<span class="strong"><strong> Bundle Identifier</strong></span>. The best practice for bundle identifier is to follow the example and recommendation given just above the field. The<span class="strong"><strong> Bundle Identifier</strong></span> is important, as you will need it in at least one more step in the deployment process.</li><li class="listitem"> Click on the<span class="strong"><strong> Submit</strong></span> button to create the App ID.</li></ol></div><p>Almost there. Time for the provisioning profile.<a id="id1003" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"> Click on the<span class="strong"><strong> Provisioning</strong></span> option on the menu on the left.</li><li class="listitem"> Under the<span class="strong"><strong> Development</strong></span> tab, click the<span class="strong"><strong> New Profile</strong></span> button.</li><li class="listitem"> Enter a profile name. You can enter any character you want in this field.</li><li class="listitem"> In the<span class="strong"><strong> Certificate</strong></span> option, select the developer certificate for the profile. If you have successfully created your developer certificate, your name (or the name of whom the iOS Developer account belongs to) will be displayed with a checkbox next to it. Tick the checkbox.</li><li class="listitem"> In the<span class="strong"><strong> App ID</strong></span> option, select the<span class="strong"><strong> App ID</strong></span> for the provisioning profile you are creating.</li><li class="listitem"> In the<span class="strong"><strong> Devices</strong></span> option, check on the device(s) that will be included in the provisioning profile. Your application can only be installed on the devices you select here.</li><li class="listitem"> Click on the<span class="strong"><strong> Submit</strong></span> button to complete the creation of the profile.</li><li class="listitem"> If the provisioning profile status is<span class="strong"><strong> Pending</strong></span> in the list, just refresh the page.</li><li class="listitem"> Click the Download button on the row of your profile to download it. A file with a .mobileprovision extension will be downloaded.</li><li class="listitem"> Connect your device to your Mac. Close<span class="strong"><strong> iTunes</strong></span> if it is open.</li><li class="listitem"> Double-click on the<code class="literal"> .mobileprovision</code> file you downloaded in<span class="emphasis"><em> step 9</em></span>. Xcode will open and install the provisioning profile on your device. You can check this by viewing the profile status in Xcode's<span class="strong"><strong> Organizer</strong></span> window. To display the<span class="strong"><strong> Organizer</strong></span> window, press<span class="emphasis"><em> Shift + Command + 2</em></span> , or select<span class="strong"><strong> Window | Organizer</strong></span> from the menu. You can view the provisioning profiles for each device by selecting the<span class="strong"><strong> Provisioning</strong></span> option on the left:<a id="id1004" class="indexterm"/></li></ol></div><div class="mediaobject"><img src="graphics/1468_14_02.jpg" alt="How to do it..."/></div><p>Provisioning profiles marked with the red<span class="strong"><strong> X</strong></span> indicate that they are expired.</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec02"/>How it works...</h2></div></div></div><p>The process described in this recipe will allow you to deploy and debug your application on a device connected to your Mac. It will not allow you to distribute your application to beta testers or to the App Store.</p><p>The Developer certificate is the certificate that allows the compilation of applications that will be deployed to devices. It is only meant for development, and one developer certificate corresponds to one iOS Developer Program enrollment. After creating and installing it on the development machine, you cannot issue a new one. An existing development certificate, however, can be transferred to other Macs.<a id="id1005" class="indexterm"/>
</p><p>Each provisioning profile holds information on what devices it can be installed on. An Apple Developer enrolled to the iOS Developer Program can add up to 100 devices and include them in a provisioning profile.<a id="id1006" class="indexterm"/>
</p><p>The App ID is the identifier of your application. Create one App ID for each of your applications.<a id="id1007" class="indexterm"/>
</p><p>The provisioning profile is the electronic signature that allows your application to be deployed on the device. Each provisioning profile corresponds to one application and holds all the appropriate permissions that will allow the application to execute on the device(s) included in it and the App ID information. It is also what distinguishes an application for development or distribution. Provisioning profiles are issued with an expiration time. At the time of writing, it is about one year.<a id="id1008" class="indexterm"/>
</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec03"/>There's more...</h2></div></div></div><p>To compile and debug an application on the device, select the developer certificate and provisioning profile in MonoDevelop, under the<span class="strong"><strong> iPhone Bundle Signing</strong></span> node in<span class="strong"><strong> Project Options:</strong></span>
<a id="id1009" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1468_14_03.jpg" alt="There's more..."/></div><p>This has to be done for each build configuration <span class="strong"><strong>(Debug, Release</strong></span>, and so on).</p><p>Under the<span class="strong"><strong> iPhone Application</strong></span> node, set the<span class="strong"><strong> Display name, Bundle Identifier</strong></span>, and<span class="strong"><strong> Bundle version</strong></span> fields for your application. If you leave them blank, MonoDevelop will set their values to default. Specifically, the<span class="strong"><strong> Bundle Identifier</strong></span> will be set to the one that is included in the App ID. However, if you set the<span class="strong"><strong> Bundle Identifier</strong></span> to something other than what is declared in the App ID, an error on compilation will occur.</p><div class="mediaobject"><img src="graphics/1468_14_04.jpg" alt="There's more..."/></div><div class="section" title="Provisioning profiles expiration"><div class="titlepage"><div><div><h3 class="title"><a id="ch14lvl3sec01"/>Provisioning profiles expiration</h3></div></div></div><p>When a provisioning profile expires, the application will no longer work on the device. You can either renew the existing profile or create a new one and install it on the device again.<a id="id1010" class="indexterm"/>
</p></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec04"/>See also</h2></div></div></div><p>In this chapter:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Creating an ad-hoc distribution bundle</li></ul></div><p>In this book:</p><p>
<a class="link" href="ch01.html" title="Chapter 1. Development Tools">Chapter 1</a>,</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Compiling</em></span></li></ul></div></div></div>
<div class="section" title="Creating an ad-hoc distribution bundle"><div class="titlepage"><div><div><h1 class="title"><a id="ch14lvl1sec03"/>Creating an ad-hoc distribution bundle</h1></div></div></div><p>In this recipe, we will learn how to create a bundle of our application, which we will be able to send to beta testers for them to test on their devices.<a id="id1011" class="indexterm"/>
</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec05"/>Getting ready</h2></div></div></div><p>To create an ad-hoc distribution bundle, make sure you have created an App ID on the iOS Provisioning Portal for your application.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec06"/>How to do it...</h2></div></div></div><p>The process of creating ad-hoc provisioning profiles is similar to the process of creating development distribution profiles. The following steps will guide you through the process.<a id="id1012" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><span class="strong"><strong> Distribution certificate:</strong></span> For distributing applications to various devices that are not connected to your Mac, but also for submitting to the application store, you need a distribution certificate to be installed. Follow the same steps described in the previous task for creating a developer certificate. This time, though, you will have to work under the<span class="strong"><strong> Distribution</strong></span> tab in the<span class="strong"><strong> Certificates</strong></span> menu option in the<span class="strong"><strong> iOS Provisioning Portal</strong></span>.<a id="id1013" class="indexterm"/></li><li class="listitem"><span class="strong"><strong> Ad-hoc distribution provisioning profile:</strong></span><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">In the<span class="strong"><strong> iOS Provisioning Portal</strong></span>, go to<span class="strong"><strong> Provisioning | Distribution</strong></span>.<a id="id1014" class="indexterm"/></li><li class="listitem" style="list-style-type: disc">In the<span class="strong"><strong> Distribution Method</strong></span> field, select<span class="strong"><strong> Ad Hoc</strong></span>.</li><li class="listitem" style="list-style-type: disc">Enter a<span class="strong"><strong> Profile Name</strong></span> for the profile. It would be good to add the word<code class="literal"> AdHoc</code> to the name for future reference, for example,<code class="literal"> MyAppAdHoc</code>.</li><li class="listitem" style="list-style-type: disc">The<span class="strong"><strong> Distribution Certificate</strong></span> is automatically selected.</li><li class="listitem" style="list-style-type: disc">Select the<span class="strong"><strong> App ID</strong></span>.</li><li class="listitem" style="list-style-type: disc">Select the devices for the profile.</li><li class="listitem" style="list-style-type: disc">Click on<span class="strong"><strong> Submit</strong></span> to create the profile.</li><li class="listitem" style="list-style-type: disc">Download the profile from the displayed list. Once more, you will get a .mobileprovision file. Double-click on it to allow Xcode to install it. A device does not need to be connected at this point. Do not delete the file; we will need it later.</li></ul></div></li><li class="listitem"><span class="strong"><strong> Create an ad-hoc build:</strong></span><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">With your project loaded in MonoDevelop, go to<span class="strong"><strong> Project | Solution Options</strong></span>.<a id="id1015" class="indexterm"/></li><li class="listitem" style="list-style-type: disc">Under<span class="strong"><strong> Build | Configurations</strong></span>, create a new configuration by clicking on<span class="strong"><strong> Add</strong></span>.</li><li class="listitem" style="list-style-type: disc">Enter a name for the configuration. The name used here is<code class="literal"> MyAppDistribution</code>.<a id="id1016" class="indexterm"/></li><li class="listitem" style="list-style-type: disc">Select<span class="strong"><strong> iPhone</strong></span> in the<span class="strong"><strong> Platform</strong></span> option. The following screenshot shows how the<span class="strong"><strong> New Configuration</strong></span> dialog should look:<div class="mediaobject"><img src="graphics/1468_14_05.jpg" alt="How to do it..."/></div></li><li class="listitem" style="list-style-type: disc">Make sure the Create configurations for all solution items option is checked.<a id="id1017" class="indexterm"/></li><li class="listitem" style="list-style-type: disc">Click on the<span class="strong"><strong> OK</strong></span> button.</li><li class="listitem" style="list-style-type: disc">Add a new<span class="strong"><strong> Property List</strong></span> file to the project, and name it<code class="literal"> Entitlements</code>.<div class="mediaobject"><img src="graphics/1468_14_06.jpg" alt="How to do it..."/></div></li><li class="listitem" style="list-style-type: disc">MonoDevelop will automatically load the<code class="literal"> Entitlements.plist</code> file with the<span class="strong"><strong> Property List Editor</strong></span>. Add the key<code class="literal"> get-task-allow,</code> and set its<span class="strong"><strong> type</strong></span> to<span class="strong"><strong> Boolean</strong></span>. Set its value to<span class="strong"><strong> No</strong></span>.<a id="id1018" class="indexterm"/></li><li class="listitem" style="list-style-type: disc">Under the<span class="strong"><strong> iPhone Bundle Signing</strong></span> node of the project options, select the configuration we created earlier (MyAppDistribution). Set the<span class="strong"><strong> Custom entitlements</strong></span> field to the<code class="literal"> Entitlements.plist</code> file, which was created in the previous steps. It can easily be found by clicking on the<span class="strong"><strong> browse ()</strong></span> button next to the field.<a id="id1019" class="indexterm"/></li><li class="listitem" style="list-style-type: disc">Set the Distribution profile and the appropriate provisioning profile for ad-hoc distribution in the same window.</li><li class="listitem" style="list-style-type: disc">Set the project's current configuration to the distribution configuration created earlier (MyAppDistribution).</li><li class="listitem" style="list-style-type: disc">Build the project.<p>The application is now ready for ad-hoc distribution!
</p></li></ul></div></li><li class="listitem"><span class="strong"><strong> Distributing to beta testers:</strong></span><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Open<span class="strong"><strong> Finder</strong></span>, and navigate to the<code class="literal"> bin</code> folder of your project.<a id="id1020" class="indexterm"/></li><li class="listitem" style="list-style-type: disc">Open the<code class="literal"> iPhone/MyAppDistribution</code> folder. Compress the application bundle with OS X's default compression tool by right-clicking and selecting<span class="strong"><strong> Compress "MyApp"</strong></span> (or whatever the name of your application is). The application bundle is a folder displayed with the following icon:<div class="mediaobject"><img src="graphics/1468_14_07.jpg" alt="How to do it..."/></div></li><li class="listitem" style="list-style-type: disc">Send the zipped application bundle along with the<code class="literal"> .mobileprovision</code> file to your beta testers.</li><li class="listitem" style="list-style-type: disc">To install the application, your application's beta testers have to extract the application bundle from the zip archive.</li><li class="listitem" style="list-style-type: disc">After extracting it, dragging-and-dropping it in<span class="strong"><strong> iTunes</strong></span> in the<span class="strong"><strong> Apps</strong></span> section, along with the<code class="literal"> .mobileprovision</code> file, imports it in<span class="strong"><strong> iTunes Library</strong></span>. Note that the application will be displayed in<span class="strong"><strong> iTunes</strong></span> with a default icon. This is normal for ad-hoc distribution if you haven't set any icons for the application.</li><li class="listitem" style="list-style-type: disc">Synchronize the device in<span class="strong"><strong> iTunes</strong></span>.</li><li class="listitem" style="list-style-type: disc">If the beta testers are working with<span class="strong"><strong> iTunes</strong></span> on a Windows machine, instruct them not to use the default decompression utility, but a third-party application.</li></ul></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec07"/>How it works...</h2></div></div></div><p>For distributing applications, we need a distribution certificate. Just like the developer certificate, the distribution certificate is created once, but can be transferred to another Mac if needed.<a id="id1021" class="indexterm"/>
</p><p>The creation process of the ad-hoc distribution provisioning profile is the same as the process for creating development provisioning profiles. The only difference is that we have the option of the type of distribution, which is either<span class="emphasis"><em> App Store</em></span> or<span class="emphasis"><em> Ad Hoc</em></span>.</p><p>The configuration we created is not a requirement, but it helps us organize the build process better. It also saves us from having to set the different provisioning profiles and settings for each build.</p><p>The<code class="literal"> Entitlements.plist</code> file, along with the<code class="literal"> get-task-allow</code> key, is for preventing the application from trying to find a debugger to connect to upon startup.<a id="id1022" class="indexterm"/>
</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec08"/>There's more...</h2></div></div></div><p>MonoDevelop provides an option for directly creating and zipping the application bundle.<span class="strong"><strong> Select Project | Zip App bundle..</strong></span>. on the menu, and after selecting a location and filename for the output, it will compile and zip the application bundle.</p><div class="section" title="Syncing ad-hoc app bundles with iTunes"><div class="titlepage"><div><div><h3 class="title"><a id="ch14lvl3sec02"/>Syncing ad-hoc app bundles with iTunes</h3></div></div></div><p>Different users have different settings set up in their iTunes application. In case a user syncs the device and cannot find the application on the device, make sure the application is selected for syncing, under the<span class="strong"><strong> Apps</strong></span> tab of the selected device in<span class="strong"><strong> iTunes</strong></span>.<a id="id1023" class="indexterm"/>
</p></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec09"/>See also</h2></div></div></div><p>In this chapter:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Creating profiles</em></span></li></ul></div></div></div>
<div class="section" title="Preparing an application for the App Store"><div class="titlepage"><div><div><h1 class="title"><a id="ch14lvl1sec04"/>Preparing an application for the App Store</h1></div></div></div><p>In this recipe, we will discuss the important steps we need to take for preparing an application for the App Store.<a id="id1024" class="indexterm"/>
</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec10"/>Getting ready</h2></div></div></div><p>Follow the steps in the previous recipes to create an App Store distribution profile for your application.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec11"/>How to do it...</h2></div></div></div><p>One very important step in the preparation for the App Store regards the images that should be included in your application.</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>App Icon:</strong></span> This is the icon that will represent your application on the users' devices. For iPhone and iPod Touch, prepare an icon with dimensions of<code class="literal"> 57x57</code> pixels for the lower-resolution screens and an icon with dimensions of<code class="literal"> 114x114</code> pixels for the higher-resolution screens (for example, iPhone 4 and newer). For the iPad, the icon size should be<code class="literal"> 72x72</code> pixels.<a id="id1025" class="indexterm"/><p>Save the icon files with the PNG format. You can name them whatever you want, but it is a good practice to keep a consistent naming scheme, for example, <code class="literal">
Icon-57.png, Icon-114.png</code>, and so on.
<a id="id1026" class="indexterm"/>
</p><p>Add the image files to the project. Open the project options dialog and go to the <span class="strong"><strong>iPhone Icons</strong></span> section of the <span class="strong"><strong>iPhone Application</strong></span> node, under the <span class="strong"><strong>Summary</strong></span> tab, as shown in the following screenshot.
</p></li></ul></div><div class="mediaobject"><img src="graphics/1468_14_08.jpg" alt="How to do it..."/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">Click on the appropriate button to find the icon file and assign it. Note that the image selection dialog that will open only looks in files included in your project. So, make sure to add your images to the project first. There is no need to set their <span class="strong"><strong>Build Action</strong></span> to <span class="strong"><strong>Content</strong></span>. Click on the <span class="strong"><strong>OK</strong></span> button to save the changes to the project.<a id="id1027" class="indexterm"/></li><li class="listitem" style="list-style-type: none"><span class="strong"><strong>Launch image:</strong></span> The launch image is the first thing that is displayed when an application starts. Prepare a launch image in at least two dimensions for iPhone and iPod Touch applications:<code class="literal"> 320x480</code> pixels for the lower version and<code class="literal"> 640x960</code> pixels for the higher version. Name the files<code class="literal"> Default.png</code> and<code class="literal"> Default@2x.png</code> respectively, and add them to the project. Set their<span class="strong"><strong> Build Action</strong></span> to<span class="strong"><strong> Content</strong></span>.<a id="id1028" class="indexterm"/><p>If your application is universal and, therefore, downloadable by iPad users, or it is an iPad-only application, then you should provide launch images for each of the application's supported orientations. The sizes should be 768x1004 pixels for the portrait versions and 1024x748 for the landscape versions. For an application that supports portrait and landscape-right orientations, the filenames should be Default-Portrait.png and Default-LandscapeRight.png, respectively.
</p></li><li class="listitem" style="list-style-type: none"><span class="strong"><strong>Final Settings:</strong></span> Last but not least, fill the appropriate application information in the<span class="strong"><strong> Summary</strong></span> tab of the<span class="strong"><strong> iPhone Application</strong></span> node in the<span class="strong"><strong> project</strong></span> options, as described in the<span class="emphasis"><em> Creating Profiles</em></span> recipe in the beginning of this chapter. Build the project and compress the application bundle. Your application is ready for submission!<a id="id1029" class="indexterm"/></li></ul></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec12"/>How it works...</h2></div></div></div><p>The applications icons are very important. It is what the user will see on the device screen and tap to start your application. Although all application icons appear as buttons with rounded corners and a lighting effect, you should not include these graphical features in your icons. These graphical features are automatically rendered upon application submission to the application store. The icons should be perfect squares. Also, always provide a background for the icons. Do not use transparencies, because any transparencies on the icon will be displayed with the black color, potentially destroying your intended icon appearance.<a id="id1030" class="indexterm"/>
</p><p>The launch image is displayed first when the application starts. When a screen goes blank at startup, it means that there is no launch image. According to Apple's<span class="emphasis"><em> iOS Human Interface Guidelines</em></span> (<a class="ulink" href="http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/MobileHIG/Introduction/Introduction.html">http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/MobileHIG/Introduction/Introduction.html
</a>), this image should be the first screen that is loaded when the application completes the launch process and is ready to accept input. It should only contain the static content of the first screen and not content that is likely to change, such as localized text. For example, the following screenshot illustrates the launch image of the g-force measurement app, GBox.</p><div class="mediaobject"><img src="graphics/1468_14_09.jpg" alt="How it works..."/></div><p>The following screenshot shows the application after it is fully loaded.</p><div class="mediaobject"><img src="graphics/1468_14_10.jpg" alt="How it works..."/></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec13"/>There's more...</h2></div></div></div><p>The launch image is there to provide a sense of responsiveness to the user while the application loads, avoiding blank screens. Although the<span class="emphasis"><em> iOS Human Interface Guidelines</em></span> are what the name suggests, guidelines, it is a good practice to follow them. Apple suggests avoiding the usage of the launch image for splash screens, "about" information and branding.</p><div class="section" title="Lighting effect on icons"><div class="titlepage"><div><div><h3 class="title"><a id="ch14lvl3sec03"/>Lighting effect on icons</h3></div></div></div><p>If we would like to provide our own lighting effect for the icon, or even not allow the default iOS one to be displayed, we can add the<code class="literal"> UIPrerenderedIcon</code> key to the<code class="literal"> Info.plist</code> file with its<span class="strong"><strong> type</strong></span> set to<span class="strong"><strong> Boolean</strong></span> and enable it. This setting prevents the shine effect from being created when the application icon is displayed on the device's home screen.<a id="id1031" class="indexterm"/>
</p></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec14"/>See also</h2></div></div></div><p>In this chapter:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Creating profiles</em></span></li></ul></div></div></div>
<div class="section" title="Submitting to the App Store"><div class="titlepage"><div><div><h1 class="title"><a id="ch14lvl1sec05"/>Submitting to the App Store</h1></div></div></div><p>In this recipe, we will go through the required steps to submit an application to the App Store.<a id="id1032" class="indexterm"/>
</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec15"/>Getting ready</h2></div></div></div><p>For this task, you will have to have your zipped distribution application bundle ready.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec16"/>How to do it...</h2></div></div></div><p>Follow the steps below for submitting your application to the App Store.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><span class="strong"><strong> Screenshots:</strong></span> Prepare screenshots that display various aspects of your application. For iPhone/iPod Touch apps, the dimensions should be<code class="literal"> 320x480</code> for portrait and<code class="literal"> 480x320</code> for landscape. For iPad applications the dimensions of the screenshots should be<code class="literal"> 768x1024</code> for portrait and<code class="literal"> 1024x768</code> for landscape. If the application does not hide the status bar, it would be better if it was included in the screenshots. For each application, we can have up to five screenshots on the App Store.<a id="id1033" class="indexterm"/></li><li class="listitem"><span class="strong"><strong> App Store icon:</strong></span> Prepare the icon that will represent the application on the App Store. Its dimensions must be<code class="literal"> 512x512</code> pixels, and it must be the same as the application icon.<a id="id1034" class="indexterm"/></li><li class="listitem"><span class="strong"><strong> Description and keywords:</strong></span> Prepare the text that describes your application. Try to include the most significant features. Remember, the description is what users will read before downloading the application, so the more appealing it is, the better.<a id="id1035" class="indexterm"/><p>Prepare keywords that will help your application climb on top of the search results.
</p><p>Both application description and keywords are required.
</p></li><li class="listitem"><span class="strong"><strong> Log in to iTunes Connect:</strong></span> iTunes Connect is the developer portal for managing and submitting applications (among other App Store related stuff). Log in to iTunes Connect (<a class="ulink" href="http://itunesconnect.apple.com">http://itunesconnect.apple.com
</a>) with your Apple Developer ID. Click on the link<span class="strong"><strong> Manage your Applications</strong></span>. Then, click on the<span class="strong"><strong> Add New App</strong></span> button on the top-left. Follow the steps to complete the application preparation on the portal. When you finish, make sure the application status is<span class="strong"><strong> Waiting for Upload</strong></span>.<a id="id1036" class="indexterm"/></li><li class="listitem"><span class="strong"><strong> Uploading:</strong></span> After you have created a new application on the portal, you can upload the zipped application bundle with the<span class="strong"><strong> Application Loader</strong></span>. It is installed by default with Xcode, and it can be found under the path<code class="literal"> /Developer/Application/Utilities</code>, or by searching through the<span class="strong"><strong> Spotlight</strong></span>.<a id="id1037" class="indexterm"/><p>When you start <span class="strong"><strong>Application Loader</strong></span>, it will ask you to log in with your<span class="strong"><strong> Apple Developer ID</strong></span>. After logging in, you will be presented with the following window:
</p><div class="mediaobject"><img src="graphics/1468_14_11.jpg" alt="How to do it..."/></div></li><li class="listitem"> Click on the<span class="strong"><strong> Deliver Your App</strong></span> button, and it will connect to<span class="strong"><strong> iTunes Connect</strong></span>, and find the applications you have in the<span class="strong"><strong> Waiting for Upload</strong></span> status, and load them in the list box:<a id="id1038" class="indexterm"/><div class="mediaobject"><img src="graphics/1468_14_12.jpg" alt="How to do it..."/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">You will then be presented with a summary view of your application:<a id="id1039" class="indexterm"/></li></ul></div><div class="mediaobject"><img src="graphics/1468_14_13.jpg" alt="How to do it..."/></div></li><li class="listitem"> Click the<span class="strong"><strong> Choose..</strong></span>. button, and a dialog will appear that will allow you to select the zipped application bundle. After selecting it, proceed with the upload. You are all set! If all steps have been completed correctly, the application will be uploaded, and it will be under review for release on the App Store.<a id="id1040" class="indexterm"/></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec17"/>How it works...</h2></div></div></div><p>Application screenshots and the App Store icon are very important. They can be in any of the<code class="literal"> JPG, TIF</code>, or<code class="literal"> PNG</code> formats, in RGB color, and at a resolution of at least 72 DPI.<a id="id1041" class="indexterm"/>
</p><p>But the images are important only when users are already viewing your application in the App Store. The keywords and the description are the parameters that will allow your application to come up higher on search results and make the user decide whether the application is worth the download. Especially regarding the keywords, choose them wisely. Do not include as many as you can; fewer keywords that reflect the key aspects of the application are always better.</p><p>iTunes Connect is the developer portal for managing applications, reviewing financial data, application downloads, and includes the contracts and agreements a developer needs to sign. Make sure you read and accept the contracts, or else you will not be able to proceed with the application preparation process. During that process, you are required to provide the necessary information for your application that is described previously and also the price range if it is a paid application, the countries in which it will be available, as well as the release date for it, if you do not want it to be released automatically as soon as it has passed through the App Store review process.<a id="id1042" class="indexterm"/>
</p><p>When everything is set up correctly and the application's status is<span class="strong"><strong> Waiting for Upload</strong></span>, you can then run the<span class="strong"><strong> Application Loader</strong></span> to upload it. Periodically and with each release of iOS and iOS SDK versions, various components or procedures change. Always make sure your iOS SDK version is up-to-date.<a id="id1043" class="indexterm"/>
</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec18"/>There's more...</h2></div></div></div><p>At some point in the application preparation process, you will be required to enter a<span class="strong"><strong> Stock Keeping Unit</strong></span> (SKU) number. This number is a unique identifier for each product or service. It can be any number you want, but keep a specific pattern to keep track of the identifiers, for example, when you develop additional applications.<a id="id1044" class="indexterm"/>
</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch14lvl2sec19"/>See also</h2></div></div></div><p>In this chapter:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="emphasis"><em>Preparing an app for the App Store</em></span></li></ul></div></div></div></body></html>