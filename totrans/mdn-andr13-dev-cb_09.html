<html><head></head><body>
<div id="_idContainer096">
<h1 class="chapter-number" id="_idParaDest-248"><a id="_idTextAnchor441"/><span class="koboSpan" id="kobo.1.1">9</span></h1>
<h1 id="_idParaDest-249"><a id="_idTextAnchor442"/><span class="koboSpan" id="kobo.2.1">Building for Large Screens</span></h1>
<p><span class="koboSpan" id="kobo.3.1">We can all agree now that we live in a world with foldable phones, a technology we never anticipated, due to their growing demand and popularity. </span><span class="koboSpan" id="kobo.3.2">Ten years ago, if you had told a developer we would have foldable phones, no one would have believed it due to the ambiguity of screen complexity and the transfer </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">of information.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">However, now the devices are here with us. </span><span class="koboSpan" id="kobo.5.2">And since some of these devices run on the Android operating system, it’s vital to know how we developers will build our applications to cater to foldability, along with the number of Android tablets we’re now seeing on the market. </span><span class="koboSpan" id="kobo.5.3">The support for large screens seems now mandatory, and in this chapter, we will look at supporting large screens in the new Modern </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">Android Development.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">In this chapter, we’ll be covering the </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">following recipes:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.9.1">Building adaptive layouts in Modern </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">Android Development</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Building adaptive layouts </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">using </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.13.1">ConstraintLayouts</span></strong></span></li>
<li><span class="koboSpan" id="kobo.14.1">Handling large-screen configuration changes </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">and continuity</span></span></li>
<li><span class="koboSpan" id="kobo.16.1">Understanding </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">activity embedding</span></span></li>
<li><span class="koboSpan" id="kobo.18.1">Material Theming </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">in Compose</span></span></li>
<li><span class="koboSpan" id="kobo.20.1">Testing your applications on a </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">foldable device</span></span></li>
</ul>
<h1 id="_idParaDest-250"><a id="_idTextAnchor443"/><span class="koboSpan" id="kobo.22.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.23.1">The complete source code for this chapter can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">at </span></span><a href="https://github.com/PacktPublishing/Modern-Android-13-Development-Cookbook/tree/main/chapter_nine"><span class="No-Break"><span class="koboSpan" id="kobo.25.1">https://github.com/PacktPublishing/Modern-Android-13-Development-Cookbook/tree/main/chapter_nine</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.26.1">.</span></span></p>
<h1 id="_idParaDest-251"><a id="_idTextAnchor444"/><span class="koboSpan" id="kobo.27.1">Building adaptive layouts in Modern Android Development</span></h1>
<p><span class="koboSpan" id="kobo.28.1">When building the UI for your application in Modern Android Development, it is fair to say that you </span><a id="_idIndexMarker572"/><span class="koboSpan" id="kobo.29.1">should consider </span><a id="_idIndexMarker573"/><span class="koboSpan" id="kobo.30.1">ensuring the application is responsive to different screen sizes, orientations, and form factors. </span><span class="koboSpan" id="kobo.30.2">Finally, developers can now remove the lock in portrait mode. </span><span class="koboSpan" id="kobo.30.3">In this recipe, we will utilize ideas we learned from previous recipes and build an adaptive app for different screen sizes </span><span class="No-Break"><span class="koboSpan" id="kobo.31.1">and orientations.</span></span></p>
<h2 id="_idParaDest-252"><a id="_idTextAnchor445"/><span class="koboSpan" id="kobo.32.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.33.1">We will be using the cities application to create a traveler profile, and our screen should be able to change based on different screen sizes and support foldable devices and tablets. </span><span class="koboSpan" id="kobo.33.2">To get the entire code, check out the </span><em class="italic"><span class="koboSpan" id="kobo.34.1">Technical </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.35.1">requirements</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.36.1"> section.</span></span></p>
<h2 id="_idParaDest-253"><a id="_idTextAnchor446"/><span class="koboSpan" id="kobo.37.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.38.1">For this recipe, we will create a new project, and this time, instead of picking the empty Compose Activity template, we will pick empty Compose Activity (</span><strong class="source-inline"><span class="koboSpan" id="kobo.39.1">Material 3</span></strong><span class="koboSpan" id="kobo.40.1">). </span><strong class="source-inline"><span class="koboSpan" id="kobo.41.1">Material 3</span></strong><span class="koboSpan" id="kobo.42.1"> seeks to improve our application’s look and feel in Android. </span><span class="koboSpan" id="kobo.42.2">It includes updated theming, components, and great features, such as Material You personalization using </span><span class="No-Break"><span class="koboSpan" id="kobo.43.1">dynamic color:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.44.1">Let’s start by creating an Empty Compose Activity (</span><strong class="source-inline"><span class="koboSpan" id="kobo.45.1">Material3</span></strong><span class="koboSpan" id="kobo.46.1">) project and calling it </span><strong class="source-inline"><span class="koboSpan" id="kobo.47.1">Traveller</span></strong><span class="koboSpan" id="kobo.48.1">; note that you can call your project anything </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">you wish.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer088">
<span class="koboSpan" id="kobo.50.1"><img alt="Figure 9.1 – Creating a new Empty Compose Activity (Material3) project" src="image/Figure_9.1_B18827.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.51.1">Figure 9.1 – Creating a new Empty Compose Activity (Material3) project</span></p>
<p><span class="koboSpan" id="kobo.52.1">Complex applications utilize responsive UI, and in most cases, ensuring you choose the right navigation type for your application comes in handy. </span><span class="koboSpan" id="kobo.52.2">The Material library offers navigation components to developers, such as the bottom navigation, navigation drawer, and navigation rail. </span><span class="koboSpan" id="kobo.52.3">You can get the starter code for these in the </span><em class="italic"><span class="koboSpan" id="kobo.53.1">Technical </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.54.1">requirements</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.55.1"> section.</span></span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.56.1">Add the following dependency, and check the project for the correct version </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">number, </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.58.1">1.1.0</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.59.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.60.1">
implementation "androidx.compose.material3:material3-window-size-class:1.1.0"</span></pre></li>
<li><span class="koboSpan" id="kobo.61.1">When </span><a id="_idIndexMarker574"/><span class="koboSpan" id="kobo.62.1">ensuring our code </span><a id="_idIndexMarker575"/><span class="koboSpan" id="kobo.63.1">caters to adaptability, we have to remember a responsive UI retains data when a phone is rotated, folded, or unfolded. </span><span class="koboSpan" id="kobo.63.2">The most crucial part is ensuring we handle the posture. </span><span class="koboSpan" id="kobo.63.3">We will create a function, </span><strong class="source-inline"><span class="koboSpan" id="kobo.64.1">cityPosture</span></strong><span class="koboSpan" id="kobo.65.1">, that takes </span><strong class="source-inline"><span class="koboSpan" id="kobo.66.1">FoldingFeature</span></strong><span class="koboSpan" id="kobo.67.1"> as input and returns </span><span class="No-Break"><span class="koboSpan" id="kobo.68.1">a Boolean:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.69.1">
@OptIn(ExperimentalContracts::class)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.70.1">
fun cityPosture(foldFeature: FoldingFeature?): Boolean {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.71.1">
    contract { returns(true) implies (foldFeature !=</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.72.1">
        null) }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.73.1">
    return foldFeature?.state ==</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.74.1">
        FoldingFeature.State.HALF_OPENED &amp;&amp;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.75.1">
            foldFeature.orientation ==</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.76.1">
                FoldingFeature.Orientation.VERTICAL</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.77.1">
}</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.78.1">We handle the state based on the three provided states. </span><span class="koboSpan" id="kobo.78.2">We also annotate it with the </span><a id="_idIndexMarker576"/><span class="koboSpan" id="kobo.79.1">experimental </span><a id="_idIndexMarker577"/><span class="koboSpan" id="kobo.80.1">class because this API is still experimental, which means it can change in the future and is not </span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">very stable.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.82.1">Next, we need to cover </span><strong class="source-inline"><span class="koboSpan" id="kobo.83.1">isSeparating</span></strong><span class="koboSpan" id="kobo.84.1">, which listens to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.85.1">FLAT</span></strong> <em class="italic"><span class="koboSpan" id="kobo.86.1">fully open</span></em><span class="koboSpan" id="kobo.87.1"> and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.88.1">isSeparating</span></strong><span class="koboSpan" id="kobo.89.1"> Boolean, which calculates whether </span><strong class="source-inline"><span class="koboSpan" id="kobo.90.1">FoldingFeature</span></strong><span class="koboSpan" id="kobo.91.1"> should be considered, splitting the window into multiple physical areas that users can see as </span><span class="No-Break"><span class="koboSpan" id="kobo.92.1">logically separate:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.93.1">
@OptIn(ExperimentalContracts::class)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.94.1">
fun separating(foldFeature: FoldingFeature?): Boolean {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.95.1">
    contract { returns(true) implies (foldFeature !=</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.96.1">
        null) }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.97.1">
    return foldFeature?.state ==</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.98.1">
        FoldingFeature.State.FLAT &amp;&amp;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.99.1">
            foldFeature.isSeparating</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.100.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.101.1">We will also create a sealed interface, </span><strong class="source-inline"><span class="koboSpan" id="kobo.102.1">DevicePosture</span></strong><span class="koboSpan" id="kobo.103.1">. </span><span class="koboSpan" id="kobo.103.2">This is a Jetpack Compose UI </span><a id="_idIndexMarker578"/><span class="koboSpan" id="kobo.104.1">component </span><a id="_idIndexMarker579"/><span class="koboSpan" id="kobo.105.1">that allows you to detect a device’s posture or orientation, such as whether the device is in portrait or </span><span class="No-Break"><span class="koboSpan" id="kobo.106.1">landscape mode:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.107.1">
sealed interface DevicePosture {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.108.1">
    object NormalPosture : DevicePosture</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.109.1">
    data class CityPosture(</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.110.1">
        val hingePosition: Rect</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.111.1">
    ) : DevicePosture</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.112.1">
    data class Separating(</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.113.1">
        val hingePosition: Rect,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.114.1">
        var orientation: FoldingFeature.Orientation</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.115.1">
    ) : DevicePosture</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.116.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.117.1">In our </span><strong class="source-inline"><span class="koboSpan" id="kobo.118.1">MainActivity</span></strong><span class="koboSpan" id="kobo.119.1">, we now need to ensure we calculate the </span><span class="No-Break"><span class="koboSpan" id="kobo.120.1">window size:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.121.1">
val windowSize = calculateWindowSizeClass(activity = this)</span></pre></li>
<li><span class="koboSpan" id="kobo.122.1">Then, we will ensure we handle all sizes well by creating </span><strong class="source-inline"><span class="koboSpan" id="kobo.123.1">postureStateFlow</span></strong><span class="koboSpan" id="kobo.124.1">, which will listen to our </span><strong class="source-inline"><span class="koboSpan" id="kobo.125.1">DevicePosture</span></strong><span class="koboSpan" id="kobo.126.1"> and act when </span><strong class="source-inline"><span class="koboSpan" id="kobo.127.1">cityPosture</span></strong><span class="koboSpan" id="kobo.128.1"> is either folded, unfolded, </span><span class="No-Break"><span class="koboSpan" id="kobo.129.1">or normal:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.130.1">
val postureStateFlow = WindowInfoTracker.getOrCreate(this).windowLayoutInfo(this)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.131.1">
. </span><span class="koboSpan" id="kobo.131.2">. </span><span class="koboSpan" id="kobo.131.3">.</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.132.1">
when {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.133.1">
    cityPosture(foldingFeature) -&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.134.1">
      DevicePosture.CityPosture(foldingFeature.bounds)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.135.1">
    separating(foldingFeature) -&gt;</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.136.1">
      DevicePosture.Separating(foldingFeature.bounds,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.137.1">
        foldingFeature.orientation)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.138.1">
    else -&gt; DevicePosture.NormalPosture</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.139.1">
}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.140.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.141.1">
. </span><span class="koboSpan" id="kobo.141.2">. </span><span class="koboSpan" id="kobo.141.3">.</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.142.1">
    )</span></pre></li>
<li><span class="koboSpan" id="kobo.143.1">We now </span><a id="_idIndexMarker580"/><span class="koboSpan" id="kobo.144.1">need to get set up </span><a id="_idIndexMarker581"/><span class="koboSpan" id="kobo.145.1">with a foldable testing virtual device. </span><span class="koboSpan" id="kobo.145.2">You can repeat the steps from the first chapter on how to create a virtual device if you need a refresher; otherwise, you should go ahead and create a foldable device. </span><span class="koboSpan" id="kobo.145.3">The arrow in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.146.1">Figure 9</span></em></span><em class="italic"><span class="koboSpan" id="kobo.147.1">.2</span></em><span class="koboSpan" id="kobo.148.1"> shows how you will control the </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">foldable screens.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer089">
<span class="koboSpan" id="kobo.150.1"><img alt="Figure 9.2 – The foldable controls" src="image/Figure_9.2_B18827.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.151.1">Figure 9.2 – The foldable controls</span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.152.1">Then, finally, </span><a id="_idIndexMarker582"/><span class="koboSpan" id="kobo.153.1">when you </span><a id="_idIndexMarker583"/><span class="koboSpan" id="kobo.154.1">run the app, you will see that it changes based on folded and unfolded states, working well. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.155.1">Figure 9</span></em></span><em class="italic"><span class="koboSpan" id="kobo.156.1">.3</span></em><span class="koboSpan" id="kobo.157.1"> shows when the state </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">is folded.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer090">
<span class="koboSpan" id="kobo.159.1"><img alt="Figure 9.3 – The folded state" src="image/Figure_9.3_B18827.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.160.1">Figure 9.3 – The folded state</span></p>
<ol>
<li value="10"><span class="koboSpan" id="kobo.161.1">In </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.162.1">Figure 9</span></em></span><em class="italic"><span class="koboSpan" id="kobo.163.1">.4</span></em><span class="koboSpan" id="kobo.164.1">, you can see that we changed the bottom navigation and now have our </span><a id="_idIndexMarker584"/><span class="koboSpan" id="kobo.165.1">navigation </span><a id="_idIndexMarker585"/><span class="koboSpan" id="kobo.166.1">drawer set to the side for more straightforward navigation. </span><span class="koboSpan" id="kobo.166.2">It should be acknowledged that this project is extensive, so we cannot cover all parts of the code. </span><span class="koboSpan" id="kobo.166.3">Make sure to utilize the Compose concepts learned in the previous chapter for </span><span class="No-Break"><span class="koboSpan" id="kobo.167.1">this section.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer091">
<span class="koboSpan" id="kobo.168.1"><img alt="Figure 9.4 – The full-screen state (not folded)" src="image/Figure_9.4_B18827.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.169.1">Figure 9.4 – The full-screen state (not folded)</span></p>
<p><span class="koboSpan" id="kobo.170.1">Note that when </span><a id="_idIndexMarker586"/><span class="koboSpan" id="kobo.171.1">you expand </span><a id="_idIndexMarker587"/><span class="koboSpan" id="kobo.172.1">the navigation drawer, you can see all items, and you should be able to </span><span class="No-Break"><span class="koboSpan" id="kobo.173.1">navigate easily.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer092">
<span class="koboSpan" id="kobo.174.1"><img alt="Figure 9.5 – The navigation drawer open" src="image/Figure_9.5_B18827.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.175.1">Figure 9.5 – The navigation drawer open</span></p>
<p><span class="koboSpan" id="kobo.176.1">You can also </span><a id="_idIndexMarker588"/><span class="koboSpan" id="kobo.177.1">see on the </span><a id="_idIndexMarker589"/><span class="koboSpan" id="kobo.178.1">side panel a more descriptive view of your UI, which helps </span><span class="No-Break"><span class="koboSpan" id="kobo.179.1">debug issues.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer093">
<span class="koboSpan" id="kobo.180.1"><img alt="Figure 9.6 – The device pose" src="image/Figure_9.6_B18827.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.181.1">Figure 9.6 – The device pose</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.182.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.183.1">The code base for this project is vast and hence, cannot be covered in just one recipe; you can find the full code in the </span><em class="italic"><span class="koboSpan" id="kobo.184.1">Technical </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.185.1">requiremen</span><a id="_idTextAnchor447"/><span class="koboSpan" id="kobo.186.1">ts</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.187.1"> section.</span></span></p>
<h2 id="_idParaDest-254"><span class="koboSpan" id="kobo.188.1">Ho</span><a id="_idTextAnchor448"/><span class="koboSpan" id="kobo.189.1">w it works…</span></h2>
<p><span class="koboSpan" id="kobo.190.1">We covered the bottom navigation in </span><a href="B18827_04.xhtml#_idTextAnchor190"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.191.1">Chapter 4</span></em></span></a><span class="koboSpan" id="kobo.192.1">, </span><em class="italic"><span class="koboSpan" id="kobo.193.1">Navigation in Modern Android Development</span></em><span class="koboSpan" id="kobo.194.1">. </span><span class="koboSpan" id="kobo.194.2">In this </span><a id="_idIndexMarker590"/><span class="koboSpan" id="kobo.195.1">chapter, however, we </span><a id="_idIndexMarker591"/><span class="koboSpan" id="kobo.196.1">use it to showcase how your application can change as the screen changes if your application is installed on a foldable device, which is very important in Modern </span><span class="No-Break"><span class="koboSpan" id="kobo.197.1">Android</span><a id="_idTextAnchor449"/><span class="koboSpan" id="kobo.198.1"> Development.</span></span></p>
<p><span class="koboSpan" id="kobo.199.1">The navigation rail is used for medium-screen sizes, whereas the navigation drawer, just like in the old way of writing applications, is used as a side drawer and is suitable for large-screen devices. </span><strong class="source-inline"><span class="koboSpan" id="kobo.200.1">FoldFeature</span></strong><span class="koboSpan" id="kobo.201.1"> is a built-in Jetpack Compose UI component that allows you to </span><a id="_idIndexMarker592"/><span class="koboSpan" id="kobo.202.1">create a folding animation effect when you click </span><span class="No-Break"><span class="koboSpan" id="kobo.203.1">on it.</span></span></p>
<p><span class="koboSpan" id="kobo.204.1">Here are the steps to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.205.1">FoldFeature</span></strong><span class="koboSpan" id="kobo.206.1"> in your Android app. </span><span class="koboSpan" id="kobo.206.2">You can also customize </span><strong class="source-inline"><span class="koboSpan" id="kobo.207.1">FoldFeature</span></strong><span class="koboSpan" id="kobo.208.1"> by providing the </span><span class="No-Break"><span class="koboSpan" id="kobo.209.1">necessary parameters:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.210.1">foldableState</span></strong><span class="koboSpan" id="kobo.211.1">: This state controls the folding and unfolding of </span><strong class="source-inline"><span class="koboSpan" id="kobo.212.1">FoldFeature</span></strong><span class="koboSpan" id="kobo.213.1">. </span><span class="koboSpan" id="kobo.213.2">You can create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.214.1">FoldState</span></strong><span class="koboSpan" id="kobo.215.1"> instance using the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.216.1">rememberFoldState()</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.217.1"> function.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.218.1">foldedConten</span></strong><span class="koboSpan" id="kobo.219.1">t: Content will be displayed when </span><strong class="source-inline"><span class="koboSpan" id="kobo.220.1">FoldFeature</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.221.1">is folded.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.222.1">expandedContent</span></strong><span class="koboSpan" id="kobo.223.1">: This is the content that will be displayed when </span><strong class="source-inline"><span class="koboSpan" id="kobo.224.1">FoldFeature</span></strong><span class="koboSpan" id="kobo.225.1"> is in its </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">e</span><a id="_idTextAnchor450"/><span class="koboSpan" id="kobo.227.1">xpanded state.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.228.1">foldingIcon</span></strong><span class="koboSpan" id="kobo.229.1">: This is the icon that will be displayed to indicate the folding state </span><span class="No-Break"><span class="koboSpan" id="kobo.230.1">o</span><a id="_idTextAnchor451"/><span class="koboSpan" id="kobo.231.1">f </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.232.1">FoldFeature</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.233.1">.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.234.1">A foldable device has the ability to be in various states and postures. </span><span class="koboSpan" id="kobo.234.2">The Jetpack </span><strong class="source-inline"><span class="koboSpan" id="kobo.235.1">WindowManager</span></strong><span class="koboSpan" id="kobo.236.1"> library’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.237.1">WindowLayoutInfo</span></strong><span class="koboSpan" id="kobo.238.1"> class, which is what we use in our example, provides us </span><a id="_idIndexMarker593"/><span class="koboSpan" id="kobo.239.1">with the </span><a id="_idIndexMarker594"/><span class="koboSpan" id="kobo.240.1">following details. </span><strong class="source-inline"><span class="koboSpan" id="kobo.241.1">state</span></strong><span class="koboSpan" id="kobo.242.1"> helps describe the folded state the device is in. </span><span class="koboSpan" id="kobo.242.2">When the phone is fully opened, then the state is either </span><strong class="source-inline"><span class="koboSpan" id="kobo.243.1">FLAT</span></strong><span class="koboSpan" id="kobo.244.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.245.1">HALF_OPENED</span></strong><span class="koboSpan" id="kobo.246.1">. </span><span class="koboSpan" id="kobo.246.2">We also get to play around with </span><strong class="source-inline"><span class="koboSpan" id="kobo.247.1">orientation</span></strong><span class="koboSpan" id="kobo.248.1">, which is the orientatio</span><a id="_idTextAnchor452"/><span class="koboSpan" id="kobo.249.1">n of </span><span class="No-Break"><span class="koboSpan" id="kobo.250.1">the hinge.</span></span></p>
<p><span class="koboSpan" id="kobo.251.1">The hinge can be either </span><strong class="source-inline"><span class="koboSpan" id="kobo.252.1">HORIZONTAL</span></strong><span class="koboSpan" id="kobo.253.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.254.1">VERTICAL</span></strong><span class="koboSpan" id="kobo.255.1">. </span><span class="koboSpan" id="kobo.255.2">We have </span><strong class="source-inline"><span class="koboSpan" id="kobo.256.1">occlusionType</span></strong><span class="koboSpan" id="kobo.257.1">, and this is the value that is </span><strong class="source-inline"><span class="koboSpan" id="kobo.258.1">FULL</span></strong><span class="koboSpan" id="kobo.259.1"> when the hinge hides part of the display. </span><span class="koboSpan" id="kobo.259.2">Otherwise, the value is </span><strong class="source-inline"><span class="koboSpan" id="kobo.260.1">NONE</span></strong><span class="koboSpan" id="kobo.261.1">. </span><span class="koboSpan" id="kobo.261.2">Finally, we have </span><strong class="source-inline"><span class="koboSpan" id="kobo.262.1">isSeparating</span></strong><span class="koboSpan" id="kobo.263.1">, which becomes valid when the hinge creates two </span><span class="No-Break"><span class="koboSpan" id="kobo.264.1">logical displays.</span></span></p>
<h1 id="_idParaDest-255"><a id="_idTextAnchor453"/><span class="koboSpan" id="kobo.265.1">Building adaptive layouts using ConstraintLayouts</span></h1>
<p><span class="koboSpan" id="kobo.266.1">Jetpack Compose, a declarative </span><a id="_idIndexMarker595"/><span class="koboSpan" id="kobo.267.1">UI toolkit to </span><a id="_idIndexMarker596"/><span class="koboSpan" id="kobo.268.1">build great UIs, is ideal to implement and design screen layouts that adjust automatically by themselves and render content well across different </span><span class="No-Break"><span class="koboSpan" id="kobo.269.1">screen sizes.</span></span></p>
<p><span class="koboSpan" id="kobo.270.1">This can be useful to consider when building your application, since the chance of it being installed in a foldable device is high. </span><span class="koboSpan" id="kobo.270.2">Furthermore, this can range from simple layout adjustments to filling up a foldable space that looks like </span><span class="No-Break"><span class="koboSpan" id="kobo.271.1">a tablet.</span></span></p>
<h2 id="_idParaDest-256"><a id="_idTextAnchor454"/><span class="koboSpan" id="kobo.272.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.273.1">You need to have read the previous chapters to follow along with </span><span class="No-Break"><span class="koboSpan" id="kobo.274.1">this recipe.</span></span></p>
<h2 id="_idParaDest-257"><a id="_idTextAnchor455"/><span class="koboSpan" id="kobo.275.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.276.1">For this recipe, we will </span><a id="_idIndexMarker597"/><span class="koboSpan" id="kobo.277.1">build a separate composable function to show you how to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.278.1">ConstraintLayout</span></strong><span class="koboSpan" id="kobo.279.1"> in the same </span><a id="_idIndexMarker598"/><span class="koboSpan" id="kobo.280.1">project instead of creating a </span><span class="No-Break"><span class="koboSpan" id="kobo.281.1">new one:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.282.1">Let’s go ahead and open </span><strong class="source-inline"><span class="koboSpan" id="kobo.283.1">Traveller</span></strong><span class="koboSpan" id="kobo.284.1">. </span><span class="koboSpan" id="kobo.284.2">Add a new package and call it </span><strong class="source-inline"><span class="koboSpan" id="kobo.285.1">constraintllayoutexample</span></strong><span class="koboSpan" id="kobo.286.1">. </span><span class="koboSpan" id="kobo.286.2">Inside the package, create a Kotlin file, called </span><strong class="source-inline"><span class="koboSpan" id="kobo.287.1">ConstraintLayoutExample</span></strong><span class="koboSpan" id="kobo.288.1">, and then add the following dependency to </span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">the project:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.290.1">
implementation "Androidx.constraintlayout:constraintlayout-compose:1.x.x"</span></pre></li>
<li><span class="koboSpan" id="kobo.291.1">In our example, we will create a fun </span><strong class="source-inline"><span class="koboSpan" id="kobo.292.1">AndroidCommunity()</span></strong><span class="koboSpan" id="kobo.293.1"> and use </span><strong class="source-inline"><span class="koboSpan" id="kobo.294.1">ConstraintLayout</span></strong><span class="koboSpan" id="kobo.295.1"> to create </span><strong class="source-inline"><span class="koboSpan" id="kobo.296.1">title</span></strong><span class="koboSpan" id="kobo.297.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.298.1">aboutCommunity</span></strong><span class="koboSpan" id="kobo.299.1">, and </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.300.1">AndroidImage</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.301.1"> references:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.302.1">
@Composable</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.303.1">
fun AndroidCommunity() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.304.1">
    ConstraintLayout {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.305.1">
        val (title, aboutCommunity, AndroidImage) =</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.306.1">
            createRefs()</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.307.1">
 . </span><span class="koboSpan" id="kobo.307.2">. </span><span class="koboSpan" id="kobo.307.3">.</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.308.1">
}</span></pre></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.309.1">createRefs()</span></strong><span class="koboSpan" id="kobo.310.1">, which means </span><em class="italic"><span class="koboSpan" id="kobo.311.1">create references</span></em><span class="koboSpan" id="kobo.312.1">, simply creates a reference for each composable in </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">our </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.314.1">ConstrainLayout</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.315.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.316.1">Now, let us go ahead and create our title text, </span><strong class="source-inline"><span class="koboSpan" id="kobo.317.1">aboutCommunity</span></strong><span class="koboSpan" id="kobo.318.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.319.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.320.1">AndroidImage</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.322.1">
Text(</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.323.1">
    text = stringResource(id =</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.324.1">
        R.string.Android_community),</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.325.1">
    modifier = Modifier.constrainAs(title) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.326.1">
        top.linkTo(parent.top)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.327.1">
        start.linkTo(parent.start)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.328.1">
        end.linkTo(parent.end)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.329.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.330.1">
        .padding(top = 12.dp),</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.331.1">
    style = TextStyle(</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.332.1">
        color = Color.Blue,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.333.1">
        fontSize = 24.sp</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.334.1">
    )</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.335.1">
)</span></pre></li>
<li><span class="koboSpan" id="kobo.336.1">Our title text has a modifier that has constraints defined, and if you have used XML before, you </span><a id="_idIndexMarker599"/><span class="koboSpan" id="kobo.337.1">may notice that this works exactly how XML works. </span><span class="koboSpan" id="kobo.337.2">We provide constraints </span><a id="_idIndexMarker600"/><span class="koboSpan" id="kobo.338.1">using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.339.1">constrainAs()</span></strong><span class="koboSpan" id="kobo.340.1"> modifier, which, in our case, takes the references as a parameter and lets us specify its constraints in the body lambda. </span><span class="koboSpan" id="kobo.340.2">Hereafter, our constraints are specified using </span><strong class="source-inline"><span class="koboSpan" id="kobo.341.1">linkTo(...)</span></strong><span class="koboSpan" id="kobo.342.1"> or other methods, but in this case, we will </span><span class="No-Break"><span class="koboSpan" id="kobo.343.1">use </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.344.1">linkTo(parent.top)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.345.1">.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.346.1">We can now connect the parts together using a similar style, in addition, ensure you </span><a id="_idIndexMarker601"/><span class="koboSpan" id="kobo.347.1">check the </span><em class="italic"><span class="koboSpan" id="kobo.348.1">Technical requirements</span></em><span class="koboSpan" id="kobo.349.1"> section </span><a id="_idIndexMarker602"/><span class="koboSpan" id="kobo.350.1">for the </span><span class="No-Break"><span class="koboSpan" id="kobo.351.1">entire code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.352.1">
Text(
    text = stringResource(id =
       R.string.about_community),
    modifier = Modifier.constrainAs(aboutCommunity) {
        top.linkTo(title.bottom)
        start.linkTo(parent.start)
        end.linkTo(parent.end)
        width = Dimension.fillToConstraints
    }
        .padding(top = 12.dp, start = 12.dp,
            end = 12.dp),
    style = TextStyle(
        fontSize = 18.sp
    )
)</span></pre>
<ol>
<li value="6"><span class="koboSpan" id="kobo.353.1">Then, we build </span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">the image:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.355.1">
Image(</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.356.1">
    painter = painterResource(id =</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.357.1">
        R.drawable.Android),</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.358.1">
    contentDescription = stringResource(id =</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.359.1">
        R.string.Android_image),</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.360.1">
    modifier = Modifier.constrainAs(AndroidImage) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.361.1">
        top.linkTo(aboutCommunity.bottom,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.362.1">
            margin = 16.dp)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.363.1">
        centerHorizontallyTo(parent)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.364.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.365.1">
)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.366.1">
. </span><span class="koboSpan" id="kobo.366.2">. </span><span class="koboSpan" id="kobo.366.3">.</span></pre></li>
<li><span class="koboSpan" id="kobo.367.1">Finally, to run this part of the code, you can run the </span><strong class="source-inline"><span class="koboSpan" id="kobo.368.1">@</span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.369.1">Preview</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.370.1"> section:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.371.1">
@Preview(showBackground = true)</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.372.1">
@Composable</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.373.1">
fun ShowAndroidCommunity() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.374.1">
    TravellerTheme() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.375.1">
        AndroidCommunity()</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.376.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.377.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.378.1">When you </span><a id="_idIndexMarker603"/><span class="koboSpan" id="kobo.379.1">run the application, it </span><a id="_idIndexMarker604"/><span class="koboSpan" id="kobo.380.1">should render and adapt well to the screen sizes. </span><span class="koboSpan" id="kobo.380.2">For instance, if the state is full (which means not folded), data should be displayed on the entire screen (see </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.381.1">Figure 9</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.382.1">.7</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.383.1">).</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer094">
<span class="koboSpan" id="kobo.384.1"><img alt="Figure 9.7 – The full screen of the not folded state" src="image/Figure_9.7_B18827.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.385.1">Figure 9.7 – The full screen of the not folded state</span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.386.1">In </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.387.1">Figure 9</span></em></span><em class="italic"><span class="koboSpan" id="kobo.388.1">.8</span></em><span class="koboSpan" id="kobo.389.1">, you </span><a id="_idIndexMarker605"/><span class="koboSpan" id="kobo.390.1">can see a version </span><a id="_idIndexMarker606"/><span class="koboSpan" id="kobo.391.1">of the data when the screen is folded and how it adapts to the </span><span class="No-Break"><span class="koboSpan" id="kobo.392.1">specified dimensions.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer095">
<span class="koboSpan" id="kobo.393.1"><img alt="Figure 9.8 – The folded state" src="image/Figure_9.8_B18827.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.394.1">Figure 9.8 – The folded state</span></p>
<h2 id="_idParaDest-258"><a id="_idTextAnchor456"/><span class="koboSpan" id="kobo.395.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.396.1">We use modifiers to adjust the spacing between components and use dimension resources to </span><a id="_idIndexMarker607"/><span class="koboSpan" id="kobo.397.1">define the margin between </span><a id="_idIndexMarker608"/><span class="koboSpan" id="kobo.398.1">an image and </span><strong class="source-inline"><span class="koboSpan" id="kobo.399.1">aboutCommunity</span></strong><span class="koboSpan" id="kobo.400.1">. </span><span class="koboSpan" id="kobo.400.2">Our layout will adjust based on the screen size to look good on both small and </span><span class="No-Break"><span class="koboSpan" id="kobo.401.1">large screens.</span></span></p>
<p><span class="koboSpan" id="kobo.402.1">We also use </span><strong class="source-inline"><span class="koboSpan" id="kobo.403.1">ConstraintLayout</span></strong><span class="koboSpan" id="kobo.404.1">, which is a layout manager that allows us to create complex layouts with a flat view hierarchy. </span><span class="koboSpan" id="kobo.404.2">It also has built-in support for responsive layouts to create different layouts for different screen sizes </span><span class="No-Break"><span class="koboSpan" id="kobo.405.1">and orientations.</span></span></p>
<p><span class="koboSpan" id="kobo.406.1">The best use cases for </span><strong class="source-inline"><span class="koboSpan" id="kobo.407.1">ConstraintLayout</span></strong><span class="koboSpan" id="kobo.408.1"> include </span><span class="No-Break"><span class="koboSpan" id="kobo.409.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.410.1">When you want </span><a id="_idIndexMarker609"/><span class="koboSpan" id="kobo.411.1">to avoid nesting multiple columns and rows; this can include when you want to position your elements on screen for easier </span><span class="No-Break"><span class="koboSpan" id="kobo.412.1">code readability</span></span></li>
<li><span class="koboSpan" id="kobo.413.1">Utilizing it when you need to use guidelines, chains, or barriers in </span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">your positioning</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.415.1">We mentioned modifiers in previous chapters, which are like attributes in XML layouts. </span><span class="koboSpan" id="kobo.415.2">They allow us to </span><a id="_idIndexMarker610"/><span class="koboSpan" id="kobo.416.1">apply different styles and </span><a id="_idIndexMarker611"/><span class="koboSpan" id="kobo.417.1">behaviors to the components in our layout. </span><span class="koboSpan" id="kobo.417.2">You can use modifiers to change your component’s size, position, and other properties, based on the </span><span class="No-Break"><span class="koboSpan" id="kobo.418.1">screen size.</span></span></p>
<p><span class="koboSpan" id="kobo.419.1">In our example, we use dynamic padding and margins, and you can use them to adjust the spacing between components based on the screen size. </span><span class="koboSpan" id="kobo.419.2">For example, you can use a modifier to add more padding to a component on </span><span class="No-Break"><span class="koboSpan" id="kobo.420.1">larger screens.</span></span></p>
<p><span class="koboSpan" id="kobo.421.1">This allows you to create responsive layouts that adjust based on the </span><span class="No-Break"><span class="koboSpan" id="kobo.422.1">screen size.</span></span></p>
<h1 id="_idParaDest-259"><a id="_idTextAnchor457"/><span class="koboSpan" id="kobo.423.1">Handling large-screen configuration changes and continuity</span></h1>
<p><span class="koboSpan" id="kobo.424.1">Android </span><a id="_idIndexMarker612"/><span class="koboSpan" id="kobo.425.1">devices undergo various configuration changes during their operation. </span><span class="koboSpan" id="kobo.425.2">Some of the most notable, or standard, ones include </span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">the following:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.427.1">Screen orientation change</span></strong><span class="koboSpan" id="kobo.428.1">: This occurs when a user rotates a device’s screen, triggering a configuration change. </span><span class="koboSpan" id="kobo.428.2">This is when the device switches from portrait to landscape mode or </span><span class="No-Break"><span class="koboSpan" id="kobo.429.1">vice versa.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.430.1">Screen size change</span></strong><span class="koboSpan" id="kobo.431.1">: This is when a user changes the screen size of a device – for example, by plugging or unplugging an external display, triggering a </span><span class="No-Break"><span class="koboSpan" id="kobo.432.1">configuration change.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.433.1">Language or locale change</span></strong><span class="koboSpan" id="kobo.434.1">: This is when a user changes the language or locale of a device, triggering a configuration change. </span><span class="koboSpan" id="kobo.434.2">This can affect the formatting of text and dates, among </span><span class="No-Break"><span class="koboSpan" id="kobo.435.1">other things.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.436.1">Theme change</span></strong><span class="koboSpan" id="kobo.437.1">: This is when a user changes a device’s theme, triggering a configuration change. </span><span class="koboSpan" id="kobo.437.2">This can affect the appearance of </span><span class="No-Break"><span class="koboSpan" id="kobo.438.1">the UI.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.439.1">Keyboard availability change</span></strong><span class="koboSpan" id="kobo.440.1">: This is when a user attaches or detaches a keyboard from a device, triggering a configuration change. </span><span class="koboSpan" id="kobo.440.2">This can affect the layout of the UI, and </span><span class="No-Break"><span class="koboSpan" id="kobo.441.1">so on.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.442.1">In this recipe, we will look at leveraging this knowledge to better handle screen size changes when dealing with </span><span class="No-Break"><span class="koboSpan" id="kobo.443.1">foldable devices.</span></span></p>
<h2 id="_idParaDest-260"><a id="_idTextAnchor458"/><span class="koboSpan" id="kobo.444.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.445.1">In the first recipe, </span><em class="italic"><span class="koboSpan" id="kobo.446.1">Building adaptive layouts in Modern Android Development</span></em><span class="koboSpan" id="kobo.447.1">, we discussed </span><a id="_idIndexMarker613"/><span class="koboSpan" id="kobo.448.1">different state configurations and how to handle them better. </span><span class="koboSpan" id="kobo.448.2">In this recipe, we will learn how to use the already provided </span><strong class="source-inline"><span class="koboSpan" id="kobo.449.1">rememberFoldableState</span></strong><span class="koboSpan" id="kobo.450.1"> function in Jetpack Compose to handle screen changes in </span><span class="No-Break"><span class="koboSpan" id="kobo.451.1">foldable devices.</span></span></p>
<h2 id="_idParaDest-261"><a id="_idTextAnchor459"/><span class="koboSpan" id="kobo.452.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.453.1">Let’s use the already created </span><strong class="source-inline"><span class="koboSpan" id="kobo.454.1">Traveller</span></strong><span class="koboSpan" id="kobo.455.1"> project for this example; you will not need to create a </span><span class="No-Break"><span class="koboSpan" id="kobo.456.1">new project:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.457.1">To be able to use </span><strong class="source-inline"><span class="koboSpan" id="kobo.458.1">rememberFoldableState</span></strong><span class="koboSpan" id="kobo.459.1">, we will need to import it into </span><span class="No-Break"><span class="koboSpan" id="kobo.460.1">our project:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.461.1">
import Androidx.window.layout.FoldableState</span></pre></li>
<li><span class="koboSpan" id="kobo.462.1">Then, we will create a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.463.1">val/ property foldableState</span></strong><span class="koboSpan" id="kobo.464.1"> and initialize it with </span><span class="No-Break"><span class="koboSpan" id="kobo.465.1">our </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.466.1">rememberFoldableState</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.467.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.468.1">
val foldState = rememberFoldableState()</span></pre></li>
<li><span class="koboSpan" id="kobo.469.1">Using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.470.1">foldState</span></strong><span class="koboSpan" id="kobo.471.1"> object, we can get information about foldable devices, make our application respond to the correct state, and display data as needed. </span><span class="koboSpan" id="kobo.471.2">The three states available are </span><strong class="source-inline"><span class="koboSpan" id="kobo.472.1">STATE_FLAT</span></strong><span class="koboSpan" id="kobo.473.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">STATE_HALF_OPENED</span></strong><span class="koboSpan" id="kobo.475.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.476.1">and</span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.477.1"> STATE_CLOSED</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.478.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.479.1">
when (foldState.state) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.480.1">
    FoldableState.STATE_FLAT -&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.481.1">
        // Our Device is flat (unfolded)do something</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.482.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.483.1">
    FoldableState.STATE_HALF_OPENED -&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.484.1">
        //Our Device is partially folded. </span><span class="koboSpan" id="kobo.484.2">Do something</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.485.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.486.1">
    FoldableState.STATE_CLOSED -&gt; {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.487.1">
        //Our Device is fully folded do something</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.488.1">
    }</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.489.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.490.1">We can then use this information to adjust our UI accordingly, such as showing or hiding </span><a id="_idIndexMarker614"/><span class="koboSpan" id="kobo.491.1">certain elements based on the foldable state or specified position. </span><span class="koboSpan" id="kobo.491.2">Also, we can create two different layouts for when the device is folded and when it </span><span class="No-Break"><span class="koboSpan" id="kobo.492.1">is unfolded:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.493.1">
val isFolded = foldState.state == FoldableState.STATE_CLOSED</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.494.1">
if (isFolded) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.495.1">
    // Create our layout for when the device is folded</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.496.1">
} else {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.497.1">
    // Create our layout for when the device is</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.498.1">
       unfolded</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.499.1">
}</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.500.1">And that’s it; this will help solve the foldable state if you have a complex UI system that needs </span><span class="No-Break"><span class="koboSpan" id="kobo.501.1">better handling.</span></span></p>
<h2 id="_idParaDest-262"><a id="_idTextAnchor460"/><span class="koboSpan" id="kobo.502.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.503.1">Handling significant screen configuration changes, especially with foldable devices, can be challenging in Android Jetpack Compose. </span><span class="koboSpan" id="kobo.503.2">Here are some tips that can help you use the Configuration API. </span><span class="koboSpan" id="kobo.503.3">It allows you to get information about a device’s screen configuration, such as screen size, orientation, and foldable state. </span><span class="koboSpan" id="kobo.503.4">You can use this informat</span><a id="_idTextAnchor461"/><span class="koboSpan" id="kobo.504.1">ion to adjust your </span><span class="No-Break"><span class="koboSpan" id="kobo.505.1">UI accordingly.</span></span></p>
<p><span class="koboSpan" id="kobo.506.1">Compose’s layout system makes it easy to create responsive UIs that can adapt to different screen sizes and aspect ratios. </span><span class="koboSpan" id="kobo.506.2">Use flexible layouts such as columns and rows to create a UI tha</span><a id="_idTextAnchor462"/><span class="koboSpan" id="kobo.507.1">t can scale up or down </span><span class="No-Break"><span class="koboSpan" id="kobo.508.1">as needed.</span></span></p>
<p><span class="koboSpan" id="kobo.509.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.510.1">rememberFoldableState</span></strong><span class="koboSpan" id="kobo.511.1"> function lets you get information about a device’s foldable state </span><a id="_idIndexMarker615"/><span class="koboSpan" id="kobo.512.1">and adjust your UI accordingly. </span><span class="koboSpan" id="kobo.512.2">For example, you can use this function to create two different layouts, one for when the device is folded and one for when it </span><span class="No-Break"><span class="koboSpan" id="kobo.513.1">is unfolded.</span></span></p>
<p><span class="koboSpan" id="kobo.514.1">Testing your app with different screen configurations is also essential to ensure that it works properly. </span><span class="koboSpan" id="kobo.514.2">You can use the Android emulator or physical devices to test </span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">your app.</span></span></p>
<h1 id="_idParaDest-263"><a id="_idTextAnchor463"/><span class="koboSpan" id="kobo.516.1">Understanding activity embedding</span></h1>
<p><span class="koboSpan" id="kobo.517.1">In Jetpack Compose, activity embedding refers to the process of including a composable function within the </span><a id="_idIndexMarker616"/><span class="koboSpan" id="kobo.518.1">context of an activity. </span><span class="koboSpan" id="kobo.518.2">This allows you to create custom views that can integrate seamlessly with existing </span><span class="No-Break"><span class="koboSpan" id="kobo.519.1">Android activities.</span></span></p>
<p><span class="koboSpan" id="kobo.520.1">To embed a composable function within an activity, you can use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.521.1">setContent</span></strong><span class="koboSpan" id="kobo.522.1"> method of the activity. </span><span class="koboSpan" id="kobo.522.2">This method accepts a composable function as a parameter, which can be used to define the </span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">activity’s layout.</span></span></p>
<h2 id="_idParaDest-264"><a id="_idTextAnchor464"/><span class="koboSpan" id="kobo.524.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.525.1">You need to have completed the previous re</span><a id="_idTextAnchor465"/><span class="koboSpan" id="kobo.526.1">cipes to </span><span class="No-Break"><span class="koboSpan" id="kobo.527.1">follow along.</span></span></p>
<h2 id="_idParaDest-265"><a id="_idTextAnchor466"/><span class="koboSpan" id="kobo.528.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.529.1">Let’s look at an example of embedding a</span><a id="_idTextAnchor467"/><span class="koboSpan" id="kobo.530.1"> composable function in </span><span class="No-Break"><span class="koboSpan" id="kobo.531.1">an activity:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.532.1">
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            MyCustomView()
        }
    }
}
@Composable
fun MyCustomView() {
    Text(te</span><a id="_idTextAnchor468"/><span class="koboSpan" id="kobo.533.1">xt = "Hello, Android Community!")
}</span></pre>
<p><span class="koboSpan" id="kobo.534.1">In this example, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.535.1">setContent</span></strong><span class="koboSpan" id="kobo.536.1"> method embeds the </span><strong class="source-inline"><span class="koboSpan" id="kobo.537.1">MyCustomView</span></strong><span class="koboSpan" id="kobo.538.1"> composable function within </span><strong class="source-inline"><span class="koboSpan" id="kobo.539.1">MainActivity</span></strong><span class="koboSpan" id="kobo.540.1">. </span><span class="koboSpan" id="kobo.540.2">When the activity is created, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.541.1">MyCustomView</span></strong><span class="koboSpan" id="kobo.542.1"> function will be called to generate the </span><span class="No-Break"><span class="koboSpan" id="kobo.543.1">activity’s layout.</span></span></p>
<h2 id="_idParaDest-266"><a id="_idTextAnchor469"/><span class="koboSpan" id="kobo.544.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.545.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.546.1">MyCustomView</span></strong><span class="koboSpan" id="kobo.547.1"> function is defined as a composable function using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.548.1">@Composable</span></strong><span class="koboSpan" id="kobo.549.1"> annotation. </span><span class="koboSpan" id="kobo.549.2">This allows the function to be called multiple times without causing any side effects. </span><span class="koboSpan" id="kobo.549.3">In </span><a id="_idIndexMarker617"/><span class="koboSpan" id="kobo.550.1">this case, the function simply displays a </span><strong class="source-inline"><span class="koboSpan" id="kobo.551.1">Text</span></strong><span class="koboSpan" id="kobo.552.1"> composable with the text </span><strong class="source-inline"><span class="koboSpan" id="kobo.553.1">Hello, </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.554.1">Android Community!</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.555.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.556.1">By embedding composable functions within activities, you can create custom views that can be easily integrated into your Android app. </span><span class="koboSpan" id="kobo.556.2">This can be especially useful to create reusable components or customize the layout of </span><span class="No-Break"><span class="koboSpan" id="kobo.557.1">existing activities.</span></span></p>
<h1 id="_idParaDest-267"><a id="_idTextAnchor470"/><span class="koboSpan" id="kobo.558.1">Material Theming in Compose</span></h1>
<p><strong class="bold"><span class="koboSpan" id="kobo.559.1">Material Theming</span></strong><span class="koboSpan" id="kobo.560.1"> in Compose is </span><a id="_idIndexMarker618"/><span class="koboSpan" id="kobo.561.1">a design system introduced by Google that provides guidelines and principles to design user interfaces. </span><span class="koboSpan" id="kobo.561.2">Material Theming helps designers create interfaces that are consistent, easy to use, and visually appealing. </span><span class="koboSpan" id="kobo.561.3">Some key features of Material Theming in Jetpack Compose include </span><span class="No-Break"><span class="koboSpan" id="kobo.562.1">the following:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.563.1">Color palettes</span></strong><span class="koboSpan" id="kobo.564.1">: A set of </span><a id="_idIndexMarker619"/><span class="koboSpan" id="kobo.565.1">predefined color palettes that can be used to create consistent and visually appealing interfaces. </span><span class="koboSpan" id="kobo.565.2">Jetpack Compose provides a </span><strong class="source-inline"><span class="koboSpan" id="kobo.566.1">MaterialTheme</span></strong><span class="koboSpan" id="kobo.567.1"> composable that allows you to apply a color palette to your </span><span class="No-Break"><span class="koboSpan" id="kobo.568.1">entire app.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.569.1">Typography</span></strong><span class="koboSpan" id="kobo.570.1">: A set of typography styles that can create a consistent and easy-to-read </span><a id="_idIndexMarker620"/><span class="koboSpan" id="kobo.571.1">interface. </span><span class="koboSpan" id="kobo.571.2">Jetpack Compose provides a </span><strong class="source-inline"><span class="koboSpan" id="kobo.572.1">Typography</span></strong><span class="koboSpan" id="kobo.573.1"> composable that allows you to apply a typography style to </span><span class="No-Break"><span class="koboSpan" id="kobo.574.1">your text.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.575.1">Shapes</span></strong><span class="koboSpan" id="kobo.576.1">: A set of shapes </span><a id="_idIndexMarker621"/><span class="koboSpan" id="kobo.577.1">that can create consistent and visually appealing components. </span><span class="koboSpan" id="kobo.577.2">Jetpack Compose provides a </span><strong class="source-inline"><span class="koboSpan" id="kobo.578.1">Shape</span></strong><span class="koboSpan" id="kobo.579.1"> composable that allows you to apply a shape to </span><span class="No-Break"><span class="koboSpan" id="kobo.580.1">your components.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.581.1">Icons</span></strong><span class="koboSpan" id="kobo.582.1">: A set of icons that </span><a id="_idIndexMarker622"/><span class="koboSpan" id="kobo.583.1">can be used to create consistent and recognizable interfaces. </span><span class="koboSpan" id="kobo.583.2">Jetpack Compose provides an </span><strong class="source-inline"><span class="koboSpan" id="kobo.584.1">Icon</span></strong><span class="koboSpan" id="kobo.585.1"> composable that allows you to use Material icons in </span><span class="No-Break"><span class="koboSpan" id="kobo.586.1">your app.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.587.1">By using Material Theming in Jetpack Compose, you can create interfaces that are consistent, easy to </span><a id="_idIndexMarker623"/><span class="koboSpan" id="kobo.588.1">use, and visually appealing. </span><span class="koboSpan" id="kobo.588.2">Material Theming in Jetpack Compose helps you focus on designing your app’s functionality, while the design system takes care of the </span><span class="No-Break"><span class="koboSpan" id="kobo.589.1">visual details.</span></span></p>
<h2 id="_idParaDest-268"><a id="_idTextAnchor471"/><span class="koboSpan" id="kobo.590.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.591.1">To be able to follow along, you need to have worked on </span><span class="No-Break"><span class="koboSpan" id="kobo.592.1">previous recipes.</span></span></p>
<h2 id="_idParaDest-269"><a id="_idTextAnchor472"/><span class="koboSpan" id="kobo.593.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.594.1">Many applications still do not use </span><strong class="source-inline"><span class="koboSpan" id="kobo.595.1">Material 3</span></strong><span class="koboSpan" id="kobo.596.1">, but if you build a new application from scratch, it is highly recommended you go with </span><strong class="source-inline"><span class="koboSpan" id="kobo.597.1">Material 3</span></strong><span class="koboSpan" id="kobo.598.1">. </span><span class="koboSpan" id="kobo.598.2">One thing to note is when you create a project, </span><strong class="source-inline"><span class="koboSpan" id="kobo.599.1">Material 3</span></strong><span class="koboSpan" id="kobo.600.1"> does not come pre-installed; this means you need to go ahead and update the Material libraries yourself to </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.601.1">Material 3</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.602.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.603.1">Let’s see an example of implementing </span><strong class="source-inline"><span class="koboSpan" id="kobo.604.1">Material 3</span></strong><span class="koboSpan" id="kobo.605.1"> theming in Jetpack Compose for your </span><span class="No-Break"><span class="koboSpan" id="kobo.606.1">Android applications:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.607.1">You will need to add the required </span><strong class="source-inline"><span class="koboSpan" id="kobo.608.1">Material 3</span></strong><span class="koboSpan" id="kobo.609.1"> dependencies to your app’s </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.610.1">build.gradle</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.611.1"> file:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.612.1">
implementation 'Androidx.compose.material3:material3:1.0.0-alpha14'</span></pre></li>
<li><span class="koboSpan" id="kobo.613.1">Then, you </span><a id="_idIndexMarker624"/><span class="koboSpan" id="kobo.614.1">will need to declare your </span><span class="No-Break"><span class="koboSpan" id="kobo.615.1">app theme:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.616.1">
@Composable</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.617.1">
fun MyAppMaterialTheme(content: @Composable () -&gt; Unit) {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.618.1">
    MaterialTheme(</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.619.1">
        colorScheme = /**/,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.620.1">
        typography = /**/,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.621.1">
        shapes = /**/,</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.622.1">
        content = content</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.623.1">
    )</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.624.1">
}</span></pre></li>
<li><span class="koboSpan" id="kobo.625.1">Finally, you can use your theme in the </span><span class="No-Break"><span class="koboSpan" id="kobo.626.1">entire application:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.627.1">
@Composable</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.628.1">
fun MyApp() {</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.629.1">
    MyAppMaterialTheme {}</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.630.1">
}</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.631.1">In this example, we’ve used </span><strong class="source-inline"><span class="koboSpan" id="kobo.632.1">Material 3</span></strong><span class="koboSpan" id="kobo.633.1"> colors, typography, and shapes to create a consistent and visually appealing interface. </span><span class="koboSpan" id="kobo.633.2">We’ve also used </span><strong class="source-inline"><span class="koboSpan" id="kobo.634.1">Material 3</span></strong><span class="koboSpan" id="kobo.635.1"> icons to enhance the user experience. </span><span class="koboSpan" id="kobo.635.2">Finally, we’ve wrapped our app’s content in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.636.1">MyAppMaterialTheme</span></strong><span class="koboSpan" id="kobo.637.1"> composable to apply the </span><strong class="source-inline"><span class="koboSpan" id="kobo.638.1">Material </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.639.1">3</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.640.1"> theme.</span></span></p>
<h2 id="_idParaDest-270"><a id="_idTextAnchor473"/><span class="koboSpan" id="kobo.641.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.642.1">Here’s how </span><strong class="source-inline"><span class="koboSpan" id="kobo.643.1">Material 3</span></strong><span class="koboSpan" id="kobo.644.1"> works in Jetpack Compose. </span><strong class="source-inline"><span class="koboSpan" id="kobo.645.1">Material 3</span></strong><span class="koboSpan" id="kobo.646.1"> introduces new and updated components, such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.647.1">AppBar</span></strong><span class="koboSpan" id="kobo.648.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.649.1">BottomNavigation</span></strong><span class="koboSpan" id="kobo.650.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.651.1">TabBar</span></strong><span class="koboSpan" id="kobo.652.1">, which can be used in Jetpack Compose using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.653.1">Androidx.compose.material3</span></strong><span class="koboSpan" id="kobo.654.1"> package. </span><span class="koboSpan" id="kobo.654.2">These components have updated design and functionality</span><a id="_idTextAnchor474"/><span class="koboSpan" id="kobo.655.1">, and they follow the </span><strong class="source-inline"><span class="koboSpan" id="kobo.656.1">Material </span></strong><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.657.1">3</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.658.1"> guidelines.</span></span></p>
<p><span class="koboSpan" id="kobo.659.1">Material 3 also introduces a new theming system that allows for more customization and flexibility – that is, in Jetpack Compose, </span><strong class="source-inline"><span class="koboSpan" id="kobo.660.1">Material 3</span></strong><span class="koboSpan" id="kobo.661.1"> theming can be applied using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.662.1">MaterialTheme3</span></strong><span class="koboSpan" id="kobo.663.1"> composable. </span><span class="koboSpan" id="kobo.663.2">This composable allows you to customize the color scheme, typography, and shapes of your app, and it also provides new options to customize t</span><a id="_idTextAnchor475"/><span class="koboSpan" id="kobo.664.1">he elevation and shadows of </span><span class="No-Break"><span class="koboSpan" id="kobo.665.1">your components.</span></span></p>
<p><span class="koboSpan" id="kobo.666.1">The icons are now modern and easily accessible, which is a big plus for us developers. </span><span class="koboSpan" id="kobo.666.2">Finally, Material 3 introduces a new typography system that provides updated styles and guidelines for </span><a id="_idIndexMarker625"/><span class="koboSpan" id="kobo.667.1">typography in your app. </span><span class="koboSpan" id="kobo.667.2">In Jetpack Compose, </span><strong class="source-inline"><span class="koboSpan" id="kobo.668.1">Material 3</span></strong><span class="koboSpan" id="kobo.669.1"> typography can be applied using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.670.1">Material3Typography</span></strong><span class="koboSpan" id="kobo.671.1"> object, which prov</span><a id="_idTextAnchor476"/><span class="koboSpan" id="kobo.672.1">ides several predefined styles for </span><span class="No-Break"><span class="koboSpan" id="kobo.673.1">your text.</span></span></p>
<p><span class="koboSpan" id="kobo.674.1">By using </span><strong class="source-inline"><span class="koboSpan" id="kobo.675.1">Material 3</span></strong><span class="koboSpan" id="kobo.676.1"> in Jetpack Compose, you can create modern and visually appealing interfaces that follow the latest design guidelines. </span><span class="koboSpan" id="kobo.676.2">Also note that </span><strong class="source-inline"><span class="koboSpan" id="kobo.677.1">Material 3</span></strong><span class="koboSpan" id="kobo.678.1"> components, theming, icons, and typography can all be used together to create a cohesi</span><a id="_idTextAnchor477"/><span class="koboSpan" id="kobo.679.1">ve and consistent design system for </span><span class="No-Break"><span class="koboSpan" id="kobo.680.1">your app.</span></span></p>
<h2 id="_idParaDest-271"><a id="_idTextAnchor478"/><span class="koboSpan" id="kobo.681.1">See also…</span></h2>
<p><span class="koboSpan" id="kobo.682.1">There is much to cover in Material Design, and trying to cover all components in a single recipe will </span><a id="_idIndexMarker626"/><span class="koboSpan" id="kobo.683.1">not do it justice. </span><span class="koboSpan" id="kobo.683.2">To learn more about the components and how to ensure your application follows the Material Design guideline, read more </span><span class="No-Break"><span class="koboSpan" id="kobo.684.1">here: </span></span><a href="https://material.io/components"><span class="No-Break"><span class="koboSpan" id="kobo.685.1">https://material.io/components</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.686.1">.</span></span></p>
<h1 id="_idParaDest-272"><a id="_idTextAnchor479"/><span class="koboSpan" id="kobo.687.1">Testing your applications on a foldable device</span></h1>
<p><span class="koboSpan" id="kobo.688.1">Testing your apps </span><a id="_idIndexMarker627"/><span class="koboSpan" id="kobo.689.1">on foldable devices is essential to </span><a id="_idIndexMarker628"/><span class="koboSpan" id="kobo.690.1">ensure they work correctly and provide an excellent user experience. </span><span class="koboSpan" id="kobo.690.2">In this recipe, we will look at some tips to test y</span><a id="_idTextAnchor480"/><span class="koboSpan" id="kobo.691.1">our apps on foldable devices in </span><span class="No-Break"><span class="koboSpan" id="kobo.692.1">Jetpack Compose.</span></span></p>
<h2 id="_idParaDest-273"><a id="_idTextAnchor481"/><span class="koboSpan" id="kobo.693.1">Getting ready</span></h2>
<p><span class="koboSpan" id="kobo.694.1">You will need to have done the previous recipes. </span><span class="koboSpan" id="kobo.694.2">You can access the en</span><a id="_idTextAnchor482"/><span class="koboSpan" id="kobo.695.1">tire code in the </span><em class="italic"><span class="koboSpan" id="kobo.696.1">Technical </span></em><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.697.1">requirements</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.698.1"> section.</span></span></p>
<h2 id="_idParaDest-274"><a id="_idTextAnchor483"/><span class="koboSpan" id="kobo.699.1">How to do it…</span></h2>
<p><span class="koboSpan" id="kobo.700.1">Here are some tips to test your applications on </span><span class="No-Break"><span class="koboSpan" id="kobo.701.1">foldable devices:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.702.1">Use an emulator</span></strong><span class="koboSpan" id="kobo.703.1">: You can use the Android emulator to test your app on foldable devices without buying a physical device. </span><span class="koboSpan" id="kobo.703.2">The emulator provides a range of foldable device configurations that you can use to test </span><span class="No-Break"><span class="koboSpan" id="kobo.704.1">your app.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.705.1">Use real devices</span></strong><span class="koboSpan" id="kobo.706.1">: Testing your app on an actual foldable device can provide a more accurate </span><a id="_idIndexMarker629"/><span class="koboSpan" id="kobo.707.1">representation of how your app will work on these devices. </span><span class="koboSpan" id="kobo.707.2">If you have access to a foldable device, it’s highly recommended to test your app </span><span class="No-Break"><span class="koboSpan" id="kobo.708.1">on it.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.709.1">Test different screen modes</span></strong><span class="koboSpan" id="kobo.710.1">: Foldable devices come in different screen modes, such as single-screen, dual-screen, and extended screens. </span><span class="koboSpan" id="kobo.710.2">It’s essential to test your app on different screen modes to ensure it works correctly in </span><span class="No-Break"><span class="koboSpan" id="kobo.711.1">all modes.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.712.1">Test with different screen sizes</span></strong><span class="koboSpan" id="kobo.713.1">: Foldable devices come in different sizes, so it’s crucial to test your app on different screen sizes to ensure it works well on </span><span class="No-Break"><span class="koboSpan" id="kobo.714.1">all devices.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.715.1">Test app transition</span></strong><span class="koboSpan" id="kobo.716.1">: Testing your app’s transition between different screen modes can help you identify any issues with an app’s layout or behavior. </span><span class="koboSpan" id="kobo.716.2">Make sure to test all the t</span><a id="_idTextAnchor484"/><span class="koboSpan" id="kobo.717.1">ransition modes, such as fold, unfold, </span><span class="No-Break"><span class="koboSpan" id="kobo.718.1">and hinge.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.719.1">Use automated testing</span></strong><span class="koboSpan" id="kobo.720.1">: Automated testing can help you test your app on different </span><a id="_idIndexMarker630"/><span class="koboSpan" id="kobo.721.1">screen sizes, modes, and orientations more efficiently. </span><span class="koboSpan" id="kobo.721.2">You can use tools such as Espresso or U</span><a id="_idTextAnchor485"/><span class="koboSpan" id="kobo.722.1">I Automator to</span><a id="_idTextAnchor486"/><span class="koboSpan" id="kobo.723.1"> write automated tests for </span><span class="No-Break"><span class="koboSpan" id="kobo.724.1">your app.</span></span></li>
</ul>
<h2 id="_idParaDest-275"><a id="_idTextAnchor487"/><span class="koboSpan" id="kobo.725.1">How it works…</span></h2>
<p><span class="koboSpan" id="kobo.726.1">Overall, testing </span><a id="_idIndexMarker631"/><span class="koboSpan" id="kobo.727.1">your app on foldable devices requires </span><a id="_idIndexMarker632"/><span class="koboSpan" id="kobo.728.1">careful consideration of a device’s unique features and abilities. </span><span class="koboSpan" id="kobo.728.2">By following these tips, you can ensure that your app is optimized for foldable devices and provides an excellent </span><span class="No-Break"><span class="koboSpan" id="kobo.729.1">user experience.</span></span></p>
</div>
</body></html>