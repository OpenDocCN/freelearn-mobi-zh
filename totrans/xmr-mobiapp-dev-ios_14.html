<html><head></head><body>
  <div><div><div><div><h1 class="title"><a class="calibre1" id="ch14"/>Chapter 14. Testing and Publishing</h1>
        </div>
      </div>
    </div>

    <p class="calibre9">Your app is ready and waiting to be released to the entire world. You've sat there, coded, tested, coded, tested, and finally decided that you've created the most amazing app in the world and it's time to get it onto the Apple store. The problem is that only you have tested it. Unlike testing on Android, testing on iOS is not as straightforward and neither is getting your app into the store.</p>

    <p class="calibre9">In this chapter we will cover:</p>

    <div><ul class="itemizedlist">
        <li class="listitem">Provisioning and signing your app</li>

        <li class="listitem">Testing your app using TestFlight</li>

        <li class="listitem">Packaging and signing the app</li>

        <li class="listitem">Releasing it on the App Store</li>
      </ul>
    </div>

    <div><div><div><div><h1 class="title"><a class="calibre1" id="ch14lvl1sec59"/>Provisioning and signing your app</h1>
          </div>
        </div>
      </div>

      <p class="calibre9">For normal debugging to your own phone, it isn't usually required for you to sign the application because a generic developer code is used when you deploy to the phone. This code is known as a <a class="calibre1" id="id1021"/> <strong class="calibre2">provisioning profile</strong>. We're now moving into a bigger league and the app needs testing. You may wonder why your app needs to be tested by other people. The answer is easy: to ensure the best possible user experience.</p>

      <p class="calibre9">From the developer's perspective, a piece of software follows a set pattern: A goes to B, B goes to C, C goes to D or E, and so on. When we test our code, this is the path we take; users don't. They will go from A to C to F to B to C again and finally shout when the code takes exception and crashes for no reason while they try to go to H directly from C. The more people test your software before the release, the happier users are when they download the app from the <strong class="calibre2">Mac App Store</strong> and the fewer negative reviews get lodged against you.</p>

      <p class="calibre9">For testing, you have to distribute the app, and it's not as simple as uploading the app to your personal web space and saying, "Hey, go download and install" as you would for a typical desktop (or Android) application. Apple, to ensure the quality of the available apps, has a fairly strict and tight system for <a class="calibre1" id="id1022"/>distribution, even for testing. Luckily, there is a way to distribute your app prior to releasing it on the unsuspecting public: <em class="calibre15">TestFlight</em>.</p>
    </div>
  </div>


  <div><div><div><div><h1 class="title"><a class="calibre1" id="ch14lvl1sec60"/>TestFlight</h1>
        </div>
      </div>
    </div>

    <p class="calibre9"><code class="email">TestFlight</code> is a platform <a class="calibre1" id="id1023"/>that allows you to upload the test (or beta) versions of your software on invited users (iOS devices) or registered iOS devices. It is a free service that does not break any of Apple's rules or regulations and, moreover, does not require the device to be jailbroken. Setting up this service is a three-step process:</p>

    <div><ul class="itemizedlist">
        <li class="listitem">Provisioning</li>

        <li class="listitem">Inviting</li>

        <li class="listitem">Building and uploading</li>
      </ul>
    </div>

    <div><div><div><div><h2 class="title1"><a class="calibre1" id="ch14lvl2sec71"/>Provisioning</h2>
          </div>
        </div>
      </div>

      <p class="calibre9">Provisioning sets up the <a class="calibre1" id="id1024"/>device to <a class="calibre1" id="id1025"/>allow for the testing of non-Apple store approved applications. To start with, you need to set yourself up as an iOS developer at <a class="calibre1" href="http://developer.apple.com">http://developer.apple.com</a>—the cost is around $100 per year (about £65 at the time of writing). This is a yearly cost and you do get quite a bit for it. Once done, you will need to sign in and create an ID for your app.</p>

      <div><img alt="Provisioning" class="calibre11" src="img/00047.jpeg"/></div>

      <p class="calibre12"/>

      <div><div><div><div><h3 class="title2"><a class="calibre1" id="ch14lvl3sec123"/>Registering the app</h3>
            </div>
          </div>
        </div>

        <p class="calibre9">First, select <strong class="calibre2">Identifiers</strong>: you need to <a class="calibre1" id="id1026"/>give your app a name. In my example, given as <a class="calibre1" id="id1027"/>follows, I have filled in both the bundle name and the app name using a unique identifier—it's always a good idea to keep your apps apart. You can set up a "catch all" identifier here if you wish.</p>

        <div><img alt="Registering the app" class="calibre11" src="img/00048.jpeg"/></div>

        <p class="calibre12"/>

        <p class="calibre9">The grayed out area (in the preceding screenshot) will be the ID that Apple will provide you when you first create an account <a class="calibre1" id="id1028"/>with them.</p>

        <p class="calibre9">Once you're happy with the values (<a class="calibre1" id="id1029"/>unless you need the likes of push notifications or in-app purchases, you can just create the ID), you will need to confirm the details. Once they are confirmed, you will be presented with a page detailing all of your apps in development.</p>

        <div><img alt="Registering the app" class="calibre11" src="img/00049.jpeg"/></div>

        <p class="calibre12"/>
      </div>

      <div><div><div><div><h3 class="title2"><a class="calibre1" id="ch14lvl3sec124"/>Creating the developer profile</h3>
            </div>
          </div>
        </div>

        <p class="calibre9">Once you have created the <a class="calibre1" id="id1030"/>app <a class="calibre1" id="id1031"/>ID, you need to create a developer profile for it.</p>

        <div><ol class="orderedlist">
            <li class="listitem" value="1">On the left-side menu, click on <strong class="calibre2">Provisioning Profiles</strong> and then on <strong class="calibre2">Development</strong>. You will get the following screen:

              <div><img alt="Creating the developer profile" class="calibre11" src="img/00050.jpeg"/></div>

              <p class="calibre25"/>
            </li>

            <li class="listitem" value="2">Under <strong class="calibre2">Distribution</strong>, you need to select <strong class="calibre2">Ad Hoc</strong>. Click on <strong class="calibre2">Continue</strong>. The next couple of screens are simple to navigate.

              <div><img alt="Creating the developer profile" class="calibre11" src="img/00051.jpeg"/></div>

              <p class="calibre25"/>
            </li>

            <li class="listitem" value="3">From the dropdown, <a class="calibre1" id="id1032"/>select your app. Once it's done, click on <strong class="calibre2">Continue</strong>.</li>

            <li class="listitem" value="4">Next, you will be presented with a screen asking you to select the certificate you wish to sign the apps <a class="calibre1" id="id1033"/>with. The certificate is unique to you. If you don't have one, you can now create a new one quickly at this point.</li>
          </ol>

          <div></div>
      </div>

      <div><div><div><div><h3 class="title2"><a class="calibre1" id="ch14lvl3sec125"/>Creating your certificate</h3>
            </div>
          </div>
        </div>

        <p class="calibre9">Start Xcode and, under the <a class="calibre1" id="id1034"/> <strong class="calibre2">Window</strong> option, select <strong class="calibre2">Organizer</strong>. Next, select the <strong class="calibre2">Devices</strong> option. You will see a menu on the left. Scroll down to <strong class="calibre2">LIBRARY</strong> and select <strong class="calibre2">Provision Profiles</strong>. <a class="calibre1" id="id1035"/>You'll need to enter your Apple ID and password. Once done, click on the refresh icon. Xcode will inform you if you don't have a developer profile and give you the option to submit an application for creating one. Click the button with that option in. As soon as you submit the request, the certificate will be added to your keychain. Save the key somewhere safe and give it a username and password. That's it!</p>

        <p class="calibre9">You then need to download and install the certificate. On the left-side menu, click on <strong class="calibre2">Certificates</strong>. You will be given an option to load a <code class="email">.cert</code> file—this is the file you have just created. Upload the file and once you are done, you will see the following screenshot. Download the file, double-click on it to install, and the job is done. Your certificate is valid as long as you pay money to <a class="calibre1" id="id1036"/>Apple, <a class="calibre1" id="id1037"/>and it's all you need for development and distribution.</p>

        <div><img alt="Creating your certificate" class="calibre11" src="img/00052.jpeg"/></div>

        <p class="calibre12"/>
      </div>

      <div><div><div><div><h3 class="title2"><a class="calibre1" id="ch14lvl3sec126"/>Back to registering your app</h3>
            </div>
          </div>
        </div>

        <p class="calibre9">Once you have selected your <a class="calibre1" id="id1038"/>app, you can then select the devices it needs to go onto. If you have no devices, the page can be skipped and you can download the certificate. Once <a class="calibre1" id="id1039"/>downloaded, double-click on it, and the profile is installed.</p>
      </div>

      <div><div><div><div><h3 class="title2"><a class="calibre1" id="ch14lvl3sec127"/>Enabling TestFlight within Xamarin Studio</h3>
            </div>
          </div>
        </div>

        <p class="calibre9">Xamarin Studio <a class="calibre1" id="id1040"/>supports <code class="email">TestFlight</code>, out of the box. To enable <a class="calibre1" id="id1041"/>a build using Xamarin Studio, you need to set up the project correctly.</p>

        <p class="calibre9">Select your application under <strong class="calibre2">Project</strong>. Next, it needs to be enabled for <strong class="calibre2">AdHoc/Enterprise distribution</strong>. You will find this in the IPA section (check the tick box to enable it).</p>

        <p class="calibre9">Finally (for now), select the correct provisioning; here, it is <strong class="calibre2">Distribution (Automatic)</strong> and the name of the app certificate:</p>

        <div><img alt="Enabling TestFlight within Xamarin Studio" class="calibre11" src="img/00053.jpeg"/></div>

        <p class="calibre12"/>
      </div>
    </div>

    <div><div><div><div><h2 class="title1"><a class="calibre1" id="ch14lvl2sec72"/>Registering on TestFlight</h2>
          </div>
        </div>
      </div>

      <p class="calibre9">Signing up on <code class="email">TestFlight</code> is very <a class="calibre1" id="id1042"/>easy. Create an account and they will provide you with an app and team ID. Don't worry about remembering these since Xamarin Studio will pick up the values when you build out to <code class="email">TestFlight</code>.</p>
    </div>

    <div><div><div><div><h2 class="title1"><a class="calibre1" id="ch14lvl2sec73"/>Inviting and registering devices</h2>
          </div>
        </div>
      </div>

      <p class="calibre9">Once registered, you will <a class="calibre1" id="id1043"/>be invited to create a team. This is essential so you can invite <a class="calibre1" id="id1044"/>people to test your app. Click on the <strong class="calibre2">Create a new Team</strong> button, type in the name you want to give that area, and click on <strong class="calibre2">Save</strong>.</p>

      <div><img alt="Inviting and registering devices" class="calibre11" src="img/00054.jpeg"/></div>

      <p class="calibre12"/>

      <p class="calibre9">Next, you will be invited to upload a build. This is rather like asking for the car before you've taken lessons. Uploading a build here is pointless as no one will be able to install the app! For this to happen, the testers must have their devices registered on your developer provisioning profile, which <a class="calibre1" id="id1045"/>only happens once you've invited them.</p>

      <p class="calibre9">Before that, though, you have to <a class="calibre1" id="id1046"/>create an app. Click on the <strong class="calibre2">Apps</strong> link at the top of the page and then on <strong class="calibre2">Create an app</strong>. You will be presented with the following screen:</p>

      <div><img alt="Inviting and registering devices" class="calibre11" src="img/00055.jpeg"/></div>

      <p class="calibre12"/>

      <p class="calibre9"><strong class="calibre2">App Name</strong> is the common name for the app (for example, <code class="email">mywhizzoapp</code>). For sanity, keep <strong class="calibre2">BundleID</strong> the same as you have used on the adhoc provisioning profile (<code class="email">com.sporkish.mywhizzoapp</code>). You will need to add this to the application profile in Xamarin Studio (it's under <strong class="calibre2">Bundle</strong>). Once created and saved, you can start inviting people.</p>

      <p class="calibre9">Inviting and registering someone is very simple. On the <code class="email">TestFlight</code> website, click on the <strong class="calibre2">People</strong> option at the top. Next, create a new distribution list. These lists are very useful as it means with one account you can distribute a large number of apps to a large number of people.</p>

      <div><img alt="Inviting and registering devices" class="calibre11" src="img/00056.jpeg"/></div>

      <p class="calibre12"/>

      <p class="calibre9">Give the list a name and, as there is <a class="calibre1" id="id1047"/>only one person available (that is, you), select your profile, and click on <strong class="calibre2">Save</strong>.</p>

      <p class="calibre9">Next, you need to invite people. <a class="calibre1" id="id1048"/>On the left-side menu, click on <strong class="calibre2">Invitations</strong>. As there are no testers invited, you will be prompted to invite someone.</p>

      <div><img alt="Inviting and registering devices" class="calibre11" src="img/00057.jpeg"/></div>

      <p class="calibre12"/>

      <p class="calibre9">If the person you're inviting is also a developer in your team, turn <strong class="calibre2">ON</strong> the <strong class="calibre2">Team Developer</strong> option; otherwise, leave that <strong class="calibre2">OFF</strong>. Once you click on the <strong class="calibre2">Send Invitation</strong> button, an e-mail will be sent to the person, who will in turn, accept the invitation and register the device. You will receive an e-mail once this has been done.</p>

      <p class="calibre9">Copy the device <code class="email">UUID</code> (or if it has been sent by e-mail, you can upload the file sent containing the device <code class="email">UUID</code> code), and go to the Apple developer website. Log in and select <strong class="calibre2">Devices</strong>. Here you can add one <a class="calibre1" id="id1049"/>or more devices. Once added, go back to the <strong class="calibre2">Developer Provisioning</strong> option and <a class="calibre1" id="id1050"/>enable that device. You will need to re-download the provisioning file and open it again with Xcode, and then rebuild the app with the updated profile. Failing to do this will result in the user not being able to install the app.</p>
    </div>

    <div><div><div><div><h2 class="title1"><a class="calibre1" id="ch14lvl2sec74"/>Building to TestFlight</h2>
          </div>
        </div>
      </div>

      <p class="calibre9">Once you have made sure that <a class="calibre1" id="id1051"/>the <strong class="calibre2">BundleID</strong> in your project is the same as it is for the <strong class="calibre2">BundleID</strong> of <code class="email">TestFlight</code>, things become very easy.</p>

      <div><img alt="Building to TestFlight" class="calibre11" src="img/00058.jpeg"/></div>

      <p class="calibre12"/>

      <p class="calibre9">After you have completed entering the details (similar to the preceding screenshot), click on <strong class="calibre2">OK</strong> and set the build to <strong class="calibre2">Ad Hoc</strong>. Select <strong class="calibre2">Project</strong> and then the <code class="email">TestFlight</code> option.</p>

      <div><img alt="Building to TestFlight" class="calibre11" src="img/00059.jpeg"/></div>

      <p class="calibre12"/>

      <p class="calibre9">Initially, this window will be blank. Click on <strong class="calibre2">Get your API token</strong> and then <strong class="calibre2">Get your team token</strong>, which will launch your default web browser. Copy and paste these values into the <strong class="calibre2">API token</strong> and <strong class="calibre2">Team token</strong> fields on the <strong class="calibre2">Publish to TestFlight</strong> screen (as seen in preceding screenshot). Next, <a class="calibre1" id="id1052"/>provide some details of what changes are in the file, and finally select the distribution lists you've set up. Ensure that the top two tick boxes are ticked (it helps to let people know when something has been uploaded).</p>

      <p class="calibre9">When you're done, click on <strong class="calibre2">Publish</strong> and, assuming there are no build issues, the app will be sent to <code class="email">TestFlight</code> and the testers on the notified list.</p>

      <p class="calibre9">After a few weeks of testing, you should be ready to submit the app to Apple for distribution. This is the final step to getting your app approved, but there are some hurdles you need to be aware of.</p>
    </div>

    <div><div><div><div><h2 class="title1"><a class="calibre1" id="ch14lvl2sec75"/>Releasing your app</h2>
          </div>
        </div>
      </div>

      <p class="calibre9">Testing is complete and you've <a class="calibre1" id="id1053"/>ironed out a majority of the bugs. There may still be some <a class="calibre1" id="id1054"/>in there, but for now the app is behaving and you're ready to release it to the world.</p>

      <div><div><div><div><h3 class="title2"><a class="calibre1" id="ch14lvl3sec128"/>App checklist</h3>
            </div>
          </div>
        </div>

        <p class="calibre9">Before you submit your app to <a class="calibre1" id="id1055"/>Apple for release through their App Store, you must have the following in place:</p>

        <div><ul class="itemizedlist">
            <li class="listitem">The correct number and <a class="calibre1" id="id1056"/>size of icons (see below for the sizes)</li>

            <li class="listitem">The app needs to be correctly signed</li>

            <li class="listitem">Support for iPhone 5 must be included (this includes the widgets being correctly placed on the screen for the new larger visible area)</li>

            <li class="listitem">You've not used any private API or forbidden API calls (Apple does not want you using libraries that it does not control and will throw out apps that circumvent hardware or <a class="calibre1" id="id1057"/>software controls, or interfere with the operation of other software)</li>
          </ul>
        </div>
      </div>

      <div><div><div><div><h3 class="title2"><a class="calibre1" id="ch14lvl3sec129"/>Icon sizes</h3>
            </div>
          </div>
        </div>

        <p class="calibre9">All of the following <a class="calibre1" id="id1058"/>icons <em class="calibre15">must</em> be present with their correct sizes prior to submitting your app to Apple. The size of the icons (in pixels) are as follows:</p>

        <div><table border="1" class="calibre16">
            <colgroup class="calibre17">
              <col class="calibre18"/>
              <col class="calibre18"/>
              <col class="calibre18"/>
              <col class="calibre18"/>
              <col class="calibre18"/>
              <col class="calibre18"/>
              <col class="calibre18"/>
              <col class="calibre18"/>
            </colgroup>

            <tbody class="calibre23">
              <tr class="calibre20">
                <td class="calibre31" colspan="6" valign="top">
                  <p class="calibre22">iPhone</p>
                </td>

                <td class="calibre31" colspan="2" valign="top">
                  <p class="calibre22">iPad</p>
                </td>
              </tr>

              <tr class="calibre20">
                <td class="calibre31" colspan="6" valign="top"> </td>

                <td class="calibre31" colspan="2" valign="top"> </td>
              </tr>

              <tr class="calibre20">
                <td class="calibre24" rowspan="2" valign="top">
                  <p class="calibre22">App icons</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">Normal</p>
                </td>

                <td class="calibre31" colspan="2" valign="top">
                  <p class="calibre22">Retina</p>
                </td>

                <td class="calibre31" colspan="2" valign="top">
                  <p class="calibre22">iPad Compatibility</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">Normal</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">Retina</p>
                </td>
              </tr>

              <tr class="calibre20">
                <td class="calibre24" valign="top">
                  <p class="calibre22">57 x 57</p>
                </td>

                <td class="calibre31" colspan="2" valign="top">
                  <p class="calibre22">114 x 114</p>
                </td>

                <td class="calibre31" colspan="2" valign="top">
                  <p class="calibre22">72 x 72</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">72 x 72</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">144 x 144</p>
                </td>
              </tr>

              <tr class="calibre20">
                <td class="calibre31" colspan="6" valign="top"> </td>

                <td class="calibre31" colspan="2" valign="top"> </td>
              </tr>

              <tr class="calibre20">
                <td class="calibre24" rowspan="2" valign="top">
                  <p class="calibre22">Launch images</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">Normal</p>
                </td>

                <td class="calibre31" colspan="3" valign="top">
                  <p class="calibre22">Retina (3.5")</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">Retina (4")</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">Normal</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">Retina</p>
                </td>
              </tr>

              <tr class="calibre20">
                <td class="calibre24" valign="top">
                  <p class="calibre22">320 x 480</p>
                </td>

                <td class="calibre31" colspan="3" valign="top">
                  <p class="calibre22">640 x 960</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">640 x 1136</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">768 x 1024</p>
                </td>

                <td class="calibre24" valign="top">
                  <p class="calibre22">1536 x 2048</p>
                </td>
              </tr>

              <tr class="calibre20">
                <td class="calibre31" colspan="6" valign="top"> </td>

                <td class="calibre31" colspan="2" valign="top"> </td>
              </tr>

              <tr class="calibre20">
                <td class="calibre24" rowspan="2" valign="top">
                  <p class="calibre22">iTunes artwork</p>
                </td>

                <td class="calibre31" colspan="2" valign="top">
                  <p class="calibre22">Normal</p>
                </td>

                <td class="calibre31" colspan="3" valign="top">
                  <p class="calibre22">Retina</p>
                </td>

                <td class="calibre31" colspan="2" valign="top"> </td>
              </tr>

              <tr class="calibre20">
                <td class="calibre31" colspan="2" valign="top">
                  <p class="calibre22">512 x 512</p>
                </td>

                <td class="calibre31" colspan="3" valign="top">
                  <p class="calibre22">1024 x 1024</p>
                </td>

                <td class="calibre31" colspan="2" valign="top"> </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>


  <div><div><div><div><h1 class="title"><a class="calibre1" id="ch14lvl1sec61"/>Preparing to package</h1>
        </div>
      </div>
    </div>

    <p class="calibre9">With the icons in place, you <a class="calibre1" id="id1059"/>next need an App Store provisioning profile. This is set up in a way similar to a <strong class="calibre2">Developer</strong> or <strong class="calibre2">Ad Hoc</strong> provisioning file:</p>

    <div><img alt="Preparing to package" class="calibre11" src="img/00060.jpeg"/></div>

    <p class="calibre12"/>

    <p class="calibre9">The process for creating the <strong class="calibre2">App Store</strong> profile is similar to the <strong class="calibre2">Ad Hoc</strong> profile generation except that you're not asked which devices you want the test software to be installed on. Download the <a class="calibre1" id="id1060"/>provisioning file and install it as you did for the <strong class="calibre2">Ad Hoc</strong> profile. You will need to supply a name for the profile, though.</p>

    <div><div><div><div><h2 class="title1"><a class="calibre1" id="ch14lvl2sec76"/>Packaging your app</h2>
          </div>
        </div>
      </div>

      <p class="calibre9">Once you have created and <a class="calibre1" id="id1061"/>installed the provisioning profile, you next need to package the app for <a class="calibre1" id="id1062"/>distribution. This is not as straightforward as it may seem.</p>

      <p class="calibre9">You have already created a development certificate; you now need to repeat the process to generate a distribution certificate. The process for doing this is exactly the same as that for a development certificate. Once you have done this, install the certificate in your keychain.</p>

      <div><img alt="Packaging your app" class="calibre11" src="img/00061.jpeg"/></div>

      <p class="calibre12"/>

      <p class="calibre9">Once the certificate is <a class="calibre1" id="id1063"/>installed, <a class="calibre1" id="id1064"/>the next stage takes place in Xamarin Studio.</p>
    </div>

    <div><div><div><div><h2 class="title1"><a class="calibre1" id="ch14lvl2sec77"/>Creating the build configuration</h2>
          </div>
        </div>
      </div>

      <p class="calibre9">This is the profile you need for <a class="calibre1" id="id1065"/>creating your iOS application. Load the project <a class="calibre1" id="id1066"/>that you wish to submit. Navigate to <strong class="calibre2">Project</strong> | <strong class="calibre2">Solution Profile</strong>. On the left-hand side, click on the <strong class="calibre2">Configurations</strong> option, shown as follows:</p>

      <div><img alt="Creating the build configuration" class="calibre11" src="img/00062.jpeg"/></div>

      <p class="calibre12"/>

      <p class="calibre9">To add the profile (assuming it's not there), click on <strong class="calibre2">Add</strong>. You will be presented with a <strong class="calibre2">New Configuration</strong> box. You will <a class="calibre1" id="id1067"/>need to fill this in as shown. Once you've done this, click on <strong class="calibre2">OK</strong> and then click on <strong class="calibre2">OK</strong> <a class="calibre1" id="id1068"/>again to remove the <strong class="calibre2">Solution Options</strong> window.</p>

      <div><img alt="Creating the build configuration" class="calibre11" src="img/00063.jpeg"/></div>

      <p class="calibre12"/>

      <p class="calibre9">If the app you've created is universal (in other words, for iPhone and iPad), the platform should be universal. Failing that, for an iPad app, it will be just iPad for the platform.</p>

      <p class="calibre9">Next, the application needs to be signed. Navigate to <strong class="calibre2">Project</strong> | <strong class="calibre2">mywhizzoapp</strong> (or whatever your app is called). Under the <strong class="calibre2">Build</strong> option, select <strong class="calibre2">iOS build</strong> and choose your AppStore configuration. After this, select the iOS bundle signing option. For the Identity drop-down, set this to Distribution (automatic) and the provisioning profile to the one you created to distribute the app (not the <a class="calibre1" id="id1069"/>one created for distribution on TestFlight).</p>

      <p class="calibre9">Once this has been done, click on <a class="calibre1" id="id1070"/> <strong class="calibre2">OK</strong> to remove the window and set the build type for the app to <strong class="calibre2">AppStore</strong>.</p>

      <div><img alt="Creating the build configuration" class="calibre11" src="img/00064.jpeg"/></div>

      <p class="calibre12"/>

      <p class="calibre9">For safety, click on <strong class="calibre2">Build</strong> | <strong class="calibre2">Clean All</strong> and then <strong class="calibre2">Build</strong> | <strong class="calibre2">Build all</strong>. If everything works, we're in the App Store.</p>
    </div>
  </div>


  <div><div><div><div><h1 class="title"><a class="calibre1" id="ch14lvl1sec62"/>The App Store Submission Process</h1>
        </div>
      </div>
    </div>

    <p class="calibre9">The first step is to <a class="calibre1" id="id1071"/>create a record with <strong class="calibre2">iTunes Connect</strong> (<a class="calibre1" href="https://itunesconnect.apple.com">https://itunesconnect.apple.com</a>). This is a simple process. The description has to <a class="calibre1" id="id1072"/>reflect what the app can do (for example, you cannot submit a messenger application that is actually a game).</p>

    <p class="calibre9">Assuming that the record has been created correctly, click on the <strong class="calibre2">Ready To Upload</strong> binary button. You will be presented with a number of questions, and you can progress by answering them correctly. The last screen will tell you that the App Store is ready to upload and you can use the uploader facility. But <em class="calibre15">don't</em>. There is a simpler method via Xamarin Studio and Xcode, which has fewer issues. The first part is to create an archive.</p>

    <div><div><div><div><h2 class="title1"><a class="calibre1" id="ch14lvl2sec78"/>Creating an archive</h2>
          </div>
        </div>
      </div>

      <p class="calibre9">Navigate to <strong class="calibre2">Build</strong> | <strong class="calibre2">Archive</strong>. This will build the app and create an archive from it that is correctly provisioned <a class="calibre1" id="id1073"/>for distribution. Once the archive has been built, an <strong class="calibre2">Archive</strong> tab will appear in the code designer. Here you can look at any of the archives that you have created.</p>
    </div>

    <div><div><div><div><h2 class="title1"><a class="calibre1" id="ch14lvl2sec79"/>Submission via Xcode</h2>
          </div>
        </div>
      </div>

      <p class="calibre9">Start Xcode and navigate to <strong class="calibre2">Window</strong> | <strong class="calibre2">Organiser</strong>. Click on the <strong class="calibre2">Archives</strong> tab. You will be presented with a list of all <a class="calibre1" id="id1074"/>your apps for distribution. Select the one you wish to submit and you will see two options: <strong class="calibre2">Validate</strong> and <strong class="calibre2">Submit</strong>. Click on <strong class="calibre2">Validate</strong>. If there are no issues with the app, proceed to <strong class="calibre2">Submit</strong>. Typically, validation fails if there isn't a correct provisioning certificate applied to the app or the certificate can't be found. Fix the issue, rearchive, and validate again.</p>
    </div>

    <div><div><div><div><h2 class="title1"><a class="calibre1" id="ch14lvl2sec80"/>The submission wizard</h2>
          </div>
        </div>
      </div>

      <p class="calibre9">To guide you through the <a class="calibre1" id="id1075"/>process of submission, Apple has included a very simple-to-use submission wizard. You must ensure that you have a network connection for this stage and that the app is ready for upload.</p>

      <p class="calibre9">Click on <strong class="calibre2">Submit</strong>. Xcode communicates with <strong class="calibre2">iTunes Connect</strong> and retrieves a list of apps you have submitted for upload. Select the one you want to submit. Xcode will then upload the archive for you. Once uploaded, if you go back to <strong class="calibre2">iTunes Connect</strong>, you will see that the app is now waiting for approval. (Don't worry as this is largely an automated procedure.) Once approved, you're home and dry and your app is in the App Store.</p>
    </div>
  </div>


  <div><div><div><div><h1 class="title"><a class="calibre1" id="ch14lvl1sec63"/>Summary</h1>
        </div>
      </div>
    </div>

    <p class="calibre9">Testing and distribution of iOS applications may seem a waste of time, but at the end of the day, controlling who is testing your app allows you to pick and choose who you want to test the code. Moreover, it doesn't allow for versions to be leaked and in turn giving you a potentially bad name. Yes, it may seem very control-freaky, but that's the game Apple wants you to play, and if you want to distribute your apps with them, that's the game you have to play.</p>
  </div>
</body></html>