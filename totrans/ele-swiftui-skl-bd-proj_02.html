<html><head></head><body>
<div id="_idContainer062">
<h1 class="chapter-number" id="_idParaDest-40"><a id="_idTextAnchor246"/><span class="koboSpan" id="kobo.1.1">2</span></h1>
<h1 id="_idParaDest-41"><a id="_idTextAnchor247"/><span class="koboSpan" id="kobo.2.1">iPhone Project – Tax Calculator Design</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In the previous chapter, we did a recap of Swift and SwiftUI. </span><span class="koboSpan" id="kobo.3.2">We looked at the requirements, the coding standards used, and the basics of SwiftUI components. </span><span class="koboSpan" id="kobo.3.3">We will use these in the </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">following chapters.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">In this chapter, we will work on the design of our first project, a tax calculator. </span><span class="koboSpan" id="kobo.5.2">We will assess the requirements for designing such an application and discuss the design specifications, allowing us to get a better understanding of what is required and how it will all fit together. </span><span class="koboSpan" id="kobo.5.3">Then, we will start our application’s coding process to build out the UI, which will be connected together allowing the application to fully function in the next chapter. </span><span class="koboSpan" id="kobo.5.4">This project will teach us the foundations of SwiftUI components and how to interact with external code bases. </span><span class="koboSpan" id="kobo.5.5">We will discuss all of this in the </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">following sections:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.7.1">Technical Requirements</span></span></li>
<li><span class="koboSpan" id="kobo.8.1">Understanding the </span><span class="No-Break"><span class="koboSpan" id="kobo.9.1">Design Specifications</span></span></li>
<li><span class="koboSpan" id="kobo.10.1">Building the </span><span class="No-Break"><span class="koboSpan" id="kobo.11.1">Calculator UI</span></span></li>
</ul>
<p><a id="_idTextAnchor248"/><span class="koboSpan" id="kobo.12.1">By the end of this chapter, you will have a better understanding of what is required and the design of our application. </span><span class="koboSpan" id="kobo.12.2">You will also have a skeleton UI that will be used as the foundation for making the calculator work in the </span><span class="No-Break"><span class="koboSpan" id="kobo.13.1">next chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.14.1">In the next section, we will provide clarity on the specifications of our application’s design and look at mockups of what the app will </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">look like.</span></span></p>
<h1 id="_idParaDest-42"><a id="_idTextAnchor249"/><span class="koboSpan" id="kobo.16.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.17.1">This chapter requires you to download Xcode version 14 or above from Apple’s </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">App Store.</span></span></p>
<p><span class="koboSpan" id="kobo.19.1">To install Xcode, just search for </span><strong class="source-inline"><span class="koboSpan" id="kobo.20.1">Xcode</span></strong><span class="koboSpan" id="kobo.21.1"> in the App Store, then select and download the latest version. </span><span class="koboSpan" id="kobo.21.2">Open Xcode and follow any additional installation instructions. </span><span class="koboSpan" id="kobo.21.3">Once Xcode has opened and launched, you’re ready </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">to go.</span></span></p>
<p><span class="koboSpan" id="kobo.23.1">Version 14 of Xcode has the </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">following features/requirements:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.25.1">Includes SDKs for iOS 16, iPadOS 16, macOS 12.3, tvOS 16, and </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">watchOS 9.</span></span></li>
<li><span class="koboSpan" id="kobo.27.1">Supports on-device debugging in iOS 11 or later, tvOS 11 or later, and watchOS 4 </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">or later.</span></span></li>
<li><span class="koboSpan" id="kobo.29.1">Requires a Mac running macOS Monterey 12.5 </span><span class="No-Break"><span class="koboSpan" id="kobo.30.1">or later.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.31.1">Download the sample code from the following </span><span class="No-Break"><span class="koboSpan" id="kobo.32.1">GitHub link:</span></span></p>
<p><a href="https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects"><span class="No-Break"><span class="koboSpan" id="kobo.33.1">https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects</span></span></a></p>
<p><span class="koboSpan" id="kobo.34.1">In the next section, we will provide clarity on the specifications of our application’s design and look at mockups of what the app will </span><span class="No-Break"><span class="koboSpan" id="kobo.35.1">look like.</span></span></p>
<h1 id="_idParaDest-43"><a id="_idTextAnchor250"/><span class="koboSpan" id="kobo.36.1">Understanding the Design Specifications</span></h1>
<p><a id="_idTextAnchor251"/><span class="koboSpan" id="kobo.37.1">In this section, we will look at the design specifications</span><a id="_idIndexMarker086"/><span class="koboSpan" id="kobo.38.1"> of our tax calculator application. </span><span class="koboSpan" id="kobo.38.2">This section describes the features we are going to </span><a id="_idIndexMarker087"/><span class="koboSpan" id="kobo.39.1">implement in our tax calculator app. </span><span class="koboSpan" id="kobo.39.2">The best method for figuring out the features required is to put yourself in the user’s shoes to determine how they will use the app and break it into </span><span class="No-Break"><span class="koboSpan" id="kobo.40.1">individual steps.</span></span></p>
<p><span class="koboSpan" id="kobo.41.1">The features</span><a id="_idIndexMarker088"/><span class="koboSpan" id="kobo.42.1"> of our app are </span><span class="No-Break"><span class="koboSpan" id="kobo.43.1">as follows:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.44.1">Income entry – the ability to enter </span><span class="No-Break"><span class="koboSpan" id="kobo.45.1">an income.</span></span></li>
<li><span class="koboSpan" id="kobo.46.1">Salary summary – a summary of how much is going to be taxed and how much is left </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">as income.</span></span></li>
<li><span class="koboSpan" id="kobo.48.1">Tax breakdown – a breakdown of how much tax is paid on a given salary, that is, </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">tax brackets.</span></span></li>
<li><span class="koboSpan" id="kobo.50.1">Different taxes – the ability to calculate a breakdown for different types of taxes, such as income, property flipping, inheritance, and </span><span class="No-Break"><span class="koboSpan" id="kobo.51.1">stamp duty.</span></span></li>
<li><span class="koboSpan" id="kobo.52.1">Tax geography – the ability to calculate a breakdown for taxes in different geographies, including countries </span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">and states.</span></span></li>
<li><span class="koboSpan" id="kobo.54.1">Combination of the previous two – the ability to calculate a breakdown for different taxes in </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">different geographies.</span></span></li>
<li><span class="koboSpan" id="kobo.56.1">User system – allows users to create an account to store tax calculations, see how the tax has</span><a id="_idIndexMarker089"/><span class="koboSpan" id="kobo.57.1"> changed over time relative to new tax laws, and </span><span class="No-Break"><span class="koboSpan" id="kobo.58.1">so on.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.59.1">Now that we have listed the ideal features we would like, next, it is important for us to determine which features are absolutely crucial. </span><span class="koboSpan" id="kobo.59.2">To do this, we must understand the end use of our product. </span><span class="koboSpan" id="kobo.59.3">For me, the purpose of creating this tax calculator is not to release it and have it serve millions of people but to be a personal project for our use. </span><span class="koboSpan" id="kobo.59.4">It is to demonstrate a basic implementation of SwiftUI within the context of this book. </span><span class="koboSpan" id="kobo.59.5">Based on that, I know that all the features are not required; actually, it would be useful if some were omitted and assigned as extra tasks for you as the developer to undertake. </span><span class="koboSpan" id="kobo.59.6">Based on all of this, the following are the core features we will </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">be implementing:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.61.1">Income entry</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.62.1">Salary summary</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.63.1">Tax breakdown</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.64.1">The rest of the features will be left for you to implement as an exercise once you have completed this and the next chapter. </span><span class="koboSpan" id="kobo.64.2">The next section will cover the acceptance criteria for </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">our applicat</span><a id="_idTextAnchor252"/><span class="koboSpan" id="kobo.66.1">ion.</span></span></p>
<h2 id="_idParaDest-44"><a id="_idTextAnchor253"/><span class="koboSpan" id="kobo.67.1">Acceptance criteria</span></h2>
<p><span class="koboSpan" id="kobo.68.1">We will discuss the mandatory</span><a id="_idIndexMarker090"/><span class="koboSpan" id="kobo.69.1"> requirements for our application that we absolutely want to see in the end product at the end of the next chapter. </span><span class="koboSpan" id="kobo.69.2">If possible, we should try to make them measurable. </span><span class="koboSpan" id="kobo.69.3">Let’s do this </span><span class="No-Break"><span class="koboSpan" id="kobo.70.1">right now:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.71.1">Error detection:</span></span><ul><li><strong class="bold"><span class="koboSpan" id="kobo.72.1">Not a Number</span></strong><span class="koboSpan" id="kobo.73.1"> (</span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.74.1">NaN</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.75.1">) values</span></span></li><li><span class="koboSpan" id="kobo.76.1">Values that are equal to or less </span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">than 0</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.78.1">Provides the before- and </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">after-tax salaries</span></span></li>
<li><span class="koboSpan" id="kobo.80.1">A pie chart to illustrate the </span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">breakdown visually</span></span></li>
<li><span class="koboSpan" id="kobo.82.1">Progress bars to further expand upon </span><span class="No-Break"><span class="koboSpan" id="kobo.83.1">the breakdown</span></span></li>
<li><span class="koboSpan" id="kobo.84.1">Navigation to allow users to switch between the </span><span class="No-Break"><span class="koboSpan" id="kobo.85.1">pages effortle</span><a id="_idTextAnchor254"/><span class="koboSpan" id="kobo.86.1">ssly</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.87.1">Develop test cases</span><a id="_idIndexMarker091"/><span class="koboSpan" id="kobo.88.1"> in which the application’s acceptance criteria will be tested. </span><span class="koboSpan" id="kobo.88.2">Using this method allows you to see the conditions in which the application will be used by the end user and the level of functionality that needs to be attained for it to be </span><span class="No-Break"><span class="koboSpan" id="kobo.89.1">considered succes</span><a id="_idTextAnchor255"/><span class="koboSpan" id="kobo.90.1">sful.</span></span></p>
<h3><span class="koboSpan" id="kobo.91.1">Wireframe</span></h3>
<p><span class="koboSpan" id="kobo.92.1">One of the most useful tools for</span><a id="_idIndexMarker092"/><span class="koboSpan" id="kobo.93.1"> designing layouts is wireframing. </span><span class="koboSpan" id="kobo.93.2">A wireframe </span><a id="_idIndexMarker093"/><span class="koboSpan" id="kobo.94.1">is an overview of how the layout will look. </span><span class="koboSpan" id="kobo.94.2">The following figure shows what the front page of our app would look like using </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">a wireframe:</span></span></p>
<p class="IMG---Figure"/>
<div>
<div class="IMG---Figure" id="_idContainer022">
<span class="koboSpan" id="kobo.96.1"><img alt="Figure 2.1 – Front page wireframe preview" src="image/Figure_2.01_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.97.1">Figure 2.1 – Front page wireframe preview</span></p>
<p><span class="koboSpan" id="kobo.98.1">The </span><a id="_idIndexMarker094"/><span class="koboSpan" id="kobo.99.1">following figure shows the wireframe of what our results page would </span><span class="No-Break"><span class="koboSpan" id="kobo.100.1">look like:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer023">
<span class="koboSpan" id="kobo.101.1"><img alt="Figure 2.2 – Results page wireframe preview" src="image/Figure_2.02_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.102.1">Figure 2.2 – Results page wireframe preview</span></p>
<p><span class="koboSpan" id="kobo.103.1">In the next section, we will build the interface for our application and make sure it looks the way we designed it in the wireframes. </span><span class="koboSpan" id="kobo.103.2">Though we will build it the same way, there can be small differences. </span><span class="koboSpan" id="kobo.103.3">This will serve as the foundation for connecting it all together in the </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">next cha</span><a id="_idTextAnchor256"/><span class="koboSpan" id="kobo.105.1">pter.</span></span></p>
<h2 id="_idParaDest-45"><span class="koboSpan" id="kobo.106.1">Building the calcula</span><a id="_idTextAnchor257"/><span class="koboSpan" id="kobo.107.1">tor UI</span></h2>
<p><span class="koboSpan" id="kobo.108.1">We will now build the</span><a id="_idIndexMarker095"/><span class="koboSpan" id="kobo.109.1"> UI for the calculator app. </span><span class="koboSpan" id="kobo.109.2">There are two main parts to the calculator, the first being the front page, which is loaded on launch. </span><span class="koboSpan" id="kobo.109.3">Once the user inputs an income and hits </span><strong class="bold"><span class="koboSpan" id="kobo.110.1">Calculate Tax</span></strong><span class="koboSpan" id="kobo.111.1">, they are taken to the results page, which is the second part. </span><span class="koboSpan" id="kobo.111.2">On this page, the results of the tax calculation and a breakdown of it will be displayed. </span><span class="koboSpan" id="kobo.111.3">Naturally, we will start off with the first part, the front page, but before even that, we will create our project. </span><span class="koboSpan" id="kobo.111.4">Follow </span><span class="No-Break"><span class="koboSpan" id="kobo.112.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.113.1">Open Xcode and select </span><strong class="bold"><span class="koboSpan" id="kobo.114.1">Create a new </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.115.1">Xcode project</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer024">
<span class="koboSpan" id="kobo.117.1"><img alt="Figure 2.3 – Create a new Xcode project" src="image/Figure_2.03_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.118.1">Figure 2.3 – Create a new Xcode project</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.119.1">Now, we will choose the template for our application. </span><span class="koboSpan" id="kobo.119.2">As we are creating an iPhone application, we will select </span><strong class="bold"><span class="koboSpan" id="kobo.120.1">iOS</span></strong><span class="koboSpan" id="kobo.121.1"> from the top and then select </span><strong class="bold"><span class="koboSpan" id="kobo.122.1">App</span></strong><span class="koboSpan" id="kobo.123.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">click </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.125.1">Next</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer025">
<span class="koboSpan" id="kobo.127.1"><img alt="Figure 2.4 – Xcode project template selection" src="image/Figure_2.04_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.128.1">Figure 2.4 – Xcode project template selection</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.129.1">We will now </span><a id="_idIndexMarker096"/><span class="koboSpan" id="kobo.130.1">choose the options for our project. </span><span class="koboSpan" id="kobo.130.2">Here, there are only two crucial things to select/set. </span><span class="koboSpan" id="kobo.130.3">Make sure </span><strong class="bold"><span class="koboSpan" id="kobo.131.1">Interface</span></strong><span class="koboSpan" id="kobo.132.1"> is set to </span><strong class="bold"><span class="koboSpan" id="kobo.133.1">SwiftUI</span></strong><span class="koboSpan" id="kobo.134.1">; this will be the UI our system will use. </span><span class="koboSpan" id="kobo.134.2">Set </span><strong class="bold"><span class="koboSpan" id="kobo.135.1">Language</span></strong><span class="koboSpan" id="kobo.136.1"> to </span><strong class="bold"><span class="koboSpan" id="kobo.137.1">Swift</span></strong><span class="koboSpan" id="kobo.138.1">; this is the programming language used for </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">our application:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer026">
<span class="koboSpan" id="kobo.140.1"><img alt="Figure 2.5 – Xcode project options" src="image/B18783_02_5.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.141.1">Figure 2.5 – Xcode project options</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.142.1">Once you </span><a id="_idIndexMarker097"/><span class="koboSpan" id="kobo.143.1">press </span><strong class="bold"><span class="koboSpan" id="kobo.144.1">Next</span></strong><span class="koboSpan" id="kobo.145.1">, you can choose where to create your project, as seen in the following </span><span class="No-Break"><span class="koboSpan" id="kobo.146.1">screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer027">
<span class="koboSpan" id="kobo.147.1"><img alt="Figure 2.6 – Xcode project save directory" src="image/B18783_02_6.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.148.1">Figure 2.6 – Xcode project save directory</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.149.1">Once you have </span><a id="_idIndexMarker098"/><span class="koboSpan" id="kobo.150.1">found the location you would like to create the project in, click on </span><strong class="bold"><span class="koboSpan" id="kobo.151.1">Create</span></strong><span class="koboSpan" id="kobo.152.1"> at the bottom right. </span><span class="koboSpan" id="kobo.152.2">Xcode shows your project in all its glory, as seen in the </span><span class="No-Break"><span class="koboSpan" id="kobo.153.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer028">
<span class="koboSpan" id="kobo.154.1"><img alt="Figure 2.7 – New Xcode project overview" src="image/B18783_02_7.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.155.1">Figure 2.7 – New Xcode project overview</span></p>
<p><span class="koboSpan" id="kobo.156.1">In the next section, we</span><a id="_idIndexMarker099"/><span class="koboSpan" id="kobo.157.1"> will implement the front page of our application using SwiftUI and further look at the Xcode IDE as we </span><span class="No-Break"><span class="koboSpan" id="kobo.158.1">d</span><a id="_idTextAnchor258"/><span class="koboSpan" id="kobo.159.1">o so.</span></span></p>
<h3><span class="koboSpan" id="kobo.160.1">Front page</span></h3>
<p><span class="koboSpan" id="kobo.161.1">In this section, we</span><a id="_idIndexMarker100"/><span class="koboSpan" id="kobo.162.1"> will implement</span><a id="_idIndexMarker101"/><span class="koboSpan" id="kobo.163.1"> the front page’s UI. </span><span class="koboSpan" id="kobo.163.2">As a reminder, here is what it will </span><span class="No-Break"><span class="koboSpan" id="kobo.164.1">look like:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer029">
<span class="koboSpan" id="kobo.165.1"><img alt="Figure 2.8 – Front page wireframe p﻿review" src="image/B18783_02_8.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.166.1">Figure 2.8 – Front page wireframe p</span><a id="_idTextAnchor259"/><span class="koboSpan" id="kobo.167.1">review</span></p>
<p><span class="koboSpan" id="kobo.168.1">There</span><a id="_idIndexMarker102"/><span class="koboSpan" id="kobo.169.1"> are three main elements on the front page. </span><span class="koboSpan" id="kobo.169.2">As a little task, see</span><a id="_idIndexMarker103"/><span class="koboSpan" id="kobo.170.1"> whether you can figure out what they are. </span><span class="koboSpan" id="kobo.170.2">Don’t worry if you don’t know the exact UI component names; we will look at these components in the </span><span class="No-Break"><span class="koboSpan" id="kobo.171.1">following sections.</span></span></p>
<h3><span class="koboSpan" id="kobo.172.1">Text</span></h3>
<p><span class="koboSpan" id="kobo.173.1">A Text component</span><a id="_idIndexMarker104"/><span class="koboSpan" id="kobo.174.1"> is one of the simplest </span><a id="_idIndexMarker105"/><span class="koboSpan" id="kobo.175.1">components offered by SwiftUI. </span><span class="koboSpan" id="kobo.175.2">It allows you to display a string of characters/numbers, which is very useful for headings and providing information. </span><span class="koboSpan" id="kobo.175.3">We will use it to provide context to the next component, which is </span><strong class="source-inline"><span class="koboSpan" id="kobo.176.1">TextField</span></strong><span class="koboSpan" id="kobo.177.1">. </span><span class="koboSpan" id="kobo.177.2">Without the Text component, the user doesn’t know the purpose of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">TextField</span></strong><span class="koboSpan" id="kobo.179.1">. </span><span class="koboSpan" id="kobo.179.2">The following figure shows the label on the front page, telling the user what the following text input field is </span><span class="No-Break"><span class="koboSpan" id="kobo.180.1">used for:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer030">
<span class="koboSpan" id="kobo.181.1"><img alt="Figure 2.9 – Front ﻿page label" src="image/Figure_2.09_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.182.1">Figure 2.9 – Front </span><a id="_idTextAnchor260"/><span class="koboSpan" id="kobo.183.1">page label</span></p>
<h3><span class="koboSpan" id="kobo.184.1">TextField</span></h3>
<p><span class="koboSpan" id="kobo.185.1">TextFields allow</span><a id="_idIndexMarker106"/><span class="koboSpan" id="kobo.186.1"> the </span><a id="_idIndexMarker107"/><span class="koboSpan" id="kobo.187.1">user to input text that can consist of numbers and any character. </span><span class="koboSpan" id="kobo.187.2">Our TextField will be used to input a number, hence it will only accept numbers. </span><span class="koboSpan" id="kobo.187.3">This is a feature we will configure. </span><span class="koboSpan" id="kobo.187.4">Some applications put background text in the text field providing context to the purpose of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.188.1">TextField</span></strong><span class="koboSpan" id="kobo.189.1">; however, we have opted for a label component to provide context and do not require this. </span><span class="koboSpan" id="kobo.189.2">The following figure shows the </span><strong class="source-inline"><span class="koboSpan" id="kobo.190.1">TextField</span></strong><span class="koboSpan" id="kobo.191.1"> that the user can use to input </span><span class="No-Break"><span class="koboSpan" id="kobo.192.1">their salary:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer031">
<span class="koboSpan" id="kobo.193.1"><img alt="Figure 2.10 – Front pag﻿e TextField" src="image/Figure_2.10_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.194.1">Figure 2.10 – Front pag</span><a id="_idTextAnchor261"/><span class="koboSpan" id="kobo.195.1">e TextField</span></p>
<h3><span class="koboSpan" id="kobo.196.1">Button</span></h3>
<p><span class="koboSpan" id="kobo.197.1">Buttons</span><a id="_idIndexMarker108"/><span class="koboSpan" id="kobo.198.1"> are used when</span><a id="_idIndexMarker109"/><span class="koboSpan" id="kobo.199.1"> you want the user to explicitly trigger some functionality. </span><span class="koboSpan" id="kobo.199.2">In our case, we want the user to press the button when they are ready to calculate their tax calculation. </span><span class="koboSpan" id="kobo.199.3">Naturally, we as developers must error-check this to check whether the button can be pressed when the </span><strong class="source-inline"><span class="koboSpan" id="kobo.200.1">TextField</span></strong><span class="koboSpan" id="kobo.201.1"> is empty or if the wrong type of data has been inputted in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.202.1">TextField</span></strong><span class="koboSpan" id="kobo.203.1">. </span><span class="koboSpan" id="kobo.203.2">We will handle that with an error message instead of displaying the tax calculation. </span><span class="koboSpan" id="kobo.203.3">If you take a look at the following screenshot, you will see what this button </span><span class="No-Break"><span class="koboSpan" id="kobo.204.1">looks like:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer032">
<span class="koboSpan" id="kobo.205.1"><img alt="Figure 2.11 – Front page button" src="image/Figure_2.11_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.206.1">Figure 2.11 – Front page button</span></p>
<p><span class="koboSpan" id="kobo.207.1">In the next section, we will add the elements we discussed previously using SwiftUI into </span><span class="No-Break"><span class="koboSpan" id="kobo.208.1">our </span><a id="_idTextAnchor262"/><span class="koboSpan" id="kobo.209.1">application.</span></span></p>
<h3><span class="koboSpan" id="kobo.210.1">Adding Front Page Components</span></h3>
<p><span class="koboSpan" id="kobo.211.1">In this section, we will add the </span><a id="_idIndexMarker110"/><span class="koboSpan" id="kobo.212.1">components we </span><a id="_idIndexMarker111"/><span class="koboSpan" id="kobo.213.1">listed previously to create our front page. </span><span class="koboSpan" id="kobo.213.2">Look for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.214.1">ContentView</span></strong><span class="koboSpan" id="kobo.215.1"> file, which can be found in the </span><strong class="bold"><span class="koboSpan" id="kobo.216.1">Project navigator</span></strong><span class="koboSpan" id="kobo.217.1">, usually on the left, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.218.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer033">
<span class="koboSpan" id="kobo.219.1"><img alt="Figure 2.12 – Project navigator" src="image/B18783_02_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.220.1">Figure 2.12 – Project navigator</span></p>
<p><span class="koboSpan" id="kobo.221.1">See the following code and add it to the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.222.1">ContentView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.223.1"> file:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.224.1">
import SwiftUIstruct ContentView: View
{
    @State private var salary: String = ""
    var body: some View
    {
        VStack
        {
            Text( "Annual Salary" )
            TextField( "Salary", text: $salary )
            Button
            { }
            label:
            { Text("Calculate Tax") }
        }
        .padding( )
    }
}
struct ContentView_Previews: PreviewProvider
{
    static var previews: some View
    {
        ContentView( )
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.225.1">Using the</span><a id="_idIndexMarker112"/><span class="koboSpan" id="kobo.226.1"> preceding code, we are able to </span><a id="_idIndexMarker113"/><span class="koboSpan" id="kobo.227.1">render a </span><strong class="source-inline"><span class="koboSpan" id="kobo.228.1">Text</span></strong><span class="koboSpan" id="kobo.229.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.230.1">TextField</span></strong><span class="koboSpan" id="kobo.231.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.232.1">Button</span></strong><span class="koboSpan" id="kobo.233.1">. </span><span class="koboSpan" id="kobo.233.2">This will form the basis of allowing the user to enter their salary and click the button to calculate the tax breakdown. </span><span class="koboSpan" id="kobo.233.3">We use a variable called </span><strong class="source-inline"><span class="koboSpan" id="kobo.234.1">salary</span></strong><span class="koboSpan" id="kobo.235.1"> to store TextField’s data. </span><span class="koboSpan" id="kobo.235.2">Let’s take a look at the </span><span class="No-Break"><span class="koboSpan" id="kobo.236.1">end result:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer034">
<span class="koboSpan" id="kobo.237.1"><img alt="Figure 2.13 – Elements without styling preview" src="image/B18783_02_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.238.1">Figure 2.13 – Elements without styling preview</span></p>
<p><span class="koboSpan" id="kobo.239.1">As you can see, the </span><a id="_idIndexMarker114"/><strong class="source-inline"><span class="koboSpan" id="kobo.240.1">Text</span></strong><span class="koboSpan" id="kobo.241.1"> component looks pretty</span><a id="_idIndexMarker115"/><span class="koboSpan" id="kobo.242.1"> good, but the </span><strong class="source-inline"><span class="koboSpan" id="kobo.243.1">TextField</span></strong><span class="koboSpan" id="kobo.244.1"> has no obvious boundaries. </span><span class="koboSpan" id="kobo.244.2">I put a placeholder inside it as without it, the user wouldn’t even know where the </span><strong class="source-inline"><span class="koboSpan" id="kobo.245.1">TextField</span></strong><span class="koboSpan" id="kobo.246.1"> is. </span><span class="koboSpan" id="kobo.246.2">Next, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.247.1">Button</span></strong><span class="koboSpan" id="kobo.248.1"> has the wrong styling. </span><span class="koboSpan" id="kobo.248.2">Let’s fix both of these with the following </span><span class="No-Break"><span class="koboSpan" id="kobo.249.1">updated code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.250.1">
VStack{
    Text( "Annual Salary" )
    TextField( "", text: $salary )
        .border( Color.black, width: 1 )
    Button
    { }
    label:
    { Text("Calculate Tax") }
        .buttonStyle( .borderedProminent )
}
.padding( )</span></pre>
<p><span class="koboSpan" id="kobo.251.1">Using the preceding </span><a id="_idIndexMarker116"/><span class="koboSpan" id="kobo.252.1">code, we added a black border with </span><a id="_idIndexMarker117"/><span class="koboSpan" id="kobo.253.1">a width of </span><strong class="source-inline"><span class="koboSpan" id="kobo.254.1">1</span></strong><span class="koboSpan" id="kobo.255.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.256.1">TextField</span></strong><span class="koboSpan" id="kobo.257.1"> and removed the placeholder text. </span><span class="koboSpan" id="kobo.257.2">Next, we added a button style to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.258.1">Text</span></strong><span class="koboSpan" id="kobo.259.1"> component of the button. </span><span class="koboSpan" id="kobo.259.2">We used the </span><strong class="source-inline"><span class="koboSpan" id="kobo.260.1">borderedProminent</span></strong><span class="koboSpan" id="kobo.261.1"> style, which is exactly what we need. </span><span class="koboSpan" id="kobo.261.2">All these changes result in </span><span class="No-Break"><span class="koboSpan" id="kobo.262.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer035">
<span class="koboSpan" id="kobo.263.1"><img alt="Figure 2.14 – Updated code preview" src="image/B18783_02_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.264.1">Figure 2.14 – Updated code preview</span></p>
<p><span class="koboSpan" id="kobo.265.1">The </span><a id="_idIndexMarker118"/><span class="koboSpan" id="kobo.266.1">preview shows we are very close. </span><span class="koboSpan" id="kobo.266.2">For the</span><a id="_idIndexMarker119"/><span class="koboSpan" id="kobo.267.1"> type of data we are inserting into </span><strong class="source-inline"><span class="koboSpan" id="kobo.268.1">TextField</span></strong><span class="koboSpan" id="kobo.269.1">, it doesn’t need to be this wide. </span><span class="koboSpan" id="kobo.269.2">Let’s make it smaller. </span><span class="koboSpan" id="kobo.269.3">Modify </span><strong class="source-inline"><span class="koboSpan" id="kobo.270.1">TextField</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.271.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.272.1">
TextField( "", text: $salary )                .frame( width: 200.0 )
                .border( Color.black, width: 1 )</span></pre>
<p><span class="koboSpan" id="kobo.273.1">We have added a width of </span><strong class="source-inline"><span class="koboSpan" id="kobo.274.1">200</span></strong><span class="koboSpan" id="kobo.275.1"> to make the </span><strong class="source-inline"><span class="koboSpan" id="kobo.276.1">TextField</span></strong><span class="koboSpan" id="kobo.277.1"> look better suited for what we need. </span><span class="koboSpan" id="kobo.277.2">Thus far, we have changed the properties of our app’s components programmatically. </span><span class="koboSpan" id="kobo.277.3">However, you can use the Xcode UI to tweak the properties as well. </span><span class="koboSpan" id="kobo.277.4">Doing this is simple: select a component in the code by hovering the mouse cursor over it and clicking </span><a id="_idIndexMarker120"/><span class="koboSpan" id="kobo.278.1">the code as if you are going to edit it. </span><span class="koboSpan" id="kobo.278.2">Now, on the right, a pane including the </span><strong class="bold"><span class="koboSpan" id="kobo.279.1">Attributes Inspector</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.280.1">will appear.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer036">
<span class="koboSpan" id="kobo.281.1"><img alt="Figure 2.15 – Attributes Inspector" src="image/B18783_02_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.282.1">Figure 2.15 – Attributes Inspector</span></p>
<p><span class="koboSpan" id="kobo.283.1">If the </span><strong class="bold"><span class="koboSpan" id="kobo.284.1">Attributes Inspector</span></strong><span class="koboSpan" id="kobo.285.1"> pane</span><a id="_idIndexMarker121"/><span class="koboSpan" id="kobo.286.1"> doesn’t </span><a id="_idIndexMarker122"/><span class="koboSpan" id="kobo.287.1">appear, go to </span><strong class="bold"><span class="koboSpan" id="kobo.288.1">View</span></strong><span class="koboSpan" id="kobo.289.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.290.1">Inspectors</span></strong><span class="koboSpan" id="kobo.291.1"> | </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.292.1">Attributes</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.293.1">.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer037">
<span class="koboSpan" id="kobo.294.1"><img alt="Figure 2.16 – Opening Attributes Inspector manually" src="image/B18783_02_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.295.1">Figure 2.16 – Opening Attributes Inspector manually</span></p>
<p><span class="koboSpan" id="kobo.296.1">We are </span><a id="_idIndexMarker123"/><span class="koboSpan" id="kobo.297.1">almost done; we only have three UI</span><a id="_idIndexMarker124"/><span class="koboSpan" id="kobo.298.1"> components. </span><span class="koboSpan" id="kobo.298.2">The interface is currently quite compact. </span><span class="koboSpan" id="kobo.298.3">Let’s spread out the components to make it look nicer. </span><span class="koboSpan" id="kobo.298.4">Add the following code to space out </span><span class="No-Break"><span class="koboSpan" id="kobo.299.1">the components:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.300.1">
VStack{
    Text( "Annual Salary" )
        .padding(.bottom, 75.0)
    TextField( "", text: $salary )
        .frame( width: 200.0 )
        .border( Color.black, width: 1 )
        .padding( .bottom, 75.0 )
    Button
    { }
    label:
    { Text( "Calculate Tax" ) }
        .buttonStyle( .borderedProminent )
}
.padding( )</span></pre>
<p><span class="koboSpan" id="kobo.301.1">In the preceding code, we added</span><a id="_idIndexMarker125"/><span class="koboSpan" id="kobo.302.1"> padding at the bottom </span><a id="_idIndexMarker126"/><span class="koboSpan" id="kobo.303.1">of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.304.1">Text</span></strong><span class="koboSpan" id="kobo.305.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.306.1">TextField</span></strong><span class="koboSpan" id="kobo.307.1"> components to evenly spread all three items out. </span><span class="koboSpan" id="kobo.307.2">Feel free to experiment with the padding values to get the UI to feel like what you are </span><span class="No-Break"><span class="koboSpan" id="kobo.308.1">looking for.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.309.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.310.1">If you have four components and want to add padding to the top three, the formula would be </span><strong class="source-inline"><span class="koboSpan" id="kobo.311.1">n - 1</span></strong><span class="koboSpan" id="kobo.312.1"> in terms of the number of components that need padding to be evenly spread out. </span><strong class="source-inline"><span class="koboSpan" id="kobo.313.1">n</span></strong><span class="koboSpan" id="kobo.314.1"> is the total number </span><span class="No-Break"><span class="koboSpan" id="kobo.315.1">of components.</span></span></p>
<p><span class="koboSpan" id="kobo.316.1">Our front page now looks like </span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer038">
<span class="koboSpan" id="kobo.318.1"><img alt="Figure 2.17 – Preview with padding" src="image/B18783_02_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.319.1">Figure 2.17 – Preview with padding</span></p>
<p><span class="koboSpan" id="kobo.320.1">Right now, if we</span><a id="_idIndexMarker127"/><span class="koboSpan" id="kobo.321.1"> launch our app and click </span><a id="_idIndexMarker128"/><span class="koboSpan" id="kobo.322.1">the </span><strong class="source-inline"><span class="koboSpan" id="kobo.323.1">TextField</span></strong><span class="koboSpan" id="kobo.324.1">, a regular keyboard appears, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer039">
<span class="koboSpan" id="kobo.326.1"><img alt="Figure 2.18 – Front page of the regular keyboard preview" src="image/B18783_02_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.327.1">Figure 2.18 – Front page of the regular keyboard preview</span></p>
<p><span class="koboSpan" id="kobo.328.1">This is fine for a </span><a id="_idIndexMarker129"/><span class="koboSpan" id="kobo.329.1">field that requires text input </span><a id="_idIndexMarker130"/><span class="koboSpan" id="kobo.330.1">for names or addresses, but this field only requires a salary and therefore only needs numerical input. </span><span class="koboSpan" id="kobo.330.2">Let’s update our code to set the keyboard type </span><span class="No-Break"><span class="koboSpan" id="kobo.331.1">to </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.332.1">decimalPad</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.333.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.334.1">
TextField( "", text: $salary )    .frame( width: 200.0 )
    .border( Color.black, width: 1 )
    .padding( .bottom, 75.0 )
    .keyboardType( .decimalPad )</span></pre>
<p class="callout-heading"><span class="koboSpan" id="kobo.335.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.336.1">There is a </span><strong class="source-inline"><span class="koboSpan" id="kobo.337.1">numberPad</span></strong><span class="koboSpan" id="kobo.338.1"> option but it doesn’t allow the input of decimal numbers, so we will go ahead and use the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.339.1">decimalPad</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.340.1"> type.</span></span></p>
<p><span class="koboSpan" id="kobo.341.1">If you </span><a id="_idIndexMarker131"/><span class="koboSpan" id="kobo.342.1">run the app now, it will show </span><span class="No-Break"><span class="koboSpan" id="kobo.343.1">the </span></span><span class="No-Break"><a id="_idIndexMarker132"/></span><span class="No-Break"><span class="koboSpan" id="kobo.344.1">following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer040">
<span class="koboSpan" id="kobo.345.1"><img alt="Figure 2.19 – Front page decimal pad preview" src="image/B18783_02_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.346.1">Figure 2.19 – Front page decimal pad preview</span></p>
<p><span class="koboSpan" id="kobo.347.1">The keyboard type can also be changed in the </span><strong class="bold"><span class="koboSpan" id="kobo.348.1">Attributes Inspector</span></strong><span class="koboSpan" id="kobo.349.1">. </span><span class="koboSpan" id="kobo.349.2">This is a great place to quickly see all the available </span><span class="No-Break"><span class="koboSpan" id="kobo.350.1">keyboard types:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer041">
<span class="koboSpan" id="kobo.351.1"><img alt="Figure 2.20 – Keyboard Type" src="image/B18783_02_20.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.352.1">Figure 2.20 – Keyboard Type</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.353.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.354.1">For more information on keyboard types, check </span><span class="No-Break"><span class="koboSpan" id="kobo.355.1">out </span></span><a href="https://developer.apple.com/documentation/swiftui/view/keyboardtype(_:)"><span class="No-Break"><span class="koboSpan" id="kobo.356.1">https://developer.apple.com/documentation/swiftui/view/keyboardtype(_:)</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.357.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.358.1">If the keyboard </span><a id="_idIndexMarker133"/><span class="koboSpan" id="kobo.359.1">doesn’t show in the simulator, this </span><a id="_idIndexMarker134"/><span class="koboSpan" id="kobo.360.1">is due to the fact your Mac already has a keyboard and the simulator decides you don’t need it displayed. </span><span class="koboSpan" id="kobo.360.2">But this can be overridden. </span><span class="koboSpan" id="kobo.360.3">Either </span><span class="No-Break"><span class="koboSpan" id="kobo.361.1">use the</span></span>  <em class="italic"><span class="koboSpan" id="kobo.362.1"></span></em><em class="italic"><span class="koboSpan" id="kobo.363.1"> + K</span></em><span class="koboSpan" id="kobo.364.1"> keyboard shortcut to open and </span><em class="italic"><span class="koboSpan" id="kobo.365.1"></span></em><em class="italic"><span class="koboSpan" id="kobo.366.1">+ </span></em><em class="italic"><span class="koboSpan" id="kobo.367.1"></span></em><em class="italic"><span class="koboSpan" id="kobo.368.1"> + K</span></em><span class="koboSpan" id="kobo.369.1"> to close it, or go to </span><strong class="bold"><span class="koboSpan" id="kobo.370.1">I/O</span></strong><span class="koboSpan" id="kobo.371.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.372.1">Keyboard</span></strong><span class="koboSpan" id="kobo.373.1"> | </span><strong class="bold"><span class="koboSpan" id="kobo.374.1">Toggle </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.375.1">Software Keyboard</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.376.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer042">
<span class="koboSpan" id="kobo.377.1"><img alt="Figure 2.21 – Toggle Software Keyboard" src="image/B18783_02_21.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.378.1">Figure 2.21 – Toggle Software Keyboard</span></p>
<p><span class="koboSpan" id="kobo.379.1">Now the software</span><a id="_idIndexMarker135"/><span class="koboSpan" id="kobo.380.1"> keyboard in the simulator </span><a id="_idIndexMarker136"/><span class="koboSpan" id="kobo.381.1">will appear. </span><span class="koboSpan" id="kobo.381.2">This should only need to be done once. </span><span class="koboSpan" id="kobo.381.3">We have now completed the design for the front page. </span><span class="koboSpan" id="kobo.381.4">Currently, there is no functionality, but this will be implemented in the following chapter. </span><span class="koboSpan" id="kobo.381.5">But we are not done with the design. </span><span class="koboSpan" id="kobo.381.6">We will now implement the</span><a id="_idTextAnchor263"/><span class="koboSpan" id="kobo.382.1"> design for the </span><span class="No-Break"><span class="koboSpan" id="kobo.383.1">results page.</span></span></p>
<h3><span class="koboSpan" id="kobo.384.1">Implementing the results page</span></h3>
<p><span class="koboSpan" id="kobo.385.1">In this section, we will</span><a id="_idIndexMarker137"/><span class="koboSpan" id="kobo.386.1"> implement the results page’s UI. </span><span class="koboSpan" id="kobo.386.2">As a reminder, here is what it will </span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">look like:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer043">
<span class="koboSpan" id="kobo.388.1"><img alt="Figure 2.22 – Results page wireframe preview" src="image/B18783_02_22.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.389.1">Figure 2.22 – Results page wireframe preview</span></p>
<p><span class="koboSpan" id="kobo.390.1">There are three </span><a id="_idIndexMarker138"/><span class="koboSpan" id="kobo.391.1">main sections on the results page. </span><span class="koboSpan" id="kobo.391.2">Each section is composed of two or more components. </span><span class="koboSpan" id="kobo.391.3">As a little task, see whether you can figure out what they are. </span><span class="koboSpan" id="kobo.391.4">Don’t worry if you don’t know the exact UI component names as we will take a look at th</span><a id="_idTextAnchor264"/><span class="koboSpan" id="kobo.392.1">em in the </span><span class="No-Break"><span class="koboSpan" id="kobo.393.1">following sections.</span></span></p>
<h3><span class="koboSpan" id="kobo.394.1">Graph Summary Section</span></h3>
<p><span class="koboSpan" id="kobo.395.1">The graph summary section</span><a id="_idIndexMarker139"/><span class="koboSpan" id="kobo.396.1"> comprises two main components, a Text component and a pie chart. </span><span class="koboSpan" id="kobo.396.2">SwiftUI doesn’t provide a pie chart, so we will use an external library. </span><span class="koboSpan" id="kobo.396.3">We will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.397.1">ChartView</span></strong><span class="koboSpan" id="kobo.398.1"> library created by </span><em class="italic"><span class="koboSpan" id="kobo.399.1">Andras Samu</span></em><span class="koboSpan" id="kobo.400.1">, which can be found </span><span class="No-Break"><span class="koboSpan" id="kobo.401.1">here: </span></span><a href="https://github.com/AppPear/ChartView"><span class="No-Break"><span class="koboSpan" id="kobo.402.1">https://github.com/AppPear/ChartView</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.403.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.404.1">This section will visually showcase a simple break</span><a id="_idTextAnchor265"/><span class="koboSpan" id="kobo.405.1">down of the </span><span class="No-Break"><span class="koboSpan" id="kobo.406.1">tax calculation.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer044">
<span class="koboSpan" id="kobo.407.1"><img alt="Figure ﻿2.23 – Graph summary wireframe" src="image/B18783_02_23.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.408.1">Figure </span><a id="_idTextAnchor266"/><span class="koboSpan" id="kobo.409.1">2.23 – Graph summary wireframe</span></p>
<h3><span class="koboSpan" id="kobo.410.1">Text Summary Section</span></h3>
<p><span class="koboSpan" id="kobo.411.1">In the text summary section, there are </span><a id="_idIndexMarker140"/><span class="koboSpan" id="kobo.412.1">four text components. </span><span class="koboSpan" id="kobo.412.2">The first component informs the user that the following </span><strong class="source-inline"><span class="koboSpan" id="kobo.413.1">Text</span></strong><span class="koboSpan" id="kobo.414.1"> component is used to display the </span><strong class="bold"><span class="koboSpan" id="kobo.415.1">Before Tax</span></strong><span class="koboSpan" id="kobo.416.1"> salary title. </span><span class="koboSpan" id="kobo.416.2">The second component tells the user that the following text component is used to display the </span><strong class="bold"><span class="koboSpan" id="kobo.417.1">After Tax</span></strong><span class="koboSpan" id="kobo.418.1"> salary title. </span><span class="koboSpan" id="kobo.418.2">This does not include a breakdown of how the tax is split. </span><span class="koboSpan" id="kobo.418.3">This will come in the </span><span class="No-Break"><span class="koboSpan" id="kobo.419.1">next section:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer045">
<span class="koboSpan" id="kobo.420.1"><img alt="Figure﻿ 2.24 – Text summary wireframe" src="image/B18783_02_24.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.421.1">Figure</span><a id="_idTextAnchor267"/><span class="koboSpan" id="kobo.422.1"> 2.24 – Text summary wireframe</span></p>
<h3><span class="koboSpan" id="kobo.423.1">Individual breakdown section</span></h3>
<p><span class="koboSpan" id="kobo.424.1">The individual breakdown section</span><a id="_idIndexMarker141"/><span class="koboSpan" id="kobo.425.1"> displays how the tax and salary are broken down. </span><span class="koboSpan" id="kobo.425.2">There are six components, three </span><strong class="source-inline"><span class="koboSpan" id="kobo.426.1">Text</span></strong><span class="koboSpan" id="kobo.427.1"> components and three </span><strong class="source-inline"><span class="koboSpan" id="kobo.428.1">ProgressView</span></strong><span class="koboSpan" id="kobo.429.1"> components. </span><span class="koboSpan" id="kobo.429.2">Each is paired together to make three subsections, </span><strong class="bold"><span class="koboSpan" id="kobo.430.1">Base Salary</span></strong><span class="koboSpan" id="kobo.431.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.432.1">Tax</span></strong><span class="koboSpan" id="kobo.433.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.434.1">National Insurance</span></strong><span class="koboSpan" id="kobo.435.1">. </span><span class="koboSpan" id="kobo.435.2">This design is simple but extendible. </span><span class="koboSpan" id="kobo.435.3">Once it is created, I give you the task of adding further breakdowns of the tax, such as student loans </span><span class="No-Break"><span class="koboSpan" id="kobo.436.1">and pension:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer046">
<span class="koboSpan" id="kobo.437.1"><img alt="Figure 2.25 – Individual breakdown wireframe" src="image/B18783_02_25.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.438.1">Figure 2.25 – Individual breakdown wireframe</span></p>
<p><span class="koboSpan" id="kobo.439.1">In the next section, we will add the elements that make up the results page be</span><a id="_idTextAnchor268"/><span class="koboSpan" id="kobo.440.1">fore wrapping up </span><span class="No-Break"><span class="koboSpan" id="kobo.441.1">this chapter.</span></span></p>
<h3><span class="koboSpan" id="kobo.442.1">Adding results page components</span></h3>
<p><span class="koboSpan" id="kobo.443.1">In this section, we will</span><a id="_idIndexMarker142"/><span class="koboSpan" id="kobo.444.1"> add the previously discussed components to our results page. </span><span class="koboSpan" id="kobo.444.2">However, firstly we must integrate the </span><strong class="source-inline"><span class="koboSpan" id="kobo.445.1">ChartView</span></strong><span class="koboSpan" id="kobo.446.1"> framework by </span><em class="italic"><span class="koboSpan" id="kobo.447.1">Andras Samu</span></em><span class="koboSpan" id="kobo.448.1">. </span><span class="koboSpan" id="kobo.448.2">Follow </span><span class="No-Break"><span class="koboSpan" id="kobo.449.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.450.1">Go to </span><strong class="bold"><span class="koboSpan" id="kobo.451.1">File | </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.452.1">Add Packages…</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer047">
<span class="koboSpan" id="kobo.454.1"><img alt="Figure 2.26 – Xcode Add Packages… option" src="image/B18783_02_26.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.455.1">Figure 2.26 – Xcode Add Packages… option</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.456.1">Search for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.457.1">ChartView</span></strong><span class="koboSpan" id="kobo.458.1"> framework using the following </span><span class="No-Break"><span class="koboSpan" id="kobo.459.1">URL: </span></span><a href="https://github.com/AppPear/ChartView"><span class="No-Break"><span class="koboSpan" id="kobo.460.1">https://github.com/AppPear/ChartView</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.461.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.462.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.463.1">Exact Version</span></strong><span class="koboSpan" id="kobo.464.1"> from the </span><strong class="bold"><span class="koboSpan" id="kobo.465.1">Dependency Rule</span></strong><span class="koboSpan" id="kobo.466.1"> dropdown and set the text input to </span><strong class="source-inline"><span class="koboSpan" id="kobo.467.1">2.0.0-beta.2</span></strong><span class="koboSpan" id="kobo.468.1">, or whatever the latest version is for you. </span><span class="koboSpan" id="kobo.468.2">Then, click </span><strong class="bold"><span class="koboSpan" id="kobo.469.1">Add Package</span></strong><span class="koboSpan" id="kobo.470.1"> at the bottom right. </span><span class="koboSpan" id="kobo.470.2">It is grayed out in mine as I have already </span><span class="No-Break"><span class="koboSpan" id="kobo.471.1">added it:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer048">
<span class="koboSpan" id="kobo.472.1"><img alt="Figure 2.27 – Search for the ChartView package" src="image/B18783_02_27.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.473.1">Figure 2.27 – Search for the ChartView package</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.474.1">Clicking on </span><strong class="bold"><span class="koboSpan" id="kobo.475.1">Add Package</span></strong><span class="koboSpan" id="kobo.476.1"> will add the package to the </span><span class="No-Break"><span class="koboSpan" id="kobo.477.1">project successfully.</span></span></li>
<li><span class="koboSpan" id="kobo.478.1">We will now </span><a id="_idIndexMarker143"/><span class="koboSpan" id="kobo.479.1">create a new SwiftUI View for the results page. </span><span class="koboSpan" id="kobo.479.2">Right-click the calculator folder inside of your </span><strong class="bold"><span class="koboSpan" id="kobo.480.1">Project Navigator</span></strong><span class="koboSpan" id="kobo.481.1"> pane and select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.482.1">New File…</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.483.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer049">
<span class="koboSpan" id="kobo.484.1"><img alt="Figure 2.28 – New File…" src="image/B18783_02_28.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.485.1">Figure 2.28 – New File…</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.486.1">Next, we will </span><a id="_idIndexMarker144"/><span class="koboSpan" id="kobo.487.1">select the type of file we want to add, which for us is a SwiftUI View (selecting this provides a SwiftUI template, which saves us time and effort retyping the SwiftUI file structure every time), under the </span><strong class="bold"><span class="koboSpan" id="kobo.488.1">User </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.489.1">Interface</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.490.1"> section:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer050">
<span class="koboSpan" id="kobo.491.1"><img alt="Figure 2.29 – SwiftUI View selection" src="image/B18783_02_29.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.492.1">Figure 2.29 – SwiftUI View selection</span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.493.1">Finally, we</span><a id="_idIndexMarker145"/><span class="koboSpan" id="kobo.494.1"> must rename our </span><strong class="bold"><span class="koboSpan" id="kobo.495.1">SwiftUI View</span></strong><span class="koboSpan" id="kobo.496.1">. </span><span class="koboSpan" id="kobo.496.2">Let’s name it </span><strong class="source-inline"><span class="koboSpan" id="kobo.497.1">ResultsView</span></strong><span class="koboSpan" id="kobo.498.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.499.1">press </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.500.1">Create</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.501.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer051">
<span class="koboSpan" id="kobo.502.1"><img alt="Figure 2.30 – View naming" src="image/B18783_02_30.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.503.1">Figure 2.30 – View naming</span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.504.1">Open the </span><strong class="source-inline"><span class="koboSpan" id="kobo.505.1">ResultsView</span></strong><span class="koboSpan" id="kobo.506.1"> file and import the </span><strong class="source-inline"><span class="koboSpan" id="kobo.507.1">SwiftUICharts</span></strong><span class="koboSpan" id="kobo.508.1"> framework by adding the following code to the top of </span><span class="No-Break"><span class="koboSpan" id="kobo.509.1">the file:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.510.1">
import SwiftUICharts</span></pre></li> <li><span class="koboSpan" id="kobo.511.1">Next, we need to</span><a id="_idIndexMarker146"/><span class="koboSpan" id="kobo.512.1"> create the chart itself. </span><span class="koboSpan" id="kobo.512.2">Doing so is very simple, thanks to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.513.1">ChartView</span></strong><span class="koboSpan" id="kobo.514.1"> library. </span><span class="koboSpan" id="kobo.514.2">First, add the data the chart will be using. </span><span class="koboSpan" id="kobo.514.3">For now, we will add some dummy hardcoded data </span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">for testing:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.516.1">
struct ResultsView: View{    var taxBreakdown: [Double] = [5, 10, 15]    var body: some View    {    }}</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.517.1">The values in the array will represent the base salary, tax, and </span><span class="No-Break"><span class="koboSpan" id="kobo.518.1">national insurance.</span></span></p>
<ol>
<li value="10"><span class="koboSpan" id="kobo.519.1">Next, we </span><a id="_idIndexMarker147"/><span class="koboSpan" id="kobo.520.1">will implement our pie chart </span><span class="No-Break"><span class="koboSpan" id="kobo.521.1">using </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.522.1">ChartView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.524.1">
struct ResultsView: View{    var taxBreakdown: [Double] = [5, 10, 15]    var body: some View    {        PieChart( )            .data( taxBreakdown )            .chartStyle( ChartStyle( backgroundColor: .white,                                     foregroundColor: ColorGradient( .blue, .purple) ) )    }}</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.525.1">The preceding code will result in </span><span class="No-Break"><span class="koboSpan" id="kobo.526.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer052">
<span class="koboSpan" id="kobo.527.1"><img alt="Figure 2.31 – Pie chart added" src="image/B18783_02_31.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.528.1">Figure 2.31 – Pie chart added</span></p>
<ol>
<li value="11"><span class="koboSpan" id="kobo.529.1">To view the </span><strong class="source-inline"><span class="koboSpan" id="kobo.530.1">ResultsView</span></strong><span class="koboSpan" id="kobo.531.1">, you </span><a id="_idIndexMarker148"/><span class="koboSpan" id="kobo.532.1">will need to use the </span><strong class="bold"><span class="koboSpan" id="kobo.533.1">Live Preview Window</span></strong><span class="koboSpan" id="kobo.534.1">. </span><span class="koboSpan" id="kobo.534.2">By default, it should appear. </span><span class="koboSpan" id="kobo.534.3">If it doesn’t, use the following keyboard shortcut: </span><em class="italic"><span class="koboSpan" id="kobo.535.1">       +      + Return</span></em><span class="koboSpan" id="kobo.536.1">. </span><span class="koboSpan" id="kobo.536.2">Now, Xcode will look like the </span><span class="No-Break"><span class="koboSpan" id="kobo.537.1">following screenshot:</span></span><div class="IMG---Figure" id="_idContainer053"><span class="koboSpan" id="kobo.538.1"><img alt="" role="presentation" src="image/03.jpg"/></span></div><div class="IMG---Figure" id="_idContainer054"><span class="koboSpan" id="kobo.539.1"><img alt="" role="presentation" src="image/01.jpg"/></span></div></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer055">
<span class="koboSpan" id="kobo.540.1"><img alt="Figure 2.32 – Live preview window location" src="image/B18783_02_32.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.541.1">Figure 2.32 – Live preview window location</span></p>
<ol>
<li value="12"><span class="koboSpan" id="kobo.542.1">Right now, the pie</span><a id="_idIndexMarker149"/><span class="koboSpan" id="kobo.543.1"> chart goes up to the edges. </span><span class="koboSpan" id="kobo.543.2">Let’s put the pie chart inside a VStack with padding. </span><span class="koboSpan" id="kobo.543.3">Edit the code </span><span class="No-Break"><span class="koboSpan" id="kobo.544.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.545.1">
struct ResultsView: View{    var taxBreakdown: [Double] = [5, 10, 15]    var body: some View    {        VStack        {            PieChart( )                .data( taxBreakdown )                .chartStyle( ChartStyle( backgroundColor: .white,                                         foregroundColor: ColorGradient( .blue, .purple ) ) )        }.padding( )    }}</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.546.1">The changes in the </span><a id="_idIndexMarker150"/><span class="koboSpan" id="kobo.547.1">preceding code will now make the chart look like </span><span class="No-Break"><span class="koboSpan" id="kobo.548.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer056">
<span class="koboSpan" id="kobo.549.1"><img alt="Figure 2.33 – Pie chart with padding" src="image/B18783_02_33.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.550.1">Figure 2.33 – Pie chart with padding</span></p>
<ol>
<li value="13"><span class="koboSpan" id="kobo.551.1">Let’s add a</span><a id="_idIndexMarker151"/> <strong class="source-inline"><span class="koboSpan" id="kobo.552.1">Text</span></strong><span class="koboSpan" id="kobo.553.1"> component that says </span><strong class="bold"><span class="koboSpan" id="kobo.554.1">Summary</span></strong><span class="koboSpan" id="kobo.555.1"> above the pie chart. </span><span class="koboSpan" id="kobo.555.2">But as it will be a header, we will make it bold and set the font size to </span><strong class="source-inline"><span class="koboSpan" id="kobo.556.1">36</span></strong><span class="koboSpan" id="kobo.557.1">. </span><span class="koboSpan" id="kobo.557.2">Add the following code to </span><span class="No-Break"><span class="koboSpan" id="kobo.558.1">the body:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.559.1">
var body: some View{    VStack    {        Text( "Summary" )            .font( .system( size: 36 ) )            .fontWeight( .bold )        PieChart( )            .data( taxBreakdown )            .chartStyle( ChartStyle( backgroundColor: .white,                                     foregroundColor: ColorGradient(.blue, .purple ) ) )    }.padding( )}</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.560.1">The following output shows the new summary text above the pie chart that we </span><span class="No-Break"><span class="koboSpan" id="kobo.561.1">added previously.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer057">
<span class="koboSpan" id="kobo.562.1"><img alt="Figure 2.34 – Summary header" src="image/B18783_02_34.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.563.1">Figure 2.34 – Summary header</span></p>
<ol>
<li value="14"><span class="koboSpan" id="kobo.564.1">Below the </span><a id="_idIndexMarker152"/><span class="koboSpan" id="kobo.565.1">pie chart, we will add four more text components, for </span><strong class="bold"><span class="koboSpan" id="kobo.566.1">Before Tax</span></strong><span class="koboSpan" id="kobo.567.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.568.1">After Tax</span></strong><span class="koboSpan" id="kobo.569.1">: one for the heading of each subsection and one for the actual figure. </span><span class="koboSpan" id="kobo.569.2">For now, we will hardcode the values. </span><span class="koboSpan" id="kobo.569.3">Update the code </span><span class="No-Break"><span class="koboSpan" id="kobo.570.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.571.1">
var body: some View{    VStack    {        Text( "Summary" )            .font( .system( size: 36 ) )            .fontWeight( .bold )        PieChart( )            .data( taxBreakdown )            .chartStyle( ChartStyle( backgroundColor: .white,                                     foregroundColor: ColorGradient(.blue, .purple ) ) )        Text( "Before Tax" )            .font( .system( size: 32 ) )        Text( "£100,000.00" )            .font( .system( size: 32 ) )        Text( "After Tax" )            .font( .system( size: 32 ) )        Text( "£65,000.00" )            .font( .system( size: 32 ) )    }.padding( )}</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.572.1">The </span><a id="_idIndexMarker153"/><span class="koboSpan" id="kobo.573.1">preceding code will display </span><span class="No-Break"><span class="koboSpan" id="kobo.574.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer058">
<span class="koboSpan" id="kobo.575.1"><img alt="Figure 2.35 – Before Tax and After Tax text" src="image/B18783_02_35.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.576.1">Figure 2.35 – Before Tax and After Tax text</span></p>
<ol>
<li value="15"><span class="koboSpan" id="kobo.577.1">Right now, the </span><a id="_idIndexMarker154"/><span class="koboSpan" id="kobo.578.1">text components on the bottom of the page are crammed together. </span><span class="koboSpan" id="kobo.578.2">Let’s add padding to the top and bottom of each text component to spread them out. </span><span class="koboSpan" id="kobo.578.3">You can obviously use the </span><strong class="bold"><span class="koboSpan" id="kobo.579.1">Attributes Inspector</span></strong><span class="koboSpan" id="kobo.580.1"> to do this, but we will do </span><span class="No-Break"><span class="koboSpan" id="kobo.581.1">it programmatically:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.582.1">
Text( "Before Tax" )    .font( .system( size: 32 ) )    .padding(.vertical)Text( "£100,000.00" )    .font( .system( size: 32 ) )    .padding(.vertical)Text( "After Tax" )    .font( .system( size: 32 ) )    .padding(.vertical)Text( "£65,000.00" )    .font( .system( size: 32 ) )    .padding(.vertical)</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.583.1">After adding the </span><a id="_idIndexMarker155"/><span class="koboSpan" id="kobo.584.1">padding in the preceding code, we will have a results page that looks </span><span class="No-Break"><span class="koboSpan" id="kobo.585.1">like this:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer059">
<span class="koboSpan" id="kobo.586.1"><img alt="Figure 2.36 – Results after padding" src="image/B18783_02_36.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.587.1">Figure 2.36 – Results after padding</span></p>
<ol>
<li value="16"><span class="koboSpan" id="kobo.588.1">Next, we need to</span><a id="_idIndexMarker156"/><span class="koboSpan" id="kobo.589.1"> add the progress bars, which will represent the salary, tax, and national insurance. </span><span class="koboSpan" id="kobo.589.2">We will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.590.1">ProgressView</span></strong><span class="koboSpan" id="kobo.591.1"> component combined with a </span><strong class="source-inline"><span class="koboSpan" id="kobo.592.1">Text</span></strong><span class="koboSpan" id="kobo.593.1"> component to display the tax breakdown. </span><span class="koboSpan" id="kobo.593.2">After the previously added </span><strong class="source-inline"><span class="koboSpan" id="kobo.594.1">Text</span></strong><span class="koboSpan" id="kobo.595.1"> components, add the </span><span class="No-Break"><span class="koboSpan" id="kobo.596.1">following code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.597.1">
Text( "Post Tax Salary" )ProgressView( "", value: 20, total: 100 )Text( "Tax" )ProgressView( "", value: 20, total: 100 )</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.598.1">The preceding</span><a id="_idIndexMarker157"/><span class="koboSpan" id="kobo.599.1"> code adds the two </span><strong class="source-inline"><span class="koboSpan" id="kobo.600.1">ProgressView</span></strong><span class="koboSpan" id="kobo.601.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.602.1">Text</span></strong><span class="koboSpan" id="kobo.603.1"> component pairs, which shows the post-tax salary and tax. </span><span class="koboSpan" id="kobo.603.2">This will result in </span><span class="No-Break"><span class="koboSpan" id="kobo.604.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer060">
<span class="koboSpan" id="kobo.605.1"><img alt="Figure 2.37 – Breakdown components added" src="image/B18783_02_37.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.606.1">Figure 2.37 – Breakdown components added</span></p>
<ol>
<li value="17"><span class="koboSpan" id="kobo.607.1">You have probably noticed that we only added two of the three </span><strong class="source-inline"><span class="koboSpan" id="kobo.608.1">ProgressView</span></strong><span class="koboSpan" id="kobo.609.1"> components. </span><span class="koboSpan" id="kobo.609.2">The reason for this is to showcase an error that occurs. </span><span class="koboSpan" id="kobo.609.3">So, now add the following code after the previously </span><span class="No-Break"><span class="koboSpan" id="kobo.610.1">added code:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.611.1">
Text( "National Insurance" )ProgressView( "", value: 20, total: 100 )</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.612.1">This will result in the following error: </span><strong class="bold"><span class="koboSpan" id="kobo.613.1">Extra arguments at positions #11, #12 in call</span></strong><span class="koboSpan" id="kobo.614.1">. </span><span class="koboSpan" id="kobo.614.2">This is because you cannot have more than 10 components displayed. </span><span class="koboSpan" id="kobo.614.3">But there is space, so how do we get around this? </span><span class="koboSpan" id="kobo.614.4">The solution is simple. </span><span class="koboSpan" id="kobo.614.5">The limit of 10 is for components, not components within components. </span><span class="koboSpan" id="kobo.614.6">Put basically, we can group multiple components using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.615.1">Group</span></strong><span class="koboSpan" id="kobo.616.1"> component, which will make the </span><a id="_idIndexMarker158"/><span class="koboSpan" id="kobo.617.1">view detect it </span><span class="No-Break"><span class="koboSpan" id="kobo.618.1">as one.</span></span></p>
<ol>
<li value="18"><span class="koboSpan" id="kobo.619.1">We will group the three </span><strong class="source-inline"><span class="koboSpan" id="kobo.620.1">ProgressView</span></strong><span class="koboSpan" id="kobo.621.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.622.1">Text</span></strong><span class="koboSpan" id="kobo.623.1"> components </span><span class="No-Break"><span class="koboSpan" id="kobo.624.1">as follows:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.625.1">
Group{    Text( "Post Tax Salary" )    ProgressView( "", value: 20, total: 100 )    Text( "Tax" )    ProgressView( "", value: 20, total: 100 )    Text( "National Insurance" )    ProgressView( "", value: 20, total: 100 )}</span></pre></li> </ol>
<p><span class="koboSpan" id="kobo.626.1">This will solve the annoying 10-limit error and result in </span><span class="No-Break"><span class="koboSpan" id="kobo.627.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer061">
<span class="koboSpan" id="kobo.628.1"><img alt="Figure 2.38 – Components grouped" src="image/B18783_02_38.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.629.1">Figure 2.38 – Components grouped</span></p>
<p><span class="koboSpan" id="kobo.630.1">Here is a look at </span><a id="_idIndexMarker159"/><span class="koboSpan" id="kobo.631.1">the whole code now that we are finished with </span><span class="No-Break"><span class="koboSpan" id="kobo.632.1">this section:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.633.1">
import SwiftUIimport SwiftUICharts
struct ResultsView: View
{
    var taxBreakdown: [Double] = [5, 10, 15]
    var body: some View
    {
        VStack
        {
            Text( "Summary" )
                .font( .system( size: 36 ) )
                .fontWeight( .bold )
            PieChart( )
                .data( taxBreakdown )
                .chartStyle( ChartStyle( backgroundColor: .white,
                                         foregroundColor: ColorGradient( .blue, .purple ) ) )
            Text( "Before Tax" )
                .font( .system( size: 32 ) )
                .padding(.vertical)
            Text( "£100,000.00" )
                .font( .system( size: 32 ) )
                .padding(.vertical)
            Text( "After Tax" )
                .font( .system( size: 32 ) )
                .padding(.vertical)
            Text( "£65,000.00" )
                .font( .system( size: 32 ) )
                .padding(.vertical)
            Group
            {
                Text( "Post Tax Salary" )
                ProgressView( "", value: 20, total: 100 )
                Text( "Tax" )
                ProgressView( "", value: 20, total: 100 )
                Text( "National Insurance" )
                ProgressView( "", value: 20, total: 100 )
            }
        }.padding( )
    }
}
struct ResultsView_Previews: PreviewProvider
{
    static var previews: some View</span><a id="_idTextAnchor269"/><span class="koboSpan" id="kobo.634.1">
    {
        ResultsView( )
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.635.1">We have covered a lot in this vast section. </span><span class="koboSpan" id="kobo.635.2">We started off by adding an external framework, which we saw is very easy to integrate and extremely powerful. </span><span class="koboSpan" id="kobo.635.3">The framework allowed us to easily implement a pie chart. </span><span class="koboSpan" id="kobo.635.4">This is very useful as not all basic features are provided by Apple in Swift and SwiftUI, so being able to add external code bases makes the development process less painful. </span><span class="koboSpan" id="kobo.635.5">After that, we implemented the pie chart, text summaries, and progress views to fu</span><a id="_idTextAnchor270"/><span class="koboSpan" id="kobo.636.1">rther illustrate the </span><span class="No-Break"><span class="koboSpan" id="kobo.637.1">tax breakdown.</span></span></p>
<h1 id="_idParaDest-46"><a id="_idTextAnchor271"/><span class="koboSpan" id="kobo.638.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.639.1">In this chapter, we covered the design of our tax calculator application. </span><span class="koboSpan" id="kobo.639.2">We looked at wireframes and broke down each element into SwiftUI components. </span><span class="koboSpan" id="kobo.639.3">We then implemented the SwiftUI components to match the design from the wireframes. </span><span class="koboSpan" id="kobo.639.4">We also took a look at the requirements for building this application, and the design specifications, which looked at the features a tax calculator app can have. </span><span class="koboSpan" id="kobo.639.5">Then, we simplified it to the core features our app will provide. </span><span class="koboSpan" id="kobo.639.6">We further advanced in the design specifications with acceptance criteria for what we would like our app to do. </span><span class="koboSpan" id="kobo.639.7">We also looked at how external libraries can be integrated to provide </span><span class="No-Break"><span class="koboSpan" id="kobo.640.1">additional functionality.</span></span></p>
<p><span class="koboSpan" id="kobo.641.1">In the next chapter, we’ll take a look at implementing the tax calculation backend functionality and tying the two </span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">views together.</span></span></p>
</div>
</body></html>