<html><head></head><body><div><h1 class="header-title">Control Flow</h1>
                
            
            
                
<p>The following recipes will be covered in this chapter:</p>
<ul>
<li style="font-weight: 400">Assigning result to an expression using the <kbd>if</kbd> keyword</li>
</ul>
<ul>
<li style="font-weight: 400">Using range with the <kbd>when</kbd> expression</li>
</ul>
<ul>
<li style="font-weight: 400">Using <kbd>when</kbd> with custom objects</li>
</ul>
<ul>
<li style="font-weight: 400">Using <kbd>try</kbd>–<kbd>catch</kbd> as an expression</li>
</ul>
<ul>
<li style="font-weight: 400">How to write a swap function in Kotlin using the <kbd>also</kbd> function</li>
</ul>
<ul>
<li style="font-weight: 400">How to throw a custom exception in Kotlin</li>
</ul>
<ul>
<li style="font-weight: 400">How to make a multiconditional loop in Kotlin</li>
</ul>


            

            
        
    </div>



  
<div><h1 class="header-title">Introduction</h1>
                
            
            
                
<p>Control flows are the basic building block of every programming language. What's different in Kotlin is that you can use a few of those control flows as an expression, such as <kbd>try</kbd>-<kbd>catch</kbd>, <kbd>if</kbd>-<kbd>else</kbd>, <kbd>when</kbd>, and so on. In this chapter, we will go through some of the control flows offered by Kotlin and learn to use them. Furthermore, we will also see how they provide much more power than Java control flows. So let's get started!</p>


            

            
        
    </div>



  
<div><h1 class="header-title">Assigning result to an expression using the if keyword</h1>
                
            
            
                
<p>In Kotlin <kbd>if</kbd> is special because it returns values. That is why we can use an <kbd>if</kbd> statement to assign values to a result. This removes the need for a ternary operator in Kotlin. Let's see how we can use <kbd>if</kbd> statements to assign value.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>You need to install a preferred development environment that compiles and runs Kotlin. You can also use the command line for this purpose, for which you need Kotlin compiler installed, along with JDK. I am using the command line for compiling and running my Kotlin code for this recipe.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Create a file and name it <kbd>ifWithKotlin.kt</kbd>. You can name it anything; it need not be the same as the class name because it is in Java. Now, to get started, you should always declare the main method because the Java virtual machine starts execution by invoking the <kbd>main</kbd> method of the specified class.</p>
<p>The <kbd>main</kbd> method is as follows:</p>
<pre style="padding-left: 60px" class="mce-root">fun main(args: Array&lt;String&gt;) { }</pre>
<ol start="1">
<li>Let's try a basic <kbd>if</kbd> statement in a traditional way to understand how it works:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root">fun main(args: Array&lt;String&gt;) {<br/>     var x:Int<br/>     if(10&gt;20){<br/>         x = 5<br/>     }<br/>     else{<br/>         x = 10<br/>     }<br/>     println("$x")<br/> }</pre>
<p style="padding-left: 60px" class="mce-root">In this code block, we assign a value to <kbd>x</kbd> in the <kbd>if</kbd> and <kbd>else</kbd> block and then print it.</p>
<ol start="2">
<li class="mce-root">Now, let's try the same thing the Kotlin way:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root">fun main(args: Array&lt;String&gt;) {<br/>      var x:Int = if(10&gt;20)  5  else  10<br/>    println("$x")<br/> }</pre>
<p style="padding-left: 60px" class="mce-root">In this code block, we assigned a value returned by the <kbd>if</kbd>-<kbd>else</kbd> block to <kbd>x</kbd>. Note how we've used an <kbd>if</kbd> statement as a part of the expression on the right-hand side of the expression.</p>
<ol start="3">
<li>Let's see what else can we do. In the following example, we will try to return something from the expression using the <kbd>if</kbd> statement:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root">fun main(args: Array&lt;String&gt;) {<br/>     var x:Int<br/>    x = if(10&gt;20) {<br/>             doSomething()<br/>             25<br/>         }<br/>         else if (12&lt;13) {<br/>             26<br/>         }<br/>         else{<br/>             27<br/>         }<br/>         println("$x")<br/>}<br/>fun doSomething() {<br/>     var a = 6<br/>     println("$a")<br/> }</pre>
<p style="padding-left: 60px" class="mce-root">Note how we used the whole block of <kbd>if</kbd>–<kbd>else</kbd>. In this case, the <kbd>if</kbd> block returns the last statement of the block.</p>
<ol start="4">
<li class="mce-root">Finally, let's try a more complicated example using a nested <kbd>if</kbd>–<kbd>else</kbd>. This will help us understand how values are returned in a nested <kbd>if</kbd>–<kbd>else</kbd> structure:</li>
</ol>
<pre style="padding-left: 60px">fun main(args: Array&lt;String&gt;) {<br/>    var x:Int<br/>    x = if(10&lt;20) {<br/>        if(4 == 3){<br/>            56<br/>        }<br/>        else{<br/>            96<br/>        }<br/>    }<br/>    else if (12&gt;13) {<br/>        26<br/>    }<br/>    else{<br/>        27<br/>    }<br/>    println("$x")<br/>}<br/><br/><strong>//Output: 96</strong></pre>
<p style="padding-left: 60px" class="mce-root">So, if we nest an <kbd>if</kbd>–<kbd>else</kbd> block and if the last statement of that <kbd>if</kbd>–<kbd>else</kbd> block is another <kbd>if</kbd>–<kbd>else</kbd> statement, the value returned by the nested <kbd>if</kbd>–<kbd>else</kbd> is returned by the enclosing one. As you can see, <kbd>96</kbd> is returned by the <kbd>else</kbd> block inside the <kbd>if(10&lt;20)</kbd> block.</p>
<ol start="5">
<li class="mce-root">What happens if the <kbd>if</kbd>–<kbd>else</kbd> block is not the last statement, like in this example:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root"> fun main(args: Array&lt;String&gt;) {<br/> var x:Int<br/> x = if(10&lt;20) {<br/>         <br/>         if(4 == 3){<br/>                 56<br/>         }<br/>         else{<br/>                 96<br/>         }<br/>         565<br/>     }<br/>     else if (12&gt;13) {<br/>        26<br/>     }<br/>     else{<br/>         27<br/>     }<br/>     println("$x")<br/>}</pre>
<p class="mce-root">Clearly, the value returned by the nested <kbd>if</kbd>–<kbd>else</kbd> is not being used, and the Kotlin compiler also warns us of this. The reason behind this is because the <kbd>if</kbd>–<kbd>else</kbd> block is not the last statement of the parent <kbd>if</kbd>–<kbd>else</kbd> block, which is why the returned value is not being used.</p>
<div><img height="285" width="612" src="img/e30f8a59-cc59-43fa-91a6-f70f33605f3b.png"/></div>
<p>Try playing around with the values and logic to see what else you can do with <kbd>if</kbd>-<kbd>else</kbd>.</p>
<p>The key thing to always remember is that the last statement of the <kbd>if</kbd>-<kbd>else</kbd> block is returned, which is why it can be used to assign values to any variable.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">There's more...</h1>
                
            
            
                
<p>We have used string templates in print statements. Note how we are able to access a variable using the <kbd>$</kbd> symbol before the name of a variable:</p>
<pre style="padding-left: 60px">println("$a is a number something”)</pre>
<p>We can also put a piece of code in strings that are evaluated and whose results are concatenated into the string. In this case, <kbd>$</kbd> is followed by <kbd>{}</kbd>, inside which we put our code:</p>
<pre style="padding-left: 60px">println("some variable whose value: ${if(a &lt; 100) 25 else 29}")</pre>


            

            
        
    </div>



  
<div><h1 class="header-title">Using range with the when expression</h1>
                
            
            
                
<p>In Kotlin, <kbd>when</kbd> is like a super-powered switch control statement. However, that's not all it can do. There's a lot of amazing logic that you can build with the <kbd>when</kbd> statement, one example of which is using a range with the <kbd>when</kbd> statement. We will take a look at that in this recipe.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>You need to install a preferred development environment that compiles and runs Kotlin. You can also use the command line for this purpose, for which you need Kotlin compiler installed, along with JDK. I am using the command line to compile and run my Kotlin code for this recipe.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How to do it...</h1>
                
            
            
                
<p style="padding-left: 30px">First, let's create a file, name it <kbd>whenWithRanges.kt</kbd>, and follow these steps:</p>
<ol>
<li class="mce-root">Let's try a basic <kbd>when</kbd> statement to understand how it works:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root">fun main(args: Array&lt;String&gt;) {<br/>     val x = 12<br/>     when(x){<br/>         12 -&gt; println("x is equal to 12")<br/>         4 -&gt; println("x is equal to 4")<br/>         else -&gt; println ("no conditions match!")<br/>     }<br/> }</pre>
<p style="padding-left: 60px" class="mce-root">So basically, this code block works like a <kbd>switch</kbd> case statement, and it can also be implemented using an <kbd>if</kbd> statement.</p>
<ol start="2">
<li class="mce-root">Now, let's see if <kbd>x</kbd> lies between <kbd>1</kbd> to <kbd>10</kbd> or outside it:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root">fun main(args: Array&lt;String&gt;) {<br/>     val x = 12<br/>     when(x){<br/>         in (1..10) -&gt; println("x lies between 1 to 10")<br/>         !in (1..10) -&gt; println("x does not lie between 1 to 10")<br/>     }<br/> }</pre>
<ol start="3">
<li class="mce-root">Let's see what else we can do. In the following example, we will work with different types of conditions that can be used inside a <kbd>when</kbd> statement:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root">fun main(args: Array&lt;String&gt;) {<br/>     val x = 10<br/>     when(x){<br/>         magicNum(x) -&gt; println("x is a magic number")<br/>         in (1..10) -&gt; {<br/>             println("lies between 1 to 10, value: ${if(x &lt; 20) x else 0}")<br/>         }<br/>         20,21 -&gt; println("$x is special and has direct exit access")<br/>         else -&gt; println("$x needs to be executed")<br/>     }<br/>}<br/>fun magicNum(a: Int): Int {<br/> return if(a in (15..25)) a else 0<br/> }</pre>
<ol start="4">
<li class="mce-root">Finally, let's try a more complicated example of using data classes. In this example, we will see how to use <kbd>when</kbd> with objects:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root">fun main(args: Array&lt;String&gt;) {<br/>     val x = ob(2, true, 500)<br/>     when(x.value){<br/>         magicNum(x.value) -&gt; println("$x is a magic number and         ${if(x.valid) "valid" else "invalid"}")<br/>         in (1..10) -&gt; {<br/>             println("lies between 1 to 10, value: ${if(x.value &lt;           x.max) x.value else x.max}")<br/>         }<br/>         20,21 -&gt; println("$x is special and has direct exit access")<br/>         else -&gt; println("$x needs to be executed")<br/>     }<br/> }<br/> data class ob(val value: Int, val valid: Boolean, val max: Int)<br/> fun magicNum(a: Int): Int {<br/> return if(a in (15..25)) a else 0<br/> }</pre>
<p class="mce-root">Here's how it looks after compiling and running the program:</p>
<div><img src="img/9bd2ee53-162e-4ccb-9820-076c503674c1.png" width="638" height="145"/></div>
<p>Try playing around with the values and logic to see what else you can do with such a small block of code in Kotlin using <kbd>when</kbd>.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How it works...</h1>
                
            
            
                
<p>In the preceding examples, the first example is the most basic <kbd>when</kbd> statement; we are directly comparing <em>x</em>’s value to <kbd>12</kbd> and <kbd>4</kbd>, and if no conditions match, we are simply executing the <kbd>else</kbd> statement. It is like an <kbd>if else if else</kbd> statement.</p>
<p>In the second example, we check whether <kbd>x</kbd> lies between <kbd>1</kbd> to <kbd>10</kbd> in the first statement inside the <kbd>when</kbd> block, and in the second statement, we check whether <kbd>x</kbd> does not lie between <kbd>1</kbd> to <kbd>10</kbd>. That's how we work with ranges in <kbd>when</kbd>. Basically, in <kbd>when</kbd>, we can check whether <kbd>x</kbd> lies in a range or exists in a collection using the <kbd>in</kbd> keyword. The syntax is as follows:</p>
<pre style="padding-left: 60px">when(x) {<br/>    In collection_or_range -&gt; // do something<br/>}</pre>
<p>In the third example, we use a function to check whether <kbd>x</kbd> equals the value of the expression <kbd>magicNum(x)</kbd>. So we can also use expressions and functions in place of constants and ranges to compare <kbd>x</kbd>.</p>
<p>In the fourth example, we explore the power of the <kbd>when</kbd> statement using a data class instead of a primitive data type in <kbd>when</kbd>. Note how we are able to access all properties of <kbd>x</kbd> inside <kbd>when</kbd> and also play with them.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">There's more...</h1>
                
            
            
                
<p>We have already seen how we can use string templates with expressions in print statements. Remember how we were able to access a variable using the <kbd>$</kbd> symbol before the name of a variable:</p>
<pre style="padding-left: 60px" class="mce-root">println("$x is a magic number”)</pre>
<p>We can also put a piece of code in a string, which is then evaluated and whose results are concatenated into the string. In this case, <kbd>$</kbd> is followed by <kbd>{}</kbd>, inside which we put our code:</p>
<pre style="padding-left: 60px">println("lies between 1 to 10, value: ${if(x.value &lt; x.max) x.value else x.max}")</pre>


            

            
        
    </div>



  
<div><h1 class="header-title">Using when with custom objects</h1>
                
            
            
                
<p>In Kotlin, <kbd>when</kbd> is already so powerful but did you know you can also use custom objects in <kbd>when</kbd>? Amazing, right? Let's go about implementing it.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>You need to install a preferred development environment that compiles and runs Kotlin. You can also use the command line for this purpose, for which you need Kotlin compiler installed, along with JDK. I am using the command line to compile and run my Kotlin code for this recipe.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Create a file and name it <kbd>whenWithObject.kt</kbd>, and then, let's try <kbd>when</kbd> with a custom object. In this example, we will create an object with some properties and try to match it in a <kbd>when</kbd> statement:</p>
<pre style="padding-left: 60px" class="mce-root">fun main(args: Array&lt;String&gt;) {<br/>     val x = ob(2, true, 500)<br/>     when(x){<br/>         ob(2, true, 500) -&gt; println("equals correct object")<br/>         ob(12, false, 800) -&gt; {<br/>             println("equals wrong object")<br/>         }<br/>         else -&gt; println("does not match any object")<br/>     }<br/> }<br/>data class ob(val value: Int, val valid: Boolean, val max: Int)</pre>
<p class="mce-root">Here's the output of the preceding code block:</p>
<div><img height="189" width="602" src="img/5c8046e6-07d1-47fa-a149-5e9fcf36b34f.png"/></div>
<p class="mce-root"><br/>
If you try to compare a different object type in <kbd>when</kbd>, it throws an error <kbd>error: incompatible types</kbd> because we are trying to compare objects of different types.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How it works...</h1>
                
            
            
                
<p class="mce-root">In Kotlin, <kbd>when</kbd> basically works with equality in the background, so we can compare objects as long as their types are the same.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">Using try–catch as an expression</h1>
                
            
            
                
<p>Exceptions in Kotlin are both similar and different compared to those in Java. In Kotlin, <kbd>Throwable</kbd> is the superclass of all the exceptions, and every exception has a stack trace, message, and an optional cause.</p>
<p>The structure of <kbd>try</kbd>–<kbd>catch</kbd> is also similar to that used in Java. In Kotlin, here's how a <kbd>try</kbd>–<kbd>catch</kbd> statement looks:</p>
<pre style="padding-left: 60px">try {<br/> // some code to execute<br/> }<br/> catch (e: SomeException) {<br/> // exception handler<br/> }<br/> finally {<br/> // optional finally block <br/> }</pre>
<p>At least one <kbd>catch</kbd> block is mandatory and the <kbd>finally</kbd> block is optional, and so it can be omitted.</p>
<p>In Kotlin, <kbd>try</kbd>–<kbd>catch</kbd> is special as it enables it to be used as an expression. In this article, we will see how we can use <kbd>try</kbd>–<kbd>catch</kbd> as an expression.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>You need to install a preferred development environment that compiles and runs Kotlin. You can also use the command line for this purpose, for which you need Kotlin compiler installed, along with JDK. I am using IntelliJ IDE to compile and run my Kotlin code for this recipe.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>Let's write a simple program that takes in a number as an input and assigns its value to a variable. If the entered value is not a number, we catch the <kbd>NumberFormatException</kbd> exception and assign <kbd>-1</kbd> to that variable:</p>
<pre style="padding-left: 60px">fun main(args: Array&lt;String&gt;) {<br/> val str="23"<br/> val a: Int? = try { str.toInt() } catch (e: NumberFormatException) { -1 }<br/> println(a)<br/> }</pre>
<p>This is the output:</p>
<pre style="padding-left: 60px">Output: 23</pre>
<p>Now, let's try something crazy and deliberately try to throw the exception:</p>
<pre style="padding-left: 60px">fun main(args: Array&lt;String&gt;) {<br/> val str="abc"<br/> val a: Int? = try { str.toInt() } catch (e: NumberFormatException) { -1 }<br/> println(a)<br/> }</pre>
<p>This is the output:</p>
<pre style="padding-left: 60px">Output: -1</pre>
<p>The usage of <kbd>try</kbd>–<kbd>catch</kbd> will help you a lot in edge cases as they can be used as an expression.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How it works...</h1>
                
            
            
                
<p>The reason we can use <kbd>try</kbd>–<kbd>catch</kbd> as an expression is that both <kbd>try</kbd> and <kbd>throw</kbd> are expressions in Kotlin and hence can be assigned to a variable.</p>
<p>When you use <kbd>try</kbd>–<kbd>catch</kbd> as an expression, the last line of the <kbd>try</kbd> or <kbd>catch</kbd> block is returned. That's why, in the first example, we got <kbd>23</kbd> as the returned value and we got <kbd>-1</kbd> in the second example.</p>
<p>Here, one thing to note is that the same thing doesn't apply to the <kbd>finally</kbd> block—that is, writing the <kbd>finally</kbd> block will not affect the result:</p>
<pre style="padding-left: 60px">fun main(args: Array&lt;String&gt;) {<br/>     val str="abc"<br/>     val a:Int = try {<br/>                    str.toInt()<br/>                 } catch (e: NumberFormatException) {<br/>                      -1<br/>                 } finally {<br/>                      -2<br/>                 }<br/>      println(a)<br/> }</pre>
<pre style="padding-left: 60px">Output: -1</pre>
<p>As you can see, writing the <kbd>finally</kbd> block doesn't change anything.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">There's more...</h1>
                
            
            
                
<p>In Kotlin, all the exceptions are unchecked, which means that we don't need to apply <kbd>try</kbd>–<kbd>catch</kbd> at all. This is quite different than Java, where if a method throws an exception, we need to surround it with <kbd>try</kbd>–<kbd>catch</kbd>.</p>
<p>Here's an example of an IO operation in Kotlin:</p>
<pre>fun fileToString(file: File) : String {<br/> //readAllBytes throws IOException, but we can omit catching it<br/> fileContent = Files.readAllBytes(file)<br/> return String(fileContent)<br/> }</pre>
<p>As you can see, we don't need to wrap things with <kbd>try</kbd>–<kbd>catch</kbd> if we don't want to. In Java, we couldn't proceed without handling this exception.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How to write a swap function in Kotlin using the also function</h1>
                
            
            
                
<p>Swapping two numbers is one of the most common things you do in programming. Most of the approaches are quite similar in nature: Either you do it using a third variable or using pointers.</p>
<p>In Java, we don't have pointers, so mostly we rely on a third variable.</p>
<p>You can obviously use something as mentioned here, which is just the Kotlin version of Java code:</p>
<pre style="padding-left: 60px">var a = 1<br/>var b = 2<br/>run { val temp = a; a = b; b = temp }<br/>println(a) // print 2<br/>println(b) // print 1</pre>
<p>However, in Kotlin, there is a very quick and intuitive way of doing it. Let's see how!</p>


            

            
        
    </div>



  
<div><h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>You need to install a preferred development environment that compiles and runs Kotlin. You can also use the command line for this purpose, for which you need Kotlin compiler installed, along with JDK. I am using IntelliJ IDE to compile and run my Kotlin code for this recipe.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>In Kotlin, we have a special function, <kbd>also</kbd>, that we can use to swap two numbers. Here's the code to go with it:</p>
<pre style="padding-left: 60px">var a = 1<br/>var b = 2<br/>a = b.also { b = a }<br/>println(a) // print 2<br/>println(b) // print 1</pre>
<p>We were able to achieve the same thing without using any third variable.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How it works...</h1>
                
            
            
                
<p>To understand the preceding example, we need to understand the <kbd>also</kbd> function in Kotlin. The <kbd>also</kbd> function takes the receiver, performs some operation, and returns the receiver. In simple words, it passes an object and returns the same object.</p>
<p>Applying the <kbd>also</kbd> function on an object is like saying "do this as well" to that object.</p>
<p>So, we called the <kbd>also</kbd> function on <kbd>b</kbd>, did an operation (assigning the value of <kbd>a</kbd> to <kbd>b</kbd>), and then returned the same receiver that we got as an argument:</p>
<pre style="padding-left: 60px">var a = 1<br/> var b = 2<br/>a = b.also {<br/>       b = a  // p<br/>       println("it=$it : b=$b : a=$a") // prints it=2:b=1:a=1<br/>     }<br/>println(a) // print 2<br/>println(b) // print 1</pre>


            

            
        
    </div>



  
<div><h1 class="header-title">There's more...</h1>
                
            
            
                
<p>The <kbd>apply</kbd> function is quite similar to the <kbd>also</kbd> function, but they have a subtle difference. To understand that, let's look at their implementation first:</p>
<ul>
<li>
<p>The <kbd>also</kbd> function:</p>
</li>
</ul>
<pre style="padding-left: 60px">public inline fun &lt;T&gt; T.also(block: (T) -&gt; Unit): T { block(this); return this }</pre>
<ul>
<li>The <kbd>apply</kbd> function:</li>
</ul>
<pre style="padding-left: 60px">public inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T { block(); return this }</pre>
<p>In <kbd>also</kbd>, the block is defined as <kbd>(T) -&gt; Unit</kbd>, but it is defined as <kbd>T.() -&gt; Unit</kbd> in <kbd>apply()</kbd>, which means there is an implicit <kbd>this</kbd> inside the <kbd>apply</kbd> block. However, to reference it in <kbd>also</kbd>, we need <kbd>it</kbd>.</p>
<p>So a code using <kbd>also</kbd> will look like this:</p>
<pre style="padding-left: 60px">val result = Dog(12).also { it.age = 13 }</pre>
<p>The same will look like this using <kbd>apply</kbd>:</p>
<pre style="padding-left: 60px">val result2 =Dog(12).apply {age = 13 }</pre>
<p>The age of the resulting object will be the same in both the cases, that is, <kbd>13</kbd>.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How to throw a custom exception in Kotlin</h1>
                
            
            
                
<p>Sometimes, there are cases where you want to create your own exception. If you are creating your own exception, it's known as a <strong>custom exception</strong> or <strong>user-defined exception</strong>.</p>
<p>These are used to customize the exception according to a specific need, and using this, you can have your own exception and a message. In this recipe, we will see how to create and throw a custom exception in Kotlin.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>You need to install a preferred development environment that compiles and runs Kotlin. You can also use the command line for this purpose, for which you need Kotlin compiler installed, along with JDK. I am using IntelliJ IDE to compile and run my Kotlin code for this recipe.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>All the exceptions have <kbd>Exception</kbd> as their superclass, so we need to extend that class.</p>
<p>Here's what our custom exception looks like:</p>
<pre style="padding-left: 60px">class CustomException(message:String): Exception(message)</pre>
<p>Since the <kbd>Exception</kbd> superclass has a constructor that can take in a message, we've passed it with the help of the constructor of <kbd>CustomException</kbd>.</p>
<p>Now, if you have to <kbd>throw</kbd> an <kbd>Exception</kbd>, you will need to simply do the following:</p>
<pre style="padding-left: 60px">throw CustomException("Threw custom exception")</pre>
<p>The output will be something like this:</p>
<div><img src="img/62b86b27-1b50-4d23-8212-f9042fa9dae1.png" width="810" height="210"/></div>


            

            
        
    </div>



  
<div><h1 class="header-title">How it works...</h1>
                
            
            
                
<p>Let's take a look at the implementation of the <kbd>Exception</kbd> class:</p>
<pre style="padding-left: 60px">public class Exception extends Throwable {<br/> static final long serialVersionUID = -3387516993124229948L;<br/>public Exception() {<br/> }<br/>public Exception(String var1) {<br/>     super(var1);<br/> }.....</pre>
<p>As you can see, we have a second constructor that takes a <kbd>String</kbd> as a parameter. In our <kbd>CustomException</kbd> class, we have supplied it by passing its message to the superclass's constructor. Also, you can create a custom exception with an empty constructor because <kbd>Exception</kbd> also has an empty constructor.</p>
<p> </p>


            

            
        
    </div>



  
<div><h1 class="header-title">How to make a multiconditional loop in Kotlin</h1>
                
            
            
                
<p>Conditional loops are common to any programming language you pick. If you apply multiple conditions on a loop, it is called a <strong>multiconditional loop</strong>. A simple example of a multiconditional loop in Java is illustrated here:</p>
<pre style="padding-left: 60px">int[] data = {5,6,7,1,3,4,5,7,12,13};<br/> for(int i=0;i&lt;10&amp;&amp;i&lt;data[i];i++){<br/>     System.out.println(data[i]);<br/> }</pre>
<p>The preceding code on execution will print out <kbd>5</kbd>, <kbd>6</kbd>, and <kbd>7</kbd>. Let's see how we can use a multiconditional loop in Kotlin. We will be looking at a functional approach to the same thing in Kotlin.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">Getting ready</h1>
                
            
            
                
<p>You need to install a preferred development environment that compiles and runs Kotlin. You can also use the command line for this purpose, for which you need Kotlin compiler installed, along with JDK. I am using IntelliJ IDE to compile and run my Kotlin code for this recipe.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How to do it...</h1>
                
            
            
                
<p>The preceding multiconditional loop can be written in Kotlin like so:</p>
<pre style="padding-left: 60px">(0..9).asSequence().takeWhile {<br/>     it&lt;numbers[it]<br/> }.forEach <br/>    println("$it - ${data[it]}")<br/> }</pre>
<p>It's nice, clean, and definitely not an eyesore.</p>


            

            
        
    </div>



  
<div><h1 class="header-title">How it works...</h1>
                
            
            
                
<p>We used <kbd>takeWhile</kbd>, which returns a sequence containing first elements satisfying the given predicate (in this case, <kbd>i&lt;data[i]</kbd>).</p>
<p>Though <kbd>takeWhile</kbd> returns the first elements that satisfy the given predicate, you might be tempted to think that it will first evaluate the complete range and then pass to <kbd>forEach</kbd>. That would have been the case if we hadn't used <kbd>.asSequence()</kbd>. We converted the range to a <kbd>Sequence&lt;T&gt;</kbd>, and because of this, it was lazily evaluated. In short, it won't process the whole set of items with <kbd>.takeWhile { ... }</kbd> and will only check them one by one when <kbd>.forEach { ... }</kbd> is up to process the next item.</p>
<p>Let's try to understand this with the help of an example. First, we will work with an eager evaluation over <kbd>Iterable&lt;T&gt;</kbd>.</p>
<p>This is the eager version, which evaluates the first function before moving on to the next one:</p>
<pre style="padding-left: 60px">(0..9).takeWhile {<br/>     println("Inside takeWhile")<br/>     it&lt;numbers[it]<br/> }.forEach {<br/>     println("Inside forEach")<br/> }</pre>
<p>This is the output:</p>
<pre style="padding-left: 60px">Inside takeWhile<br/> Inside takeWhile<br/> Inside takeWhile<br/> Inside takeWhile<br/> Inside forEach<br/> Inside forEach<br/> Inside forEach</pre>
<p>As you can see, the range was first processed with <kbd>takeWhile</kbd> (which returned 0, 1, 2) and was then sent for processing to <kbd>forEach</kbd>.</p>
<p>Now, let's see the lazy version:</p>
<pre class="mce-root">(0..9).asSequence().takeWhile {<br/>     println("Inside takeWhile")<br/>     it&lt;numbers[it]<br/> }.forEach {<br/>     println("Inside forEach")<br/> }</pre>
<p>Here's the output:</p>
<pre>Inside takeWhile<br/> Inside forEach<br/> Inside takeWhile<br/> Inside forEach<br/> Inside takeWhile<br/> Inside forEach<br/> Inside takeWhile</pre>
<p>As you can see in the preceding example, <kbd>takeWhile</kbd> is evaluated only when <kbd>forEach</kbd> is used to processes an item. This is the nature of <kbd>Sequence&lt;T&gt;</kbd>, which performs lazily where possible.</p>
<p class="mce-root"/>


            

            
        
    </div>



  </body></html>