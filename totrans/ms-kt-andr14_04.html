<html><head></head><body>
<div id="_idContainer051" class="calibre2">
<h1 class="chapter-number" id="_idParaDest-35"><a id="_idTextAnchor041" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.1.1">3</span></h1>
<h1 id="_idParaDest-36" class="calibre6"><a id="_idTextAnchor042" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.2.1">Jetpack Compose Layout Basics</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.3.1">A good UI and user experience are core to our apps. </span><span class="kobospan" id="kobo.3.2">As Android developers, we must be keenly aware of these two areas and learn how to use the different tools provided for us to create UIs. </span><span class="kobospan" id="kobo.3.3">Google introduced </span><strong class="bold"><span class="kobospan" id="kobo.4.1">Jetpack Compose</span></strong><span class="kobospan" id="kobo.5.1">, a modern UI toolkit to help</span><a id="_idIndexMarker075" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker076" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.6.1"> developers create intuitive UIs </span><span><span class="kobospan" id="kobo.7.1">with ease.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.8.1">In this chapter, we’ll look at Jetpack Compose, a declarative way of creating UIs for our apps. </span><span class="kobospan" id="kobo.8.2">We will learn the basics of Jetpack Compose and layouts in </span><span><span class="kobospan" id="kobo.9.1">Jetpack Compose.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.10.1">In this chapter, we’re going to cover the following </span><span><span class="kobospan" id="kobo.11.1">main topics:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.12.1">Introduction to </span><span><span class="kobospan" id="kobo.13.1">Jetpack Compose</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.14.1">Jetpack </span><span><span class="kobospan" id="kobo.15.1">Compose layouts</span></span></li>
</ul>
<h1 id="_idParaDest-37" class="calibre6"><a id="_idTextAnchor043" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.16.1">Technical requirements</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.17.1">To follow the instructions in this chapter, you will need to have Android Studio Hedgehog or later (</span><a href="https://developer.android.com/studio" class="calibre3 pcalibre pcalibre1"><span><span class="kobospan" id="kobo.18.1">https://developer.android.com/studio</span></span></a><span><span class="kobospan" id="kobo.19.1">) downloaded.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.20.1">You can find the code for this chapter </span><span><span class="kobospan" id="kobo.21.1">at </span></span><a href="https://github.com/PacktPublishing/Mastering-Kotlin-for-Android/tree/main/chapterthree" class="calibre3 pcalibre pcalibre1"><span><span class="kobospan" id="kobo.22.1">https://github.com/PacktPublishing/Mastering-Kotlin-for-Android/tree/main/chapterthree</span></span></a><span><span class="kobospan" id="kobo.23.1">.</span></span></p>
<h1 id="_idParaDest-38" class="calibre6"><a id="_idTextAnchor044" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.24.1">Introduction to Jetpack Compose</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.25.1">Over the years, Android UI development </span><a id="_idIndexMarker077" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker078" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.26.1">has undergone significant transformations with various frameworks and libraries emerging to simplify </span><span><span class="kobospan" id="kobo.27.1">the process.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.28.1">Before Jetpack Compose, this is </span><a id="_idIndexMarker079" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker080" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.29.1">how we used to write UIs for </span><span><span class="kobospan" id="kobo.30.1">our apps:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.31.1">Views were inflated from XML layout files. </span><span class="kobospan" id="kobo.31.2">XML-based views are still supported alongside Jetpack Compose for backward compatibility and mixed use cases where apps have both XML layouts and </span><span><span class="kobospan" id="kobo.32.1">Jetpack Compose.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.33.1">Themes, styles, and value resources were also defined in </span><span><span class="kobospan" id="kobo.34.1">XML files.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.35.1">For us to be able to access the views from XML files, we used view binding or </span><span><span class="kobospan" id="kobo.36.1">data binding.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.37.1">This method of writing a UI required huge effort, requiring more boilerplate code and being </span><span><span class="kobospan" id="kobo.38.1">error prone.</span></span></li>
</ul>
<p class="calibre4"><span class="kobospan" id="kobo.39.1">Google developed Jetpack Compose as a modern </span><strong class="bold"><span class="kobospan" id="kobo.40.1">declarative</span></strong><span class="kobospan" id="kobo.41.1"> UI toolkit. </span><span class="kobospan" id="kobo.41.2">It allows us to </span><a id="_idIndexMarker081" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker082" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker083" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.42.1">create UIs with less code. </span><span class="kobospan" id="kobo.42.2">Layouts created in Jetpack Compose are responsive to different screen sizes and orientations. </span><span class="kobospan" id="kobo.42.3">It is also easier and more productive to write UIs in Compose. </span><span class="kobospan" id="kobo.42.4">With Jetpack Compose, we can reuse components across our code bases. </span><span class="kobospan" id="kobo.42.5">Jetpack Compose also allows us to use code from XML components in </span><span><span class="kobospan" id="kobo.43.1">our composables.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.44.1">Jetpack Compose is entirely in Kotlin, meaning it takes advantage of the powerful language features that Kotlin offers. </span><span class="kobospan" id="kobo.44.2">The </span><strong class="bold"><span class="kobospan" id="kobo.45.1">view system</span></strong><span class="kobospan" id="kobo.46.1">, which was</span><a id="_idIndexMarker084" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker085" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.47.1"> used to create UIs before Compose, was more procedural. </span><span class="kobospan" id="kobo.47.2">We had to manage complex life cycles and handle any changes in state manually. </span><span class="kobospan" id="kobo.47.3">Jetpack Compose is a whole other paradigm that uses declarative programming. </span><span class="kobospan" id="kobo.47.4">We describe what the UI should be like based on a state. </span><span class="kobospan" id="kobo.47.5">This enables us to have dynamic content and less boilerplate code and develop our </span><span><span class="kobospan" id="kobo.48.1">UIs faster.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.49.1">To understand Jetpack Compose, let us first dive deep into the differences between the declarative and imperative approaches to </span><span><span class="kobospan" id="kobo.50.1">writing UIs.</span></span></p>
<h2 id="_idParaDest-39" class="calibre7"><a id="_idTextAnchor045" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.51.1">Declarative versus imperative UIs</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.52.1">In imperative UIs, we specify step by step</span><a id="_idIndexMarker086" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker087" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.53.1"> the instructions describing how the UI should be built and updated. </span><span class="kobospan" id="kobo.53.2">We explicitly define the sequence of operations to create and modify UI elements. </span><span class="kobospan" id="kobo.53.3">We rely on mutable state variables to represent the current state of the UI. </span><span class="kobospan" id="kobo.53.4">We manually update these state variables as the UI changes and respond to</span><a id="_idIndexMarker088" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker089" class="calibre3 pcalibre pcalibre1"/> <span><span class="kobospan" id="kobo.54.1">user interactions.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.55.1">In declarative UIs, we focus on describing the desired outcome rather than specifying the step-by-step instructions. </span><span class="kobospan" id="kobo.55.2">We define what the UI should look like based on the current state, and the framework handles the rest. </span><span class="kobospan" id="kobo.55.3">We define the UI using declarative markup or code. </span><span class="kobospan" id="kobo.55.4">We express the desired UI structure, layout, and behavior by describing the relationships between UI elements and </span><span><span class="kobospan" id="kobo.56.1">their properties.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.57.1">The declarative approach puts more emphasis on the immutable state, where the UI state is represented by immutable data objects. </span><span class="kobospan" id="kobo.57.2">Instead of directly mutating the state, we create new instances of the data objects to reflect the desired changes in </span><span><span class="kobospan" id="kobo.58.1">the UI.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.59.1">In a declarative UI, the framework takes care of updating the UI based on changes in the application state. </span><span class="kobospan" id="kobo.59.2">We specify the relationships between the UI and the underlying state, and the framework automatically updates the UI to reflect </span><span><span class="kobospan" id="kobo.60.1">those changes.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.61.1">Now that we understand both imperative and declarative approaches, let’s look at an example of each. </span><span class="kobospan" id="kobo.61.2">Let’s create a simple UI for a counter using </span><a id="_idIndexMarker090" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker091" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.62.1">both the declarative UI in Jetpack Compose (Kotlin) and the imperative UI in XML (Android XML layout). </span><span class="kobospan" id="kobo.62.2">The example will showcase the differences in syntax and the approach between the two. </span><span class="kobospan" id="kobo.62.3">The Jetpack Compose</span><a id="_idIndexMarker092" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker093" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.63.1"> version looks </span><span><span class="kobospan" id="kobo.64.1">like this:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.65.1">
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.*
import androidx.compose.runtime.Composable
import androidx.compose.runtime.remember
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
class MainActivity : ComponentActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContent {
        MyApp()
    }
  }
}
@Composable
fun MyApp() {
  var count by remember { mutableStateOf(0) }
  Column(
    modifier = Modifier.padding(16.dp)
  ) {
      Text(text = "Counter: $count", style = MaterialTheme.typography.bodyLarge)
      Spacer(modifier = Modifier.height(16.dp))
      Button(onClick = { count++ }) {
        Text("Increment")
      }
    }
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.66.1">In the preceding example, we have a </span><strong class="source-inline"><span class="kobospan" id="kobo.67.1">MyApp</span></strong><span class="kobospan" id="kobo.68.1"> composable function that defines the UI for the app. </span><span class="kobospan" id="kobo.68.2">The UI is defined in a declarative manner, by using composables to define the UI and handling state changes using the remember composable. </span><span class="kobospan" id="kobo.68.3">The UI is defined using a functional approach. </span><span class="kobospan" id="kobo.68.4">Also, we can see that the UI is defined in a more </span><span><span class="kobospan" id="kobo.69.1">concise manner.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.70.1">With the imperative approach, we </span><a id="_idIndexMarker094" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker095" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.71.1">must first create the</span><a id="_idIndexMarker096" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker097" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.72.1"> XML UI, as shown in the following </span><span><span class="kobospan" id="kobo.73.1">code block:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.74.1">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout 
  
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  android:padding="16dp"&gt;
  &lt;TextView
    android:id="@+id/counterTextView"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:text="Counter: 0"
    android:textSize="20sp" /&gt;
  &lt;Button
    android:id="@+id/incrementButton"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_below="@id/counterTextView"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="16dp"
    android:text="Increment" /&gt;
&lt;/RelativeLayout&gt;</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.75.1">With the layout file created, we can now create the activity class, which will inflate the layout file and handle the </span><span><span class="kobospan" id="kobo.76.1">button click:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.77.1">
import android.os.Bundle
import android.widget.Button
import android.widget.TextView
import androidx.appcompat.app.AppCompatActivity
class MainActivity : AppCompatActivity() {
  private var count = 0
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContentView(R.layout.activity_main)
    val counterTextView: TextView = findViewById(R.id.counterTextView)
    val incrementButton: Button = findViewById(R.id.incrementButton)
    incrementButton.setOnClickListener {
      count++
      counterTextView.text = "Counter: $count"
    }
  }
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.78.1">In this example, the XML layout is inflated in the </span><strong class="source-inline"><span class="kobospan" id="kobo.79.1">onCreate</span></strong><span class="kobospan" id="kobo.80.1"> method of the </span><strong class="source-inline"><span class="kobospan" id="kobo.81.1">MainActivity</span></strong><span class="kobospan" id="kobo.82.1"> class, and UI elements are accessed and </span><span><span class="kobospan" id="kobo.83.1">manipulated programmatically.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.84.1">In the preceding examples, the Jetpack Compose code is written in Kotlin and provides a more declarative approach, defining the UI in</span><a id="_idIndexMarker098" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker099" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.85.1"> a functional manner. </span><span class="kobospan" id="kobo.85.2">The XML layout, on the other hand, is written imperatively in XML, specifying the </span><a id="_idIndexMarker100" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker101" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.86.1">UI structure and properties in a more step-by-step manner using XML and interacting with them imperatively in Kotlin code. </span><span class="kobospan" id="kobo.86.2">Jetpack Compose allows for a more concise and expressive representation of the UI using a </span><span><span class="kobospan" id="kobo.87.1">declarative syntax.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.88.1">Now that we have a clear understanding of the imperative and declarative ways of writing UIs, in the next section, we will be diving deep into the building blocks of </span><span><span class="kobospan" id="kobo.89.1">Jetpack Compose.</span></span></p>
<h2 id="_idParaDest-40" class="calibre7"><a id="_idTextAnchor046" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.90.1">Composable functions</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.91.1">As shown in </span><span><em class="italic"><span class="kobospan" id="kobo.92.1">Figure 3</span></em></span><em class="italic"><span class="kobospan" id="kobo.93.1">.1</span></em><span class="kobospan" id="kobo.94.1">, composable functions are</span><a id="_idIndexMarker102" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker103" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.95.1"> the main building</span><a id="_idIndexMarker104" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker105" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.96.1"> blocks of </span><span><span class="kobospan" id="kobo.97.1">Jetpack Compose:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer037">
<span class="kobospan" id="kobo.98.1"><img alt="Figure 3.1 – Compose UI" src="image/B19779_03_01.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.99.1">Figure 3.1 – Compose UI</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.100.1">A composable function describes how to render a UI. </span><span class="kobospan" id="kobo.100.2">This function must be annotated with the </span><strong class="source-inline"><span class="kobospan" id="kobo.101.1">@Composable</span></strong><span class="kobospan" id="kobo.102.1"> function. </span><span class="kobospan" id="kobo.102.2">When you annotate a function with this annotation, it means that the function describes how to compose a specific part of the UI. </span><span class="kobospan" id="kobo.102.3">Composable functions are meant to be </span><strong class="bold"><span class="kobospan" id="kobo.103.1">reusable</span></strong><span class="kobospan" id="kobo.104.1">. </span><span class="kobospan" id="kobo.104.2">They can be called multiple times while the UI is </span><a id="_idIndexMarker106" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker107" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.105.1">active. </span><span class="kobospan" id="kobo.105.2">Whenever the state of the composable changes, it goes through a process of </span><a id="_idIndexMarker108" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker109" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.106.1">recomposition, which enables the UI to display the </span><span><span class="kobospan" id="kobo.107.1">latest state.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.108.1">Composable functions are </span><strong class="bold"><span class="kobospan" id="kobo.109.1">pure functions</span></strong><span class="kobospan" id="kobo.110.1">, meaning they </span><a id="_idIndexMarker110" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker111" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.111.1">don’t have any side effects. </span><span class="kobospan" id="kobo.111.2">They produce the same output when called several times with the same input. </span><span class="kobospan" id="kobo.111.3">This ensures the functions are predictable and efficient in dispatching updates to the UI. </span><span class="kobospan" id="kobo.111.4">However, there are exceptions, for example, launching a coroutine within a composable of calling external methods that do have side-effects, which should be avoided or </span><span><span class="kobospan" id="kobo.112.1">handled carefully.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.113.1">Smaller composable functions can be combined to build complex UIs. </span><span class="kobospan" id="kobo.113.2">You can reuse and nest composables inside </span><span><span class="kobospan" id="kobo.114.1">other composables.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.115.1">Let’s look at an example of a </span><span><span class="kobospan" id="kobo.116.1">composable function:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.117.1">
@Composable
fun PacktPublishing(bookName: String) {
    Text(text = "Title of the book is: $bookName")
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.118.1">In the preceding code snippet, the </span><strong class="source-inline"><span class="kobospan" id="kobo.119.1">PacktPublishing</span></strong><span class="kobospan" id="kobo.120.1"> function is annotated with the </span><strong class="source-inline"><span class="kobospan" id="kobo.121.1">@Composable</span></strong><span class="kobospan" id="kobo.122.1"> annotation. </span><span class="kobospan" id="kobo.122.2">The function takes a parameter, </span><strong class="source-inline"><span class="kobospan" id="kobo.123.1">bookName</span></strong><span class="kobospan" id="kobo.124.1">, which is a </span><strong class="source-inline"><span class="kobospan" id="kobo.125.1">String</span></strong><span class="kobospan" id="kobo.126.1">. </span><span class="kobospan" id="kobo.126.2">Inside the function, we have another composable from the Material </span><a id="_idIndexMarker112" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker113" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.127.1">Design library. </span><span class="kobospan" id="kobo.127.2">The composable renders some text to </span><span><span class="kobospan" id="kobo.128.1">our UI.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.129.1">When designing our UIs, we usually want to see</span><a id="_idIndexMarker114" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker115" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.130.1"> how the UIs look without running our app. </span><span class="kobospan" id="kobo.130.2">Luckily, we have </span><strong class="bold"><span class="kobospan" id="kobo.131.1">previews</span></strong><span class="kobospan" id="kobo.132.1">, which visualize our composable functions. </span><span class="kobospan" id="kobo.132.2">We will be learning about them in the </span><span><span class="kobospan" id="kobo.133.1">next section.</span></span></p>
<h2 id="_idParaDest-41" class="calibre7"><a id="_idTextAnchor047" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.134.1">Previews</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.135.1">In Jetpack Compose, we have the </span><strong class="source-inline"><span class="kobospan" id="kobo.136.1">@Preview</span></strong><span class="kobospan" id="kobo.137.1"> annotation, which generates a preview of our composable function or a group of Compose components</span><a id="_idIndexMarker116" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker117" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.138.1"> inside Android Studio. </span><span class="kobospan" id="kobo.138.2">It has an interactive mode to allow us to interact with our </span><a id="_idIndexMarker118" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker119" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.139.1">Compose functions. </span><span class="kobospan" id="kobo.139.2">This gives us a way to quickly visualize our designs and easily make changes </span><span><span class="kobospan" id="kobo.140.1">when needed.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.141.1">This is how our </span><strong class="source-inline"><span class="kobospan" id="kobo.142.1">PacktPublishing</span></strong><span class="kobospan" id="kobo.143.1"> composable function would look like with </span><span><span class="kobospan" id="kobo.144.1">a preview:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.145.1">
@Preview(showBackground = true)
@Composable
fun PacktPublishingPreview() {
    PacktPublishing("Android Development with Kotlin")
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.146.1">We have used the </span><strong class="source-inline"><span class="kobospan" id="kobo.147.1">@Preview</span></strong><span class="kobospan" id="kobo.148.1"> annotation to indicate that we want to build a preview for this function. </span><span class="kobospan" id="kobo.148.2">Additionally, we have set the </span><strong class="source-inline"><span class="kobospan" id="kobo.149.1">showBackground</span></strong><span class="kobospan" id="kobo.150.1"> parameter to </span><strong class="source-inline"><span class="kobospan" id="kobo.151.1">true</span></strong><span class="kobospan" id="kobo.152.1">, which adds a white background to our preview. </span><span class="kobospan" id="kobo.152.2">We have named the function with the </span><strong class="source-inline"><span class="kobospan" id="kobo.153.1">Preview</span></strong><span class="kobospan" id="kobo.154.1"> suffix. </span><span class="kobospan" id="kobo.154.2">The preview is also a </span><span><span class="kobospan" id="kobo.155.1">composable function.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.156.1">To be able to see the preview, you need to be in the </span><strong class="bold"><span class="kobospan" id="kobo.157.1">split or design mode</span></strong><span class="kobospan" id="kobo.158.1"> in your</span><a id="_idIndexMarker120" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker121" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.159.1"> editor. </span><span class="kobospan" id="kobo.159.2">These options are normally at the top right of Android Studio. </span><span class="kobospan" id="kobo.159.3">We also need to do a build for Android Studio to generate a preview, which will look </span><span><span class="kobospan" id="kobo.160.1">as follows:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer038">
<span class="kobospan" id="kobo.161.1"><img alt="Figure 3.2 – Text preview" src="image/B19779_03_02.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.162.1">Figure 3.2 – Text preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.163.1">As seen in </span><span><em class="italic"><span class="kobospan" id="kobo.164.1">Figure 3</span></em></span><em class="italic"><span class="kobospan" id="kobo.165.1">.2</span></em><span class="kobospan" id="kobo.166.1">, we have a text that displays the string that we passed to the function. </span><span class="kobospan" id="kobo.166.2">The preview also has a white background and its name at the </span><span><span class="kobospan" id="kobo.167.1">top left.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.168.1">We can show previews for both dark and light color schemes. </span><span class="kobospan" id="kobo.168.2">We can also configure properties such as the devices and preview windows to </span><span><span class="kobospan" id="kobo.169.1">be applied.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.170.1">Previews are great for quick iterations while designing UIs. </span><span class="kobospan" id="kobo.170.2">However, they are not a replacement for actual device/emulator testing, particularly</span><a id="_idIndexMarker122" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker123" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.171.1"> for things such </span><a id="_idIndexMarker124" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker125" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.172.1">as animations, interactions, or </span><span><span class="kobospan" id="kobo.173.1">dynamic data.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.174.1">With an understanding of what previews are and how to create them, let us look into one more Compose feature, </span><strong class="bold"><span class="kobospan" id="kobo.175.1">modifiers</span></strong><span class="kobospan" id="kobo.176.1">, in the </span><span><span class="kobospan" id="kobo.177.1">next section.</span></span></p>
<h2 id="_idParaDest-42" class="calibre7"><a id="_idTextAnchor048" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.178.1">Modifiers</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.179.1">Modifiers allow us to decorate our</span><a id="_idIndexMarker126" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker127" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.180.1"> composable functions by enabling </span><span><span class="kobospan" id="kobo.181.1">the following:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.182.1">Change composables’ size, behavior, </span><span><span class="kobospan" id="kobo.183.1">and appearance</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.184.1">Add </span><span><span class="kobospan" id="kobo.185.1">more information</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.186.1">Process </span><span><span class="kobospan" id="kobo.187.1">user input</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.188.1">Add interactions such as clicks and </span><span><span class="kobospan" id="kobo.189.1">ripple effects</span></span></li>
</ul>
<p class="calibre4"><span class="kobospan" id="kobo.190.1">With modifiers, we can change various aspects of our composable, such as size, padding, color, and shape. </span><span class="kobospan" id="kobo.190.2">Most Jetpack Compose components from the library allow us to provide a modifier as a parameter. </span><span class="kobospan" id="kobo.190.3">For example, if we need to provide padding to our preview text, we will have </span><span><span class="kobospan" id="kobo.191.1">the following:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.192.1">
Text(
    modifier = Modifier.padding(16.dp),
    text = "Title of the book is: $bookName"
)</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.193.1">We have added the padding modifier to the </span><strong class="source-inline"><span class="kobospan" id="kobo.194.1">Text</span></strong><span class="kobospan" id="kobo.195.1"> composable. </span><span class="kobospan" id="kobo.195.2">This will add </span><strong class="source-inline"><span class="kobospan" id="kobo.196.1">16.dp</span></strong><strong class="bold"> </strong><span class="kobospan" id="kobo.197.1">padding to the </span><strong class="source-inline"><span class="kobospan" id="kobo.198.1">Text</span></strong><span class="kobospan" id="kobo.199.1"> composable. </span><strong class="source-inline"><span class="kobospan" id="kobo.200.1">16.dp</span></strong><span class="kobospan" id="kobo.201.1"> is a </span><strong class="bold"><span class="kobospan" id="kobo.202.1">density-independent</span></strong><span class="kobospan" id="kobo.203.1"> pixel unit in Jetpack </span><a id="_idIndexMarker128" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker129" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.204.1">Compose. </span><span class="kobospan" id="kobo.204.2">This means it will remain consistent and adjust properly to different </span><span><span class="kobospan" id="kobo.205.1">screen densities.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.206.1">We can chain the different modifier functions in one composable. </span><span class="kobospan" id="kobo.206.2">When chaining modifiers, the order of application is crucial. </span><span class="kobospan" id="kobo.206.3">If we don’t achieve the desired result, we need to double-check the order. </span><span class="kobospan" id="kobo.206.4">Let’s observe this concept </span><span><span class="kobospan" id="kobo.207.1">in practice:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.208.1">
Text(
    modifier = Modifier
        .fillMaxWidth()
        .padding(16.dp)
        .background(Color.Green),
    text = "Title of the book is: $bookName"
)</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.209.1">We have added two more modifiers. </span><span class="kobospan" id="kobo.209.2">The first is the </span><strong class="source-inline"><span class="kobospan" id="kobo.210.1">fillMaxWidth</span></strong><span class="kobospan" id="kobo.211.1"> modifier, which is added to the text composable. </span><span class="kobospan" id="kobo.211.2">This will make the text </span><a id="_idIndexMarker130" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker131" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.212.1">composable take the full width of the parent. </span><span class="kobospan" id="kobo.212.2">The other one is the background modifier to the </span><strong class="source-inline"><span class="kobospan" id="kobo.213.1">Text</span></strong><span class="kobospan" id="kobo.214.1"> composable. </span><span class="kobospan" id="kobo.214.2">This will</span><a id="_idIndexMarker132" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker133" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.215.1"> add a background color to the text composable. </span><span class="kobospan" id="kobo.215.2">The preview for our text will look </span><span><span class="kobospan" id="kobo.216.1">as follows:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer039">
<span class="kobospan" id="kobo.217.1"><img alt="Figure 3.3 – Text modifier preview" src="image/B19779_03_03.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.218.1">Figure 3.3 – Text modifier preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.219.1">As seen in the preceding screenshot, the text now occupies the whole width of the device and has a green background. </span><span class="kobospan" id="kobo.219.2">It also has a padding of </span><strong class="source-inline"><span class="kobospan" id="kobo.220.1">16dp</span></strong> <span><span class="kobospan" id="kobo.221.1">all around.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.222.1">Modifiers do not modify the original composable. </span><span class="kobospan" id="kobo.222.2">They return a new, modified instance. </span><span class="kobospan" id="kobo.222.3">This ensures our composable remains unchanged and immutable. </span><span class="kobospan" id="kobo.222.4">Immutability, a fundamental principle in functional programming, ensures that the state remains unchanged, simplifying state management and reducing side effects. </span><span class="kobospan" id="kobo.222.5">This approach enhances predictability and readability by adhering to the principles of referential transparency. </span><span class="kobospan" id="kobo.222.6">The ability to compose functions, exemplified by chaining modifier functions, facilitates a concise and readable expression of complex UI behavior without altering the original composable. </span><span class="kobospan" id="kobo.222.7">In addition to using the existing modifiers, we can also create our own modifiers </span><span><span class="kobospan" id="kobo.223.1">when needed.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.224.1">Now that you have an understanding of what modifiers are, we are going to build on that knowledge by learning about Jetpack Compose layouts in the </span><span><span class="kobospan" id="kobo.225.1">next section.</span></span></p>
<h1 id="_idParaDest-43" class="calibre6"><a id="_idTextAnchor049" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.226.1">Jetpack Compose layouts</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.227.1">Jetpack Compose has a variety of pre-built layouts </span><a id="_idIndexMarker134" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker135" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.228.1">for us to use. </span><span class="kobospan" id="kobo.228.2">Before looking at the different layouts present, let us first understand how Jetpack Compose transforms</span><a id="_idIndexMarker136" class="calibre3 pcalibre pcalibre1"/><a id="_idIndexMarker137" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.229.1"> state </span><span><span class="kobospan" id="kobo.230.1">into UI.</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer040">
<span class="kobospan" id="kobo.231.1"><img alt="Figure 3.4 – How Compose transforms state into UI" src="image/B19779_03_04.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.232.1">Figure 3.4 – How Compose transforms state into UI</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.233.1">From the preceding diagram, we can see that our state is transformed into a UI in the </span><span><span class="kobospan" id="kobo.234.1">following steps:</span></span></p>
<ol class="calibre14">
<li class="calibre15"><span><strong class="bold"><span class="kobospan" id="kobo.235.1">Composition</span></strong></span><p class="calibre4"><span class="kobospan" id="kobo.236.1">This is the initial phase. </span><span class="kobospan" id="kobo.236.2">The Compose compiler creates a tree of UI elements. </span><span class="kobospan" id="kobo.236.3">Each element is a function that represents a UI element. </span><span class="kobospan" id="kobo.236.4">Compose then calls the functions to create the UI tree. </span><span class="kobospan" id="kobo.236.5">The composition step is responsible for determining </span><a id="_idIndexMarker138" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.237.1">which composables need updates and which ones can be reused. </span><span class="kobospan" id="kobo.237.2">This happens by comparing a previous tree of composables with the new tree and only updating the ones that have changed. </span><span class="kobospan" id="kobo.237.3">This makes this step very efficient as only elements with updates </span><span><span class="kobospan" id="kobo.238.1">are updated.</span></span></p></li>
<li class="calibre15"><span><strong class="bold"><span class="kobospan" id="kobo.239.1">Layout</span></strong></span><p class="calibre4"><span class="kobospan" id="kobo.240.1">This step happens after the composition phase. </span><span class="kobospan" id="kobo.240.2">Here, the Compose compiler takes the tree generated in the composition phase and determines its size, position, and layout. </span><span class="kobospan" id="kobo.240.3">Each composable is measured and positioned within the layout based on its parent and any constraints set. </span><span class="kobospan" id="kobo.240.4">This phase is responsible for determining the final position and size of each UI element on the screen. </span><span class="kobospan" id="kobo.240.5">It is also responsible for creating the final layout tree used in the </span><span><span class="kobospan" id="kobo.241.1">drawing phase.</span></span></p></li>
<li class="calibre15"><span><strong class="bold"><span class="kobospan" id="kobo.242.1">Drawing</span></strong></span><p class="calibre4"><span class="kobospan" id="kobo.243.1">This is the last phase of transforming our UI to state. </span><span class="kobospan" id="kobo.243.2">In this phase, the Compose compiler takes the final layout tree created in the layout phase and uses it to draw the elements on the screen. </span><span class="kobospan" id="kobo.243.3">This is done by walking through the tree and issuing draw commands to the underlying graphics system. </span><span class="kobospan" id="kobo.243.4">This phase is responsible for rendering the final UI on </span><span><span class="kobospan" id="kobo.244.1">the screen.</span></span></p></li>
</ol>
<p class="calibre4"><span class="kobospan" id="kobo.245.1">These three phases</span><a id="_idIndexMarker139" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.246.1"> work together to create our UI in Jetpack Compose. </span><span class="kobospan" id="kobo.246.2">The composition phase builds a tree of composables, the layout phase positions and sizes them, and the drawing phase renders them on the screen. </span><span class="kobospan" id="kobo.246.3">This entire process is optimized, performant, and efficient, allowing for fast and smooth UI rendering in even </span><span><span class="kobospan" id="kobo.247.1">complex UIs.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.248.1">Now that we understand how the Compose compiler renders our UI, let us see the layouts that are </span><span><span class="kobospan" id="kobo.249.1">in Compose.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.250.1">Jetpack Compose offers the following layouts out of </span><span><span class="kobospan" id="kobo.251.1">the box:</span></span></p>
<ul class="calibre16">
<li class="calibre15"><span><strong class="source-inline1"><span class="kobospan" id="kobo.252.1">Column</span></strong></span></li>
<li class="calibre15"><span><strong class="source-inline1"><span class="kobospan" id="kobo.253.1">Row</span></strong></span></li>
<li class="calibre15"><span><strong class="source-inline1"><span class="kobospan" id="kobo.254.1">Box</span></strong></span></li>
<li class="calibre15"><span><span class="kobospan" id="kobo.255.1">Lists</span></span></li>
</ul>
<p class="calibre4"><span class="kobospan" id="kobo.256.1">We are going to look at each of these layouts in detail in the next subsections. </span><span class="kobospan" id="kobo.256.2">To begin with, let us look the </span><span><strong class="source-inline"><span class="kobospan" id="kobo.257.1">Column</span></strong></span><span><span class="kobospan" id="kobo.258.1"> layout.</span></span></p>
<h2 id="_idParaDest-44" class="calibre7"><a id="_idTextAnchor050" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.259.1">Column</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.260.1">We use </span><strong class="source-inline"><span class="kobospan" id="kobo.261.1">Column</span></strong><span class="kobospan" id="kobo.262.1"> when we </span><a id="_idIndexMarker140" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.263.1">want to organize items vertically. </span><span class="kobospan" id="kobo.263.2">An example of the use of </span><strong class="source-inline"><span class="kobospan" id="kobo.264.1">Column</span></strong><span class="kobospan" id="kobo.265.1"> is </span><span><span class="kobospan" id="kobo.266.1">as follows:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.267.1">
Column {
    Text(text = "Android")
    Text(text = "Kotlin")
    Text(text = "Compose")
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.268.1">In the preceding code, we have created </span><strong class="source-inline"><span class="kobospan" id="kobo.269.1">Column</span></strong><span class="kobospan" id="kobo.270.1"> with three text elements. </span><span class="kobospan" id="kobo.270.2">Adding a preview for this </span><a id="_idIndexMarker141" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.271.1">generates the following UI </span><span><span class="kobospan" id="kobo.272.1">for us:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer041">
<span class="kobospan" id="kobo.273.1"><img alt="Figure 3.5 – Column preview" src="image/B19779_03_05.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.274.1">Figure 3.5 – Column preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.275.1">As seen from the preceding screenshot, the design is basic. </span><span class="kobospan" id="kobo.275.2">We are going to polish it up a bit by using modifiers since Jetpack Compose also provides support for modifiers in these layouts. </span><span class="kobospan" id="kobo.275.3">Let us add these changes to </span><span><span class="kobospan" id="kobo.276.1">our column:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.277.1">
Column(
    modifier = Modifier
        .fillMaxSize()
        .padding(16.dp),
    verticalArrangement = Arrangement.Center,
    horizontalAlignment = Alignment.CenterHorizontally
) {
    Text(text = "Android")
    Text(text = "Kotlin")
    Text(text = "Compose")
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.278.1">Here, we have added a </span><strong class="source-inline"><span class="kobospan" id="kobo.279.1">Modifier</span></strong><span class="kobospan" id="kobo.280.1"> to our </span><strong class="source-inline"><span class="kobospan" id="kobo.281.1">Column</span></strong><span class="kobospan" id="kobo.282.1">. </span><span class="kobospan" id="kobo.282.2">In the modifier parameter, we specify the </span><strong class="source-inline"><span class="kobospan" id="kobo.283.1">fillMaxSize</span></strong><span class="kobospan" id="kobo.284.1"> modifier, which makes our column fill the available space within the parent. </span><span class="kobospan" id="kobo.284.2">This is helpful for </span><a id="_idIndexMarker142" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.285.1">building full-view screens for our UIs. </span><span class="kobospan" id="kobo.285.2">We have also added padding of </span><strong class="source-inline"><span class="kobospan" id="kobo.286.1">16.dp</span></strong><span class="kobospan" id="kobo.287.1"> to </span><span><span class="kobospan" id="kobo.288.1">our column.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.289.1">Additionally, we have specified two more parameters for our column. </span><span class="kobospan" id="kobo.289.2">One is </span><strong class="source-inline"><span class="kobospan" id="kobo.290.1">verticalArrangement</span></strong><span class="kobospan" id="kobo.291.1">, which we use to specify the vertical arrangement of the children of this view. </span><span class="kobospan" id="kobo.291.2">In this case, we specify </span><strong class="source-inline"><span class="kobospan" id="kobo.292.1">Arrangement.Center</span></strong><span class="kobospan" id="kobo.293.1">, which places all the children of our </span><strong class="source-inline"><span class="kobospan" id="kobo.294.1">Column</span></strong><span class="kobospan" id="kobo.295.1"> vertically at the center. </span><span class="kobospan" id="kobo.295.2">The other parameter is </span><strong class="source-inline"><span class="kobospan" id="kobo.296.1">horizontalAlignment</span></strong><span class="kobospan" id="kobo.297.1">, which is the horizontal alignment of the children of the layout. </span><span class="kobospan" id="kobo.297.2">In this case, we specify the value to be </span><strong class="source-inline"><span class="kobospan" id="kobo.298.1">Alignment.CenterHorizontally</span></strong><span class="kobospan" id="kobo.299.1">, which will align all the children at the center horizontally. </span><span class="kobospan" id="kobo.299.2">Our preview with the preceding changes will look </span><span><span class="kobospan" id="kobo.300.1">like this:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer042">
<span class="kobospan" id="kobo.301.1"><img alt="Figure 3.6 – Column modifiers preview" src="image/B19779_03_06.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.302.1">Figure 3.6 – Column modifiers preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.303.1">From the preceding screenshot, we can now see our column occupies the whole screen and all the text elements are</span><a id="_idIndexMarker143" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.304.1"> centered vertically and horizontally within </span><span><span class="kobospan" id="kobo.305.1">the parent.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.306.1">Let us now learn about the </span><strong class="source-inline"><span class="kobospan" id="kobo.307.1">Row</span></strong><span class="kobospan" id="kobo.308.1"> composable in the </span><span><span class="kobospan" id="kobo.309.1">next section.</span></span></p>
<h2 id="_idParaDest-45" class="calibre7"><a id="_idTextAnchor051" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.310.1">Row</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.311.1">We use </span><strong class="source-inline"><span class="kobospan" id="kobo.312.1">Row</span></strong><span class="kobospan" id="kobo.313.1"> when we</span><a id="_idIndexMarker144" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.314.1"> want to organize items horizontally. </span><span class="kobospan" id="kobo.314.2">An example of the use of </span><strong class="source-inline"><span class="kobospan" id="kobo.315.1">Row</span></strong><span class="kobospan" id="kobo.316.1"> is </span><span><span class="kobospan" id="kobo.317.1">as follows:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.318.1">
Row {
    Text(text = "Android")
    Text(text = "Kotlin")
    Text(text = "Compose")
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.319.1">In the preceding code, the </span><strong class="source-inline"><span class="kobospan" id="kobo.320.1">Row</span></strong><span class="kobospan" id="kobo.321.1"> composable</span><a id="_idIndexMarker145" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.322.1"> is used to display three text elements horizontally in a row. </span><span class="kobospan" id="kobo.322.2">The preview for this will look </span><span><span class="kobospan" id="kobo.323.1">like this:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer043">
<span class="kobospan" id="kobo.324.1"><img alt="Figure 3.7 – Row preview" src="image/B19779_03_07.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.325.1">Figure 3.7 – Row preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.326.1">The text elements are all arranged next to each other in a horizontal row. </span><strong class="source-inline"><span class="kobospan" id="kobo.327.1">Row</span></strong><span class="kobospan" id="kobo.328.1">, like the composable, supports the addition of modifiers. </span><span class="kobospan" id="kobo.328.2">Let us modify our </span><strong class="source-inline"><span class="kobospan" id="kobo.329.1">Row</span></strong><span class="kobospan" id="kobo.330.1"> to look </span><span><span class="kobospan" id="kobo.331.1">as follows:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.332.1">
Row(
    modifier = Modifier
        .fillMaxSize()
        .padding(16.dp),
    verticalAlignment = Alignment.CenterVertically,
    horizontalArrangement = Arrangement.SpaceEvenly
) {
    Text(text = "Android")
    Text(text = "Kotlin")
    Text(text = "Compose")
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.333.1">In the preceding code, we have added modifiers to the </span><strong class="source-inline"><span class="kobospan" id="kobo.334.1">Row</span></strong><span class="kobospan" id="kobo.335.1"> composable. </span><span class="kobospan" id="kobo.335.2">The </span><strong class="source-inline"><span class="kobospan" id="kobo.336.1">fillMaxSize</span></strong><span class="kobospan" id="kobo.337.1"> modifier makes the row fill the entire available space. </span><span class="kobospan" id="kobo.337.2">The padding modifier adds padding to the </span><strong class="source-inline"><span class="kobospan" id="kobo.338.1">Row</span></strong><span class="kobospan" id="kobo.339.1">. </span><span class="kobospan" id="kobo.339.2">The </span><strong class="source-inline"><span class="kobospan" id="kobo.340.1">verticalAlignment</span></strong><span class="kobospan" id="kobo.341.1"> and </span><strong class="source-inline"><span class="kobospan" id="kobo.342.1">horizontalArrangement</span></strong><span class="kobospan" id="kobo.343.1"> modifiers are used to align the children of the </span><strong class="source-inline"><span class="kobospan" id="kobo.344.1">Row</span></strong><span class="kobospan" id="kobo.345.1"> vertically and horizontally, respectively. </span><span class="kobospan" id="kobo.345.2">Notice </span><a id="_idIndexMarker146" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.346.1">that for the </span><strong class="source-inline"><span class="kobospan" id="kobo.347.1">horizontalArrangement</span></strong><span class="kobospan" id="kobo.348.1"> modifier, we use the </span><strong class="source-inline"><span class="kobospan" id="kobo.349.1">Arrangement.SpaceEvenly</span></strong><span class="kobospan" id="kobo.350.1"> option. </span><span class="kobospan" id="kobo.350.2">This makes sure each of the children occupies equal space in the parent. </span><span class="kobospan" id="kobo.350.3">The preview for this looks </span><span><span class="kobospan" id="kobo.351.1">as follows:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer044">
<span class="kobospan" id="kobo.352.1"><img alt="Figure 3.8 – Row modifiers preview" src="image/B19779_03_08.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.353.1">Figure 3.8 – Row modifiers preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.354.1">As seen in </span><span><em class="italic"><span class="kobospan" id="kobo.355.1">Figure 3</span></em></span><em class="italic"><span class="kobospan" id="kobo.356.1">.8</span></em><span class="kobospan" id="kobo.357.1">, the row occupies the whole screen, and the text elements are evenly spaced within the</span><a id="_idIndexMarker147" class="calibre3 pcalibre pcalibre1"/> <span><span class="kobospan" id="kobo.358.1">screen width.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.359.1">In the next section, we will be learning about the </span><span><strong class="source-inline"><span class="kobospan" id="kobo.360.1">Box</span></strong></span><span><span class="kobospan" id="kobo.361.1"> layout.</span></span></p>
<h2 id="_idParaDest-46" class="calibre7"><a id="_idTextAnchor052" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.362.1">Box</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.363.1">The </span><strong class="source-inline"><span class="kobospan" id="kobo.364.1">Box</span></strong><span class="kobospan" id="kobo.365.1"> layout allows us</span><a id="_idIndexMarker148" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.366.1"> to position child elements in a flexible way using the X and Y coordinates. </span><span class="kobospan" id="kobo.366.2">Let us see a </span><span><span class="kobospan" id="kobo.367.1">code example:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.368.1">
Box(
    modifier = Modifier
        .size(100.dp),
    contentAlignment = Alignment.Center
) {
    Icon(
        modifier = Modifier
            .size(80.dp),
        imageVector = Icons.Outlined.Notifications,
        contentDescription = null,
        tint = Color.Green
    )
    Text(text = "9")
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.369.1">In the preceding code, we have a </span><strong class="source-inline"><span class="kobospan" id="kobo.370.1">Box</span></strong><span class="kobospan" id="kobo.371.1"> composable that has an </span><strong class="source-inline"><span class="kobospan" id="kobo.372.1">Icon</span></strong><span class="kobospan" id="kobo.373.1"> and </span><strong class="source-inline"><span class="kobospan" id="kobo.374.1">Text</span></strong><span class="kobospan" id="kobo.375.1"> composable as its children. </span><span class="kobospan" id="kobo.375.2">We have </span><a id="_idIndexMarker149" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.376.1">set the size of the </span><strong class="source-inline"><span class="kobospan" id="kobo.377.1">Box</span></strong><span class="kobospan" id="kobo.378.1"> composable to </span><strong class="source-inline"><span class="kobospan" id="kobo.379.1">100.dp</span></strong><span class="kobospan" id="kobo.380.1"> and the </span><strong class="source-inline"><span class="kobospan" id="kobo.381.1">Icon</span></strong><span class="kobospan" id="kobo.382.1"> composable to </span><strong class="source-inline"><span class="kobospan" id="kobo.383.1">80.dp</span></strong><span class="kobospan" id="kobo.384.1">. </span><span class="kobospan" id="kobo.384.2">The text and icon composables are placed in the center of the </span><strong class="source-inline"><span class="kobospan" id="kobo.385.1">Box</span></strong><span class="kobospan" id="kobo.386.1"> composable using the </span><strong class="source-inline"><span class="kobospan" id="kobo.387.1">contentAlignment</span></strong><span class="kobospan" id="kobo.388.1"> parameter. </span><span class="kobospan" id="kobo.388.2">They are placed in the center of the </span><strong class="source-inline"><span class="kobospan" id="kobo.389.1">Box</span></strong><span class="kobospan" id="kobo.390.1"> composable because we have specified the </span><strong class="source-inline"><span class="kobospan" id="kobo.391.1">contentAlignment</span></strong><span class="kobospan" id="kobo.392.1"> parameter as </span><strong class="source-inline"><span class="kobospan" id="kobo.393.1">Alignment.Center</span></strong><span class="kobospan" id="kobo.394.1">. </span><span class="kobospan" id="kobo.394.2">They are also stacked on top of each other because the </span><strong class="source-inline"><span class="kobospan" id="kobo.395.1">Box</span></strong><span class="kobospan" id="kobo.396.1"> composable is a layout composable that stacks its children on top of each other. </span><span class="kobospan" id="kobo.396.2">The preview for our </span><strong class="source-inline"><span class="kobospan" id="kobo.397.1">Box</span></strong><span class="kobospan" id="kobo.398.1"> composable looks </span><span><span class="kobospan" id="kobo.399.1">as follows:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer045">
<span class="kobospan" id="kobo.400.1"><img alt="Figure 3.9 – Box preview" src="image/B19779_03_09.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.401.1">Figure 3.9 – Box preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.402.1">As we can see from </span><span><em class="italic"><span class="kobospan" id="kobo.403.1">Figure 3</span></em></span><em class="italic"><span class="kobospan" id="kobo.404.1">.9</span></em><span class="kobospan" id="kobo.405.1">, the notification icon and the text are stacked together. </span><span class="kobospan" id="kobo.405.2">The </span><strong class="source-inline"><span class="kobospan" id="kobo.406.1">Box</span></strong><span class="kobospan" id="kobo.407.1"> composable enables us to</span><a id="_idIndexMarker150" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.408.1"> achieve this and </span><span><span class="kobospan" id="kobo.409.1">much more.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.410.1">Now let us look at how to display lists in Jetpack Compose in the </span><span><span class="kobospan" id="kobo.411.1">next section.</span></span></p>
<h2 id="_idParaDest-47" class="calibre7"><a id="_idTextAnchor053" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.412.1">Lists</span></h2>
<p class="calibre4"><span class="kobospan" id="kobo.413.1">As Android developers, we</span><a id="_idIndexMarker151" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.414.1"> need to make apps that display lists of items. </span><span class="kobospan" id="kobo.414.2">It can be a list of movies, orders, songs, or books. </span><span class="kobospan" id="kobo.414.3">So, how do we do that in Compose? </span><span class="kobospan" id="kobo.414.4">The good news for us is that Jetpack Compose makes it easier for us to do so. </span><span class="kobospan" id="kobo.414.5">Compose provides the </span><strong class="source-inline"><span class="kobospan" id="kobo.415.1">LazyColumn</span></strong><span class="kobospan" id="kobo.416.1"> and </span><strong class="source-inline"><span class="kobospan" id="kobo.417.1">LazyRow</span></strong><span class="kobospan" id="kobo.418.1"> components, which can be used to display a list of items. </span><span class="kobospan" id="kobo.418.2">These components are very efficient and performant. </span><span class="kobospan" id="kobo.418.3">They only render the items that are visible on the screen, rather than rendering all the items at once. </span><strong class="source-inline"><span class="kobospan" id="kobo.419.1">LazyColumn</span></strong><span class="kobospan" id="kobo.420.1"> displays items vertically, while </span><strong class="source-inline"><span class="kobospan" id="kobo.421.1">LazyRow</span></strong><span class="kobospan" id="kobo.422.1"> displays items horizontally. </span><strong class="source-inline"><span class="kobospan" id="kobo.423.1">LazyColumn</span></strong><span class="kobospan" id="kobo.424.1"> and </span><strong class="source-inline"><span class="kobospan" id="kobo.425.1">LazyRow</span></strong><span class="kobospan" id="kobo.426.1"> are normally optimized for large datasets and at times are not suitable for all use cases. </span><span class="kobospan" id="kobo.426.2">These composable functions allow you to define</span><a id="_idIndexMarker152" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.427.1"> the contents of the list as a function that returns a single item, and then Compose will automatically generate and render the UI elements for each item in the list as they become visible on </span><span><span class="kobospan" id="kobo.428.1">the screen.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.429.1">Let’s see an example </span><span><span class="kobospan" id="kobo.430.1">of </span></span><span><strong class="source-inline"><span class="kobospan" id="kobo.431.1">LazyColumn</span></strong></span><span><span class="kobospan" id="kobo.432.1">:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.433.1">
LazyColumn(
    modifier = Modifier
        .fillMaxSize()
        .background(Color.LightGray)
) {
    items(100) {
        Text(
            modifier = Modifier
                .padding(8.dp),
            text = "Item number $it"
        )
    }
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.434.1">We have </span><strong class="source-inline"><span class="kobospan" id="kobo.435.1">LazyColumn</span></strong><span class="kobospan" id="kobo.436.1"> with 100 items. </span><span class="kobospan" id="kobo.436.2">Each item is a </span><strong class="source-inline"><span class="kobospan" id="kobo.437.1">Text</span></strong><span class="kobospan" id="kobo.438.1"> composable. </span><span class="kobospan" id="kobo.438.2">The preview for this looks </span><span><span class="kobospan" id="kobo.439.1">as follows:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer046">
<span class="kobospan" id="kobo.440.1"><img alt="Figure 3.10 – LazyColumn preview" src="image/B19779_03_10.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.441.1">Figure 3.10 – LazyColumn preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.442.1">We can see from </span><span><em class="italic"><span class="kobospan" id="kobo.443.1">Figure 3</span></em></span><em class="italic"><span class="kobospan" id="kobo.444.1">.10</span></em><span class="kobospan" id="kobo.445.1"> that we now have a list of items that scroll vertically. </span><span class="kobospan" id="kobo.445.2">As mentioned, it only shows the items that can fit on the screen. </span><span class="kobospan" id="kobo.445.3">If we use interactive mode on our preview, we will be</span><a id="_idIndexMarker153" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.446.1"> able to scroll through to the bottom of </span><span><span class="kobospan" id="kobo.447.1">the list.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.448.1">Let us see the </span><strong class="source-inline"><span class="kobospan" id="kobo.449.1">LazyRow</span></strong><span class="kobospan" id="kobo.450.1"> equivalent </span><span><span class="kobospan" id="kobo.451.1">as well:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.452.1">
LazyRow(
    modifier = Modifier
        .fillMaxWidth()
        .background(Color.LightGray)
        .padding(8.dp)
) {
    items(100) {
        Text(
            modifier = Modifier
                .padding(8.dp),
            text = "Item number $it"
        )
    }
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.453.1">We have </span><strong class="source-inline"><span class="kobospan" id="kobo.454.1">LazyRow</span></strong><span class="kobospan" id="kobo.455.1"> with 100 items. </span><span class="kobospan" id="kobo.455.2">Each</span><a id="_idIndexMarker154" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.456.1"> item is a </span><strong class="source-inline"><span class="kobospan" id="kobo.457.1">Text</span></strong><span class="kobospan" id="kobo.458.1"> composable. </span><span class="kobospan" id="kobo.458.2">The preview for this looks </span><span><span class="kobospan" id="kobo.459.1">as follows:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer047">
<span class="kobospan" id="kobo.460.1"><img alt="Figure 3.11 – LazyRow preview" src="image/B19779_03_11.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.461.1">Figure 3.11 – LazyRow preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.462.1">We can see from </span><span><em class="italic"><span class="kobospan" id="kobo.463.1">Figure 3</span></em></span><em class="italic"><span class="kobospan" id="kobo.464.1">.11</span></em><span class="kobospan" id="kobo.465.1"> that we now have a list of items that scroll horizontally. </span><span class="kobospan" id="kobo.465.2">Similar to </span><strong class="source-inline"><span class="kobospan" id="kobo.466.1">LazyColumn</span></strong><span class="kobospan" id="kobo.467.1">, it only shows the items that can fit on the screen. </span><span class="kobospan" id="kobo.467.2">If we use interactive mode on our preview, we can scroll through to the end of </span><span><span class="kobospan" id="kobo.468.1">the list.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.469.1">We also have two more types of list layouts, </span><strong class="source-inline"><span class="kobospan" id="kobo.470.1">LazyVerticalGrid</span></strong><span class="kobospan" id="kobo.471.1"> and </span><strong class="source-inline"><span class="kobospan" id="kobo.472.1">LazyHorizontalGrid</span></strong><span class="kobospan" id="kobo.473.1">. </span><span class="kobospan" id="kobo.473.2">The two layouts are part of the lazy grids and help us to arrange our content in grids. </span><span class="kobospan" id="kobo.473.3">They’re commonly used in applications such as galleries, movies, and spreadsheets. </span><strong class="source-inline"><span class="kobospan" id="kobo.474.1">LazyVerticalGrid</span></strong><span class="kobospan" id="kobo.475.1"> creates a vertical list of items in a grid. </span><span class="kobospan" id="kobo.475.2">Let us look at the sample code </span><span><span class="kobospan" id="kobo.476.1">for </span></span><span><strong class="source-inline"><span class="kobospan" id="kobo.477.1">LazyVerticalGrid</span></strong></span><span><span class="kobospan" id="kobo.478.1">:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.479.1">
LazyVerticalGrid(
    modifier = Modifier
        .fillMaxSize()
        .background(Color.LightGray)
        .padding(8.dp),
    columns = GridCells.Fixed(3)
) {
    items(100) {
        Text(
            modifier = Modifier
                .padding(8.dp),
            text = "Item number $it"
        )
    }
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.480.1">We have used the </span><strong class="source-inline"><span class="kobospan" id="kobo.481.1">LazyVerticalGrid</span></strong><span class="kobospan" id="kobo.482.1"> composable. </span><span class="kobospan" id="kobo.482.2">We pass our modifiers as before. </span><span class="kobospan" id="kobo.482.3">Notice we also have the </span><strong class="source-inline"><span class="kobospan" id="kobo.483.1">columns</span></strong><span class="kobospan" id="kobo.484.1"> parameter. </span><span class="kobospan" id="kobo.484.2">This parameter allows us to specify the number of columns and how items are arranged within the columns. </span><span class="kobospan" id="kobo.484.3">In this case, we specified </span><strong class="source-inline"><span class="kobospan" id="kobo.485.1">GridCells</span></strong><span class="kobospan" id="kobo.486.1"> to be </span><strong class="source-inline"><span class="kobospan" id="kobo.487.1">Fixed</span></strong><span class="kobospan" id="kobo.488.1">. </span><span class="kobospan" id="kobo.488.2">This means the grid will have a fixed number of columns or rows in it is a </span><strong class="source-inline"><span class="kobospan" id="kobo.489.1">LazyHorizontalGrid</span></strong><span class="kobospan" id="kobo.490.1">. </span><span class="kobospan" id="kobo.490.2">We also have the </span><strong class="source-inline"><span class="kobospan" id="kobo.491.1">Adaptive</span></strong><span class="kobospan" id="kobo.492.1"> type, which </span><a id="_idIndexMarker155" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.493.1">defines a grid with as many rows or columns as possible with the condition that every cell has a minimum size and all extra space is distributed evenly. </span><span class="kobospan" id="kobo.493.2">Our preview will look </span><span><span class="kobospan" id="kobo.494.1">as follows:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer048">
<span class="kobospan" id="kobo.495.1"><img alt="Figure 3.12 – LazyVerticalGrid preview" src="image/B19779_03_12.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.496.1">Figure 3.12 – LazyVerticalGrid preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.497.1">We have our text elements in a grid of three columns. </span><span class="kobospan" id="kobo.497.2">We are now able to scroll through the items vertically. </span><span class="kobospan" id="kobo.497.3">Let us</span><a id="_idIndexMarker156" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.498.1"> now look at the code </span><span><span class="kobospan" id="kobo.499.1">for </span></span><span><strong class="source-inline"><span class="kobospan" id="kobo.500.1">LazyHorizontalGrid</span></strong></span><span><span class="kobospan" id="kobo.501.1">:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.502.1">
LazyHorizontalGrid(
    modifier = Modifier
        .fillMaxSize()
        .background(Color.LightGray)
        .padding(8.dp),
    rows = GridCells.Fixed(3)
) {
    items(100) {
        Text(
            modifier = Modifier
                .padding(8.dp),
            text = "Item number $it"
        )
    }
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.503.1">The code is similar to that for </span><strong class="source-inline"><span class="kobospan" id="kobo.504.1">LazyVerticalGrid</span></strong><span class="kobospan" id="kobo.505.1">. </span><span class="kobospan" id="kobo.505.2">The only difference is that we are using </span><strong class="source-inline"><span class="kobospan" id="kobo.506.1">LazyHorizontalGrid</span></strong><span class="kobospan" id="kobo.507.1"> and</span><a id="_idIndexMarker157" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.508.1"> instead of columns, we are now passing </span><strong class="source-inline"><span class="kobospan" id="kobo.509.1">rows</span></strong><span class="kobospan" id="kobo.510.1"> to describe how the cells will form the rows. </span><span class="kobospan" id="kobo.510.2">The preview will look </span><span><span class="kobospan" id="kobo.511.1">like this:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer049">
<span class="kobospan" id="kobo.512.1"><img alt="Figure 3.13 – LazyHorizontalGrid preview" src="image/B19779_03_13.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.513.1">Figure 3.13 – LazyHorizontalGrid preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.514.1">As seen in </span><span><em class="italic"><span class="kobospan" id="kobo.515.1">Figure 3</span></em></span><em class="italic"><span class="kobospan" id="kobo.516.1">.13</span></em><span class="kobospan" id="kobo.517.1">, we now have three rows on the entire screen, and we can also scroll through </span><span><span class="kobospan" id="kobo.518.1">them</span></span><span><a id="_idIndexMarker158" class="calibre3 pcalibre pcalibre1"/></span><span><span class="kobospan" id="kobo.519.1"> horizontally.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.520.1">In addition to </span><strong class="source-inline"><span class="kobospan" id="kobo.521.1">LazyVerticalGrid</span></strong><span class="kobospan" id="kobo.522.1"> and </span><strong class="source-inline"><span class="kobospan" id="kobo.523.1">LazyHorizontalGrid</span></strong><span class="kobospan" id="kobo.524.1">, we also have </span><strong class="source-inline"><span class="kobospan" id="kobo.525.1">LazyVerticalStaggeredGrid</span></strong><span class="kobospan" id="kobo.526.1"> and </span><strong class="source-inline"><span class="kobospan" id="kobo.527.1">LazyHorizontalStaggeredGrid</span></strong><span class="kobospan" id="kobo.528.1">, which are remarkably similar; the only difference is that they adapt to the children’s height and width, respectively, meaning they all do not have uniform height </span><span><span class="kobospan" id="kobo.529.1">or width.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.530.1">Let us now have a</span><a id="_idIndexMarker159" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.531.1"> look at </span><strong class="source-inline"><span class="kobospan" id="kobo.532.1">ConstraintLayout</span></strong><span class="kobospan" id="kobo.533.1"> in the </span><span><span class="kobospan" id="kobo.534.1">next section.</span></span></p>
<h3 class="calibre9"><span class="kobospan" id="kobo.535.1">ConstraintLayout</span></h3>
<p class="calibre4"><span class="kobospan" id="kobo.536.1">This layout enables us to create responsive layouts. </span><span class="kobospan" id="kobo.536.2">We can create complex layouts with relative positioning. </span><strong class="source-inline"><span class="kobospan" id="kobo.537.1">ConstraintLayout</span></strong><span class="kobospan" id="kobo.538.1"> uses chains, barriers, and guidelines to position child elements</span><a id="_idIndexMarker160" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.539.1"> relative to </span><span><span class="kobospan" id="kobo.540.1">each other.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.541.1">It comes as a separate dependency, and we need to add it to our project. </span><span class="kobospan" id="kobo.541.2">To add it, let us add this dependency to our app </span><span><strong class="source-inline"><span class="kobospan" id="kobo.542.1">build.gradle</span></strong></span><span><span class="kobospan" id="kobo.543.1"> file:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.544.1">
 implementation 'androidx.constraintlayout:constraintlayout-compose:1.0.1'</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.545.1">This adds the Jetpack Compose dependency to our project. </span><span class="kobospan" id="kobo.545.2">The layout code for the constraint layout is </span><span><span class="kobospan" id="kobo.546.1">as follows:</span></span></p>
<pre class="source-code"><span class="kobospan1" id="kobo.547.1">
ConstraintLayout(
  modifier = Modifier
    .padding(16.dp)
) {
    val (icon, text) = createRefs()
      Icon(
          modifier = Modifier
            .size(80.dp)
            .constrainAs(icon) {
                top.linkTo(parent.top)
                bottom.linkTo(parent.bottom)
                start.linkTo(parent.start)
            },
          imageVector = Icons.Outlined.Notifications,
          contentDescription = null,
          tint = Color.Green
      )
    Text(
        modifier = Modifier
          .constrainAs(text) {
              top.linkTo(parent.top)
              bottom.linkTo(parent.bottom)
              start.linkTo(icon.end) },
        text = "9",
        style = MaterialTheme.typography.titleLarge
    )
}</span></pre> <p class="calibre4"><span class="kobospan" id="kobo.548.1">In the preceding code, we used the </span><strong class="source-inline"><span class="kobospan" id="kobo.549.1">ConstraintLayout</span></strong><span class="kobospan" id="kobo.550.1"> composable function to create </span><strong class="source-inline"><span class="kobospan" id="kobo.551.1">ConstraintLayout</span></strong><span class="kobospan" id="kobo.552.1">. </span><span class="kobospan" id="kobo.552.2">Inside </span><strong class="source-inline"><span class="kobospan" id="kobo.553.1">ConstraintLayout</span></strong><span class="kobospan" id="kobo.554.1">, we used the </span><strong class="source-inline"><span class="kobospan" id="kobo.555.1">createRefs()</span></strong><span class="kobospan" id="kobo.556.1"> function to create two references, one for the icon and one for the text. </span><span class="kobospan" id="kobo.556.2">We then used the </span><strong class="source-inline"><span class="kobospan" id="kobo.557.1">constrainAs()</span></strong><span class="kobospan" id="kobo.558.1"> function to constrain the icon and the text to the parent. </span><span class="kobospan" id="kobo.558.2">We used the </span><strong class="source-inline"><span class="kobospan" id="kobo.559.1">linkTo()</span></strong><span class="kobospan" id="kobo.560.1"> function to link the icon and the text to the parent. </span><span class="kobospan" id="kobo.560.2">In this case, we have linked </span><a id="_idIndexMarker161" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.561.1">the icon to the start, top, and bottom of the parent. </span><span class="kobospan" id="kobo.561.2">For the text, we have linked it to the top and bottom of the parent. </span><span class="kobospan" id="kobo.561.3">We have additionally linked the start of the text to the end of the icon. </span><span class="kobospan" id="kobo.561.4">Our preview will look </span><span><span class="kobospan" id="kobo.562.1">as follows:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer050">
<span class="kobospan" id="kobo.563.1"><img alt="Figure 3.14 – ConstraintLayout preview" src="image/B19779_03_14.jpg" class="calibre5"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.564.1">Figure 3.14 – ConstraintLayout preview</span></p>
<p class="calibre4"><span class="kobospan" id="kobo.565.1">From the preceding</span><a id="_idIndexMarker162" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.566.1"> screenshot, we can see that we have an icon and text to the right of the icon. </span><strong class="source-inline"><span class="kobospan" id="kobo.567.1">ConstraintLayout</span></strong><span class="kobospan" id="kobo.568.1"> helps in positioning items relative to the parent or </span><span><span class="kobospan" id="kobo.569.1">each other.</span></span></p>
<h1 id="_idParaDest-48" class="calibre6"><a id="_idTextAnchor054" class="calibre3 pcalibre pcalibre1"/><span class="kobospan" id="kobo.570.1">Summary</span></h1>
<p class="calibre4"><span class="kobospan" id="kobo.571.1">In this chapter, we have introduced ourselves to Jetpack Compose, a declarative way of creating UIs for apps. </span><span class="kobospan" id="kobo.571.2">We have also learned about the different layouts that are in Compose and how the Jetpack Compose compiler renders state into </span><span><span class="kobospan" id="kobo.572.1">a UI.</span></span></p>
<p class="calibre4"><span class="kobospan" id="kobo.573.1">In the next chapter, we will be building on top of what we have learned and look at how to design beautiful and intuitive apps with </span><strong class="bold"><span class="kobospan" id="kobo.574.1">Material Design 3</span></strong><span class="kobospan" id="kobo.575.1">. </span><span class="kobospan" id="kobo.575.2">We’re going to learn about Material Design 3, its features, and how to add dynamic color to </span><span><span class="kobospan" id="kobo.576.1">our app.</span></span></p>
</div>
</body></html>