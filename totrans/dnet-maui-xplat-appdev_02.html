<html><head></head><body>
<div><div><h1 class="chapterNumber">1</h1>
<h1 class="chapterTitle" id="_idParaDest-18">Getting Started with .NET MAUI</h1>
<p class="normal">Since the release of .NET 5, Microsoft has been trying to unify different .NET implementations into one .NET release. .NET Multi-platform App UI (or .NET MAUI) is the effort to<a id="_idIndexMarker000"/> provide a unified cross-platform UI framework. We will learn how to use .NET MAUI to develop cross-platform applications in this book.</p>
<p class="normal">The following is what we will cover in this chapter:</p>
<ul>
<li class="bulletList">Overview of cross-platform technologies</li>
<li class="bulletList">Comparison of cross-platform technologies (.NET, Java, and JavaScript)</li>
<li class="bulletList">.NET landscape and the history of Xamarin</li>
<li class="bulletList">.NET MAUI features</li>
<li class="bulletList">.NET MAUI Blazor apps</li>
<li class="bulletList">What’s new in .NET 8 for .NET MAUI?</li>
<li class="bulletList">Development environment setup</li>
</ul>
<p class="normal">If you’re new to .NET development, this chapter will help you to understand the .NET landscape. For Xamarin developers, many topics in this book may sound familiar; this chapter will give you an overview of what we will discuss in this book.</p>
<h1 class="heading-1" id="_idParaDest-19">Overview of cross-platform and full stack technologies</h1>
<p class="normal">.NET Multi-platform App UI, or .NET MAUI, is a <a id="_idIndexMarker001"/>cross-platform development framework from Microsoft for building apps that targets both mobile and desktop form factors on Android, iOS, macOS, Windows, and Tizen. It is one of a number of cross-platform frameworks available on the market.</p>
<p class="normal">Before discussing cross-platform technologies, let’s review the scope of application development first. This review will help us to understand the various cross-platform frameworks better.</p>
<p class="normal">Generally, software development can be <a id="_idIndexMarker002"/>divided into two categories – <strong class="keyWord">systems programming</strong> and <strong class="keyWord">application programming</strong>. Application programming <a id="_idIndexMarker003"/>aims to produce software that provides services to the user directly, whereas systems programming aims to produce software and software platforms that provide services to other software. In the .NET domain, the development of the .NET platform itself belongs to systems programming, whereas application development on top of the .NET platform belongs to application programming.</p>
<p class="normal">Compared to systems programming, most software development demands are from application programming.</p>
<p class="normal">Many business solutions <a id="_idIndexMarker004"/>fall under the category of application development. To understand why we choose a specific technology stack for a solution, it is essential to have an overview of all the technologies used in the entire solution. Once we have a clear understanding of the role cross-platform technologies play within the entire solution, we can better comprehend the technology we wish to select.</p>
<p class="normal">Most of the development effort for business solutions consists of frontend and backend components. Frontend developers are responsible for the visible and interactive part of an application<a id="_idIndexMarker005"/> that users directly see, touch, and<a id="_idIndexMarker006"/> interact with. Typically, the frontend team focuses on developing web and native applications. On the other hand, backend development deals with server-side processing, data management, and the implementation of business logic within an application.</p>
<p class="normal">Frontend and backend development<a id="_idIndexMarker007"/> involve different programming languages and frameworks. Sometimes, the same team may <a id="_idIndexMarker008"/>work on both frontend and backend development due to various reasons. In this case, we need a team who can work on full stack development.</p>
<p class="normal">To classify application development by programming languages and frameworks, we have the below three categories.</p>
<h2 class="heading-2" id="_idParaDest-20">Native application</h2>
<p class="normal">By <a id="_idIndexMarker009"/>native application development, we<a id="_idIndexMarker010"/> usually refer to application development for a particular operating system. For desktop applications, it could involve Windows applications, macOS applications, or Linux applications. For mobile applications, it could involve Android or iOS.</p>
<p class="normal">When we develop a native application, we may need to support multiple platforms (Windows, Linux, Android, macOS/iOS, etc.). To support multiple platforms, we need to use different programming languages, tools, and libraries to develop each of them individually.</p>
<h2 class="heading-2" id="_idParaDest-21">Web application</h2>
<p class="normal">Web application development <a id="_idIndexMarker011"/>has <a id="_idIndexMarker012"/>gone through several generations of evolution over the past few decades, from the Netscape browser with static web pages to today’s <strong class="keyWord">single-page application (SPA)</strong> using <a id="_idIndexMarker013"/>JavaScript frameworks (such as React and Angular). In web application development, JavaScript and various JavaScript-based frameworks dominate the market. In the .NET ecosystem, Blazor is trying to catch up in this area. We’ll learn more about Blazor in Chapter 8, <em class="italic">Introducing Blazor Hybrid App Development.</em></p>
<h2 class="heading-2" id="_idParaDest-22">Backend services</h2>
<p class="normal">Both <a id="_idIndexMarker014"/>native applications and web applications typically require backend services to access business logic or a database. For backend development, there are various languages and frameworks available, including Java/Spring, .NET, Node.js, Ruby on Rails, and Python/Django. In many cases, native applications and web applications can share the same backend service. Java/Spring, ASP.NET, and Node.js are among the most popular choices for backend service developments.</p>
<p class="normal">The selection <a id="_idIndexMarker015"/>of the technical stack for each category can significantly impact the complexity of a solution. In the next section, we will review and analyze solution complexity.</p>
<h2 class="heading-2" id="_idParaDest-23">Managing development complexity</h2>
<p class="normal">Building a <a id="_idIndexMarker016"/>complete solution usually requires a web app, a native app, and a backend service. Since web, native, and backend development use different programming languages and frameworks, we have to set up multiple teams to implement one solution. To manage the complexity of the development process, we need to manage the profile of the development team. The team profile can be managed according to two extreme cases/approaches. The simplest one is to set up one team that works on all stacks. The more complex one is to have separate teams for each stack. To successfully develop for all stacks using one team, the team must be a cross-platform full stack development team. Is it possible to have a cross-platform full stack team? Let’s review various scenarios for this in the next two sections.</p>
<h2 class="heading-2" id="_idParaDest-24">Full stack development</h2>
<p class="normal">Many <a id="_idIndexMarker017"/>people doubt whether it is good, or<a id="_idIndexMarker018"/> even possible, to set up a full stack team, but in fact, the earliest web development frameworks were full stack frameworks. If you had a chance to use <a id="_idIndexMarker019"/>Java/Thymeleaf or ASP.NET MVC, you will know that they are full stack frameworks. These frameworks use server-side rendering, so the implementation of the UI and business logic are all on the server side.</p>
<p class="normal">The separation of frontend and backend came with the emergence of SPAs. To move the UI to the client side, SPA frameworks, such as React, Angular, and Vue.js, are used to implement the client-side logic. Backend services are implemented using frameworks such as Java/Spring and ASP.NET Core.</p>
<p class="normal">SPA frameworks<a id="_idIndexMarker020"/> use <strong class="keyWord">client-side rendering</strong> (<strong class="keyWord">CSR</strong>), while Java/Thymeleaf and ASP.NET MVC use <strong class="keyWord">server-side rendering</strong> (<strong class="keyWord">SSR</strong>). Both CSR and SSR have their pros and cons. In modern application development, both CSR and SSR are used by frameworks, as in Next.js and Nuxt.js. In .NET 8, Microsoft introduced server-side Blazor component rendering, or Blazor United. With this feature, the boundary between frontend and backend in ASP.NET has blurred again.</p>
<p class="normal">In summary, we should choose technology stacks based on business requirements, so there is not a single, catch-all answer as to whether we should go with full stack development or not.</p>
<p class="normal">For<a id="_idIndexMarker021"/> end users, SPAs are very similar to native applications, and some SPA frameworks have even evolved into cross-platform frameworks, such as React Native. With React and React Native, it is possible to have one team working on both frontend development and native application development. Furthermore, if a JavaScript-based backend framework is chosen, it is possible to set up one cross-platform full stack team to implement the entire solution.</p>
<p class="normal">To understand cross-platform frameworks better, let us analyze the cross-platform frameworks currently available on the market in the next section.</p>
<h2 class="heading-2" id="_idParaDest-25">Cross-platform technologies</h2>
<p class="normal">Cross-platform frameworks<a id="_idIndexMarker022"/> are alternative solutions to native application development. Native application development refers to using the programming language and <strong class="keyWord">software development kit</strong> (<strong class="keyWord">SDK</strong>) provided by the operating system. In native <a id="_idIndexMarker023"/>application development, we use native development tools, such as Swift/UIKit for iOS, Java/Kotlin for Android, and C#/WinUI for <a id="_idIndexMarker024"/>Windows. Ideally, we<a id="_idIndexMarker025"/> should use the tools provided by the operating system vendor to develop applications for a given operating system. With native application development, we don’t have performance or compatibility issues in our apps. With cross-platform development frameworks, there will always be certain corner cases that cannot be resolved using cross-platform APIs alone. Regardless of whether you are a .NET MAUI, React Native, or Flutter developer, it is necessary to acquire a certain level of native programming knowledge to address these specific cases. For instance, I am currently waiting for the ZXing.Net.Maui project to be ready to support QR code functionality in my application.</p>
<p class="normal">However, we usually need to develop our application for multiple operating systems. Native application development incurs much higher costs than cross-platform frameworks. We must strike a balance between budget, time, and quality in a project. Again, we need to choose a solution based on the business requirements. This might mean we need to choose a cross-platform framework.</p>
<p class="normal">The most popular cross-platform frameworks on the market include Flutter, React Native, .NET MAUI/Xamarin, Ionic, and Apache Cordova.</p>
<div><p class="normal">Gaining an understanding of various cross-platform technologies can greatly benefit .NET MAUI developers in making informed decisions when selecting their technology stack. It’s important to note that, currently, there isn’t a single cross-platform technology that can fulfill all requirements. As a result, we still come across new projects utilizing Ionic in business solutions.</p>
</div>
<p class="normal">In these <a id="_idIndexMarker026"/>frameworks, besides Flutter and .NET MAUI, React Native, Ionic, and Apache Cordova are JavaScript-based frameworks that originated from web development.</p>
<h3 class="heading-3" id="_idParaDest-26">Apache Cordova</h3>
<p class="normal">Apache Cordova<a id="_idIndexMarker027"/> is a hybrid framework<a id="_idIndexMarker028"/> that can be used to build mobile apps using web technologies such as HTML, CSS, and JavaScript. Cordova runs inside WebView, which provides a runtime environment to access device features. Cordova uses the same technologies as web apps, so Cordova can reuse the source code of web apps. Using a hybrid framework, the frontend team can work on both web and mobile applications.</p>
<p class="normal">The problem with hybrid frameworks is that the user interface for mobile is more similar to that of web apps than that of native apps, since the UI is created using web technology. Another concern is that the performance of hybrid apps is dependent on WebView’s performance on the specific platform. Users may have different experiences on iOS and Android platforms.</p>
<p class="normal">Cordova is a hybrid framework that uses JavaScript, HTML, and CSS, but it doesn’t provide a way to use modern JavaScript frameworks, such as React, Vue.js, and Angular.</p>
<h3 class="heading-3" id="_idParaDest-27">Ionic</h3>
<p class="normal">Ionic is a <a id="_idIndexMarker029"/>framework that was initially built on top of <a id="_idIndexMarker030"/>Apache Cordova. Another low-level framework called Capacitor can also be used in the more recent versions. Ionic can integrate with popular JavaScript frameworks such as React, Vue.js, and Angular, which means productivity can be improved significantly. Ionic also includes UI controls to support interactions, gestures, and animations.</p>
<p class="normal">Since Ionic is<a id="_idIndexMarker031"/> built using hybrid frameworks such as Cordova and Capacitor, the <a id="_idIndexMarker032"/>performance is similar to that of the underlying frameworks. However, Ionic includes optimizations for animations and transitions to deliver native-like performance for built-in libraries.</p>
<h3 class="heading-3" id="_idParaDest-28">React Native</h3>
<p class="normal">React Native <a id="_idIndexMarker033"/>is another framework that originated<a id="_idIndexMarker034"/> from a web development framework. Since React Native uses React and JavaScript to develop mobile apps, React developers can pick up React Native with very little effort. A cross-platform team can work on both web and mobile apps using React and React Native.</p>
<p class="normal">Unlike hybrid frameworks, React Native uses a bridge to translate JavaScript UIs into native ones. React Native apps have the same look and feel as native apps. Since React Native uses native components for rendering UIs on iOS and Android instead of WebView, it can achieve better performance than hybrid apps. A downside of React Native using native components is that we cannot share UI design and UI code between React and React Native. The paradigm is, “Learn once, write anywhere,” instead of, “Write once, run anywhere.”</p>
<p class="normal">Since React Native uses a bridge in its architecture, it may have slower performance than Flutter or .NET MAUI. In newer React Native releases, this may be improved by the new architecture.</p>
<h3 class="heading-3" id="_idParaDest-29">Flutter</h3>
<p class="normal">Flutter<a id="_idIndexMarker035"/> is<a id="_idIndexMarker036"/> an open-source UI toolkit developed by Google using the programming language Dart. Using Dart, Flutter supports <strong class="keyWord">just-in-time</strong> (<strong class="keyWord">JIT</strong>) and <strong class="keyWord">ahead-of-time</strong> (<strong class="keyWord">AOT</strong>) compilation and also has powerful performance optimization tools. Flutter apps can achieve near-native app performance.</p>
<p class="normal">Flutter employs a distinct rendering technology in comparison to hybrid apps and React Native. It uses an internal graphics engine called Skia (or Impeller, in the preview) to convert a hierarchy of widgets into the actual pixels on the screen. Flutter apps have the same look and feel on different devices without specific customization.</p>
<p class="normal">To simulate the look and feel of different platforms, Flutter has two different UI libraries for iOS and Android. Cupertino widgets are used for iOS and Material widgets for Android.</p>
<h3 class="heading-3" id="_idParaDest-30">.NET MAUI</h3>
<p class="normal">.NET MAUI is a <a id="_idIndexMarker037"/>successor of Xamarin.Forms, which is a part of the larger Xamarin platform. Xamarin<a id="_idIndexMarker038"/> itself provides native UI controls <a id="_idIndexMarker039"/>as part of the .NET runtime environment on iOS, macOS, and Android. You can develop native applications using C# and Xamarin. On Windows, since .NET is the original framework, .NET is supported by default. </p>
<p class="normal">From .NET 6 or above, you have a full .NET runtime available on these four platforms. .NET MAUI is only one of the .NET cross-platform frameworks that uses Xamarin. There are other .NET cross-platform frameworks that use Xamarin, and some of them can support more operating systems than .NET MAUI, such as Uno Platform, Avalonia UI, and Blazor Hybrid.</p>
<p class="normal">Flutter, React Native, and Cordova/Ionic represent three different types of cross-platform framework implementations. In the .NET world, we can find .NET cross-platform implementations that can match all these three categories.</p>
<p class="normal">Cordova, or Ionic, is a hybrid framework that uses web technology JavaScript, HTML, and CSS to develop mobile applications that run inside WebView. In .NET, Blazor is a web technology that uses C#, HTML, and CSS to develop web applications. The hybrid solution in .NET is Blazor Hybrid. BlazorWebView is<a id="_idIndexMarker040"/> used to host Blazor Hybrid applications on different platforms. Currently, BlazorWebView is available for .NET MAUI, WFP, and Windows Forms. We can use BlazorWebView to develop hybrid applications on these three frameworks. It is like Cordova and Ionic in that the look and feel of Blazor Hybrid applications is the same as that of web applications. It is possible to reuse code between Blazor Hybrid and Blazor applications.</p>
<p class="normal">Flutter uses a rendering technology based on Skia’s 2D engine or Impeller. In .NET, Avalonia UI uses a similar approach that builds UI controls using Skia’s 2D engine.</p>
<p class="normal">.NET MAUI uses native components as UI controls, such as React Native, so the .NET MAUI UI looks the same as native applications.</p>
<p class="normal">For a summary and comparison of the different frameworks, see <em class="italic">Table 1.1</em>.</p>
<table class="table-container" id="table001-1">
<tbody>
<tr>
<td class="table-cell" colspan="2">
<p class="normal"><strong class="keyWord">Cross-Platform Frameworks</strong></p>
<p class="normal"><strong class="keyWord">(Languages)</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">UI Feature</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">.NET MAUI</p>
<p class="normal">(XAML/C#)</p>
</td>
<td class="table-cell">
<p class="normal">React Native</p>
<p class="normal">(HTML/CSS/JavaScript)</p>
</td>
<td class="table-cell">
<p class="normal">Native UI</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Blazor Hybrid</p>
<p class="normal">(HTML/CSS/C#)</p>
</td>
<td class="table-cell">
<p class="normal">Ionic/Cordova</p>
<p class="normal">(HTML/CSS/JavaScript)</p>
</td>
<td class="table-cell">
<p class="normal">Web UI</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Avalonia UI</p>
<p class="normal">(XAML/C#)</p>
</td>
<td class="table-cell">
<p class="normal">Flutter</p>
<p class="normal">(Dart)</p>
</td>
<td class="table-cell">
<p class="normal">Custom UI using 2D engine (Skia)</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 1.1: Comparison of cross-platform frameworks</p>
<p class="normal">Besides Flutter, we <a id="_idIndexMarker041"/>can see that cross-platform frameworks use either JavaScript or .NET. It is possible to set up a cross-platform full stack team to work on the entire solution using either JavaScript or .NET technologies. Let’s review the complexity level of cross-platform full stack solutions in the next section by comparing different combinations.</p>
<h2 class="heading-2" id="_idParaDest-31">Analysis of cross-platform full stack solutions</h2>
<p class="normal">Now that<a id="_idIndexMarker042"/> we have analyzed cross-platform and full stack frameworks, we can see that we are able to use just one programming language, either JavaScript or C#, to build the entire technical stack for a solution.</p>
<p class="normal"><em class="italic">Table 1.2</em> is a summary of cross-platform full stack frameworks that use JavaScript or .NET.</p>
<table class="table-container" id="table002">
<tbody>
<tr>
<td class="table-cell" rowspan="2">
<p class="normal"><strong class="keyWord">Layers</strong></p>
</td>
<td class="table-cell" colspan="2">
<p class="normal"><strong class="keyWord">Frameworks</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">JavaScript</p>
</td>
<td class="table-cell">
<p class="normal">C#/.NET</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><img alt="" height="28" src="img/1.png" width="27"/> Web Application</p>
</td>
<td class="table-cell">
<p class="normal">React, Angular or Vue.js, etc.</p>
</td>
<td class="table-cell">
<p class="normal">Blazor</p>
</td>
</tr>
<tr>
<td class="table-cell" rowspan="2">
<p class="normal"><img alt="" height="39" src="img/2.png" width="22"/> Mobile Application</p>
</td>
<td class="table-cell">
<p class="normal">Cordova or Ionic</p>
</td>
<td class="table-cell">
<p class="normal">Blazor Hybrid</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">React Native</p>
</td>
<td class="table-cell">
<p class="normal">.NET MAUI</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><img alt="" height="27" src="img/3.png" width="26"/> Backend Services</p>
</td>
<td class="table-cell">
<p class="normal">Node.js/Nest.js/Koa/Express.js</p>
</td>
<td class="table-cell">
<p class="normal">ASP.NET Core</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 1.2: Comparison of JavaScript and .NET cross-platform full stack technical stacks</p>
<p class="normal">To<a id="_idIndexMarker043"/> build a solution using JavaScript, we can develop a web client using JavaScript frameworks, such as React, Angular, and Vue.js. If cost and time to market are major considerations, we will want to reuse code between web and mobile as much as possible. In that case, we can choose hybrid frameworks, such as Ionic and Cordova. If performance and user experience are more important to the business, React Native can be a good choice for mobile development. For backend services, there are plenty of JavaScript-based backend frameworks, such as Nest.js, Koa, and Express.js. We can choose pure JavaScript frameworks for all layers in the solution.</p>
<p class="normal">In .NET, we have very similar choices to those we have in JavaScript. If choosing a pure .NET technical stack for a solution, Blazor can be used for web client development. We also have the option to choose between hybrid and native frameworks. If considering cost and time to market, we can choose Blazor Hybrid so that web and mobile development can be treated as one development task. To have a native user experience and better performance, we can choose .NET MAUI for mobile development. In backend development, ASP.NET Core already has a large market share and is a popular framework.</p>
<p class="normal">Using frameworks with one programming language is the most economical choice, as we saw in <em class="italic">Table 1.1</em> and <em class="italic">Table 1.2</em>. However, in real projects, we may have to consider many factors. Our actual solution can be a combination of different languages and frameworks. Let’s review the complexity level of different combinations in <em class="italic">Table 1.3</em>.</p>
<table class="table-container" id="table003">
<tbody>
<tr>
<td class="table-cell" rowspan="9">
<p class="normal"><strong class="keyWord">Cost Time to Market</strong></p>
</td>
<td class="table-cell" rowspan="9">
<p class="normal"><strong class="keyWord"><img alt="" height="381" src="img/11.png" width="24"/></strong></p>
</td>
<td class="table-cell" rowspan="9">
<p class="normal"><strong class="keyWord">Performance User Experience</strong></p>
</td>
<td class="table-cell" rowspan="2">
<p class="normal"><strong class="keyWord">Complexity Level</strong></p>
</td>
<td class="table-cell" colspan="3">
<p class="normal"><strong class="keyWord">Technical Stacks in a Solution</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Mobile</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Web</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Backend</strong></p>
</td>
</tr>
<tr>
<td class="table-cell" rowspan="2">
<p class="normal">1</p>
</td>
<td class="table-cell">
<p class="normal">Blazor Hybrid</p>
</td>
<td class="table-cell">
<p class="normal">Blazor</p>
</td>
<td class="table-cell">
<p class="normal">ASP.NET</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Ionic/Cordova</p>
</td>
<td class="table-cell">
<p class="normal">JavaScript</p>
</td>
<td class="table-cell">
<p class="normal">Node.js</p>
</td>
</tr>
<tr>
<td class="table-cell" rowspan="2">
<p class="normal">2</p>
</td>
<td class="table-cell">
<p class="normal">.NET MAUI</p>
</td>
<td class="table-cell">
<p class="normal">Blazor</p>
</td>
<td class="table-cell">
<p class="normal">ASP.NET</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">React Native</p>
</td>
<td class="table-cell">
<p class="normal">ReactJS</p>
</td>
<td class="table-cell">
<p class="normal">Node.js</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">3</p>
</td>
<td class="table-cell">
<p class="normal">React Native</p>
</td>
<td class="table-cell">
<p class="normal">ReactJS</p>
</td>
<td class="table-cell">
<p class="normal">Java/ASP.NET/…</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">4</p>
</td>
<td class="table-cell">
<p class="normal">Flutter</p>
</td>
<td class="table-cell">
<p class="normal">JavaScript</p>
</td>
<td class="table-cell">
<p class="normal">Java/ASP.NET/…</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">5</p>
</td>
<td class="table-cell">
<p class="normal">Android/iOS/macOS/Windows/…</p>
</td>
<td class="table-cell">
<p class="normal">JavaScript</p>
</td>
<td class="table-cell">
<p class="normal">Java/ASP.NET/…</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 1.3: Complexity levels for cross-platform full stack solutions</p>
<p class="normal">In <em class="italic">Table 1.3</em>, I have summarized the different levels of complexity for different technology choices in each layer of a solution.</p>
<p class="normal">The <a id="_idIndexMarker044"/>complexity of your solution is determined by how many programming languages and frameworks are involved. The more languages and frameworks are involved, the greater the time to market and cost.</p>
<p class="normal">We have more choices with cross-platform and backend frameworks than we do with the frontend. In terms of programming languages, we can choose either JavaScript or C# to develop web clients. For this reason, the most economical choice to make for a backend framework is to select either a JavaScript- or C#-based backend framework. This is what we can see at complexity levels 1 and 2 in <em class="italic">Table 1.3</em>.</p>
<p class="normal">If we choose a hybrid framework, such as Ionic or Blazor Hybrid, to develop mobile apps, we can use one language and framework to cover all frontend and mobile development. In this case, if we also choose a backend framework in the same language, the time required and cost for this profile is minimal compared to all other profiles. As we can see in <em class="italic">Table 1.3</em>, we have JavaScript and .NET options at complexity level 1.</p>
<p class="normal">The most economical option may not be the best one for the product owner, since the product owner may have concerns about the user experience and performance of the solution. In terms of frontend and backend frameworks, .NET and JavaScript frameworks are mature and proven solutions. The real concern when thinking about solution performance, however, should be to do with hybrid frameworks. We can choose either .NET MAUI or React Native for mobile development. When using React Native, the most economical option is to use React as the frontend framework. In this way, we can still use one language and similar frameworks to cover both mobile and web development. There are many commercial solutions that go with this option. Since we won’t be able to share UI code between .NET MAUI and Blazor or React and React Native, this category is a complexity level 2 option.</p>
<p class="normal">In backend development, there are too many options available in terms of languages and frameworks, and many of them are proven solutions. There is a very long list of languages that can be used in backend development, such as Java, C#, JavaScript, Python, Ruby, Go, and Rust. For whatever reason, we may not be able to choose the same backend programming language as the one we use for mobile and web development. This means a complexity level 3 solution. In this situation, the project team can reduce the complexity by choosing React and React Native together with a backend<a id="_idIndexMarker045"/> framework. In a real project, .NET MAUI and Blazor usually go with a .NET backend. We don’t see many cases of .NET MAUI or Blazor being used with a non-.NET backend framework.</p>
<p class="normal">Flutter and React Native are the two most popular cross-platform frameworks in the market. .NET MAUI still needs more time to catch up with the market. If using Flutter, we go to complexity level 4. In this case, we have to involve three programming languages in the solution profile.</p>
<p class="normal">In some large projects, the user experience is a more important consideration than other factors. In such cases, we go with native application development. The number of languages and frameworks involved increases significantly, since every operating system added to the list adds one more programming language to the profile. This is the most complex case, at complexity level 5.</p>
<h2 class="heading-2" id="_idParaDest-32">Comparison of .NET and JavaScript</h2>
<p class="normal">There is <a id="_idIndexMarker046"/>no single best choice of cross-platform tool or framework. The final choice is usually decided according to the specific business requirements. However, from the above table, we can see that the .NET ecosystem provides a full<a id="_idIndexMarker047"/> spectrum of tools for your requirements. The <a id="_idIndexMarker048"/>development team of a large system usually requires people with experience in different programming languages and frameworks. With .NET, the complexity of programming languages and frameworks can be dramatically simplified.</p>
<p class="normal">We had an overview of tools and frameworks used in web app, native app, and backend service development. If we look at a higher level, that is, the .NET ecosystem level, the ecosystem of JavaScript almost matches what we have in a .NET solution. JavaScript and .NET solutions can provide tools or frameworks at nearly all layers. It would be interesting to do a comparison of JavaScript and .NET at a higher level.</p>
<p class="normal">JavaScript is a<a id="_idIndexMarker049"/> language created for web browsers, but its capability is extended due to the demands of web development. The limitation of JavaScript is that it is a scripting language, so it lacks the language features that can be found in C#. However, this limitation doesn’t limit its usage and popularity. <em class="italic">Table 1.4</em> is a comparison of two technologies:</p>
<table class="table-container" id="table004">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Area of Comparison</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">.NET</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">JavaScript</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Programming languages</p>
</td>
<td class="table-cell">
<p class="normal">C#, F#, VB, C++</p>
</td>
<td class="table-cell">
<p class="normal">JavaScript, TypeScript, CoffeeScript, etc.</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Runtime</p>
</td>
<td class="table-cell">
<p class="normal">CLR</p>
</td>
<td class="table-cell">
<p class="normal">V8/ SpiderMonkey/ JavaScriptCore</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Supported IDE</p>
</td>
<td class="table-cell">
<p class="normal">Microsoft Visual Studio, Rider, MonoDevelop, Visual Studio Code</p>
</td>
<td class="table-cell">
<p class="normal">Visual Studio Code, Webstorm, Atom</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Web</p>
</td>
<td class="table-cell">
<p class="normal">ASP.NET MVC/Blazor</p>
</td>
<td class="table-cell">
<p class="normal">React, Angular, Vue.js, etc.</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Native apps</p>
</td>
<td class="table-cell">
<p class="normal">WinForms, WinUI, WPF, UWP</p>
</td>
<td class="table-cell">
<p class="normal">-</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Desktop apps</p>
</td>
<td class="table-cell" rowspan="2">
<p class="normal">.NET MAUI/Avalonia/Uno Platform/Xamarin</p>
</td>
<td class="table-cell">
<p class="normal">Electron, NW.js</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Mobile apps</p>
</td>
<td class="table-cell">
<p class="normal">React Native, Cordova, or Ionic</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Backend</p>
</td>
<td class="table-cell">
<p class="normal">ASP.NET Core</p>
</td>
<td class="table-cell">
<p class="normal">Node.js</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 1.4: Comparison of .NET and JavaScript</p>
<p class="normal">From <em class="italic">Table 1.4</em>, we can see that .NET has a good infrastructure for supporting multiple languages. With <a id="_idIndexMarker050"/>the <strong class="keyWord">Common Type System</strong> (<strong class="keyWord">CTS</strong>) and <strong class="keyWord">Common Language Runtime</strong> (<strong class="keyWord">CLR</strong>) as the core of .NET implementation, it supports multiple<a id="_idIndexMarker051"/> languages naturally, with the capability to share<a id="_idIndexMarker052"/> the <strong class="keyWord">Base Class Library</strong> (<strong class="keyWord">BCL</strong>) in all supported languages. JavaScript has its limitations as a scripting language, so languages such as<a id="_idIndexMarker053"/> TypeScript<a id="_idIndexMarker054"/> and CoffeeScript were invented to enhance it. TypeScript was developed by Microsoft to bring modern, object-oriented<a id="_idIndexMarker055"/> language features to JavaScript. TypeScript is compiled into JavaScript for execution, so it can work well with existing JavaScript libraries.</p>
<p class="normal">The<a id="_idIndexMarker056"/> cross-platform frameworks of .NET and JavaScript can cover not only mobile development but also desktop development. In a .NET environment, .NET MAUI, Uno Platform, and Avalonia can support both desktop and mobile cross-platform development. In the JavaScript ecosystem, React Native, Ionic, and Cordova are used for mobile development, and Electron or NW.js are used for desktop development.</p>
<p class="normal">Since .NET is a built-in component of Windows operating systems, it is used to develop native applications such as WinForms, UWP, and WPF. The Windows operating system itself is one of the major targets for support in cross-platform programming frameworks.</p>
<p class="normal">This comparison <a id="_idIndexMarker057"/>has helped us to choose between and evaluate technical stacks for cross-platform full stack development. As a .NET MAUI developer, this analysis<a id="_idIndexMarker058"/> can help you understand where .NET MAUI is located in the .NET ecosystem. To find out more about the .NET ecosystem, let’s have a quick overview of the history of the .NET landscape in the next section.</p>
<h1 class="heading-1" id="_idParaDest-33">Exploring the .NET landscape</h1>
<p class="normal">Before we<a id="_idIndexMarker059"/> dive into the details of .NET MAUI, let’s have an overview of the .NET landscape. This is a section for those who are new to .NET. If you are a .NET developer, you can skip this section.</p>
<p class="normal">Since Microsoft introduced the .NET platform, it has evolved from a proprietary software framework for Windows to a cross-platform and open-source platform.</p>
<p class="normal">There are many ways to look at the .NET technology stack. Basically, it contains the following components:</p>
<ul>
<li class="bulletList">Common infrastructure (compiler and tools suite)</li>
<li class="bulletList">Base Class Library (BCL)</li>
<li class="bulletList">Runtime (WinRT or Mono)</li>
</ul>
<h2 class="heading-2" id="_idParaDest-34">.NET Framework</h2>
<p class="normal">The history of .NET started <a id="_idIndexMarker060"/>with .NET Framework. It is a proprietary software framework developed by Microsoft that runs primarily on Microsoft Windows. .NET Framework started as a future-oriented application framework to standardize the software stack in the Windows ecosystem. It is built around the <strong class="keyWord">Common Language Infrastructure</strong> (<strong class="keyWord">CLI</strong>) and C#. Even though the primary programming language is C#, it is designed to be a language-agnostic framework. Supported languages can share the same CTS and CLR. Most Windows desktop applications are developed using .NET Framework and it is shipped as a part of the Windows operating system.</p>
<h2 class="heading-2" id="_idParaDest-35">Mono</h2>
<p class="normal">The <a id="_idIndexMarker061"/>first attempt to make .NET an open-source framework was made by a company called Ximian. When the CLI and C# were ratified by ECMA in 2001 and ISO in 2003, it opened the door for independent implementations.</p>
<p class="normal">In 2001, the <a id="_idIndexMarker062"/>open-source project Mono was launched and aimed to implement .NET Framework on Linux.</p>
<p class="normal">Since .NET Framework was a proprietary technology at the time, .NET Framework and Mono had their own compiler, BCL, and runtime.</p>
<p class="normal">Over time, Microsoft moved toward open-source; .NET source code is available to the open-source community. The Mono project adopted some source code and tools from the .NET code base.</p>
<p class="normal">At the same time, the Mono project went through many changes as well. At one time, Mono was owned by Xamarin. Xamarin developed the Xamarin platform, based on Mono, to support the .NET platform on Android, iOS, UWP, and macOS. In 2016, Microsoft acquired Xamarin and Xamarin became a cross-platform solution in the .NET ecosystem.</p>
<h2 class="heading-2" id="_idParaDest-36">.NET Core</h2>
<p class="normal">Before<a id="_idIndexMarker063"/> the acquisition of Xamarin, Microsoft had already started work to make .NET a cross-platform framework. The first attempt was the release of .NET Core 1.0 in 2016. .NET Core is a free and open-source framework available for Windows, Linux, and macOS. It can be used to create modern web apps, microservices, libraries, and console applications. Since .NET Core applications can run on Linux, we can build microservices using containers and cloud infrastructure.</p>
<p class="normal">After .NET Core 3.x was released, Microsoft worked to integrate and unify .NET technology on various platforms. This unified version was to supersede both .NET Core and .NET Framework. To avoid confusion with .NET Framework 4.x, this unified framework was named .NET 5. Since .NET 5, a common BCL can be used on all platforms. In .NET 5, there are still two runtimes, which are the <strong class="keyWord">Windows runtime</strong> (<strong class="keyWord">WinRT</strong>), which is used for Windows, and the Mono runtime, which is used for mobile and macOS.</p>
<p class="normal">Since .NET 5, .NET releases support two types of release, which are <strong class="keyWord">Long Term Support</strong> (<strong class="keyWord">LTS</strong>) and <strong class="keyWord">Standard Term Support</strong> (<strong class="keyWord">STS</strong>). In this book, we use will .NET 8 releases, which are LTS releases.</p>
<h2 class="heading-2" id="_idParaDest-37">.NET Standard and Portable Class Libraries</h2>
<p class="normal">Before .NET 5, with .NET Framework, Mono, and .NET Core, we had different subsets of BCLs on<a id="_idIndexMarker064"/> different platforms. In order to share code between different runtimes or platforms, a technique called <strong class="keyWord">Portable Class Libraries</strong> (<strong class="keyWord">PCLs</strong>) was used. When you create a PCL, you have to choose a combination of platforms that you want to support. The level of compatibility is decided by the developer. If you want to reuse a PCL, you must carefully study the list of platforms that are supported.</p>
<p class="normal">Even though the PCL provides a way to share code, it cannot resolve compatibility issues well. To overcome compatibility issues, Microsoft introduced .NET Standard.</p>
<p class="normal">.NET Standard is not a separate .NET release but a specification of a set of .NET APIs that must be supported on most .NET implementations (.NET Framework, Mono, .NET Core, .NET 5 and 6, etc.).</p>
<p class="normal">Since .NET 5, a unified BCL is available, but .NET Standard will still be part of this unified BCL. If your applications only need to support .NET 5 or later, you don’t really need to care too much about .NET Standard. However, if you want to be compatible with old .NET releases, .NET Standard is still the best choice for you. We will use .NET Standard 2.0 in this book to build our data model since this is a version that can support most existing .NET implementations and all future .NET releases.</p>
<p class="normal">There will be no new versions of .NET Standard from Microsoft, but .NET 5, .NET 6, and all future versions will continue to support .NET Standard 2.1 and earlier. <em class="italic">Table 1.5</em> shows the platforms and versions that .NET Standard 2.0 can support. This also happens to be a compatibility list for our data model in this book.</p>
<table class="table-container" id="table005">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">.NET Implementation</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Version support</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">.NET and .NET Core</p>
</td>
<td class="table-cell">
<p class="normal">2.0, 2.1, 2.2, 3.0, 3.1, 5.0, 6.0</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">.NET Framework 1</p>
</td>
<td class="table-cell">
<p class="normal">4.6.1.2, 4.6.2, 4.7.1, 4.7.2, 4.8</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Mono</p>
</td>
<td class="table-cell">
<p class="normal">5.4, 6.4</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Xamarin.iOS</p>
</td>
<td class="table-cell">
<p class="normal">10.14, 12.16</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Xamarin.Mac</p>
</td>
<td class="table-cell">
<p class="normal">3.8, 5.16</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Xamarin.Android</p>
</td>
<td class="table-cell">
<p class="normal">8.0, 10.0</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Universal Windows Platform</p>
</td>
<td class="table-cell">
<p class="normal">10.0.16299, TBD</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Unity</p>
</td>
<td class="table-cell">
<p class="normal">2018.1</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 1.5: .NET Standard 2.0-compatible implementations</p>
<h1 class="heading-1" id="_idParaDest-38">Using Xamarin for cross-platform development</h1>
<p class="normal">As <a id="_idIndexMarker065"/>we mentioned in the previous section, Xamarin was part of the Mono project and was an effort to support .NET on Android, iOS, and macOS. Xamarin exports the underlying operating system features to the .NET runtime. Xamarin.Forms is the cross-platform UI framework of Xamarin. .NET MAUI is an evolution of Xamarin.Forms. Before we discuss .NET MAUI and Xamarin.Forms, let us review the following diagram of Xamarin implementations on various platforms.</p>
<figure class="mediaobject"><img alt="" height="319" src="img/B21554_01_01.png" width="825"/></figure>
<p class="packt_figref">Figure 1.1: Xamarin implementations</p>
<p class="normal"><em class="italic">Figure 1.1</em> shows the overall architecture of Xamarin. Xamarin allows developers to create native UIs on each platform and write business logic in C# that can be shared across platforms.</p>
<div><p class="normal">The transition from Xamarin to .NET MAUI, or more specifically from Xamarin.Forms to .NET MAUI, is not a revolution. .NET MAUI essentially represents a new version of Xamarin.Forms rather than other components of Xamarin. Xamarin.Android has now become .NET Android, with the primary difference being the name change. The overall architecture, however, has not undergone significant modifications.</p>
</div>
<p class="normal">On <a id="_idIndexMarker066"/>supported platforms, Xamarin contains bindings for nearly the entire underlying platform SDK. Xamarin also provides facilities for directly invoking Objective-C, Java, C, and C++ libraries, giving you the power to use a wide array of third-party code. You can use existing Android, iOS, or macOS libraries written in Objective-C, Swift, Java, and C/C++.</p>
<p class="normal">The Mono runtime is used as the .NET runtime on these platforms. It has two modes of operation – JIT and AOT. JIT, or Just-in-Time, compilation generates code dynamically as it is executed. In AOT, or Ahead-of-Time, compilation mode, Mono precompiles everything so it can be used on operating systems where dynamic code generation is not possible.</p>
<p class="normal">As we can see in <em class="italic">Figure 1.1</em>, JIT can be used on Android and macOS, while AOT is used for iOS, where dynamic code generation is not allowed.</p>
<p class="normal">There are two ways to develop native applications using Xamarin.</p>
<p class="normal">We can develop native applications just like Android, iOS, and macOS developers using native APIs on each platform. The difference is that you use .NET libraries and C# instead of the platform-specific language and libraries directly. The advantage of this approach is that we can use one language and share a lot of components through the .NET BCL, even while working on different platforms. We can also leverage the power of underlying platforms, just as native application developers can.</p>
<p class="normal">If we want to reuse the code at the user interface layer, Xamarin.Forms can be used instead of the native UI.</p>
<h2 class="heading-2" id="_idParaDest-39">Xamarin.Forms</h2>
<p class="normal">Xamarin.Android, Xamarin.iOS, and Xamarin.Mac provide a .NET environment that exposes almost <a id="_idIndexMarker067"/>all the original SDK capabilities on their respective platforms. For example, as a developer, you nearly have the same capabilities with Xamarin.Android as you would with the original Android SDK. To improve code sharing, the open-source UI framework Xamarin.Forms was created. Xamarin.Forms includes a collection of cross-platform UI components. The user interface<a id="_idIndexMarker068"/> design can be implemented using XAML markup language, which is similar to Windows user interface design in WinUI or WPF.</p>
<h2 class="heading-2" id="_idParaDest-40">Xamarin.Essentials</h2>
<p class="normal">Since <a id="_idIndexMarker069"/>Xamarin exposes the capability of the underlying platform SDK, you can access device features using .NET APIs. However, the implementation is platform-specific. For example, when you use the location service on Android or iOS, the .NET API to use can be different. To further improve code sharing across platforms, Xamarin.Essentials can be used to access native device features. Xamarin.Essentials provides a unified .NET interface for native device features. If you use Xamarin.Essentials instead of native APIs, your code can be reused across platforms.</p>
<p class="normal">Some examples of functionality provided by Xamarin.Essentials include:</p>
<ul>
<li class="bulletList">Device info</li>
<li class="bulletList">File system</li>
<li class="bulletList">Accelerometer</li>
<li class="bulletList">Phone dialer</li>
<li class="bulletList">Text-to-speech</li>
<li class="bulletList">Screen lock</li>
</ul>
<p class="normal">Using Xamarin.Forms together with Xamarin.Essentials, most implementations, including of the business logic, user interface design, and some device-specific features, can be shared across platforms. In Chapter 7, <em class="italic">Using Platform-Specific Features, </em>we will learn how Xamarin.Essentials has been ported and thus made available for .NET MAUI.</p>
<h2 class="heading-2" id="_idParaDest-41">Comparing user interface design on different platforms</h2>
<p class="normal">Most <a id="_idIndexMarker070"/>modern application development on various platforms uses the <strong class="keyWord">Model View Controller (MVC)</strong> design pattern. To separate the business logic and user interface design, there are different approaches used on Android, iOS/macOS, and Windows. On all these platforms, even though the programming languages used are different, they use XML or HTML to design user interfaces.</p>
<p class="normal">On iOS/macOS, developers can use Interface Builder in Xcode to generate <em class="italic">.storyboard</em> or <em class="italic">.xib</em> files. Both are XML-based script files used to keep user interface information, and this script is interpreted at runtime together with Swift or Objective-C code to create the user interface. In 2019, Apple announced a new framework, SwiftUI. Using SwiftUI, developers can build user interfaces using the Swift language in a declarative way directly.</p>
<p class="normal">On the <a id="_idIndexMarker071"/>Android platform, developers can use Layout Editor in Android Studio to create user interfaces graphically and store the result in layout files. The layout files are in XML format and can be loaded at runtime to create the user interface.</p>
<p class="normal">On the Windows platform, XAML is used in user interface design. XAML, or Extensible Application Markup Language, is an XML-based language used for user interface design on the Windows platform. For WPF or UWP applications, XAML Designer can be used for user interface design. In .NET MAUI, a XAML-based UI is the default application UI. Another pattern, MVU, can also be used. In the MVU pattern, the user interface is implemented in C# directly without XAML. The coding style of MVU is similar to SwiftUI.</p>
<p class="normal">Even though SwiftUI on Apple platforms or MVU in .NET MAUI can be used, the classic user interface implementation uses XML or HTML. Let us do a comparison in <em class="italic">Table 1.6</em>.</p>
<table class="table-container" id="table006">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Platform</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">IDE</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Editor</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Language</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">File extension</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Windows</p>
</td>
<td class="table-cell">
<p class="normal">Visual Studio</p>
</td>
<td class="table-cell">
<p class="normal">XAML Designer</p>
</td>
<td class="table-cell">
<p class="normal">XAML/C#</p>
</td>
<td class="table-cell">
<p class="normal">.xaml</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Android</p>
</td>
<td class="table-cell">
<p class="normal">Android Studio</p>
</td>
<td class="table-cell">
<p class="normal">Layout Editor</p>
</td>
<td class="table-cell">
<p class="normal">XML/Java/Kotlin</p>
</td>
<td class="table-cell">
<p class="normal">.layout</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">iOS/macOS</p>
</td>
<td class="table-cell">
<p class="normal">Xcode</p>
</td>
<td class="table-cell">
<p class="normal">Interface Builder</p>
</td>
<td class="table-cell">
<p class="normal">XML/Swift/Objective C</p>
</td>
<td class="table-cell">
<p class="normal">.storyboard or .xib</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">.NET MAUI/Xamarin.Forms</p>
</td>
<td class="table-cell" rowspan="2">
<p class="normal">Visual Studio</p>
</td>
<td class="table-cell" rowspan="2">
<p class="normal">N.A.</p>
</td>
<td class="table-cell">
<p class="normal">XAML/C#</p>
</td>
<td class="table-cell">
<p class="normal">.xaml</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">.NET MAUI Blazor</p>
</td>
<td class="table-cell">
<p class="normal">Razor/C#</p>
</td>
<td class="table-cell">
<p class="normal">.razor</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 1.6: Comparison of user interface design options</p>
<p class="normal">In <em class="italic">Table 1.6</em>, we can see a comparison of user interface design options on different platforms.</p>
<p class="normal">.NET MAUI and Xamarin.Forms use a dialect of XAML to design user interfaces on all supported platforms. For .NET MAUI, we have another choice for user interface design, which is Blazor. Blazor UIs are written in Razor syntax, which is a combination of HTML, CSS, and C#. We will discuss Blazor later in this chapter.</p>
<p class="normal">In <a id="_idIndexMarker072"/>Xamarin.Forms, we create user interfaces in XAML and code-behind in C#. The underlying implementation is still native controls on each platform, so the look and feel of Xamarin.Forms applications is the same as for native ones.</p>
<p class="normal">Some examples of features provided by Xamarin.Forms include:</p>
<ul>
<li class="bulletList">XAML user interface language</li>
<li class="bulletList">Databinding</li>
<li class="bulletList">Gestures</li>
<li class="bulletList">Effects</li>
<li class="bulletList">Styling</li>
</ul>
<p class="normal">Although Xamarin.Forms enables the sharing of nearly all UI code, it’s still necessary to manage most resources used by the application in individual platform projects. These resources can include images, fonts, strings, and more. In a Xamarin.Forms project structure, there is a common .NET Standard project, accompanied by various platform-specific projects. </p>
<p class="normal">The majority of development work should take place within the common .NET Standard project. While resources such as font icons can be shared across the common project as embedded resources, the management of most other resources remains confined to separate platform-specific projects.</p>
<h1 class="heading-1" id="_idParaDest-42">Moving to .NET MAUI</h1>
<p class="normal">With the .NET unification, Xamarin <a id="_idIndexMarker073"/>has become a part of the .NET platform, and Xamarin.Forms is integrating with .NET in the form of .NET MAUI.</p>
<p class="normal">.NET MAUI is a first-class .NET citizen with the namespace <code class="inlineCode">Microsoft.Maui</code>.</p>
<p class="normal">Making the move to .NET MAUI is also an opportunity for Microsoft to redesign and rebuild Xamarin.Forms from the ground up and tackle some of the issues that have been lingering at a lower level. Compared to Xamarin.Forms, .NET MAUI uses a single project structure, supports hot reloads better and supports the MVU and Blazor development patterns.</p>
<div><p class="normal">It’s important to note that MVU is not currently available as a stable method for building apps with .NET MAUI; it has only been announced.</p>
</div>
<p class="normal"><em class="italic">Figure 1.2</em> shows an<a id="_idIndexMarker074"/> architecture diagram of .NET MAUI; you can find it in the Microsoft documentation. From <em class="italic">Figure 1.2</em>, we can see that there is a common BCL for all supported operating systems. Under the BCL, there are two runtimes, WinRT and the Mono runtime, according to the platform. For each platform, there is a dedicated .NET implementation to provide full support for native application development.</p>
<figure class="mediaobject"><img alt="" height="303" src="img/B21554_01_02.png" width="495"/></figure>
<p class="packt_figref">Figure 1.2: .NET MAUI architecture</p>
<p class="normal">Compared to Xamarin.Forms, we can see in <em class="italic">Table 1.7</em> that there are many improvements in .NET MAUI.</p>
<p class="normal">.NET MAUI uses a single project structure to simplify project management. We can manage resources, dependency injection, and configuration in one location instead of managing them separately per platform. We will learn more about the single project structure in <em class="italic">Chapter 2</em>, <em class="italic">Building Our First .NET MAUI App.</em></p>
<p class="normal">.NET MAUI is <a id="_idIndexMarker075"/>fully integrated as part of .NET, so we can create and build projects using the .NET SDK command line. In this case, we have more choice in terms of development environment.</p>
<table class="table-container" id="table007">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Features</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">.NET MAUI</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Xamarin.Forms</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Project structure</p>
</td>
<td class="table-cell">
<p class="normal">Single project</p>
</td>
<td class="table-cell">
<p class="normal">Multiple projects</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Resource management</p>
</td>
<td class="table-cell">
<p class="normal">One location for all platforms</p>
</td>
<td class="table-cell">
<p class="normal">Managed per platform</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Fully integrated with .NET</p>
</td>
<td class="table-cell">
<p class="normal">Namespace in <code class="inlineCode">Microsoft.Maui</code> and other IDEs can be chosen besides Visual Studio</p>
<p class="normal">Command-line support. We can create, build, and run in console:</p>
<pre class="programlisting gen"><code class="hljs">dotnet new maui
dotnet build -t:Run -f net8.0-android
dotnet build -t:Run -f net8.0-ios
dotnet build -t:Run -f net8.0-maccatalyst
</code></pre>
</td>
<td class="table-cell">
<p class="normal">Namespace in <code class="inlineCode">Xamarin.Forms</code> and Visual Studio as IDE</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Design improvement</p>
</td>
<td class="table-cell">
<p class="normal">Configuration through .NET Generic Host</p>
<p class="normal">Dependency injection support</p>
</td>
<td class="table-cell">
<p class="normal">Configuration scattered in different locations</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Model View Update (MVU) pattern</p>
</td>
<td class="table-cell">
<p class="normal">A modern way of UI implementation</p>
</td>
<td class="table-cell">
<p class="normal">No</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Blazor Hybrid</p>
</td>
<td class="table-cell">
<p class="normal">Support through <code class="inlineCode">BlazorWebView</code></p>
</td>
<td class="table-cell">
<p class="normal">No</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 1.7: .NET MAUI improvements</p>
<h2 class="heading-2" id="_idParaDest-43">.NET MAUI Blazor apps</h2>
<p class="normal">In <em class="italic">Table 1.6</em>, where <a id="_idIndexMarker076"/>we compared user interface design options on different platforms, we mentioned that there is another way to design cross-platform user interfaces in .NET MAUI, which is Blazor.</p>
<p class="normal">Blazor, released in ASP.NET Core 3.0, is a framework for building interactive client-side web UIs with .NET. With .NET MAUI and Blazor, we can build cross-platform apps in the form of Blazor Hybrid apps. In this way, the boundary between native application and web application becomes blurred. .NET MAUI Blazor Hybrid apps enable Blazor components to be integrated with native platform features and UI controls. Blazor components have full access to the native capabilities of the device.</p>
<p class="packt_figref"><em class="italic"><img alt="" height="387" src="img/B21554_01_03.png" width="731"/></em></p>
<p class="packt_figref">Figure 1.3: .NET MAUI Blazor Hybrid</p>
<p class="normal">As we can see in <em class="italic">Figure 1.3</em>, the way to use the Blazor web framework in .NET MAUI is through a <code class="inlineCode">BlazorWebView</code> component. We can use .NET MAUI Blazor to mix native and web UIs in a single view. In .NET MAUI Blazor apps, applications can leverage the Blazor component model (Razor components), which uses HTML, CSS, and C# in Razor syntax. The <a id="_idIndexMarker077"/>Blazor part of an app can reuse components, layouts, and styles that are used in an existing regular web app. <code class="inlineCode">BlazorWebView</code> components can be composed alongside native elements; additionally, these components leverage platform features and share state with their native counterparts.</p>
<h2 class="heading-2" id="_idParaDest-44">Developing native apps using .NET</h2>
<p class="normal">With .NET MAUI, Xamarin.Android, Xamarin.iOS, and Xamarin.Mac have been updated<a id="_idIndexMarker078"/> to .NET for Android, and .NET for iOS and .NET for Mac. We can develop native applications using .NET as we can see in <em class="italic">Figure 1.4</em>.</p>
<figure class="mediaobject"><img alt="" height="282" src="img/B21554_01_04.png" width="543"/></figure>
<p class="packt_figref">Figure 1.4: Native app development using .NET</p>
<p class="normal">Since we have a complete .NET implementation on Android, iOS, and macOS, we can develop native applications on these platforms using .NET tools. This is the same as for Xamarin-native projects. The open-source project <code class="inlineCode">keepass2android</code> is a good example of developing native Android apps using <code class="inlineCode">Xamarin.Android</code>: <a href="https://play.google.com/store/search?q=keepass2android">https://play.google.com/store/search?q=keepass2android</a>.</p>
<p class="normal">With the latest .NET releases, there are multiple ways to develop cross-platform applications, such<a id="_idIndexMarker079"/> as .NET MAUI apps, native apps, and Blazor Hybrid apps, Avalonia, and Uno. We can see that there is a variety of possibilities in the .NET ecosystem.</p>
<h1 class="heading-1" id="_idParaDest-45">What’s new in .NET 8 for .NET MAUI?</h1>
<p class="normal">.NET 8 introduced many new changes, and here we will review the aspects related to .NET MAUI.</p>
<h2 class="heading-2" id="_idParaDest-46">Native AOT support for iOS-like platforms</h2>
<p class="normal">.NET 8 introduces<a id="_idIndexMarker080"/> native AOT support for iOS-like platforms, allowing the building and running of .NET iOS and .NET MAUI applications on various platforms. Preliminary testing shows a 40% disk size decrease for .NET iOS apps and a 25% increase for .NET MAUI iOS apps using native AOT. However, as this is only the first step in support, performance conclusions should not be drawn yet. Native AOT support is an opt-in feature for app deployment, while Mono remains the default runtime for development and deployment.</p>
<h2 class="heading-2" id="_idParaDest-47">.NET MAUI extension of Visual Studio Code</h2>
<p class="normal">Although<a id="_idIndexMarker081"/> still in its preview stage, Visual Studio Code now offers a .NET MAUI extension, making it available for use in .NET MAUI development. The .NET MAUI extension is a new Visual Studio Code extension that lets you develop and debug your app on devices, emulators, and simulators from VS Code. It is built on top of the C# and C# Dev Kit extensions, which supercharge your .NET development with powerful IntelliSense, an intuitive Solution Explorer, package management, and more.</p>
<h1 class="heading-1" id="_idParaDest-48">Development environment setup</h1>
<p class="normal">In this section, we<a id="_idIndexMarker082"/> will introduce the <a id="_idIndexMarker083"/>development environment setup in Visual Studio and Visual Studio Code.</p>
<h2 class="heading-2" id="_idParaDest-49">Using Visual Studio</h2>
<p class="normal">Both Windows <a id="_idIndexMarker084"/>and macOS can be used for.NET MAUI development, but you won’t be able to build all the targets with only one of them. You will need both Windows and Mac computers to build all the targets. In this book, the Windows environment is used to build and test Android and Windows targets, while iOS and macOS targets are built on a Mac computer.</p>
<p class="normal">.NET MAUI apps can target the following platforms:</p>
<ul>
<li class="bulletList">Android 5.0 (API 21) or higher</li>
<li class="bulletList">iOS 11 or higher</li>
<li class="bulletList">macOS 10.15 or higher, using Mac Catalyst</li>
<li class="bulletList">Windows 11 and Windows 10 version 1809 or higher, using Windows UI Library (WinUI) 3</li>
</ul>
<p class="normal">.NET MAUI Blazor apps use the platform-specific WebView control, so they have the following additional requirements:</p>
<ul>
<li class="bulletList">Android 7.0 (API 24) or higher</li>
<li class="bulletList">iOS 14 or higher</li>
<li class="bulletList">macOS 11 or higher, using Mac Catalyst</li>
</ul>
<p class="normal">.NET MAUI build targets of Android, iOS, macOS, and Windows can be built using Visual Studio on a Windows computer. In this environment, a networked Mac is required to build iOS and macOS targets. Xcode must be installed on the paired Mac to debug and test an iOS MAUI app in a Windows environment.</p>
<p class="normal">.NET MAUI targets of Android, iOS, and macOS can be built and tested on macOS. Please refer to <em class="italic">Table 1.8</em> to find out about the build configurations on Windows and macOS.</p>
<table class="table-container" id="table008">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Target platform</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Windows</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">macOS</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Windows</p>
</td>
<td class="table-cell">
<p class="normal">Yes</p>
</td>
<td class="table-cell">
<p class="normal">No</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Android</p>
</td>
<td class="table-cell">
<p class="normal">Yes</p>
</td>
<td class="table-cell">
<p class="normal">Yes</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">iOS</p>
</td>
<td class="table-cell">
<p class="normal">Yes (pair to Mac)</p>
</td>
<td class="table-cell">
<p class="normal">Yes</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">macOS</p>
</td>
<td class="table-cell">
<p class="normal">Build only (pair to Mac)</p>
</td>
<td class="table-cell">
<p class="normal">Yes</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 1.8: Development environment of .NET MAUI</p>
<h3 class="heading-3" id="_idParaDest-50">Installing .NET MAUI on Windows</h3>
<p class="normal">.NET MAUI can <a id="_idIndexMarker085"/>be installed as part of <a id="_idIndexMarker086"/>Visual Studio 2022. Visual Studio Community Edition is free, and we can download it from the Microsoft website at: <a href="https://visualstudio.microsoft.com/vs/community/">https://visualstudio.microsoft.com/vs/community/</a>.</p>
<p class="normal">After<a id="_idIndexMarker087"/> launching the Visual Studio Installer, we see what is shown in <em class="italic">Figure 1.5</em>. Please select <strong class="screenText">.NET Multi-platform App UI development</strong> and <strong class="screenText">.NET desktop development</strong> in the list of options. We also need to select <strong class="screenText">ASP.NET and web development</strong> for the .NET MAUI Blazor app, which will be covered in part 2 of this book.</p>
<figure class="mediaobject"><img alt="Graphical user interface, application, email  Description automatically generated" height="399" src="img/B21554_01_05.png" width="825"/></figure>
<p class="packt_figref">Figure 1.5: Visual Studio 2022 installation</p>
<p class="normal">After the installation is completed, we can check the installation from the command line using the <code class="inlineCode">dotnet</code> command as follows.</p>
<figure class="mediaobject"><img alt="" height="308" src="img/B21554_01_06.png" width="621"/></figure>
<p class="packt_figref">Figure 1.6: Checking the dotnet workload list</p>
<p class="normal">We <a id="_idIndexMarker088"/>are<a id="_idIndexMarker089"/> now <a id="_idIndexMarker090"/>ready to create, build, and run a .NET MAUI app on Windows.</p>
<h3 class="heading-3" id="_idParaDest-51">Installing .NET MAUI on macOS</h3>
<p class="normal">Despite <a id="_idIndexMarker091"/>Microsoft’s announcement of Visual Studio<a id="_idIndexMarker092"/> for Mac’s retirement in August 2023, developers can still utilize it for .NET MAUI development on Mac. Visual Studio for Mac 17.6 will continue to be supported for<a id="_idIndexMarker093"/> another 12 months, until August 31st, 2024. Please refer to the following announcement: <a href="https://devblogs.microsoft.com/visualstudio/visual-studio-for-mac-retirement-announcement/">https://devblogs.microsoft.com/visualstudio/visual-studio-for-mac-retirement-announcement/</a>.</p>
<p class="normal">The installation of Visual Studio Community Edition is similar to what we have done on Windows. The installation package can be downloaded from the same link.</p>
<p class="normal">After launching the Visual Studio Installer, we see what is shown in <em class="italic">Figure 1.7</em>.</p>
<figure class="mediaobject"><img alt="Graphical user interface, application  Description automatically generated" height="584" src="img/B21554_01_07.png" width="825"/></figure>
<p class="packt_figref">Figure 1.7: Visual Studio for Mac 2022 Installer</p>
<p class="normal">Please select <strong class="screenText">.NET</strong> and <strong class="screenText">.NET MAUI</strong> from the list of options in <em class="italic">Figure 1.7</em>.</p>
<p class="normal">After <a id="_idIndexMarker094"/>the installation is complete, we can<a id="_idIndexMarker095"/> check the<a id="_idIndexMarker096"/> installation from the command line using the <code class="inlineCode">dotnet</code> command as well.</p>
<p class="normal">We are ready to create, build, and run a .NET MAUI app on macOS.</p>
<h2 class="heading-2" id="_idParaDest-52">Visual Studio Code with the .NET MAUI extension</h2>
<p class="normal">We<a id="_idIndexMarker097"/> can also set up a development environment using Visual Studio Code. It’s straightforward to get started with the .NET MAUI extension by installing it in Visual Studio Code. You can search for the .NET MAUI extension and install it, as shown in <em class="italic">Figure 1.8</em>.</p>
<figure class="mediaobject"><img alt="" height="445" src="img/B21554_01_08.png" width="825"/></figure>
<p class="packt_figref">Figure 1.8: Visual Studio Code with .NET MAUI extension</p>
<p class="normal">When you <a id="_idIndexMarker098"/>install the <strong class="screenText">.NET MAUI extension</strong>, the C# Dev Kit and C# extension will be installed automatically. Once the .NET MAUI extension is installed, you can load the project and explore the project in the solution explorer just as you can in Visual Studio.</p>
<figure class="mediaobject"><img alt="" height="525" src="img/B21554_01_09.png" width="825"/></figure>
<p class="packt_figref">Figure 1.9: Solution explorer in Visual Studio Code</p>
<p class="normal">Since<a id="_idIndexMarker099"/> Visual Studio Code can support Windows, macOS, and Linux, we can develop .NET MAUI apps on these three platforms. Please refer to the following table to find out about the supported target platforms.</p>
<table class="table-container" id="table009">
<tbody>
<tr>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Operating System</strong></p>
</td>
<td class="table-cell">
<p class="normal"><strong class="keyWord">Supported Target Platform</strong></p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Windows</p>
</td>
<td class="table-cell">
<p class="normal">Windows, Android</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">macOS</p>
</td>
<td class="table-cell">
<p class="normal">Android, iOS, macOS</p>
</td>
</tr>
<tr>
<td class="table-cell">
<p class="normal">Linux</p>
</td>
<td class="table-cell">
<p class="normal">Android</p>
</td>
</tr>
</tbody>
</table>
<p class="packt_figref">Table 1.9: Supported target platforms</p>
<p class="normal">With Visual Studio Code, it is possible to develop .NET MAUI apps on Linux, but it can support Android as a target only.</p>
<h1 class="heading-1" id="_idParaDest-53">Summary</h1>
<p class="normal">In this chapter, we explored topics related to .NET MAUI and Xamarin, discussing various cross-platform technologies in comparison to .NET MAUI. This analysis provided insight into the advantages and disadvantages of different frameworks. Additionally, we compared the JavaScript and C# ecosystems, as most cross-platform frameworks utilize these languages. By introducing the .NET landscape and the available cross-platform frameworks, you now have a comprehensive understanding of the essentials before delving into the world of .NET MAUI.</p>
<p class="normal">In the next chapter, we will explore how to build a .NET MAUI application from scratch.</p>
<h1 class="heading-1" id="_idParaDest-54">Further reading</h1>
<ul>
<li class="bulletList">Avalonia UI and MAUI – Something for everyone: <a href="https://avaloniaui.net/">https://avaloniaui.net/</a></li>
<li class="bulletList"><strong class="keyWord">.NET MAUI</strong> – You can find more information about .NET MAUI in the Microsoft official documentation: <a href="https://docs.microsoft.com/en-us/dotnet/maui/">https://docs.microsoft.com/en-us/dotnet/maui/</a></li>
<li class="bulletList"><strong class="keyWord">KeePass</strong> – The official website for KeePass can be found at: <a href="https://keepass.info/">https://keepass.info/</a></li>
</ul>
<h1 class="heading-1">Learn more on Discord</h1>
<p class="normal">Join our community’s Discord space for discussions with the author and other readers:</p>
<p class="normal"><a href="https://packt.link/cross-platform-app">https://packt.link/cross-platform-app</a></p>
<p class="normal"><img alt="" height="354" src="img/QR_Code166522361691420406.png" style="width:10em;" width="354"/></p>
</div>
</div></body></html>