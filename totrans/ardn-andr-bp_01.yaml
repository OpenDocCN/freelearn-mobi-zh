- en: Chapter 1. Setting Up Your Workspace
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第1章. 设置您的开发环境
- en: The first chapter of this book will teach you the basics of the Arduino and
    Android development so that you can be sure you have the basics required for the
    more advanced tutorials you will find in the rest of this book.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的第一章将向您介绍Arduino和Android开发的基础知识，以便您确信您拥有在本书其余部分找到的更高级教程所需的基础知识。
- en: On the Arduino side, we will build a very simple project with a relay module
    (which is basically a switch that can be controlled with Arduino) and a temperature
    and humidity sensor. We will also see the basics of the Arduino IDE and the basic
    commands of the aREST library, which is a framework to easily control Arduino
    boards. We will use this library in several chapters of this book to make it really
    easy to control the Arduino board from an Android device. In this first chapter,
    we will simply try out the commands of the aREST library by having the Arduino
    board connected to your computer via a USB.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在Arduino方面，我们将构建一个非常简单的项目，使用继电器模块（这是一个可以用Arduino控制的开关）和温度湿度传感器。我们还将了解Arduino
    IDE的基础知识以及aREST库的基本命令，这是一个易于控制Arduino板的框架。我们将在本书的几个章节中使用这个库，以便从Android设备轻松控制Arduino板。在本章中，我们将通过将Arduino板通过USB连接到您的计算机来简单地尝试aREST库的命令。
- en: From the Android development point of view, we will work together to set up
    a development environment and ensure that your computer and the Android device
    are ready for development purposes. We will start off with a simple Android app
    that displays the legendary text, **Hello World**.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 从Android开发的角度来看，我们将共同努力设置开发环境，并确保您的计算机和Android设备已准备好用于开发目的。我们将从一个简单的Android应用程序开始，该应用程序显示传说中的文本，**Hello
    World**。
- en: Android Studio is an IntelliJ-based **Integrated Development Environment** (**IDE**)
    fully supported by the Android development team, which will provide you with the
    necessary tools and resources to make sure that you develop a functional and aesthetic
    Android app.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Android Studio是基于IntelliJ的**集成开发环境**（**IDE**），由Android开发团队全面支持，它将为您提供必要的工具和资源，以确保您开发出功能齐全且美观的Android应用程序。
- en: '**Android Studio** is in beta but the software is updated on a frequent and
    regular basis by a dedicated team at Google, which makes it the natural choice
    to develop our Android projects.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '**Android Studio**目前处于测试阶段，但由谷歌的专门团队定期更新，这使得它成为开发Android项目的自然选择。'
- en: Hardware and software requirements
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 硬件和软件要求
- en: 'The first thing you will need is an Arduino Uno board. We will use this board
    throughout this book to connect sensors, actuators, and wireless modules and make
    them interact with Android. Then, we will need a relay module. A relay is basically
    an electrical switch that we can command from Arduino, which can allow us to control
    devices such as lamps. This project uses a 5V relay module from Polulu, which
    properly integrates a relay on a board, along with all the required components
    to control the relay from Arduino. The following is the image of the relay module
    that was used in this chapter:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 你首先需要的是一块Arduino Uno板。在这本书中，我们将使用这块板来连接传感器、执行器和无线模块，并使它们与Android设备交互。然后，我们还需要一个继电器模块。继电器基本上是一个可以从Arduino控制的电开关，它可以让我们控制像灯这样的设备。本项目使用的是Polulu的5V继电器模块，该模块在板上正确集成了继电器，并包含了从Arduino控制继电器所需的所有组件。以下是本章中使用的继电器模块的图片：
- en: '![Hardware and software requirements](img/0389OS_01_01.jpg)'
  id: totrans-8
  prefs: []
  type: TYPE_IMG
  zh: '![硬件和软件要求](img/0389OS_01_01.jpg)'
- en: You will also need a DHT11 (or DHT22) sensor, along with a 4.7K resistor, for
    temperature and humidity measurements. A resistor is basically a device to limit
    the current flowing into an electrical device. Here, it is necessary to ensure
    the correct functioning of the DHT sensor.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 您还需要一个DHT11（或DHT22）传感器，以及一个4.7K欧姆的电阻，用于温度和湿度测量。电阻基本上是一个限制流入电气设备的电流的装置。在这里，它确保DHT传感器的正确工作是非常必要的。
- en: Finally, you will need a small breadboard and jumper wires to make the different
    hardware connections.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，您还需要一个小型面包板和跳线，以便进行不同的硬件连接。
- en: 'The following is the list of all hardware parts you will need for this project,
    along with links to find these parts on the Web:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是您为这个项目所需的全部硬件组件列表，以及在网上找到这些组件的链接：
- en: The Arduino Uno board ([http://www.adafruit.com/product/50](http://www.adafruit.com/product/50))
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Arduino Uno板([http://www.adafruit.com/product/50](http://www.adafruit.com/product/50))
- en: The 5V relay module ([http://www.pololu.com/product/2480](http://www.pololu.com/product/2480))
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 5V继电器模块([http://www.pololu.com/product/2480](http://www.pololu.com/product/2480))
- en: The DHT11 sensor and 4.7K Ohm resistor ([https://www.adafruit.com/product/386](https://www.adafruit.com/product/386))
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DHT11传感器和4.7K欧姆电阻([https://www.adafruit.com/product/386](https://www.adafruit.com/product/386))
- en: The breadboard ([https://www.adafruit.com/product/64](https://www.adafruit.com/product/64))
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 面包板([https://www.adafruit.com/product/64](https://www.adafruit.com/product/64))
- en: Jumper wires ([https://www.adafruit.com/product/758](https://www.adafruit.com/product/758))
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 跳线([https://www.adafruit.com/product/758](https://www.adafruit.com/product/758))
- en: On the software side, you will need the Arduino IDE that we will also use in
    the rest of this book. You can get it at [http://arduino.cc/en/Main/Software](http://arduino.cc/en/Main/Software).
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在软件方面，您将需要我们在本书其余部分也将使用的Arduino IDE。您可以在[http://arduino.cc/en/Main/Software](http://arduino.cc/en/Main/Software)获取它。
- en: The installation process of the IDE is very simple; you simply have to open
    the file and follow the onscreen instructions.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 安装IDE的过程非常简单；您只需打开文件并遵循屏幕上的说明。
- en: You will need the library for the DHT11 sensor, which can be found at [https://github.com/adafruit/DHT-sensor-library](https://github.com/adafruit/DHT-sensor-library).
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 您将需要DHT11传感器的库，可以在[https://github.com/adafruit/DHT-sensor-library](https://github.com/adafruit/DHT-sensor-library)找到。
- en: You will also need the aREST library found at [https://github.com/marcoschwartz/aREST](https://github.com/marcoschwartz/aREST).
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 您还需要在[https://github.com/marcoschwartz/aREST](https://github.com/marcoschwartz/aREST)找到的aREST库。
- en: To install a given library, simply extract the folder in your `Arduino/libraries`
    folder (or create this folder if it doesn't exist yet). Your `Arduino` folder
    is where all the sketches are stored, and you can define this folder in the preferences
    of the Arduino IDE.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 要安装某个库，只需在您的`Arduino/libraries`文件夹中提取文件夹（如果尚不存在，请创建此文件夹）。您的`Arduino`文件夹是存储所有草图的地方，您可以在Arduino
    IDE的偏好设置中定义此文件夹。
- en: 'Preparing for Android development requires that we get ready to design and
    develop the app, and the following checklist will guide you with having the basics
    ready for any project:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 准备Android开发需要我们准备好设计和开发应用程序，以下清单将指导您为任何项目准备基础知识：
- en: Java Developer Kit Version 6 (or higher)
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Java开发工具包版本6（或更高）
- en: Android Studio
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Android Studio
- en: Android Software Development Kit
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Android软件开发工具包
- en: Android Device with Bluetooth SMART technology
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带有蓝牙SMART技术的Android设备
- en: We will also work together to make sure that you have everything properly set
    up.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还将共同努力确保您的一切都设置得当。
- en: Installing Java Developer Kit
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Java开发工具包
- en: Android Studio will not work without **Java Developer Kit** (**JDK**); therefore,
    it's necessary to know what Java version you have installed (in this particular
    case, the Java Runtime Environment will not be enough).
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Android Studio没有**Java开发工具包**（**JDK**）将无法工作；因此，了解您安装的Java版本是必要的（在这种情况下，Java运行时环境将不足以满足要求）。
- en: Checking the JDK version
  id: totrans-30
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查JDK版本
- en: It is mandatory that you check the version of your JDK for compatibility purposes.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 为了兼容性，您必须检查您的JDK版本。
- en: Mac
  id: totrans-32
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Mac
- en: 'Open Terminal and type the following command:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 打开终端并输入以下命令：
- en: '[PRE0]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'This is what will be shown on the screen:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 这将是屏幕上显示的内容：
- en: '![Mac](img/0389OS_01_02.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![Mac](img/0389OS_01_02.jpg)'
- en: Windows
  id: totrans-37
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Windows
- en: 'Open Command Prompt and type the following command:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 打开命令提示符并输入以下命令：
- en: '[PRE1]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'This is what will be shown on the screen:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 这将是屏幕上显示的内容：
- en: '![Windows](img/0389OS_01_03.jpg)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![Windows](img/0389OS_01_03.jpg)'
- en: Installing Java
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装Java
- en: 'If you do not have Java installed, or if your version is below 6.0, install
    the Java JDK by clicking on the following customized and shortened link and choosing
    the version that applies for you:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您尚未安装Java，或者您的版本低于6.0，请通过以下定制和缩短的链接安装Java JDK，并选择适用于您的版本：
- en: '[http://j.mp/javadevkit-download](http://j.mp/javadevkit-download)'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://j.mp/javadevkit-download](http://j.mp/javadevkit-download)'
- en: 'The following window will open:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 将打开以下窗口：
- en: '![Installing Java](img/0389OS_01_04.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![安装Java](img/0389OS_01_04.jpg)'
- en: The main recommendation for these projects is that you install a version of
    JDK 6.0 or higher.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这些项目的主要建议是安装JDK 6.0或更高版本。
- en: 'Select the JDK for your operating system. On an Intel-based Mac, you can follow
    this useful table to see whether your Mac is 32-bit or 64-bit:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 选择适用于您的操作系统的JDK。在基于Intel的Mac上，您可以参考以下有用的表格来查看您的Mac是32位还是64位：
- en: '| Processor Name | 32- or 64-bit processor |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| 处理器名称 | 32位或64位处理器 |'
- en: '| --- | --- |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Intel Core Solo | 32 bit |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| 英特尔酷睿单核 | 32位 |'
- en: '| Intel Core Duo | 32 bit |'
  id: totrans-52
  prefs: []
  type: TYPE_TB
  zh: '| 英特尔酷睿双核 | 32位 |'
- en: '| Intel Core 2 Duo | 64 bit |'
  id: totrans-53
  prefs: []
  type: TYPE_TB
  zh: '| Intel Core 2 Duo | 64位 |'
- en: '| Intel Quad-Core Xeon | 64 bit |'
  id: totrans-54
  prefs: []
  type: TYPE_TB
  zh: '| Intel 四核Xeon | 64位 |'
- en: '| Dual-Core Intel Xeon | 64 bit |'
  id: totrans-55
  prefs: []
  type: TYPE_TB
  zh: '| 双核Intel Xeon | 64位 |'
- en: '| Quad-Core Intel Xeon | 64 bit |'
  id: totrans-56
  prefs: []
  type: TYPE_TB
  zh: '| 四核Intel Xeon | 64位 |'
- en: '| Core i3 | 64 bit |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '| Core i3 | 64位 |'
- en: '| Core i5 | 64 bit |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '| Core i5 | 64位 |'
- en: '| Core i7 | 64 bit |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '| Core i7 | 64位 |'
- en: You can check for **Processor Name** by clicking on the Apple logo in the top-left
    corner of your screen followed by **About my Mac**.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过点击屏幕左上角的苹果标志，然后选择**关于我的Mac**来检查**处理器名称**。
- en: 'In the case of Windows, to see whether your computer is running a 32-bit or
    64-bit version of Windows, you need to do the following:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在Windows的情况下，要查看您的计算机是否运行32位或64位版本的Windows，您需要执行以下操作：
- en: Click on the Start button.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击开始按钮。
- en: Right-click on **My Computer**, and then click on **Properties**. If **x64 edition**
    is listed under system, your processor is capable of running 64-bit-enabled applications.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键点击**我的电脑**，然后点击**属性**。如果系统下列出**x64版**，则您的处理器能够运行64位启用应用程序。
- en: Installing Android Studio
  id: totrans-64
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装Android Studio
- en: 'Let''s see how we install Android Studio on Mac and Windows:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何在Mac和Windows上安装Android Studio：
- en: Go to the Android Developers site at [http://developer.android.com](http://developer.android.com).
    The following screen will appear:![Installing Android Studio](img/0389OS_01_05.jpg)
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 访问[http://developer.android.com](http://developer.android.com)的Android开发者网站。将出现以下屏幕：![安装Android
    Studio](img/0389OS_01_05.jpg)
- en: Click on **Android Studio**; you will be directed to the landing page where
    your operating system version will be detected automatically, as shown in the
    following screenshot:![Installing Android Studio](img/0389OS_01_06.jpg)
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**Android Studio**；您将被引导到登录页面，您的操作系统版本将自动检测，如图所示：![安装Android Studio](img/0389OS_01_06.jpg)
- en: Accept the **Terms and Conditions** of the software use agreement:![Installing
    Android Studio](img/0389OS_01_07.jpg)
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接受软件使用协议的**条款和条件**：![安装Android Studio](img/0389OS_01_07.jpg)
- en: Mac
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Mac
- en: 'Double-click on the downloaded file, follow the prompts, and then drag the
    Android Studio icon into your `Applications` folder:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 双击下载的文件，按照提示操作，然后将Android Studio图标拖入您的`应用程序`文件夹：
- en: '![Mac](img/0389OS_01_08.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![Mac](img/0389OS_01_08.jpg)'
- en: Windows
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Windows
- en: 'Open the downloaded file, and then go through the following **Android Studio
    Setup Wizard** window to complete the installation process:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 打开下载的文件，然后按照以下**Android Studio安装向导**窗口完成安装过程：
- en: '![Windows](img/0389OS_01_09.jpg)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![Windows](img/0389OS_01_09.jpg)'
- en: Setting up the Android Software Development Kit
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置Android软件开发工具包
- en: The process of setting up the Android **Software Development Kit** (**SDK**)
    has improved vastly with the introduction of Android Studio, as the latest SDKs
    come preinstalled with the Android Studio install package. In order to develop
    the projects detailed in the following chapters, it would be very helpful to understand
    how you can install (or even uninstall) SDKs within Android Studio.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 随着Android Studio的引入，设置Android**软件开发工具包**（**SDK**）的过程得到了极大的改进，因为最新的SDK作为Android
    Studio安装包的一部分预先安装。为了理解以下章节中详细说明的项目，了解如何在Android Studio中安装（甚至卸载）SDK将非常有帮助。
- en: 'There are a number of ways to access the **SDK Manager**. The most straightforward
    way is through the following Android Studio main toolbar:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种方法可以访问**SDK管理器**。最直接的方法是通过以下Android Studio主工具栏：
- en: '![Setting up the Android Software Development Kit](img/0389OS_01_10.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![设置Android软件开发工具包](img/0389OS_01_10.jpg)'
- en: 'Another option would be via the **Launch** menu where you will be faced with
    the following options:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个选项是通过**启动**菜单，您将面临以下选项：
- en: '![Setting up the Android Software Development Kit](img/0389OS_01_11.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![设置Android软件开发工具包](img/0389OS_01_11.jpg)'
- en: 'In order to access the SDK Manager, you will need to click on **Configure**,
    where the following screen will appear, and then click on **SDK Manager**:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 为了访问SDK管理器，您需要点击**配置**，随后将出现以下屏幕，然后点击**SDK管理器**：
- en: '![Setting up the Android Software Development Kit](img/0389OS_01_12.jpg)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![设置Android软件开发工具包](img/0389OS_01_12.jpg)'
- en: 'The previous screenshot shows us what the SDK Manager looks like. If you need
    to install any packages, you need to check the mark of that particular package,
    click on **Install packages**, and then finally accept the licenses, as shown
    in the following screenshot:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 上一张截图显示了SDK管理器的样子。如果您需要安装任何包，您需要勾选该特定包的复选框，点击**安装包**，然后最终接受许可证，如图所示：
- en: '![Setting up the Android Software Development Kit](img/0389OS_01_13.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![设置Android软件开发工具包](img/0389OS_01_13.jpg)'
- en: Setting up your physical Android device for development
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置您的物理Android设备以进行开发
- en: 'The following are the three main steps that need to be executed in order to
    enable your Android device for development:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是需要执行以启用您的Android设备进行开发的三个主要步骤：
- en: Enable **Developer options** on your specific Android device.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在您的特定Android设备上启用**开发者选项**。
- en: Enable **USB debugging**.
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用**USB调试**。
- en: Entrust the computer with an installed IDE via secure USB debugging (devices
    with Android 4.4.2).
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过安全的USB调试将安装的IDE授权给计算机（具有Android 4.4.2的设备）。
- en: Enabling Developer options
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 启用开发者选项
- en: Depending on your device, this option might vary slightly, but from Android
    4.2 and higher, the **Developer options** screen is hidden by default.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您的设备，此选项可能会有所不同，但从Android 4.2及以上版本开始，**开发者选项**屏幕默认隐藏。
- en: To make it available, go to **Settings** | **About phone** and tap on **Build
    number** seven times. You will find **Developer options** enabled by returning
    to the previous screen.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 要使其可用，请转到**设置** | **关于手机**并点击**构建号**七次。返回上一屏幕后，您将找到已启用的**开发者选项**。
- en: Enabling USB debugging
  id: totrans-93
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 启用USB调试
- en: USB debugging enables the IDE to communicate with the device via the USB port.
    This can be activated after enabling **Developer options** and is done by checking
    the **USB debugging** option by navigating to **Settings** | **Developer options**
    | **Debugging** | **USB debugging**.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: USB调试使IDE能够通过USB端口与设备通信。这可以在启用**开发者选项**后激活，通过导航到**设置** | **开发者选项** | **调试**
    | **USB调试**来检查**USB调试**选项。
- en: Entrusting the computer with the installed IDE using secure USB debugging (devices
    with Android 4.4.2)
  id: totrans-95
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 通过安全的USB调试将安装的IDE授权给计算机（具有Android 4.4.2的设备）
- en: You have to accept the RSA key on your phone or tablet before anything can flow
    between the device via **Android Debug Bridge** (**ADB**). This is done by connecting
    the device to the computer via a USB, which triggers a notification entitled **Enable
    USB Debugging**.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在通过**Android调试桥接器**（**ADB**）进行任何数据传输之前，您必须在您的手机或平板电脑上接受RSA密钥。这通过将设备通过USB连接到计算机来完成，这会触发一个名为**启用USB调试**的通知。
- en: Check **Always allow from this Computer** followed by clicking on **OK**.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 选择**始终允许来自此计算机**，然后点击**确定**。
- en: Hardware configuration
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 硬件配置
- en: For the first project of this book, there are only a few hardware connections
    to make. We simply need to connect the relay module and the DHT11 sensor to the
    Arduino board.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 对于本书的第一个项目，只需要进行很少的硬件连接。我们只需要将继电器模块和DHT11传感器连接到Arduino板上。
- en: 'The following image summarizes the hardware connections for this chapter (with
    the DHT sensor on the left of the breadboard, and the relay module on the right):'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图像总结了本章的硬件连接（DHT传感器位于面包板的左侧，继电器模块位于右侧）：
- en: '![Hardware configuration](img/0389OS_01_14.jpg)'
  id: totrans-101
  prefs: []
  type: TYPE_IMG
  zh: '![硬件配置](img/0389OS_01_14.jpg)'
- en: The first thing you need to do is to connect the power from the Arduino board
    to the power rails on the side of the breadboard. Connect the Arduino 5V pin to
    the red power rail on the breadboard, and the Arduino GND pin to the blue power
    rail on the breadboard.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要做的第一件事是将Arduino板上的电源连接到面包板侧的电源轨。将Arduino的5V引脚连接到面包板上的红色电源轨，将Arduino的GND引脚连接到面包板上的蓝色电源轨。
- en: For the DHT11 sensor, you first need to have a look at the pins configuration
    of the sensor by visiting [http://www.rlocman.ru/i/Image/2012/09/06/DHT11_Pins.jpg](http://www.rlocman.ru/i/Image/2012/09/06/DHT11_Pins.jpg).
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 对于DHT11传感器，您首先需要查看传感器的引脚配置，可以通过访问[http://www.rlocman.ru/i/Image/2012/09/06/DHT11_Pins.jpg](http://www.rlocman.ru/i/Image/2012/09/06/DHT11_Pins.jpg)来实现。
- en: You need to first connect the power supply; the VCC pin goes to the red power
    rail on the breadboard, and the GND pin goes to the blue power rail. You also
    need to connect the DATA pin to pin number 7 of the Arduino board. Finally, place
    the 4.7K Ohm resistor between the VCC and the DATA pin of the sensor.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要首先连接电源；VCC引脚连接到面包板上的红色电源轨，GND引脚连接到蓝色电源轨。您还需要将DATA引脚连接到Arduino板的7号引脚。最后，将4.7K欧姆电阻放置在传感器的VCC和DATA引脚之间。
- en: 'For the relay module, you have three pins to connect: VCC, GND, and SIG. Connect
    the VCC pin to the red power rail on the breadboard, GND to the blue power rail,
    and finally, connect the SIG pin to Arduino pin 8.'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 对于继电器模块，您有三个引脚需要连接：VCC、GND和SIG。将VCC引脚连接到面包板上的红色电源轨，GND连接到蓝色电源轨，最后将SIG引脚连接到Arduino的8号引脚。
- en: 'The following is an image of the completely assembled project:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是完全组装好的项目的图片：
- en: '![Hardware configuration](img/0389OS_01_15.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![硬件配置](img/0389OS_01_15.jpg)'
- en: Learning to use the aREST library
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 学习使用aREST库
- en: Now that our hardware is assembled, we are going to see the basics of the Arduino
    environment, and how to use the aREST library that we are going to use in several
    chapters of this book to control Arduino from an Android phone.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们硬件已经组装好，我们将了解Arduino环境的基础知识，以及如何使用我们将在本书的几个章节中使用来从Android手机控制Arduino的aREST库。
- en: The aREST library will allow us to simply control the Arduino board externally
    using the same commands, whether it is using an USB cable, Bluetooth, or Wi-Fi.
    Without this library, we will have to rewrite the same code several times for
    all the chapters of the book. To find a complete documentation on the aREST library,
    you can visit [https://github.com/marcoschwartz/aREST](https://github.com/marcoschwartz/aREST).
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: aREST库将使我们能够简单地通过相同的命令在外部控制Arduino板，无论是使用USB线、蓝牙还是Wi-Fi。没有这个库，我们将不得不为这本书的所有章节重写相同的代码。要找到关于aREST库的完整文档，您可以访问[https://github.com/marcoschwartz/aREST](https://github.com/marcoschwartz/aREST)。
- en: The main window of the Arduino IDE is where you enter the code to program the
    Arduino board.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: Arduino IDE的主窗口是您输入代码以编程Arduino板的地方。
- en: 'Arduino code files are usually called **sketches**. The following screenshot
    is of the Arduino IDE with the code of this chapter already loaded:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: Arduino代码文件通常被称为**草图**。以下截图是Arduino IDE，其中已经加载了本章的代码：
- en: '![Learning to use the aREST library](img/0389OS_01_16.jpg)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![学习使用aREST库](img/0389OS_01_16.jpg)'
- en: You will basically use two buttons that you can find on the left-hand side of
    the toolbar. The first one, with the check sign, can be use to compile the code.
    The second one will be used to upload the code to the Arduino board. Note that
    if the code has not been compiled yet, the upload button will also compile the
    code before uploading.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 您基本上会使用两个按钮，您可以在工具栏的左侧找到它们。第一个，带有勾选标记的，可以用来编译代码。第二个将用于将代码上传到Arduino板。请注意，如果代码尚未编译，上传按钮在上传之前也会编译代码。
- en: The second important window of the Arduino IDE is called the **serial monitor**.
    This is where you can monitor what your Arduino project is doing, using the `Serial.print()`
    statements in the code to generate debug output. You can access it by clicking
    on the top-right icon of the Arduino IDE main window.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: Arduino IDE的第二个重要窗口被称为**串行监视器**。这是您可以监控Arduino项目正在做什么的地方，使用代码中的`Serial.print()`语句生成调试输出。您可以通过点击Arduino
    IDE主窗口右上角的图标来访问它。
- en: 'The following screenshot shows what the serial monitor looks like:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了串行监视器的样子：
- en: '![Learning to use the aREST library](img/0389OS_01_17.jpg)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![学习使用aREST库](img/0389OS_01_17.jpg)'
- en: We are now going to build our first Arduino sketch in this book. What we want
    to achieve is simply to control the relay and read data from the DHT11 sensor.
    To do so, you are going to use the aREST library by sending commands from your
    computer. In the next chapter of this book, we are going to use the same commands
    but via a Bluetooth or Wi-Fi connection. The goal of this section is really to
    make you familiar with the commands of the aREST library.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将在这个书中构建我们的第一个Arduino草图。我们想要实现的是简单地控制继电器并从DHT11传感器读取数据。为此，您将使用aREST库，通过从您的计算机发送命令。在本书的下一章中，我们将使用相同的命令，但通过蓝牙或Wi-Fi连接。本节的目标确实是让您熟悉aREST库的命令。
- en: 'The following code is the complete Arduino sketch for this part:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码是这部分完整的Arduino草图：
- en: '[PRE2]'
  id: totrans-120
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Let''s explore the details of this Arduino sketch using the following steps:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们按照以下步骤探索这个Arduino草图的细节：
- en: 'The Arduino sketch starts by importing the required libraries for the project:'
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Arduino草图首先导入项目所需的库：
- en: '[PRE3]'
  id: totrans-123
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'After that, we need to define on which pin the DHT11 sensor is connected to,
    and which is the type of the sensor:'
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 之后，我们需要定义DHT11传感器连接到的引脚以及传感器的类型：
- en: '[PRE4]'
  id: totrans-125
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'We also need to create an instance of the aREST library:'
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们还需要创建一个aREST库的实例：
- en: '[PRE5]'
  id: totrans-127
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'We also need to create an instance of the DHT11 sensor so that we can measure
    data from it:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们还需要创建一个DHT11传感器的实例，以便我们可以从它测量数据：
- en: '[PRE6]'
  id: totrans-129
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Finally, we need to create two variables that will contain our measurements:'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，我们需要创建两个变量来存储我们的测量值：
- en: '[PRE7]'
  id: totrans-131
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'In the `setup()` function of the sketch, we need to start the serial port:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在草图的`setup()`函数中，我们需要启动串行端口：
- en: '[PRE8]'
  id: totrans-133
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Next, we need to expose our two measurement variables so that we can access
    them via the serial port using the aREST library. Note that we have to pass the
    reference to these variables, not their values, as shown in the following code:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要公开我们的两个测量变量，以便我们可以通过aREST库通过串行端口访问它们。请注意，我们必须传递这些变量的引用，而不是它们的值，如下面的代码所示：
- en: '[PRE9]'
  id: totrans-135
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'We also set an ID and name to our project. This will not play any role here,
    but is simply to identify our board in case we have many of them:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们还为我们项目设置了一个ID和名称。这在这里不起任何作用，但只是为了在有多块板的情况下识别我们的板：
- en: '[PRE10]'
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Finally, we start the DHT11 sensor:'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，我们开始启动DHT11传感器：
- en: '[PRE11]'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Now, in the `loop()` function of the sketch, we make the measurements from
    the DHT11 sensor, and convert these measurements to integers (which is called
    "casting" in C):'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，在草图的`loop()`函数中，我们从DHT11传感器进行测量，并将这些测量值转换为整数（在C语言中称为“类型转换”）：
- en: '[PRE12]'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Note that here we are converting these numbers into integers because it is
    the only variable type supported by the aREST library. However, as the resolution
    of the DHT11 sensor is limited, we are not losing any information here. Finally,
    we handle any requests coming from the outside using the following code:'
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 注意，在这里我们将这些数字转换为整数，因为这是aREST库唯一支持的变量类型。然而，由于DHT11传感器的分辨率有限，我们在这里没有丢失任何信息。最后，我们使用以下代码处理来自外部的任何请求：
- en: '[PRE13]'
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Note
  id: totrans-144
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: 'Note that all the code for this chapter can be found in the GitHub repository
    of the book at the following link:'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 注意，本章的所有代码都可以在书的GitHub仓库中找到，链接如下：
- en: '[https://github.com/marcoschwartz/arduino-android-blueprints](https://github.com/marcoschwartz/arduino-android-blueprints)'
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '[https://github.com/marcoschwartz/arduino-android-blueprints](https://github.com/marcoschwartz/arduino-android-blueprints)'
- en: It's now time to upload the sketch to your Arduino board. If you have any error
    when compiling, make sure that you installed all the required Arduino libraries
    for this chapter.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是时候将草图上传到你的Arduino板上了。如果你在编译时遇到任何错误，请确保你已经安装了本章所需的全部Arduino库。
- en: When this is done, simply open the serial monitor (making sure the serial speed
    is set to `115200`). Note that you could do the same with your own serial terminal
    software, for example, CoolTerm found at [http://freeware.the-meiers.org/](http://freeware.the-meiers.org/).
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此操作后，只需简单地打开串行监视器（确保串行速度设置为`115200`）。请注意，你也可以使用自己的串行终端软件完成同样的操作，例如，可以在[http://freeware.the-meiers.org/](http://freeware.the-meiers.org/)找到的CoolTerm。
- en: 'Now, we are going to test that the aREST library is working correctly. Let''s
    proceed with the following steps:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们将测试aREST库是否正常工作。让我们按照以下步骤进行：
- en: 'First, we are going to query the board for its ID and name. To do so, type
    the following:'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们将查询板的ID和名称。为此，输入以下内容：
- en: '[PRE14]'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'You should be greeted by the following answer:'
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你应该会收到以下回答：
- en: '[PRE15]'
  id: totrans-153
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'We are now going to see how to control the relay, as this is something we are
    going to do several times in this book. First, we need to define that the relay
    pin, which is pin number 8 of the Arduino board, is an output. To do so, we can
    simply type:'
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们将看到如何控制继电器，因为在这本书中我们将多次这样做。首先，我们需要定义继电器引脚，即Arduino板的8号引脚，是一个输出。为此，我们可以简单地输入以下内容：
- en: '[PRE16]'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'You should receive the following answer on the serial monitor:'
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你应该在串行监视器上收到以下回答：
- en: '[PRE17]'
  id: totrans-157
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'Now, to activate the relay, we need to set the pin 8 to a `HIGH` state. This
    is done the following command:'
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，为了激活继电器，我们需要将8号引脚设置为`HIGH`状态。这是通过以下命令完成的：
- en: '[PRE18]'
  id: totrans-159
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'You should instantly receive a confirmation message, and hear the relay click.
    To switch the relay off again, simply type the following code:'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将立即收到一个确认消息，并听到继电器咔哒一声。要再次关闭继电器，只需输入以下代码：
- en: '[PRE19]'
  id: totrans-161
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Now, we are going to read data from the board using the aREST library. For
    example, to read the temperature variable, you can simply type the following code:'
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们将使用aREST库从板上读取数据。例如，要读取温度变量，你可以简单地输入以下代码：
- en: '[PRE20]'
  id: totrans-163
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'You will receive the following confirmation message with the value of the temperature:'
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将收到以下确认消息，其中包含温度值：
- en: '[PRE21]'
  id: totrans-165
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'You can do the same for humidity:'
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你也可以为湿度做同样的事情：
- en: '[PRE22]'
  id: totrans-167
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'You will receive a similar message back:'
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将收到一条类似的回执：
- en: '[PRE23]'
  id: totrans-169
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE23]'
- en: If this is working, congratulations! You now know the basics of the aREST library
    that we will use throughout the book. Note that for now we are using these commands
    via serial communications, but later in the book, we will first use the same commands
    via Bluetooth, and then via Wi-Fi to command the Arduino board from an Android
    device.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一切正常，恭喜！您现在已经了解了我们将贯穿整本书的aREST库的基础知识。请注意，目前我们通过串行通信使用这些命令，但本书后面，我们将首先通过蓝牙使用相同的命令，然后通过Wi-Fi从Android设备控制Arduino板。
- en: Now that we have seen how the aREST library is working, we are going to create
    our first Android project. Note that in this introductory chapter, we won't connect
    both together; this will be done in the next chapter of the book.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经看到了aREST库的工作方式，我们将创建我们的第一个Android项目。请注意，在本介绍性章节中，我们不会将两者连接起来；这将在本书的下一章中完成。
- en: Creating your first Android project
  id: totrans-172
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建您的第一个Android项目
- en: 'In order to get started in the world of Android application projects, it would
    be very useful to set up a very basic project that goes through the two main processes
    in Android application development: coding the application and then testing it
    on an Android physical device.'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在Android应用项目的世界中开始，设置一个非常基础的项目非常有用，该项目将经历Android应用开发的两个主要过程：编写应用程序并在Android物理设备上测试它。
- en: Tip
  id: totrans-174
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: '**Downloading the example code**'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '**下载示例代码**'
- en: You can download the example code files for all Packt books you have purchased
    from your account at [http://www.packtpub.com](http://www.packtpub.com). If you
    purchased this book elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[http://www.packtpub.com](http://www.packtpub.com)的账户下载您购买的所有Packt书籍的示例代码文件。如果您在其他地方购买了这本书，您可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。
- en: Setting up your first Hello Arduino project
  id: totrans-177
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 设置您的第一个Hello Arduino项目
- en: 'Click on **New Project** when Android Studio launches as shown in the following
    screenshot:'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 当Android Studio启动时，请按照以下截图所示点击**新建项目**：
- en: '![Setting up your first Hello Arduino project](img/0389OS_01_18.jpg)'
  id: totrans-179
  prefs: []
  type: TYPE_IMG
  zh: '![设置您的第一个Hello Arduino项目](img/0389OS_01_18.jpg)'
- en: An important step within Android application development is configuring your
    project. This project will be using Android 4.3 as the minimum target SDK, since
    we intend to use the **Bluetooth Low Energy API**, which was introduced in this
    particular version of Android. In this case, we will name the project `Hello Arduino`
    and write down your company domain, as the convention for application package
    names is the reverse of your chosen domain.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在Android应用开发中，配置项目是一个重要的步骤。本项目将使用Android 4.3作为最低目标SDK，因为我们打算使用**低功耗蓝牙API**，该API是在Android的这个特定版本中引入的。在这种情况下，我们将项目命名为`Hello
    Arduino`并写下您的公司域名，因为应用程序包名的惯例是您选择的域名的反向。
- en: 'Refer to the following screenshot:'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 参考以下截图：
- en: '![Setting up your first Hello Arduino project](img/0389OS_01_19.jpg)'
  id: totrans-182
  prefs: []
  type: TYPE_IMG
  zh: '![设置您的第一个Hello Arduino项目](img/0389OS_01_19.jpg)'
- en: For the purposes of this particular project, we will go ahead and choose the
    most basic project, **Blank Activity**, as shown in the following screenshot.
    The other choices provide added functionality that we do not need at this stage.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这个特定的项目，我们将选择最基础的项目，**空白活动**，如以下截图所示。其他选项提供了我们目前不需要的附加功能。
- en: '![Setting up your first Hello Arduino project](img/0389OS_01_20.jpg)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![设置您的第一个Hello Arduino项目](img/0389OS_01_20.jpg)'
- en: 'In the following screenshot, we choose **Blank Activity**, and we need to give
    a name to our main Java file. Let''s keep it as `MyActivity`:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下截图中，我们选择**空白活动**，并需要为主Java文件命名。让我们保持为`MyActivity`：
- en: '![Setting up your first Hello Arduino project](img/0389OS_01_21.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![设置您的第一个Hello Arduino项目](img/0389OS_01_21.jpg)'
- en: 'Once you follow through all the previous steps, you will be welcomed to this
    workspace, which gives a good overview of the project tree, main code editor,
    and the device that shows a preview of the **User Interface** (**UI**), as shown
    in the following screenshot:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您完成所有前面的步骤，您将欢迎来到这个工作区，它提供了项目树、主要代码编辑器和显示**用户界面**（**UI**）预览的设备的好概述，如以下截图所示：
- en: '![Setting up your first Hello Arduino project](img/0389OS_01_22.jpg)'
  id: totrans-188
  prefs: []
  type: TYPE_IMG
  zh: '![设置您的第一个Hello Arduino项目](img/0389OS_01_22.jpg)'
- en: In this particular project, there will be no need to modify the existing code
    and therefore we will proceed with building our app and launching it on our physical
    Android device.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个特定的项目中，我们不需要修改现有的代码，因此我们将继续构建我们的应用程序并在我们的物理Android设备上运行它。
- en: Installing your app on your physical device
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 在物理设备上安装您的应用程序
- en: Previously, we have connected and enabled our physical Android device via a
    USB. Within Android Studio, we need to set up the configuration to run our Android
    application.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 之前，我们已经通过USB连接并启用了我们的物理Android设备。在Android Studio中，我们需要设置配置以运行我们的Android应用程序。
- en: 'This is done by choosing **Editing Configurations** from the main toolbar as
    shown in the following screenshot:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 这是通过从主工具栏中选择**编辑配置**来完成的，如下截图所示：
- en: '![Installing your app on your physical device](img/0389OS_01_23.jpg)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![在物理设备上安装您的应用程序](img/0389OS_01_23.jpg)'
- en: 'In the **Editing Configurations** window, we will click on the + sign and choose
    **Android Application** where we set up the configuration with the following settings
    and confirm them by pressing **OK**:'
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在**编辑配置**窗口中，我们将点击加号并选择**Android应用程序**，在那里我们设置以下配置并通过按**确定**来确认：
- en: '![Installing your app on your physical device](img/0389OS_01_24.jpg)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![在物理设备上安装您的应用程序](img/0389OS_01_24.jpg)'
- en: 'After setting up everything, we are ready to run the app. Choose the **App**
    configuration, which we previously set up, and press the **Play** button (green
    triangle) as shown in the following screenshot:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 在设置好一切之后，我们就可以运行应用程序了。选择我们之前设置的**应用程序**配置，并按如下截图所示的**播放**按钮（绿色三角形）：
- en: '![Installing your app on your physical device](img/0389OS_01_25.jpg)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![在物理设备上安装您的应用程序](img/0389OS_01_25.jpg)'
- en: There is the possibility of creating an **Android Virtual Device** (**AVD**)
    to install the application. However, at this point in time, there are no virtual
    emulators that support Bluetooth, which we will need for a number of projects
    in this book. So, we will focus on setting up your Android physical device running
    Android 4.3 or higher.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 有创建**Android虚拟设备**（**AVD**）的可能性来安装应用程序。然而，在这个时间点，没有支持蓝牙的虚拟模拟器，而我们需要在本书的许多项目中使用蓝牙。因此，我们将专注于设置运行Android
    4.3或更高版本的物理Android设备。
- en: 'In the next step, choose your physical device and press **OK**, as shown in
    the following screenshot:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一步中，选择您的物理设备并按**确定**，如下截图所示：
- en: '![Installing your app on your physical device](img/0389OS_01_26.jpg)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![在物理设备上安装您的应用程序](img/0389OS_01_26.jpg)'
- en: 'You should expect the following to show up on your Android device if you have
    set up everything in the correct manner:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您正确设置了所有内容，您应该会在Android设备上看到以下内容：
- en: '![Installing your app on your physical device](img/0389OS_01_27.jpg)'
  id: totrans-202
  prefs: []
  type: TYPE_IMG
  zh: '![在物理设备上安装您的应用程序](img/0389OS_01_27.jpg)'
- en: Summary
  id: totrans-203
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概述
- en: Let's summarize what we did in this chapter of the book. We built a very simple
    Arduino project comprising an Arduino board, a relay module, and a temperature
    and humidity sensor. We saw how to connect these components together so that we
    can control the relay as an output and read data from the sensor. We also saw
    the basics of the aREST library, which we will use in the whole book to control
    the Arduino board from an Android device.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们总结一下本书这一章节我们所做的工作。我们构建了一个非常简单的Arduino项目，包括Arduino板、继电器模块和温湿度传感器。我们看到了如何将这些组件连接在一起，以便我们可以将继电器作为输出控制，并从传感器读取数据。我们还看到了aREST库的基础知识，我们将在整个书中使用它来从Android设备控制Arduino板。
- en: On the Android side, we have prepared our IDE and Android device for development,
    which will prepare us for the upcoming projects that we have prepared for you
    in this book and help us have a seamless experience. We also had the opportunity
    to compile our first app and get it up and running on our Android device.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 在Android端，我们已经为开发准备了我们的IDE和Android设备，这将为我们准备本书中为您准备的项目，并帮助我们有一个无缝的体验。我们还有机会编译我们的第一个应用程序，并在我们的Android设备上运行它。
- en: At this stage, you can already repeat the steps we took in this chapter to really
    get familiar with the Arduino IDE, the commands of the aREST library, and the
    Android development environment. We will use these tools extensively in the rest
    of this book; so, it is crucial that are you familiar with them.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个阶段，您已经可以重复本章中我们采取的步骤，真正熟悉Arduino IDE、aREST库的命令以及Android开发环境。我们将在本书的其余部分广泛使用这些工具；因此，您熟悉它们至关重要。
