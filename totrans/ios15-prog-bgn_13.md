# *第11章*: 完成用户界面

在上一章中，你配置了**探索**屏幕以在集合视图中显示20个空集合视图单元格，向集合视图部分标题中添加了一个按钮以模态方式呈现代表**位置**屏幕的视图，并添加了一个**取消**按钮以关闭它。

在本章中，你将实现应用浏览中展示的剩余屏幕，即[*第9章*](B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133)“设置用户界面”中展示的屏幕。首先，你将在**位置**屏幕中添加一个空白表格视图。接下来，你将添加**餐厅列表**屏幕，当在**探索**屏幕中点击单元格时将显示此屏幕。你将配置此屏幕以显示包含单个集合视图单元格的集合视图。之后，你将添加**餐厅详情**屏幕，当在**餐厅列表**屏幕中点击单元格时将显示此屏幕。你将配置此屏幕以显示静态表格视图单元格的表格视图。你还将向其中一个单元格添加一个按钮，当点击时将显示代表**评论表单**屏幕的视图。最后，你将使**地图**屏幕显示地图。

到本章结束时，你将学会如何向Storyboard场景中添加和配置表格视图，如何在场景之间添加segues，以及如何向场景中添加地图视图。你的应用程序的基本用户界面将完成，你将能够遍历模拟器中的所有屏幕。所有屏幕都不会显示数据，但你将在本书的*第3部分*中完成它们的实现。

本章将涵盖以下主题：

+   在位置屏幕中添加表格视图

+   实现**餐厅列表**屏幕

+   实现**餐厅详情**屏幕

+   在**地图**屏幕中添加地图视图

# 技术要求

你将继续在上一章创建的`LetsEat`项目中工作。

本章完成的Xcode项目位于本书代码包的`Chapter11`文件夹中，可以在此处下载：

[https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition](https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition)

查看以下视频，了解代码的实际应用：

[https://bit.ly/3EYWb6i](https://bit.ly/3EYWb6i)

首先，你将在**位置**屏幕中添加一个表格视图，它最终将用于显示餐厅位置列表。

# 在位置屏幕中添加表格视图

当你在**探索**屏幕的集合视图部分标题中点击按钮时，将模态地呈现另一个代表**位置**屏幕的视图，但当前它是空的。让我们向此视图添加一个表格视图。按照以下步骤操作：

1.  构建并运行`LetsEat`应用以确保一切仍然按预期工作。在项目导航器中点击`Main`故事板文件。在文档大纲中，选择由**探索视图控制器场景**中的按钮模态显示的**视图控制器**图标。点击库按钮：![图11.1：显示库按钮的工具栏

    ![图片](img/Figure_11.01_B17469.jpg)

    图11.1：显示库按钮的工具栏

1.  库将出现。在过滤器字段中输入`table`。结果中将出现**表格视图**对象。

1.  将**表格视图**对象拖动到视图控制器场景中的视图中：![图11.2：选择表格视图对象的库

    ![图片](img/Figure_11.02_B17469.jpg)

    图11.2：选择表格视图对象的库

1.  你将添加约束使表格视图填满整个屏幕。选择表格视图后，点击“添加新约束”按钮：![图11.3：选择表格视图的视图控制器场景

    ![图片](img/Figure_11.03_B17469.jpg)

    图11.3：选择表格视图的视图控制器场景

1.  在所有**最近邻居间距**字段中输入`0`，并确保所有浅红色支撑结构都被选中（它们将变为鲜红色）。点击**添加4个约束**按钮：![图11.4：自动布局添加新约束弹出对话框

    ![图片](img/Figure_11.04_B17469.jpg)

    图11.4：自动布局添加新约束弹出对话框

1.  验证表格视图的边缘现在与视图控制器场景中的视图边缘对齐：

![图11.5：表格视图填满屏幕的视图控制器场景

![图片](img/Figure_11.05_B17469.jpg)

图11.5：表格视图填满屏幕的视图控制器场景

构建并运行你的应用，点击章节标题中的按钮。你将在**位置**屏幕中看到一个空白的表格视图：

![图11.6：iOS模拟器显示探索和位置屏幕

![图片](img/Figure_11.06_B17469.jpg)

图11.6：iOS模拟器显示探索和位置屏幕

你将在[*第15章*](B17469_15_Final_VK_ePub.xhtml#_idTextAnchor213)“使用表格视图入门”中实现**位置**屏幕的视图控制器。最终，这个表格视图将显示餐厅位置列表，如应用浏览中所示。正如你所见，这个过程与在上一章中添加到**探索**屏幕中的集合视图类似。

在下一节中，你将在故事板中添加一个视图控制器场景来表示**餐厅列表**屏幕。

# 实现餐厅列表屏幕

如[*第9章*](B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133)“应用浏览”中所示，在**探索**屏幕中设置位置并点击一种菜系后，将出现**餐厅列表**屏幕，显示餐厅列表。

要实现`RestaurantListViewController`类，将其设置为视图控制器场景视图的视图控制器，并将集合视图的出口连接到这个类。步骤与上一章中为`ExploreViewController`类执行的步骤非常相似。

让我们先添加新的视图控制器场景。按照以下步骤操作：

1.  在`Main`故事板文件中，将上一章中添加的导航控制器场景和视图控制器场景向上移动，为即将添加的新视图控制器场景腾出空间：![Figure 11.7: 显示Main故事板文件内容的编辑区域

    ![img/Figure_11.07_B17469.jpg]

    Figure 11.7: 显示Main故事板文件内容的编辑区域

1.  点击库按钮，在过滤器字段中输入`view con`。结果中将有一个**视图控制器**对象。将**视图控制器**对象拖动到故事板中以表示**餐厅列表**屏幕：![Figure 11.8: 已选择视图控制器对象的库

    ![img/Figure_11.08_B17469.jpg]

    Figure 11.8: 已选择视图控制器对象的库

1.  点击库按钮，在过滤器字段中输入`collec`。结果中将有一个**集合视图**对象。将**集合视图**对象拖动到视图控制器场景中的视图中：![Figure 11.9: 已选择集合视图对象的库

    ![img/Figure_11.09_B17469.jpg]

    Figure 11.9: 已选择集合视图对象的库

1.  你将添加约束使集合视图填满整个屏幕。在集合视图被选中时，点击**添加新约束**按钮：![Figure 11.10: 已选择集合视图的视图控制器场景

    ![img/Figure_11.10_B17469.jpg]

    Figure 11.10: 已选择集合视图的视图控制器场景

1.  在所有**最近邻间距**字段中输入`0`，并确保所有浅红色支撑结构都被选中（它们将变为亮红色）。点击**添加4个约束**按钮。验证集合视图的边缘现在是否与视图控制器场景中视图的边缘对齐：

![Figure 11.11: 集合视图填满屏幕的视图控制器场景

![img/Figure_11.11_B17469.jpg]

Figure 11.11: 集合视图填满屏幕的视图控制器场景

**餐厅列表**屏幕的视图控制器场景已添加，但尚未包含视图控制器。你需要一个视图控制器来使其显示集合视图单元格。在下一节中，你将在应用中添加一个新的Cocoa Touch类文件，以便声明和定义此屏幕的新视图控制器类。

## 声明RestaurantListViewController类

如前一章所述，你将在项目中添加一个新的Cocoa Touch类文件，但这次，你将实现`RestaurantListViewController`类。你将使用这个类的实例作为**餐厅列表**屏幕的视图控制器。按照以下步骤操作：

1.  点击导航器和检查器按钮以打开导航器和检查器区域。

1.  右键点击 `LetsEat` 组，从弹出菜单中选择**新建组**。

1.  将这个新组命名为 `Restaurants`。如果你出错，点击名称并按键盘上的 *Return* 键使其再次可编辑。

1.  右键点击 `Restaurants` 组，选择**新建文件...**。

1.  **iOS** 应已选中。选择**Cocoa Touch 类**并点击**下一步**。

1.  `RestaurantListViewController`

    `UIViewController`

    完成后点击**下一步**。

1.  在下一屏，点击**创建**。

1.  `RestaurantListViewController` 文件已添加到项目中，你将在其中看到 `RestaurantListViewController` 类的样板代码。`RestaurantListViewController` 类是 `UIViewController` 类的子类，包含一个方法，`viewDidLoad()`。如同你在上一章中所做的，从 `RestaurantListViewController` 类中的 `viewDidLoad()` 类之后删除注释代码，直到只剩下以下截图所示的代码：

![图 11.12：显示 RestaurantListViewController 文件内容的编辑区域

![图片](img/Figure_11.12_B17469.jpg)

图 11.12：显示 RestaurantListViewController 文件内容的编辑区域

如同之前对 `RestaurantListViewController` 类所做的，为视图场景中的视图控制器采用集合视图数据源和代理协议。你还需要在类定义中手动添加集合视图的出口，并使用连接检查器将出口连接到故事板中的集合视图。你将在下一节中这样做。

## 采用代理和数据源协议

你将修改 `RestaurantListViewController` 类，使其符合 `UICollectionViewDataSource` 和 `UICollectionViewDelegate` 协议，并添加任何必需的协议方法。你还将添加集合视图的出口，并将 `RestaurantListViewController` 类的实例设置为视图的控制器。按照以下步骤操作：

1.  按照以下所示修改 `RestaurantListViewController` 类声明，使其采用 `UICollectionViewDataSource` 和 `UICollectionViewDelegate` 协议：

    [PRE0]

1.  当错误图标出现时，点击它。

1.  你会看到这个错误，因为符合你添加的协议所需的方法没有在类定义中存在。点击**修复**按钮，将所需方法的占位符添加到你的类定义中。

1.  确认方法占位符已添加到文件中。重新排列一切，使占位符位于 `viewDidLoad()` 方法之后：![图 11.13：显示 UICollectionViewDataSource 方法占位符的编辑区域

    ![图片](img/Figure_11.13_B17469.jpg)

    图 11.13：显示 UICollectionViewDataSource 方法占位符的编辑区域

1.  按照以下所示修改方法占位符，以便在应用运行时在屏幕上显示单个集合视图单元格：

    [PRE1]

1.  确认你的代码看起来像这样：![图 11.14：显示显示单个单元格的代码的编辑区域

    ![图 11.14：B17469.jpg](img/Figure_11.14_B17469.jpg)

    图 11.14：显示单个单元格代码的编辑区域

1.  在类声明之后添加一个输出，`collectionView`：

    [PRE2]

    你将在稍后链接到故事板中的集合视图。

1.  确保你的代码看起来像这样：![图 11.15：显示 collectionView 输出的编辑区域

    ![图 11.15：B17469.jpg](img/Figure_11.15_B17469.jpg)

    图 11.15：显示 collectionView 输出的编辑区域

    你不会使用辅助编辑器将输出链接到集合视图，就像你在上一章中所做的那样。这是一个个人偏好的问题——你可以自由选择最适合你的方法。

1.  点击 `Main` 故事板文件，点击文档大纲中新增的 **视图控制器场景** 的 **视图控制器** 图标。点击身份检查器按钮：![图 11.16：已选择身份检查器

    ![图 11.16：B17469.jpg](img/Figure_11.16_B17469.jpg)

    图 11.16：已选择身份检查器

1.  要使 `RestaurantListViewController` 类的实例成为此场景的视图控制器，在 **类** 字段中选择 `RestaurantListViewController`：![图 11.17：身份检查器，类设置为 RestaurantListViewController

    ![图 11.17：B17469.jpg](img/Figure_11.17_B17469.jpg)

    图 11.17：身份检查器，类设置为 RestaurantListViewController

    注意，视图控制器场景的名称已更改为**餐厅列表视图控制器场景**。

1.  点击连接检查器按钮。要将 `RestaurantListViewController` 类定义中的集合视图分配，从 `collectionView` 输出的旁边的小圆圈拖动到 **餐厅列表视图控制器场景** 中的集合视图：![图 11.18：显示要连接的集合视图的编辑区域

    ![图 11.18：B17469.jpg](img/Figure_11.18_B17469.jpg)

    图 11.18：显示要连接的集合视图的编辑区域

1.  确认 `RestaurantListViewController` 类定义中的 `collectionView` 输出的集合视图现在已连接：![图 11.19：显示 collectionView 输出的连接检查器

    ![图 11.19：B17469.jpg](img/Figure_11.19_B17469.jpg)

    图 11.19：显示 collectionView 输出的连接检查器

1.  点击 `RestaurantListViewController` 类，为集合视图选择数据源和委托对象，从 `dataSource` 和 `delegate` 输出的旁边的小圆圈拖动到文档大纲中的 **餐厅列表视图控制器** 图标：![图 11.20：已选择连接检查器

    ![图 11.20：B17469.jpg](img/Figure_11.20_B17469.jpg)

    图 11.20：已选择连接检查器

1.  确认 `dataSource` 和 `delegate` 输出现在已连接：![图 11.21：已设置 dataSource 和 delegate 输出的连接检查器

    ![图 11.21：B17469.jpg](img/Figure_11.21_B17469.jpg)

    图 11.21：已设置 dataSource 和 delegate 输出的连接检查器

1.  在文档大纲中点击**集合视图单元格**。点击属性检查器按钮以设置集合视图单元格的标识符和颜色（你将在[*第13章*](B17469_13_Final_VK_ePub.xhtml#_idTextAnchor194)，*开始使用MVC和集合视图*）中了解更多关于标识符的信息）：![图11.22：属性检查器已选中

    ](img/Figure_11.22_B17469.jpg)

    图11.22：属性检查器已选中

1.  设置`restaurantCell`并设置`浅灰色颜色`：

![图11.23：属性检查器已设置标识符和背景颜色

](img/Figure_11.23_B17469.jpg)

图11.23：属性检查器已设置标识符和背景颜色

**餐厅列表视图控制器场景**的设置现在已完成。现在，你需要在一个单元格在**探索**屏幕中被点击时显示这个屏幕。为了做到这一点，你将在下一节中在**探索**屏幕和**餐厅列表**屏幕之间添加一个segue。

## 展示餐厅列表屏幕

在上一章中，你添加了一个segue，当**探索**屏幕中的按钮被点击时，会显示**位置**屏幕。为了在点击**探索**屏幕中的单元格时显示**餐厅列表**屏幕，你也会使用一个segue。按照以下步骤操作：

1.  在文档大纲中点击`exploreCell`到**餐厅列表视图控制器场景**以在它们之间添加一个segue：![图11.24：文档大纲显示exploreCell

    ](img/Figure_11.24_B17469.jpg)

    图11.24：文档大纲显示exploreCell

1.  **segue**菜单将出现。从菜单中选择**显示**：

![图11.25：带有“显示”选项的segue弹出菜单

](img/Figure_11.25_B17469.jpg)

图11.25：带有“显示”选项的segue弹出菜单

这使得当点击**探索**屏幕中的单元格时，**餐厅列表**屏幕从右侧滑入。在导航栏中会出现一个**<返回**按钮。

构建并运行你的应用。在**探索**屏幕中，点击一个单元格。你应该会看到包含一个单元格的集合视图的**餐厅列表**屏幕出现。在导航栏中点击**<返回**按钮将关闭**餐厅列表**屏幕：

![图11.26：iOS模拟器显示探索和餐厅列表屏幕

](img/Figure_11.26_B17469.jpg)

图11.26：iOS模拟器显示探索和餐厅列表屏幕

**餐厅列表**屏幕的实现现在已完成，你可以从**探索**屏幕导航到**餐厅列表**屏幕并返回。最终，这个屏幕中的集合视图将显示特定位置的餐厅列表，如应用演示所示。太棒了！接下来，你将添加一个视图控制器场景来表示**餐厅详情**屏幕。当点击**餐厅列表**屏幕中的单元格时，将显示此屏幕。你将在下一节中这样做。

# 实现餐厅详情屏幕

如 [*第 9 章*](B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133) “设置用户界面” 中的应用程序导游所示，当你点击 **餐厅列表** 屏幕中的餐厅时，将出现包含该餐厅详细信息的 **餐厅详情** 屏幕。点击 **添加评论** 按钮将显示可以添加评论的 **评论表单** 屏幕，点击 **添加照片** 按钮将显示可以添加照片并应用滤镜的 **照片滤镜** 屏幕。

在本节中，你将在你的故事板中添加一个新的表格视图控制器场景来表示 **餐厅详情** 屏幕，并添加第二个视图控制器场景来表示 **评论表单** 屏幕。你将在表格视图中的一个单元格中放置一个按钮来显示 **评论表单** 屏幕。

让我们从添加新的视图控制器场景开始。按照以下步骤操作：

1.  点击库按钮，在过滤器字段中输入 `table`，然后将 **表格视图控制器** 对象拖动到故事板中，位于 **餐厅列表视图控制器场景** 旁边：![图 11.27：选择表格视图控制器对象的库

    ![图片](img/Figure_11.27_B17469.jpg)

    图 11.27：选择表格视图控制器对象的库

    这将代表 **餐厅详情** 屏幕。

1.  验证是否已添加 **表格视图控制器场景**：![图 11.28：显示表格视图控制器场景和 Restaurant List 视图控制器场景的编辑区域

    ![图片](img/Figure_11.28_B17469.jpg)

    图 11.28：显示表格视图控制器场景和 Restaurant List 视图控制器场景的编辑区域

    注意，它已经包含了一个表格视图，因此你不需要在场景中添加表格视图，就像你之前章节中所做的那样。

1.  要将 `restaurantCell`（在文档大纲中位于 **餐厅列表视图控制器场景** 之下）显示到表格视图中，以在它们之间添加过渡：![图 11.29：选择 restaurantCell 的文档大纲

    ![图片](img/Figure_11.29_B17469.jpg)

    图 11.29：选择 restaurantCell 的文档大纲

1.  从 **过渡** 菜单中选择 **显示**。这使得当点击 **餐厅列表** 屏幕中的单元格时，**餐厅详情** 屏幕从右侧滑入。在导航栏中会出现一个 **<返回** 按钮。

1.  验证两个场景之间是否出现了过渡：![图 11.30：显示 Restaurant List 视图控制器场景和表格视图控制器场景之间的过渡

    ![图片](img/Figure_11.30_B17469.jpg)

    图 11.30：显示 Restaurant List 视图控制器场景和表格视图控制器场景之间的过渡

1.  **餐厅详情** 屏幕始终显示固定数量的单元格。在文档大纲中，点击 **表格视图控制器场景** 下的 **表格视图**，然后点击属性检查器按钮：![图 11.31：属性检查器已选择

    ![图片](img/Figure_11.31_B17469.jpg)

    图 11.31：属性检查器已选择

1.  将**内容**设置为**静态单元格**以使**餐厅详情**屏幕显示固定数量的单元格：

![图 11.32：内容设置为静态单元格的属性检查器

![图片](img/Figure_11.32_B17469.jpg)

图 11.32：内容设置为静态单元格的属性检查器

你这样做是因为**餐厅详情**屏幕总是使用相同数量的单元格来显示餐厅详情。

构建并运行你的应用。在**探索**屏幕上点击一个单元格以显示**餐厅列表**屏幕。然后，在**餐厅列表**屏幕上点击一个单元格以显示**餐厅详情**屏幕：

![图 11.33：显示餐厅详情屏幕的 iOS 模拟器

![图片](img/Figure_11.33_B17469.jpg)

图 11.33：显示餐厅详情屏幕的 iOS 模拟器

点击**后退**按钮返回。

在下一节中，你将在表格视图中的一个单元格内实现一个按钮以显示表示**评论表单**屏幕的屏幕。

## 实现评论表单屏幕

在本节中，你将实现一个新的视图控制器场景来表示**评论表单**屏幕，并在**餐厅详情**屏幕中配置一个按钮以显示它。按照以下步骤操作：

1.  你需要在过滤器字段中的`button`里添加一个按钮。一个**按钮**对象将作为结果之一出现。将其拖动到表示**餐厅详情**屏幕的表格视图控制器场景中的顶部静态单元格：![图 11.34：选择按钮对象的库

    ![图片](img/Figure_11.34_B17469.jpg)

    图 11.34：选择按钮对象的库

1.  将其放置在单元格的右侧：![图 11.35：显示带有按钮的表格视图控制器场景的编辑区域

    ![图片](img/Figure_11.35_B17469.jpg)

    图 11.35：显示带有按钮的表格视图控制器场景的编辑区域

1.  点击库按钮并在过滤器字段中输入`view con`。一个**视图控制器**对象将作为结果之一出现。将其拖动到表格视图控制器场景旁边以表示**评论表单**屏幕：![图 11.36：选择视图控制器对象的库

    ![图片](img/Figure_11.36_B17469.jpg)

    图 11.36：选择视图控制器对象的库

1.  验证是否已添加新的视图控制器场景：![图 11.37：显示视图控制器场景和表格视图控制器场景的编辑区域

    ![图片](img/Figure_11.37_B17469.jpg)

    图 11.37：显示视图控制器场景和表格视图控制器场景的编辑区域

1.  点击库按钮并在过滤器字段中输入`label`。一个**标签**对象将作为结果之一出现。将其拖动到新视图控制器场景的中心以表示一条评论：![图 11.38：选择标签对象的库

    ![图片](img/Figure_11.38_B17469.jpg)

    图 11.38：选择标签对象的库

1.  将标签文本更改为`评论`。点击对齐按钮以向其添加水平和垂直约束：![图 11.39：显示带有标签的视图控制器场景的编辑区域

    ![图片](img/Figure_11.39_B17469.jpg)

    图 11.39：显示带有标签的视图控制器场景的编辑区域

1.  打勾**容器中水平**和**容器中垂直**复选框。点击**添加 2 个约束**按钮。验证是否已添加约束：![图 11.40：显示已设置标签约束的编辑区域

    ![img/Figure_11.40_B17469.jpg]

    图 11.40：显示已设置标签约束的编辑区域

    这些约束确保当应用运行时，**评论**标签始终位于屏幕中间，无论方向或屏幕大小如何。

1.  *Ctrl + 拖动*从表格视图单元格中的按钮到新添加的视图控制器场景，并从弹出菜单中选择**显示**。这样，当按钮被点击时，会出现**审查表单**屏幕：

![img/Figure_11.41: Segue pop-up menu with Show selected

![img/Figure_11.41_B17469.jpg]

图 11.41：带有“显示选中”的切换弹出菜单

构建并运行你的应用。点击**探索**屏幕中的一个单元格，然后点击**餐厅列表**屏幕中的一个单元格。在**餐厅详情**屏幕中点击按钮以显示**审查表单**屏幕：

![img/Figure_11.42: iOS simulator showing Review Form screen

![img/Figure_11.42_B17469.jpg]

图 11.42：显示审查表单屏幕的 iOS 模拟器

太棒了！除了**照片滤镜**屏幕外，所有可以从**探索**标签访问的屏幕现在都已实现，几乎不需要编写任何代码！如果你愿意，可以重复本节中的步骤来添加**照片滤镜**屏幕。

最后要做的就是使**地图**屏幕显示地图。你将在下一节中这样做。

# 实现地图屏幕

当你启动应用时，会显示**探索**屏幕。在标签栏中点击**地图**按钮会使**地图**屏幕出现，但它为空白。要使**地图**屏幕显示地图，你需要在**地图**屏幕的视图控制器场景中添加一个地图视图。按照以下步骤操作：

1.  选择**地图**屏幕的视图控制器场景：![图 11.43：显示视图控制器场景的编辑区域

    ![img/Figure_11.43_B17469.jpg]

    图 11.43：显示视图控制器场景的编辑区域

1.  要使此场景显示地图，点击库按钮并在过滤器字段中输入`map`。一个**地图视图对象**作为结果之一出现。将其拖动到视图控制器场景中的视图上：![图 11.44：选中地图视图对象的库

    ![img/Figure_11.44_B17469.jpg]

    图 11.44：选中地图视图对象的库

1.  地图应填满整个屏幕。在地图视图选中状态下，点击“添加新约束”按钮：![图 11.45：选中地图视图的视图控制器场景

    ![img/Figure_11.45_B17469.jpg]

    图 11.45：选中地图视图的视图控制器场景

1.  在所有**最近邻间距**字段中输入`0`，并确保选择了浅红色支撑（它们会变成鲜红色）。点击**添加 4 个约束**按钮。验证地图视图是否填满了整个屏幕：

![图 11.46：视图控制器场景，地图视图填充整个屏幕

](img/Figure_11.46_B17469.jpg)

图 11.46：视图控制器场景，地图视图填充整个屏幕

构建并运行您的应用。点击**地图**按钮。您应该看到与以下所示类似的地图：

![图 11.47：iOS 模拟器显示地图屏幕

](img/Figure_11.47_B17469.jpg)

图 11.47：iOS 模拟器显示地图屏幕

如果您此时查看**Main**故事板文件，您应该看到如下内容：

![图 11.48：编辑区域显示主故事板文件中的所有场景

](img/Figure_11.48_B17469.jpg)

图 11.48：编辑区域显示主故事板文件中的所有场景

确认您拥有前述截图中的所有场景，您也可以在模拟器中运行您的应用以检查所有屏幕是否正常工作。

太棒了！您现在已经完成了应用的基本用户界面！

# 摘要

在本章中，您完成了应用的基本结构。首先，您在**位置**屏幕中添加了一个空白表格视图。您还在故事板中添加了一个新的视图控制器场景来表示**餐厅列表**屏幕，为该屏幕添加并配置了一个集合视图，并实现了当在**探索**屏幕中点击单元格时显示该切换。您添加了一个新的表格视图控制器场景来表示**餐厅详情**屏幕，为该屏幕配置了一个具有静态单元格的表格视图，并实现了当在**餐厅列表**屏幕中点击单元格时显示该屏幕的切换。您还在**餐厅详情**屏幕的一行中添加了一个按钮，添加了一个表格视图控制器场景来表示**评论表单**屏幕，并配置了您添加的按钮以显示它。最后，您在表示**地图**屏幕的视图控制器场景中添加了一个地图视图，当点击**地图**按钮时，它现在会显示地图。

您已成功实现了应用所需的所有屏幕，当您在模拟器中运行它时，您将能够测试应用流程。您也应该更加熟练地使用界面构建器。现在您知道如何向故事板场景添加和配置表格视图，如何添加场景之间的切换，以及如何向场景添加地图视图。这将有助于您实现包含表格视图、使用切换在不同屏幕间导航以及显示地图的应用。太棒了！

在下一章中，您将修改**探索**屏幕、**餐厅列表**屏幕和**位置**屏幕内的单元格，以便它们与在应用游览中显示的设计相匹配。
