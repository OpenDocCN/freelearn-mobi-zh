- en: '12'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '12'
- en: Finishing Up Your User Interface
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 完成用户界面
- en: In the previous chapter, you configured the Journal List screen to display 10
    empty table view cells in a table view, added a bar button item to the navigation
    bar to present a view representing the Add New Journal Entry screen modally, and
    added **Cancel** and **Save** buttons to it.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，你配置了期刊列表屏幕以显示表格视图中的10个空表格视图单元格，向导航栏中添加了一个条形按钮项以模态方式呈现表示添加新期刊条目屏幕的视图，并添加了**取消**和**保存**按钮。
- en: In this chapter, you’ll add the remaining screens shown during the app tour
    in *Chapter 10*, *Setting Up the User Interface*. You’ll add the Journal Entry
    Detail screen, which will be displayed when a table view cell in the Journal List
    screen is tapped. You’ll configure this screen to display a table view with a
    fixed number of table view cells. You’ll also make the Map screen display a map.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将添加*第10章*中应用程序之旅中显示的剩余屏幕。你将添加期刊条目详情屏幕，当在期刊列表屏幕中轻按表格视图单元格时将显示此屏幕。你将配置此屏幕以显示具有固定数量表格视图单元格的表格视图。你还将使地图屏幕显示地图。
- en: By the end of this chapter, you’ll have learned how to add and configure a table
    view with a fixed number of cells to a storyboard scene, how to implement a segue
    that will display a screen when a cell in the Journal List screen is tapped, and
    how to add a map view to a scene. The basic user interface of your app will be
    complete, and you will be able to walk through all the screens in Simulator. None
    of the screens will be displaying data, but you will finish their implementation
    in *Part 3* of this book.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将学会如何将具有固定单元格数的表格视图添加到故事板场景中，如何实现当在期刊列表屏幕中轻按单元格时显示屏幕的segue，以及如何将地图视图添加到场景中。你的应用程序的基本用户界面将完整，你将能够在模拟器中遍历所有屏幕。所有屏幕都不会显示数据，但你将在本书的**第3部分**中完成它们的实现。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Implementing the Journal Entry Detail screen
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实现期刊条目详情屏幕
- en: Adding a map view to the Map screen
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将地图视图添加到地图屏幕
- en: Technical requirements
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: You will continue working on the `JRNL` project that you created in the previous
    chapter.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 你将继续在上一章中创建的`JRNL`项目中工作。
- en: 'The completed Xcode project for this chapter is in the `Chapter12` folder of
    the code bundle for this book, which can be downloaded here:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的完成Xcode项目位于本书代码包的`Chapter12`文件夹中，可以在此处下载：
- en: '[https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Ninth-Edition](https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Ninth-Edition%0D)'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Ninth-Edition](https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Ninth-Edition%0D)'
- en: 'Check out the following video to see the code in action:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 查看以下视频以查看代码的实际效果：
- en: '[https://youtu.be/TFaELYrzyxY](https://youtu.be/TFaELYrzyxY%0D)'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://youtu.be/TFaELYrzyxY](https://youtu.be/TFaELYrzyxY%0D)'
- en: To start, you’ll add a new table view controller scene to represent the Journal
    Entry Detail screen. This screen will be displayed when a cell in the Journal
    List screen is tapped. You’ll do this in the next section.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你将向故事板添加一个新的表格视图控制器场景来表示期刊条目详情屏幕。当在期刊列表屏幕中轻按单元格时，将显示此屏幕。你将在下一节中这样做。
- en: Implementing the Journal Entry Detail screen
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实现期刊条目详情屏幕
- en: 'As shown in the app tour in *Chapter 10*, *Setting Up the User Interface*,
    when you tap a journal entry in the Journal List screen, a Journal Entry Detail
    screen containing the details of that journal entry will appear. In this section,
    you’ll add a new table view controller scene to your storyboard to represent the
    Journal Entry Detail screen. Follow these steps:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如*第10章*中应用程序之旅所示，在*设置用户界面*时，当你轻按期刊列表屏幕中的期刊条目时，将出现包含该期刊条目详细信息的期刊条目详情屏幕。在本节中，你将在故事板中添加一个新的表格视图控制器场景来表示期刊条目详情屏幕。请按照以下步骤操作：
- en: Click the **Main** storyboard file in the Project navigator and click the **Library**
    button.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中单击**主**故事板文件，然后单击**库**按钮。
- en: 'Type `table` in the filter field, and drag a **Table View Controller** object
    to the storyboard next to the **Map** scene:'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在过滤器字段中输入`table`，并将**表格视图控制器**对象拖动到故事板中**地图**场景旁边：
- en: '![](img/B31371_12_01.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_12_01.png)'
- en: 'Figure 12.1: Library showing Table View Controller object'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.1：显示表格视图控制器对象的库
- en: This will represent the Journal Entry Detail screen.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 这将代表期刊条目详情屏幕。
- en: 'Verify that the **Table View Controller** scene has been added:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证是否已添加**表格视图控制器**场景：
- en: '![](img/B31371_12_02.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_12_02.png)'
- en: 'Figure 12.2: Editor area showing the Table View Controller scene next to the
    Map scene'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.2：编辑区域显示地图场景旁边的表格视图控制器场景
- en: Note that it already has a table view inside it, so you don’t need to add a
    table view to the scene, like you did in the previous chapter.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，它已经包含了一个表格视图，因此您不需要在场景中添加表格视图，就像您在上一章中所做的那样。
- en: 'To display the Journal Entry Detail screen when a table view cell in the Journal
    List screen is tapped, *Ctrl* + *Drag* from **journalCell** (in the document outline
    under **Journal Scene**) to the **Table View Controller** scene to add a segue
    between them:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要在期刊列表屏幕中的表格视图单元格被点击时显示期刊条目详情屏幕，请从**期刊场景**下的**文档大纲**中的**journalCell**（在**journalCell**中）拖动到**表格视图控制器**场景，以在它们之间添加导航：
- en: '![](img/B31371_12_03.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_12_03.png)'
- en: 'Figure 12.3: Document outline showing journalCell'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.3：显示期刊单元的文档大纲
- en: 'In the pop-up menu, select **Show** under **Selection Segue**:'
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在弹出菜单中，在**选择导航**下选择**显示**：
- en: '![](img/B31371_12_04.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_12_04.png)'
- en: 'Figure 12.4: Pop-up menu with Show selected'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.4：弹出菜单中已选择显示
- en: This makes the Journal Entry Detail screen slide in from the right when a cell
    in the Journal List screen is tapped.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 这样，当期刊列表屏幕中的单元格被点击时，期刊条目详情屏幕将从右侧滑入。
- en: 'Verify that a segue has appeared between the two scenes:'
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证两个场景之间是否出现了导航：
- en: '![](img/B31371_12_05.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_12_05.png)'
- en: 'Figure 12.5: Editor area showing segue between the Journal scene and the Table
    View Controller scene'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.5：编辑区域显示期刊场景和表格视图控制器场景之间的导航
- en: You can rearrange scenes in the storyboard to make the segues easier to see.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在故事板中重新排列场景，以便更容易看到导航。
- en: 'The Journal Entry Detail screen will always display a fixed number of cells.
    In the document outline, click **Table View** under the **Table View Controller
    Scene**:'
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 期刊条目详情屏幕将始终显示固定数量的单元格。在文档大纲中，点击**表格视图控制器场景**下的**表格视图**：
- en: '![](img/B31371_12_06.png)'
  id: totrans-38
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_12_06.png)'
- en: 'Figure 12.6: Table View in document outline selected'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.6：在文档大纲中选中表格视图
- en: Click the Attributes inspector button and set **Content** to **Static Cells**
    to make the Journal Entry Detail screen display a fixed number of cells.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击属性检查器按钮，将**内容**设置为**静态单元格**，以便使期刊条目详情屏幕显示固定数量的单元格。
- en: '![](img/B31371_12_07.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_12_07.png)'
- en: 'Figure 12.7: Attributes inspector with Content set to Static Cells'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.7：内容设置为静态单元格的属性检查器
- en: 'Build and run your app. Click on a cell in the Journal List screen to display
    the Journal Entry Detail screen:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建并运行您的应用程序。在期刊列表屏幕中点击一个单元格以显示期刊条目详情屏幕：
- en: '![](img/B31371_12_08.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_12_08.png)'
- en: 'Figure 12.8: Simulator showing Journal Entry Detail screen'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.8：模拟器显示期刊条目详情屏幕
- en: Click the **< Journal** button to go back to the Journal List screen.
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**< 期刊**按钮返回到期刊列表屏幕。
- en: You have successfully implemented the Journal Entry Detail screen! Great!
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 您已成功实现了期刊条目详情屏幕！太棒了！
- en: You can use this method if your app needs to show the details of an item on
    a list. Examples of this are the *Contacts* app and the *Settings* app on your
    iPhone.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的应用程序需要在列表中显示项目的详细信息，可以使用此方法。例如，这是您iPhone上的**联系人**应用程序和**设置**应用程序的示例。
- en: In the next section, you will make the Map screen display a map.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，您将使地图屏幕显示地图。
- en: Implementing the Map screen
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实现地图屏幕
- en: 'When you launch the app, the Journal List screen is displayed. Tapping the
    Map button in the tab bar makes the Map screen appear, but it is blank. To make
    the Map screen display a map, you’ll add a map view to the view in the view controller
    scene for the Map screen. Follow these steps:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 当您启动应用程序时，将显示期刊列表屏幕。在标签栏中轻触地图按钮将使地图屏幕出现，但它为空。要使地图屏幕显示地图，您需要在地图屏幕的视图控制器场景中添加一个地图视图。按照以下步骤操作：
- en: 'Select the view controller scene for the Map screen in the Editor area, which
    will expand the corresponding **Map Scene** in the document outline:'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在编辑区域中选择地图屏幕的视图控制器场景，这将展开文档大纲中的相应**地图场景**：
- en: '![](img/B31371_12_09.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_12_09.png)'
- en: 'Figure 12.9: Editor area showing view controller scene for the Map scene'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.9：编辑区域显示地图场景的视图控制器场景
- en: 'To make this scene display a map, click the Library button and type `map` in
    the filter field. A **Map Kit View** object appears as one of the results. Drag
    it to the view in the view controller scene:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要使此场景显示地图，请点击库按钮，并在过滤器字段中输入`map`。一个**地图工具包视图**对象作为结果之一出现。将其拖动到视图控制器场景中的视图中：
- en: '![](img/B31371_12_10.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_12_10.png)'
- en: 'Figure 12.10: Library with Map Kit View object selected'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.10：选中地图工具包视图对象的库
- en: 'To make the map view fill the whole screen, verify that it is selected and
    click the Add New Constraints button:'
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要使地图视图填充整个屏幕，请确认它已被选中，然后点击添加新约束按钮：
- en: '![](img/B31371_12_11.png)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_12_11.png)'
- en: 'Figure 12.11: View controller scene with map view selected'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.11：已选择地图视图的视图控制器场景
- en: 'Type `0` into all the **Spacing to nearest neighbor** fields and make sure
    that the pale red struts are selected (they will turn bright red). Click the **Add
    4 Constraints** button:'
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在所有**最近邻居间距**字段中输入`0`，并确保选择了浅红色支撑（它们将变为鲜红色）。点击**添加4个约束**按钮：
- en: '![](img/B31371_12_12.png)'
  id: totrans-62
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_12_12.png)'
- en: 'Figure 12.12: Auto Layout Add New Constraints pop-up dialog box'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.12：自动布局添加新约束弹出对话框
- en: 'Verify that the map view fills the entire screen:'
  id: totrans-64
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认地图视图填充了整个屏幕：
- en: '![](img/B31371_12_13.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_12_13.png)'
- en: 'Figure 12.13: View controller scene with map view filling the screen'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.13：地图视图填充屏幕的视图控制器场景
- en: 'Build and run your app. Click the **Map** button. You should see a map like
    the one shown here:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建并运行你的应用。点击**地图**按钮。你应该看到与这里显示的类似地图：
- en: '![](img/B31371_12_14.png)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_12_14.png)'
- en: 'Figure 12.14: Simulator showing Map screen'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.14：模拟器显示地图屏幕
- en: 'Verify that all the screens required for the `JRNL` app have been created in
    the **Main** storyboard file:'
  id: totrans-70
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认所有为`JRNL`应用所需的屏幕已在**主**故事板文件中创建：
- en: '![](img/B31371_12_15.png)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_12_15.png)'
- en: 'Figure 12.15: Editor area showing all the scenes in Main.storyboard'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 图12.15：编辑区域显示Main.storyboard中的所有场景
- en: Verify that all the screens appear as they should when you run your app in Simulator.
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确认当你在模拟器中运行你的应用时，所有屏幕都显示得如预期。
- en: Wonderful! You’ve now completed the basic user interface for your app!
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 太棒了！你现在已经完成了应用的基本用户界面！
- en: Summary
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you completed the basic structure of your app. You added a
    new table view controller scene to represent the Journal Entry Detail screen,
    configured a table view with static cells for this screen, and implemented a segue
    that will display this screen when a cell in the Journal List screen is tapped.
    You also added a map view to the view controller scene for the Map screen, and
    it now displays a map when the **Map** button is tapped.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你完成了应用的基本结构。你为表示日记条目详情屏幕添加了一个新的表格视图控制器场景，为该屏幕配置了一个静态单元格的表格视图，并实现了当在日记列表屏幕中点击单元格时将显示此屏幕的转场。你还为地图屏幕的视图控制器场景添加了地图视图，当点击**地图**按钮时，它现在会显示地图。
- en: You have successfully implemented all the screens required for your app, and
    you’ll be able to test your app’s flow when you run it in Simulator. You should
    also be more proficient with Interface Builder. Familiarity with using and positioning
    objects from the Library will be crucial when you’re building user interfaces
    for your own apps.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 你已成功实现了应用所需的全部屏幕，当你运行模拟器中的应用时，你将能够测试应用流程。你也应该更加熟练地使用Interface Builder。熟悉从库中使用和定位对象对于你构建自己的应用的用户界面将至关重要。
- en: In the next chapter, you’ll modify the cells on the Journal List screen, the
    Add New Journal Entry screen, and the Journal Entry Detail screen so that they
    match the designs that were shown in the app tour.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你将修改日记列表屏幕、添加新日记条目屏幕和日记条目详情屏幕上的单元格，以便它们与在应用游览中显示的设计相匹配。
- en: Join us on Discord!
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加入我们的Discord！
- en: Read this book alongside other users, experts, and the author himself. Ask questions,
    provide solutions to other readers, chat with the author via Ask Me Anything sessions,
    and much more. Scan the QR code or visit the link to join the community.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 与其他用户、专家以及作者本人一起阅读这本书。提出问题，为其他读者提供解决方案，通过Ask Me Anything会话与作者聊天，等等。扫描二维码或访问链接加入社区。
- en: '[https://packt.link/ios-Swift](https://packt.link/ios-Swift%0D)'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/ios-Swift](https://packt.link/ios-Swift%0D)'
- en: '[![](img/QR_Code2370024260177612484.png)](https://packt.link/ios-Swift%0D)'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '[![二维码](img/QR_Code2370024260177612484.png)](https://packt.link/ios-Swift%0D)'
