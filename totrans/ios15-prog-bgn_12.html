<html><head></head><body>
		<div id="_idContainer181">
			<h1 id="_idParaDest-152"><em class="italic"><a id="_idTextAnchor155"/>Chapter 10</em>: Building Your User Interface</h1>
			<p>In the previous chapter, you created a new Xcode project, added a tab bar to your app that allowed the user to select between the <strong class="bold">Explore</strong> and <strong class="bold">Map</strong> screens, added an <strong class="source-inline">Assets.xcassets</strong> file that contains resources for your app, and modified the <strong class="bold">Launch </strong>screen of your app with a custom color and icon. When your app is launched, you should see the <strong class="bold">Launch</strong> screen briefly. After that, the <strong class="bold">Explore</strong> screen is displayed, but it is currently blank.</p>
			<p>As you saw in the app tour in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a>, <em class="italic">Setting Up the User Interface</em>, the <strong class="bold">Explore</strong> screen should display a collection view showing a list of cuisines in collection view cells and a collection view section header containing a <strong class="bold">LOCATION</strong> button. Tapping the <strong class="bold">LOCATION</strong> button should display a <strong class="bold">Locations</strong> screen containing a list of locations.</p>
			<p>In this chapter, you will make the <strong class="bold">Explore</strong> screen display a <strong class="bold">collection view</strong> containing 20 empty <strong class="bold">collection view cells</strong>, as well as a <strong class="bold">collection view section header </strong>containing a button that will display a view representing the <strong class="bold">Locations</strong> screen when tapped. You'll also configure a <strong class="bold">Cancel</strong> button to dismiss this view and return you to the <strong class="bold">Explore</strong> screen.</p>
			<p>You'll be adding a small amount of code to your app, but don't worry too much about this—you'll learn more about it in the next part of this book.</p>
			<p>By the end of this chapter, you'll have learned how to add view controllers to a storyboard scene, link outlets in view controllers to scenes, set up collection view cells and collection view section headers, and present a view controller modally.</p>
			<p>In this chapter, you'll cover the following topics:</p>
			<ul>
				<li>Adding a collection view to the <strong class="bold">Explore</strong> screen</li>
				<li>Connecting storyboard elements to outlets in a view controller</li>
				<li>Configuring data source methods for the collection view </li>
				<li>Adding a collection view section header to the collection view </li>
				<li>Configuring storyboard element sizes</li>
				<li>Presenting a view modally</li>
			</ul>
			<h1 id="_idParaDest-153"><a id="_idTextAnchor156"/>Technical requirements</h1>
			<p>You will continue working on the <strong class="source-inline">LetsEat</strong> project that you created in the previous chapter.</p>
			<p>The completed Xcode project for this chapter is in the <strong class="source-inline">Chapter10</strong> folder of the code bundle for this book, which can be downloaded here:</p>
			<p><a href="https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition">https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition</a></p>
			<p>Check out the following video to see the code in action:</p>
			<p><a href="https://bit.ly/3kjIKFQ">https://bit.ly/3kjIKFQ</a></p>
			<p>Let's start by adding a collection view to the <strong class="bold">Explore</strong> scene, which will eventually display the list of cuisines and the <strong class="bold">LOCATION</strong> button.</p>
			<h1 id="_idParaDest-154"><a id="_idTextAnchor157"/>Adding a collection view to the Explore screen</h1>
			<p>A collection<a id="_idIndexMarker370"/> view<a id="_idIndexMarker371"/> is an instance of the <strong class="source-inline">UICollectionView</strong> class. Like a spreadsheet program, it displays a grid of cells. Each cell in a collection view is a collection view cell, which is an instance of the <strong class="source-inline">UICollectionViewCell</strong> class. You'll start by adding a collection view to the view controller scene for the <strong class="bold">Explore</strong> screen in the <strong class="source-inline">Main</strong> storyboard file, then you'll add Auto Layout constraints to make it fill the screen.</p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">For more <a id="_idIndexMarker372"/>information on Auto Layout and how to use it, go to <a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/">https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/</a>. </p>
			<p>Open the <strong class="source-inline">LetsEat</strong> project you created in the previous chapter and run the app to make sure everything still works as it should, then follow these steps:</p>
			<ol>
				<li>Click <a id="_idIndexMarker373"/>the <strong class="source-inline">Main</strong> storyboard file in the Project <a id="_idIndexMarker374"/>navigator, and click the Library button:<div id="_idContainer129" class="IMG---Figure"><img src="image/Figure_10.01_B17469.jpg" alt="Figure 10.1: Toolbar with the Library button shown&#13;&#10;"/></div><p class="figure-caption">Figure 10.1: Toolbar with the Library button shown</p></li>
				<li>The library will appear. Make sure the Objects button is selected, then type <strong class="source-inline">collec</strong> in the filter field. A <strong class="bold">Collection View</strong> object will appear as one of the results. Drag it to the middle of the view of the <strong class="bold">View Controller Scene</strong> for the <strong class="bold">Explore</strong> screen:<p class="figure-caption"> </p><div id="_idContainer130" class="IMG---Figure"><img src="image/Figure_10.02_B17469.jpg" alt="Figure 10.2: Library with Collection View object selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.2: Library with Collection View object selected</p><p>The collection view (containing a single prototype cell) has been added, but it only takes up a small part of the screen. As shown in the app tour in the previous chapter, it should fill the screen.</p></li>
				<li>You will use the <strong class="bold">Auto Layout Add New Constraints</strong> button to bind the edges of the collection view to the edges of its enclosing view. Make sure the collection <a id="_idIndexMarker375"/>view is selected. Click the Auto <a id="_idIndexMarker376"/>Layout Add New Constraints button:<div id="_idContainer131" class="IMG---Figure"><img src="image/Figure_10.03_B17469.jpg" alt="Figure 10.3: View controller scene with collection view selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.3: View controller scene with collection view selected</p></li>
				<li>Type <strong class="source-inline">0</strong> in the top, left, right, and bottom edge constraint fields and click all the pale red struts. Make <a id="_idIndexMarker377"/>sure all the struts have turned<a id="_idIndexMarker378"/> bright red. Click the <strong class="bold">Add 4 Constraints</strong> button: <div id="_idContainer132" class="IMG---Figure"><img src="image/Figure_10.04_B17469.jpg" alt="Figure 10.4: Auto Layout add new constraints pop-up dialog box&#13;&#10;"/></div><p class="figure-caption">Figure 10.4: Auto Layout add new constraints pop-up dialog box</p><p>This sets the space between the edges of the collection view and the edges of the enclosing view to <strong class="source-inline">0</strong>, binding the collection view's edges to those of the enclosing view. Now the collection view will fill the screen, regardless of device and orientation.</p></li>
				<li>Verify that all four sides of the collection view are now bound to the edges of the screen as shown:</li>
			</ol>
			<div>
				<div id="_idContainer133" class="IMG---Figure">
					<img src="image/Figure_10.05_B17469.jpg" alt="Figure 10.5: View controller scene with collection view filling the screen&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.5: View controller scene with collection view filling the screen</p>
			<p>You have added a <a id="_idIndexMarker379"/>collection<a id="_idIndexMarker380"/> view to the view of the view controller scene for the <strong class="bold">Explore </strong>screen, and used Auto Layout constraints to make it fill the screen, but the <strong class="bold">Explore</strong> screen will still be blank when you run the app. </p>
			<p>In the next section, you will add a <strong class="bold">Cocoa Touch Class</strong> file to your project so that you can implement the code for the <strong class="source-inline">ExploreViewController</strong> class, and you'll connect outlets in this class to the UI elements in the <strong class="bold">Explore</strong> screen. This will enable an instance<a id="_idIndexMarker381"/> of<a id="_idIndexMarker382"/> the <strong class="source-inline">ExploreViewController</strong> class to control what is displayed by the <strong class="bold">Explore </strong>screen.</p>
			<h1 id="_idParaDest-155"><a id="_idTextAnchor158"/>Connecting storyboard elements to outlets in a view controller</h1>
			<p>You've <a id="_idIndexMarker383"/>added a collection <a id="_idIndexMarker384"/>view to the <strong class="bold">Explore</strong> screen, but it won't be able to display anything yet. You'll need to implement a view controller to manage the view in the <strong class="bold">Explore</strong> screen. To do so, you'll add a Cocoa Touch Class file to your project, declare and define a <strong class="source-inline">UIViewController</strong> subclass in that file, and connect UI elements in the <strong class="bold">Explore</strong> screen to the code in your <strong class="source-inline">UIViewController</strong> subclass. </p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">The Model-View-Controller design pattern and collection view controllers will be explained in more detail in <a href="B17469_13_Final_VK_ePub.xhtml#_idTextAnchor194"><em class="italic">Chapter 13</em></a>, <em class="italic">Getting Started with MVC and Collection Views</em>.</p>
			<p>Let's start by adding a Cocoa Touch Class file to your project so you can declare and define a <strong class="source-inline">UIViewController</strong> subclass in the next section.</p>
			<h2 id="_idParaDest-156"><a id="_idTextAnchor159"/>Adding a Cocoa Touch Class file to your project</h2>
			<p><strong class="bold">Cocoa Touch</strong> is the <a id="_idIndexMarker385"/>application development environment for building apps for iOS, iPadOS, watchOS, and tvOS. A Cocoa Touch Class file makes it easy for you to implement any Cocoa Touch class or subclass. It contains boilerplate code based on the superclass that you specified when you create it. You'll add a Cocoa Touch Class file to your project in this section.</p>
			<p>First, you will make a new <strong class="source-inline">Explore</strong> group in your project to keep things organized. Next, you will create and add a Cocoa Touch Class file, <strong class="source-inline">ExploreViewController</strong>, to this group. You'll declare and define a subclass of the <strong class="source-inline">UIViewController</strong> class named <strong class="source-inline">ExploreViewController</strong> in this file and make an instance of this class the view controller for the <strong class="bold">Explore</strong> screen. You'll add properties and methods to this class to manage the collection view that you added in the previous section. Follow these steps:</p>
			<ol>
				<li value="1">Right-click on the <strong class="source-inline">LetsEat</strong> group in the Project navigator and choose <strong class="bold">New Group</strong>.</li>
				<li>The name of the group will be highlighted. Change it to <strong class="source-inline">Explore</strong> and press <em class="italic">Return</em> on the<a id="_idIndexMarker386"/> keyboard when you're done:<div id="_idContainer134" class="IMG---Figure"><img src="image/Figure_10.06_B17469.jpg" alt="Figure 10.6: Project navigator with Explore group selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.6: Project navigator with Explore group selected</p><p>If you make a mistake, press <em class="italic">Return</em> once more. This makes the field editable so that you can make changes to the name.</p></li>
				<li>Right-click on the <strong class="source-inline">Explore</strong> group in the Project navigator and choose <strong class="bold">New File...</strong>.</li>
				<li><strong class="bold">iOS</strong> should<a id="_idIndexMarker387"/> already be selected. Choose <strong class="bold">Cocoa Touch Class</strong> and click <strong class="bold">Next</strong>:<div id="_idContainer135" class="IMG---Figure"><img src="image/Figure_10.07_B17469.jpg" alt="Figure 10.7: Choose a template for your new file screen&#13;&#10;"/></div><p class="figure-caption">Figure 10.7: Choose a template for your new file screen</p></li>
				<li>The <strong class="bold">Choose options for your new file</strong> screen will appear:<div id="_idContainer136" class="IMG---Figure"><img src="image/Figure_10.08_B17469.jpg" alt="Figure 10.8: Choose options for your new file screen&#13;&#10;"/></div><p class="figure-caption">Figure 10.8: Choose options for your new file screen</p></li>
				<li>Enter the <a id="_idIndexMarker388"/>following in the <strong class="bold">Class</strong> and <strong class="bold">Subclass of</strong> fields:<p><strong class="bold">Class</strong>: <strong class="source-inline">ExploreViewController</strong></p><p><strong class="bold">Subclass of</strong>: <strong class="source-inline">UIViewController</strong></p><p>Click <strong class="bold">Next</strong>.</p></li>
				<li>Click <strong class="bold">Create</strong> to add the file to your project. You will see that the <strong class="source-inline">ExploreViewController</strong> file has been added to the project inside the <strong class="source-inline">Explore</strong> folder in the Project navigator. Review the code in the Editor area. Note that <strong class="source-inline">ExploreViewController</strong> is a subclass of <strong class="source-inline">UIViewController</strong>, which means it inherits properties and methods from the <strong class="source-inline">UIViewController</strong> class. There is one method, <strong class="source-inline">viewDidLoad()</strong>, inside the class definition, but it won't be used right now.</li>
				<li>Remove the commented code after the <strong class="source-inline">viewDidLoad()</strong> class from the <strong class="source-inline">ExploreViewController</strong> file so that it looks like this:</li>
			</ol>
			<div>
				<div id="_idContainer137" class="IMG---Figure">
					<img src="image/Figure_10.09_B17469.jpg" alt="Figure 10.9: Editing area showing ExploreViewController.swift's contents&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.9: Editing area showing ExploreViewController.swift's contents</p>
			<p>You have just <a id="_idIndexMarker389"/>added the <strong class="source-inline">ExploreViewController</strong> file containing the <strong class="source-inline">ExploreViewController</strong> class declaration and definition to your app.</p>
			<p>The next step is to assign the <strong class="source-inline">ExploreViewController</strong> class as the identity of the view controller for the <strong class="bold">Explore</strong> screen and assign an <strong class="bold">outlet</strong> for the collection view that you added to the view controller scene earlier. You'll see how this is done in the next section.</p>
			<h2 id="_idParaDest-157"><a id="_idTextAnchor160"/>Connecting storyboard elements to the view controller</h2>
			<p>Let's review<a id="_idIndexMarker390"/> where you are now. In <a id="_idIndexMarker391"/>the <strong class="source-inline">Main</strong> storyboard file, you have a view controller scene for the <strong class="bold">Explore</strong> screen. Inside it, there's a view containing a collection view. In the <strong class="source-inline">ExploreViewController</strong> file, you have code that declares and defines the <strong class="source-inline">ExploreViewController</strong> class. </p>
			<p>You need to assign the <strong class="source-inline">ExploreViewController</strong> class as the identity for the <strong class="bold">Explore </strong>screen's view controller and connect the collection view to an outlet in this class. You can think of outlets as a connection between your user interface and code. This will make an instance of the <strong class="source-inline">ExploreViewController</strong> class the view controller for the <strong class="bold">Explore</strong> screen when you run your app and enable you to manage what is displayed by the collection view. Follow these steps: </p>
			<ol>
				<li value="1">Click on the <strong class="source-inline">Main</strong> storyboard file in the Project navigator. Make sure the <strong class="bold">View Controller Scene</strong> for the <strong class="bold">Explore</strong> screen is selected. Click the <strong class="bold">View Controller </strong>icon in<a id="_idIndexMarker392"/> the<a id="_idIndexMarker393"/> document outline and click on the Identity inspector button:<div id="_idContainer138" class="IMG---Figure"><img src="image/Figure_10.10_B17469.jpg" alt="Figure 10.10: Identity inspector selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.10: Identity inspector selected</p></li>
				<li>Under <strong class="bold">Custom Class</strong>, set <strong class="bold">Class</strong> to <strong class="source-inline">ExploreViewController</strong>:<div id="_idContainer139" class="IMG---Figure"><img src="image/Figure_10.11_B17469.jpg" alt="Figure 10.11: Identity inspector with Class set to ExploreViewController&#13;&#10;"/></div><p class="figure-caption">Figure 10.11: Identity inspector with Class set to ExploreViewController</p><p>This <a id="_idIndexMarker394"/>creates <a id="_idIndexMarker395"/>an instance of <strong class="source-inline">ExploreViewController</strong> as the view controller for this scene when you run the app. Note that the scene name has changed from <strong class="bold">View Controller Scene</strong> to <strong class="bold">Explore View Controller Scene</strong>. </p><p>Now let's create the outlet for the collection view. </p></li>
				<li>Click the Navigator and Inspector buttons to hide the Navigator and Inspector areas so you have more room to work:<div id="_idContainer140" class="IMG---Figure"><img src="image/Figure_10.12_B17469.jpg" alt="Figure 10.12: Toolbar showing Navigator and Inspector buttons&#13;&#10;"/></div><p class="figure-caption">Figure 10.12: Toolbar showing Navigator and Inspector buttons</p></li>
				<li>Click the Adjust Editor Options button:<div id="_idContainer141" class="IMG---Figure"><img src="image/Figure_10.13_B17469.jpg" alt="Figure 10.13: Adjust Editor Options button&#13;&#10;"/></div><p class="figure-caption">Figure 10.13: Adjust Editor Options button</p></li>
				<li>Choose <strong class="bold">Assistant</strong> from<a id="_idIndexMarker396"/> the <a id="_idIndexMarker397"/>pop-up menu:<div id="_idContainer142" class="IMG---Figure"><img src="image/Figure_10.14_B17469.jpg" alt="Figure 10.14: Adjust Editor Options menu with Assistant selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.14: Adjust Editor Options menu with Assistant selected</p><p>This will display any Swift files associated with this scene in an assistant editor.</p></li>
				<li>As you can see, the <strong class="source-inline">Main</strong> storyboard file's content appears on the left and the <strong class="source-inline">ExploreViewController</strong> class definition appears on the right-hand side of the Editor area. Look at the bar just above the code. Verify that <strong class="source-inline">ExploreViewController.swift</strong> is selected:<div id="_idContainer143" class="IMG---Figure"><img src="image/Figure_10.15_B17469.jpg" alt="Figure 10.15: Bar showing ExploreViewController.swift selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.15: Bar showing ExploreViewController.swift selected</p></li>
				<li>If you<a id="_idIndexMarker398"/> don't see <strong class="source-inline">ExploreViewController.swift</strong> selected, click <a id="_idIndexMarker399"/>the bar and select <strong class="source-inline">ExploreViewController.swift</strong> from the pop-up menu.</li>
				<li>To connect the collection view in the <strong class="bold">Explore View Controller Scene</strong> to an outlet in the <strong class="source-inline">ExploreViewController</strong> class, <em class="italic">Ctrl</em> + <em class="italic">Drag</em> from the collection view to the <strong class="source-inline">ExploreViewController</strong> file, just below the class name declaration:<div id="_idContainer144" class="IMG---Figure"><img src="image/Figure_10.16_B17469.jpg" alt="Figure 10.16: Editing area&#13;&#10;"/></div><p class="figure-caption">Figure 10.16: Editing area</p></li>
				<li>A small pop-up dialog box will appear. Type the name of the outlet, <strong class="source-inline">collectionView</strong>, into the <strong class="bold">Name</strong> text field, set <strong class="bold">Storage</strong> to <strong class="bold">Strong</strong>, and click <strong class="bold">Connect</strong>:<div id="_idContainer145" class="IMG---Figure"><img src="image/Figure_10.17_B17469.jpg" alt="Figure 10.17: Pop-up dialog box for outlet creation&#13;&#10;"/></div><p class="figure-caption">Figure 10.17: Pop-up dialog box for outlet creation</p></li>
				<li>Verify that<a id="_idIndexMarker400"/> the<a id="_idIndexMarker401"/> code that creates the <strong class="source-inline">collectionView</strong> outlet has been automatically added to the <strong class="source-inline">ExploreViewController</strong> file. Note the <strong class="source-inline">IBOutlet</strong> keyword, which indicates that <strong class="source-inline">collectionView</strong> is an outlet. After you have done so, click the <strong class="bold">x</strong> to close the assistant editor window:</li>
			</ol>
			<div>
				<div id="_idContainer146" class="IMG---Figure">
					<img src="image/Figure_10.18_B17469.jpg" alt="Figure 10.18: Editing area showing collectionView outlet&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.18: Editing area showing collectionView outlet</p>
			<p>The <strong class="source-inline">ExploreViewController</strong> class <a id="_idIndexMarker402"/>now<a id="_idIndexMarker403"/> has an outlet, <strong class="source-inline">collectionView</strong>, for the collection view in the <strong class="bold">Explore</strong> screen. This means an <strong class="source-inline">ExploreViewController</strong> instance can manage what the collection view displays.</p>
			<p>It is common to make mistakes when using <em class="italic">Ctrl + Drag</em> to drag from an element in a storyboard scene to a Cocoa Touch Class file. If you make a mistake while doing so, this may cause a crash to occur when the app is launched. To check if there are any errors in the connection between the collection view and <strong class="source-inline">ExploreViewController</strong> class, follow these steps:</p>
			<ol>
				<li value="1">Click the Navigator and Inspector buttons to display the Navigator and Inspector areas.</li>
				<li>With <strong class="bold">Explore View Controller</strong> in the <strong class="bold">Explore View Controller Scene</strong> selected, click the <strong class="bold">Connections inspector</strong> button:<div id="_idContainer147" class="IMG---Figure"><img src="image/Figure_10.19_B17469.jpg" alt="Figure 10.19: Connections inspector selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.19: Connections inspector selected</p><p>The Connections inspector displays the links between your UI objects and your code. You should be able to see the <strong class="source-inline">collectionView</strong> outlet connected to the <a id="_idIndexMarker404"/>collection <a id="_idIndexMarker405"/>view in the <strong class="bold">Outlets</strong> section.</p></li>
				<li>If you see a tiny error icon, click on the <strong class="bold">x</strong> to break the connection:<div id="_idContainer148" class="IMG---Figure"><img src="image/Figure_10.20_B17469.jpg" alt="Figure 10.20: Connections inspector showing collectionView outlet&#13;&#10;"/></div><p class="figure-caption">Figure 10.20: Connections inspector showing collectionView outlet</p></li>
				<li>Under <strong class="bold">Outlets</strong>, drag <a id="_idIndexMarker406"/>from <a id="_idIndexMarker407"/>the <strong class="bold">collectionView</strong> outlet back to the collection view to re-establish the connection:</li>
			</ol>
			<div>
				<div id="_idContainer149" class="IMG---Figure">
					<img src="image/Figure_10.21_B17469.jpg" alt="Figure 10.21: Editing area showing collection view to be connected&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.21: Editing area showing collection view to be connected</p>
			<p>At this point, you've assigned the <strong class="source-inline">ExploreViewController</strong> class as the identity for the <strong class="bold">Explore</strong> screen's view controller and created an outlet in the <strong class="source-inline">ExploreViewController</strong> class for the collection view.</p>
			<p>In order to display collection view cells on screen, you will need to implement data source methods <a id="_idIndexMarker408"/>for <a id="_idIndexMarker409"/>the collection view by adding some code to the <strong class="source-inline">ExploreViewController</strong> class. You will do this in the next section.</p>
			<h1 id="_idParaDest-158"><a id="_idTextAnchor161"/>Configuring data source methods for the collection view</h1>
			<p>When <a id="_idIndexMarker410"/>your app is running, an instance <a id="_idIndexMarker411"/>of the <strong class="source-inline">ExploreViewController</strong> class acts as the view controller for the <strong class="bold">Explore</strong> screen. It is responsible for loading and displaying all the views in that screen, including the collection view you added earlier. The collection view needs to know how many collection view cells to display and what to display in each cell. Normally, the view controller is responsible for providing this information. Apple has already created a protocol, <strong class="source-inline">UICollectionViewDataSource</strong>, for this purpose. All you need to do is connect the collection view's <strong class="source-inline">dataSource</strong> outlet to the <strong class="source-inline">ExploreViewController</strong> class and implement the required methods of this protocol.</p>
			<p>The collection view also needs to know what to do if the user taps on a collection view cell. Again, the view controller for the collection view is responsible, and Apple has created the <strong class="source-inline">UICollectionViewDelegate</strong> protocol for this purpose. You will connect the collection view's <strong class="source-inline">delegate</strong> outlet to the <strong class="source-inline">ExploreViewController</strong> class, but you won't be implementing any methods from this protocol yet.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">Protocols are covered in <a href="B17469_08_Final_VK_ePub.xhtml#_idTextAnchor123"><em class="italic">Chapter 8</em></a><em class="italic">, Protocols, Extensions, and Error Handling</em>.</p>
			<p>You will need to type in a small amount of code in this chapter. Don't worry about what it means; you'll<a id="_idIndexMarker412"/> learn more about collection view controllers and their associated protocols <a id="_idIndexMarker413"/>in <a href="B17469_13_Final_VK_ePub.xhtml#_idTextAnchor194"><em class="italic">Chapter 13</em></a><em class="italic">, Getting Started with MVC and Collection Views</em>.</p>
			<p>In the next section, you'll use the Connections inspector to assign the collection view's <strong class="source-inline">dataSource</strong> and <strong class="source-inline">delegate</strong> outlets to the <strong class="source-inline">ExploreViewController</strong> class.</p>
			<h2 id="_idParaDest-159"><a id="_idTextAnchor162"/>Setting the delegate and data source properties of the collection view</h2>
			<p>An<a id="_idIndexMarker414"/> instance <a id="_idIndexMarker415"/>of the <strong class="source-inline">ExploreViewController</strong> class will provide the data that the collection view will display, as well as the methods that will be executed when the user interacts with the collection view. You need to connect the collection view's <strong class="source-inline">dataSource</strong> and <strong class="source-inline">delegate</strong> properties to outlets in the <strong class="source-inline">ExploreViewController</strong> class for this to work. Follow these steps:</p>
			<ol>
				<li value="1">Click the Navigator and Inspector buttons to display the Navigator and Inspector areas again if you haven't done so already.</li>
				<li>The <strong class="source-inline">Main</strong> storyboard file should still be selected. Click the <strong class="bold">Collection View</strong> for the <strong class="bold">Explore View Controller Scene</strong> in the document outline to select it. Click the Connections inspector button. Look at the <strong class="bold">Outlets</strong> section. Note that there are two empty circles next to the <strong class="source-inline">dataSource</strong> and <strong class="source-inline">delegate</strong> outlets. Drag from each empty circle to the <strong class="bold">ExploreViewController</strong> icon in the document outline:<div id="_idContainer150" class="IMG---Figure"><img src="image/Figure_10.22_B17469.jpg" alt="Figure 10.22: Connections Inspector selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.22: Connections Inspector selected</p></li>
				<li>Verify <a id="_idIndexMarker416"/>the <strong class="source-inline">dataSource</strong> and <strong class="source-inline">delegate</strong> properties<a id="_idIndexMarker417"/> of the collection view have been connected to outlets in the <strong class="source-inline">ExploreViewController</strong> class:</li>
			</ol>
			<div>
				<div id="_idContainer151" class="IMG---Figure">
					<img src="image/Figure_10.23_B17469.jpg" alt="Figure 10.23: Connections Inspector with dataSource and delegate outlets set&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.23: Connections Inspector with dataSource and delegate outlets set</p>
			<p>In the next section, you will add some code to make the <strong class="source-inline">ExploreViewController</strong> class conform to the <strong class="source-inline">UICollectionViewDataSource</strong> protocol, and configure the collection<a id="_idIndexMarker418"/> view to display 20 collection view <a id="_idIndexMarker419"/>cells when you run your app.</p>
			<h2 id="_idParaDest-160"><a id="_idTextAnchor163"/>Adopting the UICollectionViewDataSource and UICollectionViewDelegate protocols</h2>
			<p>So far, you've<a id="_idIndexMarker420"/> made the <strong class="source-inline">ExploreViewController</strong> class<a id="_idIndexMarker421"/> the data source and delegate for the collection view. The next step is to make it adopt the <strong class="source-inline">UICollectionViewDataSource</strong> and <strong class="source-inline">UICollectionViewDelegate</strong> protocols and implement any required methods. You'll also change the color of the collection view cells to make them visible on screen. Follow these steps:</p>
			<ol>
				<li value="1">Click <strong class="bold">Collection View Cell</strong> in the document outline. This represents the collection view cells that the collection view will display. Make sure the Attributes inspector is selected:<div id="_idContainer152" class="IMG---Figure"><img src="image/Figure_10.24_B17469.jpg" alt="Figure 10.24: Attributes inspector selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.24: Attributes inspector selected</p></li>
				<li>Under <strong class="bold">Collection Reusable View</strong>, set <strong class="bold">Identifier</strong> to <strong class="source-inline">exploreCell</strong> and press Return. The name <strong class="bold">Collection View Cell</strong> will change to <strong class="bold">exploreCell</strong>. Under <strong class="bold">View</strong>, set <strong class="bold">Background</strong> to <strong class="source-inline">Light Gray Color</strong> so that you can see them when you run the app:<div id="_idContainer153" class="IMG---Figure"><img src="image/Figure_10.25_B17469.jpg" alt="Figure 10.25: Attributes inspector with identity and background color set&#13;&#10;"/></div><p class="figure-caption">Figure 10.25: Attributes inspector with identity and background color set</p></li>
				<li>Click<a id="_idIndexMarker422"/> on <a id="_idIndexMarker423"/>the <strong class="source-inline">ExploreViewController</strong> file in the Project navigator. Type in the following code after the class declaration to make the <strong class="source-inline">ExploreViewController</strong> class adopt the <strong class="source-inline">UICollectionViewDataSource</strong> and <strong class="source-inline">UICollectionViewDelegate</strong> protocols:<p class="source-code">class ExploreViewController: UIViewController<strong class="bold">, UICollectionViewDataSource, UICollectionViewDelegate</strong> {</p><p>After a few seconds, an error will appear. Click on it to display an error message.</p></li>
				<li>The error message says that <strong class="bold">Type 'ExploreViewController' does not conform to protocol 'UICollectionViewDataSource'. Do you want to add protocol stubs?</strong>. This means you need to implement the required methods for the <strong class="source-inline">UICollectionViewDataSource</strong> protocol to make <strong class="source-inline">ExploreViewController</strong> conform to it. Click <strong class="bold">Fix</strong> to automatically add stubs for the required methods into the <strong class="source-inline">ExploreViewController</strong> class.</li>
				<li>Verify the stubs for the two required methods for the <strong class="source-inline">UICollectionViewDataSource</strong> protocol have been automatically inserted into the <strong class="source-inline">ExploreViewController</strong> file as shown:<div id="_idContainer154" class="IMG---Figure"><img src="image/Figure_10.26_B17469.jpg" alt="Figure 10.26: Editing area showing UICollectionViewDataSource method stubs&#13;&#10;"/></div><p class="figure-caption">Figure 10.26: Editing area showing UICollectionViewDataSource method stubs</p><p>The first<a id="_idIndexMarker424"/> method <a id="_idIndexMarker425"/>tells the collection view how many cells to display, while the second method tells the collection view what to display in each collection view cell.</p></li>
				<li>Replace the <strong class="source-inline">code</strong> text in the first method with <strong class="source-inline">20</strong> (the <strong class="source-inline">return</strong> keyword is optional if it's just a single line of code). This tells the collection view to display 20 cells:<div id="_idContainer155" class="IMG---Figure"><img src="image/Figure_10.27_B17469.jpg" alt="Figure 10.27: Editing area showing code to display 20 cells&#13;&#10;"/></div><p class="figure-caption">Figure 10.27: Editing area showing code to display 20 cells</p></li>
				<li>Replace the <strong class="source-inline">code</strong> text <a id="_idIndexMarker426"/>in the second <a id="_idIndexMarker427"/>method with the following code:<p class="source-code">let cell = collectionView.dequeueReusableCell(withReuseIdentifier: "exploreCell", for: indexPath)</p><p class="source-code">return cell</p><p>Don't worry about what this means for now as you'll learn more about collection views in <a href="B17469_13_Final_VK_ePub.xhtml#_idTextAnchor194"><em class="italic">Chapter 13</em></a>, <em class="italic">Getting Started with MVC and Collection Views</em>.</p></li>
			</ol>
			<p>Build and run your app. You should see the simulator display a grid of 20 light gray collection view cells as shown:</p>
			<div>
				<div id="_idContainer156" class="IMG---Figure">
					<img src="image/Figure_10.28_B17469.jpg" alt="Figure 10.28: iOS Simulator showing 20 collection view cells&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.28: iOS Simulator showing 20 collection view cells</p>
			<p>As you saw in the app tour in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a>, <em class="italic">Setting Up the User Interface</em>, there should be a <strong class="bold">LOCATION</strong> button <a id="_idIndexMarker428"/>at the top right of this <a id="_idIndexMarker429"/>screen. You will enable the section header for the collection view to house this button in the next section.</p>
			<h1 id="_idParaDest-161"><a id="_idTextAnchor164"/>Adding a section header to the collection view</h1>
			<p>A collection <a id="_idIndexMarker430"/>view <a id="_idIndexMarker431"/>can be configured with a section header and a section footer. Both of them are instances of the <strong class="source-inline">UICollectionReusableView</strong> class. You'll enable the section header for the collection view in the <strong class="bold">Explore</strong> screen, so you'll have a place to put the <strong class="bold">LOCATION</strong> button. Follow these steps:</p>
			<ol>
				<li value="1">Click the <strong class="source-inline">Main</strong> storyboard file in the Project navigator and click the <strong class="bold">Collection View</strong> in the document outline. Click the Attributes inspector button. Under <strong class="bold">Collection View</strong>, tick the checkbox for <strong class="bold">Section Header</strong>:<div id="_idContainer157" class="IMG---Figure"><img src="image/Figure_10.29_B17469.jpg" alt="Figure 10.29: Attributes inspector with Section Header checkbox ticked&#13;&#10;"/></div><p class="figure-caption">Figure 10.29: Attributes inspector with Section Header checkbox ticked</p><p>This enables the section header for the collection view.</p></li>
				<li>Note that <strong class="bold">Collection Reusable View</strong> appears in the document outline. This represents the collection view section header. Click on <strong class="bold">Collection Reusable View</strong> in the document outline. In the Attributes inspector under <strong class="bold">Collection Reusable View</strong>, set <strong class="bold">Identifier</strong> to <strong class="source-inline">header</strong> and press <em class="italic">Return</em> when you're done:<div id="_idContainer158" class="IMG---Figure"><img src="image/Figure_10.30_B17469.jpg" alt="Figure 10.30: Attributes inspector with Identifier set to header&#13;&#10;"/></div><p class="figure-caption">Figure 10.30: Attributes inspector with Identifier set to header</p></li>
				<li>Click on <a id="_idIndexMarker432"/>the <strong class="source-inline">ExploreViewController</strong> file in<a id="_idIndexMarker433"/> the Project navigator. Just before the data source methods, type in the following code:<p class="source-code">func collectionView(_ collectionView: UICollectionView, viewForSupplementaryElementOfKind kind: String, at indexPath: IndexPath) -&gt; UICollectionReusableView {</p><p class="source-code">   let headerView =</p><p class="source-code">   collectionView.dequeueReusableSupplementaryView(</p><p class="source-code">   ofKind: kind, withReuseIdentifier: "header", </p><p class="source-code">   for: indexPath)</p><p class="source-code">   return headerView</p><p class="source-code">}</p><p>This method returns the instance of <strong class="source-inline">UICollectionReusableView</strong> with the identifier <strong class="source-inline">header</strong> that you just configured, which will be displayed onscreen.</p></li>
			</ol>
			<p>Build and run your app. You should see the collection view section header as a white space between the collection view cells and the navigation bar:</p>
			<div>
				<div id="_idContainer159" class="IMG---Figure">
					<img src="image/Figure_10.31_B17469.jpg" alt="Figure 10.31: iOS Simulator showing collection view section header&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.31: iOS Simulator showing collection view section header</p>
			<p>Before you<a id="_idIndexMarker434"/> add <a id="_idIndexMarker435"/>the <strong class="bold">LOCATION</strong> button, you'll need to increase the collection view section header's height and the collection view cell size to make them match the <strong class="bold">Explore</strong> screen shown in the app tour (refer to <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a>, <em class="italic">Setting Up the User Interface</em>). You will set the cell size and the header height using the <strong class="bold">Size inspector</strong> in the next section.</p>
			<h1 id="_idParaDest-162"><a id="_idTextAnchor165"/>Configuring storyboard element sizes</h1>
			<p>The Size<a id="_idIndexMarker436"/> inspector is used to change the size of storyboard elements. You will use it to change the size of the collection view cell and collection view section header to make them match the <strong class="bold">Explore</strong> screen that was shown in the app tour in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a>, <em class="italic">Setting Up the User Interface</em>. Follow these steps:</p>
			<ol>
				<li value="1">Click the <strong class="source-inline">Main</strong> storyboard file in the Project navigator and click the <strong class="bold">Collection View</strong> in the document outline. Click the Size inspector button:<div id="_idContainer160" class="IMG---Figure"><img src="image/Figure_10.32_B17469.jpg" alt="Figure 10.32: Size inspector selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.32: Size inspector selected</p></li>
				<li>The collection view size settings will be displayed in the Size inspector as shown:<div id="_idContainer161" class="IMG---Figure"><img src="image/Figure_10.33_B17469.jpg" alt="Figure 10.33: Size inspector showing size settings for the collection view&#13;&#10;"/></div><p class="figure-caption">Figure 10.33: Size inspector showing size settings for the collection view</p></li>
				<li>Configure<a id="_idIndexMarker437"/> the collection view size settings, as follows:<p><strong class="bold">Cell Size</strong>: Set <strong class="bold">Width</strong> to <strong class="source-inline">177</strong> and <strong class="bold">Height</strong> is <strong class="source-inline">177</strong>.</p><p><strong class="bold">Estimate Size</strong>: <strong class="bold">None</strong>.</p><p><strong class="bold">Header Size</strong>: Set <strong class="bold">Width</strong> to <strong class="source-inline">0</strong> and <strong class="bold">Height</strong> to <strong class="source-inline">100</strong>.</p><p><strong class="bold">Min Spacing</strong>: Set <strong class="bold">For Cells</strong> to <strong class="source-inline">0</strong> and <strong class="bold">For Lines</strong> to <strong class="source-inline">7</strong>.</p><p><strong class="bold">Section Insets</strong>: Set <strong class="bold">Top</strong>, <strong class="bold">Bottom</strong>, <strong class="bold">Left</strong>, and <strong class="bold">Right</strong> to <strong class="source-inline">7</strong>.</p></li>
			</ol>
			<p>Remember to press <em class="italic">Return</em> after changing each value.</p>
			<p>The units that are used in the Size inspector are points. Each point may refer to one or more pixels on the device screen. For the iPhone SE (2<span class="superscript">nd</span> generation), the screen is 375 points wide and 667 points high, although the actual screen resolution is 750 x 1,334 pixels.</p>
			<p><strong class="bold">Cell Size</strong> determines<a id="_idIndexMarker438"/> the size of the collection view cell. <strong class="bold">Header Size</strong> determines the size of the collection view section header. <strong class="bold">Min Spacing</strong> determines the space between cells. <strong class="bold">Section Insets</strong> determines the space between the section containing the cells to the sides of the enclosing view. These settings are specific to the iPhone SE (2<span class="superscript">nd</span> generation). In <a href="B17469_22_Final_VK_ePub.xhtml#_idTextAnchor431"><em class="italic">Chapter 22</em></a>, <em class="italic">Getting Started with Mac Catalyst</em>, you will calculate the optimum cell size based on the dimensions of the device screen.</p>
			<p>Build and run your app, and you should see the <strong class="bold">Explore</strong> screen display 20 collection view cells and a collection view section header:</p>
			<div>
				<div id="_idContainer162" class="IMG---Figure">
					<img src="image/Figure_10.34_B17469.jpg" alt="Figure 10.34: iOS simulator showing resized collection view cells and section header&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.34: iOS simulator showing resized collection view cells and section header</p>
			<p>Note that although <a id="_idIndexMarker439"/>there is no data in the cells and no button in the header, it looks similar to the <strong class="bold">Explore</strong> screen that was shown in the app tour in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a><em class="italic">, Setting Up the User Interface</em>. You will configure the cells to display data in the next part of this book. For now, let's add a button to the collection view section header, which will be used later to display the <strong class="bold">Locations</strong> screen.</p>
			<h1 id="_idParaDest-163"><a id="_idTextAnchor166"/>Presenting a view modally</h1>
			<p>In this section, you will add a button to the collection view section header. When tapped, this button will display a view showing the <strong class="bold">Locations</strong> screen. This view will be from a new view controller scene embedded in a navigation controller, which you will add to the project. The view will be presented modally, which means you won't be able to do anything else until it is dismissed. To dismiss it, you'll add a <strong class="bold">Cancel</strong> button to the view's navigation bar. You'll also add a <strong class="bold">Done</strong> button, but you'll only implement its functionality in <a href="B17469_17_Final_VK_ePub.xhtml#_idTextAnchor248"><em class="italic">Chapter 17</em></a><em class="italic">, Getting Started with JSON Files</em>.</p>
			<p>Let's start by adding a button from the library to the collection view section header.</p>
			<h2 id="_idParaDest-164"><a id="_idTextAnchor167"/>Adding a button to the collection view header</h2>
			<p>As shown<a id="_idIndexMarker440"/> in the app tour in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a>, <em class="italic">Setting Up the User Interface</em>, there is a <strong class="bold">LOCATION</strong> button at the top right-hand side of the screen. You'll add a button to represent the <strong class="bold">LOCATION</strong> button in the collection view section header. Follow these steps:</p>
			<ol>
				<li value="1">Click the <strong class="source-inline">Main</strong> storyboard file in the Project navigator. Make sure the <strong class="bold">Explore View Controller Scene</strong> is selected. Click the Library button to display the library:<div id="_idContainer163" class="IMG---Figure"><img src="image/Figure_10.35_B17469.jpg" alt="Figure 10.35: Toolbar with Library button shown&#13;&#10;"/></div><p class="figure-caption">Figure 10.35: Toolbar with Library button shown</p></li>
				<li>Type <strong class="source-inline">button</strong> in the filter field. A <strong class="bold">Button</strong> object will appear in the results. Drag the button to the collection view section header:<div id="_idContainer164" class="IMG---Figure"><img src="image/Figure_10.36_B17469.jpg" alt="Figure 10.36: Library with Button object selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.36: Library with Button object selected</p></li>
				<li>Position the <a id="_idIndexMarker441"/>button to the right-hand side of the collection view section header:</li>
			</ol>
			<div>
				<div id="_idContainer165" class="IMG---Figure">
					<img src="image/Figure_10.37_B17469.jpg" alt="Figure 10.37: Collection view section header with button added&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.37: Collection view section header with button added</p>
			<p>Its exact placement isn't important right now as you will customize the button's position in <a href="B17469_12_Final_VK_ePub.xhtml#_idTextAnchor182"><em class="italic">Chapter 12</em></a>, <em class="italic">Modifying and Configuring Cells</em>. </p>
			<p>You now have a button in your collection view section header. Next, you will add a view controller scene<a id="_idIndexMarker442"/> to represent the <strong class="bold">Locations</strong> screen that will appear when the button is tapped.</p>
			<h2 id="_idParaDest-165"><a id="_idTextAnchor168"/>Adding a new view controller scene</h2>
			<p>As shown in the<a id="_idIndexMarker443"/> app tour in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a>, <em class="italic">Setting Up the User Interface</em>, when you tap the <strong class="bold">LOCATION</strong> button, a list of locations will appear in the <strong class="bold">Locations</strong> screen. You'll add a new view controller scene to your project to represent this screen. Follow these steps:</p>
			<ol>
				<li value="1">Click the Library button to display the library and type <strong class="source-inline">view con</strong> in the filter field. A <strong class="bold">View Controller</strong> object will be among the search results. Drag the <strong class="bold">View Controller</strong> object onto the storyboard:<div id="_idContainer166" class="IMG---Figure"><img src="image/Figure_10.38_B17469.jpg" alt="Figure 10.38: Library with View Controller object selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.38: Library with View Controller object selected</p></li>
				<li>Position it to the right of the <strong class="bold">Explore View Controller Scene</strong>:<div id="_idContainer167" class="IMG---Figure"><img src="image/Figure_10.39_B17469.jpg" alt="Figure 10.39: Editing area showing view controller scene next to Explore View Controller Scene&#13;&#10;"/></div><p class="figure-caption">Figure 10.39: Editing area showing view controller scene next to Explore View Controller Scene</p></li>
				<li>The newly <a id="_idIndexMarker444"/>added view controller scene should already be selected. In the document outline, click on the <strong class="bold">View Controller</strong> icon for this scene:<div id="_idContainer168" class="IMG---Figure"><img src="image/Figure_10.40_B17469.jpg" alt="Figure 10.40: Document outline with View Controller selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.40: Document outline with View Controller selected</p></li>
				<li>You will <a id="_idIndexMarker445"/>need space for the <strong class="bold">Cancel</strong> and <strong class="bold">Done</strong> buttons, so you will embed this view controller scene in a navigation controller to provide a navigation bar where the buttons can be placed. Choose <strong class="bold">Embed In </strong>|<strong class="bold"> Navigation Controller</strong> from the <strong class="bold">Editor</strong> menu. </li>
				<li>A navigation controller scene will appear to the left of the view controller scene:<div id="_idContainer169" class="IMG---Figure"><img src="image/Figure_10.41_B17469.jpg" alt="Figure 10.41: Editing area showing view controller scene embedded in a navigation controller&#13;&#10;"/></div><p class="figure-caption">Figure 10.41: Editing area showing view controller scene embedded in a navigation controller</p></li>
				<li><em class="italic">Ctrl</em> + <em class="italic">Drag</em> from<a id="_idIndexMarker446"/> the button to the navigation controller scene:<div id="_idContainer170" class="IMG---Figure"><img src="image/Figure_10.42_B17469.jpg" alt="Figure 10.42: Editing area showing button in Explore View Controller Scene&#13;&#10;"/></div><p class="figure-caption">Figure 10.42: Editing area showing button in Explore View Controller Scene</p></li>
				<li>The Segue pop-up menu will appear. Choose <strong class="bold">Present Modally</strong>:  <div id="_idContainer171" class="IMG---Figure"><img src="image/Figure_10.43_B17469.jpg" alt="Figure 10.43: Segue pop-up menu with Present Modally selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.43: Segue pop-up menu with Present Modally selected</p><p>This makes <a id="_idIndexMarker447"/>the view controller's view slide up from the bottom of the screen when the button is tapped. You won't be able to interact with any other view until this view is dismissed.</p></li>
				<li>Verify that a segue has linked the <strong class="bold">Explore View Controller Scene</strong> and the navigation controller scene together:</li>
			</ol>
			<div>
				<div id="_idContainer172" class="IMG---Figure">
					<img src="image/Figure_10.44_B17469.jpg" alt="Figure 10.44: Editing area showing segue between Explore View Controller Scene &#13;&#10;and navigation controller scene&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.44: Editing area showing segue between Explore View Controller Scene and navigation controller scene</p>
			<p>Build and run your<a id="_idIndexMarker448"/> app. If you click the button, the new view controller's view should slide up from the bottom of the screen:</p>
			<div>
				<div id="_idContainer173" class="IMG---Figure">
					<img src="image/Figure_10.45_B17469.jpg" alt="Figure 10.45: iOS simulator showing Explore and Locations screens&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.45: iOS simulator showing Explore and Locations screens</p>
			<p>At the moment, you can't dismiss this view. In the next section, you will add a <strong class="bold">Cancel</strong> button to <a id="_idIndexMarker449"/>the navigation bar and program it to dismiss the view. You'll also add a <strong class="bold">Done </strong>button, but you won't program it yet.</p>
			<h2 id="_idParaDest-166"><a id="_idTextAnchor169"/>Adding Cancel and Done buttons to the navigation bar</h2>
			<p>One of <a id="_idIndexMarker450"/>the benefits <a id="_idIndexMarker451"/>of embedding a view controller in a navigation controller is the navigation bar at the top of the screen. You can place buttons on its left- and right-hand sides. Follow these steps to add the <strong class="bold">Cancel</strong> and <strong class="bold">Done</strong> buttons to the navigation bar:</p>
			<ol>
				<li value="1">Click the <strong class="bold">Navigation Item</strong> for the <strong class="bold">View Controller Scene</strong> in the document outline. Click <a id="_idIndexMarker452"/>the<a id="_idIndexMarker453"/> Library button:<div id="_idContainer174" class="IMG---Figure"><img src="image/Figure_10.46_B17469.jpg" alt="Figure 10.46: Toolbar with Library button shown&#13;&#10;"/></div><p class="figure-caption">Figure 10.46: Toolbar with Library button shown</p></li>
				<li>Type <strong class="source-inline">bar b</strong> into the filter field and drag two <strong class="bold">Bar Button Item</strong> objects to each side of the navigation bar:<div id="_idContainer175" class="IMG---Figure"><img src="image/Figure_10.47_B17469.jpg" alt="Figure 10.47: Library with Bar Button Item objects selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.47: Library with Bar Button Item objects selected</p></li>
				<li>Click the <strong class="bold">Item</strong> button on the right:<div id="_idContainer176" class="IMG---Figure"><img src="image/Figure_10.48_B17469.jpg" alt="Figure 10.48: View controller scene with right button selected&#13;&#10;"/></div><p class="figure-caption">Figure 10.48: View controller scene with right button selected</p></li>
				<li>Click <a id="_idIndexMarker454"/>the<a id="_idIndexMarker455"/> Attributes inspector button. Under <strong class="bold">Bar Button Item</strong>, choose <strong class="bold">Done</strong> from the <strong class="bold">System Item</strong> menu:<p class="figure-caption"> </p><div id="_idContainer177" class="IMG---Figure"><img src="image/Figure_10.49_B17469.jpg" alt="Figure 10.49: Attributes inspector with System Item set to Done&#13;&#10;"/></div><p class="figure-caption">Figure 10.49: Attributes inspector with System Item set to Done</p></li>
				<li>Click the <strong class="bold">Item</strong> button on the left and choose <strong class="bold">Cancel</strong> from the <strong class="bold">System Item </strong>menu:<div id="_idContainer178" class="IMG---Figure"><img src="image/Figure_10.50_B17469.jpg" alt="Figure 10.50: Attributes inspector with System Item set to Cancel&#13;&#10;"/></div><p class="figure-caption">Figure 10.50: Attributes inspector with System Item set to Cancel</p><p>Remember <a id="_idIndexMarker456"/>that the <a id="_idIndexMarker457"/>navigation controller has a property, <strong class="source-inline">viewControllers</strong>, that holds an array of view controllers. When you click the button in the <strong class="bold">Explore </strong>screen, the new view controller is added to the <strong class="source-inline">viewControllers</strong> array and its view appears from the bottom of the screen, covering the <strong class="bold">Explore</strong> screen.</p></li>
				<li>To dismiss the view, you will link the <strong class="bold">Cancel</strong> button to the scene exit and implement a method in the <strong class="source-inline">ExploreViewController</strong> class which will be executed when the <strong class="bold">Explore</strong> screen reappears. In the Project navigator, click the <strong class="source-inline">ExploreViewController</strong> file and add the following method at the bottom of the file, just before the last curly brace:<p class="source-code">@IBAction func unwindLocationCancel(segue: UIStoryboardSegue) {</p><p class="source-code">}</p></li>
				<li>Click on the <strong class="source-inline">Main</strong> storyboard file in the Project navigator. <em class="italic">Ctrl + Drag</em> from the <strong class="bold">Cancel</strong> button to the scene exit icon (the third icon) and choose <strong class="bold">unwindLocationCancelWithSegue:</strong> from the pop-up menu:</li>
			</ol>
			<div>
				<div id="_idContainer179" class="IMG---Figure">
					<img src="image/Figure_10.51_B17469.jpg" alt="Figure 10.51: View controller scene showing Cancel button action being set&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.51: View controller scene showing Cancel button action being set</p>
			<p>When your app is running, clicking the <strong class="bold">Cancel</strong> button will remove the view controller from the navigation controller's <strong class="source-inline">viewControllers</strong> array, making the view that is presented<a id="_idIndexMarker458"/> modally go <a id="_idIndexMarker459"/>away and executes the <strong class="source-inline">unwindLocationCancel(segue:)</strong> method. Note that this method doesn't do anything.</p>
			<p>Build and run your app and click the button in the section header of the <strong class="bold">Explore</strong> screen. The new view will appear onscreen. When you click the <strong class="bold">Cancel</strong> button, the new view disappears:</p>
			<div>
				<div id="_idContainer180" class="IMG---Figure">
					<img src="image/Figure_10.52_B17469.jpg" alt="Figure 10.52: iOS Simulator showing Explore and Locations screens&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 10.52: iOS Simulator showing Explore and Locations screens</p>
			<p>Congratulations! You've <a id="_idIndexMarker460"/>completed <a id="_idIndexMarker461"/>the basic structure for the <strong class="bold">Explore</strong> screen.</p>
			<h1 id="_idParaDest-167"><a id="_idTextAnchor170"/>Summary</h1>
			<p>In this chapter, you added a collection view to the <strong class="bold">Explore</strong> screen in the <strong class="source-inline">Main </strong>storyboard file and added a new file, <strong class="source-inline">ExploreViewController</strong>, which contains the implementation of the <strong class="source-inline">ExploreViewController</strong> class. You made the <strong class="source-inline">ExploreViewController</strong> class the view controller for the scene containing the collection view. Then, you modified the <strong class="source-inline">ExploreViewController</strong> class to have an outlet for the collection view in the storyboard, and made it the data source and delegate for the collection view. You added a collection view section header to the collection view and set the size for the collection view cells and collection view section header. Finally, you added a button to display a second view and configured a <strong class="bold">Cancel</strong> button to dismiss it.</p>
			<p>At this point, you should be fairly proficient in using Interface Builder to add views and view controllers to a storyboard scene, link view controller outlets to UI elements in storyboards, set up collection view cells and section headers, and present views modally. This will be very useful when you're designing the user interface for your own apps.</p>
			<p>In the next chapter, you'll configure the new view controller to display a table view, implement the remaining screens of your app, and implement a map view for the <strong class="bold">Map</strong> screen.</p>
		</div>
	</body></html>