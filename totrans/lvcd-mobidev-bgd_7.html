<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch07"/>Chapter 7. Deploying to Your Device</h1></div></div></div><p>
<em>Don't keep it all to yourself!</em>
</p><p>
<em>Tools such as <a id="id489" class="indexterm"/>LiveCode can be used entirely for personal productivity applications, and it would more than pay for itself through the time that it would save every day. However, why not let the rest of the world benefit from your creations!</em>
</p><p>So far, we have created several little test rig apps and a few apps that are fleshed out. In all cases though, we've just tested the apps that are inside simulators or on your personal device. The time has come to get this app out to more people for beta testing at first, so that we can then upload it to different app stores.</p><p>In this chapter, we will:</p><div><ul class="itemizedlist"><li class="listitem">Examine all the standalone application setting options related to the process of creating mobile apps</li><li class="listitem">Create builds of an app so that it can be sent to beta testers</li><li class="listitem">Test service alternatives</li><li class="listitem">Build the final distribution version of an app</li><li class="listitem">Review how to upload apps to iOS App Store, Google Play, Amazon Appstore, and Samsung Apps</li></ul></div><div><h3 class="title"><a id="note24"/>Note</h3><p>There are some stages that should be performed on Mac while creating iOS apps for App Store; all the iOS steps described here should be followed using Mac. The Android steps can be applied to Mac or Windows. Note that this chapter is more of a reference and not a hands-on walkthrough. When you have an app that is almost complete and ready for submission to app stores and if you get stuck at any point, hopefully, you will recall reading about the issue somewhere in this chapter!</p></div><div><div><div><div><h1 class="title"><a id="ch07lvl1sec87"/>Standalone application settings</h1></div></div></div><p>We have <a id="id490" class="indexterm"/>already tweaked the settings a few times by now, but we've only made the minimum amount of changes needed to test the app. There are a lot of options here that you need to fill before your app is ready for sale in an app store. We'll briefly go over the other standalone application sections and then go into more depth in the Android and iOS sections.</p><div><div><div><div><h2 class="title"><a id="ch07lvl2sec131"/>The General section</h2></div></div></div><p>The <strong>General</strong> <a id="id491" class="indexterm"/>section of the <a id="id492" class="indexterm"/>standalone settings is primarily used to control the features of LiveCode that are to be included in a desktop standalone application. These options cannot be applied to mobile applications, but it is in the <strong>General</strong> section that you can set the name of the application file and the build folder:</p><div><img src="img/image00292.jpeg" alt="The General section"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec132"/>The Stacks section</h2></div></div></div><p>The <strong>Stacks</strong> <a id="id493" class="indexterm"/>section will show <a id="id494" class="indexterm"/>you a list of the stacks that are already included in your project. This will of course include the current Mainstack and the stacks that have been added by plugins that you may have used earlier. As you can see, all the options are grayed out.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec133"/>The Copy Files section</h2></div></div></div><p>The <strong>Copy Files</strong> <a id="id495" class="indexterm"/>section is used to add additional files and folders to be used by your app. These are read-only <a id="id496" class="indexterm"/>files; if you need changeable files, you could still include these files and then write copies of the files to the special <code class="literal">Documents</code> folder. Here is how the dialog box looks with folders of images and sounds. These folders are in the same folder as the LC app:</p><div><img src="img/image00293.jpeg" alt="The Copy Files section"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec134"/>The iOS section</h2></div></div></div><p>The <strong>Mac</strong>, <strong>Windows</strong>, <strong>Linux</strong>, <strong>Web</strong>, and <strong>Bug Reports</strong> sections are not used while making iOS and <a id="id497" class="indexterm"/>Android apps, so now, we'll take a good look at the <strong>iOS</strong> section bit by bit…</p><div><div><div><div><h3 class="title"><a id="ch07lvl3sec13"/>The Build for section</h3></div></div></div><p>The <strong>Build for</strong> <a id="id498" class="indexterm"/>settings determine which iOS devices the app <a id="id499" class="indexterm"/>will work on and which minimum iOS version should be used. In deciding what to choose, some things are obvious and others, not so obvious. If you are making an app that really needs a large area of workspace, then it might not be too successful on an iPod or iPhone screen. If it's a small utility that is geared for use on a hand-held device, perhaps you don't need to have an iPad version. You are able to choose <strong>iPod</strong>, <strong>iPhone</strong>, and <strong>iPad</strong>, or just <strong>iPod and iPhone</strong>, and even just <strong>iPad</strong> from this section.</p><p>The minimum iOS version you choose may depend on the particular features that you have used previously. You don't want users to buy your app only to find that a certain feature doesn't work correctly under the older iOS version. You may need to set and keep some devices for testing to use old versions of the OS on, so that you can be sure that your setting is correct. Also, Xcode allows you to download various versions of Simulator, and in LiveCode, you can choose a specific version to test</p><p>You can always leave these options at lower values for now and make up your mind after you have heard how <a id="id500" class="indexterm"/>your beta testers get on with the app.</p><p>Here is the <strong>Build for</strong> <a id="id501" class="indexterm"/>area of the settings along with the menus you can choose from:</p><div><img src="img/image00294.jpeg" alt="The Build for section"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec14"/>Basic application settings</h3></div></div></div><p>We have <a id="id502" class="indexterm"/>used some of these settings a few times <a id="id503" class="indexterm"/>already. Here is the full set of options:</p><div><ul class="itemizedlist"><li class="listitem"><strong>Display Name</strong>: This is the name that will appear under the icon on the actual device</li><li class="listitem"><strong>Version</strong>: This is the version number that will appear in the iTunes description of the app</li><li class="listitem"><strong>Internal App ID</strong>: This is the app ID that you can use in the iOS Developer portal while developing or distributing the provisioning profile</li><li class="listitem"><strong>Profile</strong>: This is the provisioning profile that matches this app</li><li class="listitem"><strong>Externals</strong>: This is a set of optional external command files that you may have used in your app</li></ul></div><p>You should try out different display names to see how it looks on different devices. There is a limit to how long the name can be before iOS truncates the name, placing ellipses in the middle of the text. For iPhone, the limit is roughly up to 11 or 12 characters.</p><p>It's important to <a id="id504" class="indexterm"/>make sure that an update to an app that you submit has a version number that is later than the version number of the existing app. Starting with 1.0.0 makes sense; just remember to increase the number when you do updates. Don't worry if you forget, you'll find that the upload process to the App Store fails! App stores in general require that the update be of a later version than the one that is being replaced.</p><p>For development <a id="id505" class="indexterm"/>purposes, you can use a provisioning profile that uses an internal app ID that contains a wildcard. When you do submit an app to iOS App Store, make sure that the provisioning profile is a Distribution one and that the App ID it uses exactly matches the <strong>Internal App ID</strong>. Also, make sure that the ID is different than any other app that you have in the store. Note that the ID, as shown in your developer account page, will show extra digits at its start, for example, <code class="literal">31415926.com.yourname.yourappname</code>. The matching <strong>Internal App ID</strong> would be <code class="literal">com.yourname.yourappname</code>.</p><p>In this example screenshot, a development provisioning file was chosen and no external commands were used:</p><div><img src="img/image00295.jpeg" alt="Basic application settings"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec15"/>Icons</h3></div></div></div><p>You are able <a id="id506" class="indexterm"/>to select a different icon for each device type that iOS and iTunes requires. The Icons section is straightforward; you click on the <strong>…</strong> button and <a id="id507" class="indexterm"/>choose the file from your filesystem. It would be possible for LiveCode to take one large image and create the various sizes for you, but there isn't an option for that! For what it's worth, you may have reasons to show a different icon for each case. For example, you could make an icon for Retina displays that had more detail in them than a non-Retina display. As you don't have a choice, just enjoy the flexibility this gives you!</p><p>Note the <strong>Prerendered Icon</strong> checkbox in the following screenshot. Here, you have a choice of creating an icon exactly as it should appear on devices. Also, you could produce a square icon with no shading and leave the system to make it look like a button with a highlight effect. Take a look at the various apps on your own devices; you will find that some people were happy to use Apple's beveled highlighted appearance and others preferred to do their own thing. The <strong>Prerendered Icon</strong> feature allows you to do your own thing. In this screenshot, you can see that icons for all the types of devices that have been selected, even iPad Retina, and they are prerendered:</p><div><img src="img/image00296.jpeg" alt="Icons"/></div><p style="clear:both; height: 1em;"> </p><p>In this case, the <code class="literal">icons/</code> folder is in the same folder as the app, so you don't need to include the full path. An entry of <code class="literal">icons/</code> is also included in the <strong>Copy File</strong> section.</p><p>A good reference for <a id="id508" class="indexterm"/>Apple icon and image sizes for iOS 7+ is available at:</p><p>
<a class="ulink" href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/IconMatrix.html">https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/IconMatrix.html</a>
</p><p>This chart does not <a id="id509" class="indexterm"/>include the old sizes 57 and 72 for the older iPhones and iPads.</p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec16"/>Icon tools</h3></div></div></div><p>There are <a id="id510" class="indexterm"/>
<a id="id511" class="indexterm"/>plenty of tools that will help you create all the icon sizes available in the Mac App Store. When I last checked, there were about 40 icons resulting from a search for <code class="literal">icon ios</code>. One free tool that I have used is <strong>Icon Set Creator</strong>, which is available at</p><p>
<a class="ulink" href="https://itunes.apple.com/us/app/icon-set-creator/id939343785?mt=12">https://itunes.apple.com/us/app/icon-set-creator/id939343785?mt=12</a>
</p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec17"/>Splash screens</h3></div></div></div><p>Since the <a id="id512" class="indexterm"/>very first iPhone, iOS has had the ability to load and show a splash screen immediately when a user touches an app icon. This gives them something to look at while the app loads. All that was needed in those days was a default image and a name <code class="literal">Default.png</code>. When iPad came along, there became a need for more splash screens. At the very least, you needed a higher resolution default image, but you also needed custom images for landscape, as far as having different landscape images depending on whether the home button is to the left or right.</p><p>LiveCode doesn't <a id="id513" class="indexterm"/>give us access to that level of flexibility, but it is extremely rare that an app would need a different landscape for two variations; you can generally get by with just a single one. The same for the upside-down portrait variation, the regular default portrait image can be used for that too.</p><p>The Retina displays have their own entries for setting the splash screen, and by convention, these files would have names that include <code class="literal">@2x</code>.</p><p>Which of the splash screen options that are enabled is dependent on the orientation options described in the following section. In this screenshot, the <strong>Lscape</strong> options are grayed out because the app is set as <strong>Portrait</strong>. Here, the correct size <strong>Lscape</strong> image files were selected as well, for your reference:</p><div><img src="img/image00297.jpeg" alt="Splash screens"/></div><p style="clear:both; height: 1em;"> </p><p>You may notice that <a id="id514" class="indexterm"/>there isn't an iPhone portrait or landscape option here. That's because the <code class="literal">Default.png</code> is used for both. If your app is landscape only, then design the splash screen as landscape, but rotate the image 90 degrees clockwise to <a id="id515" class="indexterm"/>create a 320 x 480 or 640 x 960 <code class="literal">Default.png</code> or <code class="literal">Default@2x.png</code> image. One important entry in the list is the <strong>4 inch iPhone</strong> entry that is used for iPhone 5. The <code class="literal">Default.png</code> file name is not used here since image file names can be anything as long as no spaces are included.</p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec18"/>Orientation options</h3></div></div></div><p>As discussed <a id="id516" class="indexterm"/>previously, you are able to specify the orientations <a id="id517" class="indexterm"/>supported by your app. If the app is used just for iPod and iPhone, then you can set only the initial orientation. The choices are <strong>Portrait</strong>, <strong>Portrait Upside-Down</strong>, <strong>Landscape Left</strong>, and <strong>Landscape Right</strong>. If the app is used on iPad, then you can also set the orientations that support the app while it is in use. The selections you make will affect which icons can be imported. The orientations are all set with just one drop-down menu and four checkboxes:</p><div><img src="img/image00298.jpeg" alt="Orientation options"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec19"/>The Custom URL scheme</h3></div></div></div><p>Sometimes <a id="id518" class="indexterm"/>while using an iOS device, you will touch a <a id="id519" class="indexterm"/>URL in a web page and suddenly, you will find yourself in Mail or looking at a page in the App Store. This is achieved using a custom URL scheme. In the case of the App Store, links begin with <code class="literal">itms-apps://</code> and from that iOS knows that the link should be opened in the App Store app. You can do the same thing with your app. By setting a similar custom string, you can get iOS to open your app when the user touches a link that starts with the same string in the URL. Further <a id="id520" class="indexterm"/>information can be found in the lesson given at <a class="ulink" href="http://lessons.runrev.com/m/4069/l/58672-using-custom-url-schemes">http://lessons.runrev.com/m/4069/l/58672-using-custom-url-schemes</a>.</p><p>The value of the string is entered with a simple text input field, shown as follows:</p><div><img src="img/image00299.jpeg" alt="The Custom URL scheme"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec20"/>Requirements and restrictions</h3></div></div></div><p>Earlier, we <a id="id521" class="indexterm"/>talked about how setting the device, processor instruction set, and iOS version is one way to make sure that your users <a id="id522" class="indexterm"/>are able to use the features in your app. The <strong>Requirements and Restrictions</strong> options let you specify in great detail the abilities your device should have. At the very least, if you have an app that involves taking photographs, then having a camera in the device is necessary! If it's a video chat app, then having a front camera in your device would make sense. The reminders app that we made in the previous chapter should have its <strong>Location Services</strong> option selected to make sure that the sort by distance feature works. The following is the full list of <a id="id523" class="indexterm"/>requirements and restrictions:</p><div><img src="img/image00300.jpeg" alt="Requirements and restrictions"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec21"/>A status bar</h3></div></div></div><p>The last <a id="id524" class="indexterm"/>option in the iOS settings controls whether the <a id="id525" class="indexterm"/>status bar should be visible or not and whether it should have the default status bar appearance or a black appearance. For a black appearance, you can set whether it should be opaque or translucent:</p><div><img src="img/image00301.jpeg" alt="A status bar"/></div><p style="clear:both; height: 1em;"> </p></div></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec135"/>Android</h2></div></div></div><p>As you'll <a id="id526" class="indexterm"/>see, the number of options to be set for Android are less than that for iOS. This isn't so much because <a id="id527" class="indexterm"/>Android is simpler, but because LiveCode exposes virtually all of the possible settings for iOS, including a lot that you will most likely not need. iOS also has the splash screen variations that are not available in Android.</p><p>In the Android world, there are some settings that you are required to set, in particular, the <strong>Permissions</strong> settings. iOS does ask the user for permission to use some features, but not until the time your app invokes that feature. You must have seen dialog boxes that ask: <strong>Fancy App wants to know your location</strong>. Android on the other hand asks for permission to use these features at the time the app is installed.</p><p>Let's look at the options for Android…</p><div><div><div><div><h3 class="title"><a id="ch07lvl3sec22"/>Basic application settings</h3></div></div></div><p>Several <a id="id528" class="indexterm"/>of the iOS options are given a different <a id="id529" class="indexterm"/>name in the Android OS. Instead of <strong>Display Name</strong>, <strong>Label</strong> is used, <strong>Internal App ID</strong> is called <strong>Identifier</strong>, and there isn't a provisioning file, but there is a <strong>Signing Key</strong> used in Android. Essentially though, they are the same options as in iOS.</p><p>The <strong>Icon</strong> is set as part of the basic settings because only one icon is needed, so we don't need a set of options. For this one icon, you would have to select a 512 x 512 sized version of the image and LiveCode will make the other sizes for you.</p><p>Android apps don't have a splash screen like iOS, but LiveCode can be given a splash screen that it will show as the first screen that the user sees after the app loads.</p><p>You are able to set the location where the app will be installed with choices of <strong>Internal Storage Only</strong>, <strong>Allow External Storage</strong>, and <strong>Prefer External Storage</strong>. The external storage being referred to is the SD memory that most Android devices have. Android users either don't care where the app is installed or they are fanatical about it being stored in the SD <a id="id530" class="indexterm"/>memory! You could select <strong>Allow External </strong>
<a id="id531" class="indexterm"/>
<strong>Storage</strong> and expect a lot of people to do the same or you could choose <strong>Prefer External Storage</strong> knowing that only a minority would change the option to force the installation to be in the internal memory. Overall, you upset less people by using the prefer external storage setting.</p><p>In-app purchasing and push notifications are handled in a different way in Android than they are in iOS. If you wish to use in-app purchasing, take a look at the RunRev online lessons and also the <code class="literal">developer.android.com</code> information. Lessons for Apple, Google, Amazon and Samsung are located at <a class="ulink" href="http://lessons.runrev.com/m/4069">http://lessons.runrev.com/m/4069</a>.</p><p>The Android <a id="id532" class="indexterm"/>developer information on in-app billing can be found at:</p><p>
<a class="ulink" href="http://developer.android.com/guide/market/billing/billing_overview.html">http://developer.android.com/guide/market/billing/billing_overview.html</a>
</p><p>As with iOS, an Android OS can be given external commands and it also has the custom URL scheme. One feature that is not found in iOS is the ability to set an icon to be used in the task bar.</p><p>Here is how the basic <strong>Application Settings</strong> options are presented:</p><div><img src="img/image00302.jpeg" alt="Basic application settings"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec23"/>Requirements and restrictions</h3></div></div></div><p>Within this <a id="id533" class="indexterm"/>set of options, you <a id="id534" class="indexterm"/>can set the <strong>Minimum Android OS</strong> version and set the hardware features that are required. The columns of radio buttons are named differently in iOS. Instead of stating that a feature is required or prohibited, the buttons state whether the feature is required or used. This becomes <a id="id535" class="indexterm"/>information that the Android <a id="id536" class="indexterm"/>user is able to read and may play a part in whether they choose to buy your app or not. So, try to select any that can be applied to your app.</p><div><img src="img/image00303.jpeg" alt="Requirements and restrictions"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec24"/>Application permissions</h3></div></div></div><p>When an iOS <a id="id537" class="indexterm"/>app makes use of certain features, such as <a id="id538" class="indexterm"/>your location, there is an alert dialog box that appears when the feature is first used. With Android, any such features are listed during the installation of the app and the user gives permission for all the features in one go.</p><p>Here is the list of <a id="id539" class="indexterm"/>permissions you can <a id="id540" class="indexterm"/>choose from:</p><div><img src="img/image00304.jpeg" alt="Application permissions"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec25"/>User interface options</h3></div></div></div><p>
<strong>User </strong>
<a id="id541" class="indexterm"/>
<strong>Interface Options</strong> perform the same function as the orientation and status bar options in iOS. If you are submitting an iPad app <a id="id542" class="indexterm"/>that is landscape, you have to support both variations of landscape. The Android app stores don't have the same requirement, so the options are much simpler. You only have to choose whether the initial orientation should be <strong>Portrait</strong> or <strong>Landscape</strong> and whether the status bar should be <strong>Visible</strong> or <strong>Hidden</strong>:</p><div><img src="img/image00305.jpeg" alt="User interface options"/></div><p style="clear:both; height: 1em;"> </p></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch07lvl1sec88"/>Building Apps for Beta Testers</h1></div></div></div><p>You may <a id="id543" class="indexterm"/>have given test builds to friends and colleagues all the <a id="id544" class="indexterm"/>way through the process of developing your app, but even if you haven't, it becomes more important to do so as you get closer to the time when you have to upload the app to the app stores. Beta testers can tell you about technical and nontechnical issues. Are there any typos in the Credits? Does the icon look good? Were there any strange aspects to the installation experience? And of course, does the app do what it's supposed to do on the numerous devices and OSes?</p><p>The process of making an app to send it to a tester is different on Android than on iOS. In fact, it's incredibly easy on Android! Let's look at that first.</p><div><div><div><div><h2 class="title"><a id="ch07lvl2sec136"/>Sending an Android app to testers</h2></div></div></div><p>When click <a id="id545" class="indexterm"/>on the <strong>Save as Standalone Application…</strong> option for Android, you create an <em>APK</em> file. You could e-mail this file to your testers and <a id="id546" class="indexterm"/>they could do what is called a "side load" of the file on their device. In <a class="link" title="Chapter 2. Getting Started with LiveCode Mobile" href="part0026.xhtml#aid-OPEK1">Chapter 2</a>, <em>Getting Started with LiveCode Mobile</em>, we saw how tricky it can be to connect an Android device for testing and it could well be beyond the technical abilities of some of your testers.</p><p>Fortunately, there is a much simpler approach to do this. Take the APK file and put it online somewhere. It can be on a Dropbox shared location, Google Drive, or perhaps just a server at your office. Whatever it takes for you to get to the point where you have a URL that has a link to the file. Now e-mail that URL to your testers to an e-mail address that they can read on their devices. Then, it only takes a single touch of the link in the e-mail for you to start the download and installation of your app.</p><p>There is a Development section in the Android device settings that the testers may need to visit to enable the feature that allows apps to be installed in this way, but it's very easy to make this change.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec137"/>Preparing an iOS app so that it can work on someone else's device</h2></div></div></div><p>Things are not <a id="id547" class="indexterm"/>quite as straightforward for iOS! First thing you need to do is add the <a id="id548" class="indexterm"/>unique device ID (UDID) for each of your beta testers' devices to your iOS developer account. Your testers can get that number by connecting the device to their computer and viewing its Info in iTunes. When you're looking at the <strong>Summary</strong> section, you will see the serial number for the respective device. Clicking on that number will make it change to a longer number, the UDID that will be needed. Once that number is displayed, you can use a keyboard shortcut to copy the number to the clipboard (<em>command</em> + <em>C</em> on Mac and <em>Ctrl</em> + <em>C</em> on Windows). Have your testers perform these actions and then paste the number in an e-mail to you. You must make sure that you get the number right because it will use up one of your 100 allocated devices of your iOS developer account.</p><p>Go to <a class="ulink" href="https://developer.apple.com/account/ios/device/deviceList.action">https://developer.apple.com/account/ios/device/deviceList.action</a> in order to add the <a id="id549" class="indexterm"/>devices to your account. Click on the<strong> +</strong> button just below the place where your name appears and you will be able to add the devices to your account:</p><div><img src="img/image00306.jpeg" alt="Preparing an iOS app so that it can work on someone else's device"/></div><p style="clear:both; height: 1em;"> </p><p>Next, go to the <strong>Provisioning Profiles</strong> section and either create a new <strong>Development</strong> profile or select an existing one and click on the <strong>Edit</strong> button. After selecting an App ID and a signing certificate, you will then see a list of the devices associated with your account. You can enable any combination of devices you want to work with this provisioning profile. In this screenshot, you'll see that the pool of test devices is very short:</p><div><img src="img/image00307.jpeg" alt="Preparing an iOS app so that it can work on someone else's device"/></div><p style="clear:both; height: 1em;"> </p><p>Click on the <strong>Generate</strong> button and after a few moments, you will be able to click on the <strong>Download</strong> button to download the file.</p><p>Download the new profile and add it to Xcode (just double click on the downloaded file). Open your app's Mainstack in LiveCode, go to <strong>Standalone Application Settings…</strong>/<strong>iOS</strong>, and make sure that the provisioning profile is selected from the <strong>Profile</strong> menu. Click on the <strong>Save as Standalone Application…</strong> option again to make sure that the new devices are known by the app.</p><p>By now, you will have an "APP" file, which is the iOS equivalent of the "APK" file for Android. As with <a id="id550" class="indexterm"/>Android, you could e-mail this file to your testers along with the provisioning file and have the testers "side load" it onto their devices. In this instance, that's not such a difficult task because the tester can use iTunes to do the same. If you do go down that route, have your testers drag the "APP" and provisioning files onto the <strong>Library</strong> in iTunes, connect the device, view the <strong>Apps</strong> tab, make sure that the new app is selected, and perform a <strong>Sync</strong>. However, it is possible to make things a lot easier for your users, as easy as they were for Android users.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec138"/>Using "over the air" installers for iOS</h2></div></div></div><p>Since iOS 4.0, it <a id="id551" class="indexterm"/>has been possible for us to install an app from a link in a <a id="id552" class="indexterm"/>web page. Creating the file structure for this to work is a bit tricky though, but fortunately, there are at least a couple of tools you can buy to make things easy for you.</p><div><div><div><div><h3 class="title"><a id="ch07lvl3sec26"/>AirLaunch</h3></div></div></div><p>HyperActive Software <a id="id553" class="indexterm"/>has made a LiveCode plugin that can take your "APP" file and make the file structure needed for the "over the air" installation to work. There <a id="id554" class="indexterm"/>is just a single dialog box that you need to fill the required information in:</p><div><img src="img/image00308.jpeg" alt="AirLaunch"/></div><p style="clear:both; height: 1em;"> </p><p>After selecting the "APP" file, you only need to enter the URL where the folder will be when it's online and then click on the <strong>Create Files</strong> button. The URL link to your online app will be confirmed at the bottom of the window. Click on the URL to copy it and then e-mail it to your testers. When they visit the web page on their device, there will be a single link to touch and iOS will prompt you for approval to install the app. If you look at the next available position on your home page, you will see that it is being installed or is already installed if you are not quick enough.</p><div><h3 class="title"><a id="note25"/>Note</h3><p>For more <a id="id555" class="indexterm"/>information about AirLaunch, refer to:</p><p>
<a class="ulink" href="http://www.hyperactivesw.com/airlaunch/index.html">http://www.hyperactivesw.com/airlaunch/index.html</a>
</p></div><p>Note that Apple requires a <a id="id556" class="indexterm"/>secure server for this to work and the URL must start with HTTPS. The easiest source is to use a Dropbox public folder, though you need to make it secure if you've signed up for Dropbox after October 4, 2012. Refer to the AirLaunch <a id="id557" class="indexterm"/>FAQs for further information at:</p><p>
<a class="ulink" href="http://hyperactivesw.com/airlaunch/airlaunchtips.html">http://hyperactivesw.com/airlaunch/airlaunchtips.html</a>
</p><div><h3 class="title"><a id="tip14"/>Tip</h3><p>
<strong>AirLaunch workflow in development</strong>
</p><p>AirLaunch can be installed as a LiveCode plugin and can be run right after you create a standalone version of your app. You can save the installation web page on your iOS device and click on it to launch the installer. This method is a lot easier to test your app during development than connecting a cable to your device and dragging the app into Xcode.</p></div></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec27"/>BetaBuilder</h3></div></div></div><p>BetaBuilder can be <a id="id558" class="indexterm"/>found in the Mac App Store at:</p><p>
<a class="ulink" href="http://itunes.apple.com/us/app/betabuilder-for-ios-apps/id415348946?mt=12">http://itunes.apple.com/us/app/betabuilder-for-ios-apps/id415348946?mt=12</a>
</p><p>It wasn't made with <a id="id559" class="indexterm"/>LiveCode in mind and works with "IPA" files and not "APP" files. An easy way to convert the LiveCode APP file into an IPA file is to drag the APP file into iTunes and to select Show in Finder by right-clicking on the app in the <strong>Library</strong>. This will reveal the IPA file that you can drag into the BetaBuilder window.</p><p>The process is much the same as AirLaunch's process, where you select the file to use, enter the URL of the online folder, and the program generates the files for you. Again, this all happens in a single dialog window:</p><div><img src="img/image00309.jpeg" alt="BetaBuilder"/></div><p style="clear:both; height: 1em;"> </p><p>Both products create <a id="id560" class="indexterm"/>similar files as illustrated in the following Dropbox public folder:</p><div><img src="img/image00310.jpeg" alt="BetaBuilder"/></div><p style="clear:both; height: 1em;"> </p><p>Both products make life easy for your testers. AirLaunch has the advantages of being a plugin that works within LiveCode, which you're likely to have open anyway, and working directly with the APP files that LiveCode creates. BetaBuilder is a Mac app that is run separately and requires you to transfer the files to your server using some other Mac application. AirTouch has FTP built-in to streamline your workflow.</p><p>BetaBuilder's main advantage is that it's incredibly cheap! It also generates a web page that is more informative than AirLaunch, which shows just a simple link with the name of the app. However, AirLaunch allows you to export the template and edit or integrate it into your website.</p><div><img src="img/image00311.jpeg" alt="BetaBuilder"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec28"/>TestFlight</h3></div></div></div><p>A service <a id="id561" class="indexterm"/>named TestFlight was in place during the time I was writing the first edition of this book that worked similar to AirLaunch and Beta Builder. In <a id="id562" class="indexterm"/>2014, Apple purchased TestFlight and merged it with <strong>iTunes Connect</strong> (<strong>iTC</strong>) that is used to submit apps to the Apple App Store. TestFlight is a lot more than what you need to just send out personal apps to a few testers, but it is required while dealing with apps that go out to as many as 1000 testers. One big change is that you will also need a Distribution Profile and Certificate to start the submittal process as described further in this chapter.</p><p>TestFlight has two levels of testing: <strong>Internal</strong> and <strong>External</strong>. Internal testing is for members of your development team. You can add up to 25 internal testers using the <strong>Users and Roles</strong> section of iTC and assign them a <strong>Technical</strong> role. They will get an e-mail invitation and need to activate an iTC account. When you start testing your app, they receive another e-mail announcement and need to download the TestFlight app to their device that must run iOS 8 or its later versions. The TestFlight app then installs your app for testing. The test only lasts for 30 days unless you update it and submit a new version. The TestFlight app can also be used for error reporting and feedback.</p><p>External testing is similar, but requires a Beta App Review and must comply with the full App Store Review Guidelines before the testing begins. A review is required for new versions of your app that contain significant changes. Up to 10 apps can be tested at a time, internally or externally. You can add up to 1000 external testers just by supplying a list of their e-mail addresses and checking whether you have their approval. After releasing, the testing proceeds in the same manner as it did with internal testers. At the time of writing this <a id="id563" class="indexterm"/>book, a tester could not be on both the internal and external lists. Refer to <a class="ulink" href="https://developer.apple.com/testflight/">https://developer.apple.com/testflight/</a> for further information.</p><div><h3 class="title"><a id="note26"/>Note</h3><p>
<strong>Missing push notification entitlement</strong>
</p><p>In early 2015, you would get this e-mail warning message while submitting an app to iTC: "Your app appears to include API used to register with the Apple <strong>Push Notification </strong>service, but the app signature's <strong>entitlements </strong>do not include the "aps-environment" <strong>entitlement</strong>." This is an issue in LC and does not affect anything. Apple's Push Notification Service is built in the LC engine and LC doesn't bother to strip it out if you don't use it. It is documented in bug 10979 in the RunRev <a id="id564" class="indexterm"/>Quality system at <a class="ulink" href="http://quality.runrev.com/process_bug.cgi">http://quality.runrev.com/process_bug.cgi</a>.</p></div></div></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec139"/>Using "over the air" installers for Android</h2></div></div></div><p>While testing <a id="id565" class="indexterm"/>with the Android Emulator or direct connection should <a id="id566" class="indexterm"/>be sufficient to learn LiveCode development, the real world is much more complex. In the last several years, testing alternatives have emerged to help test your apps on other Android devices. With numerous Android devices, this is really needed. There were 8614 listed in the Google Play store at the last count and many more must've been listed even now, when you read this. There are also variations in the Android OS available at Amazon, Samsung, and others. Hopefully, testing through Google testing resources will be adequate for your needs.</p><div><div><div><div><h3 class="title"><a id="ch07lvl3sec29"/>Google testing</h3></div></div></div><p>Google also has a testing capability built in their Google Play store. As with Apple's iTC and TestFlight; for Google, you <a id="id567" class="indexterm"/>have to prepare your store list and upload your APK just as you would when publishing it. To distribute to testers, you need to create and select a Google Group or Google+ Community that the testers join. Google has alpha and beta tests, which are similar to Apple's internal and external testing. Notification e-mails are sent to testers with a link to the testing section of Google Play. Because your testers can't leave public reviews for alpha/beta apps on Google Play, it's a good idea to let them know where they can provide you feedback (an e-mail address, website, and so on). Further details can be found at:</p><p>
<a class="ulink" href="https://support.google.com/googleplay/android-developer/answer/3131213?hl=en">https://support.google.com/googleplay/android-developer/answer/3131213?hl=en</a>
</p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec30"/>Amazon testing</h3></div></div></div><p>Amazon has a tool called <a id="id568" class="indexterm"/>
<strong>Live App Testing</strong> to allow developers to beta test apps through the Amazon appstore. Developers can invite up to 500 specific users to test the app through an e-mail invite. In addition to this, the <strong>A/B Testing Service</strong> allows to conduct in-app experiments to try different UI interactions with different groups of users. It supposedly also supports iOS, but requires specific APIs that would need development of LiveCode externals.</p><p>For more information refer to:</p><p>
<a class="ulink" href="https://developer.amazon.com/public/community/post/TxCVSAM1IG7NX2/Launch-Better-Apps-Announcing-Live-App-Testing">https://developer.amazon.com/public/community/post/TxCVSAM1IG7NX2/Launch-Better-Apps-Announcing-Live-App-Testing</a>
</p></div><div><div><div><div><h3 class="title"><a id="ch07lvl3sec31"/>Samsung testing</h3></div></div></div><p>To facilitate testing of apps, Samsung has developed <strong>Remote Testing Lab (RTL)</strong> facilities. These labs contain <a id="id569" class="indexterm"/>real devices that allow developers to upload and test their apps. To use these devices, you need to download and run a Java applet that connects your APK to a live device in the Samsung lab and provides an interface to interact with this device. This may have some potential in the future, but is included here for possible <a id="id570" class="indexterm"/>investigation. For more information on Samsung testing, refer to <a class="ulink" href="http://developer.samsung.com/remotetestlab/rtlAboutRTL.action"> http://developer.samsung.com/remotetestlab/rtlAboutRTL.action</a>.</p><div><h3 class="title"><a id="tip15"/>Tip</h3><p>The previous testing alternatives are the primary alternatives associated with the iOS and Android device manufacturers. Since Apple bought <strong>TestFlight</strong>, several other cross-platform testing solutions have picked up the slack. A quick search on the Internet shows <strong>HockeyApp</strong>, <strong>Crashlytics</strong>, <strong>Ubertesters</strong>, <strong>TestFairy</strong>, and others that may have potential as well.</p></div></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch07lvl1sec89"/>Creating an app store submission file</h1></div></div></div><p>The biggest hurdle 'that you need to overcome in order to make a version of your app that can be submitted to <a id="id571" class="indexterm"/>app stores is acquiring a distribution certificate. The process is quicker for Android, but does involve some typing to be done in the command line, and there is a slight difference if you are on Windows rather than Mac. The iOS process has many steps to it, but at least they don't involve typing cryptic commands. We'll look at Android first.</p><div><div><div><div><h2 class="title"><a id="ch07lvl2sec140"/>Finding and using the Android Keytool application</h2></div></div></div><p>One of the <a id="id572" class="indexterm"/>thing that was installed when you added <a id="id573" class="indexterm"/>the Java Development Kit is a tool to make a "keystore" file, which is a self-assigned certificate. It's this tool that is used to create the certificate you'll need in order to distribute an Android app.</p><p>On Mac, you don't need to find this application, you can simply type the command in the Terminal and you'll find the tool. On Windows, you need to navigate to the folder where Keytool is located first. Before getting that far, you have to first open the command line as Administrator.</p><p>On Windows, the CMD application is found at <code class="literal">C:\Windows\System32\</code>. Go to that directory in Windows Explorer, right-click on the file, and select <strong>Run as Administrator</strong>. The Keytool application will be in the bin folder of the Java JDK directory. Once you are at Command Prompt, change directories to get to that location, which will be something like <code class="literal">C:\Program Files\Java\jdkx.x.x_xx\bin\</code>, where the <code class="literal">jdkx.x.x_xx</code> part would actually be the version of the JDK that you have installed. You should be able to get all the way there <a id="id574" class="indexterm"/>with a line like the following, where cd is the command used to change directories:</p><div><pre class="programlisting">
<strong>C:\&gt; cd \Program Files\Java\jdk1.7.0_01\bin\</strong>
</pre></div><p>On Mac, you will <a id="id575" class="indexterm"/>use Terminal, which is located in <code class="literal">/Application/Utilites</code>. Just open Terminal and you'll immediately be able to use the Keytool application.</p><p>In either case, you will <a id="id576" class="indexterm"/>now type a relatively short line and then answer the various questions that appear. For better understanding of what is going on, visit:</p><p>
<a class="ulink" href="http://developer.android.com/guide/publishing/app-signing.html">http://developer.android.com/guide/publishing/app-signing.html</a>
</p><p>For our purpose, we'll just type in the right command, and all should go well, even if we don't understand what we typed!</p><p>This is the line that you need to type, changing the keystore and alias names to match the names you wish to use for this certificate:</p><div><pre class="programlisting">
<strong>keytool -genkey -v -keystore my-release-key.keystore</strong>
<strong>-alias alias_name -keyalg RSA -keysize 2048 -validity 10000</strong>
</pre></div><p>When you press the Enter or Return key, you will start to see a series of questions starting with the password you wish to use for the keystore. Further questions will ask for your full name, details about your company, city, and country. It's a set of data that can be encoded into a keystore that is unique and has enough accurate information through which a user can decide whether to trust the certificate.</p><p>When the tool is finished, you will have the keystore file that LiveCode requires. It will be easily available in your home folder on Mac and somewhat buried in the JDK bin folder on Windows.</p><p>Go to the <strong>Basic Application Settings</strong> of the <strong>Standalone Application Settings</strong> of your Mainstack and navigate to the file from the Key entry. Once chosen, this section will look like this:</p><div><img src="img/image00312.jpeg" alt="Finding and using the Android Keytool application"/></div><p style="clear:both; height: 1em;"> </p><p>If you have <a id="id577" class="indexterm"/>chosen your icons and splash screen and <a id="id578" class="indexterm"/>requirements and permissions, you should be able to build a version of the APK file that can be uploaded to app stores.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec141"/>Creating a distribution certificate for iOS</h2></div></div></div><p>As mentioned <a id="id579" class="indexterm"/>previously, there is no command line <a id="id580" class="indexterm"/>typing involved to get a distribution certificate for iOS, but there are a lot of steps involved. The First place to visit to get the certificate is the iOS Developer Portal to make sure that you have set up a dedicated App ID and Provisioning file for this particular app.</p><p>The following screenshot represents the steps taken to get a certificate and profile for an app that is to be named <code class="literal">EasyReminder</code>, which is the reminder app that we made earlier.</p><p>In the <strong>App IDs</strong> part of the portal, there is a <strong>+</strong> button that adds a new app ID to your account and asks for a name for that ID. Here, you can see that the ID is given the name <strong>EasyReminder</strong> and a Bundle Identifier <code class="literal">com.gerdeen.easyreminder</code>. This needs to match the <strong>Internal App ID </strong>set in LiveCode. If you are <em>not</em> member of multiple development teams, you will not see the App ID Prefix shown in the following screenshot:</p><div><img src="img/image00313.jpeg" alt="Creating a distribution certificate for iOS"/></div><p style="clear:both; height: 1em;"> </p><p>Now that <a id="id581" class="indexterm"/>there is an App ID, it can be used to set <a id="id582" class="indexterm"/>up a Distribution Provisioning Profile in the <strong>Provisioning</strong> section. If you haven't yet made a Distribution Certificate, you will see a button telling you to make one. Clicking on that button will present you a question about what kind of certificate you want to make:</p><div><img src="img/image00314.jpeg" alt="Creating a distribution certificate for iOS"/></div><p style="clear:both; height: 1em;"> </p><p>Clicking on the <a id="id583" class="indexterm"/>
<strong>Continue</strong> button takes you to a long <a id="id584" class="indexterm"/>description of how you have to make a request to the certificate authority and how to upload a file that Keychain Access generates. When you encounter this situation, carefully follow the steps shown in the following screenshot:</p><div><img src="img/image00315.jpeg" alt="Creating a distribution certificate for iOS"/></div><p style="clear:both; height: 1em;"> </p><p>After you have <a id="id585" class="indexterm"/>uploaded that certificate request file, you <a id="id586" class="indexterm"/>will be able to make a distribution profile that uses the dedicated App ID and the distribution certificate. The final entry will look like this, and you can use the <strong>Download</strong> button to get a local copy of the provisioning file:</p><div><img src="img/image00316.jpeg" alt="Creating a distribution certificate for iOS"/></div><p style="clear:both; height: 1em;"> </p><p>You now have the <a id="id587" class="indexterm"/>file that LiveCode requires, only you <a id="id588" class="indexterm"/>don't select it in the LiveCode settings. Instead, you double-click on the file and it installs itself using Xcode. Once it is in Xcode, you can then select it from the <strong>Profile</strong> menu in the <strong>Basic Application Settings</strong> in LiveCode:</p><div><img src="img/image00317.jpeg" alt="Creating a distribution certificate for iOS"/></div><p style="clear:both; height: 1em;"> </p><p>As with <a id="id589" class="indexterm"/>Android, make sure to add icons, splash <a id="id590" class="indexterm"/>screens, set requirements, and so on and you will be able to save an APP file, ready to go, to the iOS App Store.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch07lvl1sec90"/>Uploading to the app stores</h1></div></div></div><p>Each app <a id="id591" class="indexterm"/>store guides you through the steps of how to upload a <a id="id592" class="indexterm"/>new app and there are quite a lot of steps involved! It could take another book to show you all the screenshots you have to wade through. Showing these screenshots here would not be so valuable mainly because of their large quantity, but also because the process changes from time to time. For example, Google changed the name of their service from Android Market to Google Play.</p><p>There is some similarity between what each of the stores asks you, so we'll look at what preparations you might need before heading off to the stores. When you are ready to proceed with the uploading, these are the pages you need to start with for the respective app stores:</p><div><ul class="itemizedlist"><li class="listitem">iTunes Connect: <a class="ulink" href="https://itunesconnect.apple.com">https://itunesconnect.apple.com</a></li><li class="listitem">Google Play: <a class="ulink" href="https://play.google.com/apps/publish/">https://play.google.com/apps/publish/</a></li><li class="listitem">Amazon Appstore: <a class="ulink" href="https://developer.amazon.com/home.html">https://developer.amazon.com/home.html</a></li><li class="listitem">Samsung Apps: <a class="ulink" href="https://seller.samsungapps.com/">https://seller.samsungapps.com/</a></li></ul></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec142"/>What's similar</h2></div></div></div><p>All three app <a id="id593" class="indexterm"/>stores will ask for a description of what the app <a id="id594" class="indexterm"/>does, rating information, price, a support website or e-mail address, and category information. In order to ask a price, other than Free, you will have to set up a merchant account. In the case of Apple, you'll have to give a web page address for support. Google just asks for contact information and Amazon shows support as being optional. All three ask for screenshots and allow you to upload a demo video.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec143"/>What's different</h2></div></div></div><p>Apple asks for a <a id="id595" class="indexterm"/>lot of information, but spread over many screens. As you enter data, you will need screenshots and other information that you haven't gathered. You can <strong>Save</strong> what you have entered and come back later. Be sure to get it right before you click on <strong>Submit for Review</strong> because Apple does not allow you to change the information without uploading a newer version of the app.</p><p>The upload of the actual <a id="id596" class="indexterm"/>app file for iOS is handled by the Application Loader utility that comes as part of Xcode. To access Application Loader from the Xcode developer tools package, choose menu <strong>Xcode</strong> | <strong>Open Developer Tool</strong> | <strong>Application Loader</strong>.  You can also download it in your Application folder as described in the iTunes Connect support document at:</p><p>
<a class="ulink" href="https://itunesconnect.apple.com/docs/UsingApplicationLoader.pdf">https://itunesconnect.apple.com/docs/UsingApplicationLoader.pdf</a>
</p><p>Google asks for a lot of information, but it's all in their Developer Console. There are sections for uploading the <strong>APK</strong>, for completing the <strong>Store Listing</strong> and <strong>Pricing &amp; Distribution</strong> as well as other operations. Be careful if you set the price as free as you cannot change it and it's instantly and permanently declared a free app. To change it later, you would need to create a new app with a new package name and set a price for the new app.</p><p>Amazon asks for about the same information as Apple and Google. You can check whether your app works with Amazon by simply dragging it to their developer web page. They run a quick compatibility test and then run more tests on Android Nexus 7 and their Fire phones and tablets. You can start the submittal process for your app directly from the test results page, but then you need to establish a developer account and provide the same information as before.</p><p>Samsung Apps is an app store designed to provide apps specially customized for Samsung mobile phones. It is a focal point for both developers and Samsung handset users. Without actually signing up, it is difficult to get details of how the store works for non-Samsung devices. For additional information, review the article at <a class="ulink" href="http://www.pivoteast.com/guide-how-to-register-and-submit-apps-to-samsung-apps/">http://www.pivoteast.com/guide-how-to-register-and-submit-apps-to-samsung-apps/</a>.</p></div><div><div><div><div><h2 class="title"><a id="ch07lvl2sec144"/>Bottom line</h2></div></div></div><p>The submission process is just about the most stressful part of developing a mobile app! It makes you feel better about the other stages you've been through; perhaps those weren't so bad after all…</p><p>Hopefully, you have a partner who can be a second pair of eyes to help you understand all the questions to not miss something vital that will haunt you later.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch07lvl1sec91"/>Summary</h1></div></div></div><p>I don't know about you, but I'm beat! This mobile app developing business can be overwhelming. Even the administrative side of things can be quite involved. In this chapter, we covered some of the less programmatic tasks such as examining all the options in the Standalone Application Settings, fighting our way through command lines and red tape to get an app certified, and mentally preparing ourselves to submit our app to app stores.</p><p>We're at the end of the road as far as making use of mobile features in a LiveCode stack and taking them through to the point of making a real mobile app out of them is concerned. Next up, we'll look at a few add-ons to LiveCode that would enable you to use even more mobile features.</p></div></body></html>