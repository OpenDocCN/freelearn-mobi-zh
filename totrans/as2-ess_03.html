<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch03"/>Chapter 3. Navigating a Project</h1></div></div></div><p>Now that you have created your first Android Studio project, you will understand what is going on. Before you start programming, you need to familiarize yourself with the navigation in the project. How is everything structured? Which settings can you change in the project? How can you change these settings and what do they mean?</p><p>This chapter is designed to introduce the structure of a project in Android Studio. We will start by understanding the project navigation panel. Then, we will go through the most important folders in our project—<code class="literal">build</code>, <code class="literal">gen</code>, and <code class="literal">libs</code>—and the folders under <code class="literal">src/main</code>, and you will learn how to change the project settings.</p><p>These are the topics we'll be covering in this chapter:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The navigation panel</li><li class="listitem" style="list-style-type: disc">The project structure</li><li class="listitem" style="list-style-type: disc">Changing project properties</li></ul></div><div><div><div><div><h1 class="title"><a id="ch03lvl1sec17"/>The project navigation panel</h1></div></div></div><p>Initially, no <a class="indexterm" id="id61"/>project or file is displayed in the main view of Android Studio, as you can see in the next screenshot. As Android Studio suggests, press <em>Alt</em> +<em>1</em>, or <em>cmd 1</em> if you are using a Mac, to open the project view. You can also open it by clicking on the <strong>Project</strong> button on the left edge of the screen:</p><div><img alt="The project navigation panel" src="img/B05459_03_01.jpg"/></div><p>The <strong>Project</strong> view<a class="indexterm" id="id62"/> shows the list of the open projects. These projects are displayed in a hierarchical view. We can change the type of view from the upper-left corner of the project explorer. In the upper-right corner of the <strong>Project</strong> view, there are some actions and a drop-down menu to configure the selected type of the <strong>Project</strong> view. These actions are highlighted in the following screenshot:</p><div><img alt="The project navigation panel" src="img/B05459_03_02.jpg"/></div><p>Open the<a class="indexterm" id="id63"/> view selector from the upper-left corner to see the complete list of view types that you can select, which the following screenshot shows:</p><div><img alt="The project navigation panel" src="img/B05459_03_03.jpg"/></div><p>These are<a class="indexterm" id="id64"/> the available types of view to navigate through your project:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Project</strong>: This<a class="indexterm" id="id65"/> view shows the directory structure of the project.</li><li class="listitem" style="list-style-type: disc"><strong>Packages</strong>: It <a class="indexterm" id="id66"/>shows only the package structure.</li><li class="listitem" style="list-style-type: disc"><strong>Scratches</strong>: It<a class="indexterm" id="id67"/> shows only the scratches files that you created in your project. Scratch files are runnable and debuggable files that are used for code prototyping. You can create a new scratch file using the menu option by navigating to <strong>Tools</strong> | <strong>New Scratch File</strong>.</li><li class="listitem" style="list-style-type: disc"><strong>Android</strong>: It <a class="indexterm" id="id68"/>shows only the folders where you, as a developer, will include or edit your application files. This view is very convenient to easily access all the files that you really need. These folders are related only to the Android application listed in a simplified structure: the <code class="literal">java</code> classes folder, the <code class="literal">res</code> resources folder, the <code class="literal">manifest</code> file, and the Gradle scripts. Since the purpose of this view type is presenting a simplified structure, it doesn't match the real folder structure.</li><li class="listitem" style="list-style-type: disc"><strong>Scopes</strong> (<strong>Project Files</strong>, <strong>Problems</strong>, <strong>Production</strong>, <strong>Tests</strong>, and <strong>Android Instrumentation Tests</strong>): Scopes are subsets of your project files, packages, and folders. If you <a class="indexterm" id="id69"/>select one of the predefined scopes, you can create your own customized scopes from the configuration menu in the upper-right corner of the <strong>Project</strong> view. Open the configuration menu and select the <strong>Edit Scopes</strong> option. By default, you will see the next predefined scopes:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Project Files</strong>: This scope shows all the files in your project</li><li class="listitem" style="list-style-type: disc"><strong>Problems</strong>: This scope shows all the files with errors in your project</li><li class="listitem" style="list-style-type: disc"><strong>Production</strong>: This scope shows all the files in your project that are not test files</li><li class="listitem" style="list-style-type: disc"><strong>Tests</strong>: This scope shows all the test files</li><li class="listitem" style="list-style-type: disc"><strong>Android Instrumentation Tests</strong>: This scope shows all the instrumented test files</li></ul></div></li></ul></div><p>Right-click on the project name to open the context menu or click on any element of the project. As you can see in the following screenshot, from this menu, we can:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Create and add new elements to the project</li><li class="listitem" style="list-style-type: disc">Cut, copy, paste, or rename files in the project</li><li class="listitem" style="list-style-type: disc">Find elements in the project</li><li class="listitem" style="list-style-type: disc">Analyze and reformat the code</li><li class="listitem" style="list-style-type: disc">Build the project</li><li class="listitem" style="list-style-type: disc">Compare<a class="indexterm" id="id70"/> files</li><li class="listitem" style="list-style-type: disc">Open files in Explorer<div><img alt="The project navigation panel" src="img/B05459_03_04.jpg"/></div></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec18"/>The project structure</h1></div></div></div><p>We can <a class="indexterm" id="id71"/>examine the project structure in the project navigation pane using the <strong>Project</strong> view type. The project structure includes a folder with the name of our application. This folder contains the application structure and files. The most important elements <a class="indexterm" id="id72"/>of the application structure are in the <code class="literal">app</code> directory. These include the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">build/</code>: This is<a class="indexterm" id="id73"/> a folder that contains the resources compiled after building the application and the classes generated by the Android tools, such as the <code class="literal">R.java</code> file that contains the references to the application resources.</li><li class="listitem" style="list-style-type: disc"><code class="literal">libs/</code>: This is <a class="indexterm" id="id74"/>a folder that contains the libraries referenced from our code.</li><li class="listitem" style="list-style-type: disc"><code class="literal">src/androidTest/</code>: This is a folder that contains the test classes of the Java classes<a class="indexterm" id="id75"/> that need to be tested.</li><li class="listitem" style="list-style-type: disc"><code class="literal">src/main/</code>: This <a class="indexterm" id="id76"/>is a folder that contains the sources of our application. All the files you will usually work with are in this folder. The <code class="literal">main</code> folder is subdivided as follows:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">java/</code>: This is a folder that contains the Java classes organized as packages. Every class we create will be in our project package namespace (<code class="literal">com.example.myapplication</code>). When we created our first project, we also created its main activity, so the activity class should be in this package. The next screenshot shows this main activity class inside the project structure:<div><img alt="The project structure" src="img/B05459_03_05.jpg"/></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">res/</code>: This is a folder that contains project resources such as the XML files that specify layouts and menus, or the images files.</li><li class="listitem" style="list-style-type: disc"><code class="literal">AndroidManifest.xml</code>: This is an essential file in an Android project, which is generated automatically when we create the project. This file declares the basic information needed by the Android system to run the application: package name, version, activities, permissions, intents, or required hardware.</li></ul></div></li><li class="listitem" style="list-style-type: disc"><code class="literal">build.gradle</code>: This file is the script used to build our application. We will discuss how<a class="indexterm" id="id77"/> to configure options in this file in<a class="indexterm" id="id78"/> the <em>Gradle</em> subsection of this chapter.</li></ul></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec10"/>The resources folder</h2></div></div></div><p>The resources <a class="indexterm" id="id79"/>are all non-code assets associated with our <a class="indexterm" id="id80"/>application. Elements such as images or strings are externalized from the code as resources, making it easy to update them without changing the code. Some examples of resources include colors, images, graphics, layouts, strings, and styles. The resources are distributed to the following folders:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">anim/</code>: This is<a class="indexterm" id="id81"/> a folder that contains animation objects as XML files.</li><li class="listitem" style="list-style-type: disc"><code class="literal">color/</code>: This is a<a class="indexterm" id="id82"/> folder that contains the color state lists used in our application. The color state lists define colors and color changes based on the component states.</li><li class="listitem" style="list-style-type: disc"><code class="literal">drawable/</code>: This is<a class="indexterm" id="id83"/> a folder that contains the images and the XML files describing the drawable objects used in our application.</li><li class="listitem" style="list-style-type: disc"><code class="literal">mipmap/</code>: This<a class="indexterm" id="id84"/> is a folder that contains the launcher icons of your app. There are different drawable folders categorized into the different screen densities. When we created our first project, a default application icon was created as well. This icon, named <code class="literal">ic_launcher.png</code>, is already in these folders.</li><li class="listitem" style="list-style-type: disc"><code class="literal">layout/</code>: This is <a class="indexterm" id="id85"/>a folder that contains the XML definitions of the views and their elements.</li><li class="listitem" style="list-style-type: disc"><code class="literal">menu/</code>: This is <a class="indexterm" id="id86"/>a folder that contains the XML definitions of the menus for the application.</li><li class="listitem" style="list-style-type: disc"><code class="literal">values/</code>: This<a class="indexterm" id="id87"/> is a folder that contains the XML files that define sets of name-value pairs. These values can be colors, strings, or styles. There are different values folders that are categorized into different screen options to adapt the interface to them; for example, to enlarge the components or the fonts when the application is running on a tablet.</li></ul></div><p>Our basic project contains some basic resources. Therefore, all the folders discussed here are not necessarily included by default.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec11"/>The manifest file</h2></div></div></div><p>The <code class="literal">AndroidManifest.xml</code> file is a mandatory file that contains crucial information that the <a class="indexterm" id="id88"/>Android system needs about your app. The two essential XML tags<a class="indexterm" id="id89"/> that the manifest file must contain are the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">&lt;manifest&gt;</code>: The root <a class="indexterm" id="id90"/>element of the XML file. The <code class="literal">package</code> attribute defines the Java package name of your app, which is the unique identifier of your app. Other attributes of this element allow you to set the version code (<code class="literal">android:versionCode</code>) or the version name (<code class="literal">android:versionName</code>).</li><li class="listitem" style="list-style-type: disc"><code class="literal">&lt;application&gt;</code>: This element in <code class="literal">&lt;manifest&gt;</code> contains the rest of the elements <a class="indexterm" id="id91"/>of your app, such as activities (<code class="literal">&lt;activity&gt;</code>), services (<code class="literal">&lt;service&gt;</code>), or content providers (<code class="literal">&lt;provider&gt;</code>) elements. You can specify several attributes for this element that allow you, for example, to set the app as debuggable (<code class="literal">android:debuggable</code>), set a user-readable label for the app (<code class="literal">android:label</code>) or set whether your app allows backup (<code class="literal">android:allowBackup</code>).</li></ul></div><p>The manifest file also declares the permissions and features that your app needs. For example, if your app needs Internet access, the manifest has to add it into the manifest file:</p><div><pre class="programlisting">&lt;uses-permission android:name="android.permission.INTERNET" /&gt;</pre></div><p>You can also present information about the SDK to the Android system using the manifest file. Use the <code class="literal">&lt;uses-sdk&gt;</code> element and its attributes to indicate the minimum SDK version that your app supports and your target SDK.</p></div><div><div><div><div><h2 class="title"><a id="ch03lvl2sec12"/>Gradle</h2></div></div></div><p>Applications in <a class="indexterm" id="id92"/>Android Studio are built using <strong>Gradle</strong>. It is a build<a class="indexterm" id="id93"/> automation tool that is independent of Android Studio, but totally<a class="indexterm" id="id94"/> integrated with it. Gradle uses an extensible and declarative <strong>domain-specific language</strong> (<strong>DSL</strong>) that is based on Groovy, which is an object-oriented programming language for the Java platform. A Gradle build file consists of one or more projects, and each project contains one or more tasks. A task represents a<a class="indexterm" id="id95"/> piece of work to be built. You can learn more about Gradle at <a class="ulink" href="http://www.gradle.org/">http://www.gradle.org/</a>.</p><p>The<a class="indexterm" id="id96"/> configuration for the build process is declared in the Gradle build files included in the Android projects. As explained previously, in the project structure, the build configuration file of the Android application is defined in the <code class="literal">/app/build.gradle</code> file. Some of the main options we can configure in this file are as follows:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Variants</strong>: We<a class="indexterm" id="id97"/> can configure different versions of our application using the same project, for example, to create demo and paid versions. The variants depend on the build type (the <code class="literal">buildTypes</code> tag) and product flavor configurations (the <code class="literal">productFlavors</code> tag). For example, two build types are <code class="literal">debug</code> and <code class="literal">release</code>, and two product flavors are demo and paid versions. In your app's Gradle build file, you will find the <code class="literal">buildType</code> for release:<div><pre class="programlisting">buildTypes {
   release {
      …
   }
}</pre></div></li><li class="listitem" style="list-style-type: disc"><strong>Dependencies</strong>: We can indicate the local or remote dependencies of our project <a class="indexterm" id="id98"/>on other modules or libraries. These dependencies are declared under the <code class="literal">dependencies</code> tag. In your app's Gradle build file, you will find a dependency to the JAR files contained in the <code class="literal">lib</code> folder of your project, and to JUnit, the testing framework:<div><pre class="programlisting">dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    testCompile 'junit:junit:4.12'
}</pre></div></li><li class="listitem" style="list-style-type: disc"><strong>Manifest entries</strong>: We can override some entries of the Android manifest file in the build file, providing a dynamic configuration of the <code class="literal">manifest</code> file. For example, we <a class="indexterm" id="id99"/>can override the values of the package name, the minimum SDK, or the target SDK. These configurations are defined under the <code class="literal">android/defaultConfig</code> tags:<div><pre class="programlisting">defaultConfig {
    applicationId "com.example.myapplication"
    minSdkVersion 16
    targetSdkVersion 23
    versionCode 1
    versionName "1.0"
}</pre></div></li><li class="listitem" style="list-style-type: disc"><strong>Signing</strong>: We <a class="indexterm" id="id100"/>can activate the application signing<a class="indexterm" id="id101"/> for the release version. The build system uses a default certificate to sign the debug version of the application. We can configure our key and certificate to sign the release version as well. These configurations are defined under the <code class="literal">android/signingConfigs</code> tags. You will learn how to sign your app in <a class="link" href="ch09.html" title="Chapter 9. Preparing for Release">Chapter 9</a>, <em>Preparing for Release</em>.</li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec19"/>Project settings</h1></div></div></div><p>You can <a class="indexterm" id="id102"/>navigate to the two dialogs that contain project settings using <strong>File</strong> | <strong>Settings</strong> and <strong>File</strong> | <strong>Project Structure</strong>. Both are also available in the toolbar:</p><div><img alt="Project settings" src="img/B05459_03_06.jpg"/></div><p>Select your project from the project view and navigate to the <strong>Settings</strong> menu in <strong>File</strong>. The left-hand-side<a class="indexterm" id="id103"/> panel of the <strong>Settings</strong> dialog displays the options structured in the following sections:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>Appearance &amp; Behavior</strong>: You can change the appearance and behavior of Android Studio such as font size, theme, updates, passwords, or scopes management.</li><li class="listitem" style="list-style-type: disc"><strong>Keymap</strong>: This manages the keyboard shortcuts.</li><li class="listitem" style="list-style-type: disc"><strong>Editor</strong>: This customizes the code editor by selecting colors, using templates or changing the encoding. The default encoding is UTF-8. You will learn more about the <strong>Editor</strong> settings in <a class="link" href="ch04.html" title="Chapter 4. Using the Code Editor">Chapter 4</a>, <em>Using the Code Editor</em>.</li><li class="listitem" style="list-style-type: disc"><strong>Plugins</strong>: This manages the plugins. You can install and remove plugins, enable or disable them, or you can check their version.</li><li class="listitem" style="list-style-type: disc"><strong>Version Control</strong>: In this section, you can find settings related to version control; for example, you can configure the background execution or add files to ignore. Version control will be explained in more detail in <a class="link" href="ch06.html" title="Chapter 6. Tools">Chapter 6</a>, <em>Tools</em>.</li><li class="listitem" style="list-style-type: disc"><strong>Build</strong>, <strong>Execution</strong>, <strong>Deployment</strong>: In this section, you can configure the build tools such as Gradle, the compiler, and the debugger.</li><li class="listitem" style="list-style-type: disc"><strong>Languages &amp; Frameworks</strong>: These are settings related to the frameworks used in your project.</li><li class="listitem" style="list-style-type: disc"><strong>Tools</strong>: This section includes the settings related to other tools. You can manage the web browsers, the terminal, or add server certificates.</li></ul></div><p>Some of these settings are general settings, but some others are only for the current project. You can differentiate the current project settings by the icon that appears next to them, or from the label in the settings header, <strong>For current project</strong>, as the next screenshot shows:</p><div><img alt="Project settings" src="img/B05459_03_07.jpg"/></div><p>In addition <a class="indexterm" id="id104"/>to these <strong>Settings</strong>, there are further settings in the <strong>Project Structure</strong> dialog. Navigate to <strong>File</strong> | <strong>Project Structure</strong> menu. The settings include the following:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><strong>SDK Location</strong>: You can change the project SDK. In <a class="link" href="ch01.html" title="Chapter 1. Installing and Configuring Android Studio">Chapter 1</a>, <em>Installing and Configuring Android Studio</em>, we selected an SDK as the default. In this screen, we can change this SDK, just for the current project.</li><li class="listitem" style="list-style-type: disc"><strong>Project</strong>: You can change the Gradle version or the plugin and library repository.</li><li class="listitem" style="list-style-type: disc"><strong>Developer Services</strong>: You can configure several developer services in your app. The available services are the following: <strong>Ads</strong> (AdMob), <strong>Analytics</strong> (Google Analytics), <strong>Authentication</strong> (Google Sign-In), <strong>Cloud</strong> (Firebase), and <strong>Notifications</strong> (Google Cloud Messaging).</li><li class="listitem" style="list-style-type: disc"><strong>Modules</strong>: According<a class="indexterm" id="id105"/> to IntelliJ IDEA (<a class="ulink" href="http://www.jetbrains.com/idea/webhelp/module.html">http://www.jetbrains.com/idea/webhelp/module.html</a>), the following is the <a class="indexterm" id="id106"/>definition of a module:<div><blockquote class="blockquote"><p><em>"A module is a discrete unit of functionality which you can compile, run, test, and debug independently."</em></p></blockquote></div><p>This <strong>Modules</strong> menu shows a list of the existing modules with their facets. The default module we have in our project is the <code class="literal">app</code> module. The settings tabs correspond to the following Gradle build file configurations: <strong>Properties</strong>, <strong>Signing</strong>, <strong>Flavors</strong>, <strong>Build Types</strong>, and <strong>Dependencies</strong>.</p></li></ul></div><p>You can<a class="indexterm" id="id107"/> add new modules to your project by clicking on the add button in the upper-left corner of the <strong>Project Structure</strong> dialog. This action will open a module selector wizard as shown in the following screenshot:</p><div><img alt="Project settings" src="img/B05459_03_08.jpg"/></div><p>You can select <a class="indexterm" id="id108"/>one of the following module types: <strong>Phone &amp; Tablet Module</strong>, <strong>Android Library</strong>, <strong>Android Wear Module</strong>, <strong>Android TV Module</strong>, <strong>Glass Module</strong>, <strong>Import Gradle Project</strong>, <strong>Import Eclipse ADT Project</strong>, <strong>Import .JAR/.AAR Package</strong>, <strong>Java Library</strong>, or <strong>Google Cloud Module</strong>.</p></div>
<div><div><div><div><h1 class="title"><a id="ch03lvl1sec20"/>Summary</h1></div></div></div><p>We saw how projects are presented in Android Studio and which folders they contain by default when created. We explored the reasons for having those folders and examined the <code class="literal">AndroidManifest.xml</code> file and its purpose. We also went through the project settings in the <strong>Preferences</strong> and <strong>Project Structure</strong> dialogs. By now, you should know how to manipulate and navigate through a project in Android Studio.</p><p>In the next chapter, we will discuss how to use the text editor. Proper knowledge of the text editor is important in order to improve our programming efficiency. You will learn about the editor settings and how to autocomplete code, use pregenerated blocks of code, and navigate through the code. You will also learn about some useful shortcuts.</p></div></body></html>