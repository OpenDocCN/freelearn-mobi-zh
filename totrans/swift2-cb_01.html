<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;1.&#xA0;Getting Started with Xcode and Swift" id="DB7S1-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01" class="calibre1"/>Chapter 1. Getting Started with Xcode and Swift</h1></div></div></div><p class="calibre7">In this chapter, we will cover the following recipes:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Installing Xcode from the App Store</li><li class="listitem">Downloading the Xcode image</li><li class="listitem">Starting a Swift project</li><li class="listitem">Using Swift project options</li><li class="listitem">Creating conditional code</li><li class="listitem">Migrating an existing project to Swift 2.0</li><li class="listitem">Adding a developer account</li><li class="listitem">Compiling from the command line</li><li class="listitem">Using Swift as an interpreter</li><li class="listitem">Adding a control version system to an existing project</li></ul></div></div>

<div class="book" title="Chapter&#xA0;1.&#xA0;Getting Started with Xcode and Swift" id="DB7S1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="Introduction"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch01lvl1sec08" class="calibre1"/>Introduction</h1></div></div></div><p class="calibre7">In this chapter, we will learn the basics of creating a project with Swift. Even if you have already created your own project, it is worth reading the recipes of this chapter. You will learn how to interact with Xcode, how to test your code from the command line, and at the end, we will review the basics of this language.</p><p class="calibre7">Before downloading <a id="id0" class="calibre1"/>Xcode, note that Swift requires Xcode 6.0 for Swift 1.0, and 1.2 or Xcode 7.0 for Swift 2.0 and 2.1. We will be installing Xcode 7.0 (the latest version, as of this writing). To install version 7.0 of Xcode, you must have at least OS X Yosemite (OS X 10.10), so meet these requirements before installing it.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Installing Xcode from the App Store" id="E9OE1-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec09" class="calibre1"/>Installing Xcode from the App Store</h1></div></div></div><p class="calibre7">The first <a id="id1" class="calibre1"/>way of installing Xcode is by downloading it <a id="id2" class="calibre1"/>from the App Store. The advantage of this method is that you will be warned about updates, and the system requirements will be checked before the download starts.</p></div>

<div class="book" title="Installing Xcode from the App Store" id="E9OE1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec06" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">To download any program from the App Store, you must have an Apple ID; it's free and it won't take long to set up.</p></div></div>

<div class="book" title="Installing Xcode from the App Store" id="E9OE1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How to do it…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec07" class="calibre1"/>How to do it…</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">To download Xcode from the App Store, just open <span class="strong"><strong class="calibre8">App Store</strong></span> from your dock or your applications folder.<div class="mediaobject"><img src="../images/00002.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="2">The first time you open the App Store, it will ask you for your Apple ID details (e-mail and password). After opening this application, just search for <code class="email">xcode</code> in the textbox, which is located on the upper-right corner of this application.<div class="mediaobject"><img src="../images/00003.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="3">Make sure that you are installing Xcode from the right vendor (Apple); sometimes we get results that lead us to think that they are what we want but they aren't.</li><li class="listitem" value="4">Once <a id="id3" class="calibre1"/>you have found the Xcode app, just <a id="id4" class="calibre1"/>click on the <span class="strong"><strong class="calibre8">Install</strong></span> button, and the next step is to go for coffee, or you can call a friend, because Xcode is 2.2 gigabytes, which means that it will take a while to download, so take a break now.</li><li class="listitem" value="5">To check whether Xcode has finished the installation, you just need to open the <span class="strong"><strong class="calibre8">Applications</strong></span> folder or the Launchpad app, then have a look to see whether there is a progress bar under the Xcode icon.</li></ol><div class="calibre13"/></div></div></div>

<div class="book" title="Installing Xcode from the App Store" id="E9OE1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How it works…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec08" class="calibre1"/>How it works…</h2></div></div></div><p class="calibre7">Like any other application that you will install from the App Store, you only need to open the App Store application, search for it, and install it.</p></div></div>

<div class="book" title="Installing Xcode from the App Store" id="E9OE1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="There's more…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec09" class="calibre1"/>There's more…</h2></div></div></div><p class="calibre7">If you buy a new computer, you will see that Xcode will be offered to be installed onto your new machine. This is because Apple keeps track of the applications you've already installed.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Downloading the Xcode image" id="F8901-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec10" class="calibre1"/>Downloading the Xcode image</h1></div></div></div><p class="calibre7">The second <a id="id5" class="calibre1"/>way of installing Xcode is by downloading an image from the Apple Developer Center; this step is not free, it's only available to members of the Apple Developer Program (which costs approximately $99 a year) or for people who work in companies that are members of this program.</p></div>

<div class="book" title="Downloading the Xcode image" id="F8901-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec10" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">For this recipe, you will need to have 2.2 gigabytes of free space besides the space stored by the installed Xcode, but I will assume that you won't have this problem.</p><p class="calibre7">The advantage of downloading a DMG file is that you can save it onto a DVD as a backup (you never know when this version of Xcode will be removed from the App Store). Also, if you work in a team, it is very important to have every member working with the same <a id="id6" class="calibre1"/>Xcode version. In addition, if you want to install any beta version of Xcode, it will only be available through the Apple Developer Center.</p></div></div>

<div class="book" title="Downloading the Xcode image" id="F8901-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How to do it…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec11" class="calibre1"/>How to do it…</h2></div></div></div><p class="calibre7">To download the Xcode image, follow these steps:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">The first step is to open your web browser; go to <a class="calibre1" href="http://developer.apple.com/xcode">http://developer.apple.com/xcode</a>, then click the download button in the top-right corner <a id="id7" class="calibre1"/>of the web page. You will be brought to a new page with two download options: the latest beta build or a link to the Mac App Store. If you select to download the beta build, a login will be required. The download will begin immediately after logging in. Otherwise you can download the latest public build for free in the Mac App Store.<div class="note" title="Note"><h3 class="title2"><a id="tip02" class="calibre1"/>Tip</h3><p class="calibre7">You can have multiple versions of Xcode on a single machine; specifically, the public release and any beta versions made available by Apple.</p></div></li><li class="listitem" value="2">After downloading the DMG file, double-click on it and drag the Xcode icon into your <span class="strong"><strong class="calibre8">Applications</strong></span> folder. Remember that you need the administrator's permission to copy files into the <span class="strong"><strong class="calibre8">Applications</strong></span> folder.<div class="mediaobject"><img src="../images/00004.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="3">You can also install Xcode onto a different path such as your home directory, but I wouldn't recommend this if it's not necessary.<div class="note" title="Note"><h3 class="title2"><a id="tip03" class="calibre1"/>Tip</h3><p class="calibre7">Don't search for "download Swift" on your search engine as there is another programming language that is also <a id="id8" class="calibre1"/>called <span class="strong"><strong class="calibre8">Swift</strong></span>, which has nothing to do with Apple devices.</p></div></li></ol><div class="calibre13"/></div></div></div>

<div class="book" title="Downloading the Xcode image" id="F8901-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How it works…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec12" class="calibre1"/>How it works…</h2></div></div></div><p class="calibre7">The DMG file <a id="id9" class="calibre1"/>ensures that you can always have a backup of this Xcode version, so if for any reason you have problems with future versions of Xcode, you can install the previous version. It is also possible to have more than one Xcode version installed onto your computer.</p></div></div>

<div class="book" title="Downloading the Xcode image" id="F8901-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="There's more…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec13" class="calibre1"/>There's more…</h2></div></div></div><p class="calibre7">The Apple Developer Center is a good website to get Xcode resources. Here, you can find videos, guides, code samples, and add-ons.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Starting a Swift project"><div class="book" id="G6PI2-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec11" class="calibre1"/>Starting a Swift project</h1></div></div></div><p class="calibre7">Usually, starting <a id="id10" class="calibre1"/>Swift is something that is very straightforward; however, it is good to know what is going on in every step.</p></div>

<div class="book" title="Starting a Swift project">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec14" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">Before you start a project, make sure that you know your project name and in which folder it will be saved. Changing this kind of parameter can create problems after the project has been created. Once you have Xcode installed, you can open it from your application folder, from the Launch pad, or even from your dock if you have added Xcode onto it. As I'm a very lazy person, I prefer the latter; it's faster for me to have it on my dock.</p></div></div>

<div class="book" title="Starting a Swift project">
<div class="book" title="How to do it…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec15" class="calibre1"/>How to do it…</h2></div></div></div><p class="calibre7">The first time you open Xcode, it's possible that it will ask to install some additional packages, so do it. Some of these packages are important, depending on the type of application you are developing, and some of them are necessary to have access for some devices, mainly the newest ones.</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Now, Xcode is asking you about the project you want to start or open. Check the option that says <span class="strong"><strong class="calibre8">Create a new Xcode project</strong></span>.<div class="mediaobject"><img src="../images/00005.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p><p class="calibre15">If, for any reason, this window is not shown to you, there is always the option to go to <span class="strong"><strong class="calibre8">File</strong></span> (on the menu bar) | <span class="strong"><strong class="calibre8">New</strong></span> | <span class="strong"><strong class="calibre8">Project</strong></span>.</p></li><li class="listitem" value="2">The next step is to choose the type of project that you want to develop. For this example, I will use a <span class="strong"><strong class="calibre8">Single View Application</strong></span> for iOS, but I'll make comments if <a id="id11" class="calibre1"/>there is anything different on OS X applications or for another type of project.<div class="mediaobject"><img src="../images/00006.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p><p class="calibre15">The next dialog will ask you for some project information, one example being the programming language that you want to use. In this example, we will use Swift.</p><div class="mediaobject"><img src="../images/00007.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="3">Choose <a id="id12" class="calibre1"/>Swift as the language and it will create the application with its delegate, with Swift code. Make sure that <span class="strong"><strong class="calibre8">Use Core Data</strong></span> is unchecked to prevent having its code on the app delegate.<p class="calibre15">You will also notice that Swift iOS applications now have no files called <code class="email">main.m</code>, <code class="email">main.mm</code>, or <code class="email">main.swift</code>. OS X apps have a <code class="email">main.swift</code> file, but it is smaller than the previous <code class="email">main.m</code> file.</p><p class="calibre15">As you should already know, the product name is your application name, the organization name is the proprietary of this software, and the organization identifier is the reversed Internet domain, for example, <code class="email">uk.co.packtpub</code> instead of <code class="email">packtpub.co.uk</code>.</p><div class="note" title="Note"><h3 class="title2"><a id="note02" class="calibre1"/>Note</h3><p class="calibre7">Note that now there is no checkbox for creating unit tests because, by default, it is created for you using XCTest. If you don't want it, just remove the group from your project. I wouldn't remove it, it usually doesn't hurt.</p></div></li><li class="listitem" value="4">Now, it's time to choose a folder to store our project. Remember that during the development, you can add files, which will be stored in different locations. I don't recommend this kind of practice, but if you have to do so, try to have your project close to these files.</li><li class="listitem" value="5">I also recommend you to check the option to use a Git repository, except if you have a <a id="id13" class="calibre1"/>subversion repository, of course. Even if you are the only developer, it's important to have a version control system. Remember that we are humans, and sometimes we make mistakes and so have to go back.<div class="mediaobject"><img src="../images/00008.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="6">Once you have the project created, press the play button to see it working. If it's the first time you have installed Xcode, it will show you a dialog asking you to enable the developer mode. Click on the <span class="strong"><strong class="calibre8">Enable</strong></span> button if you have the <a id="id14" class="calibre1"/>administrator password.<div class="mediaobject"><img src="../images/00009.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="7">Ok! Now you have your project up and running.</li></ol><div class="calibre13"/></div></div></div>

<div class="book" title="Starting a Swift project">
<div class="book" title="How it works…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec16" class="calibre1"/>How it works…</h2></div></div></div><p class="calibre7">Creating a project is not something difficult; you only need to pay attention to some steps. Make sure that you have selected Swift as the main programming language; otherwise, you will see a lot of stuff with Objective-C.</p><p class="calibre7">Pay attention to the folder where you will create your project. Xcode will create another folder with your project name, and inside of it, Xcode will create the project bundle, a folder with the source code. If you want to copy your project, make sure that you copy the folder that contains everything.</p></div></div>

<div class="book" title="Starting a Swift project">
<div class="book" title="There's more…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec17" class="calibre1"/>There's more…</h2></div></div></div><p class="calibre7">If you want to work on a team that has already started a project, you will probably clone the project using the <span class="strong"><strong class="calibre8">Check out an existing project</strong></span> option. You will use a Git or a subversion repository and you will have your code synchronized with the other members of the team. Xcode offers <a id="id15" class="calibre1"/>us the basic tools to work with a <span class="strong"><strong class="calibre8">VCS</strong></span> (<span class="strong"><strong class="calibre8">version </strong></span><a id="id16" class="calibre1"/>
<span class="strong"><strong class="calibre8">control system</strong></span>); these are enough for 80 percent of our tasks.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Using the Swift project options" id="H5A41-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec12" class="calibre1"/>Using the Swift project options</h1></div></div></div><p class="calibre7">Xcode projects <a id="id17" class="calibre1"/>come with lots of options. Here, we will know some of them, mainly the Swift-specific ones.</p></div>

<div class="book" title="Using the Swift project options" id="H5A41-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec18" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">To perform this recipe, just create a new project, as shown in the previous recipe.</p></div></div>

<div class="book" title="Using the Swift project options" id="H5A41-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How to do it…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec19" class="calibre1"/>How to do it…</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Once you've created a project, click on the navigator project icon or press <span class="strong"><em class="calibre9">command + 1</em></span> if you prefer a keyboard shortcut, then click on your project icon (the first icon). Now, click on <span class="strong"><strong class="calibre8">Build Settings</strong></span>.<div class="mediaobject"><img src="../images/00010.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="2">Look for <span class="strong"><strong class="calibre8">Embedded Content Contains Swift Code</strong></span>; in this case, we will select <span class="strong"><strong class="calibre8">No</strong></span>, but <a id="id18" class="calibre1"/>of course, if you know that there is any extra content created with Swift, you should select <span class="strong"><strong class="calibre8">Yes</strong></span>.<div class="mediaobject"><img src="../images/00011.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="3">Go to the <span class="strong"><strong class="calibre8">General</strong></span> tab and scroll down; you can see where you can add the embedded binaries.<div class="mediaobject"><img src="../images/00012.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="4">Now, look for <span class="strong"><strong class="calibre8">Optimization Level</strong></span>. Here is where you tell the compiler how much time it should expend trying to make your code faster or compress it. Usually, when we <a id="id19" class="calibre1"/>are developing (debug mode), we set for no optimization (-O0); however, when we are going to create the final product (release mode), we will usually set an optimization level such as Os, which means fastest and smallest.<div class="note" title="Note"><h3 class="title2"><a id="note03" class="calibre1"/>Note</h3><p class="calibre7">Sometimes, with Objective-C, when you used to set a high level of optimization, the debugger used to lose some of the variable values. I haven't seen this phenomenon with Swift yet, but it's good to have it in mind.</p></div></li><li class="listitem" value="5">Another important option is <span class="strong"><strong class="calibre8">Import paths</strong></span>. This tells Swift where it should look for Swift modules. If you are linking your project with external libraries, you may need to specify where the <code class="email">module.map</code> file is. If you have more than one path to search, you need to set them one per line. If you have different paths for debug and release, you can still use variables such as <code class="email">$(CONFIGURATION)</code> or <code class="email">$(TARGET)</code>.<div class="note" title="Note"><h3 class="title2"><a id="tip04" class="calibre1"/>Tip</h3><p class="calibre7">You can use absolute or relative paths, but I would give preference to the relative ones.</p></div></li></ol><div class="calibre13"/></div></div></div>

<div class="book" title="Using the Swift project options" id="H5A41-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How it works…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec20" class="calibre1"/>How it works…</h2></div></div></div><p class="calibre7">Changing settings is something that you have to do mainly when your project starts growing. There are some options that you set differently for debug and release configurations.</p></div></div>

<div class="book" title="Using the Swift project options" id="H5A41-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="There's more…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec21" class="calibre1"/>There's more…</h2></div></div></div><p class="calibre7">Xcode has a lot of configuration settings; showing all of them would be out of the scope of this book. I recommend that you at least look at some of them, mainly if you want to work with big projects. My main recommendation here is: do not change your settings without synchronizing <a id="id20" class="calibre1"/>with the other members of your team (mainly with the project manager). If you cause a conflict with the VCS, it could be hard work to fix it.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Creating conditional code" id="I3QM1-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec13" class="calibre1"/>Creating conditional code</h1></div></div></div><p class="calibre7">Usually when we are developing, we have some cases where we would like to have different pieces of <a id="id21" class="calibre1"/>code according to our needs. For example, let's imagine that we would like to compare the performance of some functions written by us with some equivalent functions that were created on a third-party library. In this case, we can create some macros for using only our functions or for using only the third-party functions, allowing us to have the same application working in two different ways.</p><p class="calibre7">In this recipe, we will show you how to create a log according to a platform and we can also enable or disable it if the execution is being affected by the excess of logs.</p></div>

<div class="book" title="Creating conditional code" id="I3QM1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec22" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">Create a new project called <code class="email">Chapter 1 Conditional Code</code>, as shown earlier, and let's code a little bit.</p></div></div>

<div class="book" title="Creating conditional code" id="I3QM1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How to do it…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec23" class="calibre1"/>How to do it…</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">After creating a new project, let's create a new file by navigating to <span class="strong"><strong class="calibre8">File</strong></span> | <span class="strong"><strong class="calibre8">New</strong></span> | <span class="strong"><strong class="calibre8">File...</strong></span>. Now, choose <span class="strong"><strong class="calibre8">Swift File</strong></span> and name it <code class="email">CustomLog.swift</code>.<div class="note" title="Note"><h3 class="title2"><a id="tip05" class="calibre1"/>Tip</h3><p class="calibre7">Don't save your files on a different folder from the project; this will give you problems in the future.</p></div></li><li class="listitem" value="2">Now, add the following code:<div class="informalexample"><pre class="programlisting">func printLog(message: NSString){
    #if VERBOSE_LOG
        #if os(OSX)
            let OS="OS X"
        #else
            let OS="iOS"
        #endif
        
        #if arch(arm) || arch(arm64)
            let devicetype = "Mobile device"
        #elseif arch(x86_64) || arch(i386)
            let devicetype = "Computer"
        #else
            let devicetype = "Unkown"
        #endif
        
        NSLog("%@ on a %@ - %@", OS, devicetype, message)
    #endif
}</pre></div></li><li class="listitem" value="3">Now, go to the <code class="email">viewDidLoad</code> method of your view controller, and add a call for this function, like this:<div class="informalexample"><pre class="programlisting">printLog("Hello World")</pre></div></li><li class="listitem" value="4">Try clicking <a id="id22" class="calibre1"/>play now; what do you see? The answer is—nothing! The reason is that the compiler knows nothing about the macro <code class="email">VERBOSE_LOG</code>, which means that this macro is interpreted as <span class="strong"><em class="calibre9">false</em></span> and the only thing that is created is an empty function.</li><li class="listitem" value="5">Now, go back to your project build settings, search for other swift flags, and add <code class="email">-DVERBOSE_LOG</code>, as shown in the following screenshot:<div class="mediaobject"><img src="../images/00013.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="6">Click on play again and you will see the log message.</li></ol><div class="calibre13"/></div></div></div>

<div class="book" title="Creating conditional code" id="I3QM1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How it works…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec24" class="calibre1"/>How it works…</h2></div></div></div><p class="calibre7">Currently, the Swift compiler has two defined macros: <code class="email">os()</code> and <code class="email">arch()</code>. The first one can receive OS X or iOS as arguments, and the second one can receive x86_64, arm, arm64, and i386. Both macros will return a Boolean value. You can also create your own macro, defining it on your build settings.</p><p class="calibre7">The block that is evaluated as <code class="email">true</code> will be compiled, and the other blocks will not be compiled; this way you can have code that calls OS-specific functions.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="note04" class="calibre1"/>Note</h3><p class="calibre7">I would like to emphasize, mainly for those developers who are used to working with C projects, that the Apple documentation leaves a very clear message that Swift has no preprocessor; it only uses a trick on compilation time, so you can't use macros as we used to do on C or even on Objective-C. The only thing you can do is watch to see whether they are set or not.</p></div></div></div>

<div class="book" title="Creating conditional code" id="I3QM1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="There's more…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec25" class="calibre1"/>There's more…</h2></div></div></div><p class="calibre7">If you need to, you <a id="id23" class="calibre1"/>can use the operators <code class="email">&amp;&amp;</code>, <code class="email">||</code>, and <code class="email">!</code> as shown here: <code class="email">#if arch(arm64) &amp;&amp; os(iOS)</code>, but you can't use any kind of comparator operator such as <code class="email">==</code>, <code class="email">&lt;</code>, and so on.</p><p class="calibre7">If you are interested in knowing more options that you can add to other Swift flags, check out the <span class="strong"><em class="calibre9">Compiling from the command line</em></span> recipe in this chapter.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Migrating an existing project to Swift 2.0" id="J2B81-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec14" class="calibre1"/>Migrating an existing project to Swift 2.0</h1></div></div></div><p class="calibre7">If you have <a id="id24" class="calibre1"/>an existing project written in Swift 2.0 or below, Apple has provided some handy tools with Xcode 7 for you to migrate to Swift 2.0 with ease.</p></div>

<div class="book" title="Migrating an existing project to Swift 2.0" id="J2B81-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec26" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">For this recipe, you will need an existing Xcode project written in Swift 1.2 or below.</p></div></div>

<div class="book" title="Migrating an existing project to Swift 2.0" id="J2B81-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How to do it…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec27" class="calibre1"/>How to do it…</h2></div></div></div><p class="calibre7">Follow these steps to migrate an existing project:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Locate your existing Xcode project and open the <code class="email">.xcodeproj</code> or <code class="email">.xcworkspace</code> file to automatically open Xcode 7. Once the project or workspace loads, Xcode will present you with the following message prompting you to convert to the latest Swift syntax:<div class="mediaobject"><img src="../images/00014.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="2">Click on <a id="id25" class="calibre1"/><span class="strong"><strong class="calibre8">Convert</strong></span> and you will be taken to a new screen. This screen displays some information about what the conversion process will look like. Select <span class="strong"><strong class="calibre8">Next</strong></span> to continue.</li><li class="listitem" value="3">You will now be asked to select which targets to update to Swift 2.0. This is very useful if you need to leave any targets in their current state. Review your list of targets and uncheck those that you do not want updated, and select <span class="strong"><strong class="calibre8">Next</strong></span>.<div class="mediaobject"><img src="../images/00015.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="4">You will be presented with a new screen, similar to the assistant editor, comparing <a id="id26" class="calibre1"/>the results after migration to the current state of your code. In the far left pane, you will see a list of all files that will receive a change and can manually select files to not make any changes.<div class="mediaobject"><img src="../images/00016.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p><div class="note" title="Note"><h3 class="title2"><a id="tip06" class="calibre1"/>Tip</h3><p class="calibre7">If there are any files you wish NOT to be migrated, simply uncheck them from the left pane list of files.</p></div></li><li class="listitem" value="5">Once you have verified or modified all changes, select <span class="strong"><strong class="calibre8">Save</strong></span>. Xcode will update all changes and you will be ready to continue development with Swift 2.0.</li></ol><div class="calibre13"/></div></div></div>

<div class="book" title="Migrating an existing project to Swift 2.0" id="J2B81-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How it works…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec28" class="calibre1"/>How it works…</h2></div></div></div><p class="calibre7">Apple has made <a id="id27" class="calibre1"/>Xcode extremely versatile in code migration. Thankfully, this takes most of the hassle out of migration to Swift 2.0 and allows you to get straight to writing more code. However, the migration process is not perfect and manual changes are likely required for complex projects.</p></div></div>

<div class="book" title="Migrating an existing project to Swift 2.0" id="J2B81-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="There's more…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec29" class="calibre1"/>There's more…</h2></div></div></div><p class="calibre7">If for any reason the migration prompt did not automatically display itself, you can still start the process on your own. Navigate from the menu bar to <span class="strong"><strong class="calibre8">Edit</strong></span> | <span class="strong"><strong class="calibre8">Convert</strong></span> | <span class="strong"><strong class="calibre8">To Latest Swift Syntax</strong></span>. You will be brought directly to step 2 of this recipe.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Adding a developer account" id="K0RQ1-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec15" class="calibre1"/>Adding a developer account</h1></div></div></div><p class="calibre7">Usually, Apple <a id="id28" class="calibre1"/>tries to make the developer's life easier by improving Xcode and creating tools, but there is an exception when we talk about certificates. If you want to test your app on a physical device (iPhone, iPad, or iPod), you need a certificate. If you would like to upload it onto the App Store, you also need this certificate.</p><p class="calibre7">The idea of a certificate is to protect your code from malicious code or from being modified after being signed, but this idea has a price. To get a certificate, you will need to be enrolled on the Apple Developer Program.</p></div>

<div class="book" title="Adding a developer account" id="K0RQ1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec30" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">We will assume that if you continue with this recipe, you are already enrolled on this program. Let's recycle the previous project; open it, and let's start.</p></div></div>

<div class="book" title="Adding a developer account" id="K0RQ1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How to do it…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec31" class="calibre1"/>How to do it…</h2></div></div></div><p class="calibre7">Follow these steps to add an Apple developer account:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Once you've opened the project, click on the project navigator, then click on the combobox that shows our project, and select the target <code class="email">Chapter 1</code> if it's not selected yet.</li><li class="listitem" value="2">Now, have a look at the option called <span class="strong"><strong class="calibre8">Team</strong></span>. In the case of programming a Mac application, this combobox is enabled only if you select the signing option to Mac App Store or Developer ID.</li><li class="listitem" value="3">Usually, the team option starts with <span class="strong"><strong class="calibre8">None</strong></span> selected. Click over this combobox and select <span class="strong"><strong class="calibre8">Add Account</strong></span>.<div class="mediaobject"><img src="../images/00017.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="4">After selecting to add an account, Xcode will ask for your Apple Developer Program login data (e-mail and password). If you don't have it, you have the option to <a id="id29" class="calibre1"/>join the program.<div class="mediaobject"><img src="../images/00018.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="5">Once you've added this, you are supposed to use your account and run your app. If you have a device attached to your Mac, you can go to the <span class="strong"><strong class="calibre8">Window</strong></span> option on the <a id="id30" class="calibre1"/>menu bar and then you can select the <span class="strong"><strong class="calibre8">Devices</strong></span> option.<div class="note" title="Note"><h3 class="title2"><a id="note05" class="calibre1"/>Note</h3><p class="calibre7">Your device should appear on the dialog. Xcode could take a while to read the device's symbols.  In the case of attaching this device for the first time, you will see that you will have to ask to change the status of this device to developer mode.</p></div></li><li class="listitem" value="6">When you get the green light, it means that your device is ready to be used for development; now, go back to your project and change from the simulator to your device.<div class="mediaobject"><img src="../images/00019.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="7">If the device is enabled but not listed by Xcode, it could mean that you have to decrease the <a id="id31" class="calibre1"/><span class="strong"><strong class="calibre8">iOS Deployment Target</strong></span>, which can be found on the project setting, under the <span class="strong"><strong class="calibre8">Info</strong></span> tab.<div class="note" title="Note"><h3 class="title2"><a id="tip07" class="calibre1"/>Tip</h3><p class="calibre7">Lowering the <span class="strong"><strong class="calibre8">iOS Deployment Target</strong></span> to the minimum value is an idea very common among programmers to cover the maximum sort of devices. Doing this will prevent your development from using new features. Check out the features that you need first, and then change your <span class="strong"><strong class="calibre8">iOS Deployment Target</strong></span>.</p></div></li></ol><div class="calibre13"/></div></div></div>

<div class="book" title="Adding a developer account" id="K0RQ1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How it works…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec32" class="calibre1"/>How it works…</h2></div></div></div><p class="calibre7">Signing a code is something done for security; the main restriction is that you must be up to date with the Apple Developer Program. Apple allows up to 100 devices per account.</p></div></div>

<div class="book" title="Adding a developer account" id="K0RQ1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="There's more…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec33" class="calibre1"/>There's more…</h2></div></div></div><p class="calibre7">Sometimes, the <a id="id32" class="calibre1"/>certificate causes us some headaches. Take care if it asks you to revoke your certificate; you may have to create a new one on the Apple Developer Center, and if you are working in a team, you may have to wait for the administrator's approval.</p><p class="calibre7">There are a few times that you need to change the code-signing option on the build settings; it happens mainly when you get code from another organization ID.</p><p class="calibre7">Testing your code on a device is something that is very useful; it's where you can test the real user experience. Whenever you have some low-level code, such as assembly code or something written in C language that uses type sizes or byte orders, it's good to test your project on a device. Remember that Apple's devices have CPUs based on ARM and ARM64, which are different to the Intel CPU that is used on Mac computers.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Compiling from the command line" id="KVCC1-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec16" class="calibre1"/>Compiling from the command line</h1></div></div></div><p class="calibre7">I know that <a id="id33" class="calibre1"/>nowadays a lot of users, and even developers, think that using the command line is something from the past. The reality is that, even today, a lot of tasks that can be done from the command line, mainly automations tasks such as continuous integration, must be done using the command line.</p><p class="calibre7">This recipe will show you that it's not difficult, and better than this, you will have an increased understanding of the concept about what Xcode does behind the scenes.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="tip08" class="calibre1"/>Tip</h3><p class="calibre7">If you've never worked with a command line, I would suggest you read a book about it; <span class="strong"><em class="calibre9">Linux Shell Scripting Cookbook</em></span>, <span class="strong"><em class="calibre9">Packt Publishing</em></span>, is a good one in my opinion, even knowing that some commands are Linux-specific.</p></div></div>

<div class="book" title="Compiling from the command line" id="KVCC1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec34" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">Open a <span class="strong"><strong class="calibre8">Finder</strong></span> window using the key combination <span class="strong"><em class="calibre9">command</em></span> + <span class="strong"><em class="calibre9">Shift</em></span> + <span class="strong"><em class="calibre9">U</em></span> or open your <span class="strong"><strong class="calibre8">Launchpad</strong></span> and click on the <span class="strong"><strong class="calibre8">Others</strong></span> folder. Here, you can see an icon called <span class="strong"><strong class="calibre8">Terminal</strong></span>, open it and you should see a window similar to the following one:</p><div class="mediaobject"><img src="../images/00020.jpeg" alt="Getting ready" class="calibre10"/></div><p class="calibre11"> </p></div></div>

<div class="book" title="Compiling from the command line" id="KVCC1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How to do it…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec35" class="calibre1"/>How to do it…</h2></div></div></div><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Type <code class="email">xcode-select -p</code>; this should give you one path, for example, <code class="email">/Applications/Xcode.app/Contents/Developer</code>. If you don't have more Xcode versions installed in your machine, you shouldn't worry about the path; it will probably be right. If for any reason you have more than one Xcode installed on your machine, you will need to change it by typing <code class="email">xcode-select -s /Applications/XCODE VERSION.app/Contents/Developer</code>.<div class="note" title="Note"><h3 class="title2"><a id="tip09" class="calibre1"/>Tip</h3><p class="calibre7">Remember that <a id="id34" class="calibre1"/>switching Xcode is a task that can only be done by an administrator, and it will affect every user.</p></div></li><li class="listitem" value="2">Now, go to your project directory and type the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre8">xcodebuild -target "Chapter 1" -configuration Debug </strong></span>
</pre></div></li></ol><div class="calibre13"/></div><p class="calibre7">After this, you will see lots of commands on screen, but the most important message is the last one that should be <code class="email">** BUILD SUCCEEDED **</code>; which means that the project was built without errors.</p></div></div>

<div class="book" title="Compiling from the command line" id="KVCC1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How it works…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec36" class="calibre1"/>How it works…</h2></div></div></div><p class="calibre7">When you type a command, your system will look for this command using the paths specified by the <code class="email">PATH</code> variable. You can check the directories included in your <code class="email">PATH</code> variable by typing <code class="email">echo $PATH</code>. By default, the directory <code class="email">/usr/bin</code> is included.</p><p class="calibre7">This directory contains Xcode commands, such as <code class="email">xcodebuild</code>. When you want to use commands from other Xcode versions, you need to use <code class="email">xcode-select</code> to overwrite these files to use the ones according to the version you want.</p><p class="calibre7">Once you have set it, you can compile your project. As your project is a set of lots of files such as source <a id="id35" class="calibre1"/>codes, images, and so on, it would be hard work if we had to do every single action (compiling, copying files, code signing, and so on) one by one. This is the reason it's easier to ask Xcode to do it by itself using the command <code class="email">xcodebuild</code>.</p><p class="calibre7">The <code class="email">xcodebuild</code> command has a lot of parameters, so you can specify the configuration to be Debug or Release, the target you want to compile, as well as many other options. Type <code class="email">xcodebuild -help</code> to get a list of options.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="tip10" class="calibre1"/>Tip</h3><p class="calibre7">The <code class="email">-help</code> argument is very common on Xcode commands. Try to use it when you have any doubt.</p></div></div></div>

<div class="book" title="Compiling from the command line" id="KVCC1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="There's more…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec37" class="calibre1"/>There's more…</h2></div></div></div><p class="calibre7">Another good feature about the <code class="email">xcodebuild</code> command is that it shows the commands that are being used with all its arguments. So, you can appreciate that when you compile an Objective-C project, Xcode uses the clang compiler, but when you have a Swift project, Xcode uses the <code class="email">swiftc</code> command. Type <code class="email">swiftc -help</code> with its full path to check its options and use them in the build options of other Swift flags.</p><p class="calibre7">Keep in mind that <code class="email">xcodebuild</code> is going to look for a file called <code class="email">project.pbxproj</code>, which is inside your <code class="email">.xcodeproj</code> directory. This file contains information of every file, settings, and steps to create a project; in case of wrong syntax or wrong references, <code class="email">xcodebuild</code> and the Xcode IDE won't compile the project at all. In addition to this fixing, this file could be hard work. Because of these reasons, I wouldn't change this file manually, and also, I would try to avoid conflict with the version control system.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Using Swift as an interpreter" id="LTSU1-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec17" class="calibre1"/>Using Swift as an interpreter</h1></div></div></div><p class="calibre7">Like some other <a id="id36" class="calibre1"/>script languages, you can use Swift with its interpreter on the command line. Sometimes it's very useful, mainly when you want to test code <a id="id37" class="calibre1"/>but you don't want to create a new playground.</p></div>

<div class="book" title="Using Swift as an interpreter" id="LTSU1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec38" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">Open a terminal window as shown in the previous recipe.</p></div></div>

<div class="book" title="Using Swift as an interpreter" id="LTSU1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How to do it…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec39" class="calibre1"/>How to do it…</h2></div></div></div><p class="calibre7">Follow these steps for using Swift as a command line interpreter:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">The first step is to find where the Swift command is; even if you have used the <code class="email">xcode-select</code> command, it is possible that the Swift command is not accessible from your <code class="email">PATH</code> variable. So, you can localize your Swift command using <code class="email">find /Applications/Xcode.app -name swift  -a -type f</code>. In my case, I got <code class="email">/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swift</code>.<div class="note" title="Note"><h3 class="title2"><a id="note06" class="calibre1"/>Note</h3><p class="calibre7">However, current versions of Xcode have the Swift command at <code class="email">/usr/bin</code>. If it is necessary, add this directory to your <code class="email">PATH</code> variable with the command <code class="email">export PATH="$PATH:/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/"</code>. At this moment, we can enter into the Swift interpreter just by typing <code class="email">swift</code>.</p></div></li><li class="listitem" value="2">If you want to use Swift from the command line, sometimes it's a good idea to have this <code class="email">PATH</code> variable set permanently. To make this, we need to add the previous command into our <code class="email">.profile</code> file, such as <code class="email">echo 'export PATH="$PATH:/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/" ' &gt;&gt; $HOME/.profile &amp;&amp; chmod +x $HOME/.profile</code>.<p class="calibre15">From now on, if you restart your computer, it won't be necessary to look for the Swift path and set the <code class="email">PATH</code> environment variable again.</p></li><li class="listitem" value="3">Now, let's enter into our Swift command line and type the following code:<div class="informalexample"><pre class="programlisting">var dividend = [3,2,1,0]
var divisor = 6</pre></div></li><li class="listitem" value="4">You will see a message showing the content of these variables after typing each of them. Now, type the following loop code:<div class="informalexample"><pre class="programlisting">for i in dividend { 
      println("\(divisor) / \(i) = \(divisor / i)")  
}</pre></div><p class="calibre15">You can see that we will receive the following result:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong class="calibre8">6 / 3 = 2</strong></span>
<span class="strong"><strong class="calibre8">6 / 2 = 3</strong></span>
<span class="strong"><strong class="calibre8">6 / 1 = 6</strong></span>
<span class="strong"><strong class="calibre8">Execution interrupted. Enter Swift code to recover and continue.</strong></span>
<span class="strong"><strong class="calibre8">Enter LLDB commands to investigate (type :help for assistance.)</strong></span>
</pre></div></li><li class="listitem" value="5">As you can see, the last option failed because we can't divide by 0. That's a fast way we can test some code using the command line. Most of the time, we will test using a playground, but sometimes using the command line is much faster.</li></ol><div class="calibre13"/></div></div></div>

<div class="book" title="Using Swift as an interpreter" id="LTSU1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How it works…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec40" class="calibre1"/>How it works…</h2></div></div></div><p class="calibre7">Calling the Swift <a id="id38" class="calibre1"/>command gives you the possibility to test your code or <a id="id39" class="calibre1"/>even use Swift as a scripting language. The thing to highlight here is that you need to know where your Swift command is; the command line helps you to find it.</p></div></div>

<div class="book" title="Using Swift as an interpreter" id="LTSU1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="There's more…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec41" class="calibre1"/>There's more…</h2></div></div></div><p class="calibre7">Most of Swift's options and <code class="email">swiftc</code> options are common; it means that if there is something that you would like to test before compiling, you can do it.</p></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Adding a control version system to an existing project" id="MSDG1-bba3081a9dc049b7aa5e4f7cc42ef8bb"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch01lvl1sec18" class="calibre1"/>Adding a control version system to an existing project</h1></div></div></div><p class="calibre7">It's very <a id="id40" class="calibre1"/>common starting a project without any version control, and with the passage of time, we change our idea and decide to add one.</p><p class="calibre7">Unfortunately, Xcode doesn't give this option to us and we have to do it by hand. I hope this option will be added on Xcode soon.</p></div>

<div class="book" title="Adding a control version system to an existing project" id="MSDG1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="Getting ready"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch01lvl2sec42" class="calibre1"/>Getting ready</h2></div></div></div><p class="calibre7">To do this recipe, let's create an empty project called <code class="email">Chapter1 Git</code>; however, this time, before we <a id="id41" class="calibre1"/>save the project, uncheck the option <span class="strong"><strong class="calibre8">Create Git CGRepository on</strong></span>.</p><div class="mediaobject"><img src="../images/00021.jpeg" alt="Getting ready" class="calibre10"/></div><p class="calibre11"> </p></div></div>

<div class="book" title="Adding a control version system to an existing project" id="MSDG1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How to do it…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch01lvl2sec43" class="calibre1"/>How to do it…</h2></div></div></div><p class="calibre7">Follow these steps for creating a local repository on an existing project:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Open the <span class="strong"><strong class="calibre8">Source Control</strong></span> menu option from the menu bar.</li><li class="listitem" value="2">Select <span class="strong"><strong class="calibre8">Create Working Copy</strong></span> to create the local repository.</li><li class="listitem" value="3">Now, you can open your project and notice that Xcode already recognizes the VCS. If you want to be sure of it, modify a file, save it with <span class="strong"><em class="calibre9">command</em></span> + <span class="strong"><em class="calibre9">S</em></span> and check that you have the letter <span class="strong"><em class="calibre9">M</em></span> on the right side of your file on the project navigator.<div class="mediaobject"><img src="../images/00022.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="4">Once you are happy with your changes, you can deliver them by right-clicking on <code class="email">AppDelegate.swift</code>, then going to the <span class="strong"><strong class="calibre8">Source Control</strong></span> option and selecting the <span class="strong"><strong class="calibre8">Commit "AppDelegate.swift" …</strong></span> option.<div class="mediaobject"><img src="../images/00023.jpeg" alt="How to do it…" class="calibre10"/></div><p class="calibre14"> </p></li><li class="listitem" value="5">Then, a dialog box asking for a description will appear; write about your modification as comment and click on <span class="strong"><strong class="calibre8">Commit 1 file</strong></span>.</li></ol><div class="calibre13"/></div></div></div>

<div class="book" title="Adding a control version system to an existing project" id="MSDG1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="How it works…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch01lvl2sec44" class="calibre1"/>How it works…</h2></div></div></div><p class="calibre7">Unfortunately, if you forgot to add a Git repository to your project, Xcode won't provide any mechanism to add it to your project, so you have to add it by hand. Opening the command line allows you to use Git from the command line and Xcode detects that this feature has been added. Some versions of Xcode can only detect that the version control has been added when you open your project, so if you've done all the steps and Xcode hasn't <a id="id42" class="calibre1"/>detected it, try closing and opening Xcode again.</p><div class="informalexample" title="Note"><h3 class="title2"><a id="tip11" class="calibre1"/>Tip</h3><p class="calibre7">Xcode offers you some features to work with Git and SVN, but they are very limited. If you need more commands from your VCS, you can use them from the command line or use an external tool for it.</p></div></div></div>

<div class="book" title="Adding a control version system to an existing project" id="MSDG1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="There's more…"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch01lvl2sec45" class="calibre1"/>There's more…</h2></div></div></div><p class="calibre7">Even if you are not going to work as part of a team, I recommend that you use a version control system. When developing with Swift or other languages, you sometimes need to rollback or compare the current code with previous versions of it, mainly when you have a new bug.</p></div></div>

<div class="book" title="Adding a control version system to an existing project" id="MSDG1-bba3081a9dc049b7aa5e4f7cc42ef8bb">
<div class="book" title="See also"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_5"><a id="ch01lvl2sec46" class="calibre1"/>See also</h2></div></div></div><div class="book"><ul class="itemizedlist"><li class="listitem">If you <a id="id43" class="calibre1"/>would like to know more on this topic, check out the book <span class="strong"><em class="calibre9">Git Version Control Cookbook</em></span>, <span class="strong"><em class="calibre9">Packt Publishing</em></span></li></ul></div></div></div></body></html>