- en: Chapter 2. Installing Moai SDK
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 2 章。安装 Moai SDK
- en: Before we can get our hands dirty, there are a couple of steps we need to take
    in order to have a fully working environment to develop in with Moai SDK.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们可以动手之前，我们需要采取一些步骤，以便拥有一个完全工作的环境来使用 Moai SDK 进行开发。
- en: This differs from platform to platform, so feel free to jump to your platform
    of choice.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 这在不同的平台上可能会有所不同，所以请随意跳转到您喜欢的平台。
- en: We'll see how to install Moai SDK in Windows and Mac OS X; for Linux users,
    the process is more complicated and we can't cover it here, but you'll find more
    information about it in this chapter as well. At the end of the chapter, you should
    end up with a working copy of Moai SDK installed on your system.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将介绍如何在 Windows 和 Mac OS X 上安装 Moai SDK；对于 Linux 用户，这个过程更为复杂，我们在这里无法涵盖，但您可以在本章中找到更多关于它的信息。在本章结束时，您应该在自己的系统上安装好一个可工作的
    Moai SDK 版本。
- en: Getting the latest stable build
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 获取最新稳定构建
- en: Head to [http://getmoai.com/sdk/moai-sdk-download.html](http://getmoai.com/sdk/moai-sdk-download.html).
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 访问 [http://getmoai.com/sdk/moai-sdk-download.html](http://getmoai.com/sdk/moai-sdk-download.html)。
- en: You'll find two download options, the release and the nightly build.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 您将找到两个下载选项，一个是发布版，另一个是夜间构建。
- en: '**Release**: This is a stable version of Moai SDK. It includes all you need
    to start developing with Moai SDK. The current version at the time of this writing
    is 1.4p0.'
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**发布版**：这是 Moai SDK 的稳定版本。它包含了您开始使用 Moai SDK 进行开发所需的所有内容。本书撰写时的当前版本是 1.4p0。'
- en: '**Nightly builds**: Every night (or morning depending on where are you located!)
    there is an automatic build of the whole Moai SDK project. This build is extremely
    unstable since it includes all the changes since the last stable release. If you
    need some feature that has not been included in the latest release, download the
    nightly build, it should be there.'
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**夜间构建**：每晚（或根据您的位置是早上或晚上）都会自动构建整个 Moai SDK 项目。由于它包含了自上次稳定发布以来的所有更改，因此这个构建非常不稳定。如果您需要尚未包含在最新版本中的某些功能，请下载夜间构建，它应该在那里。'
- en: 'For each of these versions, there are two possible packages: a `.zip` and a
    `.tar.gz` package, download the one you like the most.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这些版本中的每一个，都有两种可能的软件包：`.zip` 和 `.tar.gz` 软件包，下载您最喜欢的一种。
- en: '![Getting the latest stable build](img/5064_02_01.jpg)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
  zh: '![获取最新稳定构建](img/5064_02_01.jpg)'
- en: Setting up the environment
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 设置环境
- en: After downloading the SDK, we need to set up our environment.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 下载 SDK 后，我们需要设置我们的环境。
- en: Moai SDK can be used with any text editor, but if you want some fancy features
    such as a debugger, you'd need to use one of the IDE's that support Moai SDK.
    There are a bunch of them, each with different levels of integration. For a complete
    list, I suggest you visit *Tools that work with Moai* on Moai's wiki at [http://getmoai.com/wiki/index.php?title=Tools_that_work_with_Moai](http://getmoai.com/wiki/index.php?title=Tools_that_work_with_Moai).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Moai SDK 可以与任何文本编辑器一起使用，但如果您想要一些高级功能，如调试器，您就需要使用支持 Moai SDK 的 IDE 之一。有很多这样的
    IDE，每个都有不同程度的集成。为了获取完整的列表，我建议您访问 Moai 的维基百科上的 *与 Moai 一起工作的工具* [http://getmoai.com/wiki/index.php?title=Tools_that_work_with_Moai](http://getmoai.com/wiki/index.php?title=Tools_that_work_with_Moai)。
- en: In this book we'll focus on using ZeroBrane Studio, since it's open source (you
    can program it in Lua) and has a lot of neat features that will be useful to us
    (syntax highlighting, autocompletion for Moai SDK, debugging, and live coding,
    among others). To install it, go to [http://studio.zerobrane.com](http://studio.zerobrane.com)
    and download the latest version of the software for your specific platform.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，我们将专注于使用 ZeroBrane Studio，因为它开源（您可以用 Lua 编程它）并且具有许多对我们有用的特性（如语法高亮、Moai
    SDK 的自动完成、调试和实时编码等）。要安装它，请访问 [http://studio.zerobrane.com](http://studio.zerobrane.com)
    并下载适用于您特定平台的最新软件版本。
- en: Windows
  id: totrans-15
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Windows
- en: The book assumes that you've already downloaded ZeroBrane Studio (either the
    zip or the installer) and installed it in `C:\Program Files\ZeroBraneStudio`.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 本书假设您已经下载了 ZeroBrane Studio（无论是 zip 文件还是安装程序）并将其安装到 `C:\Program Files\ZeroBraneStudio`。
- en: Now, unzip the Moai SDK package to `C:\moai-sdk`.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，将 Moai SDK 软件包解压到 `C:\moai-sdk`。
- en: After doing this, we need to set up ZeroBrane to work with our Moai SDK installation.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在完成此操作后，我们需要设置 ZeroBrane 以与我们的 Moai SDK 安装一起工作。
- en: 'Create a file called `user.lua` in `C:\Program Files\ZeroBraneStudio\cfg\`
    and add the following lines:'
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `C:\Program Files\ZeroBraneStudio\cfg\` 中创建一个名为 `user.lua` 的文件，并添加以下行：
- en: '[PRE0]'
  id: totrans-20
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: If you chose to install Moai SDK in another location use that location instead.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您选择在另一个位置安装 Moai SDK，请使用该位置。
- en: There is one last thing you need to do in order to support Moai SDK.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了支持 Moai SDK，您还需要做最后一件事。
- en: Navigate to **Project** | **Lua Interpreter** | **Moai**.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到**项目** | **Lua解释器** | **Moai**。
- en: Now you're all set. You can jump to the *Running Samples* section to see if
    everything worked correctly.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经准备好了。您可以跳转到**运行示例**部分，看看一切是否正常工作。
- en: Mac OS X
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Mac OS X
- en: The book assumes that you've already downloaded ZeroBrane Studio for Mac OS
    X and have installed it in `/Applications`.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 本书假设您已经下载了Mac OS X的ZeroBrane Studio并将其安装到`/Applications`。
- en: Now, unzip the Moai SDK package to `~/moai-sdk`.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，将Moai SDK包解压到`~/moai-sdk`。
- en: 'Create a file called `user.lua` in `/Applications/ZeroBraneStudio.app/Contents/ZeroBraneStudio/cfg/`
    and add the following lines:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`/Applications/ZeroBraneStudio.app/Contents/ZeroBraneStudio/cfg/`中创建一个名为`user.lua`的文件，并添加以下行：
- en: '[PRE1]'
  id: totrans-29
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: If you chose to install MOAI in another location use that location instead.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你选择在其他位置安装MOAI，请使用该位置。
- en: The last step is to navigate to **Project** `|` **Lua Interpreter** `|` **Moai**`.`
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后一步是导航到**项目** `|` **Lua解释器** `|` **Moai**`。
- en: Now you're all set.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经准备好了。
- en: The next step is to try some samples to see if everything is working correctly.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是尝试一些示例，看看是否一切正常工作。
- en: GNU/Linux
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: GNU/Linux
- en: Sadly, the current stable release of Moai SDK doesn't include a precompiled
    host for GNU/Linux. So the only option is to build your own host from the source
    code. In order to do this, you'll need some understanding of how to compile C++
    and how to handle the Git repositories (at least how to clone them).
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 很遗憾，当前稳定的Moai SDK版本不包括预编译的GNU/Linux主机。因此，唯一的选择是从源代码构建自己的主机。为了做到这一点，你需要了解如何编译C++以及如何处理Git仓库（至少要知道如何克隆它们）。
- en: This is outside the scope of this book, but feel free to jump into the Moai
    forums to get help if you're lost.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书的范围之外，但如果你迷路了，请随时跳转到Moai论坛寻求帮助。
- en: Just as a hint, you'll need to get the source code from [https://github.com/moai/moai-dev](https://github.com/moai/moai-dev),
    switch to the Linux branch and compile everything using *CMake*.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 只作为一个提示，你需要从[https://github.com/moai/moai-dev](https://github.com/moai/moai-dev)获取源代码，切换到Linux分支，并使用*CMake*编译一切。
- en: Running samples
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 运行示例
- en: In order to see if your installation works fine, we will run a sample from Moai's
    release.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 为了查看您的安装是否正常工作，我们将从Moai的发布版中运行一个示例。
- en: Open up the ZeroBrane Studio and on the left panel (**Project**), click the
    button with the ellipsis (**...**) and head to `moai-sdk/samples/anim/anim-basic`,
    and click **OK**.![Running samples](img/5064_02_02.jpg)
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开ZeroBrane Studio，在左侧面板（**项目**）中，点击带有省略号（**...**）的按钮，转到`moai-sdk/samples/anim/anim-basic`，然后点击**确定**。![运行示例](img/5064_02_02.jpg)
- en: Now your project is using one of Moai SDK's samples as project root. You'll
    see a lot of examples on how to do stuff with Moai SDK in the `moai-sdk/samples/folder`.
    Take a look at them after reading the book in order to understand more advanced
    topics.
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在您的项目正在使用Moai SDK的示例作为项目根。您将在`moai-sdk/samples/folder`中看到很多如何使用Moai SDK的示例。在阅读完本书后，查看它们以了解更高级的主题。
- en: Now press *F6* (or **Project** | **Run**).
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在按*F6*（或**项目** | **运行**）。
- en: If a window opens up and shows Moai SDK's logo rotating, yay! You're ready to
    go!
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果打开了一个窗口并显示Moai SDK的标志旋转，太好了！您已经准备好了！
- en: '![Running samples](img/5064_02_03.jpg)'
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![运行示例](img/5064_02_03.jpg)'
- en: 'You will want to read the sample; especially take a look at the line that reads:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 您将想要阅读这个示例；特别是看看以下行：
- en: '[PRE2]'
  id: totrans-46
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: This line is what makes the Moai logo move. The first parameter is the rotation
    angle and the second is the time it takes to perform the whole movement. Go ahead,
    play with it, change the angle and duration time and see what happens.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 这一行是使Moai标志移动的原因。第一个参数是旋转角度，第二个参数是完成整个运动所需的时间。试试看，改变角度和持续时间，看看会发生什么。
- en: Summary
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 概述
- en: In this chapter, we've seen that in order to develop with Moai SDK, we need
    to use one of the precompiled hosts or build one from source (in the case of the
    Linux development this is mandatory, since there are no precompiled builds yet).
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们了解到，为了使用Moai SDK进行开发，我们需要使用预编译的主机之一，或者从源代码构建一个（在Linux开发的情况下这是强制性的，因为还没有预编译的构建）。
- en: We've downloaded the latest version of the framework, installed it, and run
    a sample to see if it's working properly.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经下载了框架的最新版本，安装了它，并运行了一个示例来查看它是否正常工作。
- en: The next chapter will introduce you to the basic concepts behind Moai SDK, so
    keep reading if you want to learn about Moai's runtime, the Action Tree, and Node
    Graph.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 下一章将向您介绍Moai SDK背后的基本概念，所以如果您想了解Moai的运行时、Action Tree和节点图，请继续阅读。
