<html><head></head><body><div><div><div><h1 class="chapterNumber">11</h1>
    <h1 id="_idParaDest-159" class="chapterTitle">Building Your User Interface</h1>
    <p class="normal">In the previous chapter, you modified an existing Xcode project, added a tab bar to your app that allowed the user to select between the Journal List and Map screens, and configured the tab bar button titles and icons. When your app is launched, the Journal List screen is displayed, but it is currently blank.</p>
    <p class="normal">As you saw in the app tour in <em class="chapterRef">Chapter 10</em>, <em class="italic">Setting Up the User Interface</em>, the Journal List screen should display a table view showing a list of journal entries in table view cells.</p>
    <p class="normal">In this chapter, you will make the Journal List screen display a table view containing 10 empty table view cells, as well as a button that will display a view representing the Add New Journal Entry screen when tapped. You’ll also configure a <strong class="screenText">Cancel</strong> button to dismiss this view and return you to the Journal List screen.</p>
    <p class="normal">You’ll be adding a small amount of code to your app, but don’t worry too much about this—you’ll learn more about it in the next part of this book.</p>
    <p class="normal">By the end of this chapter, you’ll have learned how to add view controllers to a storyboard scene, link outlets in view controllers to scenes, set up table view cells, and present a view controller modally. This will be very useful when you’re designing the user interface for your own apps.</p>
    <p class="normal">The following topics will be covered in this chapter:</p>
    <ul>
      <li class="bulletList">Adding a table view to the Journal List screen</li>
      <li class="bulletList">Connecting storyboard elements to the view controller</li>
      <li class="bulletList">Configuring data source methods for the table view</li>
      <li class="bulletList">Presenting a view modally</li>
    </ul>
    <h1 id="_idParaDest-160" class="heading-1">Technical requirements</h1>
    <p class="normal">You will continue working on the <code class="inlineCode">JRNL</code> Xcode project that you created in the previous chapter.</p>
    <p class="normal">The completed Xcode project for this chapter is in the <code class="inlineCode">Chapter11</code> folder of the code bundle for this book, which can be downloaded here:</p>
    <p class="normal"><a href="https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Ninth-Edition%0D">https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Ninth-Edition</a></p>
    <p class="normal">Check out the following video to see the code in action:</p>
    <p class="normal"><a href="https://youtu.be/EsDaVgrGLus%0D">https://youtu.be/EsDaVgrGLus</a></p>
    <p class="normal">Let’s start by adding a table view to the Journal List screen, which will eventually display the list of journal entries.</p>
    <h1 id="_idParaDest-161" class="heading-1">Adding a table view to the Journal List screen</h1>
    <p class="normal">As <a id="_idIndexMarker456"/>you saw in the app tour, the <em class="italic">JRNL</em> app displays journal <a id="_idIndexMarker457"/>entries in a table view. A table view is an instance of the <code class="inlineCode">UITableView</code> class. It displays a column of cells. Each cell in a table view is a table view cell, which is an instance of the <code class="inlineCode">UITableViewCell</code> class. In this section, you’ll start by adding a table view to the view controller scene for the Journal List screen in the <code class="inlineCode">Main</code> storyboard file, then you’ll add Auto Layout constraints to make it fill the screen.</p>
    <div><p class="normal">For more information on Auto Layout<a id="_idIndexMarker458"/> and how to use it, go to <a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/">https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/</a>.</p>
    </div>
    <p class="normal">Open the <em class="italic">JRNL</em> project you created in the previous chapter and run the app to make sure everything still works as it should, then follow these steps:</p>
    <ol>
      <li class="numberedList" value="1">Click the <strong class="screenText">Main</strong> storyboard file in the Project navigator, select the view controller scene representing the Journal List screen, and click the Library button:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_01.png" alt="" width="812" height="317"/></figure>
    <p class="packt_figref">Figure 11.1: Toolbar with the Library button shown</p>
    <ol>
      <li class="numberedList" value="2">The<a id="_idIndexMarker459"/> library will appear. Type <code class="inlineCode">table</code> in the <a id="_idIndexMarker460"/>filter field. A <strong class="screenText">Table View</strong> object will appear as one of the results. Drag it to the middle of the view of the view controller scene for the Journal List screen:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_02.png" alt="" width="812" height="300"/></figure>
    <p class="packt_figref">Figure 11.2: Library with Table View object selected</p>
    <p class="normal-one">The table view has been added, but it only takes up a small part of the screen. As shown in the app tour in the previous chapter, it should fill the screen.</p>
    <ol>
      <li class="numberedList" value="3">You <a id="_idIndexMarker461"/>will use the <strong class="keyWord">Auto Layout Add New Constraints</strong> button to bind the edges of the table view to the edges of<a id="_idIndexMarker462"/> its enclosing view. Make sure the table view is selected and click the Auto Layout Add New Constraints button:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_03.png" alt="" width="545" height="603"/></figure>
    <p class="packt_figref">Figure 11.3: View controller scene with table view selected</p>
    <ol>
      <li class="numberedList" value="4">Type <code class="inlineCode">0</code> in <a id="_idIndexMarker463"/>the top, left, right, and bottom edge <a id="_idIndexMarker464"/>constraint fields and click all the pale red struts. Make sure all the struts have turned bright red. Click the <strong class="screenText">Add 4 Constraints</strong> button:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_04.png" alt="" width="556" height="754"/></figure>
    <p class="packt_figref">Figure 11.4: Auto Layout pop-up dialog box for adding new constraints</p>
    <p class="normal-one">This sets the space between the edges of the table view and the edges of the enclosing view to 0, binding the table view’s edges to those of the enclosing view. Now the table view will fill the screen, regardless of the device and orientation.</p>
    <ol>
      <li class="numberedList" value="5">Verify <a id="_idIndexMarker465"/>that all four sides of the table view <a id="_idIndexMarker466"/>are now bound to the edges of the screen, as shown in the following screenshot:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_05.png" alt="" width="474" height="798"/></figure>
    <p class="packt_figref">Figure 11.5: View controller scene with table view filling the screen</p>
    <p class="normal">You have added a<a id="_idIndexMarker467"/> table view to the view of the view controller <a id="_idIndexMarker468"/>scene for the Journal List screen and used Auto Layout constraints to make it fill the screen, but the Journal List screen will still be blank when you build and run your app.</p>
    <p class="normal">In the next section, you will implement the code for the <code class="inlineCode">JournalListViewController</code> class, and you’ll connect outlets in this class to the UI elements on the Journal List screen. This will enable an instance of the <code class="inlineCode">JournalListViewController</code> class to control what is displayed by the Journal List screen.</p>
    <h1 id="_idParaDest-162" class="heading-1">Connecting storyboard elements to the view controller</h1>
    <p class="normal">You’ve <a id="_idIndexMarker469"/>added a table view to the Journal <a id="_idIndexMarker470"/>List screen, but it does not display anything yet. You’ll need to modify the existing view controller to manage the table view in the Journal List screen. The <code class="inlineCode">ViewController</code> file was automatically created by Xcode when you created the <code class="inlineCode">JRNL</code> project.</p>
    <p class="normal">It contains the declaration and definition of a <code class="inlineCode">UIViewController</code> subclass named <code class="inlineCode">ViewController</code>, and this class is currently set as the view controller for the Journal List screen. You’ll change the name of the class in the <code class="inlineCode">ViewController</code> file to <code class="inlineCode">JournalListViewController</code> and create an outlet for the table view that you added to the view controller scene earlier. Follow these steps:</p>
    <ol>
      <li class="numberedList" value="1">Click the <strong class="screenText">ViewController</strong> file in the Project navigator. In the Editor area, right-click the class name and choose <strong class="screenText">Refactor</strong> | <strong class="screenText">Rename</strong>...</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_06.png" alt="" width="812" height="238"/></figure>
    <p class="packt_figref">Figure 11.6: Editor area showing the pop-up menu with Rename...highlighted</p>
    <ol>
      <li class="numberedList" value="2">Change the class name to <code class="inlineCode">JournalListViewController</code><strong class="screenText"> </strong>and click <strong class="screenText">Rename</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_07.png" alt="" width="812" height="402"/></figure>
    <p class="packt_figref">Figure 11.7: Editor area showing the new name for the ViewController class</p>
    <ol>
      <li class="numberedList" value="3">Verify<a id="_idIndexMarker471"/> both the class name <a id="_idIndexMarker472"/>and the file name have been changed to <strong class="screenText">JournalListViewController</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_08.png" alt="" width="812" height="352"/></figure>
    <p class="packt_figref">Figure 11.8: File name and class name both changed to JournalListViewController</p>
    <ol>
      <li class="numberedList" value="4">Click on<a id="_idIndexMarker473"/> the <strong class="screenText">Main</strong> storyboard<a id="_idIndexMarker474"/> file in the Project navigator and select the first <strong class="screenText">Journal Scene</strong> (the one containing the table view) in the document outline.</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_09.png" alt="" width="450" height="507"/></figure>
    <p class="packt_figref">Figure 11.9: Document outline showing the first Journal Scene selected</p>
    <ol>
      <li class="numberedList" value="5">Click on the Identity inspector button and verify that, under <strong class="screenText">Custom Class</strong>, <strong class="screenText">Class</strong> is set to <strong class="screenText">JournalListViewController</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_10.png" alt="" width="530" height="322"/></figure>
    <p class="packt_figref">Figure 11.10: Identity inspector with Class set to JournalListViewController</p>
    <p class="normal-one">This <a id="_idIndexMarker475"/>means that the content <a id="_idIndexMarker476"/>of the Journal List screen is being managed by an instance of the <code class="inlineCode">JournalListViewController</code> class.</p>
    <ol>
      <li class="numberedList" value="6">Click the Navigator and Inspector buttons to hide the Navigator and Inspector areas so you have more room to work:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_11.png" alt="" width="812" height="47"/></figure>
    <p class="packt_figref">Figure 11.11: Toolbar showing Navigator and Inspector buttons</p>
    <ol>
      <li class="numberedList" value="7">Click the Adjust Editor Options button and choose <strong class="screenText">Assistant</strong> from the pop-up menu:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_12.png" alt="" width="279" height="235"/></figure>
    <p class="packt_figref">Figure 11.12: Adjust Editor Options menu with Assistant selected</p>
    <p class="normal-one">This will<a id="_idIndexMarker477"/> display any Swift files <a id="_idIndexMarker478"/>associated with this scene in an assistant editor. As you can see, the <strong class="screenText">Main</strong> storyboard file’s content appears on the left side and the <code class="inlineCode">JournalListViewController</code> class definition appears on the right side of the Editor area.</p>
    <ol>
      <li class="numberedList" value="8">Look at the bar just above the code and verify that <strong class="screenText">JournalListViewController.swift </strong>is selected:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_13.png" alt="" width="812" height="142"/></figure>
    <p class="packt_figref">Figure 11.13: Bar showing JournalListViewController.swift selected</p>
    <p class="normal-one">If you don’t see <strong class="screenText">JournalListViewController.swift</strong> selected, click the bar and select <strong class="screenText">JournalListViewController.swift</strong> from the pop-up menu.</p>
    <ol>
      <li class="numberedList" value="9">To connect the table view in the Journal scene to an outlet in the <code class="inlineCode">JournalListViewController</code> class, <em class="keystroke">Ctrl</em> + <em class="keystroke">Drag</em> from the table view to the <code class="inlineCode">JournalListViewController</code> file, just below the class name declaration:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_14.png" alt="" width="652" height="454"/></figure>
    <p class="packt_figref">Figure 11.14: Editor area showing drag destination</p>
    <div><p class="normal">You can also drag from the table view in the document outline.</p>
    </div>
    <ol>
      <li class="numberedList" value="10">A small pop-up <a id="_idIndexMarker479"/>dialog box will <a id="_idIndexMarker480"/>appear. Type the name of the outlet, <code class="inlineCode">tableView</code>, into the <strong class="screenText">Name</strong> text field, set <strong class="screenText">Storage</strong> to <strong class="screenText">Strong</strong>, and click <strong class="screenText">Connect</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_15.png" alt="" width="410" height="220"/></figure>
    <p class="packt_figref">Figure 11.15: Pop-up dialog box for outlet creation</p>
    <ol>
      <li class="numberedList" value="11">Verify that <a id="_idIndexMarker481"/>the <code class="inlineCode">tableView</code> outlet <a id="_idIndexMarker482"/>declaration has been automatically added to the <code class="inlineCode">JournalListViewController</code> class. After you have done so, click the <strong class="screenText">x</strong> to close the assistant editor window:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_16.png" alt="" width="601" height="326"/></figure>
    <p class="packt_figref">Figure 11.16: Editor area showing tableView outlet</p>
    <p class="normal">The <code class="inlineCode">JournalListViewController</code> class now has an outlet, <code class="inlineCode">tableView</code>, for the table view in the Journal List screen. This means a <code class="inlineCode">JournalListViewController</code> instance can manage what the table view displays.</p>
    <p class="normal">It is<a id="_idIndexMarker483"/> common to make mistakes <a id="_idIndexMarker484"/>when using <em class="keystroke">Ctrl</em> + <em class="keystroke">Drag</em> to drag from an element in a storyboard scene to a file. If you make a mistake while doing so, this may cause a crash to occur when the app is launched. To check whether there are any errors in the connection between the table view and <code class="inlineCode">JournalListViewController</code> class, follow these steps:</p>
    <ol>
      <li class="numberedList" value="1">Click the Navigator and Inspector buttons to display the Navigator and Inspector areas.</li>
      <li class="numberedList">With <strong class="screenText">Journal</strong> in the <strong class="screenText">Journal Scene</strong> selected, click the Connections inspector button:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_17.png" alt="" width="812" height="205"/></figure>
    <p class="packt_figref">Figure 11.17: Connections inspector selected</p>
    <p class="normal-one">The Connections inspector displays the links between your UI objects and your code. You will see the <strong class="screenText">tableView</strong> outlet connected to the table view in the <strong class="screenText">Outlets</strong> section.</p>
    <ol>
      <li class="numberedList" value="3">If you see a tiny yellow warning icon, click on the <strong class="screenText">x</strong> to break the connection:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_18.png" alt="" width="540" height="329"/></figure>
    <p class="packt_figref">Figure 11.18: Connections inspector showing tableView outlet with yellow warning icon</p>
    <ol>
      <li class="numberedList" value="4">Under <strong class="screenText">Outlets</strong>, drag <a id="_idIndexMarker485"/>from <a id="_idIndexMarker486"/>the <strong class="screenText">tableView</strong> outlet to the table view to re-establish the connection:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_19.png" alt="" width="812" height="481"/></figure>
    <p class="packt_figref">Figure 11.19: Editor area showing table view to be connected</p>
    <div><p class="normal">If you need to change the name of an outlet in your code after it has been created, right-click the outlet name and choose <strong class="screenText">Refactor</strong> | <strong class="screenText">Rename</strong> from the pop-up menu instead of changing it manually to avoid errors.</p>
    </div>
    <p class="normal">You’ve <a id="_idIndexMarker487"/>successfully created an outlet<a id="_idIndexMarker488"/> in the <code class="inlineCode">JournalListViewController</code> class for the table view. Great job!</p>
    <p class="normal">To display table view cells onscreen, you will need to implement data source methods for the table view by adding some code to the <code class="inlineCode">JournalListViewController</code> class. You will do this in the next section.</p>
    <h1 id="_idParaDest-163" class="heading-1">Configuring data source methods for the table view</h1>
    <p class="normal">When<a id="_idIndexMarker489"/> your app is running, an instance <a id="_idIndexMarker490"/>of the <code class="inlineCode">JournalListViewController</code> class acts as the view controller for the Journal List screen. It is responsible for loading and displaying all the views on that screen, including the table view you added earlier. The table view needs to know how many table view cells to display and what to display in each cell. Normally, the view controller is responsible for providing this information. Apple has created a protocol, <code class="inlineCode">UITableViewDataSource</code>, for this purpose. All you need to do is set the table view’s <code class="inlineCode">dataSource</code> property to the <code class="inlineCode">JournalListViewController</code> class and implement the required methods of this protocol.</p>
    <p class="normal">The table view also needs to know what to do if the user taps on a table view cell. Again, the view controller for the table view is responsible, and Apple has created the <code class="inlineCode">UITableViewDelegate</code> protocol for this purpose. You will set the table view’s <code class="inlineCode">delegate</code> property to the <code class="inlineCode">JournalListViewController</code> class, but you won’t be implementing any methods from this protocol yet.</p>
    <div><p class="normal">Protocols are covered in <em class="chapterRef">Chapter 8</em>, <em class="italic">Protocols, Extensions, and Error Handling</em>.</p>
    </div>
    <p class="normal">You will need to type in a small amount of code in this chapter. Don’t worry about what it means; you’ll learn more about table view controllers and their associated protocols in <em class="italic">Part 3</em> of this book.</p>
    <p class="normal">In the next section, you’ll use the Connections inspector to assign the table view’s <code class="inlineCode">dataSource</code> and <code class="inlineCode">delegate</code> properties to outlets in the <code class="inlineCode">JournalListViewController</code> class.</p>
    <h2 id="_idParaDest-164" class="heading-2">Setting the delegate and data source properties of the table view</h2>
    <p class="normal">An instance of <a id="_idIndexMarker491"/>the <code class="inlineCode">JournalListViewController</code> class will provide the data that the table view will display, as well as the methods that will be executed when the user interacts with the table view. To make this work, you’ll connect the table view’s <code class="inlineCode">dataSource</code> and <code class="inlineCode">delegate</code> properties to outlets in the <code class="inlineCode">JournalListViewController</code> class. Follow these steps:</p>
    <ol>
      <li class="numberedList" value="1">Click the Navigator and Inspector buttons to display the Navigator and Inspector areas again if you haven’t done so already.</li>
      <li class="numberedList">The <strong class="screenText">Main</strong> storyboard file should still be selected. Select the <strong class="screenText">Table View</strong> for the <strong class="screenText">Journal Scene</strong> in the document outline and click the Connections inspector button. In the <strong class="screenText">Outlets</strong> section, you will see two empty circles next to the <strong class="screenText">dataSource</strong> and <strong class="screenText">delegate</strong> outlets. Drag from each empty circle to the <strong class="screenText">Journal</strong> icon in the document outline:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_20.png" alt="" width="812" height="306"/></figure>
    <p class="packt_figref">Figure 11.20: Connections inspector showing the dataSource and delegate outlets</p>
    <ol>
      <li class="numberedList" value="3">Verify that the <code class="inlineCode">dataSource</code> and <code class="inlineCode">delegate</code> properties of the table view have been connected to outlets in the <code class="inlineCode">JournalListViewController</code> class:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_21.png" alt="" width="543" height="205"/></figure>
    <p class="packt_figref">Figure 11.21: Connections inspector with the dataSource and delegate outlets set</p>
    <p class="normal">In the next section, you will add some code to make the <code class="inlineCode">JournalListViewController</code> class conform to the <code class="inlineCode">UITableViewDataSource</code> protocol, and configure the table view to display 10 table view cells when you run your app.</p>
    <h2 id="_idParaDest-165" class="heading-2">Adopting the UITableViewDataSource and UITableViewDelegate protocols</h2>
    <p class="normal">So far, you’ve<a id="_idIndexMarker492"/> made the <code class="inlineCode">JournalListViewController</code> class the data source and delegate for the table view. The next step is to make it adopt <a id="_idIndexMarker493"/>the <code class="inlineCode">UITableViewDataSource</code> and <code class="inlineCode">UITableViewDelegate</code> protocols and implement any required methods. You’ll also change the color of the table view cells to make them visible onscreen. Follow these steps:</p>
    <ol>
      <li class="numberedList" value="1">Click <strong class="screenText">Table View</strong> in the document outline and click the Attributes inspector button. Under <strong class="screenText">Table View</strong>, change the number of <strong class="screenText">Prototype Cells</strong> to <code class="inlineCode">1</code>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_22.png" alt="" width="812" height="281"/></figure>
    <p class="packt_figref">Figure 11.22: Attributes inspector showing Prototype Cells set to 1</p>
    <ol>
      <li class="numberedList" value="2">Click the <strong class="screenText">&gt;</strong> button next to <strong class="screenText">Table View</strong> in the document outline to display <strong class="screenText">Table View Cell</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_23.png" alt="" width="436" height="302"/></figure>
    <p class="packt_figref">Figure 11.23: Document outline showing &gt; button</p>
    <p class="normal-one">This<a id="_idIndexMarker494"/> represents the table view cells<a id="_idIndexMarker495"/> that the table view will display.</p>
    <ol>
      <li class="numberedList" value="3">Click <strong class="screenText">Table View Cell</strong> in the document outline. In the <strong class="screenText">Attributes inspector</strong> under <strong class="screenText">Table View Cell</strong>, set <strong class="screenText">Identifier</strong> to <code class="inlineCode">journalCell</code> and press <em class="keystroke">Return</em>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_24.png" alt="" width="812" height="281"/></figure>
    <p class="packt_figref">Figure 11.24: Attributes inspector with Identifier set</p>
    <p class="normal-one">The name <strong class="screenText">Table View Cell</strong> in the document outline will change to <strong class="screenText">journalCell</strong>.</p>
    <ol>
      <li class="numberedList" value="4">In the <a id="_idIndexMarker496"/>Attributes inspector <a id="_idIndexMarker497"/>under <strong class="screenText">View</strong>, set <strong class="screenText">Background</strong> to <strong class="screenText">System Cyan Color</strong> so that you can see the table view cells easily when you run the app:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_25.png" alt="" width="812" height="423"/></figure>
    <p class="packt_figref">Figure 11.25: Attributes inspector with table view cell background color set</p>
    <ol>
      <li class="numberedList" value="5">Click on the <strong class="screenText">JournalListViewController</strong> file in the Project navigator. Type in the following code after the class declaration to make the <code class="inlineCode">JournalListViewController</code> class adopt the <code class="inlineCode">UITableViewDataSource</code> and <code class="inlineCode">UITableViewDelegate</code> protocols:
        <pre class="programlisting code-one"><code class="hljs-code">class JournalListViewController: UIViewController<strong class="hljs-slc">, </strong><strong class="hljs-con-attribute-slc">UITableViewDataSource</strong><strong class="hljs-slc">, </strong><strong class="hljs-con-attribute-slc">UITableViewDelegate</strong> {
</code></pre>
      </li>
    </ol>
    <p class="normal-one">After a few seconds, an error will appear:</p>
    <figure class="mediaobject"><img src="img/B31371_11_26.png" alt="" width="639" height="211"/></figure>
    <p class="packt_figref">Figure 11.26: Editor area showing error</p>
    <ol>
      <li class="numberedList" value="6">Click<a id="_idIndexMarker498"/> on it to display an error <a id="_idIndexMarker499"/>message. The error message says <strong class="screenText">Type ‘JournalListViewController’ does not conform to protocol ‘UITableViewDataSource’</strong>.<strong class="screenText"> Add stubs for conformance</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_27.png" alt="" width="639" height="207"/></figure>
    <p class="packt_figref">Figure 11.27: Editor area showing an error message</p>
    <p class="normal-one">This means you need to implement the required methods for the <code class="inlineCode">UITableViewDataSource</code> protocol to make <code class="inlineCode">JournalListViewController</code> conform to it.</p>
    <ol>
      <li class="numberedList" value="7">Click <strong class="screenText">Fix</strong> to automatically add stubs for the required methods into the <code class="inlineCode">JournalListViewController</code> class.</li>
      <li class="numberedList">Verify the stubs for the two required methods for the <code class="inlineCode">UITableViewDataSource</code> protocol have been automatically inserted into the <code class="inlineCode">JournalListViewController</code> class, as shown here:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_28.png" alt="" width="647" height="404"/></figure>
    <p class="packt_figref">Figure 11.28: Editor area showing UITableViewDataSource method stubs</p>
    <p class="normal-one">The <a id="_idIndexMarker500"/>first method tells the table view <a id="_idIndexMarker501"/>how many cells to display, while the second method tells the table view what to display in each table view cell.</p>
    <ol>
      <li class="numberedList" value="9">Replace the placeholder text in the first method with <code class="inlineCode">10</code> (the <code class="inlineCode">return</code> keyword is optional if it’s just a single line of code). This tells the table view to display 10 cells:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_29.png" alt="" width="588" height="148"/></figure>
    <p class="packt_figref">Figure 11.29: Editor area showing code to display 10 table view cells</p>
    <ol>
      <li class="numberedList" value="10">Replace the<a id="_idIndexMarker502"/> placeholder text in the<a id="_idIndexMarker503"/> second method with the following code:
        <pre class="programlisting code-one"><code class="hljs-code">tableView.dequeueReusableCell(withIdentifier: "journalCell", for: indexPath)
</code></pre>
      </li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_30.png" alt="" width="710" height="261"/></figure>
    <p class="packt_figref">Figure 11.30: Editor area showing code to display a table view cell for each row</p>
    <p class="normal-one">Don’t worry about what this means for now as you’ll learn more about table views in <em class="italic">Part 3</em>.</p>
    <ol>
      <li class="numberedList" value="11">Build and <a id="_idIndexMarker504"/>run your app. Simulator will <a id="_idIndexMarker505"/>display a column of 10 cyan table view cells, as shown here:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_31.png" alt="" width="464" height="816"/></figure>
    <p class="packt_figref">Figure 11.31: Simulator showing 10 table view cells</p>
    <p class="normal">As you saw in the app tour in <em class="chapterRef">Chapter 10</em>, <em class="italic">Setting Up the User Interface</em>, there should be a <strong class="screenText">+</strong> button at the top right of this screen. You will add this button in the next section.</p>
    <h1 id="_idParaDest-166" class="heading-1">Presenting a view modally</h1>
    <p class="normal">The navigation bar for the<a id="_idIndexMarker506"/> Journal List screen can be configured to display a title and buttons. You have already configured the title in <em class="chapterRef">Chapter 10</em>, <em class="italic">Setting Up the User Interface</em>. Now you will add and configure a bar button item to the navigation bar. When tapped, this button will display a view representing the Add New Journal Entry screen. This view will be from a new view controller scene embedded in a navigation controller, which you will add to the project. The view will be presented modally, which means you won’t be able to do anything else until it is dismissed.</p>
    <p class="normal">To dismiss it, you’ll add a <strong class="screenText">Cancel</strong> button to the view’s navigation bar. You’ll also add a <strong class="screenText">Save</strong> button, but you’ll only implement its functionality in <em class="chapterRef">Chapter 16</em>, <em class="italic">Passing Data between View Controllers</em>. Let’s start by adding a bar button item from the library to the navigation bar in the next section.</p>
    <h2 id="_idParaDest-167" class="heading-2">Adding a bar button to the navigation bar</h2>
    <p class="normal">As shown<a id="_idIndexMarker507"/> in the app tour in <em class="chapterRef">Chapter 10</em>, <em class="italic">Setting Up the User Interface</em>, there is a <strong class="screenText">+</strong> button in the top right-hand corner of the screen. To <a id="_idIndexMarker508"/>implement this, you’ll add a bar button item to the Journal List screen’s navigation bar. Follow these steps:</p>
    <ol>
      <li class="numberedList" value="1">Click the <strong class="screenText">Main</strong> storyboard file in the Project navigator. Make sure the first <strong class="screenText">Journal Scene</strong> is selected in the document outline. Click the Library button to display the library:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_32.png" alt="" width="812" height="258"/></figure>
    <p class="packt_figref">Figure 11.32: Toolbar with Library button shown</p>
    <ol>
      <li class="numberedList" value="2">Type <code class="inlineCode">bar b</code> in <a id="_idIndexMarker509"/>the filter field. A <strong class="screenText">Bar Button Item </strong>object <a id="_idIndexMarker510"/>will appear in the results. Drag the bar button object to the right side of the navigation bar:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_33.png" alt="" width="743" height="287"/></figure>
    <p class="packt_figref">Figure 11.33: Library with Bar Button Item object selected</p>
    <ol>
      <li class="numberedList" value="3">With the bar button<strong class="screenText"> </strong>selected, click the Attributes inspector button. Under <strong class="screenText">Bar Button Item</strong>, set <strong class="screenText">System Item</strong> to <strong class="screenText">Add</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_34.png" alt="" width="812" height="246"/></figure>
    <p class="packt_figref">Figure 11.34: Attributes inspector with System Item set to Add</p>
    <p class="normal">You now have a <strong class="screenText">+</strong> button in your navigation bar. In the next section, you will add a view controller scene to represent the Add New Journal Entry screen that will appear when the button is tapped.</p>
    <h2 id="_idParaDest-168" class="heading-2">Adding a new view controller scene</h2>
    <p class="normal">As shown in the app <a id="_idIndexMarker511"/>tour in <em class="chapterRef">Chapter 10</em>, <em class="italic">Setting Up the User Interface</em>, when you tap the <strong class="screenText">+</strong> button in the navigation bar, the Add New Journal Entry screen will be displayed. You’ll add a new view controller scene to your project to represent this screen. Follow these steps:</p>
    <ol>
      <li class="numberedList" value="1">Click the Library button to display the library and type <code class="inlineCode">view con</code> in the filter field. A <strong class="screenText">View Controller</strong> object will be among the search results. Drag the <strong class="screenText">View Controller</strong> object onto the storyboard:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_35.png" alt="" width="812" height="291"/></figure>
    <p class="packt_figref">Figure 11.35: Library with the View Controller object selected</p>
    <ol>
      <li class="numberedList" value="2">Position the view controller to the right of the <strong class="screenText">Journal</strong> scene:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_36.png" alt="" width="812" height="641"/></figure>
    <p class="packt_figref">Figure 11.36: Editor area showing view controller scene next to Journal scene</p>
    <ol>
      <li class="numberedList" value="3">Select the<a id="_idIndexMarker512"/> newly added view controller scene. In the document outline, click on the <strong class="screenText">View Controller</strong> icon for this scene:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_37.png" alt="" width="812" height="431"/></figure>
    <p class="packt_figref">Figure 11.37: Document outline with View Controller selected</p>
    <ol>
      <li class="numberedList" value="4">You will need space for the <strong class="screenText">Cancel</strong> and <strong class="screenText">Save</strong> buttons, so you will embed this view controller scene in a navigation controller to provide a navigation bar where the buttons can be placed. Choose <strong class="screenText">Embed In</strong> | <strong class="screenText">Navigation Controller</strong> from the <strong class="screenText">Editor</strong> menu.</li>
      <li class="numberedList">Verify that a <a id="_idIndexMarker513"/>navigation controller scene has appeared to the left of the view controller scene:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_38.png" alt="" width="812" height="445"/></figure>
    <p class="packt_figref">Figure 11.38: Editor area showing view controller scene embedded in a navigation controller</p>
    <ol>
      <li class="numberedList" value="6">Click the <strong class="screenText">Navigation Item</strong> for the new view controller scene in the document <a id="_idIndexMarker514"/>outline. In the Attributes inspector, under <strong class="screenText">Navigation Item</strong>, set <strong class="screenText">Title</strong> to <code class="inlineCode">New Entry</code>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_39.png" alt="" width="812" height="321"/></figure>
    <p class="packt_figref">Figure 11.39: Attributes inspector with Title set to New Entry</p>
    <p class="normal-one">The name of the navigation item will change to <strong class="screenText">New Entry</strong>.</p>
    <ol>
      <li class="numberedList" value="7"><em class="keystroke">Ctrl</em> + <em class="keystroke">Drag</em> from the button to the navigation controller scene:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_40.png" alt="" width="812" height="236"/></figure>
    <p class="packt_figref">Figure 11.40: Editor area showing the drag destination</p>
    <ol>
      <li class="numberedList" value="8">The segue<a id="_idIndexMarker515"/> pop-up menu will appear. Choose <strong class="screenText">Present Modally</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_41.png" alt="" width="294" height="268"/></figure>
    <p class="packt_figref">Figure 11.41: Segue pop-up menu with Present Modally selected</p>
    <p class="normal-one">This makes the view controller’s view slide up from the bottom of the screen when the button is tapped. You won’t be able to interact with any other view until this view is dismissed.</p>
    <ol>
      <li class="numberedList" value="9">Verify that a <a id="_idIndexMarker516"/>segue has linked the <strong class="screenText">Journal</strong> scene and the <strong class="screenText">Navigation Controller </strong>scene together:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_42.png" alt="" width="812" height="590"/></figure>
    <p class="packt_figref">Figure 11.42: Editor area showing segue between the Journal scene and Navigation Controller scene</p>
    <ol>
      <li class="numberedList" value="10">Build and run your app. Click the <strong class="screenText">+</strong> button and the new view controller’s view will slide up from the bottom of the screen:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_43.png" alt="" width="453" height="649"/></figure>
    <p class="packt_figref">Figure 11.43: Simulator showing new view controller’s view</p>
    <p class="normal">You can only dismiss this view by dragging it downward at present. In the next section, you will add a <strong class="screenText">Cancel</strong> button to the navigation bar and program it to dismiss the view. You’ll also add a <strong class="screenText">Save</strong> button, but you won’t program it yet.</p>
    <h2 id="_idParaDest-169" class="heading-2">Adding Cancel and Save buttons to the navigation bar</h2>
    <p class="normal">As you have seen earlier, one of the benefits of embedding a view controller in a navigation controller is the navigation bar at the top of the screen. You can place buttons on its left and right sides. Follow these steps to add the <strong class="screenText">Cancel</strong> and <strong class="screenText">Save</strong> buttons to the navigation bar:</p>
    <ol>
      <li class="numberedList" value="1">Click <a id="_idIndexMarker517"/>the <strong class="screenText">Navigation Item</strong> for the <strong class="screenText">New Entry</strong> scene in the document outline. Click the <strong class="screenText">Library</strong> button:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_44.png" alt="" width="812" height="253"/></figure>
    <p class="packt_figref">Figure 11.44: Toolbar with Library button shown</p>
    <ol>
      <li class="numberedList" value="2">Type <code class="inlineCode">bar b</code> into the filter field and drag a <strong class="screenText">Bar Button Item</strong> object to each side of the navigation bar:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_45.png" alt="" width="812" height="334"/></figure>
    <p class="packt_figref">Figure 11.45: Library with Bar Button Item object selected</p>
    <ol>
      <li class="numberedList" value="3">Click the<a id="_idIndexMarker518"/> right <strong class="screenText">Item</strong> button. In the Attributes inspector under <strong class="screenText">Bar Button Item</strong>, set <strong class="screenText">Style</strong> to <strong class="screenText">Done</strong> and set <strong class="screenText">System Item</strong> to <strong class="screenText">Save</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_46.png" alt="" width="812" height="314"/></figure>
    <p class="packt_figref">Figure 11.46: Attributes inspector with Style set to Done and System Item set to Save</p>
    <ol>
      <li class="numberedList" value="4">Click the left <strong class="screenText">Item</strong> button and set <strong class="screenText">System Item</strong> to <strong class="screenText">Cancel</strong>:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_47.png" alt="" width="812" height="323"/></figure>
    <p class="packt_figref">Figure 11.47: Attributes inspector with System Item set to Cancel</p>
    <p class="normal-one">Remember that the navigation controller has a property, <code class="inlineCode">viewControllers</code>, that holds an array of view controllers. When you click the <strong class="screenText">+</strong> button on the Journal List screen, the new view controller is added to the <code class="inlineCode">viewControllers</code> array and its view appears from the bottom of the screen, covering the Journal List screen, and the only way to dismiss the view is to drag it downward.</p>
    <ol>
      <li class="numberedList" value="5">To enable the <strong class="screenText">Cancel</strong> button to dismiss the view, you will link the <strong class="screenText">Cancel</strong> button to the scene exit and implement a method in the <code class="inlineCode">JournalListViewController</code> class that will be executed when the Journal List screen reappears. In the Project navigator, click the <strong class="screenText">JournalListViewController</strong> file and add the following method at the bottom of the file before the final closing curly brace:
        <pre class="programlisting code-one"><code class="hljs-code">@IBAction func unwindNewEntryCancel(segue:
UIStoryboardSegue) {
}
</code></pre>
      </li>
      <li class="numberedList">Click on <a id="_idIndexMarker519"/>the <strong class="screenText">Main</strong> storyboard file in the Project navigator, and click the <strong class="screenText">Cancel</strong> button in the New Entry scene. In the document outline, <em class="keystroke">Ctrl</em> + <em class="keystroke">Drag</em> from the <strong class="screenText">Cancel</strong> button to the scene exit icon and choose <strong class="screenText">unwindNewEntryCancelWithSegue:</strong> from the pop-up menu:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_48.png" alt="" width="477" height="458"/></figure>
    <p class="packt_figref">Figure 11.48: Document outline showing the Cancel button action being set</p>
    <p class="normal-one">When your app is running, clicking the <strong class="screenText">Cancel</strong> button will remove the view controller from the navigation controller’s <code class="inlineCode">viewControllers</code> array, dismiss the view that is presented modally, and execute the <code class="inlineCode">unwindNewEntryCancel(segue:)</code> method. Note that this method doesn’t do anything at present.</p>
    <ol>
      <li class="numberedList" value="7">Build and <a id="_idIndexMarker520"/>run your app and click the <strong class="screenText">+</strong> button in the navigation bar of the Journal List screen. The new view will appear. When you click the <strong class="screenText">Cancel</strong> button, the new view disappears:</li>
    </ol>
    <figure class="mediaobject"><img src="img/B31371_11_49.png" alt="" width="464" height="619"/></figure>
    <p class="packt_figref">Figure 11.49: Simulator showing the Cancel button</p>
    <p class="normal">Congratulations! You’ve completed the basic structure for the Journal List screen!</p>
    <h1 id="_idParaDest-170" class="heading-1">Summary</h1>
    <p class="normal">In this chapter, you added a table view to the Journal List screen in the Main storyboard file and modified the existing view controller class to implement the <code class="inlineCode">JournalListViewController</code> class. Then, you modified the <code class="inlineCode">JournalListViewController</code> class to have an outlet for the table view in the storyboard and made it the data source and delegate for the table view. Finally, you added a button to display a second view and configured a <strong class="screenText">Cancel</strong> button to dismiss it.</p>
    <p class="normal">At this point, you should be proficient in using Interface Builder to add views and view controllers to a storyboard scene, link view controller outlets to UI elements in storyboards, set up table views, and present views modally. This will be very useful when you’re designing the UI for your own apps.</p>
    <p class="normal">In the next chapter, you’ll implement the Journal Entry Detail screen of your app and implement a map view for the Map screen.</p>
    <h1 id="_idParaDest-171" class="heading-1">Join us on Discord!</h1>
    <p class="normal">Read this book alongside other users, experts, and the author himself. Ask questions, provide solutions to other readers, chat with the author via Ask Me Anything sessions, and much more. Scan the QR code or visit the link to join the community.</p>
    <p class="normal"><a href="https://packt.link/ios-Swift%0D">https://packt.link/ios-Swift</a></p>
    <p class="normal"><a href="https://packt.link/ios-Swift%0D"><img src="img/QR_Code2370024260177612484.png" alt="" width="177" height="177"/></a></p>
  </div>
</div></div></body></html>