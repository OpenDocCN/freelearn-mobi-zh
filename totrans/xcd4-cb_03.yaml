- en: Chapter 3. Using Storyboards
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 3 章。使用 Storyboards
- en: 'In this chapter, we will cover:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍：
- en: Configuring storyboards for a project
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为项目配置故事板
- en: Creating a Twitter application
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建 Twitter 应用程序
- en: Creating storyboard scenes
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建故事板场景
- en: Configuring storyboard scenes
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置故事板场景
- en: Applying transitions to storyboards
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将转换应用到故事板
- en: Configuring a tweet
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置推文
- en: Adding photos to a tweet
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向推文中添加照片
- en: Preparing transition to another view controller
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准备转换到另一个视图控制器
- en: Presenting storyboard view controllers programmatically
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以编程方式呈现故事板视图控制器
- en: Introduction
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: Starting with the release of Xcode 4.2 and iOS 5, developers and designers now
    have the ability to lay out the workflow of their applications using the new storyboards
    feature that has been incorporated as part of the XIB editor in Xcode.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 从 Xcode 4.2 和 iOS 5 的发布开始，开发者和设计师现在可以使用 Xcode 中作为 XIB 编辑器一部分的新故事板功能来布局他们应用程序的工作流程。
- en: Instead of creating numerous interface files, you can now start dragging and
    editing all your views in one place with the ability to specify transitions between
    screens and the associated actions that trigger them.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 而不是创建大量的界面文件，你现在可以开始在一个地方拖动并编辑所有视图，同时可以指定屏幕之间的转换以及触发它们的关联动作。
- en: In this chapter, we will be gaining an understanding of what storyboards actually
    are, and how they require iOS 5 or later, as well as familiarizing ourselves with
    the new workflow that has been implemented within the XIB editor within Xcode.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将了解故事板实际上是什么，以及它们为什么需要 iOS 5 或更高版本，并熟悉 Xcode 中 XIB 编辑器内实施的新工作流程。
- en: Configuring storyboards for a project
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为项目配置故事板
- en: Getting ready
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: In this recipe, we will learn how to configure an application's project properties
    using Xcode so that it is set up correctly to use a storyboard file.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将学习如何使用 Xcode 配置应用程序的项目属性，以便正确设置以使用故事板文件。
- en: How to do it...
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'To begin, perform the following simple steps:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始，请执行以下简单步骤：
- en: Select your project from the project navigator window.
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从项目导航器窗口中选择你的项目。
- en: Then, select your project target from under the **TARGETS** group and select
    the **Summary** tab.![How to do it...](img/3349_03_01.jpg)
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，从 **TARGETS** 组下选择你的项目目标，并选择 **摘要** 选项卡。![如何操作...](img/3349_03_01.jpg)
- en: Select **MainStoryboard** from the **Main Storyboard** drop-down menu, as shown
    in the preceding screenshot.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 **主故事板** 下拉菜单中选择 **MainStoryboard**，如前图所示。
- en: How it works...
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we gained an understanding of what storyboards are, as well
    as how they differ from user interfaces created in the past, whereby a new view
    would need to be created for each XIB file for your application.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们了解了什么是故事板，以及它们与过去创建的用户界面有何不同，即对于你的应用程序中的每个 XIB 文件，都需要创建一个新的视图。
- en: Whether you are creating applications for the iPad or iPhone, each view controller
    that gets created within your storyboard represents the contents of a single screen,
    comprised of the contents of more than one scene.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 不论你是为 iPad 还是 iPhone 创建应用程序，你的故事板中创建的每个视图控制器都代表单个屏幕的内容，由多个场景的内容组成。
- en: Each object contained within a view controller can be linked to another view
    controller that implements another scene.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 视图控制器中包含的每个对象都可以链接到实现另一个场景的另一个视图控制器。
- en: In our final steps, we looked at how to configure our project properties so
    that it is set up to use the storyboard user interface file by our application.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们的最后几步中，我们查看如何配置项目属性，以便应用程序设置以使用故事板用户界面文件。
- en: There's more…
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: 'You can also choose to manually add new **Storyboard** template to your project.
    This can be achieved by performing the following simple steps:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以选择手动将新的 **Storyboard** 模板添加到你的项目中。这可以通过执行以下简单步骤实现：
- en: Select your project from the project navigator window.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从项目导航器窗口中选择你的项目。
- en: Select **File** | **New** | **File…** or press *command* + *N*.
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **文件** | **新建** | **文件…** 或按 *command* + *N*。
- en: Select the **Storyboard** template from the list of available templates, located
    under the **User Interface** subsection within the **iOS** section.![There's more…](img/3349_03_02.jpg)
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 **iOS** 部分下的 **用户界面** 子部分中选择 **Storyboard** 模板，如前图所示。![还有更多…](img/3349_03_02.jpg)
- en: Click on the **Next** button to proceed to the next step in the wizard.
  id: totrans-33
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **下一步** 按钮继续到向导的下一步。
- en: Ensure that you have selected **iPhone** from under the **Device Family** drop-down
    menu.
  id: totrans-34
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保你已从 **设备家族** 下拉菜单中选择 **iPhone**。
- en: Click on the **Next** button to proceed to the next step in the wizard.
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **下一步** 按钮继续向导的下一步。
- en: Specify the name of the storyboard file within the **Save As** field as the
    name of the file to be created.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **另存为** 字段中指定故事板文件的名称，即为要创建的文件命名。
- en: Click on the **Create** button to save the file to the specified folder.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **创建** 按钮将文件保存到指定的文件夹。
- en: 'Finally, when we create our project using storyboards, we will need to modify
    our application''s delegate `AppDelegate.m` file, as shown in the following code
    snippet:'
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，当我们使用故事板创建项目时，我们需要修改应用程序的代理文件 `AppDelegate.m`，如下代码片段所示：
- en: '[PRE0]'
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: Note
  id: totrans-40
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: For more information about using storyboards in your applications, you can refer
    to the Apple Developer documentation, located at [https://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/Xcode4UserGuide/InterfaceBuilder/InterfaceBuilder](https://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/Xcode4UserGuide/InterfaceBuilder/InterfaceBuilder).
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 关于在应用程序中使用故事板的更多信息，你可以参考位于 [https://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/Xcode4UserGuide/InterfaceBuilder/InterfaceBuilder](https://developer.apple.com/library/ios/#documentation/ToolsLanguages/Conceptual/Xcode4UserGuide/InterfaceBuilder/InterfaceBuilder)
    的Apple开发者文档。
- en: See also
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Creating a Twitter application* recipe
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*创建Twitter应用程序* 菜谱'
- en: The *Creating storyboard scenes* recipe
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*创建故事板场景* 菜谱'
- en: The *Adding and customizing views* recipe in [Chapter 2](ch02.html "Chapter 2. User
    Interfaces – Creating the UI"), *User Interfaces – Creating the UI*
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在第2章（[用户界面 – 创建UI](ch02.html "第2章。用户界面 – 创建UI"））的 *添加和自定义视图* 菜谱
- en: Creating a Twitter application
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建Twitter应用程序
- en: In this recipe, we will learn how to create a single view application to build
    our Twitter application.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将学习如何创建一个单视图应用程序来构建我们的Twitter应用程序。
- en: Getting ready
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: In this recipe, we will start by creating our **TwitterExample** project.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将首先创建我们的 **TwitterExample** 项目。
- en: How to do it...
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'To begin with creating a new Xcode project, perform the following simple steps:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始创建新的Xcode项目，请执行以下简单步骤：
- en: Launch **Xcode** from the `/Developer/Applications` folder.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 `/Developer/Applications` 文件夹启动 **Xcode**。
- en: Select **Create a new Xcode project**, or click on **File** | **New** | **Project…**.
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 **创建新的Xcode项目**，或点击 **文件** | **新建** | **项目…**。
- en: Select **Single View Application** from the list of available templates.
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从可用模板列表中选择 **单视图应用程序**。
- en: Click on the **Next** button to proceed to the next step in the wizard.
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **下一步** 按钮继续向导的下一步。
- en: Next, enter in `TwitterExample` as the name of your project.
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将项目名称输入为 `TwitterExample`。
- en: Select **iPhone** from under the **Devices** drop-down menu.
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **设备** 下拉菜单中选择 **iPhone**。
- en: Ensure that the **Use Storyboards** checkbox has been checked.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保已勾选 **使用故事板** 复选框。
- en: Ensure that the **Use Automatic Reference Counting** checkbox has been checked.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保已勾选 **使用自动引用计数** 复选框。
- en: Ensure that the **Include Unit Tests** checkbox has not been checked.
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保未勾选 **包含单元测试** 复选框。
- en: Click on the **Next** button to proceed to the next step in the wizard.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **下一步** 按钮继续向导的下一步。
- en: Specify the location where you would like to save your project.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定你想要保存项目的位置。
- en: Then, click on the **Create** button to save your project at the specified location.
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，点击 **创建** 按钮将项目保存到指定的位置。
- en: Note
  id: totrans-64
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: The Company Identifier for your app needs to be unique. Apple recommends that
    you use the reverse domain style (for example, `com.domainName.appName`).
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你的应用程序的公司标识符需要是唯一的。苹果公司建议你使用反向域名样式（例如，`com.domainName.appName`）。
- en: Once your project has been created, you will be presented with the Xcode development
    environment, along with the project files that the template created for you.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦创建好项目，你将看到Xcode开发环境，以及模板为你创建的项目文件。
- en: How it works...
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we just created an application that contains a storyboard and
    consists of one view controller, which does not provide any functionality at the
    moment. In the following recipes, we will look at how we can add functionality
    to view controllers, create storyboard scenes, and transition between them.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们只创建了一个包含故事板和一个视图控制器但当前没有任何功能的应用程序。在接下来的菜谱中，我们将探讨如何向视图控制器添加功能，创建故事板场景，并在它们之间进行切换。
- en: See also
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Creating storyboard scenes* recipe
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*创建故事板场景* 菜谱'
- en: The *Configuring storyboard scenes* recipe
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*配置故事板场景* 菜谱'
- en: The *Applying transitions to storyboards* recipe
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*将转换应用到故事板* 的配方'
- en: The *Preparing transition to another view controller* recipe
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*准备过渡到另一个视图控制器* 的配方'
- en: The *Presenting storyboard view controllers programmatically* recipe
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*以编程方式呈现故事板视图控制器* 的配方'
- en: Creating storyboard scenes
  id: totrans-75
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建故事板场景
- en: The process of creating scenes involves adding a new view controller to the
    storyboard, where each view controller is responsible for managing a single scene.
    A better way to describe scenes would be to think of a movie reel, where each
    frame that is being displayed is the actual scene that connects onto the next
    part.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 创建场景的过程涉及向故事板添加一个新的视图控制器，其中每个视图控制器负责管理单个场景。更好地描述场景的方式是将其想象成一个电影胶卷，其中正在显示的每一帧实际上是连接到下一个部分的场景。
- en: Getting ready
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: When adding scenes to your storyboard file, you can add controls and views to
    the view controller's view, just as you would do for an XIB file, and have the
    ability to configure outlets and actions between your view controllers and its
    views.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 当将场景添加到你的故事板文件时，你可以像对 XIB 文件做的那样，向视图控制器视图添加控件和视图，并且能够在视图控制器及其视图之间配置输出和动作。
- en: How to do it...
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'To add a new scene into your storyboard file, perform the following simple
    steps:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 要将新场景添加到你的故事板文件中，执行以下简单的步骤：
- en: From the project navigator, select the file named `MainStoryboard.storyboard`.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从项目导航器中选择名为 `MainStoryboard.storyboard` 的文件。
- en: From **Object Library**, select and drag a new **View Controller** object on
    to the storyboard canvas. This is shown in the following screenshot:![How to do
    it...](img/3349_03_03.jpg)
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 **对象库** 中选择并拖动一个新的 **视图控制器** 对象到故事板画布上。这在上面的屏幕截图中显示：![如何操作...](img/3349_03_03.jpg)
- en: Next, drag a **Label** control on to the view and change the label's text property
    to read **About Twitter App**.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将一个 **标签** 控件拖到视图中，并将标签的文本属性更改为 **关于 Twitter 应用**。
- en: Next, drag a **Round Rect Button** control on to the view that we will use in
    a later section to call the calling view. In the button's attributes, change the
    text to read **Go Back**.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将一个 **圆形矩形按钮** 控件拖到我们将在后续部分中用于调用调用视图的视图中。在按钮的属性中，将文本更改为 **返回**。
- en: Next, on the first view controller, drag a **Round Rect Button** control on
    to the view. In the button's attributes, change the text to read **About Twitter
    App**. This will be used to call the new view that we added in the previous step.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在第一个视图控制器上，将一个 **圆形矩形按钮** 控件拖到视图中。在按钮的属性中，将文本更改为 **关于 Twitter 应用**。这将用于调用我们上一步添加的新视图。
- en: Next, on the first view controller, drag a **Round Rect Button** control on
    to the view, underneath the **About Twitter App** button that we created in the
    previous step. In the button's attributes, change the text to read **Compose Tweet**.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在第一个视图控制器上，将一个 **圆形矩形按钮** 控件拖到视图中，位于我们上一步创建的 **关于 Twitter 应用** 按钮下方。在按钮的属性中，将文本更改为
    **撰写推文**。
- en: Next, save your project by selecting **File** | **Save** from the menu bar,
    or alternatively by pressing *command* + *S*.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，通过选择菜单栏中的 **文件** | **保存** 或按 *command* + *S* 保存你的项目。
- en: 'Once you have added the controls to each of the view, your final interface
    should look something like what is shown in the following screenshot:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你将控件添加到每个视图，你的最终界面应该看起来像下面屏幕截图所示：
- en: '![How to do it...](img/3349_03_04.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作...](img/3349_03_04.jpg)'
- en: Note
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you would like to refresh your memory on how to create actions, these were
    discussed in the *Creating actions that respond to user actions* recipe in [Chapter
    1](ch01.html "Chapter 1. Getting and Installing the iOS SDK Development Tools"),
    *Getting and Installing the iOS SDK Development Tools*.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想要刷新如何创建动作的记忆，这些在 [第 1 章](ch01.html "第 1 章。获取和安装 iOS SDK 开发工具") 的 *创建响应用户动作的动作*
    配方中进行了讨论，*获取和安装 iOS SDK 开发工具*。
- en: 'The next step is to create the `Action` event for our **Compose Tweet** button
    so that it has the ability to post tweets. To create an action, perform the following
    steps:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是为我们的 **撰写推文** 按钮创建 `Action` 事件，以便它能够发布推文。要创建一个动作，请执行以下步骤：
- en: Open the assistant editor by selecting **Navigate** | **Open In Assistant Editor**
    or by pressing *option* + *command* + *,*.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过选择 **导航** | **在辅助编辑器中打开** 或按 *option* + *command* + *,* 打开辅助编辑器。
- en: Ensure that the `ViewController.h` interface file gets displayed.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保显示 `ViewController.h` 接口文件。
- en: Select the **Compose Tweet** button; hold down the *control* key, and drag it
    from the **Compose Tweet** button to the `ViewController.h` interface file between
    the `@interface` and `@end` tags.
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**Compose Tweet**按钮；按住*控制*键，并将其从**Compose Tweet**按钮拖动到`ViewController.h`接口文件中的`@interface`和`@end`标签之间。
- en: Choose **Action** from the **Connection** drop-down menu for the connection
    to be created.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**连接**下拉菜单中选择要创建的连接**Action**。
- en: Enter `composeTweet` for the name of the method to create.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为要创建的函数命名`composeTweet`。
- en: Choose **UIButton** from the **Type** drop-down menu for the type of method
    to create.![How to do it...](img/3349_03_05.jpg)
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**类型**下拉菜单中选择要创建的函数类型**UIButton**。![如何操作...](img/3349_03_05.jpg)
- en: The highlighted line in the following code snippet shows the completed `ViewController.h`
    interface file, with our method that will be responsible for calling and displaying
    our tweet sheet.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在以下代码片段中高亮显示的行显示了完成的`ViewController.h`接口文件，其中包含我们将负责调用和显示我们的推文表的函数。
- en: '[PRE1]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Now that we have created our scene, buttons, and actions, our next step is to
    configure the scene, which is shown in the next recipe.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经创建了场景、按钮和动作，我们的下一步是配置场景，这将在下一个配方中展示。
- en: How it works...
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: In this recipe, we looked at how we can add a new view controller to our storyboard
    and then started to add controls to each of our view controllers and customize
    their properties.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个配方中，我们研究了如何向我们的故事板添加新的视图控制器，然后开始向每个视图控制器添加控件并自定义它们的属性。
- en: Next, we looked at how we can create an `Action` event for our **Compose Tweet**
    button that will be responsible for responding and executing the associated code
    behind it to display our tweet sheet.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们研究了如何为我们的**Compose Tweet**按钮创建一个`Action`事件，该事件将负责响应并执行其背后的相关代码以显示我们的推文表。
- en: Instead of us hooking up an event handler to the `TouchUpInside` event of the
    button, we decided to simply add an action to it and handle the output of this
    ourselves. These types of actions are called "instance methods". Here we are basically
    creating the `Action` method that will be responsible for allowing the user to
    compose and send a Twitter message.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 我们没有将事件处理程序连接到按钮的`TouchUpInside`事件，而是决定简单地给它添加一个动作，并自行处理输出。这类动作被称为“实例方法”。在这里，我们基本上创建了一个`Action`方法，它将负责允许用户编写并发送Twitter消息。
- en: See also
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Configuring storyboard scenes* recipe
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*配置故事板场景*配方'
- en: The *Applying transitions to storyboards* recipe
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*将转场应用到故事板中*配方'
- en: The *Preparing transition to another view controller* recipe
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*准备过渡到另一个视图控制器*配方'
- en: The *Presenting storyboard view controllers programmatically* recipe
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*以编程方式呈现故事板视图控制器*配方'
- en: The *Creating outlets to Interface Builder objects* recipe in [Chapter 1](ch01.html
    "Chapter 1. Getting and Installing the iOS SDK Development Tools"), *Getting and
    Installing the iOS SDK Development Tools*
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[创建与Interface Builder对象接口的出口](ch01.html "第1章。获取和安装iOS SDK开发工具")中的*创建与Interface
    Builder对象接口的出口*配方，*获取和安装iOS SDK开发工具*'
- en: Configuring storyboard scenes
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置故事板场景
- en: When you want to transition from one view controller to another, you can hold
    down the *control* key and click a button, table view cell, or any other object
    from one view controller, and then drag it to the new view controller for a different
    scene. This technique of dragging between view controllers creates, what is known
    as a segue.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 当你想从一个视图控制器过渡到另一个视图控制器时，你可以按住*控制*键并点击一个按钮、表格视图单元格或任何其他对象，然后将其拖动到新视图控制器以创建不同的场景。这种在视图控制器之间拖动的技术创建了一个所谓的转场。
- en: A **segue** is a configurable object that supports all of the same types of
    transitions made available to you within the `UIKit` class reference, such as
    modal transitions and navigation transitions.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '**转场**是一个可配置的对象，它支持在`UIKit`类参考中提供的所有类型的转场，例如模态转场和导航转场。'
- en: Getting ready
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: You also have the ability to define custom transitions that replace one view
    controller with another.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 你还有能力定义自定义转场，用另一个视图控制器替换一个视图控制器。
- en: How to do it…
  id: totrans-117
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'In order to see how this can be achieved, we need to modify our **TwitterExample**
    application that we created in a previous recipe. Perform the following steps
    to do so:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 为了了解如何实现这一点，我们需要修改我们在之前的配方中创建的**TwitterExample**应用程序。执行以下步骤：
- en: Select the **About Twitter App** (`Round Rect Button`) control, and then hold
    down the *control* key while dragging it to the view controller containing the
    **Go Back** button.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“关于Twitter应用”(`圆形矩形按钮`)控件，然后按住*控制*键，将其拖动到包含“返回”按钮的视图控制器。
- en: Release the mouse button, and then choose the **modal** option from the **Action
    Segue** pop-up menu.![How to do it…](img/3349_03_06.jpg)
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 释放鼠标按钮，然后从“操作转场”弹出菜单中选择“模态”选项。![如何操作…](img/3349_03_06.jpg)
- en: You will notice that a gray arrow connects both of your view controllers. When
    the **About Twitter App** button is pressed, it will display the page containing
    the **Go Back** button.
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你会注意到一个灰色箭头连接了你的两个视图控制器。当按下“关于Twitter应用”按钮时，它将显示包含“返回”按钮的页面。
- en: Next, we need to do the same for our second view, so that when the **Go Back**
    button is pressed, it will return back to our first view.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要对我们第二个视图做同样的操作，以便当按下“返回”按钮时，它将返回到我们的第一个视图。
- en: Repeat steps 1 to 2, but substitute the **Go Back** button for the **About Twitter
    App** button.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复步骤1到2，但将“返回”按钮替换为“关于Twitter应用”按钮。
- en: 'Explanations of the storyboard segues that come part of Xcode 4 are included
    in the following table:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格包含了Xcode 4中包含的故事板转场的解释：
- en: '| Segue name | Description |'
  id: totrans-125
  prefs: []
  type: TYPE_TB
  zh: '| 转场名称 | 描述 |'
- en: '| --- | --- |'
  id: totrans-126
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| **modal** | A **modal** view controller is not a specific subclass of the
    `UIViewController` class, as any type of view controller can be presented modally
    by your application. However, like the tab bar and navigation view controllers,
    you can present your view controllers modally when you want to convey a specific
    meaning about the relationship between the previous view hierarchy and the newly
    presented view hierarchy. |'
  id: totrans-127
  prefs: []
  type: TYPE_TB
  zh: '| **模态** | 模态视图控制器不是`UIViewController`类的一个特定子类，因为任何类型的视图控制器都可以通过你的应用程序以模态方式呈现。然而，就像标签栏和导航视图控制器一样，当你想要传达前一个视图层次结构和新呈现的视图层次结构之间的特定含义时，你可以以模态方式呈现你的视图控制器。|'
- en: '| **push** | The **push** segues allow you to push a new view controller onto
    the navigation stack, just as if you were stacking plates. The view at the top
    of the stack being the one that gets rendered. |'
  id: totrans-128
  prefs: []
  type: TYPE_TB
  zh: '| **推送** | **推送**转场允许你将一个新的视图控制器推送到导航堆栈中，就像你堆叠盘子一样。堆栈顶部的视图是渲染的视图。|'
- en: '| **custom** | These allow you to customize and call a view controller from
    code using the `prepareForSegue` method, and are what you use to present the content
    of your application.The job of the view controller is to manage the presentation
    of some content and coordinate the update and the synchronization of that content
    with the application''s underlying data objects.In the case of a **custom** view
    controller, this involves creating a view to present the content and implementing
    the infrastructure needed to synchronize the contents of that view with your application''s
    data structures. |'
  id: totrans-129
  prefs: []
  type: TYPE_TB
  zh: '| **自定义** | 这些允许你使用`prepareForSegue`方法自定义并从代码中调用视图控制器，是你用来呈现应用程序内容的方式。视图控制器的工作是管理某些内容的呈现，并协调该内容与应用程序底层数据对象的更新和同步。在**自定义**视图控制器的情况下，这涉及到创建一个视图来呈现内容，并实现将那个视图的内容与你的应用程序数据结构同步所需的基础设施。|'
- en: Once you have done this, your view controllers should look like something shown
    in the following screenshot. You can apply a number of transitions to each of
    your view controllers, so that they can perform animation when they get displayed
    to the view.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 完成这些操作后，你的视图控制器应该看起来像以下屏幕截图所示。你可以为每个视图控制器应用多种过渡，以便它们在显示到视图时执行动画。
- en: '![How to do it…](img/3349_03_07.jpg)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作…](img/3349_03_07.jpg)'
- en: To learn how to apply transitions to your view controller, please refer to the
    *Applying transitions to storyboards* recipe on Transitions in this chapter.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解如何将过渡应用到你的视图控制器中，请参考本章中关于过渡的“将过渡应用到故事板”配方。
- en: Now that you have applied each of the segues to both view controllers, our final
    step is to compile, build, and run our application.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经将每个segues应用到两个视图控制器上，我们的最后一步是编译、构建和运行我们的应用程序。
- en: From the **Product** menu, select **Run**. Alternatively, you can press the
    *command* + *R* keys to compile, build, and run the application.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 从**产品**菜单中选择**运行**。或者，你可以按*command* + *R*键来编译、构建和运行应用程序。
- en: 'The following screenshot shows our application running within the iOS Simulator,
    with each of their associated screens displayed:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 以下屏幕截图显示了我们的应用程序在iOS模拟器中运行，以及它们各自关联的屏幕显示：
- en: '![How to do it…](img/3349_03_08.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作…](img/3349_03_08.jpg)'
- en: How it works...
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: So there you have it. In this recipe, we have learned how to create and add
    new scenes into our main storyboard, as well as the process on how we are able
    to link these up and configure each scene when a button has been pressed through
    the use of segues.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，这就是全部内容。在这个菜谱中，我们学习了如何创建并将新场景添加到我们的主故事板中，以及如何通过使用segues来链接这些场景并在按钮按下时配置每个场景的过程。
- en: There is also another way in which we can transition to scenes within our storyboard
    through a programmatic approach. We will be taking a closer look into this, when
    we embark on the *Presenting storyboard view controllers programmatically* recipe
    in this chapter.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 还有另一种方法，我们可以通过编程方法将场景过渡到我们的故事板中。当我们开始本章的 *以编程方式呈现故事板视图控制器* 菜谱时，我们将更深入地探讨这一点。
- en: See also
  id: totrans-140
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 相关内容
- en: The *Applying transitions to storyboards* recipe
  id: totrans-141
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*将过渡应用到故事板* 菜谱'
- en: The *Preparing transition to another view controller* recipe
  id: totrans-142
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*准备过渡到另一个视图控制器* 菜谱'
- en: The *Presenting storyboard view controllers programmatically* recipe
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*以编程方式呈现故事板视图控制器* 菜谱'
- en: Applying transitions to storyboards
  id: totrans-144
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将过渡应用到故事板
- en: In this recipe, we will look at how we can apply transition animations to views
    as well as each of the available transitions that come with storyboards.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将探讨如何将过渡动画应用到视图上，以及与故事板一起提供的所有可用过渡。
- en: Getting ready
  id: totrans-146
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: You may have seen such transitions in applications, such as the photos app that
    comes as part of the iPhone and iPad, where you can apply a transition and start
    a slideshow.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能已经在应用程序中看到过这样的过渡，例如iPhone和iPad中包含的照片应用，您可以在其中应用过渡并开始幻灯片放映。
- en: How to do it…
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'In order to configure a segue to specify a kind of transition to use between
    the different scenes, perform the following simple steps:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 为了配置segues以指定在不同场景之间使用的一种过渡，请执行以下简单步骤：
- en: Click on the segue link for the first view controller as indicated by the large
    circle in the following screenshot.
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击以下截图中的大圆圈所示的第一视图控制器的segues链接。
- en: Click on **Attributes Inspector** and then click on the **Transitions** drop-down
    menu.![How to do it…](img/3349_03_09.jpg)
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **属性检查器**，然后点击 **过渡** 下拉菜单。![如何操作…](img/3349_03_09.jpg)
- en: 'You have the ability to choose from the various transition types that are only
    applicable to the **Modal** style; these are explained within the following table:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以选择仅适用于 **Modal** 风格的各种过渡类型；这些类型在以下表格中解释：
- en: '| Transition name | Description |'
  id: totrans-153
  prefs: []
  type: TYPE_TB
  zh: '| 过渡名称 | 描述 |'
- en: '| --- | --- |'
  id: totrans-154
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| **Default** | When this transition is selected, it uses the **Cover Vertical**
    transition style. |'
  id: totrans-155
  prefs: []
  type: TYPE_TB
  zh: '| **默认** | 当选择此过渡时，它使用 **垂直覆盖** 过渡样式。 |'
- en: '| **Cover Vertical** | When the view controller is presented, its view slides
    up from the bottom of the screen. When the view is dismissed, it slides back down.
    |'
  id: totrans-156
  prefs: []
  type: TYPE_TB
  zh: '| **垂直覆盖** | 当视图控制器呈现时，其视图从屏幕底部向上滑动。当视图消失时，它滑回底部。 |'
- en: '| **Flip Horizontal** | When the view controller is presented, the current
    view initiates a horizontal 3D flip from right to left-hand side, resulting in
    the revealing of the new view as if it were on the back of the previous view.
    When this view is dismissed, the flip occurs from left to right-hand side, returning
    to the original view. |'
  id: totrans-157
  prefs: []
  type: TYPE_TB
  zh: '| **水平翻转** | 当视图控制器呈现时，当前视图从右侧开始水平3D翻转至左侧，从而揭示新视图，仿佛它位于前一个视图的背面。当此视图消失时，翻转从左侧开始至右侧，返回到原始视图。
    |'
- en: '| **Cross Dissolve** | When the view controller is presented, the current view
    fades out while the new view fades in at the same time. When the view is dismissed,
    a similar type of cross-fade is used to return to the original view. |'
  id: totrans-158
  prefs: []
  type: TYPE_TB
  zh: '| **交叉溶解** | 当视图控制器呈现时，当前视图淡出，同时新视图同时淡入。当视图消失时，使用类似类型的交叉淡入淡出返回到原始视图。 |'
- en: '| **Partial Curl** | When the view controller is presented, one corner of the
    current view curls up to reveal the modal view underneath. When the view is dismissed,
    the curled up page uncurls itself back on top of the modal view. A modal view
    presented using this transition is itself prevented from presenting any additional
    modal views.This transition style is supported only if the parent view controller
    is presenting a full-screen view and you use the `UIModalPresentationFullScreen`
    modal presentation style. Attempting to use a different form factor for the parent
    view or a different presentation style triggers an exception. |'
  id: totrans-159
  prefs: []
  type: TYPE_TB
  zh: '| **部分卷曲** | 当视图控制器呈现时，当前视图的一个角落卷曲起来以显示下面的模态视图。当视图被取消时，卷曲的页面会自己展开回到模态视图的顶部。使用此过渡方式呈现的模态视图本身被阻止呈现任何额外的模态视图。此过渡样式仅在父视图控制器呈现全屏视图且您使用
    `UIModalPresentationFullScreen` 模态呈现样式时才受支持。尝试使用不同的父视图形式因子或不同的呈现样式将触发异常。|'
- en: These transitions come as part of the `UIViewController` class that inherits
    from the `UIKit` framework. The `UIViewController` class provides the underlying
    fundamental view-management model for all of your iOS apps.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 这些过渡是作为从 `UIKit` 框架继承的 `UIViewController` 类的一部分提供的。`UIViewController` 类为您的所有
    iOS 应用提供了基本的视图管理模型。
- en: Note
  id: totrans-161
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: For more information on the preceding transition types, refer to the `UIViewController`
    framework reference in the Apple Developer documentation, located at [https://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html).
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 更多关于前面提到的切换类型的信息，请参考 Apple 开发者文档中的 `UIViewController` 框架参考，位于 [https://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/uikit/reference/UIViewController_Class/Reference/Reference.html)。
- en: How it works...
  id: totrans-163
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Xcode provides the option of changing the visual appearance of the transition
    as it takes place from one scene to another within a storyboard. These are commonly
    referred to as segues.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: Xcode 提供了在故事板中从一个场景到另一个场景改变过渡视觉效果的选择。这些通常被称为切换。
- en: Using transitions enables you to apply a variety of different styles to each
    of your view controllers that are to be rendered and displayed to the view, and
    are represented by arrows between each of the view controllers. By default, a
    **Cover Vertical** transition is performed whereby the new scene slides vertically
    upwards from the bottom of the view to cover the currently displayed scene.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 使用切换可以使您为要渲染和显示到视图中的每个视图控制器应用不同的样式，并且由视图控制器之间的箭头表示。默认情况下，执行的是 **覆盖垂直** 切换，其中新场景从视图底部垂直滑动到顶部覆盖当前显示的场景。
- en: You have the ability to define custom transitions that enable you to provide
    a custom segue class method to handle the transition. This can be achieved by
    selecting **custom** for the style of a segue, and fill in the name of the custom
    segue class to use. If you want to use any of the standard segue classes, you
    can find these located within the `UIKit` class.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 您有权定义自定义切换，这使您能够提供一个自定义切换类方法来处理切换。这可以通过选择切换的 **自定义** 样式，并填写要使用的自定义切换类名称来实现。如果您想使用任何标准切换类，您可以在
    `UIKit` 类中找到这些类。
- en: Note
  id: totrans-167
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: For information on the standard segue classes, you can refer to the `UIKitframework`
    reference in the Apple Developer documentation, located at [https://developer.apple.com/library/ios/#documentation/uikit/reference/UIKit_Framework/_index.html](https://developer.apple.com/library/ios/#documentation/uikit/reference/UIKit_Framework/_index.html).
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 关于标准切换类的信息，您可以参考 Apple 开发者文档中的 `UIKitframework` 参考信息，位于 [https://developer.apple.com/library/ios/#documentation/uikit/reference/UIKit_Framework/_index.html](https://developer.apple.com/library/ios/#documentation/uikit/reference/UIKit_Framework/_index.html)。
- en: See also
  id: totrans-169
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Preparing transition to another view controller* recipe
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*准备过渡到另一个视图控制器* 的配方'
- en: The *Presenting storyboard view controllers programmatically* recipe
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*以编程方式呈现故事板视图控制器* 的配方'
- en: Composing a tweet
  id: totrans-172
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 编写推文
- en: In this recipe, we will look at how we can use the Twitter APIs for iOS 5 and
    interact with them effectively.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个配方中，我们将探讨如何使用 iOS 5 的 Twitter API 并有效地与之交互。
- en: Getting ready
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Twitter has provided us with some very simple APIs to follow, making it a snap
    to interact with them. In this recipe, we will look at how we can use these to
    post a tweet using the Twitter composition sheet.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: Twitter为我们提供了一些非常简单的API来遵循，使其与它们交互变得非常简单。在本教程中，我们将探讨如何使用这些API通过Twitter组合表发布推文。
- en: How to do it…
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: 'In order to use Twitter within your application, we need to add the Twitter
    framework to your project. This can be achieved by performing the following simple
    steps:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 为了在您的应用程序中使用Twitter，我们需要将Twitter框架添加到您的项目中。这可以通过执行以下简单步骤实现：
- en: Select your project from within the project navigator.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中选择您的项目。
- en: Then, select your project target from under the **TARGETS** group.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，从**目标**组下选择你的项目目标。
- en: Select the **Build Phases** tab.
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**构建阶段**选项卡。
- en: 'Expand the **Link Binary with Libraries** disclosure triangle.     Click on the **+** button and select **Twitter.framework** from the list.'
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开**链接二进制库**展开箭头。点击**+**按钮，从列表中选择**Twitter.framework**。
- en: Finally, click on the **Add** button to add the framework to your project.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，点击**添加**按钮将框架添加到您的项目中。
- en: 'Our next step is to create the code functionality that will be responsible
    for posting our tweet to Twitter:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 我们下一步是创建负责将我们的推文发布到Twitter的代码功能：
- en: Open the `ViewController.m` implementation file from the project navigator.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从项目导航器打开`ViewController.m`实现文件。
- en: 'Type in the following `import` statements:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下`import`语句：
- en: '[PRE2]'
  id: totrans-186
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Next, modify the `composeTweet` method, as shown in the following code snippet:'
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，修改`composeTweet`方法，如下面的代码片段所示：
- en: '[PRE3]'
  id: totrans-188
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: How it works...
  id: totrans-189
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理...
- en: Starting with iOS 5, whenever you want to compose a Twitter message for submission,
    you will need to use the `TWTweetComposeViewController` class instance. The `TWTweetComposeViewController`
    class handles everything, and presents us with a tweet composition sheet, so that
    we can begin to type in our tweet.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 从iOS 5开始，每次您想要提交Twitter消息时，都需要使用`TWTweetComposeViewController`类实例。`TWTweetComposeViewController`类处理所有事情，并显示推文组合表，以便我们可以开始输入我们的推文。
- en: The `TWTweetComposeViewController` class also enables you to set the initial
    Twitter text information to use, including how to go about adding images and URLs.
    Next, we declared a `myTwitter` variable to point to an instance of our `TWTweetComposeViewController`
    class.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: '`TWTweetComposeViewController`类还允许您设置要使用的初始Twitter文本信息，包括如何添加图片和URL。接下来，我们声明了一个`myTwitter`变量，指向我们的`TWTweetComposeViewController`类的一个实例。'
- en: We then used the `canSendTweet` class method of the `TWTweetComposeViewController`
    class to check to see if the user has correctly installed and set up Twitter.
    If this has not been done, this statement will fail, and a value of `NO` (or `FALSE`)
    will be returned to the `isSuccess` variable.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们使用了`TWTweetComposeViewController`类的`canSendTweet`类方法来检查用户是否正确安装并设置了Twitter。如果没有这样做，这个语句将失败，并将返回一个`NO`（或`FALSE`）值给`isSuccess`变量。
- en: Next, we assigned some text to appear on our composition sheet, by setting the
    `setInitialText` method, and then displayed this to the view. Finally, we set
    up a handler, using the `completionHandler` method to notify us when the user
    has completed composing the tweet and display the relevant alert message based
    on the outcome returned by the method.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们通过设置`setInitialText`方法将一些文本分配到我们的组合表格中，并将其显示到视图中。最后，我们设置了一个处理程序，使用`completionHandler`方法在用户完成撰写推文时通知我们，并根据方法返回的结果显示相关的警告信息。
- en: Note
  id: totrans-194
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: For more information on the `TWTweetComposeViewController` class, you can refer
    to the Twitter framework reference documentation, located at [https://developer.apple.com/library/ios/#documentation/Twitter/Reference/TWTweetSheetViewControllerClassRef/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/Twitter/Reference/TWTweetSheetViewControllerClassRef/Reference/Reference.html).
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 关于`TWTweetComposeViewController`类的更多信息，您可以参考位于[https://developer.apple.com/library/ios/#documentation/Twitter/Reference/TWTweetSheetViewControllerClassRef/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/Twitter/Reference/TWTweetSheetViewControllerClassRef/Reference/Reference.html)的Twitter框架参考文档。
- en: There's more…
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容...
- en: With the release of iOS 6, integration of social networks is performed through
    the use of the `UIActivityViewController` class, or the classes that are contained
    with the new social framework of the iOS 6 SDK. For general-purpose social networking
    integration, the `UIActivityViewController` class is the recommended path.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 随着iOS 6的发布，社交网络的集成是通过使用`UIActivityViewController`类，或者iOS 6 SDK中包含的新社交框架的类来实现的。对于通用社交网络集成，推荐使用`UIActivityViewController`类。
- en: When using this class, the user is presented with a screen providing a choice
    of social network services. Once the application has selected a target service,
    the class then presents the user with a blank message preview panel where the
    message can be reviewed and then posted.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用此类时，用户将看到一个屏幕，提供社交网络服务的选择。一旦应用程序选择了目标服务，该类随后将向用户展示一个空白消息预览面板，用户可以在其中查看消息然后发布。
- en: Next, we will take a look at both the `UIActivityViewController` and `SLComposeViewController`
    classes to see each of their differences.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将探讨`UIActivityViewController`和`SLComposeViewController`这两个类，看看它们各自的不同之处。
- en: Using the UIActivityViewController class
  id: totrans-200
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用UIActivityViewController类
- en: 'The `UIActivityViewController` class is instantiated from within an application
    at the point when posting is ready to be made to a social network. The following
    code snippet shows how to use the `UIActivityViewController` class to handle posts
    to Twitter:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '`UIActivityViewController`类是在准备将帖子发布到社交网络时在应用程序中实例化的。以下代码片段展示了如何使用`UIActivityViewController`类来处理发布到Twitter的帖子：'
- en: '[PRE4]'
  id: totrans-202
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The preceding code snippet instantiates a new `UIActivityViewController` instance,
    and passes the text to be included within the dialog box when it is presented
    to the user. There is an option to include an image with the post, which we will
    be taking a look at a bit later.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的代码片段实例化了一个新的`UIActivityViewController`实例，并将要包含在对话框中的文本传递给用户。有一个选项可以包含与帖子一起的图片，我们将在稍后探讨这一点。
- en: 'Once the user decides to take an action to post an update from within an application,
    the following screen is displayed:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 当用户决定在应用程序内执行发布更新操作时，将显示以下屏幕：
- en: '![Using the UIActivityViewController class](img/3349_03_10.jpg)'
  id: totrans-205
  prefs: []
  type: TYPE_IMG
  zh: '![使用UIActivityViewController类](img/3349_03_10.jpg)'
- en: Once a destination social network has been selected from the list of choices,
    a preview sheet will be displayed. In the event that the user has not yet configured
    an account for the selected social network in the **Settings** application, a
    dialog box will appear providing the user to either set up an account or simply
    cancel the posting.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦从选择列表中选择了一个目标社交网络，将显示一个预览表单。如果用户尚未在**设置**应用程序中为所选社交网络配置账户，将出现一个对话框，提示用户设置账户或简单地取消发布。
- en: Note
  id: totrans-207
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: For more information on the `UIActivityViewController` class, you can refer
    to the Apple Developer reference documentation, located at [https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIActivityViewController_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIActivityViewController_Class/Reference/Reference.html).
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 关于`UIActivityViewController`类的更多信息，您可以参考位于[https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIActivityViewController_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIActivityViewController_Class/Reference/Reference.html)的Apple开发者参考文档。
- en: Using the SLComposeViewController class
  id: totrans-209
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 使用SLComposeViewController类
- en: In order to use the `SLComposeViewController` class, a number of steps are required
    to be performed. First, we need to verify whether the message can be sent to the
    specific social network service to ensure that the device has been properly configured
    to use the particular service.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使用`SLComposeViewController`类，需要执行一系列步骤。首先，我们需要验证消息是否可以发送到特定的社交网络服务，以确保设备已正确配置以使用该特定服务。
- en: 'This is achieved by passing through the type of service as an argument to the
    `isAvailableForserviceType` method, as shown in the following code snippet:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 这是通过将服务类型作为参数传递给`isAvailableForserviceType`方法来实现的，如下面的代码片段所示：
- en: '[PRE5]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The `isAvailableForServiceType` method accepts the following parameters:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '`isAvailableForServiceType`方法接受以下参数：'
- en: '`SLServiceTypeFacebook`'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SLServiceTypeFacebook`'
- en: '`SLServiceTypeTwitter`'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SLServiceTypeTwitter`'
- en: '`SLServiceTypeSinaWeibo`'
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`SLServiceTypeSinaWeibo`'
- en: The next step is to create an instance of the `SLComposeViewController` class
    and supply an optional completion handler to be called when the compose sheet
    is either cancelled by the user or used to send a message. Finally, when the message
    is ready to be presented to the user, the `SLComposeViewController` object is
    presented modally by calling the `presentViewController` method of the parent
    view controller.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是创建一个`SLComposeViewController`类的实例，并提供一个可选的完成处理程序，当用户取消编辑表单或使用它来发送消息时将被调用。最后，当消息准备好向用户展示时，通过调用父视图控制器的`presentViewController`方法，以模态方式展示`SLComposeViewController`对象。
- en: 'The following code snippet shows how to configure and present the `SLComposeViewController`
    class instance for posting to Twitter:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码片段展示了如何配置和展示用于发布到Twitter的`SLComposeViewController`类实例：
- en: '[PRE6]'
  id: totrans-219
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'The preceding code snippet presents you with the Twitter compose sheet with
    the default text preconfigured using the method calls. The completion handler
    can be set up to pass a value back, indicating the action taken by the user within
    the compose sheet view. These values are explained in the following table:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码片段展示了如何使用方法调用预配置默认文本的Twitter编辑表单。完成处理程序可以设置以返回一个值，指示用户在编辑表单视图中采取的操作。这些值在以下表中解释：
- en: '| Compose sheet values | Description |'
  id: totrans-221
  prefs: []
  type: TYPE_TB
  zh: '| 编辑表单值 | 描述 |'
- en: '| --- | --- |'
  id: totrans-222
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| `SLComposeViewControllerResultCancelled` | The user cancelled the composition
    session by touching the **Cancel** button. |'
  id: totrans-223
  prefs: []
  type: TYPE_TB
  zh: '| `SLComposeViewControllerResultCancelled` | 用户通过触摸**取消**按钮取消了编辑会话。 |'
- en: '| `SLComposeViewControllerResultDone` | The user sent the composed message
    by touching the **Sent** button. |'
  id: totrans-224
  prefs: []
  type: TYPE_TB
  zh: '| `SLComposeViewControllerResultDone` | 用户通过触摸**发送**按钮发送了编辑好的消息。 |'
- en: The social framework class that comes with iOS 6 contains two classes that have
    been designed to provide more flexibility around social networking integration.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: iOS 6附带的社会框架类包含两个类，这些类被设计用来提供更多关于社交网络集成的灵活性。
- en: The `SLComposeViewController` class, unlike the `UIActivityViewController` class,
    allows you to post a message to a specific social network service within the application
    code, without requiring the user to make a selection from the list of available
    services.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 与`UIActivityViewController`类不同，`SLComposeViewController`类允许您在应用代码中向特定的社交网络服务发布消息，而无需用户从可用服务列表中进行选择。
- en: 'The user is then presented with a preview sheet appropriate to the specific
    service the application has been set up for. Using the social framework within
    your application is very simple, and can be achieved by performing the following
    simple steps:'
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 用户随后会看到一个适合应用已设置的具体服务的预览表单。在您的应用中使用社交框架非常简单，可以通过执行以下简单步骤实现：
- en: Add **Social.framework** into your project similarly as we did with **Twitter.framework**.
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**Social.framework**添加到项目中，就像我们添加**Twitter.framework**一样。
- en: Open the `ViewController.m` implementation file from the project navigator.
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从项目导航器打开`ViewController.m`实现文件。
- en: 'Type in the following import statement:'
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下导入语句：
- en: '[PRE7]'
  id: totrans-231
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Next, modify the `composeTweet` method, as shown in the following code snippet:'
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，修改`composeTweet`方法，如下面的代码片段所示：
- en: '[PRE8]'
  id: totrans-233
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: Note
  id: totrans-234
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: For more information on the `SLComposeViewController` class, you can refer to
    the Apple Developer reference documentation, located at [https://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/SLComposeViewController_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/SLComposeViewController_Class/Reference/Reference.html).
  id: totrans-235
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 关于`SLComposeViewController`类的更多信息，您可以参考位于[https://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/SLComposeViewController_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/NetworkingInternet/Reference/SLComposeViewController_Class/Reference/Reference.html)的Apple开发者参考文档。
- en: See also
  id: totrans-236
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Adding photos to a Tweet* recipe
  id: totrans-237
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*添加照片到推文*配方'
- en: The *Presenting storyboard view controllers programmatically* recipe
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*程序化地展示故事板视图控制器*配方'
- en: The *Understanding the Core Motion framework* section in [Appendix](apa.html
    "Appendix A. Exploring the MultiTouch Interface"), *Exploring the Multi-touch
    Interface*
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在[附录](apa.html "附录 A. 探索多点触控界面")的*理解Core Motion框架*部分，*探索多点触控界面*
- en: Adding photos to a tweet
  id: totrans-240
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 添加照片到推文
- en: In this recipe, we will learn how we can incorporate images within Twitter messages.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 在本配方中，我们将学习如何将图像嵌入到Twitter消息中。
- en: Getting ready
  id: totrans-242
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: In this recipe, we will look at how we can add an image to a tweet using the
    Twitter composition sheet.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将探讨如何使用Twitter编辑表单将图片添加到推文中。
- en: How to do it…
  id: totrans-244
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: 'Adding images to a Twitter message is very easy and can be achieved by performing
    the following simple steps inside the **TwitterExample** project:'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 向Twitter消息添加图片非常简单，可以通过在**TwitterExample**项目中执行以下简单步骤来实现：
- en: Open the `ViewController.m` implementation file from the project navigator.
  id: totrans-246
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从项目导航器中打开`ViewController.m`实现文件。
- en: 'Next, modify the `composeTweet` method and add the highlighted code within
    the following code snippet:'
  id: totrans-247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，修改`composeTweet`方法，并在以下代码片段中添加高亮代码：
- en: '[PRE9]'
  id: totrans-248
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE9]'
- en: In this code snippet, we declare a `myTwitter` variable to an instance of our
    `TWTweetComposeViewController` class. We then use the `addImageinstance` method,
    to add an image to the tweet, and then present the view along with the image to
    the user.Whenever you want to add images to a Twitter message for submission,
    you will need to use the `TWTweetComposeViewController` class instance. This class
    handles everything required, and presents us with a tweet composition sheet, so
    that we can add images and URLs.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个代码片段中，我们声明一个`myTwitter`变量为我们的`TWTweetComposeViewController`类的一个实例。然后我们使用`addImageinstance`方法，向推文添加图片，然后将带有图片的视图展示给用户。无论何时你想向Twitter消息添加图片以提交，你都需要使用`TWTweetComposeViewController`类实例。这个类处理所需的一切，并为我们提供一个推文编辑表单，以便我们可以添加图片和URL。
- en: 'Now that we have added in the final piece of code to our **TwitterExample**
    application, first we need to configure our Twitter account information prior
    to building and running the application. Perform the following steps to set up
    and configure Twitter:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经将最终代码添加到**TwitterExample**应用程序中，首先我们需要在构建和运行应用程序之前配置我们的Twitter账户信息。执行以下步骤以设置和配置Twitter：
- en: Open the **Settings** application from the iOS home screen.
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从iOS主屏幕打开**设置**应用程序。
- en: Select the **Twitter** option from the **Settings** menu.
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从**设置**菜单中选择**Twitter**选项。
- en: Enter your username and password credentials, and click on the **Sign In** button.
    If you do not have a Twitter account, you can create one from this screen by selecting
    the **Create New Account** option.![How to do it…](img/3349_03_11.jpg)
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入你的用户名和密码凭据，然后点击**登录**按钮。如果你没有Twitter账户，你可以通过选择**创建新账户**选项在此屏幕上创建一个。![如何做到这一点…](img/3349_03_11.jpg)
- en: Next, build and run the application by selecting **Product** | **Run** from
    the **Product** menu, or alternatively by pressing *command* + *R*.
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，通过从**产品**菜单中选择**产品** | **运行**，或者通过按*command* + *R*来构建和运行应用程序。
- en: When the compilation completes, the iOS Simulator will appear, showing our Twitter
    application.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 当编译完成后，iOS模拟器将出现，显示我们的Twitter应用程序。
- en: '![How to do it…](img/3349_03_12.jpg)'
  id: totrans-256
  prefs: []
  type: TYPE_IMG
  zh: '![如何做到这一点…](img/3349_03_12.jpg)'
- en: When you start composing your tweet, you can choose to have your current geographical
    location added to your message. This feature basically uses the Google Maps API
    to send your location along with the tweet, and then allowing others to view the
    precise location on Google Maps.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 当你开始撰写推文时，你可以选择将你的当前地理位置添加到你的消息中。这个功能基本上使用Google Maps API将你的位置与推文一起发送，然后允许其他人查看Google
    Maps上的精确位置。
- en: Attachments can also be added to the composed message, and this can be any valid
    image (PNG, JPG, and so on).
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 也可以将附件添加到编辑的消息中，这可以是任何有效的图像（PNG、JPG等）。
- en: Clicking on the **Send** button will submit the message to your Twitter account,
    and you will receive a message stating that the tweet has been successfully posted.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**发送**按钮将消息提交到你的Twitter账户，你将收到一条消息，表明推文已成功发布。
- en: How it works...
  id: totrans-260
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: In this recipe, we looked at how we can integrate Twitter-like functionality
    into our applications. There are many ways in which applications can be more social,
    by including Twitter. For example, you could make the application auto-tweet,
    when you unlock a special item within your game, or when you finish the game,
    or just want to upload your high-score achievements.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们探讨了如何将类似Twitter的功能集成到我们的应用程序中。通过包含Twitter，应用程序可以以多种方式变得更加社交。例如，你可以在解锁游戏中的特殊物品时自动推文，或者在完成游戏时，或者只是想上传你的高分成就。
- en: This lets all of their friends know they are playing your game, which in turn,
    gets you more exposure. Another example could be a business application, which
    could allow the user to tweet the number of successful projects that they have
    completed. With Twitter getting so much attention lately, you would be crazy to
    not include some sort of Twitter integration into your own iOS applications.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 这样可以让他们的所有朋友都知道他们正在玩你的游戏，这反过来又让你获得更多的曝光。另一个例子可能是一个商业应用程序，它可能允许用户推文他们已完成的成功项目数量。鉴于Twitter最近受到如此多的关注，不将某种Twitter集成到自己的iOS应用程序中简直是疯了。
- en: There's more...
  id: totrans-263
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'Adding an image to a tweet using the `SLComposeViewController` class can be
    achieved by adopting the following code snippet:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`SLComposeViewController`类通过以下代码片段将图像添加到推文中：
- en: '[PRE10]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: In the preceding code snippet, we used the `SLComposeViewController` method
    to configure and present the tweet composition sheet. We then configured our composer
    view using the method calls for displaying default text and setting the default
    image.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的代码片段中，我们使用了`SLComposeViewController`方法来配置和显示推文编辑表单。然后我们使用显示默认文本和设置默认图片的方法调用配置我们的编辑视图。
- en: See also
  id: totrans-267
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Presenting transition to another view controller* recipe
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*将视图控制器呈现给另一个视图控制器的配方*'
- en: The *Presenting storyboard view controllers programmatically* recipe
  id: totrans-269
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*以编程方式呈现故事板视图控制器*的配方'
- en: Preparing transition to another view controller
  id: totrans-270
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备转换到另一个视图控制器
- en: In this recipe, we will learn how we can use the storyboard features to transition
    to another view controller through code.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个配方中，我们将学习如何使用故事板功能通过代码过渡到另一个视图控制器。
- en: Getting ready
  id: totrans-272
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: In this section, we will look at how we can programmatically transition to another
    view controller through the use of segues.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将探讨如何通过使用segue以编程方式过渡到另一个视图控制器。
- en: How to do it…
  id: totrans-274
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做…
- en: 'In order to programmatically perform a transition to another view controller
    using a segue, perform the following simple steps:'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 为了使用segue以编程方式执行到另一个视图控制器的转换，请执行以下简单步骤：
- en: Select the `MainStoryboard.storyboard` file from the project navigator.
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从项目导航器中选择`MainStoryboard.storyboard`文件。
- en: Select the segue relationship for the **About Twitter App** button.
  id: totrans-277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**关于Twitter应用程序**按钮的segue关系。
- en: Click on the **Attributes Inspector** button.
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**属性检查器**按钮。
- en: Change the **Identifier** property to `secondViewController`.
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**标识符**属性更改为`secondViewController`。
- en: Change the **Style** property to **Modal**.
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**样式**属性更改为**模态**。
- en: Change the **Transition** property to **Cover Vertical**.![How to do it…](img/3349_03_13.jpg)
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**过渡**属性更改为**垂直覆盖**。![如何做…](img/3349_03_13.jpg)
- en: 'Next, we need to modify our view controller to include the `prepareForSegue:sender`
    method that will be responsible for handling transitions between view controllers
    within the storyboard:'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要修改我们的视图控制器以包含负责在故事板中处理视图控制器之间转换的`prepareForSegue:sender`方法：
- en: Open the `ViewController.m` implementation file from the project navigator.
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从项目导航器中打开`ViewController.m`实现文件。
- en: 'Create the `prepareForSegue:sender` method, as shown in the following code
    snippet:'
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建`prepareForSegue:sender`方法，如下面的代码片段所示：
- en: '[PRE11]'
  id: totrans-285
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Next, build and run the application by selecting **Product** | **Run** from
    the **Product** menu, or alternatively by pressing *command* + *R*.
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，通过从**产品**菜单中选择**产品** | **运行**，或者通过按*command* + *R*来构建和运行应用程序。
- en: When the compilation completes, the iOS Simulator will appear; click on the
    **About Twitter App** button to see the transition happen to the second view controller.
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 当编译完成后，iOS模拟器将出现；点击**关于Twitter应用程序**按钮以查看转换到第二个视图控制器。
- en: '![How to do it…](img/3349_03_14.jpg)'
  id: totrans-288
  prefs: []
  type: TYPE_IMG
  zh: '![如何做…](img/3349_03_14.jpg)'
- en: How it works...
  id: totrans-289
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: Whenever a user triggers a segue in the current scene, the storyboard runtime
    calls the `prepareForSegue:sender` method for the current view controller. This
    method gives the current view controller an opportunity to pass any needed data
    to the view controller that is about to be displayed.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 当用户在当前场景中触发segue时，故事板运行时会调用当前视图控制器的`prepareForSegue:sender`方法。此方法给当前视图控制器一个机会，将任何所需的数据传递给即将显示的视图控制器。
- en: Next, we perform a segue call associated with a control using its identifier,
    which we created, and check to ensure that we are processing the correct segue,
    before displaying an alert when the view is displayed.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们执行与使用其标识符的控制相关联的segue调用，并在显示视图之前检查我们是否正在处理正确的segue，然后显示一个警报。
- en: Handling it this way allows us to customize segues, and applies any transition
    to the scene that is located within your storyboard, as long as the identifier
    is unique.
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: 以这种方式处理允许我们自定义切换，并将任何过渡应用到位于您故事板中的场景，只要标识符是唯一的。
- en: Note
  id: totrans-293
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: For information on how to implement the methods of the `UIViewController` class,
    refer to the Apple Developer documentation, located at [https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html)`#//apple_ref/occ/cl/UIViewController`.
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 关于如何实现`UIViewController`类的方法的信息，请参阅位于[https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html)`#//apple_ref/occ/cl/UIViewController`的Apple开发者文档。
- en: See also
  id: totrans-295
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参考以下内容
- en: The *Presenting storyboard view controllers programmatically* recipe
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*以编程方式呈现故事板视图控制器*教程'
- en: Presenting storyboard view controllers programmatically
  id: totrans-297
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 以编程方式呈现故事板视图控制器
- en: In this recipe, we will learn how we can use the storyboard features to programmatically
    present view controllers within the storyboard.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们将学习如何使用故事板功能以编程方式在故事板中呈现视图控制器。
- en: Getting ready
  id: totrans-299
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: In this recipe, we will look at how we can programmatically call another view
    controller within the storyboard by using its identifier.
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，我们将探讨如何通过使用其标识符以编程方式在故事板中调用另一个视图控制器。
- en: How to do it…
  id: totrans-301
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'In order to programmatically determine which view we are in, we will need to
    create a new `UIViewController` subclass for our second view controller. This
    can be achieved by performing the following simple steps:'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 为了以编程方式确定我们处于哪个视图，我们需要为我们的第二个视图控制器创建一个新的`UIViewController`子类。这可以通过执行以下简单步骤实现：
- en: Select the `TwitterExample` folder from the project navigator.
  id: totrans-303
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从项目导航器中选择`TwitterExample`文件夹。
- en: Select **File** | **New** | **File…** or press *command* + *N*.
  id: totrans-304
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**文件** | **新建** | **文件…**或按*command* + *N*。
- en: Select the **Objective-C class** template from the list of templates.
  id: totrans-305
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从模板列表中选择**Objective-C类**模板。
- en: Enter `SecondViewController` as the name of the class to create.
  id: totrans-306
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将创建的类名称输入为`SecondViewController`。
- en: Ensure that you have selected **UIViewController** as the type of subclass to
    create from the **Subclass** of drop-down list.
  id: totrans-307
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您已从**子类**下拉列表中选择**UIViewController**作为要创建的子类的类型。
- en: Ensure that the **Targeted for iPad** checkbox has not been checked.
  id: totrans-308
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保未勾选**针对iPad优化**复选框。
- en: Ensure that the **With XIB for User Interface** checkbox has not been checked.
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保未勾选**使用 XIB 进行用户界面**复选框。
- en: Click on **Next** to proceed to the next step in the wizard.
  id: totrans-310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**下一步**继续向导的下一步。
- en: Specify the location to save the class file, and then click on the **Create**
    button.
  id: totrans-311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定保存类文件的位置，然后点击**创建**按钮。
- en: 'Once you have done this, we need to update the class method of our second view
    controller to use our `SecondViewController` subclass:'
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此操作后，我们需要更新第二个视图控制器的类方法以使用我们的`SecondViewController`子类：
- en: Open the `SecondViewController.h` interface file, located under the `TwitterExample`
    folder, from within the project navigator.
  id: totrans-313
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，从`TwitterExample`文件夹打开位于`SecondViewController.h`接口文件。
- en: 'Modify the interface file by adding the highlighted code sections, as shown
    in the following code snippet:'
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过添加以下代码片段中显示的高亮代码部分来修改接口文件：
- en: '[PRE12]'
  id: totrans-315
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Open the `SecondViewController.m` implementation file, located under the `TwitterExample`
    folder, from within the project navigator.
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在项目导航器中，从`TwitterExample`文件夹打开位于`SecondViewController.m`实现文件。
- en: 'Create the `prepareForSegue:sender` method, as shown in the following code
    snippet:'
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建`prepareForSegue:sender`方法，如下代码片段所示：
- en: '[PRE13]'
  id: totrans-318
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Select the second view controller and click on the **Identity Inspector** button.
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择第二个视图控制器，并点击**身份检查器**按钮。
- en: Next, change the **Custom Class** property to read `SecondViewController`.![How
    to do it…](img/3349_03_15.jpg)
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将**自定义类**属性更改为读取`SecondViewController`。![如何操作…](img/3349_03_15.jpg)
- en: Next, we need to apply the same storyboard segues for our first view controller.
  id: totrans-321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要为我们的第一个视图控制器应用相同的storyboard切换。
- en: Select the **Attributes Inspector** section, and then under the **StoryboardSegue**
    section, enter F`irstViewController` as the unique identifier to use.
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**属性检查器**部分，然后在**StoryboardSegue**部分中输入`FirstViewController`作为要使用的唯一标识符。
- en: Repeat the same steps as we did for the `SecondViewController`.
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复我们对`SecondViewController`所做的相同步骤。
- en: Next, build and run the application by selecting **Product** | **Run** from
    the **Product** menu, or alternatively by pressing *command* + *R*.
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，通过从 **产品** 菜单中选择 **产品** | **运行**，或者通过按 *command* + *R* 来构建和运行应用程序。
- en: When the compilation completes, the iOS Simulator will appear, showing the programmatic
    transitions between each of the view controllers that are defined within our storyboard.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 当编译完成后，iOS 模拟器将出现，显示我们故事板中定义的每个视图控制器之间的编程过渡。
- en: How it works...
  id: totrans-326
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: When you click on the **About App** button, it transitions over to the second
    view controller and then displays the message based on the `prepareForSegue:(UIStoryboardSegue*)segue`
    method call, determining the identifier of the current view controller that is
    being displayed within the view.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 当你点击 **关于应用** 按钮时，它过渡到第二个视图控制器，然后根据 `prepareForSegue:(UIStoryboardSegue*)segue`
    方法调用显示消息，确定正在显示的当前视图控制器的标识符。
- en: Clicking on the **Go Back** button will transfer control over to the first view
    controller; a call is made to the `prepareForSegue` method to determine the current
    identifier of the current view.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 点击 **返回** 按钮将控制权转交给第一个视图控制器；会调用 `prepareForSegue` 方法来确定当前视图的当前标识符。
- en: There's more…
  id: totrans-329
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多信息...
- en: Although the storyboard runtime usually handles transitions between view controllers,
    you can also trigger segues programmatically directly from within your code. You
    may choose to do this when setting up the segue from within the XIB editor in
    Xcode, or you may want to use the accelerometer events to trigger a transition
    and display a graphic animation.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然故事板运行时通常处理视图控制器之间的过渡，但你也可以直接在代码中编程触发转场。你可能选择在 Xcode 中的 XIB 编辑器内设置转场时这样做，或者你可能想使用加速度计事件来触发过渡并显示图形动画。
- en: If you take a look at the following code snippet, it shows you how you can programmatically
    display any view controller within your storyboard, by using the `instantiateViewControllerWithIdentifier:`
    method of the `UIStoryboard` class. We then use the `presentViewController:` method
    to push the view controller onto the view controller navigation stack.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你查看以下代码片段，它展示了你如何通过使用 `UIStoryboard` 类的 `instantiateViewControllerWithIdentifier:`
    方法在故事板中编程显示任何视图控制器。然后我们使用 `presentViewController:` 方法将视图控制器推入视图控制器导航堆栈。
- en: '[PRE14]'
  id: totrans-332
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Note
  id: totrans-333
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: For information on how to implement the methods of the `UIStoryboard` class,
    refer to the Apple Developer documentation, located at [https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIStoryboard_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIStoryboard_Class/Reference/Reference.html).
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 关于如何实现 `UIStoryboard` 类的方法的信息，请参阅位于 [https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIStoryboard_Class/Reference/Reference.html](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIStoryboard_Class/Reference/Reference.html)
    的 Apple 开发者文档。
- en: See also
  id: totrans-335
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Composing a tweet* recipe
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*编写推文* 的食谱'
- en: The *Adding photos to a tweet* recipe
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*将照片添加到推文* 的食谱'
- en: The *Applying transitions to storyboards* recipe
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*将过渡应用到故事板* 的食谱'
- en: The *Preparing transition to another view controller* recipe
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*准备过渡到另一个视图控制器* 的食谱'
