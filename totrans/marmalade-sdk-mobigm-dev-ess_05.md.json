["```swift\n// lTimeStep is the time elapsed since the last frame (here we're\n// setting it to the time interval required to run at 30 frames\n// per second).\nfloat lTimeStep = 1.0f / 30.0f;\n\n// Calculate how far we've moved this frame and update position\nCIwFVec3 lVelocityStep = mVelocity * lTimeStep;\nmPosition += lVelocityStep;\n\n// Copy the position into the matrix used to render the model\nmModelMatrix.t = mPosition;\n```", "```swift\nCIwFMat lMatXYZ;\nlMatXYZ.SetRotX(xAngle);\nlMatXYZ.PostRotateY(yAngle);\nlMatXYZ.PostRotateZ(zAngle);\n```", "```swift\nCIwFVec3 lDir(0.0f, 1.0f, 0.0f);\nfloat lAngle = PI / 2.0f;\nCIwFMat lMat;\nlMat.SetAxisAngle(lDir, lAngle);\n```", "```swift\nCIwFQuat lQuat;\nlQuat.SetAxisAngle(1.0f, 0.0f, 0.0f, PI / 2.0f);\nCIwFMat lMat(lQuat);\n```", "```swift\nCIwFMat lMat;\nlMat.SetRotX(PI / 2.0f);\nlMat.ScaleRot(2.0f);\n```", "```swift\nCIwAnimSkel\n{\n  numBones 12\n  CIwAnimBone\n  {\n    name \"FlagPoleBase\"\n    pos {-0.38309,-1.27709,0}\n    rot {0.70711,0,0,0.70711}\n  }\n  CIwAnimBone\n  {\n    name \"PoleA\"\n    parent \"FlagPoleBase\"\n    pos {258.20248,0.00000,0}\n    rot {1,0,0,0}\n  }\n  CIwAnimBone\n  {\n    name \"PoleB\"\n    parent \"PoleA\"\n    pos {255.88675,0.00000,0}\n    rot {1.00000,0,0,-0.00200}\n  }\n  CIwAnimBone\n  {\n    name \"PoleC\"\n    parent \"PoleB\"\n    pos {257.60138,-0.00000,0}\n    rot {0.00000,0.99998,0.00615,0.00000}\n  }\n  CIwAnimBone\n  {\n    name \"PoleD\"\n    parent \"PoleC\"\n    pos {255.08751,-0.00000,-0.00000}\n    rot {0.00000,0.99998,0.00621,0.00000}\n  }\n  CIwAnimBone\n  {\n    name \"PoleE\"\n    parent \"PoleD\"\n    pos {257.19775,0.00000,-0.00000}\n    rot {1.00000,0,0,0.00206}\n  }\n  CIwAnimBone\n  {\n    name \"FlagStart\"\n    parent \"PoleE\"\n    pos {152.41219,0.00000,-0.00000}\n    rot {0.61894,0,0,-0.78544}\n  }\n  CIwAnimBone\n  {\n    name \"FlagA\"\n    parent \"FlagStart\"\n    pos {85.99931,-0.00000,-0.00000}\n    rot {0.99505,0,0,0.09934}\n  }\n  CIwAnimBone\n  {\n    name \"FlagB\"\n    parent \"FlagA\"\n    pos {57.19376,0.00000,-0.00000}\n    rot {1.00000,0,0,0.00128}\n  }\n  CIwAnimBone\n  {\n    name \"FlagC\"\n    parent \"FlagB\"\n    pos {61.42473,0.00000,-0.00000}\n    rot {0.99996,0,0,0.00846}\n  }\n  CIwAnimBone\n  {\n    name \"FlagD\"\n    parent \"FlagC\"\n    pos {60.33911,0,-0.00000}\n    rot {0.99996,0,0,-0.00877}\n  }\n  CIwAnimBone\n  {\n    name \"FlagE\"\n    parent \"FlagD\"\n    pos {60.36695,-0.00000,-0.00000}\n    rot {0.99985,0,0,0.01754}\n  }\n}\n```", "```swift\nCIwAnimSkin\n{\n  skeleton \"FlagPoleBase\"\n  model \"Flag\"\n  CIwAnimSkinSet\n  {\n    useBones { FlagPoleBase }\n    numVerts 16\n    vertWeights {0,1}\n    vertWeights {1,1}\n    vertWeights {2,1}\n    vertWeights {3,1}\n    vertWeights {4,1}\n    vertWeights {35,1}\n    vertWeights {58,1}\n    vertWeights {60,1}\n    vertWeights {62,1}\n    vertWeights {64,1}\n    vertWeights {65,1}\n    vertWeights {90,1}\n    vertWeights {91,1}\n    vertWeights {92,1}\n    vertWeights {93,1}\n    vertWeights {94,1}\n  }\n  CIwAnimSkinSet\n  {\n    useBones { FlagPoleBase PoleA }\n    numVerts 10\n    vertWeights {5,0.50170,0.49830}\n    vertWeights {6,0.50251,0.49749}\n    vertWeights {7,0.50177,0.49823}\n    vertWeights {8,0.50116,0.49884}\n    vertWeights {9,0.50114,0.49886}\n    vertWeights {57,0.50251,0.49749}\n    vertWeights {59,0.50177,0.49823}\n    vertWeights {61,0.50116,0.49884}\n    vertWeights {63,0.50114,0.49886}\n    vertWeights {66,0.50170,0.49830}\n  }\n\n// Several more CIwAnimSkinSet instances would have been\n// defined here but they have been left out to avoid\n// filling the book with boring numbers!\n\n  CIwAnimSkinSet\n  {\n    useBones { FlagA FlagB FlagC FlagD }\n    numVerts 8\n    vertWeights {39,0.15992,0.33285,0.33292,0.17431}\n    vertWeights {44,0.15632,0.33444,0.33462,0.17462}\n    vertWeights {49,0.17817,0.32895,0.32812,0.16476}\n    vertWeights {54,0.18163,0.32749,0.32638,0.16450}\n    vertWeights {106,0.15632,0.33444,0.33462,0.17462}\n    vertWeights {112,0.17817,0.32895,0.32812,0.16476}\n    vertWeights {120,0.18163,0.32749,0.32638,0.16450}\n    vertWeights {121,0.15992,0.33285,0.33292,0.17431}\n  }\n  CIwAnimSkinSet\n  {\n    useBones { FlagB FlagC FlagD FlagE }\n    numVerts 20\n    vertWeights {40,0.14751,0.34532,0.34603,0.16114}\n    vertWeights {41,0.02763,0.13480,0.41879,0.41879}\n    vertWeights {45,0.14368,0.34743,0.34842,0.16046}\n    vertWeights {46,0.02625,0.13072,0.42151,0.42151}\n    vertWeights {50,0.16232,0.34459,0.34444,0.14865}\n    vertWeights {51,0.03730,0.16777,0.39776,0.39717}\n    vertWeights {55,0.16581,0.34255,0.34229,0.14936}\n    vertWeights {56,0.03875,0.17110,0.39544,0.39471}\n    vertWeights {102,0.02763,0.13480,0.41879,0.41879}\n    vertWeights {103,0.02625,0.13072,0.42151,0.42151}\n    vertWeights {107,0.14368,0.34743,0.34842,0.16046}\n    vertWeights {108,0.02625,0.13072,0.42151,0.42151}\n    vertWeights {109,0.03730,0.16777,0.39776,0.39717}\n    vertWeights {113,0.16232,0.34459,0.34444,0.14865}\n    vertWeights {114,0.03730,0.16777,0.39776,0.39717}\n    vertWeights {115,0.03875,0.17110,0.39544,0.39471}\n    vertWeights {122,0.16581,0.34255,0.34229,0.14936}\n    vertWeights {123,0.14751,0.34532,0.34603,0.16114}\n    vertWeights {124,0.03875,0.17110,0.39544,0.39471}\n    vertWeights {125,0.02763,0.13480,0.41879,0.41879}\n  }\n}\n```", "```swift\nCIwAnim\n{\n  skeleton \"FlagPoleBase\"\n  // Keyframe# 1\n  CIwAnimKeyFrame\n  {\n    time 0\n    bone \"FlagPoleBase\"\n    pos {-0.38309,-1.27709,0}\n    rot {0.70711,0,0,0.70711}\n\n    bone \"PoleA\"\n    pos {258.20248,0.00000,0}\n    rot {1,0,0,0}\n\n    bone \"PoleB\"\n    pos {255.88675,0.00000,0}\n    rot {1.00000,0,0,-0.00200}\n\n    bone \"PoleC\"\n    pos {257.60138,-0.00000,0}\n    rot {0.00000,0.99998,0.00615,0.00000}\n\n    bone \"PoleD\"\n    pos {255.08751,-0.00000,-0.00000}\n    rot {0.00000,0.99998,0.00621,0.00000}\n\n    bone \"PoleE\"\n    pos {257.19775,0.00000,-0.00000}\n    rot {1.00000,0,0,0.00206}\n\n    bone \"FlagStart\"\n    pos {152.41219,0.00000,-0.00000}\n    rot {0.61894,0,0,-0.78544}\n\n    bone \"FlagA\"\n    pos {85.99931,-0.00000,-0.00000}\n    rot {0.99505,0,0,0.09934}\n\n    bone \"FlagB\"\n    pos {57.19376,0.00000,-0.00000}\n    rot {1.00000,0,0,0.00128}\n\n    bone \"FlagC\"\n    pos {61.42473,0.00000,-0.00000}\n    rot {0.99996,0,0,0.00846}\n\n    bone \"FlagD\"\n    pos {60.33911,0,-0.00000}\n    rot {0.99996,0,0,-0.00877}\n\n    bone \"FlagE\"\n    pos {60.36695,-0.00000,-0.00000}\n    rot {0.99985,0,0,0.01754}\n\n  }\n  // Keyframe# 5\n  CIwAnimKeyFrame\n  {\n    time 0.16667\n    bone \"FlagPoleBase\"\n    pos {-0.38309,-1.27709,0}\n    rot {0.73026,0,0,0.68317}\n\n    bone \"PoleA\"\n    pos {258.20248,0.00000,0}\n    rot {0.99889,0,0,-0.04716}\n\n    bone \"PoleB\"\n    pos {255.88675,0.00000,0}\n    rot {0.99864,0,0,-0.05222}\n\n    bone \"PoleC\"\n    pos {257.60138,-0.00000,0}\n    rot {0.00000,0.99857,-0.05338,0.00000}\n\n    bone \"PoleD\"\n    pos {255.08751,-0.00000,-0.00000}\n    rot {0.00000,0.99624,0.08662,-0.00000}\n\n    bone \"PoleE\"\n    pos {257.19775,0.00000,-0.00000}\n    rot {0.99483,0,0,-0.10158}\n\n  }\n  // Keyframe# 15\n  CIwAnimKeyFrame\n  {\n    time 0.58333\n    bone \"FlagPoleBase\"\n    pos {-0.38309,-1.27709,0}\n    rot {0.70668,0,0,0.70754}\n\n    bone \"PoleA\"\n    pos {258.20248,0.00000,0}\n    rot {0.99873,0,0,0.05033}\n\n    bone \"PoleB\"\n    pos {255.88675,0.00000,0}\n    rot {0.99775,0,0,0.06711}\n\n    bone \"PoleC\"\n    pos {257.60138,-0.00000,0}\n    rot {0.00000,0.99951,0.03144,-0.00000}\n\n    bone \"PoleD\"\n    pos {255.08751,-0.00000,-0.00000}\n    rot {0.00000,0.99996,0.00868,0.00000}\n\n    bone \"PoleE\"\n    pos {257.19775,0.00000,-0.00000}\n    rot {0.99853,0,0,0.05420}\n\n  }\n  // Further key frames follow to define the remainder of the\n  // animation but these have been removed to avoid including\n  // large amounts of datafile in the pages of this book\n}\n```", "```swift\nCIwResGroup* lpFlagGroup = IwGetResManager()->\n  LoadGroup(\"Flag/Flag.group\");\nCIwModel* lpFlag = static_cast<CIwModel*>(lpFlagGroup->\n  GetResNamed(\"Flag\", \"CIwModel\"));\nCIwAnimSkel* lpSkel = static_cast<CIwAnimSkel*>(lpFlagGroup->\n  GetResNamed(\"FlagPoleBase\", \"CIwAnimSkel\"));\nCIwAnimSkin* lpSkin = static_cast<CIwAnimSkin*>(lpFlagGroup->\n  GetResNamed(\"Flag\", \"CIwAnimSkin\"));\nCIwAnim* lpFlagWobble = static_cast<CIwAnim*>(lpFlagGroup->\n  GetResNamed(\"FlagWobble\", \"CIwAnim\"));\n```", "```swift\nCIwAnimPlayer* lpAnimPlayer = new CIwAnimPlayer;\nlpAnimPlayer->SetSkel(lpSkel);\n```", "```swift\nlpAnimPlayer->PlayAnim(lpFlagWobble, 1.0f,\n                       CIwAnimBlendSource::LOOPING_F, 0.0f);\n```", "```swift\nlpAnimPlayer->Update(lTimeStep);\n```", "```swift\nIwGxSetViewMatrix(&lViewMatrix);\nIwGxSetModelMatrix(&lModelMatrix);\n\nIwAnimSetSkelContext(lpAnim->GetSkel());\nIwAnimSetSkinContext(lpSkin);\n\nlpFlag->Render();\n\nIwAnimSetSkelContext(NULL);\nIwAnimSetSkinContext(NULL);\n```", "```swift\nif (lpAnimPlayer->GetSourceCurr()->GetFlags() &\n                      CIwAnimBlendSource::LOOPED_F)\n{\n  // Animation has looped!\n}\n```", "```swift\nlpAnimPlayer->PlaySubAnim(0, lpFlagWave, 1.0f,\nCIwAnimBlendSource::LOOPING_F, 0.0f);\n```", "```swift\nlpAnimPlayer->PlayOfsAnim(lpMovementAnim, 1.0f, 0);\n```"]