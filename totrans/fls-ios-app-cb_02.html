<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch02"/>Chapter 2. Building iOS Apps Using Flash</h1></div></div></div><p>In this chapter, we will cover:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Installing the AIR SDK</li><li class="listitem" style="list-style-type: disc">Creating an AIR for iOS document</li><li class="listitem" style="list-style-type: disc">Adding content to the stage</li><li class="listitem" style="list-style-type: disc">AIR for iOS general settings</li><li class="listitem" style="list-style-type: disc">AIR for iOS deployment settings</li><li class="listitem" style="list-style-type: disc">Compiling from Flash Professional</li><li class="listitem" style="list-style-type: disc">Installing your app with iTunes</li></ul></div><div><div><div><div><h1 class="title"><a id="ch02lvl1sec01"/>Introduction</h1></div></div></div><p>Now that you are registered on the iOS Developer Program and have obtained the necessary files from the iOS Provisioning Portal, we can turn our attention towards building native iOS apps from Flash Professional.</p><p>This chapter will cover the fundamental tasks required to set up and compile iOS applications. While we will primarily focus on configuration, we will lay the groundwork for a basic app, which we will complete in the following chapter.</p><p>But first, let us spend some time introducing the toolchain.</p><p>Upon the release of Flash Professional CS5, Adobe included the<strong> Packager For iPhone (PFI)</strong> —a command line tool that was also integrated into the Flash IDE and allowed ActionScript 3.0 projects to be compiled into native iOS apps.<a id="id105" class="indexterm"/>
</p><p>Initial support provided access to the majority of the Adobe AIR 2.0 and Flash Player 10.1 APIs, and also targeted both ARMv6 and ARMv7 iOS devices.</p><p>For those unfamiliar with<strong> Adobe AIR,</strong> it extends Flash beyond the browser sandbox, giving developers the power to directly access features of desktop computers and mobile devices that are off limits to the Flash Player.<a id="id107" class="indexterm"/>
</p><p>With the release of<strong> Flash Professional CS5.5</strong> and introduction of AIR 2.6, the APIs made available for iOS development were extended. Adobe also made significant performance improvements; in particular to the rendering engine. However, support for iOS 3 and older ARMv6 devices has been dropped, meaning you can no longer target the original iPhone, iPhone 3G, or the first-generation and second-generation iPod touches if you are using CS5.5.<a id="id108" class="indexterm"/>
</p><p>The PFI command line tool was also removed and replaced by the<strong> AIR Development Tool (ADT)</strong> . This made sense as ADT is the tool that AIR developers have traditionally used to package AIR apps for delivery on desktop and more recently Android handsets.<a id="id109" class="indexterm"/>
</p><p>Adobe quickly followed up AIR 2.6 with 2.7. Although it didn't provide any new APIs for iOS development, rendering performance was improved yet again and a new build option was added which dramatically improved compile times.</p><p>The most recent major version of the<strong> AIR SDK</strong> is 3.0, which brings a raft of exciting new features, performance enhancements, and bug fixes. Perhaps, the most significant additions are the eagerly anticipated hardware-accelerated 3D APIs and the ability to write custom ActionScript libraries implemented with native code.<a id="id110" class="indexterm"/>
</p><p>The majority of the recipes covered in this book are compatible with both Flash Professional CS5 and CS5.5. The newer features provided by AIR 2.6 and above, however, are specific to CS5.5 and will be clearly marked.</p><p>Development of iOS apps using Flash is more commonly referred to as<strong> AIR for iOS</strong>, which is the term used throughout this book.<a id="id111" class="indexterm"/>
</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec02"/>Installing the AIR SDK</h1></div></div></div><p>Before we begin, it is important that you take the time to ensure your installation of Flash Professional is up-to-date and that the latest version of the AIR SDK is installed.<a id="id112" class="indexterm"/>
</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec01"/>Getting ready</h2></div></div></div><p>You will need either Flash Professional CS5 or CS5.5 in order to compile native iOS apps.</p><p>A 30-day trial of Flash Professional CS5.5 can be downloaded from the Adobe site at<a class="ulink" href="http://www.adobe.com/downloads"> www.adobe.com/downloads</a>.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec02"/>How to do it...</h2></div></div></div><p>We will split this recipe into two parts. First, we will install any updates required by Flash Professional. Secondly, we will download and install the most recent version of the AIR runtime and SDK.<a id="id113" class="indexterm"/>
</p><div><div><div><div><h3 class="title"><a id="ch02lvl3sec01"/>Updating Flash Professional</h3></div></div></div><p>Occasionally, Adobe makes updates to Flash Professional available. These updates tend to include bug fixes or additional features that for one reason or another weren't available upon release.<a id="id114" class="indexterm"/>
</p><p>Visit<a class="ulink" href="http://www.adobe.com/support/flash/downloads.html"> www.adobe.com/support/flash/downloads.html</a> and check for updates for your version of Flash.</p><p>If you are using Flash Professional CS5, then you should specifically download the following two updates for your operating system of choice:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Flash Professional CS5 Update 11.0.2</li><li class="listitem" style="list-style-type: disc">Flash Professional CS5 Update for iOS</li></ul></div><div><h3 class="title"><a id="note18"/>Note</h3><p>It is important that the 11.0.2 update is installed before you apply the iOS update. Also, if you currently have Flash Professional CS5 open, then close it before attempting either.</p></div><p>The update for iOS has to be applied manually by copying various files to your installation of Flash Professional CS5. Documentation is provided with the update and you should read it carefully before attempting it.</p><p>A video detailing the update process for Flash Professional CS5 is also available and can be found at<a class="ulink" href="http://www.gotoandlearn.com/play.php?id=133"> www.gotoandlearn.com/play.php?id=133</a>.</p></div><div><div><div><div><h3 class="title"><a id="ch02lvl3sec02"/>Overlaying the AIR SDK</h3></div></div></div><p>It is advisable that you install the latest version of the AIR runtime on your development computer. You can download and install it from<a class="ulink" href="http://get.adobe.com/air"> http://get.adobe.com/air</a>.<a id="id115" class="indexterm"/>
</p><p>In addition, if you are using Flash Professional CS5.5, you will also need the latest version of the AIR SDK. By default, CS5.5 provides support for AIR 2.6, however, it can be updated to use the most recent version. This is a necessary step if you wish to work through all recipes covered in this book.</p><p>To achieve this you must download and manually overlay the latest AIR SDK onto your Flash Professional CS5.5 installation. A download link to the SDK and step-by-step instructions can be found at<a class="ulink" href="http://www.yeahbutisitflash.com/?p=2949"> www.yeahbutisitflash.com/?p=2949</a>. Follow these instructions carefully before moving on.<a id="id116" class="indexterm"/>
</p><p>Unfortunately, if you are using Flash Professional CS5, you will be restricted to the AIR 2.0 SDK as it is not possible to overlay a more recent AIR SDK onto it. Don't worry though; you will still be able to tackle a majority of this book's recipes. For the recipes you can't attempt, consider upgrading to Flash Professional CS5.5 or downloading a 30-day trial from the Adobe site.</p><p>The official Adobe AIR website can be found at<a class="ulink" href="http://www.adobe.com/products/air.html"> www.adobe.com/products/air.html</a>.</p></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec03"/>How it works...</h2></div></div></div><p>It is important that you are working with the most up-to-date version of Flash Professional and the AIR SDK. With each new release, AIR for iOS goes from strength to strength, both in terms of API coverage and performance.<a id="id117" class="indexterm"/>
</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec03"/>Creating an AIR for iOS document</h1></div></div></div><p>When you create a new FLA, there are several document types you can select from.<a id="id118" class="indexterm"/>
</p><p>Each document type configures the publish settings, stage size, and frame rate to best suit the content you intend to create. Your choice of document will depend on whether you want to target the Flash Player and its APIs or take advantage of the additional capabilities of AIR.<a id="id119" class="indexterm"/>
</p><p>This recipe will take you through the necessary steps to create a new FLA that targets AIR for iOS. We will use this FLA as the starting point for a simple app that we will create throughout the course of this and the next chapter.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec04"/>Getting ready</h2></div></div></div><p>Make sure that your version of Flash Professional has all available updates applied to it and that you are using the latest AIR SDK. If you haven't already done this, then perform the steps outlined in the<em> Installing the AIR SDK</em> recipe before proceeding.<a id="id120" class="indexterm"/>
</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec05"/>How to do it...</h2></div></div></div><p>Follow the steps to create your FLA:<a id="id121" class="indexterm"/>
</p><div><ol class="orderedlist"><li class="listitem">Launch Flash Professional and select<strong> File</strong> |<strong> New</strong> <em>(Ctrl + N</em> |<em> Cmd</em> +<em> N)</em> from the drop-down menu.</li><li class="listitem">The<strong> New Document</strong> dialog box will appear. Ensure that the<strong> General</strong> tab is selected and click on one of the following document types depending on the version of Flash Professional that you are using:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">CS5:<strong> iPhone OS</strong></li><li class="listitem" style="list-style-type: disc">CS5.5:<strong> AIR for iOS</strong><p>Both <strong>iPhone OS</strong> and <strong> AIR for iOS</strong> refer to the exact same thing. From now on, this book will use the term AIR for iOS. If you are using Flash CS5, then simply select iPhone OS when creating a new document.
</p></li></ul></div><div><h3 class="title">Note</h3><p>In CS5.5, you will see various properties of your selected document type on the right-hand side of the<strong> New Document</strong> panel. Notice that the stage size changes to 320x480 pixels when you select<strong> AIR for iOS</strong>. This is the standard screen size of the iPhone 3GS when held in portrait orientation.</p></div></li><li class="listitem">Click on the<strong> OK</strong> button at the bottom-right of the dialog box as shown in the following screenshot:<div><img src="img/1383_02_01.jpg" alt="How to do it..."/></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">Your AIR for iOS document will be created.</li></ul></div><div><h3 class="title"><a id="note19"/>Note</h3><p>This FLA will be used as the starting point for the simple app that we will create during the course of this and the next chapter.</p><p>Depending on your choice of operating system, use either Windows Explorer or Finder to navigate to<code class="literal"> packt\flash-ios-cookbook\</code> within your<code class="literal"> Documents</code> folder. Create a new sub-folder and name it as<code class="literal"> my-first-app</code>.</p></div></li><li class="listitem">Select<strong> File</strong> |<strong> Save As</strong> <em> (Ctrl + Shift</em> +<em> S</em> |<em> Shift</em> +<em> Cmd</em> +<em> S)</em> from the drop-down menu and save your FLA to the<code class="literal"> my-first-app</code> folder as<code class="literal"> bubbles.fla</code>.<a id="id122" class="indexterm"/></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec06"/>How it works...</h2></div></div></div><p>You should carry out the simple steps, which we just saw, every time you are starting a new AIR for iOS project.<a id="id123" class="indexterm"/>
</p><p>The document that Flash creates for you will be set up to utilize ActionScript 3.0 and the AIR APIs. The<strong> stage</strong> will also be set to a valid iOS screen size and the frame rate will be defaulted to 24 fps.<a id="id124" class="indexterm"/>
</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec07"/>There's more...</h2></div></div></div><p>You can change many of the default settings associated with an AIR for iOS document. You may find the following among them to be of particular importance.</p><div><div><div><div><h3 class="title"><a id="ch02lvl3sec03"/>Stage dimensions</h3></div></div></div><p>The default AIR for iOS document type assumes you will be targeting the original iPhone and iPod touch devices and that your app will use a portrait screen orientation.<a id="id125" class="indexterm"/>
</p><p>In Flash CS5.5, you will see your document's default properties on the right-hand side of the<strong> New Document</strong> panel. Simply change the<strong> Width</strong> and<strong> Height</strong> fields to target a different screen resolution and orientation. For example, if your app is to be locked to a landscape screen orientation, then set the stage size to 480x320.</p><p>If you are using Flash CS5, you can adjust the stage dimensions after you have created your document. You can do this from the<strong> Properties</strong> panel.</p><p>The available iOS screen resolutions (portrait orientation) are:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">320x480—iPhone 3GS, third-generation iPod touch</li><li class="listitem" style="list-style-type: disc">640x960—iPhone 4, iPhone 4S, fourth-generation iPod touch</li><li class="listitem" style="list-style-type: disc">768x1024—iPad, iPad 2</li></ul></div><p>The 640x960 screen resolution is not supported when working with Flash CS5.</p><p>For the majority of its recipes, this book will stick to the default resolution of 320x480, which is supported by all iOS devices. Retina and iPad display resolutions, however, are covered in<a class="link" href="ch08.html" title="Chapter 8. Screen Resolution and Orientation Changes"> Chapter 8</a>.</p></div><div><div><div><div><h3 class="title"><a id="ch02lvl3sec04"/>Frame rate</h3></div></div></div><p>A default frame rate of 24 fps is used for all new documents. Although you can increase this value, be aware that higher frame rates can be difficult to achieve on older generation devices due to CPU and GPU constraints. Given the performance difference between various generations of iOS devices, you should consider your frame rate carefully, especially if you want to target as many devices as possible.<a id="id126" class="indexterm"/>
</p></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec08"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>AIR for iOS general settings</em></li><li class="listitem" style="list-style-type: disc"><em>Supporting multiple resolutions</em>,<a class="link" href="ch08.html" title="Chapter 8. Screen Resolution and Orientation Changes">Chapter 8</a></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec04"/>Adding content to the stage</h1></div></div></div><p>One of the many advantages of building iOS apps with Flash is the ability to use the authoring tools that you are already familiar with. You can still perform much of your layout visually by dragging content from the<strong> library</strong> onto the stage allowing rapid development.<a id="id127" class="indexterm"/>
</p><p>Let us do just that to build a simple scene.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec09"/>Getting ready</h2></div></div></div><p>Accompanying this book are various graphical resource files that you should use when working through certain recipes. This will save you considerable time and effort and also ensure that your end result matches that of the recipe you are following.<a id="id128" class="indexterm"/>
</p><p>If you haven't already done so, download the code bundle from this book's companion website.</p><div><h3 class="title"><a id="tip11"/>Tip</h3><p>
<strong>Downloading the example code</strong>
</p><p>You can download the example code files for all Packt books you have purchased from your account at<a class="ulink" href="http://www.packtpub.com"> http://www.packtpub.com</a>. If you purchased this book elsewhere, you can visit<a class="ulink" href="http://www.PacktPub.com/support"> http://www.PacktPub.com/support</a> and register to have the files e-mailed directly to you.</p></div><p>You can find the resources used by this chapter within<code class="literal"> chapter2\resources\</code>. Additionally, you will find completed code examples for each of this chapter's recipes.</p><p>Make sure you are working from the<code class="literal"> bubbles.fla</code> file you created in the preceding recipe. Each of the following recipes in this chapter will build on top of the previous, adding more to<code class="literal"> bubbles.fla</code> as you progress.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec10"/>How to do it...</h2></div></div></div><p>We will start by copying library symbols into your FLA.<a id="id129" class="indexterm"/>
</p><div><ol class="orderedlist"><li class="listitem">Select<strong> File</strong> |<strong> Open</strong> <em>(Ctrl + O</em> |<em> Cmd</em> +<em> O)</em> and browse to<code class="literal"> chapter2\resources\resources.fla</code>. Click on<strong> Open</strong> to load the FLA.<a id="id130" class="indexterm"/></li><li class="listitem">Copy all the library symbols from<code class="literal"> resources.fla</code>, and paste them into the library of<code class="literal"> bubbles.fla</code>.<p>Your library will now consist of a collection of bitmaps and the following five movie clips: <strong>Background, Bubble Huge, Bubble Large, Bubble Medium</strong>, and <strong>Bubble Small</strong>. From the library, double-click into each movie-clip symbol and take a closer look at the contents of each. You will see that each clip consists of a single bitmap image.
<a id="id131" class="indexterm"/>
</p></li><li class="listitem">Drag the<code class="literal"> Background</code> movie clip symbol from the library onto the stage. From the<strong> Properties</strong> panel, expand the<strong> POSITION AND SIZE</strong> section and position the movie clip at (0,0). If you are using Flash Professional CS5, then you should also expand the<strong> DISPLAY</strong> section and check on the<strong> Cache as bitmap</strong> checkbox. There is no need to set this option if you are using CS5.5 as it could actually degrade the performance of this app if you do.</li><li class="listitem">Now, drag three instances of<code class="literal"> Bubble Small</code> from the library to the stage. If you are using Flash CS5, then from the<strong> Properties</strong> panel check the<strong> Cache as bitmap</strong> checkbox for each instance.</li><li class="listitem">Using the<strong> Properties</strong> panel, name the instances<code class="literal"> bubble1, bubble2</code>, and<code class="literal"> bubble3</code>. Also, set the position of each to (206, 421), (162, 160), and (122, 53) respectively. The following screenshot shows the first of the bubble instances being positioned on the stage:<div><img src="img/1383_02_02.jpg" alt="How to do it..."/></div></li><li class="listitem">Drag three instances of<code class="literal"> Bubble Medium</code> to the stage. For Flash CS5, check the<strong> Cache as bitmap</strong> checkbox for each instance.<a id="id132" class="indexterm"/></li><li class="listitem">Name the instances<code class="literal"> bubble4, bubble5</code>, and<code class="literal"> bubble6</code>. Set the position of each to (162, 290), (318, 274), and (203, 119) respectively.</li><li class="listitem">Only two instances of<code class="literal"> Bubble Large</code> are required. Again, check the<strong> Cache as bitmap</strong> checkbox from the<strong> Properties</strong> panel if you are using CS5.</li><li class="listitem">Assign instance names of<code class="literal"> bubble7</code> and<code class="literal"> bubble8</code> and set their positions to (74, 329) and (297, 12).</li><li class="listitem">Finally, position<strong> Bubble Huge</strong> on the stage and if you are using CS5, ensure you check the<strong> Cache as bitmap</strong> checkbox. Give it an instance name of<code class="literal"> bubble9</code> and position it partially off stage at (440, 303).</li><li class="listitem">Save your FLA.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec11"/>How it works...</h2></div></div></div><p>What we just covered should feel familiar even to those with only a basic understanding of Flash. You simply dragged various movie-clip instances onto the stage to create a scene that you will be able to display on an iOS device.<a id="id133" class="indexterm"/>
</p><p>You may not be familiar with the<strong> Cache as Bitmap</strong> render option. This will be explained in more detail in<a class="link" href="ch06.html" title="Chapter 6. Graphics and Hardware Acceleration"> Chapter 6</a>; but for the time being, it is enough to know that when working with Flash Professional CS5, choosing this option will significantly improve the graphics performance of your app in certain situations.<a id="id134" class="indexterm"/>
</p><p>Note also that all graphical content in this recipe was provided in PNG format rather than vector. This was intentional as iOS devices can render bitmaps to the screen faster than Flash's vector content. Where appropriate, try to use bitmaps, although this doesn't mean you should completely ignore Flash's vector renderer as it is one of Flash's many strengths.</p><p>Now that you have some visual content, we can start to configure Flash's additional iOS specific settings in order to build and deploy your content to a device.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec12"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>Using Cache as Bitmap, <a class="link" href="ch06.html" title="Chapter 6. Graphics and Hardware Acceleration">Chapter 6</a></em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec05"/>AIR for iOS general settings</h1></div></div></div><p>Flash requires a little more information before it can compile your FLA into a native iOS app. First, you will need to specify some general iOS settings, which we will now cover.<a id="id135" class="indexterm"/>
</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec13"/>Getting ready</h2></div></div></div><p>We will continue to work from<code class="literal"> bubbles.fla</code>.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec14"/>How to do it...</h2></div></div></div><p>When working from an AIR for iOS document, an additional settings panel is made available from Flash Professional. From it, you will be able to apply some iOS specifics that will be used by Flash when outputting a native iOS app.<a id="id136" class="indexterm"/>
</p><p>Select<strong> File</strong> |<strong> AIR for iOS Settings</strong> to open the panel. Ensure that the<strong> General</strong> tab is selected.</p><div><h3 class="title"><a id="tip12"/>Tip</h3><p>If you are using Flash Professional CS5, select<strong> File</strong> |<strong> iPhone OS Settings</strong> instead. Remember, CS5 uses the term<strong> iPhone OS</strong> whereas CS5.5 refers to it as<strong> AIR for iOS.</strong>
</p></div><p>Within the<strong> AIR for iOS Settings</strong> panel, options can be set for the following fields:</p><div><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Option</p>
</th><th style="text-align: left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>
<strong>Output file</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>The file name for your native iOS app</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>App name</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>The name of your app</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Version</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>A version number for your app</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Aspect ratio</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>The app's default screen orientation</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Full screen</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>Whether to use the full screen or show the status bar along the top</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Auto orientation</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>Whether the screen orientation is to automatically rotate with the device</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Rendering</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>Sets the rendering mode used by your app</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Device</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>The iOS devices you are targeting</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Resolution</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>Standard or Retina screen resolution support</p>
</td></tr><tr><td style="text-align: left" valign="top">
<p>
<strong>Included files</strong>
</p>
</td><td style="text-align: left" valign="top">
<p>Additional resources to be bundled with your app</p>
</td></tr></tbody></table></div><p>Let us set some of these options:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The<strong> Output file</strong> and<strong> App name</strong> fields will default to the name of your FLA. For this chapter's example app, ensure that the<strong> Output file</strong> is set to<strong> bubbles.ipa</strong> and that the<strong> App name</strong> is set to<strong> Bubbles.</strong><a id="id137" class="indexterm"/></li><li class="listitem" style="list-style-type: disc">Set a value of<strong> 0.1</strong> within the<strong> Version</strong> field.</li><li class="listitem" style="list-style-type: disc">The bubbles app has been designed for a portrait screen orientation and will consume the entirety of your device's screen display. Therefore, ensure that the<strong> Aspect ratio</strong> field is defaulted to<strong> Portrait</strong> and also check on the<strong> Full screen</strong> checkbox.</li><li class="listitem" style="list-style-type: disc">Leave the<strong> Auto orientation</strong> option unchecked.</li><li class="listitem" style="list-style-type: disc">Select<strong> GPU</strong> from the<strong> Rendering</strong> field's drop-down box.</li><li class="listitem" style="list-style-type: disc">Ensure that the<strong> Device</strong> field is set to<strong> iPhone</strong> and that the<strong> Resolution</strong> field is set to<strong> Standard</strong>. The<strong> Resolution</strong> field is not available on Flash CS5.</li></ul></div><p>Now click on the<strong> OK</strong> button on the bottom of the panel and save your FLA.<a id="id138" class="indexterm"/>
</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec15"/>How it works...</h2></div></div></div><p>Let us examine some of the choices made earlier in a little more detail.</p><p>The output<code class="literal"> .ipa</code> file is produced by Flash when you publish your FLA and contains your native app. This is the file that you will install on your device and is often referred to as an IPA.<a id="id139" class="indexterm"/>
</p><p>The app name is the name that is shown beneath your app's icon on your device's home screen. Consider the app's name carefully. Names that are over 13-characters in length will be truncated due to screen space limits.</p><p>The version number is compiled into each app you build and consists of a major and minor value. When installing new versions of your app onto a device, you need to remember to increase the version number. If you don't, then the app won't actually be installed over the existing version.</p><p>Although your stage dimensions may already imply it, you still need to explicitly state the aspect ratio of your app by setting the<strong> Aspect Ratio</strong> field to either<strong> Portrait</strong> or<strong> Landscape</strong>.</p><p>The render mode specifies whether your application should be rendered with the device's<strong> Graphics Processing Unit (GPU)</strong>  or using the CPU. In certain situations, GPU rendering will increase the rendering performance of your app. See<a class="link" href="ch06.html" title="Chapter 6. Graphics and Hardware Acceleration"> Chapter 6</a> for more information regarding GPU acceleration.<a id="id140" class="indexterm"/>
</p><p>Selecting the<strong> Device</strong> field tells Flash which family of device you are targeting and dictates how your IPA will run on certain devices. You can select from<strong> iPhone, iPad</strong>, or<strong> iPhone and iPad</strong>.</p><p>Selecting<strong> iPhone</strong> restricts your screen size to that of the iPhone's. Your IPA will still run on the iPad but the app won't attempt to take advantage of the iPad's screen resolution. Instead, the iPad will run the app using the iPhone's standard 320x480 resolution and scale up the image to fit the iPad's screen. Selecting<strong> iPad</strong> takes advantage of the iPad's resolution and restricts your app to that device. If you have written an app that can take advantage of both the iPhone and iPad's screen resolutions, then you should select<strong> iPhone and iPad</strong>.</p><p>It should also be noted that the iPod touch is treated as an iPhone. Therefore, selecting either<strong> iPhone</strong> or<strong> iPhone and iPad</strong> from the<strong> Device</strong> field will allow your<code class="literal"> .ipa</code> file to be installed on an iPod touch too.<a id="id141" class="indexterm"/>
</p><p>AIR 2.6 and above provides the ability to utilize the<strong> Retina display</strong> introduced on iPhone 4 and the fourth-generation iPod touch. This will provide you with access to a 640x960 screen resolution. If you do want to take advantage of the Retina display and you also want to support the standard resolution of 320x480, then you will need to write a single app that handles both. The App Store does not allow you to upload two separate versions; one for each resolution. Retina display support is not available on Flash Professional CS5.</p><p>This book will, for the most part, concentrate on the standard resolution as it will ensure that the examples will work across all iOS devices. Both the iPad and Retina display devices will scale up content that targets the standard 320x480 resolution. However, for more details regarding Retina and iPad resolutions, see<a class="link" href="ch08.html" title="Chapter 8. Screen Resolution and Orientation Changes"> Chapter 8</a>.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec16"/>There's more...</h2></div></div></div><p>The following are a few more options you should consider.</p><div><div><div><div><h3 class="title"><a id="ch02lvl3sec05"/>Adding the status bar</h3></div></div></div><p>You can add the default iOS status bar to your application by deselecting the<strong> Full screen</strong> checkbox.</p><p>The status bar consumes 20 vertical pixels (40 pixels on Retina display screens) and sits along the top of the screen. Flash will attempt to scale down your app to fit the remaining screen height, leaving borders on either side of the screen.<a id="id142" class="indexterm"/>
</p><p>There are several ways to prevent this from happening. The simplest is to reduce the stage height to accommodate the remaining vertical space.</p><p>Alternatively, leave the stage's dimensions unaltered and use ActionScript to prevent it from being scaled. By doing so, you will need to sacrifice some pixel real estate from either the top or bottom of your stage.</p><p>In the following example, the status bar will overlay and obscure the content at the top of your stage:</p><div><pre class="programlisting">stage.scaleMode = StageScaleMode.NO_SCALE;
stage.align = StageAlign.BOTTOM_LEFT;
</pre></div><p>Whereas the following piece of code positions the stage directly below the status bar, cropping content off the bottom of the stage:</p><div><pre class="programlisting">stage.scaleMode = StageScaleMode.NO_SCALE;
stage.align = StageAlign.TOP_LEFT;
</pre></div><p>In either case, you will also need to import the<code class="literal"> flash.display.StageScaleMode</code> and<code class="literal"> flash.display.StageAlign</code> classes.</p><div><h3 class="title"><a id="note20"/>Note</h3><p>The status bar also consumes 20 vertical pixels on iPad.</p></div></div><div><div><div><div><h3 class="title"><a id="ch02lvl3sec06"/>Including files</h3></div></div></div><p>At the bottom of the AIR for iOS Settings panel is the<strong> Included files</strong> list, which contains resources that are to be bundled with your<code class="literal"> .ipa</code> file or used during compilation.<a id="id143" class="indexterm"/>
</p><p>By default, two files appear in this list: the<code class="literal"> .swf</code> file that represents your app, and an XML file known as the application descriptor file. The application descriptor file contains properties for your entire application including those set within the AIR for iOS Settings panel.</p><p>Additional files can be bundled with your IPA by adding them to the list. We will see how to do this and why it is useful at various points throughout the book.</p></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec17"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>Including an application launch image, <a class="link" href="ch03.html" title="Chapter 3. Writing your First App">Chapter 3</a></em></li><li class="listitem" style="list-style-type: disc"><em>Editing the application descriptor file, <a class="link" href="ch03.html" title="Chapter 3. Writing your First App">Chapter 3</a></em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec06"/>AIR for iOS deployment settings</h1></div></div></div><p>We are almost ready to publish a native iOS app from Flash. Now it is actually time to use the development files that you created during<a class="link" href="ch01.html" title="Chapter 1. Getting Started with iOS App Development"> Chapter 1</a>,<em> Getting Started with iOS App Development</em>. As part of the deployment process, Flash Professional requires both your P12 certificate file and your development provisioning profile. Without these files it will be unable to compile your FLA into a native iOS app.<a id="id144" class="indexterm"/>
</p><p>Let us go through the steps required to configure the iOS deployment settings.</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec18"/>Getting ready</h2></div></div></div><p>Before attempting this recipe, you will need to create a P12 certificate file and a development provisioning profile. If you haven't already done this, then complete the following recipes first:<a id="id145" class="indexterm"/>
</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>Creating a P12 certificate using Windows, <a class="link" href="ch01.html" title="Chapter 1. Getting Started with iOS App Development">Chapter 1</a></em></li><li class="listitem" style="list-style-type: disc"><em>Creating a P12 certificate using Mac OS X, <a class="link" href="ch01.html" title="Chapter 1. Getting Started with iOS App Development">Chapter 1</a></em></li><li class="listitem" style="list-style-type: disc"><em>Creating a development provisioning profile, <a class="link" href="ch01.html" title="Chapter 1. Getting Started with iOS App Development">Chapter 1</a></em></li></ul></div><p>You should also have set your general iOS settings within Flash Professional, which was covered in the<em> AIR for iOS general settings</em> recipe.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec19"/>How to do it...</h2></div></div></div><p>You will be working within the AIR for iOS Settings panel again.<a id="id146" class="indexterm"/>
</p><div><ol class="orderedlist"><li class="listitem">Open the<strong> AIR for iOS Settings</strong> panel by selecting<strong> File</strong> |<strong> AIR for iOS Settings</strong> from Flash Professional's drop-down menu.</li><li class="listitem">Click on the<strong> Deployment</strong> tab in the settings panel.<p>From here you will be able to set the following:
</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The P12 certificate file required to digitally sign your app</li><li class="listitem" style="list-style-type: disc">The provisioning profile associated with your app</li><li class="listitem" style="list-style-type: disc">The App ID</li><li class="listitem" style="list-style-type: disc">The deployment type to be used</li></ul></div></li><li class="listitem">Let us start by specifying the P12 certificate file. Click on the<strong> Browse</strong> button to the far right of the<strong> Certificate</strong> field. From the file browser, navigate to<code class="literal"> packt\flash-ios-cookbook\developer-files\</code> within your<code class="literal"> Documents</code> folder. Select the<code class="literal"> .p12</code> file and click on<strong> Open</strong>.</li><li class="listitem">In the<strong> Password</strong> field directly below, enter the password you associated with your P12 certificate. This is the export password you set up during the<em> Creating a P12 certificate using Windows</em> recipe or the<em> Creating a P12 certificate using Mac OS X</em> recipe from<a class="link" href="ch01.html" title="Chapter 1. Getting Started with iOS App Development"> Chapter 1</a>.</li><li class="listitem">Also, check on the<strong> Remember password for this session</strong> checkbox directly underneath the<strong> Password</strong> field.<div><h3 class="title"><a id="note21"/>Note</h3><p>The<strong> Remember password for this session</strong> option will prevent Flash from asking you for the password every time you publish your FLA. However, you will be asked for the password again each time you re-launch Flash as it is only stored on a per-session basis.</p></div></li><li class="listitem">Now that Flash Professional knows what certificate to use, you can specify the<strong> Provisioning profile</strong> that your app is to be tied to.<p>Click on the <strong>Browse</strong> button to the far right of the <strong>Provisioning profile</strong> field and select the <code class="literal">.mobileprovision</code> file from the <code class="literal">developer-files</code> folder.
</p></li><li class="listitem">The<strong> App ID</strong> field directly below expects a unique identifier for your app. Enter<strong> bubbles</strong> for this application's ID.</li><li class="listitem">The final step is to make a selection for the deployment type.<p>The <strong>Quick publishing for device testing</strong>option should be selected by default. If it isn't, then select it.
</p></li><li class="listitem">Click on<strong> OK</strong> and save your FLA.<a id="id147" class="indexterm"/></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec20"/>How it works...</h2></div></div></div><p>Your FLA is now ready to be compiled into a native iOS app. In fact, you can actually publish the app directly from the<strong> AIR for iOS Settings</strong> panel, but we will hold off publishing until the next recipe.<a id="id148" class="indexterm"/>
</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec21"/>There's more...</h2></div></div></div><p>Before proceeding, it is worth spending some time understanding the role of the App ID and the deployment type setting.</p><div><div><div><div><h3 class="title"><a id="ch02lvl3sec07"/>Specifying an App ID</h3></div></div></div><p>You may remember creating and associating an App ID with the provisioning profile you created during the<em> Creating a development provisioning profile</em> recipe from<a class="link" href="ch01.html" title="Chapter 1. Getting Started with iOS App Development"> Chapter 1</a>.<a id="id149" class="indexterm"/>
</p><p>An App ID consists of two parts: a bundle seed ID and a bundle identifier. Flash Professional expects you to provide it with only the bundle identifier.</p><p>If your bundle identifier contains the wildcard symbol<code class="literal"> *</code>, then you need to substitute the symbol with an arbitrary string that will uniquely represent your app. Wildcard App IDs allow you to use the same provisioning profile to publish multiple apps.</p><p>The App ID associated with your provisioning profile is solely the wildcard symbol, meaning that the identifier you enter into the<strong> App ID</strong> field within Flash Professional is an arbitrary string entirely of your choice.</p><p>It makes sense in such cases to assign an App ID that is related to the name of your app, making<code class="literal"> bubbles</code> an appropriate ID for this chapter's example app.<a id="id150" class="indexterm"/>
</p></div><div><div><div><div><h3 class="title"><a id="ch02lvl3sec08"/>Deployment types</h3></div></div></div><p>Within Flash Professional, there are four different deployment types that you can choose from:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Quick publishing for device testing</li><li class="listitem" style="list-style-type: disc">Quick publishing for device debugging</li><li class="listitem" style="list-style-type: disc">Deployment—Ad hoc</li><li class="listitem" style="list-style-type: disc">Deployment—Apple App Store</li></ul></div><p>Of these, you only need to select from the first two when developing.<a id="id151" class="indexterm"/>
</p><p>From Flash Professional, the<strong> Quick publishing for device testing</strong> option is the quickest path for deploying and running an app on a device. However, if you want to debug your app directly from a device, then you will need to select<strong> Quick publishing for device debugging</strong>, which will allow you to use Flash Professional's remote debugger to see<code class="literal"> trace()</code> statements and pause your application at breakpoints.</p><p>The remaining deployment types are for building apps that are being prepared for beta testing or App Store submission, and will require you to have a distribution certificate.</p><p>For more details regarding distribution, refer to the<strong> Distribution</strong> section of the<strong> Program User Guide</strong>, which can be found within the iOS Provisioning Portal's<strong> Resources</strong> section.</p></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec22"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>Obtaining your development certificate, <a class="link" href="ch01.html" title="Chapter 1. Getting Started with iOS App Development">Chapter 1</a></em></li><li class="listitem" style="list-style-type: disc"><em>Creating an App ID,<a class="link" href="ch01.html" title="Chapter 1. Getting Started with iOS App Development">Chapter 1</a></em></li><li class="listitem" style="list-style-type: disc"><em>Creating a development provisioning profile, <a class="link" href="ch01.html" title="Chapter 1. Getting Started with iOS App Development">Chapter 1</a></em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec07"/>Compiling from Flash Professional</h1></div></div></div><p>With the iOS settings successfully configured, you can go ahead and compile your FLA into a native app.<a id="id152" class="indexterm"/>
</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec23"/>Getting ready</h2></div></div></div><p>If you haven't already configured the iOS settings for your app, then perform the following two recipes before proceeding:<a id="id153" class="indexterm"/>
</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>AIR for iOS general settings</em></li><li class="listitem" style="list-style-type: disc"><em>AIR for iOS deployment settings</em></li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec24"/>How to do it...</h2></div></div></div><p>Compiling your FLA into a native iOS app from Flash Professional can take several minutes depending on your computer's hardware specification. It is, therefore, advisable to publish your FLA using the<strong> AIR Debug Launcher (ADL)</strong>  first. This will let you quickly find and correct any compiler errors before attempting to build a native iOS version.<a id="id154" class="indexterm"/>
</p><p>Let us use ADL to quickly publish<code class="literal"> bubbles.fla</code>.</p><div><ol class="orderedlist"><li class="listitem">From Flash Professional's drop-down menu, select<strong> Control</strong> |<strong> Test Movie</strong> |<strong> in AIR Debug Launcher (Mobile)</strong>.</li><li class="listitem">If successful, a<code class="literal"> .swf</code> file will be published and run within ADL. You should see the scene that you created in the<em> Adding content to the stage</em> recipe earlier in this chapter.<div><h3 class="title"><a id="note22"/>Note</h3><p>At the moment, your SWF will only show a static scene consisting of various sized bubbles sitting against a background. The<code class="literal"> bubbles.fla</code> file will become more dynamic as we add more functionality throughout the course of this and the next chapter.</p></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">If there are any compiler errors, then correct them and re-publish. You can make subsequent publication attempts by pressing <em>Ctrl + Enter (Cmd + Enter </em> on Mac) rather than using the drop-down menu each time.<p>Once you are satisfied that you have eliminated all compiler errors, you can publish your FLA for deployment on an iOS device.
</p></li></ul></div></li><li class="listitem">To do this, simply select<strong> File</strong> |<strong> Publish</strong> <em> (Alt + Shift</em> +<em> F12</em> |<em> Shift</em> +<em> Cmd</em> +<em> F12)</em> from Flash's drop-down menu and compilation will begin.<a id="id155" class="indexterm"/></li></ol></div><div><h3 class="title"><a id="note23"/>Note</h3><p>If the<strong> AIR for iOS Settings</strong> panel appears, then it is likely that Flash requires your certificate's password again. This will happen if you forget to check the<strong> Remember password for this session</strong> checkbox or if you have re-launched Flash after closing it.</p><p>In either case, enter the password, check on the checkbox, and then click on the<strong> Publish</strong> button at the bottom of the panel.</p></div><p>If successful, a file named<code class="literal"> bubbles.ipa</code> will be output to the same folder as your FLA.<a id="id156" class="indexterm"/>
</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec25"/>How it works...</h2></div></div></div><p>The<code class="literal"> .ipa</code> file is the native iOS version of your app and is what you install onto your device for testing.<a id="id157" class="indexterm"/>
</p><p>In order to perform cross compilation of your app's<code class="literal"> .swf</code> file into an<code class="literal"> .ipa</code> file, Flash Professional CS5 makes a call to the<strong> Packager for iPhone (PFI)</strong>  while CS5.5 makes a call to the<strong> AIR Development Tool (ADT)</strong> .<a id="id158" class="indexterm"/>
</p><p>Compile times can be lengthy, particularly for large projects.</p><p>Although there is no real substitute for actual on-device testing, you might want to test small incremental changes to your app from ADL. This will save considerable time, although, be aware that not all iOS features are supported on the desktop and will have to be tested on a device instead.</p><p>In addition, Adobe introduced a new build target in AIR 2.7 called<strong> Interpreter Mode</strong>, which reduces compilation time from minutes to a few seconds. This feature is aimed at advanced developers as it requires the use of the command line.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec26"/>There's more...</h2></div></div></div><p>You may be curious as to why compiling an<code class="literal"> .ipa</code> file takes considerably longer than publishing a<code class="literal"> .swf</code> file using ADL. The following section may help your understanding.</p><div><div><div><div><h3 class="title"><a id="ch02lvl3sec09"/>The LLVM compiler infrastructure</h3></div></div></div><p>Rather than being interpreted at runtime, a compiler was written to convert<code class="literal"> .swf</code> files into native iOS applications.<a id="id159" class="indexterm"/>
</p><p>This was achieved by using the widely used open source,<strong> Low Level Virtual Machine (LLVM)</strong>  compiler infrastructure. Adobe created a new compiler frontend for LLVM allowing it to understand ActionScript 3.0. LLVM's existing ARM backend was then used to output native ARM machine code, which is understood by the CPUs used in iOS devices. This is more commonly known as<strong> ahead-of-time compilation.</strong>
<a id="id160" class="indexterm"/>
</p><p>Although your application is written in Flash, the final result is a completely native iOS application.</p><p>However, the ahead-of-time compilation process is quite involved and takes significantly longer than simply publishing a<code class="literal"> .swf</code> file from Flash.</p><p>You can find out more about LLVM at<a class="ulink" href="http://llvm.org"> http://llvm.org</a>.<a id="id161" class="indexterm"/>
</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec08"/>Installing your app with iTunes</h1></div></div></div><p>Once you have compiled your FLA into an<code class="literal"> .ipa</code> file, it can be installed onto your device for testing. There are various applications available that you can use to do this, one of which is iTunes.<a id="id162" class="indexterm"/>
</p><p>Let us see how this is done.<a id="id163" class="indexterm"/>
</p><div><div><div><div><h2 class="title"><a id="ch02lvl2sec27"/>Getting ready</h2></div></div></div><p>You must already have installed on your device the same provisioning profile you used when compiling your IPA from Flash Professional.<a id="id164" class="indexterm"/>
</p><p>If you haven't yet done this, then first perform the steps detailed in the<em> Installing a provisioning profile on your device</em> recipe from<a class="link" href="ch01.html" title="Chapter 1. Getting Started with iOS App Development"> Chapter 1</a>.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec28"/>How to do it...</h2></div></div></div><div><ol class="orderedlist"><li class="listitem">Launch iTunes and connect your iOS device through a USB.<a id="id165" class="indexterm"/></li><li class="listitem">Select<strong> File</strong> |<strong> Add File to Library</strong><em> (Ctrl + O</em> |<em> Cmd</em> +<em> O)</em> from iTunes' drop-down menu.<a id="id166" class="indexterm"/><div><h3 class="title"><a id="note24"/>Note</h3><p>On Mac OS X, the drop-down menu option is listed as<strong> Add to Library</strong>.</p></div></li><li class="listitem">From the file browser, navigate to and select the<code class="literal"> .ipa</code> file you want to install. For this recipe, simply locate the<code class="literal"> bubbles.ipa</code> file you created earlier. You should find it in your<code class="literal"> Documents</code> folder at<code class="literal"> packt\flash-ios-cookbook\my-first-app\bubbles.ipa</code>.</li><li class="listitem">The<code class="literal"> .ipa</code> file will install on iTunes. Confirm this by checking your iTunes library for an app named<strong> Bubbles</strong>. You can see your installed apps by clicking on the<strong> Apps</strong> category underneath the<strong> LIBRARY</strong> section in iTunes.</li><li class="listitem">The final step is to move the app from your computer's iTunes library to your device.<p>Underneath the <strong>DEVICES</strong> section in iTunes, click on your device's name. By default you will be shown the device's summary information. Above the summary information is a row of tabs. Click on the <strong>Apps</strong> tab.
</p></li><li class="listitem">From here, you can synchronize your device's library with that of your computer. On the left-hand side, you will find a list of the apps stored on your computer and on the right is the list of apps installed on your device. Scroll down the list on the left until you find the<strong> Bubbles</strong> app. If it isn't already selected, check on the checkbox next to it.</li><li class="listitem">Now to copy the app to your device, click on the<strong> Apply</strong> button near the bottom-right corner of iTunes.<a id="id167" class="indexterm"/><div><h3 class="title"><a id="note25"/>Note</h3><p>From the<strong> Apps</strong> tab, ensure that the<strong> Sync Apps</strong> checkbox is selected. If not then you will first have to manually synchronize your device before the latest version of your app can be copied to your device.</p></div></li><li class="listitem">Find the<strong> Bubbles</strong> app on your device and launch it by tapping its icon.</li></ol></div><div><h3 class="title"><a id="note26"/>Note</h3><p>On older iOS devices such as first-generation and second-generation iPhones and iPod touches, you may find the performance of some apps particularly sluggish when you first launch them. This tends to be caused by your device updating its library in the background after being synced with your computer.</p><p>If you are experiencing problems, then you may want to wait until this update process has completed before launching your app. You can check to see if your device's library is being updated by selecting the<strong> Music</strong> app from the home screen. If the library is currently being updated, you will be informed and prevented from selecting from your music library.</p></div></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec29"/>How it works...</h2></div></div></div><p>Copying your app using iTunes is a fairly trivial process but for the procedure to succeed, everything needs to be correct with the development files you created and obtained from the iOS Provisioning Portal.<a id="id168" class="indexterm"/>
</p><p>If there are problems, then your app may fail to copy to the iTunes library on your computer or fail to install on your device. If you experience either of these problems, then it may be for one or more of the following reasons:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Your provisioning profile has not been copied to the iTunes library.</li><li class="listitem" style="list-style-type: disc">Your provisioning profile has not been copied to your device.</li><li class="listitem" style="list-style-type: disc">The provisioning profile has expired.</li><li class="listitem" style="list-style-type: disc">The device hasn't been registered with the provisioning profile.</li><li class="listitem" style="list-style-type: disc">The IPA was compiled using a different provisioning profile than what is on your device.<a id="id169" class="indexterm"/></li><li class="listitem" style="list-style-type: disc">The App ID you specified within Flash does not match your provisioning profile's bundle identifier pattern.</li><li class="listitem" style="list-style-type: disc">Your development computer's firewall may interfere with installation of your app. If all else fails, deactivate the firewall and retry installing the app to your device.</li></ul></div><p>Unfortunately, the errors you receive from iTunes when an app fails to install can be obscure. If you do experience problems and you are still finding your feet with iOS development, then it might be better to delete your development files and go back through the provisioning process again.</p></div><div><div><div><div><h2 class="title"><a id="ch02lvl2sec30"/>There's more...</h2></div></div></div><p>We have deployed our first app to our device. When you go to install and test subsequent versions of your app, you should consider the configurations mentioned in the following section.</p><div><div><div><div><h3 class="title"><a id="ch02lvl3sec10"/>Updating version numbers</h3></div></div></div><p>Each time you make a new build that you would like to test on your device; you will also need to update your app's version number from Flash's AIR for iOS Settings panel.<a id="id170" class="indexterm"/>
</p><p>If you forget to do this, then iTunes will not copy the latest version of the app to your device when syncing; iTunes will only replace an existing app with one that has a higher version number.</p><p>However, updating the version number every time you make a build is easy to overlook. For more rapid development, you might instead want to delete the existing version of the app from your device before installing the latest version.</p><p>To remove an app directly from your device, simply hold your finger on the icon for a few seconds, then tap the cross that appears at its top-right corner.</p></div><div><div><div><div><h3 class="title"><a id="ch02lvl3sec11"/>iPhone Configuration Utility</h3></div></div></div><p>As an alternative to iTunes, you may want to consider downloading and installing the iPhone Configuration Utility from Apple.<a id="id171" class="indexterm"/>
</p><p>It allows you to install and remove applications from your device, and also lets you see what version of the app is actually installed—something iTunes doesn't currently do.</p><p>The iPhone Configuration Utility is available for both Mac OS X and Windows and can be downloaded from<a class="ulink" href="http://www.apple.com/support/iphone/enterprise"> www.apple.com/support/iphone/enterprise</a>.</p></div><div><div><div><div><h3 class="title"><a id="ch02lvl3sec12"/>TestFlight</h3></div></div></div><p>For team environments, take a look at<strong> TestFlight.</strong> It is a free over-the-air platform used to distribute apps to team members during development and testing. The service allows iOS developers to create a team, invite team members, add team members' devices, and distribute their latest builds to them.<a id="id172" class="indexterm"/>
</p><p>Each new build is made available to testers through an e-mail with a link to install it. Clicking on the link will download and install the build to the device wirelessly. There is no need for team members to physically connect their device to a computer in order to install a build.</p><p>You can sign up for TestFlight at<a class="ulink" href="http://https://testflightapp.com."> https://testflightapp.com.</a>
<a id="id173" class="indexterm"/>
</p></div></div></div></body></html>