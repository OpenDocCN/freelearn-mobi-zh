<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch02"/>Chapter 2.  Setting up the Development Environment </h1></div></div></div><div><table border="0" cellspacing="0" cellpadding="0" class="blockquote" summary="Block quote"><tr><td valign="top"> </td><td valign="top"><p>

<em>"Give me six hours to chop down a tree and I will spend the first four sharpening the axe."</em>

</p></td><td valign="top"> </td></tr><tr><td valign="top"> </td><td colspan="2" align="right" valign="top" style="text-align: center">--<em>Abraham Lincoln</em></td></tr></table></div><p>In this chapter, we will discuss the steps, topics, and process involved in setting up a development environment using the Android Studio. If you have done Android application development using Android Studio, some of the items discussed here might already be familiar to you. However, there are some Android Wear platform-specific items that may be of interest to you.</p><div><div><div><div><h1 class="title"><a id="ch02lvl1sec13"/>Android Studio</h1></div></div></div><p>Android Studio <strong>Integrated Development Environment</strong> (<strong>IDE</strong>) is based on the <strong>IntelliJ IDEA</strong> platform. If you have done Java development using IntelliJ IDEA platform, you'll feel at home working with Android Studio IDE.</p><p>Android Studio platform comes bundled with all the necessary tools and libraries needed for Android application development. If this is the first time you are setting up Android Studio on your development system, make sure that you have satisfied all the requirements before installation. Refer to the Android developer site (<a class="ulink" href="http://developer.android.com/sdk/index.html#Requirements">http://developer.android.com/sdk/index.html#Requirements</a>) to check the items needed for the operating system of your choice.</p><p>Note that you need at least JDK version 7 installed on your machine for Android Studio to work. You can verify your JDK version by typing the following commands in the Terminal window:</p><p>
</p><div><img src="img/image00129.jpeg" alt="Android Studio"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>If your system does not meet that requirement, upgrade it using the method that is specific to your operating system.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec14"/>Installation</h1></div></div></div><p>The Android Studio platform includes Android Studio IDE, SDK Tools, Google API Libraries, and system images needed for Android application development:</p><p>
</p><div><img src="img/image00130.jpeg" alt="Installation"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Visit the <a class="ulink" href="http://developer.android.com/sdk/index.html">http://developer.android.com/sdk/index.html</a> page to download Android Studio for your corresponding operating system and follow the installation instructions.</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec15"/>Git and GitHub</h1></div></div></div><p>Git is a distributed version control system that is used widely for open source projects. We'll be using Git for sample code and sample projects as we go along the way.</p><p>Make sure that you have Git installed on your system by typing the following command in a Terminal window:</p><p>
</p><div><img src="img/image00131.jpeg" alt="Git and GitHub"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>If you don't have it installed, download and install it by visiting, <a class="ulink" href="https://git-scm.com/downloads">https://git-scm.com/downloads</a> link for your corresponding operating system.</p><p>If you are working on Mac OS El Capitan or Yosemite, or Linux distributions such as Ubuntu, Kubuntu, or Mint, the chances are you already have Git installed.</p><p>GitHub (<a class="ulink" href="http://github.com">http://github.com</a>) is a free and popular hosting service for Git-based open source projects. They make checking out and contributing to open source projects easier than ever. Sign up with GitHub for a free account if you don't have an account already.</p><p>We'll be using GitHub to check out various sample projects related to Android Wear and also for sample code for applications developed for this book. We don't need to be an expert on Git for Android application development, but we do need to be familiar with the basic usage of Git commands to work with the project.</p><p>Android Studio comes by default with Git and GitHub integration. It helps to import sample code from Google's GitHub repository and helps you learn by checking out various application code samples.</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec16"/>Gradle</h1></div></div></div><p>Android application development uses Gradle (<a class="ulink" href="http://gradle.org/">http://gradle.org/</a>) as the build system. It is used to build, test, run, and package the apps for running and testing Android applications.</p><p>Gradle is declarative and uses <em>convention over configuration</em> for build settings and configurations. It manages all the library dependencies for compiling and building code artifacts.</p><p>Fortunately, Android Studio abstracts most of the common Gradle tasks and operations needed for development. However, there may be some cases where having some extra knowledge about Gradle would be very helpful. We won't be digging into Gradle now, we'll be discussing it as and when needed during the course of our journey.</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec17"/>Android SDK packages</h1></div></div></div><p>When you install Android Studio, it doesn't include all the Android SDK packages that are needed for development. The Android SDK separates tools, platforms, and other components and libraries into packages that can be downloaded, as needed using the Android SDK Manager. Before we start creating an application, we need to add some required packages into the Android SDK.</p><p>Launch SDK Manager from Android Studio, <strong>Tools</strong> | <strong>Android</strong> | <strong>SDK Manager</strong>:</p><p>
</p><div><img src="img/image00132.jpeg" alt="Android SDK packages"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Let's quickly go over a few items in the preceding screenshot.</p><p>As you can see, the Android SDK's location is <code class="literal">/opt/android-sdk</code> on my machine. It may very well be different on your machine depending on what you selected during the Android Studio installation. The important point to note is that the Android SDK is installed in a different location than Android Studio's path (<code class="literal">/Applications/Android\ Studio.app/</code>).</p><p>This is considered a good practice because the Android SDK installation can be unaffected depending on a new installation or upgrade of Android Studio or vice versa.</p><p>On the <strong>SDK Platforms</strong> tab, select some recent Android SDK versions such as Android versions 6.0, 5.1.1, and 5.0.1.</p><p>Depending on the Android versions you are planning on supporting in your wearable apps, you can select other older Android versions.</p><p>Checking the <strong>Show Package Details</strong> option in the bottom right will show all the packages that will be installed for a given Android SDK version:</p><p>
</p><div><img src="img/image00133.jpeg" alt="Android SDK packages"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>To be on the safe side, select all the packages. As you may have noticed already, Android Wear ARM and Intel system images are included in the package selection.</p><p>Now, when you click on the <strong>SDK Tools</strong> tab<em>, </em>make sure the following items are selected:</p><div><ul class="itemizedlist"><li class="listitem"><strong>Android SDK Build Tools</strong></li><li class="listitem"><strong>Android SDK Tools 24.4.1</strong> (latest version)</li><li class="listitem"><strong>Android SDK Platform-Tools</strong></li><li class="listitem"><strong>Android Support Repository, rev 25</strong> (latest version)</li><li class="listitem"><strong>Android Support Library, rev 23.1.1</strong> (latest version)</li><li class="listitem"><strong>Google Play services, rev 29</strong> (latest version)</li><li class="listitem"><strong>Google Repository, rev 24</strong> (latest version)</li><li class="listitem"><strong>Intel X86 Emulator Accelerator (HAXM installer), rev 6.0.1</strong> (latest version)</li><li class="listitem"><strong>Documentation for Android SDK</strong> (optional)</li></ul></div><p>The SDK window will look like the following:</p><p>
</p><div><img src="img/image00134.jpeg" alt="Android SDK packages"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Do not change anything in the <strong>SDK Update Sites</strong> tab. Keep the update sites as it was configured by default.</p><p>Click on <strong>OK</strong> button. It will take some time to download and install all the components and packages selected.</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec18"/>Android Virtual Devices</h1></div></div></div><p>
<strong>Android Virtual Devices</strong> (<strong>AVD</strong>) will enable us to test the code using Android emulators. It lets us pick and choose various Android system target versions and form factors needed for testing.</p><p>Launch Android Virtual Device manager from <strong>Tools</strong> | <strong>Android</strong> | <strong>AVD Manager</strong>.</p><p>From the <strong>AVD Manager</strong> window, click on the <strong>Create New Virtual Device</strong> button in the bottom left and proceed to the next screen and select the <strong>Wear</strong> category:</p><p>
</p><div><img src="img/image00135.jpeg" alt="Android Virtual Devices"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Select <strong>Marshmallow</strong> API Level <strong>23 on x86</strong> and leave everything else as the default settings, as shown in the following screenshot:</p><p>
</p><div><img src="img/image00136.jpeg" alt="Android Virtual Devices"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><div><h3 class="title"><a id="note3"/>Note</h3><p>Note that the current latest Android version is Marshmallow of API level 23 at the time of writing. It may or may not be the latest version while you are reading this chapter. Feel free to select the latest version that is available during that time. Also, if you'd like to support or test in earlier Android versions, feel free to do so on that screen.</p></div><p>The configuration window will appear after clicking the <strong>Next</strong> button:</p><p>
</p><div><img src="img/image00137.jpeg" alt="Android Virtual Devices"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>After the virtual device is selected successfully, you should see that listed on the <strong>Android Virtual Devices</strong> list, as shown in the following screenshot:</p><p>
</p><div><img src="img/image00138.jpeg" alt="Android Virtual Devices"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><div><h3 class="title"><a id="note4"/>Note</h3><p>Although it's not a requirement to use real Android Wear device during development, sometimes it may be convenient and faster developing it in a real physical device. But for the sake of this book, we'll be primarily covering developing and testing using Android emulators.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec19"/>Let's build a skeleton application</h1></div></div></div><p>Since we have all the components and configurations needed for building a wearable app, let's build a skeleton app and test out what we have so far.</p><p>From Android Studio's <strong>Quick Start</strong> menu, click on the <strong>Import an Android code sample</strong> option:</p><p>
</p><div><img src="img/image00139.jpeg" alt="Let's build a skeleton application"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Select <strong>Skeleton Wearable App</strong> from the <strong>Wearable </strong>category:</p><p>
</p><div><img src="img/image00140.jpeg" alt="Let's build a skeleton application"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Click <strong>Next</strong> and select your preferred project location.</p><p>As you can see, the skeleton project is cloned from Google's sample code repository from GitHub:</p><p>
</p><div><img src="img/image00141.jpeg" alt="Let's build a skeleton application"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Clicking on the <strong>Finish</strong> button will pull the source code, and Android Studio will compile and build the code and get it ready for execution.</p><p>The following screenshot indicates that the Gradle build has finished successfully without any errors. Click on the green play button as shown in the following screenshot to run the configuration:</p><p>
</p><div><img src="img/image00142.jpeg" alt="Let's build a skeleton application"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>When the app starts running, Android Studio will prompt us to select the deployment targets. We can select the emulator we created earlier and click <strong>OK</strong>:</p><p>
</p><div><img src="img/image00143.jpeg" alt="Let's build a skeleton application"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>After the code compiles and is uploaded to the emulator, the main activity of the Skeleton App will be launched as shown here:</p><p>
</p><div><img src="img/image00144.jpeg" alt="Let's build a skeleton application"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Clicking on the <strong>SHOW NOTIFICATION</strong> tab will show the notification:</p><p>
</p><div><img src="img/image00145.jpeg" alt="Let's build a skeleton application"/></div><p style="clear:both; height: 1em;"> </p><p>
</p><p>Clicking on <strong>START TIMER</strong> tab will start the timer and run it for 5 seconds, and clicking on <strong>FINISH ACTIVITY</strong> will close the activity and take the emulator to the home screen:</p><p>
</p><div><img src="img/image00146.jpeg" alt="Let's build a skeleton application"/></div><p style="clear:both; height: 1em;"> </p><p>
</p></div>
<div><div><div><div><h1 class="title"><a id="ch02lvl1sec20"/>Summary</h1></div></div></div><p>We discussed the process involved in setting up the Android Studio development environment by covering the installation instructions, requirements, SDK tools, packages, and other components needed for Android Wear development.</p><p>We also checked out the source code for a skeleton wearable app from Google's sample code repository and successfully ran and tested it on the Android device emulator.</p><p>In the next chapter, we'll be working on a real-world Android Wear application from scratch with all the configuration and setup we have created so far.</p></div></body></html>