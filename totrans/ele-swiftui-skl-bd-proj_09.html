<html><head></head><body>
<div id="_idContainer186">
<h1 class="chapter-number" id="_idParaDest-130"><a id="_idTextAnchor422"/><span class="koboSpan" id="kobo.1.1">9</span></h1>
<h1 id="_idParaDest-131"><a id="_idTextAnchor423"/><span class="koboSpan" id="kobo.2.1">Watch Project – Fitness Companion UI</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In this chapter, we will implement the activity button screen for the Fitness Companion project. </span><span class="koboSpan" id="kobo.3.2">In the previous chapter, we looked at the design of Fitness Companion and, more specifically, the </span><strong class="bold"><span class="koboSpan" id="kobo.4.1">Current Activity</span></strong><span class="koboSpan" id="kobo.5.1"> screen design. </span><span class="koboSpan" id="kobo.5.2">Then we broke the screen down into all the components required. </span><span class="koboSpan" id="kobo.5.3">We then implemented all the components using SwiftUI. </span><span class="koboSpan" id="kobo.5.4">At the end of the previous chapter, we only had a single screen that couldn’t be swiped. </span><span class="koboSpan" id="kobo.5.5">The main section will be swipeable and present the user with a list of buttons for controlling the current activity. </span><span class="koboSpan" id="kobo.5.6">Then, we will analyze the activity button screen, break it down into all the components it is composed of, and implement all the components to provide a fitness </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">app-like feel.</span></span></p>
<p><span class="koboSpan" id="kobo.7.1">This chapter will be split into the </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">following sections:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.9.1">Activity button </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">screen overview</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Implementing the activity </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">button screen</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.13.1">Extra tasks</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.14.1">By the end of this chapter, you will have created a fitness companion application for WatchOS. </span><span class="koboSpan" id="kobo.14.2">This will serve as a template with a swipeable screen to show the user information about an activity. </span><span class="koboSpan" id="kobo.14.3">It will serve as a solid foundation for further expanding the fitness application or pivoting the project to something different while using the core structure we have implemented. </span><span class="koboSpan" id="kobo.14.4">As we reach the end of the chapter, I will provide exercises to implement more advanced functionality in the fitness companion app. </span><span class="koboSpan" id="kobo.14.5">This will be the fourth and last project in this book, providing you with a 360-degree view of iOS UI development </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">using Swift.</span></span></p>
<h1 id="_idParaDest-132"><a id="_idTextAnchor424"/><span class="koboSpan" id="kobo.16.1">Technical Requirements</span></h1>
<p><span class="koboSpan" id="kobo.17.1">This chapter requires you to download Xcode version 14 or above from Apple’s </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">App Store.</span></span></p>
<p><span class="koboSpan" id="kobo.19.1">To install Xcode, just search for Xcode in the App Store and select and download the latest version. </span><span class="koboSpan" id="kobo.19.2">Open Xcode and follow any additional installation instructions. </span><span class="koboSpan" id="kobo.19.3">Once Xcode has opened and launched, you’re ready </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">to go.</span></span></p>
<p><span class="koboSpan" id="kobo.21.1">Version 14 of Xcode has the </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">following features/requirements:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.23.1">It includes SDKs for iOS 16, iPadOS 16, macOS 12.3, tvOS 16, and </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">watchOS 9</span></span></li>
<li><span class="koboSpan" id="kobo.25.1">It supports on-device debugging in iOS 11 or later, tvOS 11 or later, and watchOS 4 </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">or later</span></span></li>
<li><span class="koboSpan" id="kobo.27.1">You will require a Mac running macOS Monterey 12.5 </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">or later</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.29.1">Download the sample code from the following </span><span class="No-Break"><span class="koboSpan" id="kobo.30.1">GitHub link:</span></span></p>
<p><a href="https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects"><span class="No-Break"><span class="koboSpan" id="kobo.31.1">https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects</span></span></a></p>
<h1 id="_idParaDest-133"><a id="_idTextAnchor425"/><span class="koboSpan" id="kobo.32.1">Activity button screen overview</span></h1>
<p><span class="koboSpan" id="kobo.33.1">In this</span><a id="_idIndexMarker347"/><span class="koboSpan" id="kobo.34.1"> section, we will take another look at the wireframe from </span><a href="B18783_08.xhtml#_idTextAnchor402"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.35.1">Chapter 8</span></em></span></a><span class="koboSpan" id="kobo.36.1"> and break it down into its components. </span><span class="koboSpan" id="kobo.36.2">The following figure showcases the activity </span><span class="No-Break"><span class="koboSpan" id="kobo.37.1">button screen:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer165">
<span class="koboSpan" id="kobo.38.1"><img alt="Figure 9.1 – Activity button screen" src="image/B18783_09_1.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.39.1">Figure 9.1 – Activity button screen</span></p>
<p><span class="koboSpan" id="kobo.40.1">Before we </span><a id="_idIndexMarker348"/><span class="koboSpan" id="kobo.41.1">code our application, we will break down the activity button screen into the elements that comprise it. </span><span class="koboSpan" id="kobo.41.2">As a little task, see whether you can figure out what these are. </span><span class="koboSpan" id="kobo.41.3">Don’t worry if you don’t know the exact UI component names; we will look at the components in the </span><span class="No-Break"><span class="koboSpan" id="kobo.42.1">following section.</span></span><a id="_idTextAnchor426"/></p>
<h2 id="_idParaDest-134"><a id="_idTextAnchor427"/><span class="koboSpan" id="kobo.43.1">Image components</span></h2>
<p><span class="koboSpan" id="kobo.44.1">An Image component</span><a id="_idIndexMarker349"/><span class="koboSpan" id="kobo.45.1"> is one of the core components offered by SwiftUI. </span><span class="koboSpan" id="kobo.45.2">It allows you to display an image, which can be used to provide a visual representation or to aid a body of text. </span><span class="koboSpan" id="kobo.45.3">We will use it to display icons for buttons to control the current activity. </span><span class="koboSpan" id="kobo.45.4">The following figures show the icons from </span><span class="No-Break"><span class="koboSpan" id="kobo.46.1">the application:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer166">
<span class="koboSpan" id="kobo.47.1"><img alt="Figure 9.2 – Lock image" src="image/B18783_09_2.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.48.1">Figure 9.2 – Lock image</span></p>
<div>
<div class="IMG---Figure" id="_idContainer167">
<span class="koboSpan" id="kobo.49.1"><img alt="Figure 9.3 – New image" src="image/B18783_09_3.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.50.1">Figure 9.3 – New image</span></p>
<div>
<div class="IMG---Figure" id="_idContainer168">
<span class="koboSpan" id="kobo.51.1"><img alt="Figure 9.4 – End image" src="image/B18783_09_4.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.52.1">Figure 9.4 – End image</span></p>
<div>
<div class="IMG---Figure" id="_idContainer169">
<span class="koboSpan" id="kobo.53.1"><img alt="Figure 9.5 – Pause image" src="image/B18783_09_5.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.54.1">Figure 9.5 – Pause image</span></p>
<p><span class="koboSpan" id="kobo.55.1">Th</span><a id="_idTextAnchor428"/><span class="koboSpan" id="kobo.56.1">ese images</span><a id="_idIndexMarker350"/><span class="koboSpan" id="kobo.57.1"> contain not only an icon but also a background. </span><span class="koboSpan" id="kobo.57.2">This is something that will be further explored later in </span><span class="No-Break"><span class="koboSpan" id="kobo.58.1">this chapter.</span></span></p>
<h2 id="_idParaDest-135"><span class="koboSpan" id="kobo.59.1">T</span><a id="_idTextAnchor429"/><span class="koboSpan" id="kobo.60.1">ext components</span></h2>
<p><span class="koboSpan" id="kobo.61.1">We will be using text components to </span><a id="_idIndexMarker351"/><span class="koboSpan" id="kobo.62.1">display button titles. </span><span class="koboSpan" id="kobo.62.2">Refer to </span><a href="B18783_02.xhtml#_idTextAnchor246"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.63.1">Chapter 2</span></em></span></a><span class="koboSpan" id="kobo.64.1"> for </span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">more information.</span></span></p>
<p><a id="_idTextAnchor430"/><span class="koboSpan" id="kobo.66.1">In the next section, we will implement the code for the activity button screen using the components we discussed in the </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">previous sections.</span></span></p>
<h1 id="_idParaDest-136"><a id="_idTextAnchor431"/><span class="koboSpan" id="kobo.68.1">Implementing the Activity Button Screen</span></h1>
<p><span class="koboSpan" id="kobo.69.1">In this section, we </span><a id="_idIndexMarker352"/><span class="koboSpan" id="kobo.70.1">will implement our application’s activity button screen and thus complete the fourth and final project in this book. </span><span class="koboSpan" id="kobo.70.2">Before we do this, we must implement a swipeable page system. </span><span class="koboSpan" id="kobo.70.3">The first page will contain the implementation from the previous chapter, and the second page will be the activity buttons. </span><span class="koboSpan" id="kobo.70.4">Naturally, you can use this to expand to as many pages as </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">you require.</span></span><a id="_idTextAnchor432"/></p>
<h2 id="_idParaDest-137"><a id="_idTextAnchor433"/><span class="koboSpan" id="kobo.72.1">Swipeable Pages</span></h2>
<p><span class="koboSpan" id="kobo.73.1">In this section, we will implement our </span><a id="_idIndexMarker353"/><span class="koboSpan" id="kobo.74.1">swipeable pages. </span><span class="koboSpan" id="kobo.74.2">Luckily for us, it is super simple to implement as many things as possible in SwiftUI. </span><span class="koboSpan" id="kobo.74.3">Simply enclose our current </span><strong class="source-inline"><span class="koboSpan" id="kobo.75.1">VStack</span></strong><span class="koboSpan" id="kobo.76.1"> in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.77.1">MainView</span></strong><span class="koboSpan" id="kobo.78.1"> inside a </span><strong class="source-inline"><span class="koboSpan" id="kobo.79.1">TabView</span></strong><span class="koboSpan" id="kobo.80.1"> as </span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">demonstrated here:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.82.1">
TabView{
    VStack( alignment: .leading )
    {
        Text( timerString )
            .font( .title2 )
            .foregroundColor( Color.yellow )
            .padding( .bottom )
            .onReceive( timer )
        { time in
            counter += 1
            let hours = counter / 3600
            let minutes = ( counter % 3600 ) / 60
            let seconds = counter % 3600 % 60
            timerString = String( format: "%02d", hours ) + ":"
+ String( format: "%02d", minutes ) + ":" +
String( format: "%02d", seconds )
        }
        Text( String( bpm ) + " BPM" )
        Text( String( calories ) + " Calories" )
        Text( activity )
    }
    .padding( )
}</span></pre>
<p><span class="koboSpan" id="kobo.83.1">In the preceding </span><a id="_idIndexMarker354"/><span class="koboSpan" id="kobo.84.1">code, we implemented a </span><strong class="source-inline"><span class="koboSpan" id="kobo.85.1">TabView</span></strong><span class="koboSpan" id="kobo.86.1">, which is used to create multiple pages in our fitness </span><span class="No-Break"><span class="koboSpan" id="kobo.87.1">companion app.</span></span></p>
<p><span class="koboSpan" id="kobo.88.1">Now, if you run it, it will look the same. </span><span class="koboSpan" id="kobo.88.2">However, if you try and swipe the screen, you will notice a bit of bounce. </span><span class="koboSpan" id="kobo.88.3">This is because there is only a single page. </span><span class="koboSpan" id="kobo.88.4">Now, let’s add a dummy second page to help us test our new </span><strong class="source-inline"><span class="koboSpan" id="kobo.89.1">TabView</span></strong><span class="koboSpan" id="kobo.90.1">. </span><span class="koboSpan" id="kobo.90.2">After the </span><strong class="source-inline"><span class="koboSpan" id="kobo.91.1">VStack</span></strong><span class="koboSpan" id="kobo.92.1">, add a </span><strong class="source-inline"><span class="koboSpan" id="kobo.93.1">Text</span></strong><span class="koboSpan" id="kobo.94.1"> component, </span><span class="No-Break"><span class="koboSpan" id="kobo.95.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.96.1">
TabView{
    VStack( alignment: .leading )
    {
        …
    }
    .padding( )
    Text( "Second Page" )
}</span></pre>
<p><span class="koboSpan" id="kobo.97.1">Now we</span><a id="_idIndexMarker355"/><span class="koboSpan" id="kobo.98.1"> have implemented the second page in our </span><strong class="source-inline"><span class="koboSpan" id="kobo.99.1">TabView</span></strong><span class="koboSpan" id="kobo.100.1">. </span><span class="koboSpan" id="kobo.100.2">If you try and swipe on the page, it will go to the </span><span class="No-Break"><span class="koboSpan" id="kobo.101.1">next page.</span></span></p>
<p><span class="koboSpan" id="kobo.102.1">Each view within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.103.1">TabView</span></strong><span class="koboSpan" id="kobo.104.1"> is treated as an individual page. </span><span class="koboSpan" id="kobo.104.2">Honestly, it’s as simple as that. </span><span class="koboSpan" id="kobo.104.3">Running our application will result in the following, which shows two dots at the bottom that indicate that there are </span><span class="No-Break"><span class="koboSpan" id="kobo.105.1">two pages:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer170">
<span class="koboSpan" id="kobo.106.1"><img alt="Figure 9.6 – First page" src="image/B18783_09_6.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.107.1">Figure 9.6 – First page</span></p>
<p><span class="koboSpan" id="kobo.108.1">Swiping from right to left will show the second page, </span><span class="No-Break"><span class="koboSpan" id="kobo.109.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer171">
<span class="koboSpan" id="kobo.110.1"><img alt="Figure 9.7 – Second page" src="image/B18783_09_7.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.111.1">Figure 9.7 – Second page</span></p>
<p><span class="koboSpan" id="kobo.112.1">In this section, we </span><a id="_idIndexMarker356"/><span class="koboSpan" id="kobo.113.1">added an extra page using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.114.1">TabView</span></strong><span class="koboSpan" id="kobo.115.1"> component. </span><span class="koboSpan" id="kobo.115.2">This allowed us to add another page that the user was able to traverse with a swipe gesture. </span><span class="koboSpan" id="kobo.115.3">In the next section, we will add the </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">activity button</span><a id="_idTextAnchor434"/><span class="koboSpan" id="kobo.117.1">s.</span></span></p>
<h2 id="_idParaDest-138"><a id="_idTextAnchor435"/><span class="koboSpan" id="kobo.118.1">Activity Buttons</span></h2>
<p><span class="koboSpan" id="kobo.119.1">In this section, we will implement the activity buttons</span><a id="_idIndexMarker357"/><span class="koboSpan" id="kobo.120.1"> on the second page of our </span><strong class="source-inline"><span class="koboSpan" id="kobo.121.1">TabView</span></strong><span class="koboSpan" id="kobo.122.1">. </span><span class="koboSpan" id="kobo.122.2">We will be using custom colors for the background of each button and the </span><span class="No-Break"><span class="koboSpan" id="kobo.123.1">icon itself.</span></span></p>
<p><span class="koboSpan" id="kobo.124.1">Let’s go ahead and create these </span><span class="No-Break"><span class="koboSpan" id="kobo.125.1">custom colors:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.126.1">Navigate to the </span><strong class="bold"><span class="koboSpan" id="kobo.127.1">Assets</span></strong><span class="koboSpan" id="kobo.128.1"> section within the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.129.1">Project Navigator</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.130.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer172">
<span class="koboSpan" id="kobo.131.1"><img alt="Figure 9.8 – Assets folder" src="image/B18783_09_8.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.132.1">Figure 9.8 – Assets folder</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.133.1">In the </span><strong class="bold"><span class="koboSpan" id="kobo.134.1">Assets</span></strong><span class="koboSpan" id="kobo.135.1"> section, right-click on the </span><a id="_idIndexMarker358"/><span class="koboSpan" id="kobo.136.1">empty space and select </span><strong class="bold"><span class="koboSpan" id="kobo.137.1">New </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.138.1">Color Set</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer173">
<span class="koboSpan" id="kobo.140.1"><img alt="Figure 9.9 – New Color Set button" src="image/B18783_09_9.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.141.1">Figure 9.9 – New Color Set button</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.142.1">In </span><strong class="bold"><span class="koboSpan" id="kobo.143.1">Attributes inspector</span></strong><span class="koboSpan" id="kobo.144.1">, set the</span><a id="_idIndexMarker359"/><span class="koboSpan" id="kobo.145.1"> name of </span><span class="No-Break"><span class="koboSpan" id="kobo.146.1">the color:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer174">
<span class="koboSpan" id="kobo.147.1"><img alt="Figure 9.10 – New Color Set button" src="image/B18783_09_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.148.1">Figure 9.10 – New Color Set button</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.149.1">Select </span><strong class="bold"><span class="koboSpan" id="kobo.150.1">Any Appearance</span></strong><span class="koboSpan" id="kobo.151.1"> or </span><strong class="bold"><span class="koboSpan" id="kobo.152.1">Dark</span></strong><span class="koboSpan" id="kobo.153.1"> to </span><a id="_idIndexMarker360"/><span class="koboSpan" id="kobo.154.1">set the color. </span><span class="koboSpan" id="kobo.154.2">This ensures that in all color modes, the desired color will </span><span class="No-Break"><span class="koboSpan" id="kobo.155.1">be used:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer175">
<span class="koboSpan" id="kobo.156.1"><img alt="Figure 9.11 – Any Appearance" src="image/B18783_09_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.157.1">Figure 9.11 – Any Appearance</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.158.1">Now make sure </span><strong class="bold"><span class="koboSpan" id="kobo.159.1">Content</span></strong><span class="koboSpan" id="kobo.160.1"> is set to </span><strong class="bold"><span class="koboSpan" id="kobo.161.1">sRGB</span></strong><span class="koboSpan" id="kobo.162.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.163.1">Input Method</span></strong><span class="koboSpan" id="kobo.164.1"> is set to </span><strong class="bold"><span class="koboSpan" id="kobo.165.1">8-bit Hexadecimal</span></strong><span class="koboSpan" id="kobo.166.1">. </span><span class="koboSpan" id="kobo.166.2">Then set the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.167.1">Hex</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.168.1"> value:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer176">
<span class="koboSpan" id="kobo.169.1"><img alt="Figure 9.12 – Setting the color" src="image/B18783_09_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.170.1">Figure 9.12 – Setting the color</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.171.1">Repeat these</span><a id="_idIndexMarker361"/><span class="koboSpan" id="kobo.172.1"> steps for all the </span><span class="No-Break"><span class="koboSpan" id="kobo.173.1">colors listed:</span></span><ul><li><strong class="bold"><span class="koboSpan" id="kobo.174.1">End Button Colour (</span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.175.1">already added)</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.176.1">:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.177.1">Name: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">endColour</span></strong></span></li><li><span class="koboSpan" id="kobo.179.1">Hex color </span><span class="No-Break"><span class="koboSpan" id="kobo.180.1">value: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.181.1">#FF161C</span></strong></span></li></ul></li><li><strong class="bold"><span class="koboSpan" id="kobo.182.1">End Background </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.183.1">Button Colour</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.184.1">:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.185.1">Name: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.186.1">endColourBackground</span></strong></span></li><li><span class="koboSpan" id="kobo.187.1">Hex color </span><span class="No-Break"><span class="koboSpan" id="kobo.188.1">value: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.189.1">#390B0C</span></strong></span></li></ul></li><li><strong class="bold"><span class="koboSpan" id="kobo.190.1">Lock </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.191.1">Button Colour</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.192.1">:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.193.1">Name: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.194.1">lockColour</span></strong></span></li><li><span class="koboSpan" id="kobo.195.1">Hex color </span><span class="No-Break"><span class="koboSpan" id="kobo.196.1">value: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.197.1">#06F5E7</span></strong></span></li></ul></li><li><strong class="bold"><span class="koboSpan" id="kobo.198.1">Lock Background </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.199.1">Button Colour</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.201.1">Name: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.202.1">lockColourBackground</span></strong></span></li><li><span class="koboSpan" id="kobo.203.1">Hex color </span><span class="No-Break"><span class="koboSpan" id="kobo.204.1">value: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.205.1">#113330</span></strong></span></li></ul></li><li><strong class="bold"><span class="koboSpan" id="kobo.206.1">New </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.207.1">Button Colour</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.208.1">:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.209.1">Name: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.210.1">newColour</span></strong></span></li><li><span class="koboSpan" id="kobo.211.1">Hex color </span><span class="No-Break"><span class="koboSpan" id="kobo.212.1">value: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.213.1">#86FE01</span></strong></span></li></ul></li><li><strong class="bold"><span class="koboSpan" id="kobo.214.1">New Background </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.215.1">Button Colour</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.216.1">:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.217.1">Name: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.218.1">newColourBackground</span></strong></span></li><li><span class="koboSpan" id="kobo.219.1">Hex </span><a id="_idIndexMarker362"/><span class="koboSpan" id="kobo.220.1">color </span><span class="No-Break"><span class="koboSpan" id="kobo.221.1">value: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.222.1">#1E3400</span></strong></span></li></ul></li><li><strong class="bold"><span class="koboSpan" id="kobo.223.1">Pause </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.224.1">Button Colour</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.225.1">:</span></span><ul><li><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.226.1">Name</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.227.1">: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.228.1">pauseColour</span></strong></span></li><li><span class="koboSpan" id="kobo.229.1">Hex color </span><span class="No-Break"><span class="koboSpan" id="kobo.230.1">value: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.231.1">#BBA700</span></strong></span></li></ul></li><li><strong class="bold"><span class="koboSpan" id="kobo.232.1">Pause Background </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.233.1">Button Colour</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.234.1">:</span></span><ul><li><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.235.1">Name</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.236.1">: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.237.1">pauseColourBackground</span></strong></span></li><li><span class="koboSpan" id="kobo.238.1">Hex color </span><span class="No-Break"><span class="koboSpan" id="kobo.239.1">value: </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.240.1">#342F00</span></strong></span></li></ul></li></ul></li>
<li><span class="koboSpan" id="kobo.241.1">Once completed, the </span><strong class="bold"><span class="koboSpan" id="kobo.242.1">Assets</span></strong><span class="koboSpan" id="kobo.243.1"> screen should look </span><span class="No-Break"><span class="koboSpan" id="kobo.244.1">as follows:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer177">
<span class="koboSpan" id="kobo.245.1"><img alt="Figure 9.13 – Colors added" src="image/B18783_09_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.246.1">Figure 9.13 – Colors added</span></p>
<p><span class="koboSpan" id="kobo.247.1">Even though the colors </span><a id="_idIndexMarker363"/><span class="koboSpan" id="kobo.248.1">have been created, we cannot use them directly in our code. </span><span class="koboSpan" id="kobo.248.2">Let’s fix this. </span><span class="koboSpan" id="kobo.248.3">Doing so is rather simple. </span><span class="koboSpan" id="kobo.248.4">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.249.1">MainView</span></strong><span class="koboSpan" id="kobo.250.1">, we will extend the </span><strong class="source-inline"><span class="koboSpan" id="kobo.251.1">Color</span></strong><span class="koboSpan" id="kobo.252.1"> functionality to support our colors. </span><span class="koboSpan" id="kobo.252.2">Before doing so, I thought it is prudent to mention why I spelled color like so when referring to the functionality. </span><span class="koboSpan" id="kobo.252.3">This is the American spelling and is the one used within Swift. </span><span class="koboSpan" id="kobo.252.4">To extend the functionality, we must spell it this way, but as I am British, the spelling I personally use is </span><em class="italic"><span class="koboSpan" id="kobo.253.1">Colour</span></em><span class="koboSpan" id="kobo.254.1">. </span><span class="koboSpan" id="kobo.254.2">Now that is cleared up. </span><span class="koboSpan" id="kobo.254.3">Let’s extend the Swift color. </span><span class="koboSpan" id="kobo.254.4">Add the following code above the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.255.1">MainView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.256.1"> struct:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.257.1">
extension Color{
    static let lockColour = Color( "lockColour" )
    static let lockColourBackground = Color( "lockColourBackground" )
    static let newColour = Color( "newColour" )
    static let newColourBackground = Color( "newColourBackground" )
    static let endColour = Color( "endColour" )
    static let endColourBackground = Color( "endColourBackground" )
    static let pauseColour = Color( "pauseColour" )
    static let pauseColourBackground = Color( "pauseColourBackground" )
}</span></pre>
<p><span class="koboSpan" id="kobo.258.1">Though we</span><a id="_idIndexMarker364"/><span class="koboSpan" id="kobo.259.1"> have added it to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.260.1">MainView</span></strong><span class="koboSpan" id="kobo.261.1">, extending the Swift color allows us to use it anywhere in our project. </span><span class="koboSpan" id="kobo.261.2">It’s also worth mentioning that this means only in our project and doesn’t extend beyond the scope of our project into other projects. </span><span class="koboSpan" id="kobo.261.3">Our project is small, so it’s perfectly fine putting it inside the </span><strong class="source-inline"><span class="koboSpan" id="kobo.262.1">MainView</span></strong><span class="koboSpan" id="kobo.263.1">. </span><span class="koboSpan" id="kobo.263.2">However, it is common practice to put extensions like this in a specific file. </span><span class="koboSpan" id="kobo.263.3">If there are a lot of color extensions, then they could have their own Color file. </span><span class="koboSpan" id="kobo.263.4">This is beyond the scope of </span><span class="No-Break"><span class="koboSpan" id="kobo.264.1">this project.</span></span></p>
<p><span class="koboSpan" id="kobo.265.1">Here’s a quick overview of the preceding code: we extended the Color using static variables of the names we set previously in </span><span class="No-Break"><span class="koboSpan" id="kobo.266.1">the asset.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.267.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.268.1">The variable names do not need to be the same as the color name. </span><span class="koboSpan" id="kobo.268.2">But it is good practice to keep them the same. </span><span class="koboSpan" id="kobo.268.3">It makes them easier </span><span class="No-Break"><span class="koboSpan" id="kobo.269.1">to maintain.</span></span></p>
<p><span class="koboSpan" id="kobo.270.1">Each of the buttons is made up of </span><span class="No-Break"><span class="koboSpan" id="kobo.271.1">three components:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.272.1">Background</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.273.1">Icon</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.274.1">Text</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.275.1">For the background, we will use a </span><strong class="source-inline"><span class="koboSpan" id="kobo.276.1">Rectangle</span></strong><span class="koboSpan" id="kobo.277.1"> component. </span><span class="koboSpan" id="kobo.277.2">More specifically, we will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.278.1">RoundedRectangle</span></strong><span class="koboSpan" id="kobo.279.1"> component as it allows us to set a corner radius. </span><span class="koboSpan" id="kobo.279.2">Feel free to change the design and use a </span><strong class="source-inline"><span class="koboSpan" id="kobo.280.1">Rectangle</span></strong><span class="koboSpan" id="kobo.281.1"> or any other shape. </span><span class="koboSpan" id="kobo.281.2">For the icon, we will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.282.1">Image</span></strong><span class="koboSpan" id="kobo.283.1"> component and use a built-in icon. </span><span class="koboSpan" id="kobo.283.2">Feel free to use your own image or look at SF Symbols, as discussed earlier, in </span><a href="B18783_06.xhtml#_idTextAnchor354"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.284.1">Chapter 6</span></em></span></a><span class="koboSpan" id="kobo.285.1">, </span><em class="italic"><span class="koboSpan" id="kobo.286.1">Implementing the Sidebar</span></em><span class="koboSpan" id="kobo.287.1">, to see all built-in icons. </span><span class="koboSpan" id="kobo.287.2">The text is the simplest of all the components and will use a basic </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.288.1">Text</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.289.1"> component.</span></span></p>
<p><span class="koboSpan" id="kobo.290.1">The most difficult </span><a id="_idIndexMarker365"/><span class="koboSpan" id="kobo.291.1">part of the buttons is the background and icon. </span><span class="koboSpan" id="kobo.291.2">This is because they are on top of each other. </span><span class="koboSpan" id="kobo.291.3">The text is placed below the image, making it easy to add. </span><span class="koboSpan" id="kobo.291.4">We will initially concentrate on getting the background and icon coded. </span><span class="koboSpan" id="kobo.291.5">We will use a </span><strong class="source-inline"><span class="koboSpan" id="kobo.292.1">ZStack</span></strong><span class="koboSpan" id="kobo.293.1"> to place the icon on top of the background. </span><span class="koboSpan" id="kobo.293.2">Replace the second-page dummy </span><strong class="source-inline"><span class="koboSpan" id="kobo.294.1">Text</span></strong><span class="koboSpan" id="kobo.295.1"> component with the </span><span class="No-Break"><span class="koboSpan" id="kobo.296.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.297.1">
ZStack{
    RoundedRectangle( cornerRadius: 18, style:
.continuous )
}</span></pre>
<p><span class="koboSpan" id="kobo.298.1">We have created a </span><strong class="source-inline"><span class="koboSpan" id="kobo.299.1">RoundedRectangle</span></strong><span class="koboSpan" id="kobo.300.1"> with a corner radius of 18. </span><span class="koboSpan" id="kobo.300.2">Feel free to increase the number to get more rounded corners, or to lower it. </span><span class="koboSpan" id="kobo.300.3">Setting the style to </span><strong class="source-inline"><span class="koboSpan" id="kobo.301.1">.continuous</span></strong><span class="koboSpan" id="kobo.302.1"> makes the corners appear smoother, which is always a good thing. </span><span class="koboSpan" id="kobo.302.2">Let’s see what </span><span class="No-Break"><span class="koboSpan" id="kobo.303.1">this produced:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer178">
<span class="koboSpan" id="kobo.304.1"><img alt="Figure 9.14 – Simple rounded rectangle" src="image/B18783_09_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.305.1">Figure 9.14 – Simple rounded rectangle</span></p>
<p><span class="koboSpan" id="kobo.306.1">Right now, it’s not</span><a id="_idIndexMarker366"/><span class="koboSpan" id="kobo.307.1"> looking anything like the button in the figures shown at the start of this chapter. </span><span class="koboSpan" id="kobo.307.2">There are just two things missing – the background color and making the size smaller. </span><span class="koboSpan" id="kobo.307.3">We will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.308.1">lockColourBackground</span></strong><span class="koboSpan" id="kobo.309.1"> color we created previously and set the size to a width of </span><strong class="source-inline"><span class="koboSpan" id="kobo.310.1">70</span></strong><span class="koboSpan" id="kobo.311.1"> and a height </span><span class="No-Break"><span class="koboSpan" id="kobo.312.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.313.1">64</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.314.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.315.1">
ZStack{
    RoundedRectangle( cornerRadius: 18, style:
.continuous )
        .foregroundColor( .lockColourBackground )
        .frame( width: 70, height: 64 )
}</span></pre>
<p><span class="koboSpan" id="kobo.316.1">The following figure shows the </span><span class="No-Break"><span class="koboSpan" id="kobo.317.1">image background:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer179">
<span class="koboSpan" id="kobo.318.1"><img alt="Figure 9.15 – Rounded color styled" src="image/B18783_09_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.319.1">Figure 9.15 – Rounded color styled</span></p>
<p><span class="koboSpan" id="kobo.320.1">The background</span><a id="_idIndexMarker367"/><span class="koboSpan" id="kobo.321.1"> is finally looking more like our design. </span><span class="koboSpan" id="kobo.321.2">The next step is to add the icon inside of the rectangle. </span><span class="koboSpan" id="kobo.321.3">Doing so is simple. </span><span class="koboSpan" id="kobo.321.4">Add an image with the icon after the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.322.1">RoundedRectangle</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.323.1"> component:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.324.1">
ZStack{
    RoundedRectangle( cornerRadius: 18, style:
.continuous )
        .foregroundColor( .lockColourBackground )
        .frame( width: 70, height: 64 )
    Image( systemName: "drop.fill" )
}</span></pre>
<p><span class="koboSpan" id="kobo.325.1">Running the application now will produce </span><span class="No-Break"><span class="koboSpan" id="kobo.326.1">the following:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer180">
<span class="koboSpan" id="kobo.327.1"><img alt="Figure 9.16 – Teardrop icon in background" src="image/B18783_09_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.328.1">Figure 9.16 – Teardrop icon in background</span></p>
<p><span class="koboSpan" id="kobo.329.1">We</span><a id="_idIndexMarker368"/><span class="koboSpan" id="kobo.330.1"> used </span><strong class="bold"><span class="koboSpan" id="kobo.331.1">SF Symbols</span></strong><span class="koboSpan" id="kobo.332.1"> to obtain the</span><a id="_idIndexMarker369"/><span class="koboSpan" id="kobo.333.1"> teardrop icon. </span><span class="koboSpan" id="kobo.333.2">Feel free to use any icon as you see fit, or even your own image. </span><span class="koboSpan" id="kobo.333.3">We need to change the icon style. </span><span class="koboSpan" id="kobo.333.4">There are two main aspects to update, the color and size. </span><span class="koboSpan" id="kobo.333.5">Update the image </span><span class="No-Break"><span class="koboSpan" id="kobo.334.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.335.1">
Image( systemName: "drop.fill" )    .resizable( )
    .foregroundColor( .lockColour )
    .aspectRatio( contentMode: .fit )
    .frame( width: 16 )</span></pre>
<p><span class="koboSpan" id="kobo.336.1">We first set it to </span><strong class="source-inline"><span class="koboSpan" id="kobo.337.1">resizable</span></strong><span class="koboSpan" id="kobo.338.1">, which allows us to change the size. </span><span class="koboSpan" id="kobo.338.2">Next, we set the color using one of the colors we created earlier. </span><span class="koboSpan" id="kobo.338.3">Next, we ensure the aspect ratio is set to fit, which allows us to resize the image without distorting it. </span><span class="koboSpan" id="kobo.338.4">Finally, we set the size because we have a locked aspect ratio. </span><span class="koboSpan" id="kobo.338.5">Setting the width automatically sets the height accordingly. </span><span class="koboSpan" id="kobo.338.6">Running the application produces the result </span><span class="No-Break"><span class="koboSpan" id="kobo.339.1">that follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer181">
<span class="koboSpan" id="kobo.340.1"><img alt="Figure 9.17 – Lock button" src="image/B18783_09_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.341.1">Figure 9.17 – Lock button</span></p>
<p><span class="koboSpan" id="kobo.342.1">Next, we will </span><a id="_idIndexMarker370"/><span class="koboSpan" id="kobo.343.1">add text to our button. </span><span class="koboSpan" id="kobo.343.2">The text isn’t inside of the icon or even the rectangle but sits beneath it. </span><span class="koboSpan" id="kobo.343.3">But we still want it to be clickable, so we will wrap all of the button contents inside a </span><strong class="source-inline"><span class="koboSpan" id="kobo.344.1">VStack</span></strong><span class="koboSpan" id="kobo.345.1"> and also add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.346.1">Text</span></strong><span class="koboSpan" id="kobo.347.1"> component, </span><span class="No-Break"><span class="koboSpan" id="kobo.348.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.349.1">
VStack{
    ZStack
    {
        RoundedRectangle( cornerRadius: 18, style:
.continuous )
            .foregroundColor( .lockColourBackground )
            .frame( width: 70, height: 64 )
        Image( systemName: "drop.fill" )
            .resizable( )
            .foregroundColor( .lockColour )
            .aspectRatio( contentMode: .fit )
            .frame( width: 16 )
    }
    Text( "Lock" )
}</span></pre>
<p><span class="koboSpan" id="kobo.350.1">The reason for wrapping the button in a </span><strong class="source-inline"><span class="koboSpan" id="kobo.351.1">VStack</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.352.1">is two-fold:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.353.1">We want all of it to be clickable (to be </span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">implemented next).</span></span></li>
<li><span class="koboSpan" id="kobo.355.1">As there will be multiple buttons, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.356.1">VStack</span></strong><span class="koboSpan" id="kobo.357.1"> is technically the button without the icon, rectangle, or text components. </span><span class="No-Break"><span class="koboSpan" id="kobo.358.1">Pretty cool!</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.359.1">Let’s make</span><a id="_idIndexMarker371"/><span class="koboSpan" id="kobo.360.1"> the </span><strong class="source-inline"><span class="koboSpan" id="kobo.361.1">VStack</span></strong><span class="koboSpan" id="kobo.362.1"> clickable, and then we will take a look at the result. </span><span class="koboSpan" id="kobo.362.2">First, we need a function for it to call. </span><span class="koboSpan" id="kobo.362.3">We could use an inline function, but we will create a dedicated function. </span><span class="koboSpan" id="kobo.362.4">This provides a nice abstraction in our code base. </span><span class="koboSpan" id="kobo.362.5">Before the body, add the </span><span class="No-Break"><span class="koboSpan" id="kobo.363.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.364.1">
func Lock( ){ print( "Lock button is pressed" ); }
var body: some View
{
     ...
</span><span class="koboSpan" id="kobo.364.2">}</span></pre>
<p><span class="koboSpan" id="kobo.365.1">The function is a simple one. </span><span class="koboSpan" id="kobo.365.2">When clicked, a message is logged to the terminal. </span><span class="koboSpan" id="kobo.365.3">Now update the </span><strong class="source-inline"><span class="koboSpan" id="kobo.366.1">VStack</span></strong><span class="koboSpan" id="kobo.367.1"> with an </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.368.1">onTapGesture</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.369.1"> function:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.370.1">
VStack{
    ZStack
    {
        RoundedRectangle( cornerRadius: 18, style:
.continuous )
            .foregroundColor( .lockColourBackground )
            .frame( width: 70, height: 64 )
        Image( systemName: "drop.fill" )
            .resizable( )
            .foregroundColor( .lockColour )
            .aspectRatio( contentMode: .fit )
            .frame( width: 16 )
    }
    Text( "Lock" )
}.onTapGesture { Lock( ) }</span></pre>
<p><span class="koboSpan" id="kobo.371.1">That was a</span><a id="_idIndexMarker372"/><span class="koboSpan" id="kobo.372.1"> lot. </span><span class="koboSpan" id="kobo.372.2">Let’s run our application and see </span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">the result:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer182">
<span class="koboSpan" id="kobo.374.1"><img alt="Figure 9.18 – Finished lock button" src="image/B18783_09_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.375.1">Figure 9.18 – Finished lock button</span></p>
<p><span class="koboSpan" id="kobo.376.1">Feel free to</span><a id="_idIndexMarker373"/><span class="koboSpan" id="kobo.377.1"> click the button. </span><span class="koboSpan" id="kobo.377.2">It will log a message. </span><span class="koboSpan" id="kobo.377.3">Before wrapping up this project and implementing the remaining buttons, here is the code </span><span class="No-Break"><span class="koboSpan" id="kobo.378.1">so far:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.379.1">
////  ContentView.swift
//  Fitness Companion Watch App
//
//  Created by Frahaan on 03/04/2023.
</span><span class="koboSpan" id="kobo.379.2">//
import SwiftUI
extension Color
{
    static let lockColour = Color( "lockColour" )
    static let lockColourBackground = Color( "lockColourBackground" )
    static let newColour = Color( "newColour" )
    static let newColourBackground = Color( "newColourBackground" )
    static let endColour = Color( "endColour" )
    static let endColourBackground = Color( "endColourBackground" )
    static let pauseColour = Color( "pauseColour" )
    static let pauseColourBackground = Color( "pauseColourBackground" )
}
struct MainView: View
{
    @State private var counter = 0
    @State private var timerString = "00:00:00"
    @State private var bpm = 120
    @State private var calories = 110
    @State private var activity = "Running"
    let timer = Timer.publish( every: 1, on: .main, in: .common ).autoconnect( )
    func Lock( )
    { print( "Lock button is pressed" ); }
    var body: some View
    {
        TabView
        {
            VStack( alignment: .leading )
            {
                Text( timerString )
                    .font( .title2 )
                    .foregroundColor( Color.yellow )
                    .padding( .bottom )
                    .onReceive( timer )
                { time in
                    counter += 1
                    let hours = counter / 3600
                    let minutes = ( counter % 3600 ) / 60
                    let seconds = counter % 3600 % 60
                    timerString = String( format: "%02d", hours ) + ":" + String( format: "%02d", minutes ) + ":" + String( format: "%02d", seconds )
                }
                Text( String( bpm ) + " BPM" )
                Text( String( calories ) + " Calories" )
                Text( activity )
            }
            .padding( )
            VStack
            {
                ZStack
                {
                    RoundedRectangle( cornerRadius: 18, style: .continuous )
                        .foregroundColor( .lockColourBackground )
                        .frame( width: 70, height: 64 )
                    Image( systemName: "drop.fill" )
                        .resizable( )
                        .foregroundColor( .lockColour )
                        .aspectRatio( contentMode: .fit )
                        .frame( width: 16 )
                }
                Text( "Lock" )
            }.onTapGesture { Lock( ) }
        }
    }
}
struct MainView_Previews: PreviewProvider
{
    static var previews: some View
    {
        MainView( )
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.380.1">We have </span><a id="_idIndexMarker374"/><span class="koboSpan" id="kobo.381.1">almost completed the chapter; the only thing left is to add the remaining buttons. </span><span class="koboSpan" id="kobo.381.2">First, let’s add the remaining function callbacks above the body, </span><span class="No-Break"><span class="koboSpan" id="kobo.382.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.383.1">
func Lock( ){ print( "Lock button is pressed" ); }
func New( )
{ print( "New button is pressed" ); }
func End( )
{ print( "End button is pressed" ); }
func Pause( )
{ print( "Pause button is pressed" ); }
var body: some View
{
    ...
</span><span class="koboSpan" id="kobo.383.2">}</span></pre>
<p><span class="koboSpan" id="kobo.384.1">Now that we have implemented the callbacks, we are going to implement the buttons. </span><span class="koboSpan" id="kobo.384.2">Each button itself is actually simple, as it is the same as the lock button but with the </span><span class="No-Break"><span class="koboSpan" id="kobo.385.1">following changes:</span></span></p>
<ul>
<li><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.386.1">RoundedRectangle</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">’s </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.388.1">foregroundColor</span></strong></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.389.1">Image’s icon</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.390.1">Image’s </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.391.1">foregroundColor</span></strong></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.392.1">Text</span></span></li>
<li><span class="koboSpan" id="kobo.393.1">The </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.394.1">onTapGesture</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.395.1"> callback</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.396.1">Merely </span><a id="_idIndexMarker375"/><span class="koboSpan" id="kobo.397.1">duplicating the </span><strong class="source-inline"><span class="koboSpan" id="kobo.398.1">VStack</span></strong><span class="koboSpan" id="kobo.399.1"> code would effectively be duplicating the button. </span><span class="koboSpan" id="kobo.399.2">We would have the </span><span class="No-Break"><span class="koboSpan" id="kobo.400.1">following results:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer183">
<span class="koboSpan" id="kobo.401.1"><img alt="Figure 9.19 – Extra buttons added" src="image/B18783_09_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.402.1">Figure 9.19 – Extra buttons added</span></p>
<p><span class="koboSpan" id="kobo.403.1">If you can’t see a difference, I don’t blame you. </span><span class="koboSpan" id="kobo.403.2">It’s hard to see what’s actually happened, but if you look at the bottom of the screen, there are five dots, indicating that there are five pages now. </span><span class="koboSpan" id="kobo.403.3">Remember, when implementing the second page, we stated that each component in the root would be its own page. </span><span class="koboSpan" id="kobo.403.4">So, we want to group all these buttons together by putting them in a 2x2 grid. </span><span class="koboSpan" id="kobo.403.5">To organize components on the same line, we can use an </span><strong class="source-inline"><span class="koboSpan" id="kobo.404.1">HStack</span></strong><span class="koboSpan" id="kobo.405.1">. </span><span class="koboSpan" id="kobo.405.2">We only need two on a single line, so first, we will enclose the first two buttons, the </span><strong class="source-inline"><span class="koboSpan" id="kobo.406.1">VStacks</span></strong><span class="koboSpan" id="kobo.407.1"> in an </span><strong class="source-inline"><span class="koboSpan" id="kobo.408.1">HStack</span></strong><span class="koboSpan" id="kobo.409.1">. </span><span class="koboSpan" id="kobo.409.2">This will result in three pages, the first being the one implemented in the previous chapter and two for each </span><strong class="source-inline"><span class="koboSpan" id="kobo.410.1">HStack</span></strong><span class="koboSpan" id="kobo.411.1">, which isn’t what we want. </span><span class="koboSpan" id="kobo.411.2">One small change and it will be fixed. </span><span class="koboSpan" id="kobo.411.3">Can you guess what it is? </span><span class="koboSpan" id="kobo.411.4">Just enclose both </span><strong class="source-inline"><span class="koboSpan" id="kobo.412.1">HStacks</span></strong><span class="koboSpan" id="kobo.413.1"> in a single </span><strong class="source-inline"><span class="koboSpan" id="kobo.414.1">VStack</span></strong><span class="koboSpan" id="kobo.415.1">. </span><span class="koboSpan" id="kobo.415.2">This will put them on top of each other, thus </span><a id="_idIndexMarker376"/><span class="koboSpan" id="kobo.416.1">rendering a grid. </span><span class="koboSpan" id="kobo.416.2">The code for this is </span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.418.1">
VStack{
    HStack
    {
        VStack
        {
            ZStack
            {
                RoundedRectangle( cornerRadius: 18, style: .continuous )
                    .foregroundColor( .lockColourBackground )
                    .frame( width: 70, height: 64 )
                Image( systemName: "drop.fill" )
                    .resizable( )
                    .foregroundColor( .lockColour )
                    .aspectRatio( 1.0, contentMode: .fit )
                    .frame( width: 32 )
            }
            Text( "Lock" )
        }.onTapGesture { Lock( ) }
        VStack
        {
            ZStack
            {
                RoundedRectangle( cornerRadius: 18, style: .continuous )
                    .foregroundColor( .newColourBackground )
                    .frame( width: 70, height: 64 )
                Image( systemName: "plus" )
                    .resizable( )
                    .foregroundColor( .newColour )
                    .aspectRatio( 1.0, contentMode: .fit )
                    .frame( width: 32 )
            }
            Text( "New" )
        }.onTapGesture { New( ) }
    }
    HStack
    {
        VStack
        {
            ZStack
            {
                RoundedRectangle( cornerRadius: 18, style: .continuous )
                    .foregroundColor( .endColourBackground )
                    .frame( width: 70, height: 64 )
                Image( systemName: "xmark" )
                    .resizable( )
                    .foregroundColor( .endColour )
                    .aspectRatio( 1.0, contentMode: .fit )
                    .frame( width: 32 )
            }
            Text( "End" )
        }.onTapGesture { End( ) }
        VStack
        {
            ZStack
            {
                RoundedRectangle( cornerRadius: 18, style: .continuous )
                    .foregroundColor( .pauseColourBackground )
                    .frame( width: 70, height: 64 )
                Image( systemName: "pause" )
                    .resizable( )
                    .foregroundColor( .pauseColour )
                    .aspectRatio( 1.0, contentMode: .fit )
                    .frame( width: 32 )
            }
            Text( "Pause" )
        }.onTapGesture { Pause( ) }
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.419.1">It’s </span><a id="_idIndexMarker377"/><span class="koboSpan" id="kobo.420.1">time to run </span><span class="No-Break"><span class="koboSpan" id="kobo.421.1">our app:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer184">
<span class="koboSpan" id="kobo.422.1"><img alt="Figure 9.20 – Button grid system" src="image/B18783_09_20.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.423.1">Figure 9.20 – Button grid system</span></p>
<p><span class="koboSpan" id="kobo.424.1">You might</span><a id="_idIndexMarker378"/><span class="koboSpan" id="kobo.425.1"> be ready to finish this chapter and call it a day. </span><span class="koboSpan" id="kobo.425.2">Please bear with me – the top row of the grid is too close to the time for my liking. </span><span class="koboSpan" id="kobo.425.3">Let’s add top </span><strong class="bold"><span class="koboSpan" id="kobo.426.1">padding</span></strong><span class="koboSpan" id="kobo.427.1"> to the outermost </span><strong class="source-inline"><span class="koboSpan" id="kobo.428.1">VStack</span></strong><span class="koboSpan" id="kobo.429.1"> we </span><span class="No-Break"><span class="koboSpan" id="kobo.430.1">just implemented:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.431.1">
.padding( .top, 20.0 )</span></pre> <p><span class="koboSpan" id="kobo.432.1">This is it, the final build and run of our application – drum </span><span class="No-Break"><span class="koboSpan" id="kobo.433.1">roll, please!</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer185">
<span class="koboSpan" id="kobo.434.1"><img alt="Figure 9.21 – Button grid system" src="image/B18783_09_21.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.435.1">Figure 9.21 – Button grid system</span></p>
<p><span class="koboSpan" id="kobo.436.1">We are now at the end of our project, and our application looks amazing. </span><span class="koboSpan" id="kobo.436.2">Before we summarize, feel free to visit the GitHub repository to double-check your code </span><span class="No-Break"><span class="koboSpan" id="kobo.437.1">base: </span></span><a href="https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects"><span class="No-Break"><span class="koboSpan" id="kobo.438.1">https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.439.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.440.1">In this section, we added the activity buttons. </span><span class="koboSpan" id="kobo.440.2">We did this by implementing another page in our fitness app. </span><span class="koboSpan" id="kobo.440.3">We leveraged a grid-based system for laying out our buttons. </span><span class="koboSpan" id="kobo.440.4">We used a variety of core components combined with stacks to organize them. </span><span class="koboSpan" id="kobo.440.5">In the following section, we</span><a id="_idIndexMarker379"/><span class="koboSpan" id="kobo.441.1"> will summarize this chapter, and ultimately this book. </span><span class="koboSpan" id="kobo.441.2">But first, we will look at some code to help you with the </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">e</span><a id="_idTextAnchor436"/><span class="koboSpan" id="kobo.443.1">xtra tasks.</span></span></p>
<h2 id="_idParaDest-139"><a id="_idTextAnchor437"/><span class="koboSpan" id="kobo.444.1">Different Exercises</span></h2>
<p><span class="koboSpan" id="kobo.445.1">To add different exercises</span><a id="_idIndexMarker380"/><span class="koboSpan" id="kobo.446.1"> to the fitness companion app, you can modify the </span><strong class="source-inline"><span class="koboSpan" id="kobo.447.1">MainView</span></strong><span class="koboSpan" id="kobo.448.1"> by introducing a new data structure to store exercise information and update the UI accordingly. </span><span class="koboSpan" id="kobo.448.2">Here’s an example of how you can make </span><span class="No-Break"><span class="koboSpan" id="kobo.449.1">these changes:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.450.1">
import SwiftUIextension Color {
    static let lockColour = Color("lockColour")
    static let lockColourBackground = Color("lockColourBackground")
    static let newColour = Color("newColour")
    static let newColourBackground = Color("newColourBackground")
    static let endColour = Color("endColour")
    static let endColourBackground = Color("endColourBackground")
    static let pauseColour = Color("pauseColour")
    static let pauseColourBackground = Color("pauseColourBackground")
}
struct Exercise {
    let name: String
    let image: String
}
struct MainView: View {
    @State private var counter = 0
    @State private var timerString = "00:00:00"
    @State private var bpm = 120
    @State private var calories = 110
    @State private var activity = "Running"
    let timer = Timer.publish(every: 1, on: .main, in: .common).autoconnect()
    let exercises = [
        Exercise(name: "Running", image: "person.running"),
        Exercise(name: "Cycling", image: "bicycle"),
        Exercise(name: "Swimming", image: "figure.walk"),
        // Add more exercises here
    ]
    func Lock() {
        print("Lock button is pressed")
    }
    func New() {
        print("New button is pressed")
    }
    func End() {
        print("End button is pressed")
    }
    func Pause() {
        print("Pause button is pressed")
    }
    var body: some View {
        TabView {
            VStack(alignment: .leading) {
                Text(timerString)
                    .font(.title2)
                    .foregroundColor(Color.yellow)
                    .padding(.bottom)
                    .onReceive(timer) { time in
                        counter += 1
                        let hours = counter / 3600
                        let minutes = (counter % 3600) / 60
                        let seconds = counter % 3600 % 60
                        timerString = String(format: "%02d", hours) + ":" + String(format: "%02d", minutes) + ":" + String(format: "%02d", seconds)
                    }
                Text(String(bpm) + " BPM")
                Text(String(calories) + " Calories")
                Text(activity)
            }
            .padding()
            VStack {
                HStack {
                    ForEach(exercises, id: \.name) { exercise in
                        VStack {
                            ZStack {
                                RoundedRectangle(cornerRadius: 18, style: .continuous)
                                    .foregroundColor(.newColourBackground)
                                    .frame(width: 70, height: 64)
                                Image(systemName: exercise.image)
                                    .resizable()
                                    .foregroundColor(.newColour)
                                    .aspectRatio(contentMode: .fit)
                                    .frame(width: 32)
                            }
                            Text(exercise.name)
                        }
                        .onTapGesture {
                            activity = exercise.name
                        }
                    }
                }
                HStack {
                    VStack {
                        ZStack {
                            RoundedRectangle(cornerRadius: 18, style: .continuous)
                                .foregroundColor(.lockColourBackground)
                                .frame(width: 70, height: 64)
                            Image(systemName: "lock.fill")
                                .resizable()
                                .foregroundColor(.lockColour)
                                .aspectRatio(contentMode: .fit)
                                .frame(width: 32
)
                        }
                        Text("Lock")
                    }.onTapGesture { Lock() }
                    VStack {
                        ZStack {
                            RoundedRectangle(cornerRadius: 18, style: .continuous)
                                .foregroundColor(.endColourBackground)
                                .frame(width: 70, height: 64)
                            Image(systemName: "xmark")
                                .resizable()
                                .foregroundColor(.endColour)
                                .aspectRatio(contentMode: .fit)
                                .frame(width: 32)
                        }
                        Text("End")
                    }.onTapGesture { End() }
                    VStack {
                        ZStack {
                            RoundedRectangle(cornerRadius: 18, style: .continuous)
                                .foregroundColor(.pauseColourBackground)
                                .frame(width: 70, height: 64)
                            Image(systemName: "pause")
                                .resizable()
                                .foregroundColor(.pauseColour)
                                .aspectRatio(contentMode: .fit)
                                .frame(width: 32)
                        }
                        Text("Pause")
                    }.onTapGesture { Pause() }
                }
            }
            .padding(.top, 20.0)
        }
    }
}
struct MainView_Previews: PreviewProvider {
    static var previews: some View {
        MainView()
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.451.1">In this </span><a id="_idIndexMarker381"/><span class="koboSpan" id="kobo.452.1">modified code, we have introduced a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.453.1">Exercise</span></strong><span class="koboSpan" id="kobo.454.1"> struct that stores the name and image name of each exercise. </span><span class="koboSpan" id="kobo.454.2">You can add more exercises to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.455.1">exercises</span></strong><span class="koboSpan" id="kobo.456.1"> array by creating new </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.457.1">Exercise</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.458.1"> instances.</span></span></p>
<p><span class="koboSpan" id="kobo.459.1">In the view, we have used a </span><strong class="source-inline"><span class="koboSpan" id="kobo.460.1">ForEach</span></strong><span class="koboSpan" id="kobo.461.1"> loop to iterate over the exercises and display them dynamically. </span><span class="koboSpan" id="kobo.461.2">Each exercise is represented by a </span><strong class="source-inline"><span class="koboSpan" id="kobo.462.1">VStack</span></strong><span class="koboSpan" id="kobo.463.1"> containing an image and a text label. </span><span class="koboSpan" id="kobo.463.2">When an exercise is tapped, the activity state is updated with the selected </span><span class="No-Break"><span class="koboSpan" id="kobo.464.1">exercise’s name.</span></span></p>
<p><span class="koboSpan" id="kobo.465.1">You can </span><a id="_idIndexMarker382"/><span class="koboSpan" id="kobo.466.1">customize the exercise images and add more properties to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.467.1">Exercise</span></strong><span class="koboSpan" id="kobo.468.1"> struct based on your </span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">specific</span><a id="_idTextAnchor438"/><span class="koboSpan" id="kobo.470.1"> requirements.</span></span></p>
<h2 id="_idParaDest-140"><a id="_idTextAnchor439"/><span class="koboSpan" id="kobo.471.1">Active timer</span></h2>
<p><span class="koboSpan" id="kobo.472.1">To add functionality for an active</span><a id="_idIndexMarker383"/><span class="koboSpan" id="kobo.473.1"> timer that can be started, stopped, and paused, you can modify the </span><strong class="source-inline"><span class="koboSpan" id="kobo.474.1">MainView</span></strong><span class="koboSpan" id="kobo.475.1"> by introducing additional state variables and actions. </span><span class="koboSpan" id="kobo.475.2">Here’s an example of how you can make </span><span class="No-Break"><span class="koboSpan" id="kobo.476.1">these changes:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.477.1">
import SwiftUIstruct Exercise {
    let name: String
    let image: String
}
struct MainView: View {
    @State private var counter = 0
    @State private var isTimerRunning = false
    @State private var isTimerPaused = false
    @State private var timerString = "00:00:00"
    @State private var bpm = 120
    @State private var calories = 110
    @State private var activity = "Running"
    let timer = Timer.publish(every: 1, on: .main, in: .common).autoconnect()
    let exercises = [
        Exercise(name: "Running", image: "person.running"),
        Exercise(name: "Cycling", image: "bicycle"),
        Exercise(name: "Swimming", image: "figure.walk"),
        // Add more exercises here
    ]
    func lock() {
        print("Lock button is pressed")
    }
    func startTimer() {
        isTimerRunning = true
        isTimerPaused = false
    }
    func pauseTimer() {
        isTimerRunning = false
        isTimerPaused = true
    }
    func stopTimer() {
        isTimerRunning = false
        isTimerPaused = false
        counter = 0
        timerString = "00:00:00"
    }
    var body: some View {
        TabView {
            VStack(alignment: .leading) {
                Text(timerString)
                    .font(.title2)
                    .foregroundColor(Color.yellow)
                    .padding(.bottom)
                    .onReceive(timer) { time in
                        if isTimerRunning &amp;&amp; !isTimerPaused {
                            counter += 1
                            let hours = counter / 3600
                            let minutes = (counter % 3600) / 60
                            let seconds = counter % 3600 % 60
                            timerString = String(format: "%02d", hours) + ":" + String(format: "%02d", minutes) + ":" + String(format: "%02d", seconds)
                        }
                    }
                Text(String(bpm) + " BPM")
                Text(String(calories) + " Calories")
                Text(activity)
            }
            .padding()
            VStack {
                HStack {
                    ForEach(exercises, id: \.name) { exercise in
                        VStack {
                            ZStack {
                                RoundedRectangle(cornerRadius: 18, style: .continuous)
                                    .foregroundColor(.newColourBackground)
                                    .frame(width: 70, height: 64)
                                Image(systemName: exercise.image)
                                    .resizable()
                                    .foregroundColor(.newColour)
                                    .aspectRatio(contentMode: .fit)
                                    .frame(width: 32)
                            }
                            Text(exercise.name)
                        }
                        .onTapGesture {
                            activity = exercise.name
                        }
                    }
                }
                HStack {
                    VStack {
                        ZStack {
                            RoundedRectangle(cornerRadius: 18, style: .continuous)
                                .foregroundColor(.lockColourBackground)
                                .frame(width: 70, height: 64)
                            Image(systemName: "lock.fill")
                                .resizable()
                                .foregroundColor(.lockColour)
                                .aspectRatio(contentMode: .fit)
                                .frame(width: 32)
                        }
                        Text("Lock")
                    }
                    .onTapGesture { lock() }
                    VStack {
                        if isTimerRunning
 {
                            Button(action: pauseTimer) {
                                ZStack {
                                    RoundedRectangle(cornerRadius: 18, style: .continuous)
                                        .foregroundColor(.pauseColourBackground)
                                        .frame(width: 70, height: 64)
                                    Image(systemName: "pause")
                                        .resizable()
                                        .foregroundColor(.pauseColour)
                                        .aspectRatio(contentMode: .fit)
                                        .frame(width: 32)
                                }
                            }
                            .buttonStyle(PlainButtonStyle())
                        } else {
                            Button(action: startTimer) {
                                ZStack {
                                    RoundedRectangle(cornerRadius: 18, style: .continuous)
                                        .foregroundColor(.pauseColourBackground)
                                        .frame(width: 70, height: 64)
                                    Image(systemName: "play.fill")
                                        .resizable()
                                        .foregroundColor(.pauseColour)
                                        .aspectRatio(contentMode: .fit)
                                        .frame(width: 32)
                                }
                            }
                            .buttonStyle(PlainButtonStyle())
                        }
                        Text(isTimerRunning ? </span><span class="koboSpan" id="kobo.477.2">"Pause" : "Start")
                    }
                    VStack {
                        ZStack {
                            RoundedRectangle(cornerRadius: 18, style: .continuous)
                                .foregroundColor(.endColourBackground)
                                .frame(width: 70, height: 64)
                            Image(systemName: "xmark")
                                .resizable()
                                .foregroundColor(.endColour)
                                .aspectRatio(contentMode: .fit)
                                .frame(width: 32)
                        }
                        Text("End")
                    }
                    .onTapGesture { stopTimer() }
                }
            }
            .padding(.top, 20.0)
        }
    }
}
struct MainView_Previews: PreviewProvider {
    static var previews: some View {
        MainView()
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.478.1">In this </span><a id="_idIndexMarker384"/><span class="koboSpan" id="kobo.479.1">modified code, we have made the </span><span class="No-Break"><span class="koboSpan" id="kobo.480.1">following changes:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.481.1">We introduced </span><strong class="source-inline"><span class="koboSpan" id="kobo.482.1">isTimerRunning</span></strong><span class="koboSpan" id="kobo.483.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.484.1">isTimerPaused</span></strong><span class="koboSpan" id="kobo.485.1"> state variables to track the </span><span class="No-Break"><span class="koboSpan" id="kobo.486.1">timer’s state.</span></span></li>
<li><span class="koboSpan" id="kobo.487.1">We added </span><strong class="source-inline"><span class="koboSpan" id="kobo.488.1">startTimer()</span></strong><span class="koboSpan" id="kobo.489.1">,  </span><strong class="source-inline"><span class="koboSpan" id="kobo.490.1">pauseTimer()</span></strong><span class="koboSpan" id="kobo.491.1">, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.492.1">stopTimer()</span></strong><span class="koboSpan" id="kobo.493.1"> actions to handle starting, pausing, and stopping the </span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">timer, respectively.</span></span></li>
<li><span class="koboSpan" id="kobo.495.1">We modified the “Start/Pause” button to toggle between the </span><strong class="bold"><span class="koboSpan" id="kobo.496.1">Start</span></strong><span class="koboSpan" id="kobo.497.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.498.1">Pause</span></strong><span class="koboSpan" id="kobo.499.1"> states based on the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.500.1">isTimerRunning</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.501.1"> state.</span></span></li>
<li><span class="koboSpan" id="kobo.502.1">We updated the timer’s </span><strong class="source-inline"><span class="koboSpan" id="kobo.503.1">onReceive</span></strong><span class="koboSpan" id="kobo.504.1"> closure to only increment the counter and update the timer string when the timer is running and </span><span class="No-Break"><span class="koboSpan" id="kobo.505.1">not paused.</span></span></li>
<li><span class="koboSpan" id="kobo.506.1">We added </span><a id="_idIndexMarker385"/><span class="koboSpan" id="kobo.507.1">functionality to reset the counter and timer string when the </span><strong class="bold"><span class="koboSpan" id="kobo.508.1">End</span></strong><span class="koboSpan" id="kobo.509.1"> button </span><span class="No-Break"><span class="koboSpan" id="kobo.510.1">is pressed.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.511.1">With these changes, you can now start, pause, and stop the timer in your fitness </span><span class="No-Break"><span class="koboSpan" id="kobo.512.1">companion app.</span></span></p>
<h1 id="_idParaDest-141"><a id="_idTextAnchor440"/><span class="koboSpan" id="kobo.513.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.514.1">In this chapter, we successfully added the activity button screen to our Fitness Companion application. </span><span class="koboSpan" id="kobo.514.2">We began by analyzing the wireframe and breaking down each element into SwiftUI components. </span><span class="koboSpan" id="kobo.514.3">From there, we implemented the components to match the design from the wireframes. </span><span class="koboSpan" id="kobo.514.4">Through this process, we gained a deeper understanding of how to combine core SwiftUI components using stacks to create complex buttons. </span><span class="koboSpan" id="kobo.514.5">We finally looked at a few implementations for the extra tasks </span><span class="No-Break"><span class="koboSpan" id="kobo.515.1">as well.</span></span></p>
<p><span class="koboSpan" id="kobo.516.1">I want to express my gratitude for taking the time to read this book. </span><span class="koboSpan" id="kobo.516.2">There were moments when I questioned the purpose of writing yet another programming book, but ultimately, it was a worthwhile endeavor. </span><span class="koboSpan" id="kobo.516.3">I sincerely hope that you were able to gain something from it. </span><span class="koboSpan" id="kobo.516.4">If you have any questions or would like to contact me directly, please feel free to use any of the platforms </span><span class="No-Break"><span class="koboSpan" id="kobo.517.1">listed here:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.518.1">Twitter: </span></span><a href="https://twitter.com/SonarSystems"><span class="No-Break"><span class="koboSpan" id="kobo.519.1">https://twitter.com/SonarSystems</span></span></a></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.520.1">Email: </span></span><a href="mailto:support@sonarsystems.co.uk"><span class="No-Break"><span class="koboSpan" id="kobo.521.1">support@sonarsystems.co.uk</span></span></a></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.522.1">Discord: </span></span><a href="https://discord.gg/7e78FxrgqH"><span class="No-Break"><span class="koboSpan" id="kobo.523.1">https://discord.gg/7e78FxrgqH</span></span></a></li>
<li><span class="koboSpan" id="kobo.524.1">FireDEV </span><span class="No-Break"><span class="koboSpan" id="kobo.525.1">Podcast: </span></span><a href="https://open.spotify.com/show/387RiHksQE33KYHTitFXhg"><span class="No-Break"><span class="koboSpan" id="kobo.526.1">https://open.spotify.com/show/387RiHksQE33KYHTitFXhg</span></span></a></li>
</ul>
</div>
</body></html>