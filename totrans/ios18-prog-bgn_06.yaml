- en: '5'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '5'
- en: Collection Types
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 集合类型
- en: You’ve learned quite a lot at this point! You can now create a program that
    stores data in constants or variables and performs operations on them, and you
    can control the flow using conditionals and loops. But so far, you’ve mostly been
    storing single values.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，你已经学到了很多！你现在可以创建一个存储数据在常量或变量中并对其执行操作的程序，并且你可以使用条件语句和循环来控制流程。但到目前为止，你主要存储的是单个值。
- en: 'In this chapter, you will learn ways to store collections of values. Swift
    has three collection types: `arrays`, which store an ordered list of values; `dictionaries`,
    which store an unordered list of key-value pairs; and `sets`, which store an unordered
    list of values.'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将学习存储值集合的方法。Swift 有三种集合类型：`数组`，它存储一个有序的值列表；`字典`，它存储一个无序的键值对列表；以及 `集合`，它存储一个无序的值列表。
- en: By the end of this chapter, you’ll have learned how to create arrays, dictionaries,
    and sets, and how to perform operations on them.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将学会如何创建数组、字典和集合，以及如何对它们进行操作。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: Exploring arrays
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索数组
- en: Exploring dictionaries
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索字典
- en: Exploring sets
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探索集合
- en: Technical requirements
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'The Xcode playground for this chapter is in the `Chapter05` folder of the code
    bundle for this book, which can be downloaded here:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 本章的 Xcode 操场位于本书代码包的 `Chapter05` 文件夹中，可以在此处下载：
- en: '[https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Eighth-Edition](https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Eighth-Edition%0D)'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Eighth-Edition](https://github.com/PacktPublishing/iOS-18-Programming-for-Beginners-Eighth-Edition%0D)'
- en: 'Check out the following video to see the code in action:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 查看以下视频以查看代码的实际操作：
- en: '[https://youtu.be/W13l9tOMFx8](https://youtu.be/W13l9tOMFx8%0D)'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://youtu.be/W13l9tOMFx8](https://youtu.be/W13l9tOMFx8%0D)'
- en: If you wish to start from scratch, create a new playground and name it `CollectionTypes`.
    You can type in and run all the code in this chapter as you go along.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望从头开始，创建一个新的操场并将其命名为 `CollectionTypes`。你可以逐行输入并运行本章中的所有代码。
- en: To find out more about arrays, dictionaries, and sets, visit [https://docs.swift.org/swift-book/documentation/the-swift-programming-language/collectiontypes](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/collectiontypes).
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解更多关于数组、字典和集合的信息，请访问 [https://docs.swift.org/swift-book/documentation/the-swift-programming-language/collectiontypes](https://docs.swift.org/swift-book/documentation/the-swift-programming-language/collectiontypes)。
- en: The first collection type you will learn about is arrays, which let you store
    information in an ordered list.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 你将要学习的第一个集合类型是数组，它允许你按有序列表存储信息。
- en: Exploring arrays
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索数组
- en: 'Let’s say you want to store the following:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想要存储以下内容：
- en: List of items to buy at a convenience store
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 便利店购买物品清单
- en: Chores that you must do every month
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每月必须做的家务
- en: 'Arrays would be suitable for this. An array stores values in an ordered list.
    Here’s what it looks like:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 数组将非常适合这个。数组按有序列表存储值。它看起来是这样的：
- en: '![](img/B31371_05_01.png)'
  id: totrans-22
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_05_01.png)'
- en: 'Figure 5.1: Representation of an array'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.1：数组表示
- en: Values must be of the same type. You can access any value in an array by using
    the array index, which starts with 0.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 值必须是同一类型。你可以通过使用数组索引来访问数组中的任何值，索引从 0 开始。
- en: If you create an array using the `let` keyword, its contents can’t be changed
    after it has been created. If you want to change an array’s contents after creation,
    use the `var` keyword.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用 `let` 关键字创建一个数组，那么在创建后其内容不能被更改。如果你想创建后更改数组的内容，请使用 `var` 关键字。
- en: Let’s see how to work with arrays. You’ll create an array by assigning a value
    to it in the next section.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何使用数组。你将在下一节中通过给数组赋值来创建它。
- en: Creating an array
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建数组
- en: In previous chapters, you created a constant or variable by declaring it and
    assigning an initial value to it. You can create an array the same way.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，你通过声明并为其分配一个初始值来创建一个常量或变量。你可以用同样的方式创建一个数组。
- en: 'Imagine that your spouse has asked you to get some items from a convenience
    store. Let’s implement a shopping list using an array. Add the following code
    to your playground and run it:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下你的配偶要求你从便利店购买一些物品。让我们使用数组来实现购物清单。将以下代码添加到你的操场中并运行它：
- en: '[PRE0]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This instruction creates an array variable named `shoppingList`. The assigned
    value, `["Eggs", "Milk"]`, is an **array literal**. It represents an array with
    two elements of type `String`, with `"Eggs"` at index `0` and `"Milk"` at index
    `1`.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 此指令创建了一个名为 `shoppingList` 的数组变量。分配的值 `["Eggs", "Milk"]` 是一个 **数组字面量**。它表示一个包含两个
    `String` 类型元素的数组，其中 `"Eggs"` 在索引 `0`，`"Milk"` 在索引 `1`。
- en: Using the `var` keyword here means that the array’s contents can be modified.
    Since Swift uses type inference, this array’s elements will be of type `String`.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里使用 `var` 关键字意味着可以修改数组的元素。由于 Swift 使用类型推断，这个数组的元素类型将是 `String`。
- en: Imagine that you need to check how many items you need to get at the store.
    In the next section, you’ll learn how to determine the number of elements in an
    array.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您需要检查在商店需要购买多少个项目。在下一节中，您将学习如何确定数组中的元素数量。
- en: Checking the number of elements in an array
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查数组中的元素数量
- en: 'To find out how many elements there are in an array, use `count`. Type in and
    run the following code:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 要找出数组中有多少个元素，请使用 `count`。输入并运行以下代码：
- en: '[PRE1]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: As the `shoppingList` array contains two elements, **2** is displayed in the
    Results area.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 `shoppingList` 数组包含两个元素，结果区域显示 **2**。
- en: 'You can check to see if an array is empty by using `isEmpty`. Type in and run
    the following code:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用 `isEmpty` 来检查数组是否为空。输入并运行以下代码：
- en: '[PRE2]'
  id: totrans-39
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: As the `shoppingList` array contains two elements, **false** is displayed in
    the Results area.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 `shoppingList` 数组包含两个元素，结果区域显示 **false**。
- en: It is also possible to see if an array is empty by using `shoppingList.count
    == 0` but using `shoppingList.isEmpty` offers better performance.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以通过使用 `shoppingList.count == 0` 来检查数组是否为空，但使用 `shoppingList.isEmpty` 提供更好的性能。
- en: Imagine that your spouse called and asked you if you could get cooking oil,
    fish and chicken while you’re at the store. In the next section, you’ll see how
    to add elements to the end of an array, and at a specified array index.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您的配偶打电话让您在商店时买油、鱼和鸡肉。在下一节中，您将看到如何向数组的末尾添加元素，以及在指定的数组索引处添加元素。
- en: Adding a new element to an array
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向数组添加新元素
- en: 'You can add a new element to the end of an array by using `append(_:)`. Type
    in and run the following code:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用 `append(_:)` 方法向数组的末尾添加新元素。输入并运行以下代码：
- en: '[PRE3]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '`"Cooking Oil"` has been added to the end of the `shoppingList` array, which
    now contains three elements – `"Eggs"`, `"Milk"`, and `"Cooking Oil"`, and **[“Eggs”,
    “Milk”, “Cooking Oil”]** is displayed in the Results area.'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '`"Cooking Oil"` 已添加到 `shoppingList` 数组的末尾，该数组现在包含三个元素 – `"Eggs"`、`"Milk"` 和
    `"Cooking Oil"`，并且在结果区域显示为 **[“Eggs”, “Milk”, “Cooking Oil”]**。'
- en: 'You can also add an array to another array with the `+` operator, using the
    following code:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用 `+` 运算符将数组添加到另一个数组中，以下代码示例：
- en: '[PRE4]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'You can add a new item at a specified index using `insert(_:at:)`. Type and
    run the following code:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用 `insert(_:at:)` 方法在指定索引处添加新项目。输入并运行以下代码：
- en: '[PRE5]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'This inserts `"Chicken"` at index `1`, so now the s`hoppingList` array contains
    `"Eggs"`, `"Chicken"`, `"Milk"`, `"``Cooking Oil"`, and `"Fish"`. Note that `"Chicken"`
    is the second element in the array as the first element is at index `0`. This
    can be seen when you click the Quick Look icon:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 这将在索引 `1` 处插入 `"Chicken"`，因此现在 `shoppingList` 数组包含 `"Eggs"`、`"Chicken"`、`"Milk"`、`"Cooking
    Oil"` 和 `"Fish"`。注意，`"Chicken"` 是数组的第二个元素，因为第一个元素位于索引 `0`。您可以通过点击快速查看图标来看到这一点：
- en: '![](img/B31371_05_02.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_05_02.png)'
- en: 'Figure 5.2: Array contents displayed inline in the playground'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.2：在游乐场中显示的数组内容
- en: Imagine that you’ve got the first item on your shopping list, and now you need
    to know the next item on the list. In the next section, you’ll see how to access
    a specific array element using the array index.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您已经购买了购物清单上的第一个项目，现在您需要知道下一个项目是什么。在下一节中，您将学习如何使用数组索引访问特定数组元素。
- en: Accessing an array element
  id: totrans-55
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 访问数组元素
- en: 'You can specify an array index to access a particular element. Type in and
    run the following code:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过指定数组索引来访问特定元素。输入并运行以下代码：
- en: '[PRE6]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: This returns the array element stored at index `2`, and **“Milk”** is displayed
    in the Results area.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 这将返回存储在索引 `2` 的数组元素，并且在结果区域显示 **“Milk”**。
- en: Imagine that your spouse called and asked you to get soy milk instead of cow’s
    milk. As this array was declared using the `var` keyword, you can modify the values
    stored in it. You’ll learn how in the next section.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您的配偶打电话让您买豆浆而不是牛奶。由于这个数组是使用 `var` 关键字声明的，您可以修改其中存储的值。您将在下一节中学习如何操作。
- en: Assigning a new value to a specified index
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将新值分配给指定索引
- en: 'You can replace an existing array element by specifying the index and assigning
    a new value to it. Type in and run the following code:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过指定索引并为其分配新值来替换现有的数组元素。输入并运行以下代码：
- en: '[PRE7]'
  id: totrans-62
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: This replaces the value stored at index `2`, `"Milk"`, with `"Soy Milk"`. The
    `shoppingList` array now contains `"Eggs"`, `"Chicken"`, `"Soy Milk"`, `"Cooking
    Oil"`, and `"Fish"`, as shown in the Results area.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 这将替换存储在索引`2`处的值`"Milk"`为`"Soy Milk"`。现在`shoppingList`数组包含`"Eggs"`、`"Chicken"`、`"Soy
    Milk"`、`"Cooking Oil"`和`"Fish"`，如结果区域所示。
- en: Note that the index used must be valid. For instance, you can’t use index `5`
    as the only valid indexes here are `0`, `1`, `2,3`, and `4`. Doing so would cause
    the program to crash.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 注意，使用的索引必须是有效的。例如，你不能使用索引`5`，因为这里唯一的有效索引是`0`、`1`、`2`、`3`和`4`。这样做会导致程序崩溃。
- en: Imagine that your spouse called and told you that there was chicken and fish
    in the fridge, so you no longer have to get them. In the next section, you’ll
    see two ways to remove elements from an array.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，你的配偶打电话告诉你冰箱里有鸡肉和鱼，所以你不再需要它们。在下一节中，你将看到两种从数组中移除元素的方法。
- en: Removing an element from an array
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从数组中移除元素
- en: 'You can remove an element from an array by using `remove(at:)`. Type in and
    run the following code:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过使用`remove(at:)`从数组中移除一个元素。输入并运行以下代码：
- en: '[PRE8]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: This removes the item at index `1`, `"Chicken"`, from the `shoppingList` array,
    so now it contains `"Eggs"`, `"Soy Milk"`, `"``Cooking Oil"`, and `"Fish"`. The
    item that has been removed is stored in `removedValue`. You can see this in the
    Results area.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 这将从`shoppingList`数组中移除索引`1`处的项目`"Chicken"`，因此现在它包含`"Eggs"`、`"Soy Milk"`、`"Cooking
    Oil"`和`"Fish"`。被移除的项目存储在`removedValue`中。你可以在结果区域中看到这一点。
- en: 'You can also choose not to keep the removed values. Type in and run the following
    code:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以选择不保留被移除的值。输入并运行以下代码：
- en: '[PRE9]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: This removes the item at index `3`, `"Fish"`, from the `shoppingList` array,
    so now it contains `"Eggs"`, `"Soy Milk"`, and `"Cooking Oil"`.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 这将从`shoppingList`数组中移除索引`3`处的项目`"Fish"`，因此现在它包含`"Eggs"`、`"Soy Milk"`和`"Cooking
    Oil"`。
- en: If you’re removing the last item from the array, you can use `removeLast()`
    instead, and optionally assign the removed value to a constant or variable as
    well.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在从数组中移除最后一个项目，你可以使用`removeLast()`代替，并且可以选择将移除的值也分配给一个常量或变量。
- en: Imagine that you’ve obtained every item in the list, and you would like to go
    through your list again to make sure. You’ll need to access every array element
    in turn and perform operations on each element. You’ll see how to do this in the
    next section.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，你已经获得了列表中的每一项，并且你想再次遍历你的列表以确保。你需要依次访问每个数组元素并对每个元素执行操作。你将在下一节中看到如何做到这一点。
- en: Iterating over an array
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 遍历数组
- en: 'Remember the `for-in` loop you studied in the previous chapter? You can use
    it to iterate over every element in an array. Type in and run the following code:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 记得你在上一章中学到的`for-in`循环吗？你可以使用它来遍历数组中的每个元素。输入并运行以下代码：
- en: '[PRE10]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: This prints out every element in the array to the Debug area.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 这将打印出数组中的每个元素到调试区域。
- en: 'You can also use **one-sided range operators**. These are range operators with
    only the starting value, for example, `1...`. Type in and run the following code:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以使用**单侧范围运算符**。这些是只有起始值的范围运算符，例如`1...`。输入并运行以下代码：
- en: '[PRE11]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: This prints out the elements in the array, starting from the element at index
    `1` to the Debug area.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 这将在从索引`1`开始的数组元素打印到调试区域。
- en: You now know how to use an array to create an ordered list, such as a shopping
    list, and how to perform array operations such as accessing, adding, and removing
    elements. In the next section, let’s look at how to store an unordered list of
    key-value pairs using a dictionary.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在知道如何使用数组创建有序列表，例如购物清单，以及如何执行数组操作，如访问、添加和移除元素。在下一节中，我们将看看如何使用字典存储无序列表的键值对。
- en: Exploring dictionaries
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索字典
- en: Let’s say you’re writing a *Contacts* app. You would need to store a list of
    names and their corresponding contact numbers. A dictionary would be perfect for
    this, as it allows you to associate a phone number with a contact name.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你正在编写一个*联系人*应用。你需要存储一个包含姓名和相应联系号码的列表。字典非常适合这个用途，因为它允许你将电话号码与联系人姓名关联起来。
- en: 'A dictionary stores key-value pairs in an unordered list. Here’s what it looks
    like:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 字典以无序列表的形式存储键值对。它看起来是这样的：
- en: '![](img/B31371_05_03.png)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/B31371_05_03.png)'
- en: 'Figure 5.3: Representation of a dictionary'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.3：字典的表示
- en: All keys must be of the same type and must be unique. All values must be of
    the same type, but must not necessarily be unique. Keys and values don’t have
    to be of the same type as each other. You use the key to get the corresponding
    value.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 所有键必须是同一类型且必须是唯一的。所有值必须是同一类型，但不必必须是唯一的。键和值不必是同一类型的。你使用键来获取相应的值。
- en: If you create a dictionary using the `let` keyword, its contents can’t be changed
    after it has been created. If you want to change the contents after creation,
    use the `var` keyword.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用 `let` 关键字创建字典，一旦创建，其内容就不能更改。如果你想创建后更改内容，请使用 `var` 关键字。
- en: Let’s look at how to work with dictionaries. You’ll create a dictionary by assigning
    a value to it in the next section.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何与字典一起工作。你将在下一节中通过为它分配一个值来创建一个字典。
- en: Creating a dictionary
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建字典
- en: 'Imagine that you’re creating a *Contacts* app. For this app, you’ll use a dictionary
    to store your contacts. Just like an array, you can create a new dictionary by
    declaring it and assigning an initial value to it. Add the following code to your
    playground and run it:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你正在创建一个 *联系人* 应用。对于这个应用，你将使用字典来存储你的联系人。就像数组一样，你可以通过声明并为其分配一个初始值来创建一个新的字典。将以下代码添加到你的沙盒中并运行它：
- en: '[PRE12]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'This instruction creates a dictionary variable named `contactList`. The assigned
    value, `["Shah" : "+60123456789", "Aamir" : "+0223456789"]`, is a **dictionary
    literal**. It represents a dictionary with two elements. Each element is a key-value
    pair, with the contact name as the key and the contact number as the value. Note
    that since the contact name is the key field, it should be unique.'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '此指令创建了一个名为 `contactList` 的字典变量。分配的值，`["Shah" : "+60123456789", "Aamir" : "+0223456789"]`，是一个
    **字典字面量**。它代表一个包含两个元素的字典。每个元素都是一个键值对，其中联系人名称作为键，联系人电话号码作为值。请注意，由于联系人名称是键字段，它应该是唯一的。'
- en: Since the `contactList` dictionary is a variable, you can change the contents
    of the dictionary after it has been created. Both key and value are of type `String`
    due to type inference.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 `contactList` 字典是一个变量，你可以在创建后更改字典的内容。由于类型推断，键和值都是 `String` 类型。
- en: Imagine that your app must display the total number of contacts. In the next
    section, you’ll learn how to determine the number of elements in a dictionary.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你的应用必须显示联系人的总数。在下一节中，你将学习如何确定字典中的元素数量。
- en: Checking the number of elements in a dictionary
  id: totrans-97
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查字典中的元素数量
- en: 'To find out how many elements there are in a dictionary, use `count`. Type
    in and run the following code:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 要找出字典中有多少个元素，请使用 `count`。输入并运行以下代码：
- en: '[PRE13]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: As there are two elements in the `contactList` dictionary, **2** is displayed
    in the Results area.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 `contactList` 字典中有两个元素，结果区域中显示 **2**。
- en: 'You can check whether a dictionary is empty by using `isEmpty`. Type in and
    run the following code:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 `isEmpty` 来检查字典是否为空。输入并运行以下代码：
- en: '[PRE14]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Since the `contactList` dictionary has two elements, **false** is displayed
    in the Results area.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 `contactList` 字典有两个元素，结果区域中显示 **false**。
- en: It is also possible to see if a dictionary is empty by using `contactlist.count
    == 0` but using `contactList.isEmpty` offers better performance.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 也可以通过使用 `contactlist.count == 0` 来检查字典是否为空，但使用 `contactList.isEmpty` 提供了更好的性能。
- en: Imagine that you just finished a meeting, and want to add a new contact to your
    app. As this dictionary was declared using the `var` keyword, you can add key-value
    pairs to it. You’ll learn how in the next section.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '假设你刚刚结束了一个会议，并想在应用中添加一个新的联系人。由于这个字典是使用 `var` 关键字声明的，你可以向其中添加键值对。你将在下一节中学习如何操作。 '
- en: Adding a new element to a dictionary
  id: totrans-106
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向字典中添加新元素
- en: 'To add a new element to a dictionary, provide a key and assign a value to it.
    Type in and run the following code:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 要向字典中添加新元素，提供一个键并为它分配一个值。输入并运行以下代码：
- en: '[PRE15]'
  id: totrans-108
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'This adds a new key-value pair with the key `"Meena"` and the value `"+0229876543"`
    to the `contactList` dictionary. It now consists of `"Shah" : "+60126789345"`,
    `"Aamir" : "+0223456789"`, and `"Meena" : "+0229876543"`. You can see this in
    the Results area.'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '这将在 `contactList` 字典中添加一个新的键值对，键为 `"Meena"`，值为 `"+0229876543"`。现在它包含 `"Shah"
    : "+60126789345"`，`"Aamir" : "+0223456789"` 和 `"Meena" : "+0229876543"`。您可以在结果区域中看到这一点。'
- en: Imagine that you want to call one of your contacts, and you want the phone number
    for that contact. In the next section, you’ll see how to access dictionary elements
    by specifying the key for the desired value.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想拨打你的一个联系人的电话，并需要该联系人的电话号码。在下一节中，你将看到如何通过指定键来访问字典元素以获取所需值。
- en: Accessing a dictionary element
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 访问字典元素
- en: 'You can specify a dictionary key to access its corresponding value. Type in
    and run the following code:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以指定一个字典键来访问其对应值。输入并运行以下代码：
- en: '[PRE16]'
  id: totrans-113
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: This returns the value for the key `"Shah"`, and **+60123456789** is displayed
    in the Results area.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 这将返回键 `"Shah"` 的值，并在结果区域显示 **+60123456789**。
- en: Imagine that one of your contacts has a new phone, so you must update the phone
    number for that contact. You can modify the key-value pairs stored in a dictionary.
    You’ll learn how in the next section.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你的某个联系人换了一个新电话，因此你必须更新该联系人的电话号码。你可以修改字典中存储的键值对。你将在下一节中学习如何操作。
- en: Assigning a new value to an existing key
  id: totrans-116
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 给现有的键分配新值
- en: 'You can assign a new value to an existing key. Type and run the following code:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以给现有的键分配一个新值。输入并运行以下代码：
- en: '[PRE17]'
  id: totrans-118
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: 'This assigns a new value to the key `"Shah"`. The `contactList` dictionary
    now contains `"``Shah" : "+60126789345"`, `"Aamir" : "+0223456789"`, and `"Meena"
    : "+0229876543"`. You can see this in the Results area.'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: '这将给键 `"Shah"` 分配一个新值。现在 `contactList` 字典包含 `"Shah" : "+60126789345"`，`"Aamir"
    : "+0223456789"` 和 `"Meena" : "+0229876543"`。你可以在结果区域看到这一点。'
- en: Imagine that you have to remove a contact from your app. Let’s see how you can
    remove elements from a dictionary in the next section.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你必须从你的应用程序中删除一个联系人。让我们看看下一节中如何从字典中移除元素。
- en: Removing an element from a dictionary
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从字典中移除元素
- en: 'To remove an element from a dictionary, assign `nil` to an existing key. Type
    in and run the following code:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 要从字典中移除一个元素，将 `nil` 分配给现有的键。输入并运行以下代码：
- en: '[PRE18]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'This removes the element with the key `"Aamir"` from the `contactList` dictionary,
    and it now contains `"Shah" : "+60126789345"` and `"Meena" : "+0229876543"`. You
    can see this in the Results area.'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: '这将从 `contactList` 字典中移除键为 `"Aamir"` 的元素，现在它包含 `"Shah" : "+60126789345"` 和 `"Meena"
    : "+0229876543"`。你可以在结果区域看到这一点。'
- en: 'If you want to retain the value you are removing, use `removeValue(for:Key)`
    instead. Type in and run the following code:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你想要保留你正在移除的值，请使用 `removeValue(for:Key)` 代替。输入并运行以下代码：
- en: '[PRE19]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'This removes the element with the key `"Meena"` from the `contactList` dictionary
    and assigns its value to `oldDictValue`. `oldDictValue` now contains `"+0229876543"`
    and the `contactList` dictionary contains `"Shah" : "+60126789345"`.'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: '这将从 `contactList` 字典中移除键为 `"Meena"` 的元素，并将其值分配给 `oldDictValue`。现在 `oldDictValue`
    包含 `"+0229876543"`，而 `contactList` 字典包含 `"Shah" : "+60126789345"`。'
- en: 'You can also choose to just remove the value without having to assign it to
    a constant or variable, like this:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以选择只移除值，而无需将其分配给常量或变量，如下所示：
- en: '[PRE20]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Imagine that you would like to call each contact to wish them a happy New Year.
    You’ll have to access every dictionary element in turn and perform operations
    on each element. You’ll see how to do this in the next section.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想要给每个联系人打电话，祝他们新年快乐。你必须依次访问每个字典元素并对其执行操作。你将在下一节中看到如何操作。
- en: Iterating over a dictionary
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 遍历字典
- en: 'Just like arrays, you can use a `for-in` loop to iterate over every element
    in a dictionary. Type in and run the following code:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 就像数组一样，你可以使用 `for-in` 循环遍历字典中的每个元素。输入并运行以下代码：
- en: '[PRE21]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: This prints every element in the dictionary to the Debug area. Since dictionaries
    are unordered, you may get the results in a different order when you run this
    code again.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 这将打印字典中的每个元素到调试区域。由于字典是无序的，当你再次运行此代码时，你可能会得到不同的结果顺序。
- en: You now know how to use a dictionary to create an unordered list of key-value
    pairs, such as a contact list, and how to perform dictionary operations. In the
    next section, let’s see how to store an unordered list of values in a set.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经知道如何使用字典创建一个无序的键值对列表，例如联系人列表，以及如何执行字典操作。在下一节中，我们将看看如何在一个集合中存储无序的值列表。
- en: Exploring sets
  id: totrans-136
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探索集合
- en: Let’s say you’re writing a *Movies* app and you want to store a list of movie
    genres. You could do this with a set.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你正在编写一个 *Movies* 应用程序，并想存储电影类型列表。你可以使用集合来完成这个任务。
- en: 'A set stores values in an unordered list. Here’s what it looks like:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 集合以无序列表的形式存储值。它看起来是这样的：
- en: '![](img/B31371_05_04.png)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B31371_05_04.png)'
- en: 'Figure 5.4: Representation of a set'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 图 5.4：集合的表示
- en: All values are of the same type.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 所有值都是同一类型。
- en: If you create a set using the `let` keyword, its contents can’t be changed after
    it has been created. If you want to change the contents after creation, use the
    `var` keyword.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你使用 `let` 关键字创建一个集合，其内容在创建后不能被更改。如果你想创建后更改内容，请使用 `var` 关键字。
- en: Let’s look at how to work with sets. You’ll create a set by assigning a value
    to it in the next section.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看如何处理集合。你将在下一节中通过给它赋值来创建一个集合。
- en: Creating a set
  id: totrans-144
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建集合
- en: Imagine that you are creating a *Movies* app and you would like to store movie
    genres in your app. The app will store movie genres that you like and it can check
    to see if a movie that you’re thinking of seeing is among them. Compared to arrays,
    sets are unordered and only contain unique values, whereas arrays are ordered
    by index and can contain duplicates. Since you do not need to store movie genres
    in order and each genre is unique, you will use a set for this purpose.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，你正在创建一个 *电影* 应用，并且你希望在你的应用中存储电影类型。该应用将存储你喜欢的电影类型，并且它可以检查你想要观看的电影是否在其中。与数组相比，集合是无序的并且只包含唯一值，而数组是有序的，按索引排列，可以包含重复值。由于你不需要按顺序存储电影类型，并且每个类型都是唯一的，因此你将使用集合来完成这个目的。
- en: 'As you have seen for arrays and dictionaries, you can create a set by declaring
    it and assigning a new value to it. Add the following code to your playground
    and run it:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，对于数组和字典，你可以通过声明它并分配一个新的值来创建一个集合。将以下代码添加到你的游乐场中并运行它：
- en: '[PRE22]'
  id: totrans-147
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: This instruction creates a set variable named `movieGenres`. Note that the **set
    literal** assigned to it, `["Horror", "Action", "Romantic Comedy" ]`, has the
    same format as an array literal, so you use type annotation to set the type of
    `movieGenres` to `Set`. Otherwise, Swift’s type inference will create an array
    variable and not a set variable.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 这个指令创建了一个名为 `movieGenres` 的集合变量。请注意，分配给它的 **集合字面量** `["Horror", "Action", "Romantic
    Comedy"]` 与数组字面量的格式相同，因此你使用类型注解将 `movieGenres` 的类型设置为 `Set`。否则，Swift 的类型推断将创建一个数组变量而不是集合变量。
- en: Using the `var` keyword here means that the set’s contents can be modified.
    This set’s elements will be of type `String` due to type inference.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里使用 `var` 关键字意味着集合的内容可以被修改。由于类型推断，这个集合的元素类型将是 `String`。
- en: Imagine that you need to show the total number of genres in your app. Let’s
    see how to find the number of elements there are in a set in the next section.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，你需要显示你应用中电影类型的总数。让我们看看如何在下一节中找到集合中元素的数量。
- en: Checking the number of elements in a set
  id: totrans-151
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查集合中的元素数量
- en: 'To find out how many elements there are in a set, use `count`. Type in and
    run the following code:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 要找出集合中有多少个元素，请使用 `count`。输入并运行以下代码：
- en: '[PRE23]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Since the `movieGenres` set contains three elements, **3** is displayed in the
    Results area.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 `movieGenres` 集合包含三个元素，结果区域显示 **3**。
- en: 'You can check whether a set is empty by using `isEmpty`. Type in and run the
    following code:'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 `isEmpty` 来检查一个集合是否为空。输入并运行以下代码：
- en: '[PRE24]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: As `movieGenres` contains three elements, **false** is displayed in the Results
    area.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 `movieGenres` 包含三个元素，结果区域显示 **false**。
- en: It is also possible to see if a set is empty by using `movieGenres.count ==
    0` but using `movieGenres.isEmpty` offers better performance.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以通过使用 `movieGenres.count == 0` 来检查集合是否为空，但使用 `movieGenres.isEmpty` 提供更好的性能。
- en: Imagine that users of your app can add more genres to it. As this set was declared
    using the `var` keyword, you can add elements to it. You’ll learn how in the next
    section.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，你的应用的用户可以添加更多类型。由于这个集合是使用 `var` 关键字声明的，你可以向其中添加元素。你将在下一节中学习如何操作。
- en: Adding a new element to a set
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 向集合中添加新元素
- en: 'You can add a new element to a set by using `insert(_:)`. Type in and run the
    following code:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过使用 `insert(_:)` 来向集合中添加新元素。输入并运行以下代码：
- en: '[PRE25]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: This adds a new item, `"War"`, to the `movieGenres` set, which now contains
    `"Horror"`, `"Romantic Comedy"`, `"War"`, and `"Action"`. This is visible when
    you click the Quick Look icon.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 这将一个新的项目 `"War"` 添加到 `movieGenres` 集合中，现在它包含 `"Horror"`、`"Romantic Comedy"`、`"War"`
    和 `"Action"`。当你点击快速查看图标时，这一点是可见的。
- en: Imagine that a user would like to know if a certain genre is available in your
    app. In the next section, you’ll learn how to check if an element is in a set.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 想象一下，一个用户想知道你的应用中是否提供某种类型的电影。在下一节中，你将学习如何检查一个元素是否在集合中。
- en: Checking whether a set contains an element
  id: totrans-165
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 检查集合是否包含一个元素
- en: 'To check whether a set contains an element, use `contains(_:)`. Type in and
    run the following code:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查集合是否包含一个元素，请使用 `contains(_:)`。输入并运行以下代码：
- en: '[PRE26]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: As `"War"` is one of the elements inside the `movieGenres` set, **true** is
    displayed in the Results area.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 `"War"` 是 `movieGenres` 集合中的一个元素，结果区域显示 **true**。
- en: Imagine that a user wants to remove a genre from their list of genres. Let’s
    see how to remove items from a set that are no longer needed in the next section.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 假设一个用户想要从他们的音乐类型列表中移除一个类型。让我们在下一节中看看如何从集合中移除不再需要的项。
- en: Removing an item from a set
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从集合中移除项
- en: 'To remove an item from a set, use `remove(_:)`. The value you are removing
    can be discarded or assigned to a variable or a constant. If the value doesn’t
    exist in the set, `nil` will be returned. Type in and run the following code:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 要从集合中移除项，请使用 `remove(_:)`。你正在移除的值可以被丢弃、赋值给变量或常量。如果该值不存在于集合中，则返回 `nil`。输入并运行以下代码：
- en: '[PRE27]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: '`"Action"` is removed from the `movieGenres` set and assigned to `oldSetValue`,
    and the `movieGenres` set now contains `"Horror"`, `"Romantic Comedy"`, and `"War"`.'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '`"动作"` 从 `movieGenres` 集合中移除并赋值给 `oldSetValue`，现在 `movieGenres` 集合包含 `"恐怖"`、"浪漫喜剧"
    和 `"战争"`。'
- en: To remove all the elements from a set, use `removeAll()`.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 要从集合中移除所有元素，请使用 `removeAll()`。
- en: Imagine that you would like to display all the genres your app has as recommendations
    for your app’s users. You can iterate over and perform operations on each set
    element. Let’s see how to do so in the next section.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你希望显示你应用中所有音乐类型作为你应用用户的推荐。你可以遍历并操作每个集合元素。让我们在下一节中看看如何做到这一点。
- en: Iterating over a set
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 遍历集合
- en: 'As with arrays and dictionaries, you can use a `for-in` loop to iterate over
    every element in a set. Type in and run the following code:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 与数组和大纲类似，你可以使用 `for-in` 循环遍历集合中的每个元素。输入并运行以下代码：
- en: '[PRE28]'
  id: totrans-178
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: You should see each set element in the Debug area. Since sets are unsorted,
    you may get the results in a different order when you run this code again.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该在调试区域看到每个集合元素。由于集合是无序的，当你再次运行此代码时，你可能会得到不同的结果顺序。
- en: Imagine that you want your app to perform operations on the genres you like
    with the genres that another person likes. In the next section, you will learn
    about the various operations that you can do with sets in Swift.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想让你的应用对你喜欢的音乐类型和另一个人喜欢的音乐类型执行操作。在下一节中，你将了解在 Swift 中可以使用集合执行的各种操作。
- en: Performing set operations
  id: totrans-181
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 执行集合操作
- en: 'It’s easy to perform set operations such as **union**, **intersection**, **subtracting**,
    and **symmetric difference**. Type in and run the following code:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 执行集合操作，如 **并集**、**交集**、**减集** 和 **对称差集** 非常简单。输入并运行以下代码：
- en: '[PRE29]'
  id: totrans-183
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'Here, you are performing set operations on two sets, `movieGenres` and `movieGenres2`.
    Let’s see the results of each set operation:'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，你正在对两个集合 `movieGenres` 和 `movieGenres2` 执行集合操作。让我们看看每个集合操作的结果：
- en: '`union(_:)` returns a new set containing all the values in both sets, so **“Horror”,
    “Romantic Comedy”, “War”, “Science Fiction”** and **“Fantasy”** will be displayed
    when you click the Quick Look icon.'
  id: totrans-185
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`union(_:)` 返回一个新集合，包含两个集合中的所有值，因此当你点击快速查看图标时，会显示 **“恐怖”，“浪漫喜剧”，“战争”，“科幻”**
    和 **“奇幻”**。'
- en: '`intersection(_:)` returns a new set containing only the values common to both
    sets, so **“War”** will be displayed when you click the Quick Look icon.'
  id: totrans-186
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`intersection(_:)` 返回一个新集合，其中只包含两个集合共有的值，因此当你点击快速查看图标时，会显示 **“战争”**。'
- en: '`subtracting(_:)` returns a new set without the values in the specified set,
    so **“Horror”** and **“Romantic Comedy”** will be displayed when you click the
    Quick Look icon.'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`subtracting(_:)` 返回一个新集合，不包含指定集合中的值，因此当你点击快速查看图标时，会显示 **“恐怖”** 和 **“浪漫喜剧”**。'
- en: '`symmetricDifference(_:)` returns a new set without the values common to both
    sets, so **“Horror”, “Romantic Comedy”, “Science Fiction”** and **“Fantasy”**
    will be displayed when you click the Quick Look icon.'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`symmetricDifference(_:)` 返回一个新集合，不包含两个集合共有的值，因此当你点击快速查看图标时，会显示 **“恐怖”，“浪漫喜剧”，“科幻”**
    和 **“奇幻”**。'
- en: Imagine that you want your app to compare the genres you like to the genres
    that another person likes. In the next section, you’ll learn how to check if a
    set is equal to another set, is part of another set, or has nothing in common
    with another set.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你想让你的应用比较你喜欢的音乐类型和另一个人喜欢的音乐类型。在下一节中，你将学习如何检查一个集合是否等于另一个集合，是否是另一个集合的子集，或者与另一个集合没有任何共同点。
- en: Understanding set membership and equality
  id: totrans-190
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理解集合成员资格和相等性
- en: 'It’s easy to check if a set is equal to a **subset**, a **superset**, or a
    **disjoint** of another set. Type in and run the following code:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 检查一个集合是否等于另一个集合的 **子集**、**超集** 或 **不相交** 非常简单。输入并运行以下代码：
- en: '[PRE30]'
  id: totrans-192
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: 'Let’s see how this code works:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看这段代码是如何工作的：
- en: The `==` operator checks whether all the members of one set are the same as
    those of another set. Since not all the members of the `movieGenres` set are the
    same as those in the `movieGenres2` set, **false** will be displayed in the Results
    area.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`==` 操作符检查一个集合的所有成员是否与另一个集合的成员相同。由于 `movieGenres` 集合的所有成员并不都与 `movieGenres2`
    集合的成员相同，结果区域将显示 **false**。'
- en: '`isSubset(of:)` checks whether a set is a subset of another set. Since all
    the members of the `movieGenresSubset` set are in the `movieGenres` set, **true**
    will be displayed in the Results area.'
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`isSubset(of:)` 检查一个集合是否是另一个集合的子集。由于 `movieGenresSubset` 集合的所有成员都在 `movieGenres`
    集合中，结果区域将显示 **true**。'
- en: '`isSuperset(of:)` checks whether a set is a superset of another set. Since
    all the members of the `movieGenres` set are in the `movieGenresSuperset` set,
    **true** will be displayed in the Results area.'
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`isSuperset(of:)` 检查一个集合是否是另一个集合的超集。由于 `movieGenres` 集合的所有成员都在 `movieGenresSuperset`
    集合中，结果区域将显示 **true**。'
- en: '`isDisjoint(with:)` checks whether a set has no values in common with another
    set. Since the `movieGenresDisjoint` set has no members in common with the `movieGenres`
    set, **true** will be displayed in the Results area.'
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`isDisjoint(with:)` 检查一个集合是否与另一个集合没有共同的值。由于 `movieGenresDisjoint` 集合与 `movieGenres`
    集合没有共同的成员，结果区域将显示 **true**。'
- en: You now know how to use a set to create an unordered list of values, such as
    a list of movie genres, and how to perform set operations. This concludes the
    chapter on collection types. Well done!
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在知道如何使用集合来创建一个无序的值列表，例如电影类型的列表，以及如何执行集合操作。这标志着关于集合类型的章节结束。做得好！
- en: Summary
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you looked at collection types in Swift. First, you learned
    about arrays. These allow you to use an ordered list of values to represent an
    item like a shopping list and perform operations on it.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了 Swift 中的集合类型。首先，你学习了有关数组的内容。这些允许你使用有序的值列表来表示如购物清单这样的项目，并对它执行操作。
- en: Next, you learned about dictionaries. These allow you to use an unordered list
    of key-value pairs to represent an item like a contact list and perform operations
    on it.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你学习了有关字典的内容。这些允许你使用无序的键值对列表来表示如联系人列表这样的项目，并对它执行操作。
- en: Finally, you learned about sets. These allow you to use an unordered list of
    values to represent an item like a movie genre list and perform operations on
    it. You also learned why it may be more appropriate to use a set instead of an
    array in this instance.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你学习了有关集合的知识。这些允许你使用无序的值列表来表示如电影类型列表这样的项目，并对它执行操作。你还学习了为什么在这种情况下使用集合而不是数组可能更合适。
- en: In the next chapter, you will study how to group a set of instructions together
    using functions. This is handy when you want to execute a set of instructions
    multiple times in your program.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你将学习如何使用函数将一组指令组合在一起。当你想在程序中多次执行一组指令时，这非常有用。
- en: Join us on Discord!
  id: totrans-204
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加入我们的 Discord 社区！
- en: Read this book alongside other users, experts, and the author himself. Ask questions,
    provide solutions to other readers, chat with the author via Ask Me Anything sessions,
    and much more. Scan the QR code or visit the link to join the community.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 与其他用户、专家以及作者本人一起阅读这本书。提问、为其他读者提供解决方案、通过“问我任何问题”的环节与作者聊天，以及更多。扫描二维码或访问链接加入社区。
- en: '[https://packt.link/ios-Swift](https://packt.link/ios-Swift%0D)'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/ios-Swift](https://packt.link/ios-Swift%0D)'
- en: '[![](img/QR_Code2370024260177612484.png)](https://packt.link/ios-Swift%0D)'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: '[![](img/QR_Code2370024260177612484.png)](https://packt.link/ios-Swift%0D)'
