<html><head></head><body>
		<div id="_idContainer230">
			<h1 id="_idParaDest-168"><em class="italic"><a id="_idTextAnchor171"/>Chapter 11</em>: Finishing Up Your User Interface</h1>
			<p>In the previous chapter, you configured the <strong class="bold">Explore</strong> screen to display 20 empty collection view cells in a collection view, added a button to the collection view section header to present a view representing the <strong class="bold">Locations</strong> screen modally, and added a <strong class="bold">Cancel</strong> button to dismiss it.</p>
			<p>In this chapter, you will implement the remaining screens that were shown in the app tour shown in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a>, <em class="italic">Setting Up the User Interface</em>. First, you'll add a blank table view to the <strong class="bold">Locations</strong> screen. Next, you'll add the <strong class="bold">Restaurant List</strong> screen, which will be displayed when a cell in the <strong class="bold">Explore</strong> screen is tapped. You'll configure this screen to display a collection view containing a single collection view cell. After that, you'll add the <strong class="bold">Restaurant Detail</strong> screen, which will be displayed when the cell in the <strong class="bold">Restaurant List</strong> screen is tapped. You'll configure this screen to display a table view with static table view cells. You'll also add a button to one of the cells that displays a view representing the <strong class="bold">Review Form</strong> screen when tapped. Finally, you'll make the <strong class="bold">Map</strong> screen display a map.</p>
			<p>By the end of this chapter, you'll have learned how to add and configure a table view to a storyboard scene, how to add segues between scenes, and how to add a map view to a scene. The basic user interface of your app will be complete, and you will be able to walk through all the screens in the simulator. None of the screens will be displaying data, but you will finish their implementation in <em class="italic">Part 3</em> of this book.</p>
			<p>The following topics will be covered:</p>
			<ul>
				<li>Adding a table view to the <strong class="bold">Locations</strong> screen </li>
				<li>Implementing the <strong class="bold">Restaurant List</strong> screen </li>
				<li>Implementing the <strong class="bold">Restaurant Detail</strong> screen </li>
				<li>Adding a map view to the <strong class="bold">Map</strong> screen</li>
			</ul>
			<h1 id="_idParaDest-169"><a id="_idTextAnchor172"/>Technical requirements</h1>
			<p>You will continue working on the <strong class="source-inline">LetsEat</strong> project that you created in the previous chapter.</p>
			<p>The completed Xcode project for this chapter is in the <strong class="source-inline">Chapter11</strong> folder of the code bundle for this book, which can be downloaded here: </p>
			<p><a href="https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition">https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition</a></p>
			<p>Check out the following video to see the code in action: </p>
			<p><a href="https://bit.ly/3EYWb6i">https://bit.ly/3EYWb6i</a></p>
			<p>To start, you'll add a table view to the <strong class="bold">Locations</strong> screen, which will eventually be used to display a list of restaurant locations.</p>
			<h1 id="_idParaDest-170"><a id="_idTextAnchor173"/>Adding a table view to the Locations screen</h1>
			<p>When you<a id="_idIndexMarker462"/> tap <a id="_idIndexMarker463"/>the button in the collection view section header of the <strong class="bold">Explore</strong> screen, another view representing the <strong class="bold">Locations</strong> screen will be presented modally, but it is currently blank. Let's add a table view to this view. Follow these steps:</p>
			<ol>
				<li>Build and run the <strong class="source-inline">LetsEat</strong> app to make sure everything still works as it should. Click the <strong class="source-inline">Main</strong> storyboard file in the Project navigator. In the document outline, select the <strong class="bold">View Controller</strong> icon in the <strong class="bold">View Controller Scene</strong> presented modally by the button in the <strong class="bold">Explore View Controller Scene</strong>. Click the Library button:<div id="_idContainer182" class="IMG---Figure"><img src="image/Figure_11.01_B17469.jpg" alt="Figure 11.1: Toolbar with the Library button shown&#13;&#10;"/></div><p class="figure-caption">Figure 11.1: Toolbar with the Library button shown</p></li>
				<li>The <a id="_idIndexMarker464"/>library<a id="_idIndexMarker465"/> will appear. Type <strong class="source-inline">table</strong> into the filter field. A <strong class="bold">Table View</strong> object will appear in the results.</li>
				<li>Drag the <strong class="bold">Table View</strong> object to the view in the view controller scene:<div id="_idContainer183" class="IMG---Figure"><img src="image/Figure_11.02_B17469.jpg" alt="Figure 11.2: Library with Table View object selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.2: Library with Table View object selected</p></li>
				<li>You'll add constraints to make the table view fill the whole screen. With the table view selected, click the Add New Constraints button:<div id="_idContainer184" class="IMG---Figure"><img src="image/Figure_11.03_B17469.jpg" alt="Figure 11.3: View Controller scene with Table View selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.3: View Controller scene with Table View selected</p></li>
				<li>Type <strong class="source-inline">0</strong> into<a id="_idIndexMarker466"/> all <a id="_idIndexMarker467"/>the <strong class="bold">Spacing to nearest neighbor</strong> fields and make sure that all the pale red struts are selected (they will turn bright red). Click the <strong class="bold">Add 4 Constraints</strong> button:<div id="_idContainer185" class="IMG---Figure"><img src="image/Figure_11.04_B17469.jpg" alt="Figure 11.4: Auto Layout add new constraints pop-up dialog box&#13;&#10;"/></div><p class="figure-caption">Figure 11.4: Auto Layout add new constraints pop-up dialog box</p></li>
				<li>Verify that <a id="_idIndexMarker468"/>the<a id="_idIndexMarker469"/> table view's edges are now flush with the edges of the view in the view controller scene:</li>
			</ol>
			<div>
				<div id="_idContainer186" class="IMG---Figure">
					<img src="image/Figure_11.05_B17469.jpg" alt="Figure 11.5: View controller scene with table view filling the screen&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.5: View controller scene with table view filling the screen</p>
			<p>Build and run your app <a id="_idIndexMarker470"/>and<a id="_idIndexMarker471"/> tap the button in the section header. You'll see an empty table view in the <strong class="bold">Locations</strong> screen:</p>
			<div>
				<div id="_idContainer187" class="IMG---Figure">
					<img src="image/Figure_11.06_B17469.jpg" alt="Figure 11.6: iOS Simulator showing Explore and Locations screens&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.6: iOS Simulator showing Explore and Locations screens</p>
			<p>You'll implement the <a id="_idIndexMarker472"/>view<a id="_idIndexMarker473"/> controller for the <strong class="bold">Locations</strong> screen in <a href="B17469_15_Final_VK_ePub.xhtml#_idTextAnchor213"><em class="italic">Chapter 15</em></a>, <em class="italic">Getting Started with Table Views</em>. Eventually, this table view will display a list of restaurant locations, as shown in the app tour. As you can see, this process is similar to adding a collection view to the <strong class="bold">Explore</strong> screen, which you did in the previous chapter. </p>
			<p>In the next section, you'll add a view controller scene to your storyboard to represent the <strong class="bold">Restaurant List</strong> screen.</p>
			<h1 id="_idParaDest-171"><a id="_idTextAnchor174"/>Implementing the Restaurant List screen</h1>
			<p>As can be <a id="_idIndexMarker474"/>seen in the app tour in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a><em class="italic">, Setting Up the User Interface</em>, once you've set a location and tapped a cuisine in the <strong class="bold">Explore</strong> screen, the <strong class="bold">Restaurant List </strong>screen will appear, showing a list of restaurants.</p>
			<p>To implement the <strong class="bold">Restaurant List</strong> screen, you'll add a new view controller scene to your storyboard and add a collection view to the view in this scene. You'll also add a new Cocoa Touch Class file, declare and define the <strong class="source-inline">RestaurantListViewController</strong> class, make it the view controller for the view controller scene's view, and connect the outlets of the collection view to this class. The steps are very similar to the one you followed in the previous chapter for the <strong class="source-inline">ExploreViewController</strong> class.</p>
			<p>Let's start by adding the new view controller scene. Follow these steps:</p>
			<ol>
				<li value="1">In the <strong class="source-inline">Main</strong> storyboard file, move the navigation controller scene and view controller scene that you added in the previous chapter upward to make room for the new view controller scene that you will add:<div id="_idContainer188" class="IMG---Figure"><img src="image/Figure_11.07_B17469.jpg" alt="Figure 11.7: Editing area showing Main storyboard file contents&#13;&#10;"/></div><p class="figure-caption">Figure 11.7: Editing area showing Main storyboard file contents</p></li>
				<li>Click the Library button and type <strong class="source-inline">view con</strong> into the filter field. A <strong class="bold">View Controller</strong> object will be in the results. Drag the <strong class="bold">View Controller</strong> object into the storyboard to represent the <strong class="bold">Restaurant List</strong> screen:<div id="_idContainer189" class="IMG---Figure"><img src="image/Figure_11.08_B17469.jpg" alt="Figure 11.8: Library with View Controller object selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.8: Library with View Controller object selected</p></li>
				<li>Click the <a id="_idIndexMarker475"/>Library button and type <strong class="source-inline">collec</strong> into the filter field. A <strong class="bold">Collection View</strong> object will be in the results. Drag the <strong class="bold">Collection View</strong> object to the view in the view controller scene:<div id="_idContainer190" class="IMG---Figure"><img src="image/Figure_11.09_B17469.jpg" alt="Figure 11.9: Library with Collection View object selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.9: Library with Collection View object selected</p></li>
				<li>You'll add <a id="_idIndexMarker476"/>constraints to make the collection view fill the whole screen. With the collection view selected, click the Add New Constraints button:<div id="_idContainer191" class="IMG---Figure"><img src="image/Figure_11.10_B17469.jpg" alt="Figure 11.10: View controller scene with collection view selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.10: View controller scene with collection view selected</p></li>
				<li>Type <strong class="source-inline">0</strong> into all <a id="_idIndexMarker477"/>the <strong class="bold">Spacing to nearest neighbor</strong> fields and make sure that all the pale red struts are selected (they will turn bright red). Click the <strong class="bold">Add 4 Constraints </strong>button. Verify that the edges of the collection view are now flush with the edges of the view in the view controller scene:</li>
			</ol>
			<div>
				<div id="_idContainer192" class="IMG---Figure">
					<img src="image/Figure_11.11_B17469.jpg" alt="Figure 11.11: View controller scene with collection view filling the screen&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.11: View controller scene with collection view filling the screen</p>
			<p>The view controller scene for the <strong class="bold">Restaurant List</strong> screen has been added, but it does not have a <a id="_idIndexMarker478"/>view controller yet. You'll need one to make it display a collection view cell. In the next section, you'll add a new Cocoa Touch Class file to your app so that you can declare and define a new view controller class for this screen.</p>
			<h2 id="_idParaDest-172"><a id="_idTextAnchor175"/>Declaring the RestaurantListViewController class</h2>
			<p>As you<a id="_idIndexMarker479"/> did in the previous chapter, you'll add <a id="_idIndexMarker480"/>a new Cocoa Touch Class file to your project, but this time, you'll implement the <strong class="source-inline">RestaurantListViewController</strong> class. You'll use an instance of this class as the view controller for the <strong class="bold">Restaurant List</strong> screen. Follow these steps:</p>
			<ol>
				<li value="1">Click the Navigator and Inspector buttons to turn on the Navigator and Inspector areas.</li>
				<li>Right-click on the <strong class="source-inline">LetsEat</strong> group and choose <strong class="bold">New Group</strong> from the pop-up menu.</li>
				<li>Name this new group <strong class="source-inline">Restaurants</strong>. If you make a mistake, click the name and press <em class="italic">Return</em> on your keyboard to make it editable again.</li>
				<li>Right-click the <strong class="source-inline">Restaurants</strong> group and select <strong class="bold">New File...</strong>.</li>
				<li><strong class="bold">iOS</strong> should<a id="_idIndexMarker481"/> already be selected. Select <strong class="bold">Cocoa Touch Class</strong> and<a id="_idIndexMarker482"/> click <strong class="bold">Next</strong>.</li>
				<li>The <strong class="bold">Choose options for your new file</strong> screen will appear. Type the following into the <strong class="bold">Class</strong> and <strong class="bold">Subclass of</strong> fields:<p><strong class="bold">Class</strong>: <strong class="source-inline">RestaurantListViewController</strong></p><p><strong class="bold">Subclass of</strong>: <strong class="source-inline">UIViewController</strong></p><p>Click <strong class="bold">Next</strong> when you're done.</p></li>
				<li>On the next screen, click <strong class="bold">Create</strong>.</li>
				<li>The <strong class="source-inline">RestaurantListViewController</strong> file has been added to the project, and you will see the boilerplate code for the <strong class="source-inline">RestaurantListViewController </strong>class in it. The <strong class="source-inline">RestaurantListViewController</strong> class is a subclass of the <strong class="source-inline">UIViewController</strong> class and contains a single method, <strong class="source-inline">viewDidLoad()</strong>. Like you did in the previous chapter, remove the commented code after the <strong class="source-inline">viewDidLoad()</strong> class in the <strong class="source-inline">RestaurantListViewController</strong> class until only the code shown in the following screenshot remains:</li>
			</ol>
			<div>
				<div id="_idContainer193" class="IMG---Figure">
					<img src="image/Figure_11.12_B17469.jpg" alt="Figure 11.12: Editing area showing RestaurantListViewController file's contents&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.12: Editing area showing RestaurantListViewController file's contents</p>
			<p>As you did before for the <strong class="bold">Explore</strong> screen, you'll make the <strong class="source-inline">RestaurantListViewController</strong> class the view controller for the view in the view controller scene and adopt the collection view data source and delegate protocols. You'll also add<a id="_idIndexMarker483"/> an outlet for the collection view <a id="_idIndexMarker484"/>manually in the class definition and use the Connections inspector to connect the outlet to the collection view in the storyboard. You'll do this in the next section.</p>
			<h2 id="_idParaDest-173"><a id="_idTextAnchor176"/>Adopting the delegate and data source protocols</h2>
			<p>You <a id="_idIndexMarker485"/>will <a id="_idIndexMarker486"/>modify the <strong class="source-inline">RestaurantListViewController</strong> class to make it conform to the <strong class="source-inline">UICollectionViewDataSource</strong> and <strong class="source-inline">UICollectionViewDelegate</strong> protocols and add any required protocol methods. You'll also add an outlet for the collection view and make an instance of the <strong class="source-inline">RestaurantListViewController</strong> class the view controller for the view. Follow these steps:</p>
			<ol>
				<li value="1">Modify the <strong class="source-inline">RestaurantListViewController</strong> class declaration as shown to make it adopt the <strong class="source-inline">UICollectionViewDataSource</strong> and <strong class="source-inline">UICollectionViewDelegate</strong> protocols:<p class="source-code">class RestaurantListViewController: UIViewController<strong class="bold">, UICollectionViewDataSource, UICollectionViewDelegate </strong>{</p></li>
				<li>When the error icon appears, click it.</li>
				<li>You'll see this error because the methods required to conform to the protocols you added are not present in the class definition. Click the <strong class="bold">Fix</strong> button to add stubs for the required methods to your class definition.</li>
				<li>Verify <a id="_idIndexMarker487"/>that <a id="_idIndexMarker488"/>the method stubs have been added to the file. Rearrange everything so that the stubs are after the <strong class="source-inline">viewDidLoad()</strong> method:<div id="_idContainer194" class="IMG---Figure"><img src="image/Figure_11.13_B17469.jpg" alt="Figure 11.13: Editing area showing UICollectionViewDataSource method stubs&#13;&#10;"/></div><p class="figure-caption">Figure 11.13: Editing area showing UICollectionViewDataSource method stubs</p></li>
				<li>Modify the <a id="_idIndexMarker489"/>method<a id="_idIndexMarker490"/> stubs as shown to make the collection view display a single collection view cell on the screen when the app is run:<p class="source-code">func collectionView(_ collectionView: UICollectionView, numberOfItemsInSection section: Int) -&gt; Int {</p><p class="source-code">   <strong class="bold">1</strong></p><p class="source-code">}</p><p class="source-code">func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -&gt; UICollectionViewCell</p><p class="source-code">{</p><p class="source-code"><strong class="bold">   collectionView.dequeueReusableCell(</strong></p><p class="source-code"><strong class="bold">   withReuseIdentifier: "restaurantCell",</strong></p><p class="source-code"><strong class="bold">   for: indexPath)</strong></p><p class="source-code">}</p></li>
				<li>Verify <a id="_idIndexMarker491"/>that <a id="_idIndexMarker492"/>your code looks like this:<div id="_idContainer195" class="IMG---Figure"><img src="image/Figure_11.14_B17469.jpg" alt="Figure 11.14: Editing area showing code to display a single cell&#13;&#10;"/></div><p class="figure-caption">Figure 11.14: Editing area showing code to display a single cell</p></li>
				<li>Add an outlet, <strong class="source-inline">collectionView</strong>, just after the class declaration:<p class="source-code">@IBOutlet var collectionView: UICollectionView!</p><p>You will link this to the collection view in the storyboard later.</p></li>
				<li>Verify that your code looks like this:<div id="_idContainer196" class="IMG---Figure"><img src="image/Figure_11.15_B17469.jpg" alt="Figure 11.15: Editing area showing collectionView outlet&#13;&#10;"/></div><p class="figure-caption">Figure 11.15: Editing area showing collectionView outlet</p><p>You won't be<a id="_idIndexMarker493"/> using<a id="_idIndexMarker494"/> the assistant editor to link the outlet to the collection view, like you did in the previous chapter. This is a matter of personal preference—you are free to choose whichever method suits you best.</p></li>
				<li>Click the <strong class="source-inline">Main</strong> storyboard file and click the <strong class="bold">View Controller</strong> icon of the newly added <strong class="bold">View Controller Scene</strong> in the document outline. Click the Identity inspector button:<div id="_idContainer197" class="IMG---Figure"><img src="image/Figure_11.16_B17469.jpg" alt="Figure 11.16: Identity inspector selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.16: Identity inspector selected</p></li>
				<li>To make an instance of the <strong class="source-inline">RestaurantListViewController</strong> class the view controller for this scene, select <strong class="source-inline">RestaurantListViewController</strong> in the <strong class="bold">Class</strong> field:<div id="_idContainer198" class="IMG---Figure"><img src="image/Figure_11.17_B17469.jpg" alt="Figure 11.17: Identity inspector with Class set to RestaurantListViewController&#13;&#10;"/></div><p class="figure-caption">Figure 11.17: Identity inspector with Class set to RestaurantListViewController</p><p>Note that<a id="_idIndexMarker495"/> the <a id="_idIndexMarker496"/>name of the view controller scene has changed to <strong class="bold">Restaurant List View Controller Scene</strong>.</p></li>
				<li>Click the Connections inspector button. To assign the collection view in the <strong class="bold">Restaurant List View Controller Scene</strong> to the outlet in the <strong class="source-inline">RestaurantListViewController</strong> class definition, drag from the circle next to the <strong class="source-inline">collectionView</strong> outlet to the collection view in the <strong class="bold">Restaurant List View Controller Scene</strong>:<div id="_idContainer199" class="IMG---Figure"><img src="image/Figure_11.18_B17469.jpg" alt="Figure 11.18: Editing area showing collection view to be connected&#13;&#10;"/></div><p class="figure-caption">Figure 11.18: Editing area showing collection view to be connected</p></li>
				<li>Verify that<a id="_idIndexMarker497"/> the <a id="_idIndexMarker498"/>collection view in the <strong class="bold">Restaurant List View Controller Scene</strong> and the <strong class="source-inline">collectionView</strong> outlet in the <strong class="source-inline">RestaurantListViewController</strong> class definition are now connected:<div id="_idContainer200" class="IMG---Figure"><img src="image/Figure_11.19_B17469.jpg" alt="Figure 11.19: Connections inspector showing collectionView outlet&#13;&#10;"/></div><p class="figure-caption">Figure 11.19: Connections inspector showing collectionView outlet</p></li>
				<li>Click the <strong class="bold">Collection View</strong> in the document outline and click the Connections inspector. To make an instance of the <strong class="source-inline">RestaurantListViewController</strong> class the data source and delegate object for the collection view, drag from the circles next to the <strong class="source-inline">dataSource</strong> and <strong class="source-inline">delegate</strong> outlets to the <strong class="bold">Restaurant List View Controller</strong> icon in the document outline:<div id="_idContainer201" class="IMG---Figure"><img src="image/Figure_11.20_B17469.jpg" alt="Figure 11.20: Connections inspector selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.20: Connections inspector selected</p></li>
				<li>Verify <a id="_idIndexMarker499"/>that <a id="_idIndexMarker500"/>the <strong class="source-inline">dataSource</strong> and <strong class="source-inline">delegate</strong> outlets are now connected:<div id="_idContainer202" class="IMG---Figure"><img src="image/Figure_11.21_B17469.jpg" alt="Figure 11.21: Connections inspector with dataSource and delegate outlets set&#13;&#10;"/></div><p class="figure-caption">Figure 11.21: Connections inspector with dataSource and delegate outlets set</p></li>
				<li>Click the <strong class="bold">Collection View Cell</strong> in the document outline. Click the Attributes inspector<a id="_idIndexMarker501"/> button<a id="_idIndexMarker502"/> to set the identifier and color of the collection view cell (you'll learn more about identifiers in <a href="B17469_13_Final_VK_ePub.xhtml#_idTextAnchor194"><em class="italic">Chapter 13</em></a>, <em class="italic">Getting Started with MVC and Collection Views</em>):<div id="_idContainer203" class="IMG---Figure"><img src="image/Figure_11.22_B17469.jpg" alt="Figure 11.22: Attributes inspector selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.22: Attributes inspector selected</p></li>
				<li>Set the <strong class="bold">Identifier</strong> of the collection view cell to <strong class="source-inline">restaurantCell</strong> and set the <strong class="bold">Background</strong> color to <strong class="source-inline">Light Gray Color</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer204" class="IMG---Figure">
					<img src="image/Figure_11.23_B17469.jpg" alt="Figure 11.23: Attributes inspector with identifier and background color set&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.23: Attributes inspector with identifier and background color set</p>
			<p>The <strong class="bold">Restaurant List View Controller Scene</strong> setup <a id="_idIndexMarker503"/>is <a id="_idIndexMarker504"/>now complete. Now, you need to display this screen when a cell in the <strong class="bold">Explore</strong> screen is tapped. To do this, you will add a segue between the <strong class="bold">Explore</strong> screen and the <strong class="bold">Restaurant List</strong> screen in the next section.</p>
			<h2 id="_idParaDest-174"><a id="_idTextAnchor177"/>Presenting the Restaurant List screen</h2>
			<p>In the previous<a id="_idIndexMarker505"/> chapter, you added a segue to make the <strong class="bold">Locations</strong> screen appear when a button in the <strong class="bold">Explore</strong> screen is tapped. To display the <strong class="bold">Restaurant List</strong> screen when a cell in the <strong class="bold">Explore</strong> screen is tapped, you'll use a segue as well. Follow these steps:</p>
			<ol>
				<li value="1">Click <strong class="bold">Explore View Controller Scene</strong> in the document outline. <em class="italic">Ctrl + Drag</em> from <strong class="source-inline">exploreCell</strong> in the document outline to the <strong class="bold">Restaurant List View Controller Scene</strong> to add a segue between them:<div id="_idContainer205" class="IMG---Figure"><img src="image/Figure_11.24_B17469.jpg" alt="Figure 11.24: Document outline showing exploreCell&#13;&#10;"/></div><p class="figure-caption">Figure 11.24: Document outline showing exploreCell</p></li>
				<li>The <strong class="bold">Segue</strong> menu will appear. Choose <strong class="bold">Show</strong> from the menu:</li>
			</ol>
			<div>
				<div id="_idContainer206" class="IMG---Figure">
					<img src="image/Figure_11.25_B17469.jpg" alt="Figure 11.25: Segue pop-up menu with Show selected&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.25: Segue pop-up menu with Show selected</p>
			<p>This makes<a id="_idIndexMarker506"/> the <strong class="bold">Restaurant List</strong> screen slide in from the right when a cell in the <strong class="bold">Explore</strong> screen is tapped. A <strong class="bold">&lt;Back</strong> button will appear in the navigation bar.</p>
			<p>Build and run your app. In the <strong class="bold">Explore</strong> screen, tap a cell. You should see the <strong class="bold">Restaurant List</strong> screen appear with a collection view containing a single cell inside it. Tapping the <strong class="bold">&lt;Back</strong> button in the navigation bar will dismiss the <strong class="bold">Restaurant List</strong> screen:</p>
			<div>
				<div id="_idContainer207" class="IMG---Figure">
					<img src="image/Figure_11.26_B17469.jpg" alt="Figure 11.26: iOS Simulator showing Explore and Restaurant List screens&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.26: iOS Simulator showing Explore and Restaurant List screens</p>
			<p>The<a id="_idIndexMarker507"/> implementation of the <strong class="bold">Restaurant List</strong> screen is now complete, and you can navigate from the <strong class="bold">Explore</strong> screen to the <strong class="bold">Restaurant List</strong> screen and back. Eventually, the collection view in this screen will display a list of restaurants at a particular location, as shown in the app tour. Great! The next thing you will do is add a view controller scene to represent the <strong class="bold">Restaurant Detail</strong> screen. This screen will be displayed when a cell in the <strong class="bold">Restaurant List </strong>screen is tapped. You'll do this in the next section.</p>
			<h1 id="_idParaDest-175"><a id="_idTextAnchor178"/>Implementing the Restaurant Detail screen</h1>
			<p>As shown <a id="_idIndexMarker508"/>in the app tour in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a><em class="italic">, Setting Up the User Interface</em>, when you tap a restaurant in the <strong class="bold">Restaurant List</strong> screen, a <strong class="bold">Restaurant Detail</strong> screen containing the details of that restaurant will appear. Tapping the <strong class="bold">Add Review</strong> button will display the <strong class="bold">Review Form</strong> screen where you can add reviews and tapping the <strong class="bold">Add Photo</strong> button will display the <strong class="bold">Photo Filter</strong> screen where you can add photos and apply filters to them.</p>
			<p>In this section, you'll add a new table view controller scene to your storyboard to represent the <strong class="bold">Restaurant Detail</strong> screen and add a second view controller scene to represent the <strong class="bold">Review Form</strong> screen. You'll place a button in one of the table view cells to present the <strong class="bold">Review Form</strong> screen.</p>
			<p>Let's start by adding the new view controller scene. Follow these steps:</p>
			<ol>
				<li value="1">Click the Library button, type <strong class="source-inline">table</strong> in the filter field, and drag a <strong class="bold">Table View Controller </strong>object to the storyboard next to the <strong class="bold">Restaurant List View Controller Scene</strong>:<div id="_idContainer208" class="IMG---Figure"><img src="image/Figure_11.27_B17469.jpg" alt="Figure 11.27: Library with Table View Controller object selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.27: Library with Table View Controller object selected</p><p>This will represent the <strong class="bold">Restaurant Detail</strong> screen.</p></li>
				<li>Verify that the <strong class="bold">Table View Controller Scene</strong> has been added:<div id="_idContainer209" class="IMG---Figure"><img src="image/Figure_11.28_B17469.jpg" alt="Figure 11.28: Editing area showing table view controller scene next to Restaurant List View Controller Scene&#13;&#10;"/></div><p class="figure-caption">Figure 11.28: Editing area showing table view controller scene next to Restaurant List View Controller Scene</p><p>Note that it <a id="_idIndexMarker509"/>already has a table view inside it, so you don't need to add a table view to the scene, like you did in the previous section.</p></li>
				<li>To display the <strong class="bold">Restaurant Detail</strong> screen when a cell in the <strong class="bold">Restaurant List</strong> screen  is tapped, <em class="italic">Ctrl + Drag</em> from <strong class="source-inline">restaurantCell</strong> (in the document outline under the <strong class="bold">Restaurant List View Controller Scene</strong>) to the table view to add a segue between them:<div id="_idContainer210" class="IMG---Figure"><img src="image/Figure_11.29_B17469.jpg" alt="Figure 11.29: Document outline with restaurantCell selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.29: Document outline with restaurantCell selected</p></li>
				<li>Select <strong class="bold">Show</strong> from<a id="_idIndexMarker510"/> the <strong class="bold">Segue</strong> menu. This makes the <strong class="bold">Restaurant Detail</strong> screen slide in from the right when a cell in the <strong class="bold">Restaurant List</strong> screen is tapped. A <strong class="bold">&lt;Back</strong> button will appear in the navigation bar.</li>
				<li>Verify that a segue has appeared between the two scenes:<div id="_idContainer211" class="IMG---Figure"><img src="image/Figure_11.30_B17469.jpg" alt="Figure 11.30: Editing area showing segue between Restaurant List View Controller Scene and the table view controller scene&#13;&#10;"/></div><p class="figure-caption">Figure 11.30: Editing area showing segue between Restaurant List View Controller Scene and the table view controller scene</p></li>
				<li>The <strong class="bold">Restaurant Detail</strong> screen <a id="_idIndexMarker511"/>always displays a fixed number of cells. In the document outline, click <strong class="bold">Table View</strong> under <strong class="bold">Table View Controller Scene</strong> and click the Attributes inspector button:<div id="_idContainer212" class="IMG---Figure"><img src="image/Figure_11.31_B17469.jpg" alt="Figure 11.31: Attributes inspector selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.31: Attributes inspector selected</p></li>
				<li>Set <strong class="bold">Content</strong> to <strong class="bold">Static Cells</strong> to <a id="_idIndexMarker512"/>make the <strong class="bold">Restaurant Detail</strong> screen display a fixed number of cells:</li>
			</ol>
			<div>
				<div id="_idContainer213" class="IMG---Figure">
					<img src="image/Figure_11.32_B17469.jpg" alt="Figure 11.32: Attributes inspector with Content set to Static Cells&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.32: Attributes inspector with Content set to Static Cells</p>
			<p>You're doing this<a id="_idIndexMarker513"/> because the <strong class="bold">Restaurant Detail</strong> screen always uses the same number of cells to display restaurant details. </p>
			<p>Build and run your app. Click on a cell in the <strong class="bold">Explore</strong> screen to display the <strong class="bold">Restaurant List </strong>screen. Then, click on a cell in the <strong class="bold">Restaurant List</strong> screen to display the <strong class="bold">Restaurant Detail</strong> screen:</p>
			<div>
				<div id="_idContainer214" class="IMG---Figure">
					<img src="image/Figure_11.33_B17469.jpg" alt="Figure 11.33: iOS simulator showing Restaurant Detail screen&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.33: iOS simulator showing Restaurant Detail screen</p>
			<p>Click the <strong class="bold">Back</strong> button to go back.</p>
			<p>In the next<a id="_idIndexMarker514"/> section, you will implement a button inside one of the table view cells to display a screen that represents the <strong class="bold">Review Form</strong> screen.</p>
			<h2 id="_idParaDest-176"><a id="_idTextAnchor179"/>Implementing the Review Form screen</h2>
			<p>In this section, you <a id="_idIndexMarker515"/>will implement a new view controller scene to represent the <strong class="bold">Review Form</strong> screen and configure a button in the <strong class="bold">Restaurant Detail</strong> screen to display it. Follow these steps:</p>
			<ol>
				<li value="1">You need a button in the <strong class="bold">Restaurant Detail</strong> screen to display the <strong class="bold">Review Form </strong>screen when tapped. Click the Library button and type <strong class="source-inline">button</strong> into the filter field. A <strong class="bold">Button </strong>object appears as one of the results. Drag it to the top static cell in the table view controller scene representing the <strong class="bold">Restaurant Detail</strong> screen:<div id="_idContainer215" class="IMG---Figure"><img src="image/Figure_11.34_B17469.jpg" alt="Figure 11.34: Library with Button object selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.34: Library with Button object selected</p></li>
				<li>Position it on the right-hand side of the cell:<div id="_idContainer216" class="IMG---Figure"><img src="image/Figure_11.35_B17469.jpg" alt="Figure 11.35: Editing area showing table view controller scene with button&#13;&#10;"/></div><p class="figure-caption">Figure 11.35: Editing area showing table view controller scene with button</p></li>
				<li>Click the Library<a id="_idIndexMarker516"/> button and type <strong class="source-inline">view con</strong> in the filter field. A <strong class="bold">View Controller</strong> object will appear as one of the results. Drag it next to the table view controller scene to represent the <strong class="bold">Review Form</strong> screen:<div id="_idContainer217" class="IMG---Figure"><img src="image/Figure_11.36_B17469.jpg" alt="Figure 11.36: Library with View Controller object selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.36: Library with View Controller object selected</p></li>
				<li>Verify that<a id="_idIndexMarker517"/> the new view controller scene has been added:<div id="_idContainer218" class="IMG---Figure"><img src="image/Figure_11.37_B17469.jpg" alt="Figure 11.37: Editing area showing view controller scene next to table view controller scene&#13;&#10;"/></div><p class="figure-caption">Figure 11.37: Editing area showing view controller scene next to table view controller scene</p></li>
				<li>Click the<a id="_idIndexMarker518"/> Library button and type <strong class="source-inline">label</strong> in the filter field. A <strong class="bold">Label</strong> object appears as one of the results. Drag it to the center of the new view controller scene to represent a review:<div id="_idContainer219" class="IMG---Figure"><img src="image/Figure_11.38_B17469.jpg" alt="Figure 11.38: Library with Label object selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.38: Library with Label object selected</p></li>
				<li>Change the <a id="_idIndexMarker519"/>label text to <strong class="source-inline">Reviews</strong>. Click the Align button to add horizontal and vertical constraints to it:<div id="_idContainer220" class="IMG---Figure"><img src="image/Figure_11.39_B17469.jpg" alt="Figure 11.39: Editing area showing view controller scene with label&#13;&#10;"/></div><p class="figure-caption">Figure 11.39: Editing area showing view controller scene with label</p></li>
				<li>Tick<a id="_idIndexMarker520"/> the <strong class="bold">Horizontally in Container</strong> and <strong class="bold">Vertically in Container</strong> checkboxes. Click the <strong class="bold">Add 2 Constraints</strong> button. Verify the constraints have been added: <div id="_idContainer221" class="IMG---Figure"><img src="image/Figure_11.40_B17469.jpg" alt="Figure 11.40: Editing area showing label constraints set&#13;&#10;"/></div><p class="figure-caption">Figure 11.40: Editing area showing label constraints set</p><p>These constraints<a id="_idIndexMarker521"/> ensure that the <strong class="bold">Reviews</strong> label will always be in the middle of the screen when the app is run, regardless of orientation or screen size.</p></li>
				<li><em class="italic">Ctrl + Drag</em> from the button in the table view cell to the newly added view controller scene and select <strong class="bold">Show</strong> from the pop-up menu. This makes the <strong class="bold">Review Form</strong> screen appear when the button is tapped:</li>
			</ol>
			<div>
				<div id="_idContainer222" class="IMG---Figure">
					<img src="image/Figure_11.41_B17469.jpg" alt="Figure 11.41: Segue pop-up menu with Show selected&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.41: Segue pop-up menu with Show selected</p>
			<p>Build and run your <a id="_idIndexMarker522"/>app. Click on a cell in the <strong class="bold">Explore</strong> screen, then click on a cell in the <strong class="bold">Restaurant List</strong> screen. Click the button in the <strong class="bold">Restaurant Detail</strong> screen to display the <strong class="bold">Review Form</strong> screen:</p>
			<div>
				<div id="_idContainer223" class="IMG---Figure">
					<img src="image/Figure_11.42_B17469.jpg" alt="Figure 11.42: iOS simulator showing Review Form screen&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.42: iOS simulator showing Review Form screen</p>
			<p>Fantastic! All the<a id="_idIndexMarker523"/> screens that are accessible from the <strong class="bold">Explore</strong> tab, except for the <strong class="bold">Photo Filter</strong> screen, have now been implemented, with hardly any coding required! If you wish, you can repeat the steps in this section to add the <strong class="bold">Photo Filter</strong> screen. </p>
			<p>The last thing to do is make the <strong class="bold">Map</strong> screen display a map. You'll do this in the next section.</p>
			<h1 id="_idParaDest-177"><a id="_idTextAnchor180"/>Implementing the Map screen</h1>
			<p>When you<a id="_idIndexMarker524"/> launch the app, the <strong class="bold">Explore</strong> screen is displayed. Tapping the <strong class="bold">Map</strong> button in the tab bar makes the <strong class="bold">Map</strong> screen appear, but it is blank. To make the <strong class="bold">Map</strong> screen display a map, you'll add a map view to the view in the view controller scene for the <strong class="bold">Map </strong>screen. Follow these steps:</p>
			<ol>
				<li value="1">Select the view controller scene for the <strong class="bold">Map</strong> screen:<div id="_idContainer224" class="IMG---Figure"><img src="image/Figure_11.43_B17469.jpg" alt="Figure 11.43: Editing area showing view controller scene&#13;&#10;"/></div><p class="figure-caption">Figure 11.43: Editing area showing view controller scene</p></li>
				<li>To make this scene display a map, click the Library button and type <strong class="source-inline">map</strong> in the filter field. A <strong class="bold">Map Kit View</strong> object appears as one of the results. Drag it to the view in the view<a id="_idIndexMarker525"/> controller scene:<div id="_idContainer225" class="IMG---Figure"><img src="image/Figure_11.44_B17469.jpg" alt="Figure 11.44: Library with Map Kit View object selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.44: Library with Map Kit View object selected</p></li>
				<li>The map should fill the whole screen. With the map view selected, click the Add New Constraints button:<div id="_idContainer226" class="IMG---Figure"><img src="image/Figure_11.45_B17469.jpg" alt="Figure 11.45: View controller scene with map view selected&#13;&#10;"/></div><p class="figure-caption">Figure 11.45: View controller scene with map view selected</p></li>
				<li>Type <strong class="source-inline">0</strong> into<a id="_idIndexMarker526"/> all the <strong class="bold">Spacing to nearest neighbor</strong> fields and make sure that the pale red struts are selected (they will turn bright red). Click the <strong class="bold">Add 4 Constraints</strong> button. Verify that the map view fills the entire screen:</li>
			</ol>
			<div>
				<div id="_idContainer227" class="IMG---Figure">
					<img src="image/Figure_11.46_B17469.jpg" alt="Figure 11.46: View controller scene with map view filling the screen&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.46: View controller scene with map view filling the screen</p>
			<p>Build and run your <a id="_idIndexMarker527"/>app. Click the <strong class="bold">Map</strong> button. You should see a map similar to the one shown:</p>
			<div>
				<div id="_idContainer228" class="IMG---Figure">
					<img src="image/Figure_11.47_B17469.jpg" alt="Figure 11.47: iOS Simulator showing Map screen&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.47: iOS Simulator showing Map screen</p>
			<p>If you<a id="_idIndexMarker528"/> look at the <strong class="source-inline">Main</strong> storyboard file at this point, you should see something like this:</p>
			<div>
				<div id="_idContainer229" class="IMG---Figure">
					<img src="image/Figure_11.48_B17469.jpg" alt="Figure 11.48: Editing area showing all the scenes in Main storyboard file&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 11.48: Editing area showing all the scenes in Main storyboard file</p>
			<p>Verify that you have all the scenes shown in the preceding screenshot, and you can also run your app in<a id="_idIndexMarker529"/> the simulator to check that all the screens are working properly.</p>
			<p>Wonderful! You've now completed the basic user interface for your app!</p>
			<h1 id="_idParaDest-178"><a id="_idTextAnchor181"/>Summary</h1>
			<p>In this chapter, you completed the basic structure of your app. First, you added a blank table view to the <strong class="bold">Locations</strong> screen. You also added a new view controller scene to your storyboard to represent the <strong class="bold">Restaurant List</strong> screen, added and configured a collection view for this screen, and implemented a segue that displays it when a cell in the <strong class="bold">Explore</strong> screen is tapped. You added a new table view controller scene to represent the <strong class="bold">Restaurant Detail</strong> screen, configured a table view with static cells for this screen, and implemented a segue that will display this screen when a cell in the <strong class="bold">Restaurant List</strong> screen is tapped. You also added a button to one of the rows in the <strong class="bold">Restaurant Detail</strong> screen, added a table view controller scene to represent the <strong class="bold">Review Form</strong> screen, and configured the button you added to display it. Finally, you added a map view to the view controller scene for the <strong class="bold">Map</strong> screen, and it now displays a map when the <strong class="bold">Map</strong> button is tapped.</p>
			<p>You have successfully implemented all the screens required for your app, and you'll be able to test your app's flow when you run it in the simulator. You should also be more proficient with Interface Builder. You now know how to add and configure a table view to a storyboard scene, how to add segues between scenes and how to add a map view to a scene. This will be useful as you implement your own apps that contain table views, use segues to navigate between different screens, and display maps. Great!</p>
			<p>In the next chapter, you'll modify the cells inside the <strong class="bold">Explore</strong> screen, the <strong class="bold">Restaurant List</strong> screen, and the <strong class="bold">Locations</strong> screen so that they match the designs that were shown in the app tour.</p>
		</div>
	</body></html>