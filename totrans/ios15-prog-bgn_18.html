<html><head></head><body>
		<div id="_idContainer366">
			<h1 id="_idParaDest-208"><em class="italic"><a id="_idTextAnchor213"/>Chapter 15</em>: Getting Started with Table Views</h1>
			<p>In the previous chapter, you configured the <strong class="source-inline">ExploreViewController</strong> class, the view controller for the <strong class="bold">Explore</strong> screen, to display cuisine information provided by <strong class="source-inline">ExploreData.plist</strong> in a collection view.</p>
			<p>In this chapter, you'll start by learning about table views and table view controllers. You'll implement a table view programmatically (which means implementing it using code instead of storyboards) using a playground, to understand how table views work. Next, you'll create a table view controller for the <strong class="bold">Locations</strong> screen, create a <strong class="source-inline">.plist</strong> file from scratch to hold a list of locations, create a data manager class to read data from the <strong class="source-inline">.plist</strong> file, and configure the table view controller to get data from the data manager and provide it to the table view. The <strong class="bold">Locations</strong> screen will then display a list of restaurant locations.</p>
			<p>By the end of this chapter, you'll have learned how to create <strong class="source-inline">.plist</strong> files, and how to implement table view controllers. This will enable you to implement <strong class="source-inline">.plist</strong> files and table views that use <strong class="source-inline">.plist</strong> files for a data source in your own apps.</p>
			<p>The following topics will be covered in this chapter:</p>
			<ul>
				<li>Understanding table views</li>
				<li>Creating the <strong class="source-inline">LocationViewController</strong> class</li>
				<li>Adding location data for the table view</li>
				<li>Creating the <strong class="source-inline">LocationDataManager</strong> class</li>
			</ul>
			<h1 id="_idParaDest-209"><a id="_idTextAnchor214"/>Technical requirements</h1>
			<p>You will start by working in a playground, then you will continue working on the <strong class="source-inline">LetsEat</strong> project that you modified in the previous chapter.</p>
			<p>The playground and completed Xcode project for this chapter are in the <strong class="source-inline">Chapter15</strong> folder of the code bundle for this book, which can be downloaded here: </p>
			<p><a href="https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition">https://github.com/PacktPublishing/iOS-15-Programming-for-Beginners-Sixth-Edition</a></p>
			<p>Check out the following video to see the code in action:</p>
			<p><a href="https://bit.ly/3obiApY">https://bit.ly/3obiApY</a></p>
			<p>Let's begin by learning more about how a table view works by implementing a view controller that manages a table view in a playground. Create a new playground and name it <strong class="source-inline">TableViewBasics</strong>. You can type in and run all the code shown in the upcoming sections as you go along.</p>
			<h1 id="_idParaDest-210"><a id="_idTextAnchor215"/>Understanding table views</h1>
			<p>The <em class="italic">Let's Eat</em> app<a id="_idIndexMarker707"/> uses a table view in the <strong class="bold">Locations</strong> screen to display a list of restaurant locations. A table view presents table view cells using rows arranged in a single column.</p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">To learn more about table views, visit <a href="https://developer.apple.com/documentation/uikit/uitableview">https://developer.apple.com/documentation/uikit/uitableview</a>.</p>
			<p>The data displayed by a table view is normally provided by a view controller. A view controller providing data for a table view must conform to the <strong class="source-inline">UITableViewDataSource</strong> protocol. This protocol declares a list of methods that tells the table view how many cells to display and what to display in each cell.</p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">To learn more about the <strong class="source-inline">UITableViewDataSource</strong> protocol, visit <a href="https://developer.apple.com/documentation/uikit/uitableviewdatasource">https://developer.apple.com/documentation/uikit/uitableviewdatasource</a>.</p>
			<p>To provide user interaction, a view controller for a table view must also conform to the <strong class="source-inline">UITableViewDelegate</strong> protocol, which declares a list of methods which are triggered when a user interacts with the table view.</p>
			<p class="callout-heading">Important Information</p>
			<p class="callout">To learn more about the <strong class="source-inline">UITableViewDelegate</strong> protocol, visit <a href="https://developer.apple.com/documentation/uikit/uitableviewdelegate">https://developer.apple.com/documentation/uikit/uitableviewdelegate</a>.</p>
			<p>To learn how table views work, you'll implement a view controller subclass that controls a table view in your <strong class="source-inline">TableViewBasics</strong> playground. Since there is no storyboard in the playground, you can't add the UI elements using the library, as you did in the previous chapters. Instead, you will do everything programmatically. Follow these steps:</p>
			<ol>
				<li>Open your <strong class="source-inline">TableViewBasics</strong> playground that you have created at the beginning <a id="_idIndexMarker708"/>of this chapter. At the very top of the playground, remove the <strong class="source-inline">var</strong> statement and add an <strong class="source-inline">import PlaygroundSupport</strong> statement.<p>Your playground should now contain the following:</p><p class="source-code">import UIKit</p><p class="source-code"><strong class="bold">import PlaygroundSupport</strong></p><p>The first <strong class="source-inline">import</strong> statement imports the API for creating iOS apps. The second allows the playground to display a live view, which you will use to display the table view.</p></li>
				<li>Add the following code after the <strong class="source-inline">import</strong> statements to declare the <strong class="source-inline">TableViewExampleController</strong> class:<p class="source-code">class TableViewExampleController: UIViewController {</p><p class="source-code">}</p><p>This class is a subclass of <strong class="source-inline">UIViewController</strong>, a class that Apple provides to manage views on the screen.</p></li>
				<li>Add the following code inside the curly braces to declare a table view property and an array property to the <strong class="source-inline">TableViewExampleController</strong> class:<p class="source-code">class TableViewExampleController: UIViewController {</p><p class="source-code"><strong class="bold">  var tableView: UITableView?</strong></p><p class="source-code"><strong class="bold">  var names: [String] = ["Divij","Aamir","Shubham"]</strong></p><p class="source-code">}</p><p>The <strong class="source-inline">tableView</strong> property is an optional property that will be assigned a <strong class="source-inline">UITableView</strong> instance. The <strong class="source-inline">names</strong> array is the model object that will be used to provide data to the table view. </p><p>A table view<a id="_idIndexMarker709"/> displays a single column of rows on the screen, and each row contains a table view cell instance. Similar to collection views, table views need to know how many rows to display and what to put in each row. To provide this information to the table view, you will make the <strong class="source-inline">TableViewExampleController</strong> class conform to the <strong class="source-inline">UITableViewDataSourceProtocol</strong>.</p><p>This protocol has two required methods:</p><ul><li><strong class="source-inline">tableview(_:numberOfRowsInSection:)</strong> is called by the table view to determine how many table view cells to display. </li><li><strong class="source-inline">tableView(_:cellForRowAt:)</strong> is called by the table view to determine what to display in each table view cell.</li></ul></li>
			</ol>
			<p>Let's add some code to make the <strong class="source-inline">TableViewExampleController</strong> class conform to the <strong class="source-inline">UITableViewDataSource</strong> protocol. Follow these steps:</p>
			<ol>
				<li value="1">To make the <strong class="source-inline">TableViewExampleController</strong> class adopt the <strong class="source-inline">UITableViewDataSource</strong> protocol, type a comma after the superclass name and then type <strong class="source-inline">UITableViewDataSource</strong>. Your code should look like this:<p class="source-code">class TableViewExampleController: UIViewController<strong class="bold">, UITableViewDataSource</strong> {</p></li>
				<li>An error will appear because you haven't implemented the two required methods. Click the error icon:<div id="_idContainer338" class="IMG---Figure"><img src="image/Figure_15.01_B17469.jpg" alt="Figure 15.1: Editor area showing error icon&#13;&#10;"/></div><p class="figure-caption">Figure 15.1: Editor area showing error icon</p></li>
				<li>The error<a id="_idIndexMarker710"/> message that appears states that the required methods for the <strong class="source-inline">UITableViewDataSource</strong> protocol are missing. Click the <strong class="bold">Fix</strong> button to add the required method stubs to the class:<div id="_idContainer339" class="IMG---Figure"><img src="image/Figure_15.02_B17469.jpg" alt="Figure 15.2: Error explanation and Fix button&#13;&#10;"/></div><p class="figure-caption">Figure 15.2: Error explanation and Fix button</p></li>
				<li>Verify that your code looks like this:<p class="source-code">class TableViewExampleController: UIViewController,</p><p class="source-code">UITableViewDataSource {</p><p class="source-code"><strong class="bold">   func tableView(_ tableView: UITableView,</strong></p><p class="source-code"><strong class="bold">   numberOfRowsInSection section: Int) -&gt; Int {</strong></p><p class="source-code"><strong class="bold">      code</strong></p><p class="source-code"><strong class="bold">   }</strong></p><p class="source-code"><strong class="bold">   func tableView(_ tableView: UITableView,</strong></p><p class="source-code"><strong class="bold">   cellForRowAt indexPath: IndexPath) -&gt;</strong></p><p class="source-code"><strong class="bold">   UITableViewCell {</strong></p><p class="source-code"><strong class="bold">      code</strong></p><p class="source-code"><strong class="bold">   }</strong></p><p class="source-code">   var tableView: UITableView?</p><p class="source-code">   var names: [String] = ["Divij","Aamir","Shubham"]</p><p class="source-code">}</p></li>
				<li>In a class<a id="_idIndexMarker711"/> definition, convention dictates that properties are declared at the top before any method declarations. Rearrange the code so that the property declarations are at the top, as follows:<p class="source-code">class TableViewExampleController: UIViewController,</p><p class="source-code">UITableViewDataSource {</p><p class="source-code"><strong class="bold">   var tableView: UITableView?</strong></p><p class="source-code"><strong class="bold">   var names: [String] = ["Divij","Aamir","Shubham"]</strong></p><p class="source-code">   func tableView(_ tableView: UITableView, </p><p class="source-code">   numberOfRowsInSection section: Int) -&gt; Int {</p></li>
				<li>To make the table view display a row for each element inside the <strong class="source-inline">names</strong> array, click the word <strong class="source-inline">code</strong> inside the <strong class="source-inline">tableView(_:numberOfRowsInSection:)</strong> method definition and type in <strong class="source-inline">names.count</strong>. The completed method should look like this:<p class="source-code">func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {</p><p class="source-code">   <strong class="bold">names.count</strong></p><p class="source-code">}</p><p><strong class="source-inline">names.count</strong> returns the number of elements inside the <strong class="source-inline">names</strong> array. Since there are three names in it, this will make the table view display three rows.</p></li>
				<li>To make the table view display names in each cell, click the word <strong class="source-inline">code</strong> inside the <strong class="source-inline">tableView(_:cellForRowAt:)</strong> method<a id="_idIndexMarker712"/> definition and type the following:<p class="source-code">func tableView(_ tableView: UITableView, cellForRowAt </p><p class="source-code">indexPath: IndexPath) -&gt; UITableViewCell {</p><p class="source-code"><strong class="bold">   let cell = tableView.dequeueReusableCell(</strong></p><p class="source-code"><strong class="bold">   withIdentifier: "Cell", for: indexPath)</strong></p><p class="source-code"><strong class="bold">   let name = names[indexPath.row]</strong></p><p class="source-code"><strong class="bold">   cell.textLabel?.text = name </strong></p><p class="source-code"><strong class="bold">   return cell</strong></p><p class="source-code">}</p><p>Let's break this down:</p><p class="source-code">let cell = tableView.dequeueReusableCell(</p><p class="source-code">withIdentifier: "Cell", for: indexPath)</p><p>This creates a new table view cell or reuses an existing table view cell, and assigns it to <strong class="source-inline">cell</strong>. Imagine you have 1,000 items to display in a table view. You don't need 1,000 rows containing 1,000 table view cells—you only need just enough to fill the screen. Table view cells that scroll off the top of the screen can be reused to display items that appear at the bottom of the screen. To make sure you are using the right type of cell, you set the reuse identifier to <strong class="source-inline">Cell</strong>. This reuse identifier will be registered with the table view later.</p><p class="source-code">let name = names[indexPath.row]</p><p>The <strong class="source-inline">indexPath</strong> value locates the row in the table view. The first row has an <strong class="source-inline">indexPath</strong> containing section <strong class="source-inline">0</strong> and row <strong class="source-inline">0</strong>. <strong class="source-inline">indexPath.row</strong> returns <strong class="source-inline">0</strong> for the first row, so <strong class="source-inline">name</strong> is assigned the first element in the <strong class="source-inline">names</strong> array.</p><p class="source-code">cell.textLabel?.text = name</p><p>This assigns <strong class="source-inline">name</strong> to the <strong class="source-inline">text</strong> property of the table view cell's <strong class="source-inline">textLabel</strong>.</p><p class="source-code">return cell</p><p>This returns the table view cell, which is then displayed on the screen.</p><p>This method is executed for each row in the table view.</p></li>
				<li>Verify that<a id="_idIndexMarker713"/> your <strong class="source-inline">TableViewExampleController</strong> class looks like this:<p class="source-code">class TableViewExampleController: UIViewController, </p><p class="source-code">UITableViewDataSource {</p><p class="source-code">   var tableView: UITableView?</p><p class="source-code">   var names: [String] = ["Divij","Aamir","Shubham"]</p><p class="source-code">   func tableView(_ tableView: UITableView, </p><p class="source-code">   numberOfRowsInSection section: Int) -&gt; Int {</p><p class="source-code">      names.count</p><p class="source-code">   }</p><p class="source-code">   func tableView(_ tableView: UITableView,</p><p class="source-code">   cellForRowAt indexPath: IndexPath) -&gt;</p><p class="source-code">   UITableViewCell {</p><p class="source-code">      let cell = tableView.dequeueReusableCell(</p><p class="source-code">      withIdentifier: "Cell", for:indexPath) </p><p class="source-code">      let name = names[indexPath.row]</p><p class="source-code">      cell.textLabel?.text = name </p><p class="source-code">      return cell</p><p class="source-code">   }</p><p class="source-code">}</p></li>
			</ol>
			<p>You have completed the implementation of the <strong class="source-inline">TableViewExampleController</strong> class. Now you will write a method, <strong class="source-inline">createTableView()</strong>, to create an instance of it. Type in the following code after the property declarations to declare and define the <strong class="source-inline">createTableView()</strong> method:</p>
			<p class="source-code">func createTableView() {</p>
			<p class="source-code">   self.tableView = UITableView(frame: CGRect(x: 0, y: 0,</p>
			<p class="source-code">   width: self.view.frame.width, </p>
			<p class="source-code">   height: self.view.frame.height)) </p>
			<p class="source-code">   self.tableView?.dataSource = self </p>
			<p class="source-code">   self.tableView?.backgroundColor = .white </p>
			<p class="source-code">   self.tableView?.register(UITableViewCell.self,</p>
			<p class="source-code">   forCellReuseIdentifier: "Cell")</p>
			<p class="source-code">   self.view.addSubview(self.tableView!)</p>
			<p class="source-code">}</p>
			<p>Let's break <a id="_idIndexMarker714"/>this down:</p>
			<p class="source-code">self.tableView = UITableView(frame: CGRect(x: 0, y: 0, width: self.view.frame.width, height: self.view.frame.height))</p>
			<p>This creates a new instance of <strong class="source-inline">UITableView</strong> that is exactly the same size as its enclosing view, and assigns it to <strong class="source-inline">tableView</strong>.</p>
			<p class="source-code">self.tableView?.dataSource = self</p>
			<p>This tells the table view that its data source is an instance of <strong class="source-inline">TableViewExampleController</strong>. </p>
			<p class="source-code">self.tableView?.backgroundColor = .white</p>
			<p>This sets the table view's background color to white.</p>
			<p class="source-code">self.tableView?.register(UITableViewCell.self, forCellReuseIdentifier: "Cell")</p>
			<p>This sets the reuse identifier for the table view cells to <strong class="source-inline">"Cell"</strong>. This reuse identifier will be used in the <strong class="source-inline">tableView(_:cellForRowAt:)</strong> method to identify the cells that can be reused.</p>
			<p class="source-code">self.view.addSubview(self.tableView!)</p>
			<p>This adds the table view as a subview to the view of the <strong class="source-inline">TableViewExampleController</strong> instance.</p>
			<p>Now you have to call this method. The <strong class="source-inline">UIViewController</strong> class has a method, <strong class="source-inline">viewDidLoad()</strong>, that is called when its view is loaded. This method is inherited by the <strong class="source-inline">TableViewExampleController</strong> class, and you'll override it to call <strong class="source-inline">createTableView()</strong>. Follow these steps:</p>
			<ol>
				<li value="1">Type in the<a id="_idIndexMarker715"/> following code, before the <strong class="source-inline">createTableView()</strong> method:<p class="source-code">override func viewDidLoad() { </p><p class="source-code">   super.viewDidLoad() </p><p class="source-code">   self.view.bounds = CGRect(x: 0, y: 0, </p><p class="source-code">   width: 375, height: 667)</p><p class="source-code">   createTableView()</p><p class="source-code">}</p><p>This sets the size of the live view, creates a table view and adds it as a subview to the view of the <strong class="source-inline">TableViewExampleController</strong> instance. The data source methods are then used to determine how many table view cells to display, as well as what to put in each table view cell. <strong class="source-inline">tableView(_:numberOfRowsInSection:)</strong> returns <strong class="source-inline">3</strong>, so three rows are displayed. <strong class="source-inline">tableView(_:cellForRowAt:)</strong> sets the text of each cell to the corresponding name in the <strong class="source-inline">names</strong> array.</p></li>
				<li> Verify that your<a id="_idIndexMarker716"/> completed code looks like this:<p class="source-code">import UIKit</p><p class="source-code">import PlaygroundSupport</p><p class="source-code">class TableViewExampleController: UIViewController, </p><p class="source-code">UITableViewDataSource {</p><p class="source-code">   var tableView: UITableView?</p><p class="source-code">   var names: [String] = ["Divij","Aamir","Shubham"]</p><p class="source-code">   override func viewDidLoad() { </p><p class="source-code">      super.viewDidLoad() </p><p class="source-code">      self.view.bounds = CGRect(x: 0, y: 0, </p><p class="source-code">      width: 375, height: 667)</p><p class="source-code">      createTableView()</p><p class="source-code">   }</p><p class="source-code">   func createTableView() {</p><p class="source-code">      self.tableView = UITableView(frame: CGRect(x: 0,</p><p class="source-code">      y: 0, width: self.view.frame.width, height: </p><p class="source-code">      self.view.frame.height)) </p><p class="source-code">      self.tableView?.dataSource = self </p><p class="source-code">      self.tableView?.backgroundColor = .white</p><p class="source-code">      self.tableView?.register(UITableViewCell.self, </p><p class="source-code">      forCellReuseIdentifier: "Cell")</p><p class="source-code">      self.view.addSubview(self.tableView!)</p><p class="source-code">   }</p><p class="source-code">   func tableView(_ tableView: UITableView, </p><p class="source-code">   numberOfRowsInSection section: Int) -&gt; Int {</p><p class="source-code">      names.count</p><p class="source-code">   }</p><p class="source-code">   func tableView(_ tableView: UITableView,</p><p class="source-code">   cellForRowAt indexPath: IndexPath) -&gt;</p><p class="source-code">   UITableViewCell {</p><p class="source-code">      let cell = tableView.dequeueReusableCell(</p><p class="source-code">      withIdentifier: "Cell", for:indexPath)</p><p class="source-code">      let name = names[indexPath.row]</p><p class="source-code">      cell.textLabel?.text = name </p><p class="source-code">      return cell</p><p class="source-code">   }</p><p class="source-code">}</p></li>
				<li>Type the following<a id="_idIndexMarker717"/> after all the other code in the playground:<p class="source-code">PlaygroundPage.current.liveView = TableViewExampleController()</p><p>This command creates an instance of <strong class="source-inline">TableViewExampleController</strong> and displays its view in the playground's live view.</p></li>
				<li>Run the playground. If you don't see the table view, click the Adjust Editor Options button:<div id="_idContainer340" class="IMG---Figure"><img src="image/Figure_15.03_B17469.jpg" alt="Figure 15.3: Adjust Editor Options button&#13;&#10;"/></div><p class="figure-caption">Figure 15.3: Adjust Editor Options button</p></li>
				<li>Make<a id="_idIndexMarker718"/> sure <strong class="bold">Live View</strong> is selected from the pop-up menu:<div id="_idContainer341" class="IMG---Figure"><img src="image/Figure_15.04_B17469.jpg" alt="Figure 15.4: Adjust Editor Options menu with Live View selected&#13;&#10;"/></div><p class="figure-caption">Figure 15.4: Adjust Editor Options menu with Live View selected</p></li>
				<li>You will see the <a id="_idIndexMarker719"/>table view displaying a table with three rows containing names, as shown:</li>
			</ol>
			<div>
				<div id="_idContainer342" class="IMG---Figure">
					<img src="image/Figure_15.05_B17469.jpg" alt="Figure 15.5: Playground Live View showing table view with names&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 15.5: Playground Live View showing table view with names</p>
			<p>Great! Now that you know how table views work, let's complete the implementation for the <strong class="bold">Locations</strong> screen. You'll start by creating a view controller for this screen in the next section, so that<a id="_idIndexMarker720"/> it can manage what the table view will display.</p>
			<h1 id="_idParaDest-211"><a id="_idTextAnchor216"/>Creating the LocationViewController class</h1>
			<p>As shown in the <a id="_idIndexMarker721"/>app tour in <a href="B17469_09_Final_VK_ePub.xhtml#_idTextAnchor133"><em class="italic">Chapter 9</em></a>, <em class="italic">Setting Up the User Interface</em>, the <strong class="bold">Locations </strong>screen displays a list of locations in a table view. At the end of <a href="B17469_12_Final_VK_ePub.xhtml#_idTextAnchor182"><em class="italic">Chapter 12</em></a>, <em class="italic">Modifying and Configuring Cells</em>, you configured the <strong class="bold">Locations</strong> screen to display a table view and set the identifier of the table view cells to <strong class="source-inline">locationCell</strong>. Referring to the <strong class="bold">Model-View-Controller</strong> (<strong class="bold">MVC</strong>) design pattern, you<a id="_idIndexMarker722"/> have completed the required views, but you haven't completed the controller or the model yet.</p>
			<p>At the moment, when you click the <strong class="bold">LOCATION</strong> button in the <strong class="bold">Explore</strong> screen, an empty table view is displayed:</p>
			<div>
				<div id="_idContainer343" class="IMG---Figure">
					<img src="image/Figure_15.06_B17469.jpg" alt="Figure 15.6: iOS Simulator showing Locations screen from your app&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 15.6: iOS Simulator showing Locations screen from your app</p>
			<p>You will create <a id="_idIndexMarker723"/>the <strong class="source-inline">LocationViewController</strong> class as the view controller for the <strong class="bold">Locations</strong> screen, add an outlet for the table view to it, and configure it as the table view's data source and delegate. Follow these steps:</p>
			<ol>
				<li value="1">Open your <strong class="source-inline">LetsEat</strong> project from the previous chapter. Create a new folder, <strong class="source-inline">Location</strong>, inside your project by right-clicking the <strong class="source-inline">LetsEat</strong> folder and choosing <strong class="bold">New Group</strong>. Create two more folders, <strong class="source-inline">View</strong> and <strong class="source-inline">Model</strong>, inside the <strong class="source-inline">Location</strong> folder. When you're done, you will see the following folder structure:<div id="_idContainer344" class="IMG---Figure"><img src="image/Figure_15.07_B17469.jpg" alt="Figure 15.7: Project navigator showing Location folder and subfolders&#13;&#10;"/></div><p class="figure-caption">Figure 15.7: Project navigator showing Location folder and subfolders</p></li>
				<li>Right-click <a id="_idIndexMarker724"/>on the <strong class="source-inline">Location</strong> folder and select <strong class="bold">New File</strong>.</li>
				<li><strong class="bold">iOS</strong> should already be selected. Choose <strong class="bold">Cocoa Touch Class</strong> and click <strong class="bold">Next</strong>.</li>
				<li>Configure the class with the following details:<p><strong class="bold">Class</strong>: <strong class="source-inline">LocationViewController</strong></p><p><strong class="bold">Subclass</strong>: <strong class="source-inline">UIViewController </strong></p><p><strong class="bold">Also create XIB</strong>: <strong class="source-inline">Unchecked</strong> </p><p><strong class="bold">Language</strong>: <strong class="source-inline">Swift</strong></p><p>Click <strong class="bold">Next</strong>.</p></li>
				<li>Click <strong class="bold">Create</strong>. The <strong class="source-inline">LocationViewController</strong> file appears in the Project navigator.</li>
			</ol>
			<p>The <strong class="source-inline">LocationViewController</strong> file has been created, with the <strong class="source-inline">LocationViewController</strong> class declaration inside it. Now you'll set the identity of the view controller scene that's presented when you tap the <strong class="bold">LOCATION</strong> button to this class. Follow these steps:</p>
			<ol>
				<li value="1">Open the <strong class="source-inline">Main</strong> storyboard file in the Project navigator.</li>
				<li>Choose the <a id="_idIndexMarker725"/>view controller scene that's presented when you click on the <strong class="bold">LOCATION</strong> button (it's the one with <strong class="bold">Cancel</strong> and <strong class="bold">Done</strong> buttons). Click the Identity inspector button and, under <strong class="bold">Custom Class</strong>, set <strong class="bold">Class</strong> to <strong class="source-inline">LocationViewController</strong>. Note the name of the scene will change to <strong class="bold">Location View Controller Scene</strong>:</li>
			</ol>
			<div>
				<div id="_idContainer345" class="IMG---Figure">
					<img src="image/Figure_15.08_B17469.jpg" alt="Figure 15.8: Identity inspector settings for Location View Controller Scene&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 15.8: Identity inspector settings for Location View Controller Scene</p>
			<p>Cool! In the next section, let's connect the table view to an outlet in the <strong class="source-inline">LocationViewController</strong> class. By doing this, the <strong class="source-inline">LocationViewController</strong> instance <a id="_idIndexMarker726"/>for the <strong class="bold">Locations</strong> screen will be able to manage the table view.</p>
			<h2 id="_idParaDest-212"><a id="_idTextAnchor217"/>Connecting the table view to the LocationViewController class</h2>
			<p>Currently, the <strong class="source-inline">LocationViewController</strong> instance <a id="_idIndexMarker727"/>for <a id="_idIndexMarker728"/>the <strong class="bold">Locations</strong> screen has no way of communicating with the table view in it. You'll create a new outlet in the <strong class="source-inline">LocationViewController</strong> class and assign the table view to it. Follow these steps:</p>
			<ol>
				<li value="1">Click the Navigator and Inspector buttons to hide the Navigator and Inspector areas, if necessary.</li>
				<li>Click the Adjust Editor Options button and choose <strong class="bold">Assistant</strong> from the menu.</li>
				<li>In the <strong class="source-inline">Main</strong> storyboard file, click the table view in the document outline. The assistant editor should be set to <strong class="bold">Automatic &gt; LocationViewController.swift</strong> as shown:<p class="figure-caption"> </p><div id="_idContainer346" class="IMG---Figure"><img src="image/Figure_15.09_B17469.jpg" alt="Figure 15.9: Assistant editor bar showing LocationViewController.swift&#13;&#10;"/></div><p class="figure-caption">Figure 15.9: Assistant editor bar showing LocationViewController.swift</p></li>
				<li><em class="italic">Ctrl + Drag</em> from <strong class="bold">Table View</strong> to<a id="_idIndexMarker729"/> the <a id="_idIndexMarker730"/>space just above <strong class="source-inline">viewDidLoad()</strong>:<p class="figure-caption"> </p><div id="_idContainer347" class="IMG---Figure"><img src="image/Figure_15.10_B17469.jpg" alt="Figure 15.10: Editor area showing LocationViewController file contents&#13;&#10;"/></div><p class="figure-caption">Figure 15.10: Editor area showing LocationViewController file contents</p></li>
				<li>In the pop-up menu, enter <strong class="source-inline">tableView</strong> in the <strong class="bold">Name</strong> field and click <strong class="bold">Connect</strong>:<div id="_idContainer348" class="IMG---Figure"><img src="image/Figure_15.11_B17469.jpg" alt="Figure 15.11: Pop-up dialog box for tableView outlet creation&#13;&#10;"/></div><p class="figure-caption">Figure 15.11: Pop-up dialog box for tableView outlet creation</p></li>
				<li>Verify <a id="_idIndexMarker731"/>the <strong class="source-inline">tableView</strong> outlet<a id="_idIndexMarker732"/> has been added to the <strong class="source-inline">LocationViewController</strong> class and connected to the table view in the storyboard:<div id="_idContainer349" class="IMG---Figure"><img src="image/Figure_15.12_B17469.jpg" alt="Figure 15.12: Editor area showing LocationViewController file contents&#13;&#10;"/></div><p class="figure-caption">Figure 15.12: Editor area showing LocationViewController file contents</p></li>
				<li> Click the <strong class="bold">x</strong> button to close the assistant editor:</li>
			</ol>
			<div>
				<div id="_idContainer350" class="IMG---Figure">
					<img src="image/Figure_15.13_B17469.jpg" alt="Figure 15.13: Assistant editor close button&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 15.13: Assistant editor close button</p>
			<p>You've connected the table view to an outlet in the <strong class="source-inline">LocationViewController</strong> class. In order for a table view to display data and respond to user interaction, the <strong class="source-inline">LocationViewController</strong> class has to conform to the <strong class="source-inline">UITableViewDataSource</strong> and <strong class="source-inline">UITableViewDelegate</strong> protocols and implement <a id="_idIndexMarker733"/>the <a id="_idIndexMarker734"/>required methods. You will do that in the next section.</p>
			<h2 id="_idParaDest-213"><a id="_idTextAnchor218"/>Adding the data source and delegate methods</h2>
			<p>A view<a id="_idIndexMarker735"/> controller for a table view has to<a id="_idIndexMarker736"/> adopt the <strong class="source-inline">UITableViewDataSource</strong> and <strong class="source-inline">UITableViewDelegate</strong> protocols, as well as implement the required methods to allow data display and user interaction. In this section, you'll connect <strong class="source-inline">LocationViewController</strong> to the table view's <strong class="source-inline">dataSource</strong> and <strong class="source-inline">delegate</strong> outlets and implement the required data source methods. You will implement delegate methods in <a href="B17469_17_Final_VK_ePub.xhtml#_idTextAnchor248"><em class="italic">Chapter 17</em></a><em class="italic">, Getting Started with JSON Files</em>. Follow these steps:</p>
			<ol>
				<li value="1">Click the Navigator and Inspector buttons to show the Navigator and Inspector areas, if necessary. </li>
				<li>In the <strong class="source-inline">Main</strong> storyboard file, make sure you have the table view selected in the document outline. Click the Connections inspector button. Click and drag from the <strong class="source-inline">dataSource</strong> and <strong class="source-inline">delegate</strong> outlets to the <strong class="source-inline">LocationViewController</strong> icon in the document outline:<div id="_idContainer351" class="IMG---Figure"><img src="image/Figure_15.14_B17469.jpg" alt="Figure 15.14: Connections Inspector showing outlets for the LocationViewController class&#13;&#10;"/></div><p class="figure-caption">Figure 15.14: Connections Inspector showing outlets for the LocationViewController class</p><p>This<a id="_idIndexMarker737"/> connects<a id="_idIndexMarker738"/> the table view to outlets to the <strong class="source-inline">LocationViewController</strong> class.</p></li>
				<li>Verify the <strong class="source-inline">dataSource</strong> and <strong class="source-inline">delegate</strong> properties of the table view have been connected to outlets in the <strong class="source-inline">LocationViewController</strong> class:</li>
			</ol>
			<div>
				<div id="_idContainer352" class="IMG---Figure">
					<img src="image/Figure_15.15_B17469.jpg" alt="Figure 15.15: Connections Inspector with datasource and delegate outlets set&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 15.15: Connections Inspector with datasource and delegate outlets set</p>
			<p>Next, you will make <strong class="source-inline">LocationViewController</strong> conform to the <strong class="source-inline">UITableViewDataSource</strong> protocol and implement the required methods for this protocol. Follow these steps:</p>
			<ol>
				<li value="1">Click the <strong class="source-inline">LocationViewController</strong> file in the Project navigator and remove all the commented code in the <strong class="source-inline">LocationViewController</strong> class definition so that only the following is left:<p class="source-code">class LocationViewController: UIViewController {</p><p class="source-code">   @IBOutlet weak var tableView: UITableView!</p><p class="source-code">   override func viewDidLoad(){</p><p class="source-code">      super.viewDidLoad()</p><p class="source-code">   }</p><p class="source-code">}</p></li>
				<li>To<a id="_idIndexMarker739"/> make <strong class="source-inline">LocationViewController</strong> adopt<a id="_idIndexMarker740"/> the <strong class="source-inline">UITableViewDataSource</strong> protocol, type a comma after the superclass name, <strong class="source-inline">UIViewController</strong>, and type in <strong class="source-inline">UITableViewDataSource</strong>. When you are done, your code should look like this:<p class="source-code">class LocationViewController: UIViewController<strong class="bold">, </strong></p><p class="source-code"><strong class="bold">UITableViewDataSource</strong> {</p></li>
				<li>An error will appear because you haven't implemented the two required methods yet. Click the error icon to see the error message:<div id="_idContainer353" class="IMG---Figure"><img src="image/Figure_15.16_B17469.jpg" alt="Figure 15.16: Editor area showing error icon&#13;&#10;"/></div><p class="figure-caption">Figure 15.16: Editor area showing error icon</p></li>
				<li>Click the <strong class="bold">Fix</strong> button to add the required method stubs to the class:<div id="_idContainer354" class="IMG---Figure"><img src="image/Figure_15.17_B17469.jpg" alt="Figure 15.17: Error explanation and Fix button&#13;&#10;"/></div><p class="figure-caption">Figure 15.17: Error explanation and Fix button</p></li>
				<li>Rearrange the <a id="_idIndexMarker741"/>code <a id="_idIndexMarker742"/>so that the property declarations and the <strong class="source-inline">viewDidLoad()</strong> method are at the top. This follows general iOS development coding conventions and it makes your code easier to maintain. When you're done, verify that your code looks as follows:<p class="source-code">class LocationViewController: UIViewController, </p><p class="source-code">UITableViewDataSource {</p><p class="source-code">   @IBOutlet var tableView: UITableView!</p><p class="source-code">   override func viewDidLoad() {</p><p class="source-code">      super.viewDidLoad()</p><p class="source-code">   }</p><p class="source-code">   func tableView(_ tableView: UITableView,</p><p class="source-code">   numberOfRowsInSection section: Int) -&gt; Int {</p><p class="source-code">      code</p><p class="source-code">   }</p><p class="source-code">   func tableView(_ tableView: UITableView,</p><p class="source-code">   cellForRowAt indexPath: IndexPath) -&gt;</p><p class="source-code">   UITableViewCell {</p><p class="source-code">      code</p><p class="source-code">   }</p><p class="source-code">}</p></li>
				<li>Inside the first required method, click the word <strong class="source-inline">code</strong> and type <strong class="source-inline">10</strong>. This will make the table view display 10 rows. The complete method should look like this:<p class="source-code">func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {</p><p class="source-code">   <strong class="bold">10</strong></p><p class="source-code">}</p></li>
				<li>Inside<a id="_idIndexMarker743"/> the <a id="_idIndexMarker744"/>second required method, click the word <strong class="source-inline">code</strong> and type the following to make the table view display the string <strong class="source-inline">"A Cell"</strong> in each row:<p class="source-code">func tableView(_ tableView: UITableView, cellForRowAt </p><p class="source-code">indexPath: IndexPath) -&gt; UITableViewCell {</p><p class="source-code"><strong class="bold">   let cell = tableView.dequeueReusableCell(</strong></p><p class="source-code"><strong class="bold">   withIdentifier: "locationCell", for: indexPath)</strong></p><p class="source-code"><strong class="bold">   cell.textLabel?.text = "A Cell" </strong></p><p class="source-code"><strong class="bold">   return cell</strong></p><p class="source-code">}</p><p>Let's break this down:</p><p class="source-code">let cell = tableView.dequeueReusableCell(</p><p class="source-code">withIdentifier: "locationCell", for: indexPath)</p><p>This creates a new table view cell or reuses an existing table view cell with the <strong class="source-inline">locationCell</strong> identifier and assigns it to <strong class="source-inline">cell</strong>. You set this identifier in the <strong class="bold">Location View Controller Scene</strong> in the <strong class="source-inline">Main</strong> storyboard file in <a href="B17469_12_Final_VK_ePub.xhtml#_idTextAnchor182"><em class="italic">Chapter 12</em></a>, <em class="italic">Modifying and Configuring Cells</em>.</p><p class="source-code">cell.textLabel?.text = "A Cell"</p><p>This assigns a string, <strong class="source-inline">"A Cell"</strong> to the <strong class="source-inline">text</strong> property of the table view cell's <strong class="source-inline">textLabel</strong>.</p><p class="source-code">return cell</p><p>This returns <a id="_idIndexMarker745"/>the <a id="_idIndexMarker746"/>cell, which is then displayed on the screen. This process is repeated for the number of cells that are given in the first method, which, in this case, is 10.</p></li>
			</ol>
			<p>Build and run your project. Click the <strong class="bold">LOCATION</strong> button in the <strong class="bold">Explore</strong> screen. You should see the table view display 10 rows with each row containing <strong class="source-inline">A Cell</strong> as shown:</p>
			<div>
				<div id="_idContainer355" class="IMG---Figure">
					<img src="image/Figure_15.18_B17469.jpg" alt="Figure 15.18: iOS Simulator showing table view cells&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 15.18: iOS Simulator showing table view cells</p>
			<p>You have completed the implementation of the <strong class="source-inline">LocationsViewController</strong> class, and your<a id="_idIndexMarker747"/> table <a id="_idIndexMarker748"/>view is now displaying table view cells. Great! Now that your table view's view controller has been set up, let's create some model objects in the next section so that you can provide data for it.</p>
			<h1 id="_idParaDest-214"><a id="_idTextAnchor219"/>Adding location data for the table view</h1>
			<p>At this point, you <a id="_idIndexMarker749"/>have created and configured the <strong class="source-inline">LocationViewController</strong> class. An instance of this class will act as the data source for the table view in the <strong class="bold">Locations</strong> screen. The views and the controller for this screen have been set up, so now you'll create model objects to make the table view display a list of actual locations. Just like you did in the previous chapter, you'll use a <strong class="source-inline">.plist</strong> file that contains location data, but instead of using an existing <strong class="source-inline">.plist</strong> file, you'll create one from scratch and add location data to it. Follow these steps:</p>
			<ol>
				<li value="1">Right-click the <strong class="source-inline">Model</strong> folder in the <strong class="source-inline">Location</strong> folder and choose <strong class="bold">New File</strong>.</li>
				<li><strong class="bold">iOS</strong> should already be selected. Type <strong class="source-inline">proper</strong> into the filter field; <strong class="bold">Property List </strong>will appear in the window. Choose <strong class="bold">Property List</strong> and click <strong class="bold">Next</strong>.</li>
				<li>Name the file <strong class="source-inline">Locations</strong>, and click <strong class="bold">Create</strong>.</li>
			</ol>
			<p>The <strong class="source-inline">Locations.plist</strong> file has been added to the project. In the previous chapter, you've seen how <strong class="source-inline">ExploreData.plist</strong> stores data as an array of dictionaries. You will configure <strong class="source-inline">Locations.plist</strong> so that it stores data for the <strong class="bold">Locations</strong> screen in the same format, and then add all the restaurant locations to it. Follow these steps:</p>
			<ol>
				<li value="1">Click on <strong class="bold">Dictionary</strong> in <strong class="source-inline">Locations.plist</strong> and change it to <strong class="bold">Array</strong>. Note that the disclosure triangle on the left should be pointing down. Click the <strong class="bold">+</strong> button:<div id="_idContainer356" class="IMG---Figure"><img src="image/Figure_15.19_B17469.jpg" alt="Figure 15.19: Editor area showing Locations.plist contents&#13;&#10;"/></div><p class="figure-caption">Figure 15.19: Editor area showing Locations.plist contents</p></li>
				<li>A new item, <strong class="bold">Item 0</strong>, will be added to the array. Change the type to <strong class="bold">Dictionary</strong>. Click the disclosure triangle to make it point down. Click the <strong class="bold">+</strong> button:<div id="_idContainer357" class="IMG---Figure"><img src="image/Figure_15.20_B17469.jpg" alt="Figure 15.20: Locations.plist with Item 0 added&#13;&#10;"/></div><p class="figure-caption">Figure 15.20: Locations.plist with Item 0 added</p></li>
				<li>A new <a id="_idIndexMarker750"/>item, <strong class="bold">New Item</strong>, will be added to the <strong class="bold">Item 0</strong> dictionary. Click the <strong class="bold">+</strong> button:<div id="_idContainer358" class="IMG---Figure"><img src="image/Figure_15.21_B17469.jpg" alt="Figure 15.21: Locations.plist with New item added&#13;&#10;"/></div><p class="figure-caption">Figure 15.21: Locations.plist with New item added</p></li>
				<li>A second item will be added to the <strong class="bold">Item 0</strong> dictionary. For the first item, change the key to <strong class="source-inline">city</strong> and the value to <strong class="source-inline">Aspen</strong>. For the second item, change the key to <strong class="source-inline">state</strong> and the value to <strong class="source-inline">CO</strong>:<div id="_idContainer359" class="IMG---Figure"><img src="image/Figure_15.22_B17469.jpg" alt="Figure 15.22: Locations.plist with city and state added to Item 0&#13;&#10;"/></div><p class="figure-caption">Figure 15.22: Locations.plist with city and state added to Item 0</p></li>
				<li>Click the disclosure triangle next to the <strong class="bold">Item 0</strong> dictionary to collapse it:<div id="_idContainer360" class="IMG---Figure"><img src="image/Figure_15.23_B17469.jpg" alt="Figure 15.23: Locations.plist with Item 0 collapsed&#13;&#10;"/></div><p class="figure-caption">Figure 15.23: Locations.plist with Item 0 collapsed</p></li>
				<li>Select <strong class="bold">Item 0</strong> and<a id="_idIndexMarker751"/> press <em class="italic">Command + C</em> on the keyboard to copy it and <em class="italic">Command + V</em> to paste. You will see a new item, <strong class="bold">Item 1</strong>:<div id="_idContainer361" class="IMG---Figure"><img src="image/Figure_15.24_B17469.jpg" alt="Figure 15.24: Locations.plist with Item 0 copied and pasted&#13;&#10;"/></div><p class="figure-caption">Figure 15.24: Locations.plist with Item 0 copied and pasted</p></li>
				<li>Click the disclosure triangle next to the <strong class="bold">Item 1</strong> dictionary to expand it. Change the city to <strong class="source-inline">Boston</strong> and the state to <strong class="source-inline">MA</strong>:<div id="_idContainer362" class="IMG---Figure"><img src="image/Figure_15.25_B17469.jpg" alt="Figure 15.25: Locations.plist with Item 1 configured&#13;&#10;"/></div><p class="figure-caption">Figure 15.25: Locations.plist with Item 1 configured</p></li>
				<li>Continue<a id="_idIndexMarker752"/> with the same process by adding the following cities and states:</li>
			</ol>
			<div>
				<div id="_idContainer363" class="IMG---Figure">
					<img src="image/Figure_15.26_B17469.jpg" alt=""/>
				</div>
			</div>
			<p>The completed <strong class="source-inline">.plist</strong> file should look like this:</p>
			<div>
				<div id="_idContainer364" class="IMG---Figure">
					<img src="image/Figure_15.27_B17469.jpg" alt="Figure 15.26: Locations.plist completed&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 15.26: Locations.plist completed</p>
			<p>The <strong class="source-inline">Locations.plist</strong> file is complete. In the next section, you will create a data manager class, similar to the one you made in the previous chapter, that will read the <strong class="source-inline">Locations.plist</strong> file and <a id="_idIndexMarker753"/>provide it to the <strong class="source-inline">LocationViewController</strong> instance for the <strong class="bold">Locations</strong> screen.</p>
			<h1 id="_idParaDest-215"><a id="_idTextAnchor220"/>Creating the LocationDataManager class</h1>
			<p>As what you've<a id="_idIndexMarker754"/> done in the previous chapter, you'll create a data manager class to load the location data from <strong class="source-inline">Locations.plist</strong> and provide it to the <strong class="source-inline">LocationsViewController</strong> instance for the <strong class="bold">Locations</strong> screen. The data will then be used to populate the table view in the <strong class="bold">Locations</strong> screen. Follow these steps:</p>
			<ol>
				<li value="1">Right-click the <strong class="source-inline">Model</strong> folder in the <strong class="source-inline">Location</strong> folder and select <strong class="bold">New File</strong>.</li>
				<li><strong class="bold">iOS</strong> should already be selected. Choose <strong class="bold">Swift File</strong> and click <strong class="bold">Next</strong>.</li>
				<li>Name this file <strong class="source-inline">LocationDataManager</strong> and click <strong class="source-inline">Create</strong>.</li>
				<li>Click on the <strong class="source-inline">LocationDataManager</strong> file in the Project navigator and after the <strong class="source-inline">import</strong> statement, type in the following to declare the <strong class="source-inline">LocationDataManager</strong> class:<p class="source-code">class LocationDataManager {</p><p class="source-code">}</p></li>
				<li>Inside the curly braces, add an array property, <strong class="source-inline">locations</strong>, to hold the list of locations:<p class="source-code">private var locations: [String] = []</p><p>The <strong class="source-inline">private</strong> keyword means that the <strong class="source-inline">locations</strong> property may only be accessed by <a id="_idIndexMarker755"/>methods in this class.</p></li>
				<li>Add the following methods after the property declaration:<p class="source-code">private func loadData() -&gt; [[String: String]] {</p><p class="source-code">   let decoder = PropertyListDecoder()</p><p class="source-code">   if let path = Bundle.main.path(forResource:</p><p class="source-code">   "Locations", ofTypes: "plist"),</p><p class="source-code">   let locationsData = Filemanager.default.contents(</p><p class="source-code">   atPath: path),</p><p class="source-code">   let locations = try? decoder.decode([[String:</p><p class="source-code">   String]].self, from: locationsData) {</p><p class="source-code">      return locations</p><p class="source-code">   }</p><p class="source-code">   return [[:]]</p><p class="source-code">}</p><p class="source-code">func fetch() {</p><p class="source-code">   for location in loadData() {</p><p class="source-code">      if let city = location["city"], let</p><p class="source-code">      state = location["state"] {</p><p class="source-code">         locations.append("\(city), \(state)")</p><p class="source-code">      }</p><p class="source-code">   }</p><p class="source-code">}</p><p class="source-code">func numberOfLocationItems() -&gt; Int {</p><p class="source-code">   locations.count</p><p class="source-code">}</p><p class="source-code">func locationItem(at index: Int) -&gt; String {</p><p class="source-code">   locations[index]</p><p class="source-code">}</p><p>These methods<a id="_idIndexMarker756"/> are similar to those in <strong class="source-inline">ExploreDataManager</strong>. Let's break it down:</p><p class="source-code">loadData() </p><p>Loads the contents of <strong class="source-inline">Locations.plist</strong> and returns an array of dictionaries. Each dictionary stores the city and state of a location.</p><p class="source-code">fetch() </p><p>Takes the array provided by <strong class="source-inline">loadData()</strong>, concatenates the <strong class="source-inline">city</strong> and <strong class="source-inline">state</strong> for each element, and appends the resulting string to the <strong class="source-inline">locations</strong> array.</p><p class="source-code">numberOfLocationItems() </p><p>Returns the number of elements in the <strong class="source-inline">locations</strong> array.</p><p class="source-code">locationItem(at:) </p><p>Returns a string stored in the <strong class="source-inline">locations</strong> array at a given array index.</p></li>
			</ol>
			<p>Now that <a id="_idIndexMarker757"/>the <strong class="source-inline">LocationDataManager</strong> class is complete, let's configure the <strong class="source-inline">LocationViewController</strong> class so that it can get data from the <strong class="source-inline">LocationDataManager</strong> instance and provide it to the table view. You will do this in the next section.</p>
			<h2 id="_idParaDest-216"><a id="_idTextAnchor221"/>Displaying data in a table view</h2>
			<p>Currently, the <strong class="bold">Locations</strong> screen <a id="_idIndexMarker758"/>displays 10 cells<a id="_idIndexMarker759"/> containing the string <strong class="source-inline">"A Cell"</strong>. You will update the <strong class="source-inline">LocationViewController</strong> class to use the <strong class="source-inline">LocationDataManager</strong> instance as a data source. Follow these steps:</p>
			<ol>
				<li value="1">Click the <strong class="source-inline">LocationViewController</strong> file in the Project navigator. In the <strong class="source-inline">LocationViewController</strong> class definition before the <strong class="source-inline">viewDidLoad()</strong> method, create an instance of <strong class="source-inline">LocationDataManager</strong> and assign it to a property, <strong class="source-inline">manager</strong>, by typing the following:<p class="source-code">let manager = LocationDataManager()</p></li>
				<li>Inside the <strong class="source-inline">viewDidLoad()</strong> method, fetch the data for the table view by calling <strong class="source-inline">manager.fetch()</strong>: <p class="source-code">override func viewDidLoad() { </p><p class="source-code">   super.viewDidLoad() </p><p class="source-code">  <strong class="bold"> manager.fetch()</strong></p><p class="source-code">}</p></li>
				<li>Modify <strong class="source-inline">tableView(_:numberOfRowsInSection:)</strong> so it can get the number of rows to display in the table view from <strong class="source-inline">manager</strong>:<p class="source-code">func tableView(_ tableView: UITableView,</p><p class="source-code">numberOfRowsInSection section: Int) -&gt; Int {</p><p class="source-code">  <strong class="bold"> manager.numberOfLocationItems()</strong></p><p class="source-code">}</p></li>
				<li>Modify <strong class="source-inline">tableView(_:cellForRowAt:)</strong> as shown to make the table view display a string containing the city and state in every table view cell:<p class="source-code">func tableView(_ tableView: UITableView, cellForRowAt</p><p class="source-code">indexPath: IndexPath) -&gt; UITableViewCell {</p><p class="source-code">   let cell = tableView.dequeueReusableCell(</p><p class="source-code">   withIdentifier: "locationCell", for: indexPath)</p><p class="source-code">   cell.textLabel?.text =</p><p class="source-code">   <strong class="bold">manager.locationItem(at: indexPath.row)</strong></p><p class="source-code">   return cell</p><p class="source-code">}</p><p>This sets the <strong class="source-inline">text</strong> property of the table view cell's <strong class="source-inline">textLabel</strong> to the corresponding<a id="_idIndexMarker760"/> element<a id="_idIndexMarker761"/> in<a id="_idIndexMarker762"/> the <strong class="source-inline">locations</strong> array. The <strong class="source-inline">indexPath</strong> returns the section and row number of a particular row in a table view. For example, the first row has an <strong class="source-inline">indexPath</strong> containing section <strong class="source-inline">0</strong> and row <strong class="source-inline">0</strong>. <strong class="source-inline">indexPath.row</strong> returns <strong class="source-inline">0</strong> for the first row, so <strong class="source-inline">manager</strong> returns the string stored at index <strong class="source-inline">0</strong> in the <strong class="source-inline">locations</strong> array. This string is then assigned to the <strong class="source-inline">text</strong> property of the first table view cell's <strong class="source-inline">textLabel</strong>.</p></li>
			</ol>
			<p>Build and run your app. You should see the locations from <strong class="source-inline">ExploreData.plist</strong> displayed in the table view: </p>
			<div>
				<div id="_idContainer365" class="IMG---Figure">
					<img src="image/Figure_15.28_B17469.jpg" alt="Figure 15.27: iOS Simulator showing completed Locations screen&#13;&#10;"/>
				</div>
			</div>
			<p class="figure-caption">Figure 15.27: iOS Simulator showing completed Locations screen</p>
			<p>You've <a id="_idIndexMarker763"/>completed the implementation<a id="_idIndexMarker764"/> of the<strong class="bold"> Locations</strong> screen. Good job!</p>
			<h1 id="_idParaDest-217"><a id="_idTextAnchor222"/>Summary</h1>
			<p>In this chapter, you learned about table views and table view controllers, and you implemented a view controller for a table view in a playground. Next, you implemented the <strong class="source-inline">LocationViewController</strong> class, a table view controller for the <strong class="bold">Locations</strong> screen, and created a <strong class="source-inline">.plist</strong> file from scratch called <strong class="source-inline">Locations.plist</strong> to hold a list of locations. You created a data manager class, <strong class="source-inline">LocationDataManager</strong>, to read data from the <strong class="source-inline">.plist</strong> file. Finally, you configured the <strong class="source-inline">LocationViewController</strong> class to get data from the <strong class="source-inline">LocationDataManager</strong> instance and provide it to the table view so that the <strong class="bold">Locations</strong> screen displays a list of restaurant locations. </p>
			<p>This will enable you to create <strong class="source-inline">.plist</strong> files from scratch to store data, and to implement table views that use <strong class="source-inline">.plist</strong> files as a data source for your own apps. Awesome!</p>
			<p>In the next chapter, you will add a map view to the <strong class="bold">Map</strong> screen and configure it to display restaurant locations. You'll also set up custom annotations for the <strong class="bold">Map</strong> screen and set up the <strong class="bold">Restaurant Detail</strong> screen, which will be displayed when a button in the annotation callout is tapped.</p>
		</div>
	</body></html>