# 第3章。Xcode简介

在上一章中，我们看到了Playground工具。这是一个简单的测试代码的工具，但如果你想要真正创建一个应用程序并在设备上运行它，或者通过Mac或iOS App Store发布和分发它，你需要创建一个Xcode项目。

在本章中，我们将游览Xcode。我们将详细查看界面，创建一个非常基本的“Hello World”应用程序，并在模拟器和稍后设备上运行它。

在本章中，我们将详细介绍以下主题：

+   Xcode应用程序类型

+   Xcode界面

+   在设备上运行应用程序

# Xcode应用程序类型

Xcode提供了一些预定义的应用程序类型，用于创建特定类型的应用程序。它们是**主-详细应用程序**、**基于页面的应用程序**、**单视图应用程序**、**标签页应用程序**和**游戏**类型，如下面的截图所示。我们已经看到了**游戏**类型的内容，所以让我们看看其他类型：

![Xcode应用程序类型](img/B04014_03_01.jpg)

## 主-详细应用程序

如果你想要为iOS创建一个非常基础的应用程序类型，例如**笔记**应用程序，你应该选择这个模板，然后修改它以创建你的应用程序。有一个**主**列表（如下面的截图所示），当你点击列表上的每个项目时，它将显示列表中选定项目的详细信息。在**详细**视图的左上角有一个可定制的**主**按钮。点击它将带回到**主**屏幕：

![主-详细应用程序](img/B04014_03_02.jpg)

你可以以类似于你在第一章中创建**游戏**应用程序的方式创建项目：点击应用程序类型的图标，然后选择项目的名称、位置、捆绑ID以及你想要为应用程序创建的平台。

## 基于页面的应用程序

如果你想要创建一个类似于翻页效果的书本应用程序，你需要选择**基于页面的应用程序**模板。你可以指定书封面，然后向页面添加内容以创建翻页应用程序。你可以用手指向左滑动以翻到下一页，或者向右滑动以返回上一页。

![基于页面的应用程序](img/B04014_03_03.jpg)

## 标签页应用程序

**标签页应用程序**模板将在屏幕底部有一排按钮，点击它将显示不同的视图。**标签页应用程序**模板类似于在你的设备上打开*音乐*应用时标签页的工作方式。当音乐应用打开时，显示的标签是**播放列表**。其他标签包括**艺术家**、**歌曲**、**专辑**、**流派**、**合辑**和**作曲家**（最后一个标签）。**播放列表**标签显示你存储的播放列表，但如果你点击**艺术家**标签，它将显示按艺术家排序的歌曲列表。如果你构建默认的应用程序，你将有两个标签：**第一个**和**第二个**。点击底部的标签将打开相应的屏幕，如下所示：

![标签页应用程序](img/B04014_03_04.jpg)

## 单视图应用程序

**单视图应用程序**模板是最基本的。如果你的应用程序不符合任何之前的应用程序模板类型，那么你可以使用这个模板来创建自己的应用程序。

对于本章，我们将从基础知识开始，因此我们将创建一个单视图应用程序。点击**Xcode**以打开它，然后点击**创建一个新的Xcode项目**。在**iOS**部分，在左侧面板中选择**应用程序**。然后，选择**单视图应用程序**并创建它。

当你创建一个项目并运行它时，模拟器将打开以显示一个空白屏幕，如下面的截图所示。当我提到**单视图应用程序**模板是最基本的，我并不是在开玩笑。你将获得一个单视图控制器，没有任何按钮进行导航。这里的优势是，你将看到一些苹果已经提供的用于从头开始创建应用程序的基本类，然后你可以添加自己的项目以使其成为你的应用程序。

![单视图应用程序](img/B04014_03_05.jpg)

你应该保存这个空白项目，因为我们将在下一节介绍Xcode界面时参考它。所以请继续；命名文件并将项目保存在Mac上。

# Xcode界面

如果你正在继续上一节的内容，那么请打开上一节中创建的单视图应用程序。否则，你可以创建一个新的单视图应用程序项目。由于我们将在接下来的书中大部分时间都会查看这个窗口，让我们详细了解其布局。

打开项目，你将看到以下截图所示的窗口。**项目**视图的顶部区域被称为工具栏。工具栏下方左侧是**项目导航**面板。中间下方是**编辑器**面板，其右侧是**实用工具**面板。还有一个可能默认未打开的**调试**面板，但稍后我们将激活它：

![Xcode界面](img/B04014_03_06.jpg)

每个工具栏和面板中都有很多信息。让我们逐一查看。

## 工具栏

Xcode项目的顶部是工具栏。在左侧的最大化按钮旁边，播放和停止按钮用于运行和停止应用程序。这些按钮旁边是方案，您可以在其中选择目标应用程序和您想要运行应用程序的设备，无论是实际设备还是模拟器。

工具栏中央是活动视图。这显示了应用程序在任何给定时间的状态。当您构建项目时，它将显示构建进度，显示构建过程的各个阶段。

![工具栏](img/B04014_03_07.jpg)

在活动视图右侧，有两组三个按钮。右侧的第一组三个按钮用于根据您的需求更改**编辑器**面板：

+   **标准编辑器**：每次创建新项目时都会默认激活。此设置用于编码、调试或导航项目。我们将几乎一直使用此面板。

+   **辅助编辑器**：点击此按钮，将在**标准编辑器**右侧打开另一个面板。这被称为**辅助编辑器**。它将根据在**标准编辑器**中点击的内容提供更多信息。在以下示例中，在导航面板中，我点击了`Main.Storyboard`文件。**标准编辑器**会改变以显示文件中的对象，而**辅助编辑器**则显示与在**标准编辑器**中选择的视图控制器关联的类的内容。![工具栏](img/B04014_03_08.jpg)

+   **版本编辑器**：当选择时，**标准编辑器**再次分为两个面板，我们将能够看到和比较当前版本和之前版本代码的变化。在以下截图所示的示例中，我对`ViewController.swift`文件进行了一些更改。左侧面板中突出显示了添加的注释，右侧面板显示了这些更改在文件中的位置。当使用源代码管理进行项目时，这显然非常强大。源代码管理已包含在Xcode中，并在创建新项目时启动。![工具栏](img/B04014_03_09.jpg)

编辑器右侧的三个按钮用于隐藏和显示**导航器**、**调试**和**实用工具**面板。这些面板可以根据您的需求或方便性显示或隐藏。例如，为了获取前面的截图并获取更多屏幕空间，我通过点击最右侧的按钮隐藏了实用工具面板。

工具栏的所有内容就这些了。让我们接下来看看**导航**面板。

## 导航面板

工具栏左侧下方是**导航**面板。它有八个标签。从左到右，它们是**项目导航**、**符号**、**查找**、**问题**、**测试**、**调试**、**断点**和**报告导航器**。点击任何标签都会激活它。默认情况下，**项目导航**标签被选中。

## 项目导航标签

**项目导航** 标签显示了你在项目中的文件内容，包括代码文件和资源文件。稍后，如果你向游戏中添加框架，这些框架也将在此面板中显示，使导航更容易。正如我们之前看到的，你可以通过单击代码文件（如 `.swift` 文件）来编辑代码。在编辑器窗口中，你可以添加、删除和修改代码。如果你有图像资源文件和三维网格，这些文件也将在此处显示。通过单击图像和三维文件，你可以查看内容，但无法修改它。为此，你需要使用 Photoshop 等应用程序打开文件来编辑图像，以及使用 `Maya` 或 `3dsmax` 等应用程序来编辑三维几何形状：

![项目导航标签](img/B04014_03_10.jpg)

你可以使用文件夹（在这里称为 **组**）来组织一组文件。请注意，这只是为了在 **项目导航** 中组织文件。在 **导航** 面板中创建新的组或文件夹不会在系统项目目录中创建文件夹。

## 符号导航标签

右侧的下一个按钮是 **符号导航** 标签。你可以访问项目中的所有符号，如函数、方法、属性、类、结构体、枚举和变量。

![符号导航标签](img/B04014_03_11.jpg)

**C** 表示这是一个类，**M** 表示方法，**P** 表示属性。还有其他符号，但这些是你通常会遇到的最基本的符号。

因此，在 `AppDelegate` 类中，有六个方法和一个名为 `window` 的属性。

## 查找导航标签

**查找导航** 标签用于通过名称在项目中搜索短语或文件。在以下示例中，我正在尝试搜索术语 `UIKit`，看起来它被导入到三个类中：

![查找导航标签](img/B04014_03_12.jpg)

你也可以选择在当前评分中搜索关键字，或者创建一个新的范围在其他地方查找。此外，通过单击 **查找** 下拉箭头，你可以选择在包含、匹配、以搜索词开头或以搜索词结尾的文本上查找或替换命令。

![查找导航标签](img/B04014_03_13.jpg)

## 问题导航标签

当你的项目有构建错误时，错误和警告列表、计数和描述将在 **问题导航** 标签中显示。你可以点击列表中的条目来显示错误存在的位置和文件：

![问题导航标签](img/B04014_03_14.jpg)

在前面的例子中，我忘记在 `ViewController` 类中关闭注释部分，所以在构建项目后，我得到了一个错误，告诉我 `ViewController.swift` 中有一个未确定的 `/*` 注释。在某些情况下，错误消息可能不是很明确，但至少，你会得到一些关于可能引起错误的线索。

## 测试导航标签

如果您在项目中使用单元测试，则测试结果将在**测试导航器**选项卡中显示。单元测试是一个独立的话题，不幸的是，它超出了本书的范围。要了解更多关于单元测试的信息，您可以查看Apple官方文档，了解更多信息，请访问[https://developer.apple.com/library/ios/recipes/xcode_help-test_navigator/Recipe.html#//apple_ref/doc/uid/TP40013329-CH1-SW1](https://developer.apple.com/library/ios/recipes/xcode_help-test_navigator/Recipe.html#//apple_ref/doc/uid/TP40013329-CH1-SW1)。

![测试导航器选项卡](img/B04014_03_15.jpg)

## **调试导航器选项卡**

**调试导航器**选项卡用于调试并显示代码的优化程度。此导航器仅在应用程序运行时才处于活动状态。当应用程序在模拟器或设备上运行时，我们可以获取有关CPU、内存、磁盘和网络使用的相关信息。除了通用系统信息外，您还可以获得调用顺序的方法和函数的堆栈。点击方法和函数将在编辑器面板中打开它们。

![调试导航器选项卡](img/B04014_03_16.jpg)

运行应用程序右侧有两个按钮。左侧的第一个按钮允许您隐藏或显示仪表盘，右侧的按钮允许您选择是否要按**线程**、**队列**或**UI层次结构**查看进程。

## **断点导航器选项卡**

**断点导航器**选项卡显示了我们在项目中添加到文件的断点位置。断点的位置按类和方法显示。它还会显示添加断点的行号。

![断点导航器选项卡](img/B04014_03_17.jpg)

通过右键单击任何断点，您可以编辑、禁用、共享、删除或移动它。

## **报告导航器选项卡**

**报告导航器**选项卡显示了最近构建的历史记录和项目的日志，以及时间戳：

![报告导航器选项卡](img/B04014_03_18.jpg)

这就完成了关于**导航**面板的部分。

# **实用工具**面板

**实用工具**面板的顶部部分是上下文相关的，取决于在**导航**面板中单击了哪种类型的文件。**实用工具**面板的底部部分有四个选项卡，用于不同类型的库，以便将特定的库对象拖放到**编辑器**面板。有时，顶部部分会被面板的底部部分隐藏，但您可以拖动实用工具的底部部分来揭示其下的内容。

![实用工具面板](img/B04014_03_19.jpg)

**实用工具**面板一旦我们跳过项目并逐个查看每个文件，就会更容易理解。

# **单视图项目**

返回到**项目导航器**标签页。这是**导航**面板中从左数第一个标签。让我们看看**项目导航器**标签页中的文件。**项目导航器**标签页显示了项目根目录，以及其下的所有与项目相关的文件。让我们首先看看项目根目录。

## 项目根目录

当您点击标签页顶部的应用根时，您将看到**编辑器**面板变为显示六个标签：**通用**、**能力**、**信息**、**构建设置**、**构建阶段**和**构建规则**。大多数时候，您将关注前三个标签：**通用**、**能力**和**信息**。

### 通用

此标签页包含有关应用的基本信息。我们在[第1章](ch01.html "第1章。入门")“入门”中简要地看过它，当我们改变游戏方向时。此标签页有五个子部分，如下截图所示：

![通用](img/B04014_03_20.jpg)

上述截图包含以下部分：

+   **标识**：这显示了应用捆绑标识符、应用的版本号、应用的构建号和团队。当我们将在设备上部署应用时，我们将查看团队，因为它需要一些步骤来获取它。

+   **部署信息**：在这里，您可以选择**部署目标**的值。默认情况下，我们在这里针对的是iOS 8.1设备，但如果我们想让我们的应用与旧版本兼容，可以使用7.0。然而，我们必须确保我们没有使用任何8.1的API，否则应用将给出构建错误。我们可以选择我们想要的目标设备，无论是iPhone还是iPad，或者制作一个通用应用。主界面文件是当应用完成加载时将被调用的第一个文件。这里的文件应该有`.storyboard`扩展名，因此当应用启动时，我们在这里调用`Main.storyboard`文件。我们还可以在这里更改设备方向并选择**状态栏样式**的值，也可以通过点击复选框来隐藏状态栏。

+   **应用图标和启动图像**：这里提供了应用图标的源文件。在这里选择了`AppIcon`文件。如果您想知道这个文件在哪里，它位于`Images.xcassets`文件夹中。我们将使用这个文件为不同的iOS版本和设备分配图标。如果您想在应用启动时显示图像，您可以创建一个资产目录文件来显示不同设备和iOS版本的启动图像，类似于图标。我们还可以指定一个启动屏幕文件，在应用启动时将显示该文件。在这里，`LaunchScreen`文件将在启动时显示。`LaunchScreen`文件的文件扩展名，之前是`.nib`格式，现在应该是`.xib`格式。尽管扩展名已更改，但它们仍然被称为NIB文件。

+   **嵌入的二进制文件**：这显示了项目中嵌入的任何二进制文件。

+   **链接的框架和库**：这显示了项目中包含的框架和库列表。

### 能力选项卡

这显示了应用程序使用的Apple服务。要使用服务，您需要在右侧将其**开启**。游戏通常使用GameCenter、应用内购买和iCloud集成等云保存服务。

![能力选项卡](img/B04014_03_21.jpg)

### 信息选项卡

**信息**选项卡包含有关版本号、构建号、故事板文件基本名称（这是应用程序启动时加载的故事板文件）、应用程序名称以及其他一些信息。所有这些信息都是从`info.plist`文件中加载的，该文件位于项目的`Supporting Files`文件夹中。还有一些其他内容，如文档类型、导出的UTI、导入的UTI和URL类型，在本书的大部分内容中，你不会与之打交道。

![信息选项卡](img/B04014_03_22.jpg)

### 构建设置选项卡

**构建设置**选项卡的基本视图显示了有关部署的信息，例如目标设备、iOS版本、框架路径的位置、打包信息，例如`info.plist`文件的位置、**产品名称**、**资产目录应用图标集名称**以及其他用户定义的设置。

![构建设置选项卡](img/B04014_03_23.jpg)

通过点击**所有**选项卡而不是**基本**选项卡，可以查看更详细的信息。这将提供有关支持的架构的设置、构建的位置和选项以及代码签名的信息，这些内容将在我们准备在设备上测试应用程序并将其部署到App Store时进行介绍。它还包括有关内核模块、链接器和编译器的进一步设置和信息。

### 构建规则选项卡

**构建阶段**选项卡显示了添加的目标依赖项、源文件列表、添加的库和添加的资产资源。

![构建阶段选项卡](img/B04014_03_24.jpg)

这个选项卡相当重要，因为当你想要向项目中添加框架时，你会来到这个选项卡来包含它们。此外，有时当你遇到构建错误时，你可能想要检查是否所有必需的源文件实际上都包含在**编译源文件**列表中，因为这可能是构建错误的原因。随着项目变大，构建错误可能会出现，因为你可能删除了一些源文件。

### 构建规则选项卡

你可能永远不会需要在这里更改任何内容，因为这个选项卡主要用于当你想要以特定方式编译特定文件类型时。为了定义某种文件类型的自定义过程，你只需创建一个新的构建规则。

![构建规则选项卡](img/B04014_03_25.jpg)

现在您已经查看了项目根目录，您可以点击项目根目录旁边的三角形按钮来打开项目树，如果它还没有打开的话。

在创建的项目下，有三个组。第一个组与项目名称相同。第二个组包含项目测试文件的文件，因此它将始终包含项目名称，并以 `Tests` 后缀。第三个是 **Products** 组，包含 `.app` 文件和 `Tests` 文件。在大多数时间里，我们将处理第一个组的文件，即应用名称之后的组名。第一个文件夹是所有代码、资源和项目相关文件应该存在的地方。您可以创建类似于 `Supported Files` 文件夹的子文件夹来更好地组织项目。因此，您可以创建一个包含项目所有类的 `Classes` 文件夹，以及一个可以放置您的图片、图标和三维对象的资源文件夹。

让我们详细查看主要项目文件夹中的每个文件。

## 项目文件夹

主要项目文件夹包含 `AppDelegate.swift`、`ViewController.swift`、`Main.Storyboard`、`Images.xcassets` 和 `LaunchScreen.xib` 文件；以及 `Supported Files` 文件夹。

一旦我们打开 `AppDelegate.swift` 文件，我们会看到 `AppDelegate` 类继承自 `UIResponder` 和 `UIApplicationDelegate` 类。这两个类都是 UIKit 的组成部分。UIKit 框架是最重要的，因为它是创建和管理任何 iOS 应用所必需的。此框架提供了基本元素，如窗口和视图的创建。

`UIResponder` 类负责处理事件，例如检测触摸和运动事件。对于触摸事件，它有 `touchesBegan`、`touchesMoved`、`touchesEnded` 和 `touchesCancelled`，当手指触摸屏幕时会被调用。有三个运动事件：`motionBegan`、`motionEnded` 和 `motionCancelled`：

+   `UIApplicationDelegate`: 这是一个 `UIResponder` 的子类，它会在应用的生命周期中响应事件。`AppDelegate` 类中的函数来自 `UIApplicationDelegate`，当这些函数被应用触发时，将会被调用。

+   `applicationdidFinishLaunchingWithOptions`: 当应用完成启动时，会调用此函数。当应用启动时，它返回 `true`。

+   `applicationWillResignActive`: 当应用刚刚变为非活动状态并即将进入后台时，会调用此方法。当你接听电话或按下主页按钮切换应用时，会触发此方法。它用于禁用计时器或暂停任何更新功能。

+   `applicationDidEnterBackground`: 当应用进入后台并且不再活跃时，此函数会被调用。如果应用即将被终止，您可以保存用户分数并使应用准备就绪。

+   `applicationWillEnterForeground`：一旦后台运行的应用程序被选中并即将再次激活，此函数将被调用。由于用户没有终止应用程序，您可以在此处恢复到之前的状态。

+   `applicationDidBecomeActive`：现在应用程序再次完全激活，因此您可以恢复游戏并取消暂停和恢复更新函数。

+   `applicationWillTerminate`：这是在应用程序完全终止之前将被调用的最后一个函数，因此您可能想要保存游戏并释放所有对象。

有一个可选变量被创建，称为 window，它是 UIWindow 类型。每个创建的应用程序都在一个窗口内部，这个窗口变量将提供对当前窗口的访问。如果需要，您可以将当前窗口分配给此变量以访问当前运行窗口的属性，例如窗口的大小。

在我们查看 `ViewController.swift` 之前，您需要了解 `Main.Storyboard`，因为 `ViewController.swift` 类是通过 `Main.StoryBoard` 调用的。

`Main.storyboard` 文件在应用程序完成启动后自动调用。这是 Xcode 通过标准协议自动完成的，因此您在 `AppDelegate` 类的 `applicationDidFinishLaunching` 函数中看不到它被调用。我们已经在项目根的 **常规** 选项卡中调用了它。现在让我们详细查看该文件并了解它做了什么。为此，您需要了解 iOS 中的故事板是什么：

![项目文件夹](img/B04014_03_26.jpg)

故事板是 iOS 接口构建器或 UIToolkit 的一部分。它用于创建用户界面而无需编写任何代码。您可以在您的应用程序中添加按钮、文本或滑块。此外，通过点击按钮，您可以通过在当前视图和下一个视图之间创建链接来使应用程序更改视图。您可以通过创建此类视图的链来为您的应用程序创建屏幕流程。

每个故事板都需要一个 ViewController 来启动应用程序。ViewController 类似于屏幕，是应用程序构建块。您将链接故事板中的 ViewController 来开发您想要的任何应用程序的屏幕。

ViewController 与自定义类 `ViewController.swift` 文件相关联。这可以通过点击 **实用工具** 面板中的 **身份检查器**（从左数第三个标签）来在 **实用工具** 面板中看到。在自定义类中，在 `class` 字段中指定了 `ViewController` 类。我们将在稍后详细介绍 **实用工具** 面板。 

![项目文件夹](img/B04014_03_27.jpg)

如果您看不到 ViewController 树，您可以点击 **编辑器** 面板左下角的小方块图标来打开它。**视图控制器场景** 包含 **视图控制器**、**第一响应者** 和 **退出**。

![项目文件夹](img/B04014_03_28.jpg)

通过点击ViewController旁边的三角形，你会看到它包含三个更多项：**顶部布局指南**、**底部布局指南**和**视图**。顶部和底部布局显示了视图的顶部和底部端点。顶部从电池指示图标开始，底部在视图底部结束。这些更像是指南，让你知道你需要在此范围内工作的限制。**视图**项是用户在ViewController打开时将能够看到的整个区域。

**第一响应者**项是你在ViewController中首先与之交互的对象。这将向UIResponder发送消息。每次你点击按钮、与滑块交互或输入文本字段时，**第一响应者**会提供关于你当时正在与之交互的信息。因此，如果你点击按钮，响应者会立即知道你正在点击按钮。

退出用于当你想要将用户发送到不同的ViewController时。这可以是用户从其中来到当前场景的先前ViewController，或者可以是其他ViewController。在这个阶段，只要你能理解ViewController是什么，这并不那么重要。

我们已经看到`ViewController.swift`是通过`.storyboard`文件中的`ViewController`对象被调用的。在`ViewController.swift`文件中，有两个函数：一个是`ViewDidLoad`，另一个是`didReceiveMemoryWarning`。在`.storyboard`文件中，我们看到`ViewController`包含视图。当视图被创建时，`ViewDidLoad`函数会被调用。这意味着ViewController可以显示视图中的任何内容，并且它准备好应对用户可能对视图进行的任何交互。

当这种情况发生时，`didReceiveMemoryWarning`函数会被调用。这个函数会在你有太多应用程序打开在设备上，或者如果你的程序没有释放它之前创建的对象时被调用。后者不应该有问题，因为Swift有自己的垃圾回收，所以你只需要担心释放内存。

`Images.xcasstes`将包含项目的所有图像资源。到目前为止，里面唯一的文件是`AppIcon`集合。在这个文件中，显示了不同iOS版本和分辨率的图标图像，并带有占位符。

这里是创建的游戏*pizZapMania*的图标集的示例。每个集合下面提到的值是基本尺寸。左上角第一个图标的基线是29点，因此为了创建iOS 5和6的图标，我们需要两个图标：一个**1x**，意味着29 x 29像素，另一个是这个尺寸的两倍。类似地，还需要为特定设备提到的所有基值和乘数创建图标。

![项目文件夹](img/B04014_03_29.jpg)

当查看项目根的**常规**选项卡时，我们发现`LaunchScreen.xib`文件在应用启动时被调用。那么这个XIB文件是什么？

![项目文件夹](img/B04014_03_30.jpg)

XIB文件被称为NIB文件（就像`.xib`之前是`.nib`一样）或NeXTSTEP界面构建器。到目前为止，这个文件是基于XML的，`n`被替换为`x`，但它仍然被称为NIB文件。所以，当有人提到NIB文件时，他们指的是XIB文件。根据Apple的说法，故事板是前进的方向，因为它们支持多个视图控制器，而`.xib`文件只能有一个。由于在这种情况下，应用程序和启动屏幕都使用单个视图控制器，所以它们是相同的。

在创建项目时，`Launchscreen.xib`文件默认添加了两个标签。第一个标签是应用名称，放置在视图的中心，另一个放置在视图底部以显示版权信息。点击任意文本，可以看到**实用工具**面板像圣诞树一样亮起。让我们最后看看**实用工具**面板。

## 实用工具面板（Redux）

**实用工具**面板的上半部分包含六个检查器选项卡，下半部分有四个库选项卡。让我们首先逐一查看检查器选项卡。

### 检查器选项卡

让我们从最左边的选项卡开始，即**文件检查器**选项卡，然后我们将查看**快速帮助检查器**、**身份检查器**、**属性检查器**、**大小检查器**和**连接检查器**选项卡。需要记住的主要选项卡是**属性检查器**。我们只需快速浏览其他选项卡。

#### 文件检查器选项卡

**文件检查器**选项卡提供了关于当前对象所附加的父文件的信息。在这里，标签附加到`LaunchScreen.xib`文件上，位于Mac上的`Base.lproj`目录中。

![文件检查器选项卡](img/B04014_03_31.jpg)

它显示了可以打开它的Xcode版本、构建目标版本以及文档支持的iOS版本。它还提供了有关**源控制**的详细信息，例如仓库名称、类型和分支。

#### 快速帮助检查器选项卡

**快速帮助检查器**选项卡提供了所选项目的简要描述、功能和能力。在这里，由于我们选择了标签，它显示了标签的父类，即`UILabel`。它还提供了其他详细信息，例如**可用性**，它告诉我们哪些iOS版本支持此功能。

![快速帮助检查器选项卡](img/B04014_03_32.jpg)

#### 身份检查器选项卡

**身份检查器**选项卡有助于为任何对象分配和管理元数据，在这种情况下将是选中的文本标签。它还显示了附加到其上的自定义类。在这里，它期望一个继承自`UILabel`类的类。

![身份检查器选项卡](img/B04014_03_33.jpg)

#### 属性检查器选项卡

这就是您可以编辑所选对象属性的地方。因此，在这里，我们可以更改外观、颜色、位置、搜索和文本——就像我们可以在一个Word文档的页面中做的那样。

![属性检查器选项卡](img/B04014_03_34.jpg)

#### 大小检查器选项卡

**大小检查器**选项卡可以帮助您定位对象，设置对象的大小，并添加约束以进一步帮助正确定位对象。

![大小检查器选项卡](img/B04014_03_35.jpg)

#### 连接检查器选项卡

如前所述，我们可以连接ViewControllers以创建屏幕流程，并从ViewController切换到下一个。在**连接检查器**选项卡中，我们可以看到哪些对象连接到了哪些出口。

![连接检查器选项卡](img/B04014_03_36.jpg)

### 库

该库包含四个选项卡：**文件模板**、**代码片段**、**对象**和**媒体库**。

#### 文件模板选项卡

如果您想创建一个新文件，您可以通过导航到**文件** | **新建**，或者简单地将所需的文件类型拖放到项目导航器中。

![文件模板选项卡](img/B04014_03_37.jpg)

在这里，如果我们想的话，可以将**Swift文件**模板拖入我们的项目，一旦我们释放鼠标左键，Xcode将要求我们保存文件。然后我们可以重命名文件，并且它将被包含在项目中。

#### 代码片段库选项卡

这些包含可以拖放到文件中以避免重复工作的代码块集合。

![代码片段库选项卡](img/B04014_03_38.jpg)

#### 对象库选项卡

在对象库中，您有预定义的对象，如**文本**、**标签**和**按钮**，可以将它们拖放到ViewController中。

![对象库选项卡](img/B04014_03_39.jpg)

#### 媒体库选项卡

此选项卡包含您添加到库中并拖放到应用程序中的所有媒体，如**电影**、**音频**和**图像**。目前尚未添加任何媒体，因此此选项卡为空。

![媒体库选项卡](img/B04014_03_40.jpg)

这就完成了关于**实用工具**面板的部分。现在我们已经涵盖了其他文件并查看了**实用工具**面板，让我们看看项目层次结构中的最后一个文件夹。

`Supported Files`文件夹/组中只包含一个`info.plist`文件，它包含有关应用程序的所有必要信息。它将包含有关应用程序名称、捆绑名称、应用程序版本号以及其他基本信息的详细信息，并将传递给Xcode。大多数情况下，我们只有在将已上架的应用程序更新上传到商店时才会修改此文件，并且我们希望最新构建的版本号为1.1而不是1.0。我们将在最后一章中发布应用程序到App Store时介绍这一点。

## 调试面板

还有另一个我们还没有介绍的面板，那就是**调试**面板。可以通过点击工具栏右侧、**实用工具**面板左侧的三个按钮中间的按钮来激活它。一旦点击，就会打开以下截图所示的面板。您可以再次点击它来隐藏它。

![调试面板](img/B04014_03_41.jpg)

**调试**面板或区域有两个子部分。左侧是**变量**视图，右侧是**控制台**。您使用`println`函数记录的任何内容都会在这里显示。例如，在ViewController类的`viewDidLoad`函数中，我记录了以下内容：

[PRE0]

当我运行应用程序时，控制台弹出了消息。所以，类似于我们在playground中记录信息的方式，我们可以在Xcode中这样做，但为了看到它，显然您需要运行应用程序——与playground不同。

现在我们有了这个很棒的应用，我们可以看看如何在设备上运行它。

# 在设备上运行应用

所有这些时间，我们都在模拟器上运行应用。在模拟器上运行应用相对容易——选择要运行应用的模拟器，点击播放按钮，就这样！然而，要在设备上运行应用，您需要执行几个步骤。

首先，我们需要获取**开发者**证书并安装它。因此，前往[iOS开发者门户](https://developer.apple.com)，点击**会员中心**，并输入我们在[第1章](ch01.html "第1章。入门")中创建的登录名和密码，*入门*：

1.  在**开发者计划资源**下，点击**证书、标识符和配置文件**。![在设备上运行应用](img/B04014_03_42.jpg)

1.  在**iOS应用**下，点击**证书**。![在设备上运行应用](img/B04014_03_43.jpg)

1.  在**证书**下，点击**开发**。在右上角，点击搜索按钮旁边的**+**号。![在设备上运行应用](img/B04014_03_44.jpg)

1.  然后，页面加载完成后，点击**iOS开发**，然后点击**继续**。然后，我们必须创建一个证书签名请求。![在设备上运行应用](img/B04014_03_45.jpg)

1.  在您的Mac上，通过点击**启动台**打开*密钥链*。一旦打开*密钥链*应用，前往**证书助手**并点击**从证书颁发机构请求证书...**。![在设备上运行应用](img/B04014_03_46.jpg)

1.  在弹出窗口中，输入您用于创建Apple开发者ID的电子邮件地址。然后输入一个常见的名称作为参考，选择**保存到磁盘**，然后点击继续以选择您希望证书下载的位置。您现在可以将其保存在桌面上，但稍后将其移动到更安全的地方。![在设备上运行应用](img/B04014_03_47.jpg)

1.  返回 iOS 开发者门户并点击**继续**。现在，你必须上传你在上一步中保存在 Mac 上的 CSR 文件。点击**选择文件**，导航到下载文件的桌面，选择它，然后点击**生成**。

1.  现在你的证书已经准备好了。点击**下载**以下载文件。

1.  双击下载的文件进行安装。然后，点击**完成**。

1.  现在，打开 Xcode，转到**偏好设置**，点击**账户**，然后点击**查看详情**。在顶部部分，应该显示 iOS 开发，这意味着证书已安装。

    此证书仅用于开发。对于分发，你将需要下载一个分发证书，我们将在准备发布游戏时进行。

1.  现在，将你的设备连接到 Mac。Xcode 将自动假设你将使用连接的设备进行开发并为你注册。你可以看到所有注册的设备。打开 Xcode，从顶部栏选择**窗口**，然后选择**设备**以显示所有注册的设备。你可以注册多达 100 台设备以测试你的应用程序。[在设备上运行应用](img/B04014_03_48.jpg)

1.  现在，在播放按钮旁边的左上角，从我们之前用来选择模拟器的位置，我们可以选择设备。[在设备上运行应用](img/B04014_03_49.jpg)

1.  最后一步：我们还需要选择团队以使应用在设备上运行。因此，转到**项目导航器**标签并选择项目根目录。在编辑器中，在团队部分向下滚动以选择团队。[在设备上运行应用](img/B04014_03_50.jpg)

现在，如果一切顺利，你应该能够在设备上运行应用。恭喜!!!!

# 摘要

在本章中，我们探讨了 Xcode 的界面。我希望你现在对不同的面板以及如何访问、激活和停用它们有了很好的了解。我故意没有涵盖**文件**、**编辑**和**查看**菜单，因为这些与其他应用程序有些相似。如果需要，我们将根据需要了解一些内容。

作为练习，你可以尝试更改视图的颜色，或在`.storyboard`文件中更改高度并输入。你还可以在 NIB 文件中对应用进行类似更改，使其更加多彩。

现在你已经了解了 Xcode 的工作原理，我们将直接进入使用 SpriteKit 进行游戏开发。一旦我们掌握了二维空间，我们将在 SceneKit 中查看三维空间。
