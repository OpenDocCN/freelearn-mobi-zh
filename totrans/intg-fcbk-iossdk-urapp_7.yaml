- en: Chapter 7. Distributing Your Social Application
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第七章. 分发您的社交应用
- en: In this chapter we are going to review useful strategies to distribute and make
    our social application go viral.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将回顾一些有用的策略，以分发和使我们的社交应用病毒式传播。
- en: We are going to promote our application on social channels; for example App
    Center. An important tool to keep in mind is the ability to send invitations to
    our friends on mobile devices through the Facebook iOS SDK.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将在社交渠道上推广我们的应用；例如应用中心。一个重要的工具是能够通过Facebook iOS SDK向我们的朋友发送移动设备邀请。
- en: Social channels
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 社交渠道
- en: Several channels are available to developers to distribute and promote their
    social application. We can use different strategies based on the type of application
    we are building. In this section we will focus on how to improve the visibility
    of our app through Facebook tools.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 开发者有多种渠道可以用来分发和推广他们的社交应用。我们可以根据我们构建的应用类型使用不同的策略。在本节中，我们将关注如何通过Facebook工具提高我们应用的可见度。
- en: Feed and Timeline are two in-built tools our social application can use. In
    the previous chapter, we implemented features to publish status updates and new
    stories on a user's timeline.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Feed和Timeline是我们社交应用可以使用的两个内置工具。在上一章中，我们实现了在用户的Timeline上发布状态更新和新故事的功能。
- en: In this chapter we are going to describe how to use the App Center to increase
    the visibility of our application. An important feature we can utilize is the
    ability to invite Facebook friends to our application.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将描述如何使用应用中心来提高我们应用的可见度。我们可以利用的一个重要功能是邀请Facebook朋友加入我们的应用。
- en: App Center
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 应用中心
- en: We already introduced the App Center in Chapter 1, *Introduction to the Facebook
    Platform*. In this section we are going to use it to expand our social application
    visibility.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经在第一章“Facebook平台简介”中介绍了App中心。在本节中，我们将利用它来扩大我们的社交应用可见度。
- en: The App Center is the main shop window for your application. As developers,
    we must take advantage of this important tool. Once our social application is
    available on the App Center, our audience has the potential to be over one billion
    users.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 应用中心是您应用的主要展示窗口。作为开发者，我们必须利用这个重要的工具。一旦我们的社交应用在应用中心可用，我们的受众潜力可能超过十亿用户。
- en: In order to have our application listed on the Facebook App Center, we will
    need to create the application page detail. This page detail will provide information
    on features that will make our application unique and appealing to the end user.
    Facebook reviews every page detail before the application is approved and listed
    in the App Center.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让我们的应用在Facebook应用中心列出，我们需要创建应用页面详情。这个页面详情将提供有关使我们的应用独特并吸引最终用户的功能信息。Facebook在应用获得批准并在应用中心列出之前会审查每个页面详情。
- en: Let's start creating our application page detail from the Facebook App Dashboard.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们从Facebook应用仪表板开始创建我们的应用页面详情。
- en: For more details on this visit [https://developers.facebook.com/apps](https://developers.facebook.com/apps).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 想了解更多详情，请访问 [https://developers.facebook.com/apps](https://developers.facebook.com/apps)。
- en: On the left side bar, select the application we are currently working on and
    click on the **Edit App** button.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在左侧栏中，选择我们目前正在工作的应用，然后点击**编辑应用**按钮。
- en: '![](img/OxpNqWuI.jpg)'
  id: totrans-14
  prefs: []
  type: TYPE_IMG
  zh: '![](img/OxpNqWuI.jpg)'
- en: App Dashboard Edit App
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 应用仪表板编辑应用
- en: 'Select **App Details** on the left bar and you should be able to see something
    that resembles the following screenshot:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在左侧栏中选择**应用详情**，你应该能看到以下截图类似的内容：
- en: '![](img/PfcA2EDc.jpg)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
  zh: '![](img/PfcA2EDc.jpg)'
- en: App details
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 应用详情
- en: 'When entering your application info, consider the following guidelines:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 当输入你的应用信息时，请考虑以下指南：
- en: '**Description**: This is unique across the App Center'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**描述**：这在应用中心是唯一的。'
- en: '**Detailed Description**: This content should be more verbose than Description'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**详细描述**：这个内容应该比描述更详细。'
- en: '**Tagline**: This shouldn''t contain the **Display Name**'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标语**：这不应该包含**显示名称**。'
- en: '**Privacy Policy URL**, **Terms of Service URL**, and **User Support Email/URL**:
    These are mandatory fields that need to be defined'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**隐私政策网址**、**服务条款网址**和**用户支持电子邮件/网址**：这些是需要定义的强制字段。'
- en: Through the App Details Dashboard you can customize the way your App Page Detail
    will look.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 通过应用详情仪表板，您可以自定义您的应用页面详情的外观。
- en: We need to be sure that the **Facebook Login** feature is enabled in order to
    see our social application on Facebook App Center. We will also enable **Deep
    Linking**, which will later be explained in the *Inviting friends* section in
    this chapter. In order to edit the application settings, we can click on the **Settings**
    link on the left side bar.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/A1IYTMl9.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
- en: App Dashboard left side bar
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: 'Select **Native iOS App** as shown in the following screenshot:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/KrkT0hZB.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
- en: iOS App Settings
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: When you enable iOS integration (**Facebook Login**/**Deep Linking**), you also
    need to define either iPhone App Store ID or iPad App Store ID.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have all the settings ready to go, we can go back to the App Detail
    Page Dashboard to take a look at the web preview. When we find the web preview
    acceptable, we can finally submit our Detail Page for review.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/XJjzD6jD.jpg)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
- en: Submit App Detail Page
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: We need to wait until our App Detail Page is approved before seeing it in the
    App Center.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: Send to Mobile
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The Send to Mobile feature was introduced to give users the ability to install
    mobile applications on their device while they are exploring Facebook Web Portal.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: Send to Mobile is a new feature introduced by Facebook to facilitate the mobile
    application install flow. When users are browsing the App Center they are able
    to click on the **Send to Mobile** button. Once users click on that button they
    are logged in to Facebook Mobile through their mobile device, and Facebook will
    send an invitation to their device. By clicking on the notification, users will
    be redirected to the App Store or Google Play. This is possible through the **Deep
    Linking** setting.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/cSEDS7w8.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
- en: Send to Mobile
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: Inviting friends
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In this section we will describe a new application flow to invite our Facebook
    friends to use our new social application. In Chapter 3, *Connecting to a Facebook
    User Account*, we built `FBFriendPickerViewController` so that we could select
    multiple friends. In this section we are going to take advantage of that feature
    and build a Native and a Web Dialog to share a message with our friends.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: 'In order to send App Invites, our Facebook Application needs to define the
    App on Facebook settings. Visit the Facebook App Dashboard and select our current
    application. Locate the App on Facebook section, as shown in the following screenshot:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/BdAukWVe.jpg)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
- en: App on Facebook Section
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: 'Open the section and populate the necessary fields as shown in the following
    screenshot:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/CtiYJlAX.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
- en: App on Facebook
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: 'If you don''t have a Canvas URL, please check out the following link in order
    to create one:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: '[https://developers.facebook.com/docs/appsonfacebook/tutorial/](https://developers.facebook.com/docs/appsonfacebook/tutorial/)'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
- en: The Canvas URL is necessary to send invites from our iOS application to our
    Facebook friends.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: Now we can focus on coding the Invite feature in our social application.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: Open Storyboard and select the Facebook Scene.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/fBTESFOo.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
- en: Facebook Scene
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
- en: 'Create a new button underneath the Friends button, as shown in the following
    screenshot:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/iGkgEgNk.jpg)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
- en: Facebook Scene with the Invite Friends button
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: 'Using **Utilities | Show Attribute Inspector** change the default button state
    to disabled by unchecking the **Enabled** checkbox. The following screenshot shows
    the Attribute Inspector Control Panel:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/IbIEf4x5.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
- en: Control Panel—Enabled checkbox unchecked
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: 'Change the background color for **State Config** within the Button section
    under the Attribute section, as shown in the next screenshot:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/hqlSRZme.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
- en: Changing the background color
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: 'The following screenshot shows the final result of tuning the button settings:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/CLyBhhRu.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
- en: Facebook Scene with disabled Invite Friends button
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: Open the Assistant Editor and verify the `LBFacebookViewController.m` file is
    open to your right.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/myd3JBEm.jpg)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
- en: Assistant Editor—LBFacebookViewController.m
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
- en: Select the **Invite Friends** button and create a new action within `LBFacebookViewController`.
    This can be done by holding Control on your keyboard and dragging-and-dropping
    the blue arrow within the `.m` file. Name the new method `onInviteFriendsClick`.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/VYJQQwAv.jpg)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
- en: onInviteFriendsClick
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
- en: 'The following snippet shows the code for the `onInviteFriends` method:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: The preceding method invokes `sendAppInvite`. The `sendAppInvite` method will
    create the Web Dialog component that will allow users to select which friends
    to send the invite to.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-77
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: The preceding code snippet shows the implementation for the `sendAppInvite`
    method. This method will instantiate a new web dialog component using the `FBWebDialogs`
    class. We used `FBWebDialogs` to post a new story on the user's Timeline in Chapter
    5, *Posting on Walls*.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: The `presentRequestDialogModallyWithSession` class method will create a request
    dialog with the message and title information passed as parameters. Using the
    handler we can check whether the Web Dialog was completed or cancelled by the
    user. It can also check if the Facebook request succeeded or failed.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: An important variable for the handler is `resultURL`. This provides information
    on the outcome of our request. Once we receive the response back from the Platform,
    we can parse the `resultURL` information using the `parseURLParams` helper to
    extract the new invite request ID.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'When we run the application, clicking on the Invite Friends button will create
    the new dialog as shown in the following screenshot:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/VH8cTeso.jpg)'
  id: totrans-83
  prefs: []
  type: TYPE_IMG
- en: FBWebDialogs for sending invitations
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
- en: The new dialog allows users to select friends from our Facebook list and use
    a search query to filter out the friends list displayed.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
- en: Once the users click on the **Send** button, the application will send a new
    request to the Facebook Platform to forward invites to selected friends. Facebook
    Platform will only show the invites to our friends if our Facebook Application
    has a Canvas URL value set.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: After we send invites, our friends can open the invite on either the Facebook
    web or mobile app. We are interested in redirecting users to the App Store once
    they click on the Facebook Notification on their iOS devices.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们发送邀请后，我们的朋友可以在Facebook网页或移动应用上打开邀请。我们对将用户重定向到App Store感兴趣，一旦他们在iOS设备上点击Facebook通知。
- en: '![](img/cd3VmSm3.jpg)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![图片](img/cd3VmSm3.jpg)'
- en: Facebook Notification
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: Facebook通知
- en: Once the user clicks on the Facebook notification, they will be redirected to
    the App Store to install our new social application.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦用户点击Facebook通知，他们将被重定向到App Store以安装我们的新社交应用。
- en: Summary
  id: totrans-91
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter we learned a few ways to distribute our social application using
    the Facebook channels.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们学习了几种使用Facebook渠道分发我们的社交应用的方法。
- en: The main channel to distribute our social app is Facebook App Center. People
    will be able to discover our app based on categories or through the search functionalities.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 分发我们的社交应用的主要渠道是Facebook应用中心。人们将能够根据类别或通过搜索功能发现我们的应用。
- en: The App Center also offers the ability to send a link to our mobile devices
    in order to install the application. So if we are surfing the App Center on the
    Facebook desktop version, we can send a text to our mobile number with the application
    link and directly install it.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 应用中心还提供了将链接发送到我们的移动设备以安装应用的功能。因此，如果我们正在使用Facebook桌面版浏览应用中心，我们可以通过发送包含应用链接的短信到我们的手机号码，直接安装应用。
- en: Let's not forget about the most important resource we have on Facebook, our
    friends. We can easily create invites for them in order to share our social application.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们不要忘记我们在Facebook上最重要的资源，那就是我们的朋友。我们可以轻松地为他们创建邀请，以便分享我们的社交应用。
- en: These are just examples of how to promote our social application. We may use
    our own website, Twitter account, and any other tool that can give us more visibility.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 这些只是如何推广我们的社交应用的例子。我们可能使用自己的网站、Twitter账户以及任何其他可以增加我们可见性的工具。
