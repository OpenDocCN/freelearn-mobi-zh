<html><head></head><body><div class="chapter" title="Chapter&#xA0;9.&#xA0;Adding Menus and Sounds"><div class="titlepage"><div><div><h1 class="title"><a id="ch09"/>Chapter 9. Adding Menus and Sounds</h1></div></div></div><p>It is easy to overlook menu design, but the menu provides your game's first impression to the player. When used correctly, your menus reinforce the brand of your game and provide a pleasant break in the action that retains the player between gameplay. We will add two menus in this chapter: a main menu that shows when the game starts, and a retry menu that appears when the player loses a game.</p><p>Likewise, immersive sounds are vital to a great game. Sound is your opportunity to support the mood of the game world and emphasize key gameplay mechanics such as coin collecting and taking damage. Additionally, every fun game deserves addictive background music! We will add background music and sound effects in this chapter to complete the mood of the game world.</p><p>Topics in this chapter include:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Building the main menu scene</li><li class="listitem" style="list-style-type: disc">Adding the restart game menu</li><li class="listitem" style="list-style-type: disc">Adding music with <code class="literal">AVAudio</code></li><li class="listitem" style="list-style-type: disc">Playing sound effects with <code class="literal">SKAction</code></li></ul></div><div class="section" title="Building the main menu"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec70"/>Building the main menu</h1></div></div></div><p>We can use <a id="id306" class="indexterm"/>SpriteKit components to build our main menu. We will create a new scene in a new file for our main menu, and then use code to place a background sprite node, logo text node, and button sprite nodes. Let's start by adding the menu scene to the project and building out the nodes.</p><div class="section" title="Creating the menu scene and menu nodes"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec86"/>Creating the menu scene and menu nodes</h2></div></div></div><p>To create the<a id="id307" class="indexterm"/> menu <a id="id308" class="indexterm"/>scene, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">We will use a new background image for the menu. Let's add it to our project.<div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Locate <code class="literal">Background-menu.png</code> in the <code class="literal">Backgrounds</code> folder of the asset bundle.</li><li class="listitem">Open <code class="literal">Images.xcassets</code> in Xcode, and then drag and drop <code class="literal">Background-menu.png</code> into <code class="literal">Images.xcassets</code> to make it available in your project.</li></ol></div></li><li class="listitem">Add a<a id="id309" class="indexterm"/> new <a id="id310" class="indexterm"/>Swift file to your project named <code class="literal">MenuScene.swift</code>.</li><li class="listitem">Add the following code to create the <code class="literal">MenuScene</code> scene class:<div class="informalexample"><pre class="programlisting">import SpriteKit

class MenuScene: SKScene {
    // Grab the HUD texture atlas:
    let textureAtlas:SKTextureAtlas = 
        SKTextureAtlas(named:"hud.atlas")
    // Instantiate a sprite node for the start button
    // (we'll use this in a moment):
    let startButton = SKSpriteNode()
    
    override func didMoveToView(view: SKView) {
    }
}</pre></div></li><li class="listitem">Next, we need to configure a few scene properties. Add this code inside the new scene's <code class="literal">didMoveToView</code> function:<div class="informalexample"><pre class="programlisting">// Position nodes from the center of the scene:
self.anchorPoint = CGPoint(x: 0.5, y: 0.5)
// Set a sky-blue background color:
self.backgroundColor = UIColor(red: 0.4, green: 0.6,
    blue: 0.95, alpha: 1.0) 
// Add the background image:
let backgroundImage = SKSpriteNode(imageNamed: "Background-menu")
backgroundImage.size = CGSize(width: 1024, height: 768)
self.addChild(backgroundImage)</pre></div></li><li class="listitem">We need to draw the name of the game near the top of the menu. Add this code at the bottom of the <code class="literal">didMoveToView</code> function to draw "Pierre Penguin Escapes the Antarctic":<div class="informalexample"><pre class="programlisting">// Draw the name of the game:
let logoText = SKLabelNode(fontNamed: "AvenirNext-Heavy")
logoText.text = "Pierre Penguin"
logoText.position = CGPoint(x: 0, y: 100)
logoText.fontSize = 60
self.addChild(logoText)
// Add another line below:
let logoTextBottom = SKLabelNode(fontNamed: "AvenirNext-Heavy")
logoTextBottom.text = "Escapes the Antarctic"
logoTextBottom.position = CGPoint(x: 0, y: 50)
logoTextBottom.fontSize = 40
self.addChild(logoTextBottom)</pre></div></li><li class="listitem">Now we will<a id="id311" class="indexterm"/> add the <a id="id312" class="indexterm"/>start button. The start button is the combination of a <code class="literal">SKSpriteNode</code> for the button graphic and a <code class="literal">SKLabelNode</code> for the "Start Game" text. Add this code at the bottom of the <code class="literal">didMoveToView</code> function to create the button:<div class="informalexample"><pre class="programlisting">// Build the start game button:
startButton.texture = textureAtlas.textureNamed("button.png")
startButton.size = CGSize(width: 295, height: 76)
// Name the start node for touch detection:
startButton.name = "StartBtn"
startButton.position = CGPoint(x: 0, y: -20)
self.addChild(startButton)

// Add text to the start button:
let startText = SKLabelNode(fontNamed: 
    "AvenirNext-HeavyItalic")
startText.text = "START GAME"
startText.verticalAlignmentMode = .Center
startText.position = CGPoint(x: 0, y: 2)
startText.fontSize = 40
// Name the text node for touch detection:
startText.name = "StartBtn"
startButton.addChild(startText)</pre></div></li><li class="listitem">Finally, we will make the start button pulse in and out to add movement and excitement to the menu. Add this code at the bottom of the <code class="literal">didMoveToView</code> function to fade the button in and out:<div class="informalexample"><pre class="programlisting">// Pulse the start button in and out gently:
let pulseAction = SKAction.sequence([
    SKAction.fadeAlphaTo(0.7, duration: 0.9),
    SKAction.fadeAlphaTo(1, duration: 0.9),
    ])
startButton.runAction( SKAction.repeatActionForever(pulseAction))</pre></div></li></ol></div><p>Great work! We have <a id="id313" class="indexterm"/>created our <code class="literal">MenuScene</code> class and added all the nodes we need to build the <a id="id314" class="indexterm"/>menu. Next, we will update our app to start with the menu instead of going directly to the <code class="literal">GameScene</code> class.</p></div><div class="section" title="Launching the main menu when the game starts"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec87"/>Launching the main menu when the game starts</h2></div></div></div><p>So far, our app has <a id="id315" class="indexterm"/>launched directly to the <code class="literal">GameScene</code> class whenever it starts. We will now update our view controller to start with the <code class="literal">MenuScene</code> class instead. Follow these steps to launch the menu when the game starts:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open <code class="literal">GameViewController.swift</code> and locate the <code class="literal">viewWillLayoutSubviews</code> function.</li><li class="listitem">Replace the entire <code class="literal">viewWillLayoutSubviews</code> function with this code:<div class="informalexample"><pre class="programlisting">override func viewWillLayoutSubviews() {
    super.viewWillLayoutSubviews()
    
    // Build the menu scene:
    let menuScene = MenuScene()
    let skView = self.view as! SKView
    // Ignore drawing order of child nodes
    // (This increases performance)
    skView.ignoresSiblingOrder = true
    // Size our scene to fit the view exactly:
    menuScene.size = view.bounds.size
    // Show the menu:
    skView.presentScene(menuScene)
}</pre></div></li></ol></div><p>Run the project and you should see the app start with your new main menu, which looks something like this screenshot:</p><div class="mediaobject"><img src="graphics/Image_B04532_09_01.jpg" alt="Launching the main menu when the game starts"/></div><p>Terrific work! Next, we<a id="id316" class="indexterm"/> will wire up the <span class="strong"><strong>START GAME</strong></span> button to transition to the <code class="literal">GameScene</code> class.</p></div><div class="section" title="Wiring up the START GAME button"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec88"/>Wiring up the START GAME button</h2></div></div></div><p>Just like in<a id="id317" class="indexterm"/> <code class="literal">GameScene</code>, we will add a <code class="literal">touchesBegan</code> function to the <code class="literal">MenuScene</code> class to capture touches on the <span class="strong"><strong>START GAME</strong></span> button. To implement <code class="literal">touchesBegan</code>, open <code class="literal">MenuScene.swift</code> and, at the bottom of the class, add a new function named <code class="literal">touchesBegan</code>, as shown here:</p><div class="informalexample"><pre class="programlisting">override func touchesBegan(touches: Set&lt;NSObject&gt;, withEvent 
    event: UIEvent) {
    for touch in (touches as! Set&lt;UITouch&gt;) {
        let location = touch.locationInNode(self)
        let nodeTouched = nodeAtPoint(location)

        if nodeTouched.name == "StartBtn" {
            // Player touched the start text or button node
            // Switch to an instance of the GameScene:
            self.view?.presentScene(GameScene(size: self.size))
        }
    }
}</pre></div><p>Run the project and tap the start button. The game should switch to the <code class="literal">GameScene</code> class and gameplay will begin. Congratulations, you have successfully implemented your first main menu in SpriteKit. Next, we will add a simple restart menu that appears on top of <code class="literal">GameScene</code> when the <a id="id318" class="indexterm"/>player dies.</p></div></div></div>
<div class="section" title="Adding the restart game menu"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec71"/>Adding the restart game menu</h1></div></div></div><p>The restart menu<a id="id319" class="indexterm"/> is even simpler to implement. Rather than create a new scene, we can extend our existing <code class="literal">HUD</code> class to display a restart button when the game ends. We will also include a <a id="id320" class="indexterm"/>smaller button to return the player to the main menu. This menu will appear on top of the action, as in this screenshot:</p><div class="mediaobject"><img src="graphics/Image_B04532_09_02.jpg" alt="Adding the restart game menu"/></div><div class="section" title="Extending the HUD"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec89"/>Extending the HUD</h2></div></div></div><p>First, we need to <a id="id321" class="indexterm"/>create and draw our new button nodes in the <code class="literal">HUD</code> class. Follow these steps to add the nodes:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open the <code class="literal">HUD.swift</code> file and add two new properties to the <code class="literal">HUD</code> class, as follows:<div class="informalexample"><pre class="programlisting">let restartButton = SKSpriteNode()
let menuButton = SKSpriteNode()</pre></div></li><li class="listitem">Add the following code at the bottom of the <code class="literal">createHudNodes</code> function:<div class="informalexample"><pre class="programlisting">// Add the restart and menu button textures to the nodes:
restartButton.texture = 
    textureAtlas.textureNamed("button-restart.png")
menuButton.texture = 
    textureAtlas.textureNamed("button-menu.png")
// Assign node names to the buttons:
restartButton.name = "restartGame"
menuButton.name = "returnToMenu"
// Position the button node:
let centerOfHud = CGPoint(x: screenSize.width / 2,
    y: screenSize.height / 2)
restartButton.position = centerOfHud
menuButton.position = 
    CGPoint(x: centerOfHud.x - 140, y: centerOfHud.y)
// Size the button nodes:
restartButton.size = CGSize(width: 140, height: 140)
menuButton.size = CGSize(width: 70, height: 70)</pre></div></li><li class="listitem">We <a id="id322" class="indexterm"/>purposefully did not add these nodes as children of the <code class="literal">HUD</code> yet, so they will not appear on the screen until we are ready. Next, we will add a function to make the buttons appear. We will call this function from the <code class="literal">GameScene</code> class when the player dies. Add a function named <code class="literal">showButtons</code> to the <code class="literal">HUD</code> class, as shown here:<div class="informalexample"><pre class="programlisting">func showButtons() {
    // Set the button alpha to 0:
    restartButton.alpha = 0
    menuButton.alpha = 0
    // Add the button nodes to the HUD:
    self.addChild(restartButton)
    self.addChild(menuButton)
    // Fade in the buttons:
    let fadeAnimation = 
        SKAction.fadeAlphaTo(1, duration: 0.4)
    restartButton.runAction(fadeAnimation)
    menuButton.runAction(fadeAnimation)
}</pre></div></li></ol></div></div><div class="section" title="Wiring up GameScene for game over"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec90"/>Wiring up GameScene for game over</h2></div></div></div><p>We need to tell the <code class="literal">HUD</code> class<a id="id323" class="indexterm"/> to show the restart and main menu buttons once the player runs out of health. Open <code class="literal">GameScene.swift</code> and add a new function to the <code class="literal">GameScene</code> class named <code class="literal">gameOver</code>, as shown here:</p><div class="informalexample"><pre class="programlisting">func gameOver() {
    // Show the restart and main menu buttons:
    hud.showButtons()
}</pre></div><p>That is all for now – we will add to the <code class="literal">gameOver</code> function in the next chapter, when we implement a high score system.</p></div><div class="section" title="Informing the GameScene class when the player dies"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec91"/>Informing the GameScene class when the player dies</h2></div></div></div><p>So far, the<a id="id324" class="indexterm"/> <code class="literal">GameScene</code> class is oblivious to whether the player is alive or dead. We need to change that in order to use our new <code class="literal">gameOver</code> function. Open <code class="literal">Player.swift</code>, locate the <code class="literal">die</code> function, and add the following code at the bottom of the function:</p><div class="informalexample"><pre class="programlisting">// Alert the GameScene:
if let gameScene = self.parent?.parent as? GameScene {
    gameScene.gameOver()
}</pre></div><p>We access <code class="literal">GameScene</code> by traveling up the node tree. The <code class="literal">Player</code> node's parent is the <code class="literal">world</code> node. The world node's parent is the <code class="literal">GameScene</code> class.</p><p>Run the project and die. You should see the two new buttons appear after death, as shown here:</p><div class="mediaobject"><img src="graphics/Image_B04532_09_03.jpg" alt="Informing the GameScene class when the player dies"/></div><p>Good work. The buttons are displaying properly, but nothing happens yet when we tap on them. To complete our restart menu, we simply need to implement tap events for the two new buttons in the <code class="literal">GameScene</code> class's <code class="literal">touchesBegan</code> function.</p></div><div class="section" title="Implementing touch events for the restart menu"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec92"/>Implementing touch events for the restart menu</h2></div></div></div><p>Now that our<a id="id325" class="indexterm"/> buttons are displaying, we can add touch events in the <code class="literal">GameScene</code> class that are similar to the <span class="strong"><strong>START GAME</strong></span> button in the <code class="literal">MenuScene</code> class.</p><p>To add the touch events, open <code class="literal">GameScene.swift</code> and locate the <code class="literal">touchesBegan</code> function. We will add the restart menu code at the bottom of the <code class="literal">for</code> loop. I am including the entire <code class="literal">touchesBegan</code> function in the following code, with new additions in bold:</p><div class="informalexample"><pre class="programlisting">override func touchesBegan(touches: Set&lt;NSObject&gt;, withEvent 
    event: UIEvent) {
    player.startFlapping()
    
    for touch in (touches as! Set&lt;UITouch&gt;) {
        let location = touch.locationInNode(self)
        let nodeTouched = nodeAtPoint(location)
        
        if let gameSprite = nodeTouched as? GameSprite {
            gameSprite.onTap()
        }
        
<span class="strong"><strong>        // Check for HUD buttons:</strong></span>
<span class="strong"><strong>        if nodeTouched.name == "restartGame" {</strong></span>
<span class="strong"><strong>            // Transition to a new version of the GameScene</strong></span>
<span class="strong"><strong>            // to restart the game:</strong></span>
<span class="strong"><strong>            self.view?.presentScene(</strong></span>
<span class="strong"><strong>                GameScene(size: self.size),</strong></span>
<span class="strong"><strong>                transition: .crossFadeWithDuration(0.6))</strong></span>
<span class="strong"><strong>        }</strong></span>
<span class="strong"><strong>        else if nodeTouched.name == "returnToMenu" {</strong></span>
<span class="strong"><strong>            // Transition to the main menu scene:</strong></span>
<span class="strong"><strong>            self.view?.presentScene(</strong></span>
<span class="strong"><strong>                MenuScene(size: self.size),</strong></span>
<span class="strong"><strong>                transition: .crossFadeWithDuration(0.6))</strong></span>
<span class="strong"><strong>        }</strong></span>
    }
}</pre></div><p>To test your new menu, run the project and run out of health on purpose. You should now be able to start a new game when you die, or transition back to the main menu with a tap on the menu button. Great! You have completed the two basic menus required for every game.</p><p>These simple steps go a long way towards the overall completion of the game, and the penguin game is looking terrific. Next, we will add event sounds and music to complete the game world.</p></div></div>
<div class="section" title="Checkpoint 9-A"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec72"/>Checkpoint 9-A</h1></div></div></div><p>Download my project to this point at this URL:</p><p>
<a class="ulink" href="http://www.thinkingswiftly.com/game-development-with-swift/chapter-9">http://www.thinkingswiftly.com/game-development-with-swift/chapter-9</a>
</p></div>
<div class="section" title="Adding music and sound"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec73"/>Adding music and sound</h1></div></div></div><p>SpriteKit and Swift<a id="id326" class="indexterm"/> make it very easy to play sounds in our games. We can drag sound files into our project, just like image assets, and trigger playback with <code class="literal">SKAction playSoundFileNamed</code>.</p><p>We can also <a id="id327" class="indexterm"/>use the <code class="literal">AVAudio</code> class from the <code class="literal">AVFoundation</code> framework for more precise audio control. We will use <code class="literal">AVAudio</code> to play our background music.</p><div class="section" title="Adding the sound assets to the game"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec93"/>Adding the sound assets to the game</h2></div></div></div><p>Locate the<a id="id328" class="indexterm"/> <code class="literal">Sound</code> directory in the <code class="literal">Assets</code> folder and add it to your project by dragging and dropping it into the project navigator. You should see the <code class="literal">Sound</code> folder show up in your project just like any other asset.</p></div><div class="section" title="Playing background music"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec94"/>Playing background music</h2></div></div></div><p>First, we will add the<a id="id329" class="indexterm"/> background music. We want our music to play regardless of which scene the player is currently looking at, so we will play the music from the view controller itself. To play the music, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open <code class="literal">GameViewController.swift</code> and add the following <code class="literal">import</code> statement at the very top, just below the existing import lines, to allow us access to <code class="literal">AVFoundation</code> classes:<div class="informalexample"><pre class="programlisting">import AVFoundation</pre></div></li><li class="listitem">Locate the <code class="literal">GameViewController</code> class and add the following property to store our <code class="literal">AVAudioPlayer</code>:<div class="informalexample"><pre class="programlisting">var musicPlayer = AVAudioPlayer()</pre></div></li><li class="listitem">At the very bottom of the <code class="literal">viewWillLayoutSubviews</code> function, add this code to play and loop the music:<div class="informalexample"><pre class="programlisting">// Start the background music:
let musicUrl = NSBundle.mainBundle().URLForResource(
    "Sound/BackgroundMusic.m4a", withExtension: nil)
if let url = musicUrl {
    musicPlayer = 
        AVAudioPlayer(contentsOfURL: url, error: nil)
    musicPlayer.numberOfLoops = -1
    musicPlayer.prepareToPlay()
    musicPlayer.play()
}</pre></div></li></ol></div><p>Run the project. You <a id="id330" class="indexterm"/>should hear the background music as soon as the app starts. The music should continue as you move from the main menu to the game and back.</p></div><div class="section" title="Playing sound effects"><div class="titlepage"><div><div><h2 class="title"><a id="ch09lvl2sec95"/>Playing sound effects</h2></div></div></div><p>Playing <a id="id331" class="indexterm"/>simple sounds is even easier. We will use <code class="literal">SKAction</code> objects to play sounds on specific events, such as picking up a coin or starting the game.</p><div class="section" title="Adding the coin sound effect to the Coin class"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec31"/>Adding the coin sound effect to the Coin class</h3></div></div></div><p>First, we will add a <a id="id332" class="indexterm"/>happy sound each time the player collects a coin. To add the coin sound effect, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open <code class="literal">Coin.swift</code> and add a new property to the <code class="literal">Coin</code> class to cache a coin sound action:<div class="informalexample"><pre class="programlisting">let coinSound = 
    SKAction.playSoundFileNamed("Sound/Coin.aif", 
        waitForCompletion: false)</pre></div></li><li class="listitem">Locate the <code class="literal">collect</code> function and add the following line at the bottom of the function to play the sound:<div class="informalexample"><pre class="programlisting">// Play the coin sound:
self.runAction(coinSound)</pre></div></li></ol></div><p>That is all you need to do to play the coin sound every time the player collects a coin. You can run the project now to test it out if you like.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip13"/>Tip</h3><p>To avoid memory-based crashes, it is important to cache each <code class="literal">playSoundFileNamed</code> action object and rerun the same object each time you want to play a sound, rather than creating a new instance of a <code class="literal">SKAction</code> object for each playback.</p></div></div></div><div class="section" title="Adding the power-up and hurt sound effects to the Player class"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec32"/>Adding the power-up and hurt sound effects to the Player class</h3></div></div></div><p>We will play <a id="id333" class="indexterm"/>an exciting sound when the player finds the star power-up and an injury noise when the player takes damage. Follow these steps to implement the sounds:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open <code class="literal">Player.swift</code> and add two new properties to the <code class="literal">Player</code> class to cache the sound effects:<div class="informalexample"><pre class="programlisting">let powerupSound = 
    SKAction.playSoundFileNamed("Sound/Powerup.aif",     
        waitForCompletion: false)
let hurtSound = 
    SKAction.playSoundFileNamed("Sound/Hurt.aif",
        waitForCompletion: false)</pre></div></li><li class="listitem">Find the <code class="literal">takeDamage</code> function and add this line at the bottom:<div class="informalexample"><pre class="programlisting">// Play the hurt sound:
self.runAction(hurtSound)</pre></div></li><li class="listitem">Find <a id="id334" class="indexterm"/>the <code class="literal">starPower</code> function and add this line at the bottom:<div class="informalexample"><pre class="programlisting">// Play the powerup sound:
self.runAction(powerupSound)</pre></div></li></ol></div></div><div class="section" title="Playing a sound when the game starts"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl3sec33"/>Playing a sound when the game starts</h3></div></div></div><p>Lastly, we will play a sound<a id="id335" class="indexterm"/> when the game starts. Follow these steps to play this sound:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open <code class="literal">GameScene.swift</code>. We will play this sound effect from the <code class="literal">didMoveToView</code> function. Normally, it is vital to cache sound actions in a property, but we do not have to cache the game start sound because we will only play it once per scene load.</li><li class="listitem">Add this line at the bottom of the <code class="literal">GameScene didMoveToView</code> function:<div class="informalexample"><pre class="programlisting">// Play the start sound:
self.runAction(SKAction.playSoundFileNamed("Sound/StartGame.aif", 
    waitForCompletion: false))</pre></div></li></ol></div><p>Great—we have added all the sound effects for our game. You can now run the project to test out each sound.</p></div></div></div>
<div class="section" title="Checkpoint 9-B"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec74"/>Checkpoint 9-B</h1></div></div></div><p>Download my project to this point at this URL:</p><p>
<a class="ulink" href="http://www.thinkingswiftly.com/game-development-with-swift/chapter-9">http://www.thinkingswiftly.com/game-development-with-swift/chapter-9</a>
</p></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch09lvl1sec75"/>Summary</h1></div></div></div><p>We have taken large steps towards finishing the game in this chapter. We learned to create menus in SpriteKit, added the main menu to the game, and gave the player a way to restart the game when they run out of health. Then, we enhanced the gameplay experience with catchy background music and timely sound effects. The game now feels finished; we are very nearly ready to publish our game.</p><p>One final step remains: we will explore integration with the Apple Game Center to track high scores and achievements in <a class="link" href="ch10.html" title="Chapter 10. Integrating with Game Center">Chapter 10</a>, <span class="emphasis"><em>Integrating with Game Center</em></span>. Game Center integration encourages your players to keep playing and improving. They will be able to see their own best score, view the top scores from around the world, and challenge their friends to beat their best effort.</p></div></body></html>