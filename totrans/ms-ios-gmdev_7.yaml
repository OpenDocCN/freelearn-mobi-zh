- en: Chapter 7. Deploying and Monetizing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Wow! You have done a lot of work so far! And we''re not even done yet! It''s
    about time for your hard work to pay off. In this chapter, we will discuss the
    following things to keep in mind during this final part of development:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: Preparing your app for deployment
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Monetizing (Making MOAR money!)
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: All your hard work has come down to this, and now it's time to shine by making
    the money you deserve for working super hard! Of course there are way more options
    then simply charging for your app and, you know what, let's just dive right in
    to it shall we?
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
- en: Let's begin making money...
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
- en: Preparing to deploy
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: It's finally time! It's finally that time; all your work has come down to this
    deployment.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: For me, this has always been the most exciting time of development, especially
    when you get the e-mail from Apple saying that your app is in review.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: Then, when it gets released, just seeing your app in the AppStore is so exciting!
    I'll never forget the first app I released, the moment I saw my first app I went
    around to show it to my whole family. I had finally done it. Now it's your turn.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: 'To begin, we are going to create our app within iTunes Connect. Simply go to
    [itunesconnect.apple.com](http://itunesconnect.apple.com) and log in with your
    Apple ID that is linked to your developer account, as shown in the following screenshot:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: '![Preparing to deploy](img/B03553_07_01.jpg)'
  id: totrans-11
  prefs: []
  type: TYPE_IMG
- en: 'Once you''ve logged in, click on the **My Apps** icon:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: '![Preparing to deploy](img/B03553_07_02.jpg)'
  id: totrans-13
  prefs: []
  type: TYPE_IMG
- en: 'From here, you will now be able to see all the apps you have created (if any):'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: '![Preparing to deploy](img/B03553_07_03.jpg)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
- en: Just below the **iTunes Connect** logo, simply click on the **+** button to
    begin creating a new app. You will now see a roll-out menu appear, asking what
    type of app you would like to create. We will create a new iOS App.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: 'You will then be greeted by a new popup window asking for some basic information
    for the app, such as the app name, app language, bundle ID (which I will discuss
    in just a second), version number, and SKU for your app (for the SKU, I literally
    just use the time I am filling it in, but you can use whatever you like):'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
- en: '![Preparing to deploy](img/B03553_07_04.jpg)'
  id: totrans-18
  prefs: []
  type: TYPE_IMG
- en: Don't have a bundle ID? Simply click on the **Register a new bundle ID on the
    Developer Portal** button below the **Bundle ID** selection.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: From there, it's simply a matter of filling in all the information, such as
    the App ID description, prefix, suffix, and services you want to include in the
    app.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
- en: Once you have it all filled out, return to the app creation screen and select
    the new bundle id (if it hasn't appeared yet, simply cancel the creation and try
    again).
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: Your app is now created! Well, somewhat...
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: The next page requires you to fill in the complete information regarding the
    app—that is, the description, keywords, screenshots, copyright information, and
    that kind of stuff.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
- en: Now, it's time to submit your app to the AppStore for review!
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: There are two ways of doing this. One is directly through Xcode and the second
    is through the Application Loader (both app icons can be seen in the following
    image); we will discuss how to do this.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种方法可以做到这一点。一种是通过 Xcode 直接进行，第二种是通过应用程序加载器（以下图像中都可以看到这两个应用程序图标）；我们将讨论如何进行。
- en: '![Preparing to deploy](img/B03553_07_05.jpg)'
  id: totrans-26
  prefs: []
  type: TYPE_IMG
  zh: '![准备部署](img/B03553_07_05.jpg)'
- en: No matter which method you choose to upload your app, though, both ways will
    require you to archive it. Before you archive the app, I highly recommend doing
    another test just to ensure that everything is working as it should.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你选择哪种方法上传你的应用程序，两种方法都需要你进行存档。在你存档应用程序之前，我强烈建议再次进行测试，以确保一切按预期工作。
- en: 'To create the archive in Xcode, ensure that you have **iOS Device** selected
    under the scheme selection. To recap, schemes are presets on the simulator or
    iOS device you want to run your project on. The following screenshot shows the
    **iOS Device** option:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 要在 Xcode 中创建存档，请确保在方案选择下选择了 **iOS 设备**。为了回顾，方案是在模拟器或你想要运行项目的 iOS 设备上的预设。以下截图显示了
    **iOS 设备** 选项：
- en: '![Preparing to deploy](img/B03553_07_06.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![准备部署](img/B03553_07_06.jpg)'
- en: Once you have that selected, simply click on **Product** on the toolbar, then
    select **Archive**. By archiving, you are essentially putting your whole project
    into a single, compressed file so that you can upload it to the app store.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦选择了，只需在工具栏上点击 **产品**，然后选择 **存档**。通过存档，你实际上是将整个项目放入一个单一的、压缩的文件中，以便你可以将其上传到应用商店。
- en: '![Preparing to deploy](img/B03553_07_07.jpg)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![准备部署](img/B03553_07_07.jpg)'
- en: Now, all you have to do is wait... Depending on how large your app is, you may
    be waiting for a while.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你只需要等待...根据你的应用程序大小，你可能需要等待一段时间。
- en: 'Once it''s done, you will encounter the Archive window, which will show you
    a list of all the archives you have created for your awesome apps:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦完成，你将遇到存档窗口，该窗口将显示你为你的出色应用创建的所有存档列表：
- en: '![Preparing to deploy](img/B03553_07_08.jpg)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![准备部署](img/B03553_07_08.jpg)'
- en: Now, it's a good idea to validate your app through the iTunes validation process.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，通过 iTunes 验证过程验证您的应用程序是个好主意。
- en: 'How do you do this? Simple! Click on the **Validate** button you see in the
    **Archive** window:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 你怎么做？很简单！点击在 **存档** 窗口中看到的 **验证** 按钮：
- en: '![Preparing to deploy](img/B03553_07_09.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![准备部署](img/B03553_07_09.jpg)'
- en: 'If all goes well, you will get a window saying it''s been validated. However,
    if you''re like me, you will get an error, as shown in the following screenshot:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一切顺利，你将看到一个窗口显示已验证。然而，如果你像我一样，你将遇到错误，如下面的截图所示：
- en: '![Preparing to deploy](img/B03553_07_10.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![准备部署](img/B03553_07_10.jpg)'
- en: Sure enough, I had made a blooper and wasn't using the correct provisioning
    profile.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 果然，我犯了一个错误，没有使用正确的配置文件。
- en: Once that's all done, we can upload it!
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 一切都完成后，我们可以上传它！
- en: Simply click on the big **Submit to App Store** button!
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 简单地点击大型的 **提交到 App Store** 按钮！
- en: In the dialog that appears, choose a team from the pop-up menu and click on
    **Choose**.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 在出现的对话框中，从弹出菜单中选择一个团队，然后点击 **选择**。
- en: If need be, Xcode will create a distribution certificate and distribution provisioning
    profile for you. The name of the distribution provisioning profile begins with
    the text **XC**.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 如果需要，Xcode 将为你创建一个分发证书和分发配置文件。分发配置文件的名称以文本 **XC** 开头。
- en: In the dialog that appears, review the app, its entitlements, and provisioning
    profile, and click on **Submit**.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 在出现的对话框中，检查应用程序、其权限和配置文件，然后点击 **提交**。
- en: Xcode will then upload the archive to iTunes Connect. If a dialog appears stating
    that no application record can be found, click on **Done**, create an app record
    in iTunes Connect, and repeat these steps.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: Xcode 将随后将存档上传到 iTunes Connect。如果出现对话框表示找不到应用程序记录，请点击 **完成**，在 iTunes Connect
    中创建应用程序记录，并重复这些步骤。
- en: If issues are found, click on **Done** and fix them before continuing.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 如果发现问题，点击 **完成** 并在继续之前修复它们。
- en: If no issues are found, click on **Submit** to upload your app.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 如果没有发现问题，点击 **提交** 以上传你的应用程序。
- en: You have now uploaded your app to the App Store! Await an e-mail saying your
    app is in review!
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，你已经将你的应用程序上传到 App Store！等待一封电子邮件，说明你的应用程序正在审查！
- en: 'This is the easiest way to upload your app, but alternatively you can upload
    your app via the **ApplicationLoader** option. Simply open the **ApplicationLoader**
    tab; you will be greeted by the **Template Chooser**, which will allow you to
    either upload your app or upload an in-app-purchase, as shown in the following
    screenshot:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 这是上传您的应用程序最简单的方法，但您也可以通过**ApplicationLoader**选项上传您的应用程序。只需打开**ApplicationLoader**标签页；您将看到**模板选择器**，它将允许您上传应用程序或上传内购内容，如下面的截图所示：
- en: '![Preparing to deploy](img/B03553_07_11.jpg)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![准备部署](img/B03553_07_11.jpg)'
- en: Before we click on **Deliver Your App**, we need to export the project as an
    archive back in Xcode.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们点击**交付您的应用程序**之前，我们需要在Xcode中将项目导出为存档。
- en: In Xcode, click on **Window** in **Organizer** and we will be back to the Archive
    of our app. Now, instead of clicking on **Submit to AppStore**, we will click
    on **Export**.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在Xcode中，点击**组织者**中的**窗口**，我们将回到我们应用程序的存档。现在，我们不会点击**提交到AppStore**，而是点击**导出**。
- en: Next, it will ask how you want to save the app as— **Save for iOS App Store
    Deployment**, **Save for Ad Hoc Deployment**, or for **Save for Enterprise Deployment**.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，它将询问您如何保存应用程序——**为iOS App Store部署保存**、**为Ad Hoc部署保存**或**为企业部署保存**。
- en: 'Select **Save for iOS AppStore Deployment**, then click on **Next**, as shown
    in the following screenshot:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 选择**为iOS AppStore部署保存**，然后点击**下一步**，如下面的截图所示：
- en: '![Preparing to deploy](img/B03553_07_12.jpg)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![准备部署](img/B03553_07_12.jpg)'
- en: Again, it will ask you which development team you would like to use; select
    the team you are using.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，它将询问您希望使用哪个开发团队；选择您正在使用的团队。
- en: It will again run validation tests, and then ask you where you want to save
    the archive.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 它将再次运行验证测试，然后询问您希望将存档保存到何处。
- en: Simply select an easy-to-remember location, then pop back to **Application Loader**
    and click on **Deliver your App**.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 简单选择一个容易记住的位置，然后返回到**Application Loader**并点击**交付您的应用程序**。
- en: Select the app you just created. Application loader will then search for the
    application and display a window with all the application details, such as the
    name, version number, SKU number, primary language, copyright, type, and Apple
    ID.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 选择您刚刚创建的应用程序。应用程序加载器将搜索应用程序，并显示一个包含所有应用程序详细信息的窗口，例如名称、版本号、SKU号、主要语言、版权、类型和Apple
    ID。
- en: Click on **Next**. **Application Loader** begins uploading your application
    binary file to the App Store.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 点击**下一步**。**Application Loader**开始上传您的应用程序二进制文件到App Store。
- en: Once it's done, all you have to do is wait!
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦完成，您只需等待即可！
- en: You can always log in to iTunes Connect to stay up-to-date on the status of
    your app.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以随时登录到iTunes Connect，以了解您应用程序的状态。
- en: Now, it's time to make some dough!
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，是时候赚点钱啦！
- en: Tips for monetizing
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 赚钱的技巧
- en: Simply charging $0.99 (or a similar conversion for your country) for your app
    isn't the only way to make money on it. Actually, in my experience, it's one of
    the worst ways to make money from your app.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 仅通过向您的应用程序收取0.99美元（或您所在国家的类似转换）来赚钱并不是唯一的方法。实际上，根据我的经验，这是从您的应用程序中赚钱最糟糕的方法之一。
- en: In fact, I have made more money with in-app advertising then I ever have with
    the funds from app purchases.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 事实上，我通过内购广告赚到的钱比通过应用程序购买的资金要多。
- en: The best thing that you can do is make your app free, then incorporate some
    kind of advertising outlet such as **iAds**, **Admob**, **Chartboost**, or any
    other iOS-enabled advertising API.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 您能做的最好的事情就是将您的应用程序免费提供，然后加入某种广告渠道，如**iAds**、**Admob**、**Chartboost**或任何其他iOS兼容的广告API。
- en: Let's go through a few of the advertising APIs and how you can sign up for them
    and integrate them into your game.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看一些广告API以及您如何注册它们并将它们集成到您的游戏中。
- en: iAds
  id: totrans-70
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: iAds
- en: Since you are already signed up as an iOS developer, you don't need to go through
    any sign-up process. You do, however, need to (if you haven't already) set up
    the appropriate contracts for iAds.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 由于您已经注册为iOS开发者，您不需要进行任何注册流程。然而，您需要（如果您还没有的话）设置适当的iAds合同。
- en: 'To do this, log in to [itunesconnect.apple.com](http://itunesconnect.apple.com)
    and click on the **Agreements, Tax, and Banking** icon:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 要做到这一点，请登录到[itunesconnect.apple.com](http://itunesconnect.apple.com)并点击**协议、税务和银行**图标：
- en: '![iAds](img/B03553_07_13.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
  zh: '![iAds](img/B03553_07_13.jpg)'
- en: On the next screen, you will see **Request Contracts** if you haven't yet set
    them up. Simply request the **iAd App Network** contract. I recommend that you
    request all the agreements, but for this section of the chapter we only need iAds.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一屏幕，如果你还没有设置，你会看到**请求合同**。只需请求**iAd应用网络**合同。我建议你请求所有协议，但在这个章节的这一部分，我们只需要iAds。
- en: Once you have clicked on **Request**, you will be asked for legal entity information—in
    other words, information about the person who has the authority to agree to the
    contracts. Once done, simply agree and go back to the contracts screen.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你点击**请求**，你将被要求提供法人实体信息——换句话说，就是有权同意合同的个人的信息。完成后，只需同意并返回合同屏幕。
- en: 'When you''re back at the contracts screen, you will be required to fill in
    your banking information, tax information, and so on, as shown in the following
    screenshot:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 当你回到合同屏幕时，你将需要填写你的银行信息、税务信息等，如下截图所示：
- en: '![iAds](img/B03553_07_14.jpg)'
  id: totrans-77
  prefs: []
  type: TYPE_IMG
  zh: '![iAds](img/B03553_07_14.jpg)'
- en: 'Are you getting excited? I know I am! Here''s some exciting information at
    a glance about iAds:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 你兴奋了吗？我知道我很兴奋！以下是一些关于iAds的快速信息：
- en: '**Banner views use just a portion of the screen to display a banner ad**: We''ve
    all seen them, those tiny little ads at the bottom of a game we are playing or
    an app we are using.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**横幅视图仅使用屏幕的一部分来显示横幅广告**：我们都见过，那些在我们玩游戏或使用应用时出现在底部的微小广告。'
- en: '**Full screen ads provide larger advertisements to iPad apps**: We can even
    show a full screen ad! This can come in handy when, let''s say, the player beats
    a level. You can show a fullscreen ad, so it''s not exactly disturbing a player''s
    gameplay.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**全屏广告为iPad应用提供更大的广告**：我们甚至可以显示全屏广告！当玩家击败一个关卡时，这可能会很有用。你可以显示全屏广告，这样就不会打扰玩家的游戏体验。'
- en: '**You can pause nonessential activities while users interact with advertisements**:
    Once the user taps on the ad, it will launch into a fullscreen interactive experience
    for the user. This obscures everything happening underneath, but fortunately we
    can pause everything going on in the game, so our player''s progress isn''t being
    hampered by an ad displaying, and our poor player runs into an enemy. That wouldn''t
    be fun...'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**您可以在用户与广告互动时暂停非必要活动**：一旦用户点击广告，它将启动一个全屏的交互式体验。这会遮挡下面发生的一切，但幸运的是，我们可以暂停游戏中的一切，这样我们的玩家的进度就不会因为广告显示而受阻，我们的玩家也不会遇到敌人。那不会很有趣...'
- en: '**Canceling advertising negatively impacts your app**: You can programmatically
    cancel the interactive ad experience and force the user back to your app if your
    app needs the attention of the user. However, Apple recommends you only do this
    if absolutely necessary because it may affect your fill rates.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**取消广告会对你的应用产生负面影响**：如果你的应用需要用户的注意力，你可以通过编程取消交互式广告体验，并强制用户回到你的应用。然而，苹果建议你只有在绝对必要时才这样做，因为这可能会影响你的填充率。'
- en: Now we can start integrating!
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以开始集成！
- en: 'It''s really simple, so let''s start by adding the iAds framework to our project.
    Do you remember how to add frameworks? The following screenshot shows how to do
    this:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 这真的很简单，所以让我们先添加iAds框架到我们的项目中。你还记得如何添加框架吗？以下截图显示了如何进行此操作：
- en: '![iAds](img/B03553_07_15.jpg)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![iAds](img/B03553_07_15.jpg)'
- en: 'Don''t worry if you don''t remember! In your Xcode, select your project in
    the sidebar. Then, in the center window, with your **Target** selected (see the
    previous screenshot), under general, scroll down to the bottom of the window where
    you see **Linked Frameworks and Libraries**:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不记得，不要担心！在你的Xcode中，在侧边栏中选择你的项目。然后，在中心窗口中，选择你的**目标**（见上一张截图），在“常规”部分，向下滚动到窗口底部，你会看到**链接的框架和库**：
- en: '![iAds](img/B03553_07_16.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![iAds](img/B03553_07_16.jpg)'
- en: 'Simply click on the **+** button to add a new framework. In the search bar,
    type the screenshot shows ''iAd'':'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 简单地点击**+**按钮来添加一个新的框架。在搜索栏中，输入截图显示的“iAd”。
- en: '![iAds](img/B03553_07_17.jpg)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![iAds](img/B03553_07_17.jpg)'
- en: Next, click on the **Ok** button!
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，点击**确定**按钮！
- en: It's that easy! The iAd framework is officially integrated into our project!
    Now, all that we have to do is insert the code to display the ads.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 就这么简单！iAd框架已正式集成到我们的项目中！现在，我们唯一要做的就是插入显示广告的代码。
- en: 'We will hop in to our **ViewController.h** file and we will adjust the code
    so that it looks like the following:'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将进入**ViewController.h**文件，并调整代码，使其看起来如下所示：
- en: '[PRE0]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: To explain, we imported the iAd framework into the `ViewController` class, then
    we declared the `ViewController` class and `AdBannerViewDelegate` to control iAds.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
- en: We then declared the `ADBannerView` variable as `adView`.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s go in to our `ViewController.m` file now and change the following methods
    to display our ads. The bold text is what''s new:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  id: totrans-97
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Now, we will go on over to our `GameLevelScene.m` file. Let''s scroll down
    to our `initWithSize` method and add the following code (again the bold text is
    added):'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  id: totrans-99
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Then, we will scroll down even further to our `touchesBegan:` method and, within
    the `if (node.name isEqualToString:@"playButton"])` method, add the following
    code:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Confused? No problem!
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: What we did is set up a notification center to accept certain, well, notifications.
    This is an easy way to call methods between different class files. All we did
    is set up the notification center in our `ViewController` class to receive a notification
    to show and hide the banners.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
- en: Why do we do it this way?
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: Banner views are only able to be displayed on a `ViewController` class. In the
    case of our game, we only have one view controller, whereas our `GameLevelScene`
    is not a `ViewController` class; it's a SpriteKit scene that is displayed on our
    `ViewController` class. Ergo, if you were to set up and display the Banner View
    in our scene, it wouldn't show up because it's a SpriteKit scene, not a `ViewController`
    class.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: Makes sense?
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
- en: Once you have everything coded, test to see what happens!
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: '![iAds](img/B03553_07_18.jpg)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
- en: 'Then, when you click on the play button, you will see the following:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: '![iAds](img/B03553_07_19.jpg)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
- en: All gone!
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: Keep in mind that no actual ads will appear until the game has been released;
    until then, it will display placeholder ads.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
- en: That's it! You are now well on your way to making ad money!
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
- en: Now, let's talk about the other advertising outlets.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
- en: AdMob
  id: totrans-115
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: After downloading the framework (which you can find easily on Google), extract
    it to a place that's easy to locate again.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
- en: 'All we have to do is right-click on our project on the left-hand side bar,
    and choose **Add Files To (Your Project Name)**:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
- en: Locate the `GoogleMobileAds.framework` you just downloaded, and add it.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
- en: 'The AdMob SDK depends on the following iOS development frameworks, which may
    not already be part of your project:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
- en: AdSupport
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: AudioToolbox
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: AVFoundation
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CoreGraphics
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CoreMedia
  id: totrans-124
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CoreTelephony
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: EventKit
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: EventKitUI
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MessageUI
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: StoreKit
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SystemConfiguration
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Once you have imported these frameworks and referenced the AdMob SDK, Xcode
    will automatically link to the required frameworks.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
- en: 'Following Google''s own documentation, add the following code in your `ViewController`
    class to set up ads:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Now that our project has the SDK referenced, let's put banner ads into it.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
- en: 'A **GADBannerView** (**GoogleAd Banner View**) can be created from a storyboard
    or from code. For regular apps, things are put together in the Storyboard editor
    but the same methods work for a game such as ours, just remember to keep the code
    in your `ViewController` class:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
- en: '![AdMob](img/B03553_07_20.jpg)'
  id: totrans-136
  prefs: []
  type: TYPE_IMG
- en: 'Open the main storyboard and, in the `Object` library in the bottom-right corner,
    search for `UIView` and drag a `UIView` element into your view controller. Then,
    in the **Identity inspector** button in the top-right corner, we will change the
    class of this view to a `GADBannerView`, as seen in the previous image:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
- en: 'The `GADBannerView` class needs a reference in code to load ads into it. Open
    the **Assistant Editor** by navigating to **View** | **Assistant Editor** | **Show
    Assistant Editor**:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
- en: '![AdMob](img/B03553_07_21.jpg)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
- en: In the assistant editor, ensure that the `ViewController.h` file is displayed.
    Next, holding the Control key (or just right-click and drag), click on the `GADBannerView`
    element and drag your cursor over to the `ViewController.h` file.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
- en: 'This is the easiest way to link outlets in your storyboard to code. This has
    been extremely streamlined and takes a bunch of work out of programming; previously,
    we would have had to manually type the outlet, then link it manually in the storyboard
    editor, which wasn''t fun. We are going to add the following code, by doing the
    following, we are going to import the Google ads framework:'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: You then add the following code and make the required adjustments to the methods
    that are already in your `ViewController.m` file.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, to display an ad, just insert the following method in either the `ViewDidLoad`
    section or wherever you would like it to appear:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  id: totrans-145
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: It's (almost) that easy!
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
- en: There are a few changes that need to be made, though. First, you need to create
    a new `AppID` variable through the website. All you gotta do is copy and paste
    the ID in place of the one that is after `self.bannerView.adUnitID =`.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
- en: Implementing Chartboost!
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Importing the framework will be the same no matter what framework you import.
    Here are the required frameworks for Chartboost:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
- en: StoreKit
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CoreGraphics
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: UIKit
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Foundation
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'You will have to add only one of these. The other three should be included
    with a SpriteKit project. For Chartboost, we need to start in our `AppDelegate`
    class to initialize the app ID and app signature, both of which are set up under
    Chartboost''s website. At the top of the `AppDelegate.m` file, we need to import
    the following:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Then, inside our `Application didFinishLaunchingWithOptions` method, we need
    to add the following block of code:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'There is a note, Chartboost must be initialized this way, as they record app
    bootups to track analytics for you. If you don''t do it this way, you won''t get
    any ads. Then you cry. Want to know what''s next? The following code will show
    us the ad:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: It's really that easy! Simply add that line of code when you want to display
    your ad and boom! Done! I can smell the revenue now!
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
- en: You know, you guys are a great audience, I really hope you've enjoyed and learned
    a lot from this book.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 你知道，你们都是一群了不起的听众，我真心希望你们从这本书中学到了很多。
- en: I really feel you will be able to create your own full-fledged games and monetize
    them with extreme ease.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 我真的觉得你将能够轻松地创建自己的完整游戏，并通过它们轻松地赚钱。
- en: But you know what... we aren't done yet. No no! We are actually going to talk
    about updating your app, and adding multiplayer functionality!
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 但你知道什么...我们还没有完成。不，不！我们实际上将要讨论如何更新你的应用，以及添加多人游戏功能！
- en: Buckle up, this last chapter is going to be a blast!
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 系好安全带，这一章将会非常精彩！
- en: It is too dangerous to go alone... Does the following image seem familiar?
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 独自一人去太危险了...下面的图片看起来熟悉吗？
- en: '![Implementing Chartboost!](img/B03553_07_22.jpg)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![实现Chartboost！](img/B03553_07_22.jpg)'
- en: Summary
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned how to deploy your app on the App store and how
    to make money on your published app by incorporating advertising outlets, such
    as iAds, Admob, and Chartboost. Now, you can develop and deploy as many app as
    you want. Enjoy developing, deploying, and earning money on your apps.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，你学习了如何在App Store上部署你的应用，以及如何通过整合广告渠道，如iAds、Admob和Chartboost，在你的发布的应用中赚钱。现在，你可以开发并部署尽可能多的应用。享受开发、部署和通过你的应用赚钱吧。
