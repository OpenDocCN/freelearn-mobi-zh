<html><head></head><body>
<div id="_idContainer113">
<h1 class="chapter-number" id="_idParaDest-76"><a id="_idTextAnchor334"/><span class="koboSpan" id="kobo.1.1">5</span></h1>
<h1 id="_idParaDest-77"><a id="_idTextAnchor335"/><span class="koboSpan" id="kobo.2.1">iPad Project – Photo Gallery Enhanced View</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In this chapter, we will work on implementing enhanced view and page navigation functionalities in our photo gallery project. </span><span class="koboSpan" id="kobo.3.2">In the previous chapter, we looked at the design of the photo gallery and how it works uniquely due to it being developed for a large device. </span><span class="koboSpan" id="kobo.3.3">Then, we broke it down into two views and a fullscreen mode. </span><span class="koboSpan" id="kobo.3.4">Afterward, we implemented the first view, which was the highlight view. </span><span class="koboSpan" id="kobo.3.5">To do this, we figured out the components required. </span><span class="koboSpan" id="kobo.3.6">We then implemented all the components using SwiftUI. </span><span class="koboSpan" id="kobo.3.7">At the end of the previous chapter, we only had a fancy wireframe for the highlight view and no connection to another view. </span><span class="koboSpan" id="kobo.3.8">Now, we will create the enhanced view and implement all the functionality to provide navigation between the views and send image metadata between the highlight and </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">enhanced views.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">This chapter will be split into the </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">following sections:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.7.1">EnhancedView</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.8.1">Design Overview</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.9.1">Updating </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.10.1">HighlightView</span></strong></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.11.1">Testing </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.12.1">EnhancedView</span></strong></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.13.1">Extra tasks</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.14.1">By the end of this chapter, you will have created a fully functional photo gallery that leverages the iPad’s immense screen real estate, which is yours to be modified, tweaked, and used as you see fit. </span><span class="koboSpan" id="kobo.14.2">I will give you exercises when we reach the end of the chapter to implement more advanced functionality into the photo gallery. </span><span class="koboSpan" id="kobo.14.3">This will transition nicely into our next project, the Mac </span><span class="No-Break"><span class="koboSpan" id="kobo.15.1">App Store.</span></span></p>
<h1 id="_idParaDest-78"><a id="_idTextAnchor336"/><span class="koboSpan" id="kobo.16.1">Technical Requirements</span></h1>
<p><span class="koboSpan" id="kobo.17.1">This chapter requires you to download Xcode version 14 or above from Apple’s </span><span class="No-Break"><span class="koboSpan" id="kobo.18.1">App Store.</span></span></p>
<p><span class="koboSpan" id="kobo.19.1">To install Xcode just search for Xcode in the App Store, then select and download the latest version. </span><span class="koboSpan" id="kobo.19.2">Open Xcode and follow any additional installation instructions. </span><span class="koboSpan" id="kobo.19.3">Once Xcode has opened and launched, you’re ready </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">to go.</span></span></p>
<p><span class="koboSpan" id="kobo.21.1">Version 14 of Xcode has the </span><span class="No-Break"><span class="koboSpan" id="kobo.22.1">following features/requirements:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.23.1">Includes SDKs for iOS 16, iPadOS 16, macOS 12.3, tvOS 16, and </span><span class="No-Break"><span class="koboSpan" id="kobo.24.1">watchOS 9.</span></span></li>
<li><span class="koboSpan" id="kobo.25.1">Supports on-device debugging in iOS 11 or later, tvOS 11 or later, and watchOS 4 </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">or later.</span></span></li>
<li><span class="koboSpan" id="kobo.27.1">Requires a Mac running macOS Monterey 12.5 </span><span class="No-Break"><span class="koboSpan" id="kobo.28.1">or later.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.29.1">For further information regarding technical details, please refer to </span><a href="B18783_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.30.1">Chapter 1</span></em></span></a><span class="No-Break"><span class="koboSpan" id="kobo.31.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.32.1">The code files for this chapter can be </span><span class="No-Break"><span class="koboSpan" id="kobo.33.1">found here:</span></span></p>
<p><a href="https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects/tree/main/Code/Chapter%205%20-%20iPad%20Project%20-%20Photo%20Gallery%20Enhanced%20View"><span class="No-Break"><span class="koboSpan" id="kobo.34.1">https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects/tree/main/Code/Chapter%205%20-%20iPad%20Project%20-%20Photo%20Gallery%20Enhanced%20View</span></span></a></p>
<p><span class="koboSpan" id="kobo.35.1">In the next section, we will look at the </span><strong class="source-inline"><span class="koboSpan" id="kobo.36.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.37.1">. </span><span class="koboSpan" id="kobo.37.2">We will break it down into components that we </span><span class="No-Break"><span class="koboSpan" id="kobo.38.1">can implement.</span></span></p>
<h1 id="_idParaDest-79"><a id="_idTextAnchor337"/><span class="koboSpan" id="kobo.39.1">EnhancedView design overview</span></h1>
<p><span class="koboSpan" id="kobo.40.1">In this section, we will </span><a id="_idIndexMarker242"/><span class="koboSpan" id="kobo.41.1">implement the </span><strong class="source-inline"><span class="koboSpan" id="kobo.42.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.43.1">. </span><span class="koboSpan" id="kobo.43.2">If you recall, in the previous chapter, we discussed the design of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.44.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.45.1">. </span><span class="koboSpan" id="kobo.45.2">The following figures show the portrait and landscape modes of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.46.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.47.1"> as </span><span class="No-Break"><span class="koboSpan" id="kobo.48.1">a reminder:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer102">
<span class="koboSpan" id="kobo.49.1"><img alt="Figure 5.1 – EnhancedView wireframe preview in portrait mode" src="image/Figure_5.01_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.50.1">Figure 5.1 – EnhancedView wireframe preview in portrait mode</span></p>
<div>
<div class="IMG---Figure" id="_idContainer103">
<span class="koboSpan" id="kobo.51.1"><img alt="Figure 5.2 – EnhancedView wireframe preview in landscape mode" src="image/Figure_5.02_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.52.1">Figure 5.2 – EnhancedView wireframe preview in landscape mode</span></p>
<p><span class="koboSpan" id="kobo.53.1">Before we code</span><a id="_idIndexMarker243"/><span class="koboSpan" id="kobo.54.1"> our application, we will break down the </span><strong class="source-inline"><span class="koboSpan" id="kobo.55.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.56.1"> into the elements that comprise it. </span><span class="koboSpan" id="kobo.56.2">As a little task, see whether you can figure out what they are. </span><span class="koboSpan" id="kobo.56.3">Don’t worry if you don’t know the exact UI component names; we will look at the components in the </span><span class="No-Break"><span class="koboSpan" id="kobo.57.1">following sections.</span></span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.58.1">Important note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.59.1">The components are the same for portrait and </span><span class="No-Break"><span class="koboSpan" id="kobo.60.1">landscape orientation.</span></span></p>
<h2 id="_idParaDest-80"><a id="_idTextAnchor338"/><span class="koboSpan" id="kobo.61.1">The Text component</span></h2>
<p><span class="koboSpan" id="kobo.62.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.63.1">Text</span></strong><span class="koboSpan" id="kobo.64.1"> component</span><a id="_idIndexMarker244"/><span class="koboSpan" id="kobo.65.1"> is one of the simplest components offered by SwiftUI. </span><span class="koboSpan" id="kobo.65.2">It allows you to display a string of characters/numbers, which is very useful for headings and providing information. </span><span class="koboSpan" id="kobo.65.3">We will use it three times for the </span><span class="No-Break"><span class="koboSpan" id="kobo.66.1">following features:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.67.1">Image title</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.68.1">Date</span></span></li>
<li><span class="No-Break"><span class="koboSpan" id="kobo.69.1">Image description</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.70.1">The following figures show </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.71.1">Text</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.72.1"> components:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer104">
<span class="koboSpan" id="kobo.73.1"><img alt="Figure 5.3 – Image Title text component" src="image/Figure_5.03_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.74.1">Figure 5.3 – Image Title text component</span></p>
<div>
<div class="IMG---Figure" id="_idContainer105">
<span class="koboSpan" id="kobo.75.1"><img alt="Figure 5.4 – Image date text component" src="image/Figure_5.04_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.76.1">Figure 5.4 – Image date text component</span></p>
<div>
<div class="IMG---Figure" id="_idContainer106">
<span class="koboSpan" id="kobo.77.1"><img alt="Figure 5.5 – Image description text component" src="image/Figure_5.05_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.78.1">Figure 5.5 – Image description text component</span></p>
<h2 id="_idParaDest-81"><a id="_idTextAnchor339"/><span class="koboSpan" id="kobo.79.1">The Image component</span></h2>
<p><span class="koboSpan" id="kobo.80.1">The </span><strong class="source-inline"><span class="koboSpan" id="kobo.81.1">Image</span></strong><span class="koboSpan" id="kobo.82.1"> component</span><a id="_idIndexMarker245"/><span class="koboSpan" id="kobo.83.1"> is one of the core components offered by SwiftUI. </span><span class="koboSpan" id="kobo.83.2">It allows you to display an image, which can be used to provide a visual representation or to a body of text. </span><span class="koboSpan" id="kobo.83.3">We will use it to show a bigger version of the image that was selected from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.84.1">HighlightView</span></strong><span class="koboSpan" id="kobo.85.1">. </span><span class="koboSpan" id="kobo.85.2">The following figure shows the image </span><span class="No-Break"><span class="koboSpan" id="kobo.86.1">in </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.87.1">EnhancedView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.88.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer107">
<span class="koboSpan" id="kobo.89.1"><img alt="Figure 5.6 – Image component" src="image/Figure_5.06_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.90.1">Figure 5.6 – Image component</span></p>
<p><span class="koboSpan" id="kobo.91.1">In the next section, we will create </span><strong class="source-inline"><span class="koboSpan" id="kobo.92.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.93.1"> and implement it using the components we discussed using SwiftUI in </span><span class="No-Break"><span class="koboSpan" id="kobo.94.1">our application.</span></span></p>
<h2 id="_idParaDest-82"><a id="_idTextAnchor340"/><span class="koboSpan" id="kobo.95.1">Adding EnhancedView Components</span></h2>
<p><span class="koboSpan" id="kobo.96.1">In this section, we will </span><a id="_idIndexMarker246"/><span class="koboSpan" id="kobo.97.1">add the previously discussed components to create our </span><strong class="source-inline"><span class="koboSpan" id="kobo.98.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.99.1">. </span><span class="koboSpan" id="kobo.99.2">However, we first need to create the </span><strong class="source-inline"><span class="koboSpan" id="kobo.100.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.101.1"> file. </span><span class="koboSpan" id="kobo.101.2">Doing so is simple; follow </span><span class="No-Break"><span class="koboSpan" id="kobo.102.1">these steps:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.103.1">We will now create a new SwiftUI View for the results page. </span><span class="koboSpan" id="kobo.103.2">Right-click the gallery folder inside of your </span><strong class="bold"><span class="koboSpan" id="kobo.104.1">Project Navigator</span></strong><span class="koboSpan" id="kobo.105.1"> pane and select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.106.1">New File...</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer108">
<span class="koboSpan" id="kobo.108.1"><img alt="Figure 5.7 – Select New File﻿..." src="image/Figure_5.07_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.109.1">Figure 5.7 – Select New File...</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.110.1">Next, we will select the type of file we want to add, which is a </span><strong class="bold"><span class="koboSpan" id="kobo.111.1">SwiftUI View</span></strong><span class="koboSpan" id="kobo.112.1"> (selecting this provides a SwiftUI template, which saves us the time and effort of retyping the SwiftUI file structure every time) in the </span><strong class="bold"><span class="koboSpan" id="kobo.113.1">User </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.114.1">Interface</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.115.1"> section:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer109">
<span class="koboSpan" id="kobo.116.1"><img alt="Figure 5.8 – SwiftUI View selection" src="image/Figure_5.08_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.117.1">Figure 5.8 – SwiftUI View selection</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.118.1">Finally, we must </span><a id="_idIndexMarker247"/><span class="koboSpan" id="kobo.119.1">rename our </span><strong class="bold"><span class="koboSpan" id="kobo.120.1">SwiftUI View</span></strong><span class="koboSpan" id="kobo.121.1">. </span><span class="koboSpan" id="kobo.121.2">Let’s name it </span><strong class="source-inline"><span class="koboSpan" id="kobo.122.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.123.1"> and </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">press </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.125.1">Create</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.126.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer110">
<span class="koboSpan" id="kobo.127.1"><img alt="Figure 5.9 – Naming our view" src="image/Figure_5.09_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.128.1">Figure 5.9 – Naming our view</span></p>
<p><span class="koboSpan" id="kobo.129.1">So far, we have looked at the wireframes and the components that compose them. </span><span class="koboSpan" id="kobo.129.2">Finally, we created our </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.130.1">EnhancedView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.131.1"> file.</span></span></p>
<h1 id="_idParaDest-83"><a id="_idTextAnchor341"/><span class="koboSpan" id="kobo.132.1">Updating HighlightView</span></h1>
<p><span class="koboSpan" id="kobo.133.1">The first thing I will do is</span><a id="_idIndexMarker248"/><span class="koboSpan" id="kobo.134.1"> update the code to align with my coding standards; feel free to do the same. </span><span class="koboSpan" id="kobo.134.2">Now, we will add five state variables. </span><span class="koboSpan" id="kobo.134.3">One will be used to track whether an image has been clicked, and the other four will be used to pass data from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.135.1">HighlightView</span></strong><span class="koboSpan" id="kobo.136.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.137.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.138.1">. </span><span class="koboSpan" id="kobo.138.2">Add the code after the adaptive columns </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">like so:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.140.1">
private let adaptiveColumns =[
    GridItem( .adaptive( minimum: 300 ) )
]
@State private var isClicked: Bool = false
@State private var imageFile: String = ""
@State private var imageName: String = ""
@State private var imageDate: String = ""
@State private var imageDescription: String = ""</span></pre>
<p><span class="koboSpan" id="kobo.141.1">Now, update the body to match the </span><span class="No-Break"><span class="koboSpan" id="kobo.142.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.143.1">
var body: some View{
    NavigationView
    {
        ScrollView
        {
            LazyVGrid( columns: adaptiveColumns, spacing: 20 )
            {
                ForEach( images.indices )
                { i in
                    NavigationLink( destination: EnhancedView( imageFile: $imageFile, imageName: $imageName, imageDate: $imageDate, imageDescription: $imageDescription ), isActive: $isClicked, label:
                        {
                        Image( images[i] )
                            .resizable( )
                            .scaledToFill( )
                            .frame( width: 300, height: 300 )
                            .onTapGesture {
                                imageFile = images[i]
                                imageName = "FireDEV Podcast"
                                imageDate = "22/09/2022"
                                imageDescription = "Aspiring entrepreneurs and industry professionals alike can learn a lot from a fireside chat with interesting people in the industry. </span><span class="koboSpan" id="kobo.143.2">From small indie developers to CEOs of major companies, these chats provide an opportunity to gain insight into the unique stories of success that have led these individuals to their current positions. </span><span class="koboSpan" id="kobo.143.3">Through conversations about their experiences and challenges, we can gain valuable knowledge about their successes, failures, and the strategies they used to reach their goals. </span><span class="koboSpan" id="kobo.143.4">We can also gain insight into their motivations and the values that drive their decisions. </span><span class="koboSpan" id="kobo.143.5">By engaging in a fireside chat with these industry leaders, we can gain a better understanding of the industry and the people within it, and gain valuable knowledge that can help us to reach our own goals."
</span><span class="koboSpan" id="kobo.143.6">                                isClicked = true
                            }
                    } )
                }
            }
        }
    }
    .navigationViewStyle( StackNavigationViewStyle( ) )
}</span></pre>
<p><span class="koboSpan" id="kobo.144.1">We just added a lot of code, so let’s unpack </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">it all:</span></span></p>
<ul>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.146.1">NavigationView {</span></strong><span class="koboSpan" id="kobo.147.1">: We</span><a id="_idIndexMarker249"/><span class="koboSpan" id="kobo.148.1"> implement a navigation system that will allow us to go to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.149.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.150.1"> and back. </span><span class="koboSpan" id="kobo.150.2">Using this code for the </span><strong class="source-inline"><span class="koboSpan" id="kobo.151.1">NavigationView</span></strong><span class="koboSpan" id="kobo.152.1"> alone will result in a split system, thus at the end we add the proceeding code to remove the split </span><span class="No-Break"><span class="koboSpan" id="kobo.153.1">view mode.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.154.1">.navigationViewStyle( StackNavigationViewStyle( ) )</span></strong><span class="koboSpan" id="kobo.155.1">: Coupled with the new </span><strong class="source-inline"><span class="koboSpan" id="kobo.156.1">NavigationView</span></strong><span class="koboSpan" id="kobo.157.1">, we wrap each image around a </span><strong class="source-inline"><span class="koboSpan" id="kobo.158.1">NavigationLink</span></strong><span class="koboSpan" id="kobo.159.1">, which allows it to be clickable so we can navigate to </span><span class="No-Break"><span class="koboSpan" id="kobo.160.1">another view.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.161.1">NavigationLink( destination: EnhancedView( imageFile: $imageFile, imageName: $imageName, imageDate: $imageDate, imageDescription: $imageDescription ), isActive: $isClicked, label</span></strong><span class="koboSpan" id="kobo.162.1">: Within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.163.1">NavigationLink</span></strong><span class="koboSpan" id="kobo.164.1">, we have several parameters. </span><span class="koboSpan" id="kobo.164.2">Let’s break down the purpose of </span><span class="No-Break"><span class="koboSpan" id="kobo.165.1">each one:</span></span><ul><li><strong class="source-inline"><span class="koboSpan" id="kobo.166.1">destination: EnhancedView(</span></strong><span class="koboSpan" id="kobo.167.1">: Sets the view to navigate to upon clicking </span><span class="No-Break"><span class="koboSpan" id="kobo.168.1">the image.</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.169.1">imageFile: $imageFile</span></strong><span class="koboSpan" id="kobo.170.1">: Passes the </span><strong class="source-inline"><span class="koboSpan" id="kobo.171.1">imageFile</span></strong><span class="koboSpan" id="kobo.172.1"> state variable that was created previously to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.173.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.174.1">. </span><span class="koboSpan" id="kobo.174.2">This variable is the path/filename of the image. </span><span class="koboSpan" id="kobo.174.3">This will be stored as </span><span class="No-Break"><span class="koboSpan" id="kobo.175.1">a string.</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.176.1">imageName: $imageName</span></strong><span class="koboSpan" id="kobo.177.1">: Passes the </span><strong class="source-inline"><span class="koboSpan" id="kobo.178.1">imageName</span></strong><span class="koboSpan" id="kobo.179.1"> state variable to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.180.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.181.1">. </span><span class="koboSpan" id="kobo.181.2">This variable is the name/title of </span><span class="No-Break"><span class="koboSpan" id="kobo.182.1">the image.</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.183.1">imageDate: $imageDate</span></strong><span class="koboSpan" id="kobo.184.1">: Passes the </span><strong class="source-inline"><span class="koboSpan" id="kobo.185.1">imageDate</span></strong><span class="koboSpan" id="kobo.186.1"> state variable that was created </span><a id="_idIndexMarker250"/><span class="koboSpan" id="kobo.187.1">previously to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.188.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.189.1">. </span><span class="koboSpan" id="kobo.189.2">This variable is the date of the image. </span><span class="koboSpan" id="kobo.189.3">This could be the creation date, edit date, or some other </span><span class="No-Break"><span class="koboSpan" id="kobo.190.1">relevant date.</span></span></li><li><strong class="source-inline"><span class="koboSpan" id="kobo.191.1">imageDescription: $imageDescription</span></strong><span class="koboSpan" id="kobo.192.1">: Passes the </span><strong class="source-inline"><span class="koboSpan" id="kobo.193.1">imageDescription</span></strong><span class="koboSpan" id="kobo.194.1"> state variable to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.195.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.196.1">. </span><span class="koboSpan" id="kobo.196.2">This variable is the description of </span><span class="No-Break"><span class="koboSpan" id="kobo.197.1">the image.</span></span></li></ul></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.198.1">isActive: $isClicked</span></strong><span class="koboSpan" id="kobo.199.1">: Tracks whether the image has been clicked. </span><span class="koboSpan" id="kobo.199.2">If so, it will navigate to </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">the </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.201.1">EnhancedView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.202.1">.</span></span></li>
<li><strong class="source-inline"><span class="koboSpan" id="kobo.203.1">label</span></strong><span class="koboSpan" id="kobo.204.1">: Although we are not using any form of text for the button, the image will be used as a label, which will act as the clickable label/image </span><span class="No-Break"><span class="koboSpan" id="kobo.205.1">for navigation.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.206.1">The next step is to add clickable functionality to the image allowing the user to navigate from the </span><strong class="source-inline"><span class="koboSpan" id="kobo.207.1">HighlightView</span></strong><span class="koboSpan" id="kobo.208.1"> to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.209.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.210.1">. </span><span class="koboSpan" id="kobo.210.2">Update the image code within the </span><strong class="source-inline"><span class="koboSpan" id="kobo.211.1">NavigationLink</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.212.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.213.1">
Image( images[i] )    .resizable( )
    .scaledToFill( )
    .frame( width: 300, height: 300 )
    .onTapGesture {
        imageFile = images[i]
        imageName = "FireDEV Podcast"
        imageDate = "22/09/2022"
        imageDescription = "Aspiring entrepreneurs and industry professionals alike can learn a lot from a fireside chat with interesting people in the industry. </span><span class="koboSpan" id="kobo.213.2">From small indie developers to CEOs of major companies, these chats provide an opportunity to gain insight into the unique stories of success that have led these individuals to their current positions. </span><span class="koboSpan" id="kobo.213.3">Through conversations about their experiences and challenges, we can gain valuable knowledge about their successes, failures, and the strategies they used to reach their goals. </span><span class="koboSpan" id="kobo.213.4">We can also gain insight into their motivations and the values that drive their decisions. </span><span class="koboSpan" id="kobo.213.5">By engaging in a fireside chat with these industry leaders, we can gain a better understanding of the industry and the people within it, and gain valuable knowledge that can help us to reach our own goals."
</span><span class="koboSpan" id="kobo.213.6">        isClicked = true
    }</span></pre>
<p><span class="koboSpan" id="kobo.214.1">We have added an </span><strong class="source-inline"><span class="koboSpan" id="kobo.215.1">onTapGesture</span></strong><span class="koboSpan" id="kobo.216.1"> function. </span><span class="koboSpan" id="kobo.216.2">The purpose of this is to assign the metadata for the image to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.217.1">@State</span></strong><span class="koboSpan" id="kobo.218.1"> variables created earlier. </span><span class="koboSpan" id="kobo.218.2">All the metadata variables are hardcoded, except </span><strong class="source-inline"><span class="koboSpan" id="kobo.219.1">imageFile</span></strong><span class="koboSpan" id="kobo.220.1">, which uses an array. </span><span class="koboSpan" id="kobo.220.2">Feel free to extend the current array to become a multidimensional data container to store unique metadata for each image. </span><span class="koboSpan" id="kobo.220.3">Finally, we set </span><strong class="source-inline"><span class="koboSpan" id="kobo.221.1">isClicked</span></strong><span class="koboSpan" id="kobo.222.1"> to </span><strong class="source-inline"><span class="koboSpan" id="kobo.223.1">true</span></strong><span class="koboSpan" id="kobo.224.1">; this tells the view to navigate to the </span><a id="_idIndexMarker251"/><span class="koboSpan" id="kobo.225.1">designated view on the </span><strong class="source-inline"><span class="koboSpan" id="kobo.226.1">NavigationLink</span></strong><span class="koboSpan" id="kobo.227.1">, which is </span><span class="No-Break"><span class="koboSpan" id="kobo.228.1">the </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.229.1">EnhancedView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.230.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.231.1">All these changes will result in the following code for </span><span class="No-Break"><span class="koboSpan" id="kobo.232.1">the </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.233.1">HighlightView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.234.1">:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.235.1">
import SwiftUIstruct HighlightView: View
{
    private let images: [String] =
    [
        "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV", "FireDEV"
    ]
    private let adaptiveColumns =
    [
        GridItem( .adaptive( minimum: 300 ) )
    ]
    @State private var isClicked: Bool = false
    @State private var imageFile: String = ""
    @State private var imageName: String = ""
    @State private var imageDate: String = ""
    @State private var imageDescription: String = ""
    var body: some View
    {
        NavigationView
        {
            ScrollView
            {
                LazyVGrid( columns: adaptiveColumns, spacing: 20 )
                {
                    ForEach( images.indices )
                    { i in
                        NavigationLink( destination: EnhancedView( imageFile: $imageFile, imageName: $imageName, imageDate: $imageDate, imageDescription: $imageDescription ), isActive: $isClicked, label:
                            {
                            Image( images[i] )
                                .resizable( )
                                .scaledToFill( )
                                .frame( width: 300, height: 300 )
                                .onTapGesture {
                                    imageFile = images[i]
                                    imageName = "FireDEV Podcast"
                                    imageDate = "22/09/2022"
                                    imageDescription = "Aspiring entrepreneurs and industry professionals alike can learn a lot from a fireside chat with interesting people in the industry. </span><span class="koboSpan" id="kobo.235.2">From small indie developers to CEOs of major companies, these chats provide an opportunity to gain insight into the unique stories of success that have led these individuals to their current positions. </span><span class="koboSpan" id="kobo.235.3">Through conversations about their experiences and challenges, we can gain valuable knowledge about their successes, failures, and the strategies they used to reach their goals. </span><span class="koboSpan" id="kobo.235.4">We can also gain insight into their motivations and the values that drive their decisions. </span><span class="koboSpan" id="kobo.235.5">By engaging in a fireside chat with these industry leaders, we can gain a better understanding of the industry and the people within it, and gain valuable knowledge that can help us to reach our own goals."
</span><span class="koboSpan" id="kobo.235.6">                                    isClicked = true
                                }
                        } )
                    }
                }
            }
        }
        .navigationViewStyle( StackNavigationViewStyle( ) )
    }
}
struct ContentView_Previews: PreviewProvider
{
    static var previews: some View
    {
        HighlightView( )
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.236.1">That was a lot to unpack! </span><span class="koboSpan" id="kobo.236.2">Feel free to take another look at this section before moving on. </span><span class="koboSpan" id="kobo.236.3">Remember, you have access to the GitHub repository for online access for easy copy and </span><span class="No-Break"><span class="koboSpan" id="kobo.237.1">paste: </span></span><a href="https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects"><span class="No-Break"><span class="koboSpan" id="kobo.238.1">https://github.com/PacktPublishing/Elevate-SwiftUI-Skills-by-Building-Projects</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.239.1">.</span></span><a id="_idTextAnchor342"/></p>
<h2 id="_idParaDest-84"><a id="_idTextAnchor343"/><span class="koboSpan" id="kobo.240.1">Implementing EnhancedView</span></h2>
<p><span class="koboSpan" id="kobo.241.1">First, we need to implement code to</span><a id="_idIndexMarker252"/><span class="koboSpan" id="kobo.242.1"> handle the rotation functionality. </span><span class="koboSpan" id="kobo.242.2">Add the following code above the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.243.1">EnhancedView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.244.1"> struct:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.245.1">
struct DeviceRotationViewModifier: ViewModifier{
    let action: ( UIDeviceOrientation ) -&gt; Void
    func body( content: Content ) -&gt; some View
    {
        content
            .onAppear( )
            .onReceive( NotificationCenter.default.publisher( for: UIDevice.orientationDidChangeNotification ) )
                { _ in
                    action( UIDevice.current.orientation )
                }
    }
}
extension View
{
    func onRotate( perform action: @escaping ( UIDeviceOrientation ) -&gt; Void ) -&gt; some View
        {
            self.modifier( DeviceRotationViewModifier( action: action ) )
        }
}</span></pre>
<p><span class="koboSpan" id="kobo.246.1">The</span><a id="_idIndexMarker253"/><span class="koboSpan" id="kobo.247.1"> preceding code we added allows us to render the content again when rotating the screen. </span><span class="koboSpan" id="kobo.247.2">This will be used shortly when detecting the device’s orientation. </span><span class="koboSpan" id="kobo.247.3">Now, we can add the </span><strong class="source-inline"><span class="koboSpan" id="kobo.248.1">@Binding</span></strong><span class="koboSpan" id="kobo.249.1"> variables at the start of our </span><strong class="source-inline"><span class="koboSpan" id="kobo.250.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.251.1"> struct, which allows us to pass </span><span class="No-Break"><span class="koboSpan" id="kobo.252.1">in metadata:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.253.1">
@Binding var imageFile: String@Binding var imageName: String
@Binding var imageDate: String
@Binding var imageDescription: String</span></pre>
<p><span class="koboSpan" id="kobo.254.1">Now, we will add two variables, the first detecting the device’s orientation and the second detecting the device screen size in pixels. </span><span class="koboSpan" id="kobo.254.2">The former will be used to determine the correct layout, and the latter will be used when sizing components. </span><span class="koboSpan" id="kobo.254.3">Add the </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">following code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.256.1">
@State private var orientation = UIDeviceOrientation.unknownlet screenSize: CGRect = UIScreen.main.bounds</span></pre>
<p><span class="koboSpan" id="kobo.257.1">In the body, we will create a group, which will contain two layouts, one for each orientation: portrait and landscape. </span><span class="koboSpan" id="kobo.257.2">Add the following code, and we will discuss everything that </span><span class="No-Break"><span class="koboSpan" id="kobo.258.1">is happening:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.259.1">
Group{
    if ( orientation.isLandscape )
    {
        LazyHStack
        {
            VStack
            {
                Image( imageFile )
                    .resizable( )
                    .scaledToFit( )
            }.frame( width: screenSize.width * 0.5 )
            VStack
            {
                Text( imageName )
                    .fontWeight(.bold)
                Text( imageDate )
                Text( imageDescription )
            }.frame( width: screenSize.width * 0.5 )
        }
    }
    else
    {
        LazyVStack
        {
            VStack
            {
                Image( imageFile )
                    .resizable( )
                    .scaledToFit( )
            }.frame( height: screenSize.height * 0.5 )
            VStack
            {
                Text( imageName )
                    .fontWeight( .bold )
                Text( imageDate )
                Text( imageDescription )
            }.frame( height: screenSize.height * 0.5 )
        }
    }
}
.onRotate
{ newOrientation in
    orientation = newOrientation
}</span></pre>
<p><span class="koboSpan" id="kobo.260.1">Let’s run </span><a id="_idIndexMarker254"/><span class="koboSpan" id="kobo.261.1">through the code we just added, bit by bit. </span><span class="koboSpan" id="kobo.261.2">First, we check which orientation the device is in. </span><span class="koboSpan" id="kobo.261.3">By default, we check whether it’s landscape. </span><span class="koboSpan" id="kobo.261.4">If not, it must be portrait, and we handle the component sizes and </span><span class="No-Break"><span class="koboSpan" id="kobo.262.1">positioning accordingly:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.263.1">
if ( orientation.isLandscape )</span></pre> <p><span class="koboSpan" id="kobo.264.1">Next, we create a lazy horizontal stack for storing the components in the </span><span class="No-Break"><span class="koboSpan" id="kobo.265.1">landscape orientation:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.266.1">
LazyHStack</span></pre> <p><span class="koboSpan" id="kobo.267.1">Next, we</span><a id="_idIndexMarker255"/><span class="koboSpan" id="kobo.268.1"> create two vertical stacks. </span><span class="koboSpan" id="kobo.268.2">The frame width is set to half of the screen’s width. </span><span class="koboSpan" id="kobo.268.3">This effectively creates an equal splitscreen design. </span><span class="koboSpan" id="kobo.268.4">Feel free to modify the multiplier if you would like a custom split. </span><span class="koboSpan" id="kobo.268.5">Inside the first vertical stack, we put the image, which is set to </span><strong class="source-inline"><span class="koboSpan" id="kobo.269.1">resizable</span></strong><span class="koboSpan" id="kobo.270.1"> and </span><strong class="source-inline"><span class="koboSpan" id="kobo.271.1">scaledToFit</span></strong><span class="koboSpan" id="kobo.272.1">. </span><span class="koboSpan" id="kobo.272.2">In the second vertical stack, we put the text metadata in simple </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.273.1">Text</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.274.1"> components:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.275.1">
VStack{
    Image( imageFile )
        .resizable( )
        .scaledToFit( )
}.frame( width: screenSize.width * 0.5 )
VStack
{
    Text( imageName )
        .fontWeight(.bold)
    Text( imageDate )
    Text( imageDescription )
}.frame( width: screenSize.width * 0.5 )</span></pre>
<p><span class="koboSpan" id="kobo.276.1">In the </span><strong class="source-inline"><span class="koboSpan" id="kobo.277.1">else</span></strong><span class="koboSpan" id="kobo.278.1"> statement, we simply use </span><strong class="source-inline"><span class="koboSpan" id="kobo.279.1">LazyVStack</span></strong><span class="koboSpan" id="kobo.280.1"> as it pertains to the portrait orientation. </span><span class="koboSpan" id="kobo.280.2">The only other change made is to the frame size: it is not linked to the screen’s width but its height. </span><span class="koboSpan" id="kobo.280.3">The rest remains </span><span class="No-Break"><span class="koboSpan" id="kobo.281.1">the same.</span></span></p>
<p><span class="koboSpan" id="kobo.282.1">Finally, we add a detector to our </span><strong class="source-inline"><span class="koboSpan" id="kobo.283.1">Group</span></strong><span class="koboSpan" id="kobo.284.1"> component, which simply detects when the device has been rotated and updates the orientation variable, which is used to detect which mode </span><span class="No-Break"><span class="koboSpan" id="kobo.285.1">to draw:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.286.1">
.onRotate{ newOrientation in
    orientation = newOrientation
}</span></pre>
<p><span class="koboSpan" id="kobo.287.1">The only thing that remains is updating the preview provider at the bottom of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.288.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.289.1"> file. </span><span class="koboSpan" id="kobo.289.2">Update the code </span><span class="No-Break"><span class="koboSpan" id="kobo.290.1">as follows:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.291.1">
struct EnhancedView_Previews: PreviewProvider{
    static var previews: some View
    {
        EnhancedView( imageFile: .constant( "" ), imageName: .constant( "" ), imageDate: .constant( "" ), imageDescription: .constant( "" ) )
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.292.1">The preceding</span><a id="_idIndexMarker256"/><span class="koboSpan" id="kobo.293.1"> code just adds a default set of parameters to be passed through for the preview. </span><span class="koboSpan" id="kobo.293.2">I have left it blank as I used the simulator for testing, but feel free to put in dummy data to ensure you can properly add text using </span><span class="No-Break"><span class="koboSpan" id="kobo.294.1">the preview.</span></span></p>
<p><span class="koboSpan" id="kobo.295.1">In this section, we implemented the </span><strong class="source-inline"><span class="koboSpan" id="kobo.296.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.297.1"> code. </span><span class="koboSpan" id="kobo.297.2">In the next section, we will take a look at the result. </span><span class="koboSpan" id="kobo.297.3">Feel free to modify the layout for landscape and portrait to make </span><span class="No-Break"><span class="koboSpan" id="kobo.298.1">it un</span><a id="_idTextAnchor344"/><span class="koboSpan" id="kobo.299.1">ique.</span></span></p>
<h1 id="_idParaDest-85"><a id="_idTextAnchor345"/><span class="koboSpan" id="kobo.300.1">Testing EnhancedView</span></h1>
<p><span class="koboSpan" id="kobo.301.1">In this section, we will </span><a id="_idIndexMarker257"/><span class="koboSpan" id="kobo.302.1">finally get to test our application. </span><span class="koboSpan" id="kobo.302.2">Launching it up will take us to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.303.1">HighlightView</span></strong><span class="koboSpan" id="kobo.304.1">; click on any image and it will take you to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.305.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.306.1">. </span><span class="koboSpan" id="kobo.306.2">The portrait mode will look </span><span class="No-Break"><span class="koboSpan" id="kobo.307.1">as follows:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer111">
<span class="koboSpan" id="kobo.308.1"><img alt="Figure 5.10 – Portrait mode" src="image/Figure_5.10_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.309.1">Figure 5.10 – Portrait mode</span></p>
<p><span class="koboSpan" id="kobo.310.1">Rotating the application will result in the </span><span class="No-Break"><span class="koboSpan" id="kobo.311.1">following output:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer112">
<span class="koboSpan" id="kobo.312.1"><img alt="Figure 5.11 – Landscape mode" src="image/Figure_5.11_B18783.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.313.1">Figure 5.11 – Landscape mode</span></p>
<p><span class="koboSpan" id="kobo.314.1">Now, our application is </span><a id="_idIndexMarker258"/><span class="koboSpan" id="kobo.315.1">complete and features a navigational menu for going back to </span><span class="No-Break"><span class="koboSpan" id="kobo.316.1">the </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.317.1">HighlightView</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.318.1">.</span></span><a id="_idTextAnchor346"/></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.319.1">Note</span></p>
<p class="callout"><span class="koboSpan" id="kobo.320.1">If you require help with rotating the simulator, please refer to the </span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">previous chapter.</span></span></p>
<h1 id="_idParaDest-86"><a id="_idTextAnchor347"/><span class="koboSpan" id="kobo.322.1">Extra tasks</span></h1>
<p><span class="koboSpan" id="kobo.323.1">Now that the application is</span><a id="_idIndexMarker259"/><span class="koboSpan" id="kobo.324.1"> complete, here is a list of extra tasks for you to complete to enhance </span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">your application:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.326.1">Use different </span><span class="No-Break"><span class="koboSpan" id="kobo.327.1">source data:</span></span><ul><li><span class="No-Break"><span class="koboSpan" id="kobo.328.1">Different images</span></span></li><li><span class="No-Break"><span class="koboSpan" id="kobo.329.1">Different title</span></span></li><li><span class="No-Break"><span class="koboSpan" id="kobo.330.1">Different description</span></span></li><li><span class="No-Break"><span class="koboSpan" id="kobo.331.1">Different date</span></span></li></ul></li>
<li><span class="koboSpan" id="kobo.332.1">Load images from </span><span class="No-Break"><span class="koboSpan" id="kobo.333.1">the internet</span></span></li>
<li><span class="koboSpan" id="kobo.334.1">Load metadata from </span><span class="No-Break"><span class="koboSpan" id="kobo.335.1">the internet</span></span></li>
<li><span class="koboSpan" id="kobo.336.1">Extend the scope of supported devices to iPhone as well, thus providing you with the opportunity to consider </span><span class="No-Break"><span class="koboSpan" id="kobo.337.1">cross-platform design</span></span></li>
<li><span class="koboSpan" id="kobo.338.1">Make the image fullscreen without any </span><span class="No-Break"><span class="koboSpan" id="kobo.339.1">extra information</span></span></li>
<li><span class="koboSpan" id="kobo.340.1">Fullscreen tap for more info: A single tap while in fullscreen will show the </span><span class="No-Break"><span class="koboSpan" id="kobo.341.1">photo’s title</span></span></li>
<li><span class="koboSpan" id="kobo.342.1">Collections: Different sets </span><span class="No-Break"><span class="koboSpan" id="kobo.343.1">of images</span></span></li>
<li><span class="koboSpan" id="kobo.344.1">A side panel, which displays all the collection names, hidden in portrait mode, activated using a button; always visible in </span><span class="No-Break"><span class="koboSpan" id="kobo.345.1">landscape mode</span></span></li>
<li><span class="koboSpan" id="kobo.346.1">Delete and rename: Allows the user to delete images from the gallery and </span><span class="No-Break"><span class="koboSpan" id="kobo.347.1">rename them</span></span></li>
<li><span class="koboSpan" id="kobo.348.1">Sharing: The ability to share </span><span class="No-Break"><span class="koboSpan" id="kobo.349.1">an image</span></span></li>
<li><span class="koboSpan" id="kobo.350.1">Different </span><a id="_idIndexMarker260"/><span class="koboSpan" id="kobo.351.1">display modes: List and </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">grid view</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.353.1">We will summarize what we have covered in this chapter, but first, we will look at the code for implementing a few of the </span><span class="No-Break"><span class="koboSpan" id="kobo.354.1">extra</span><a id="_idTextAnchor348"/><span class="koboSpan" id="kobo.355.1"> tasks.</span></span></p>
<h2 id="_idParaDest-87"><a id="_idTextAnchor349"/><span class="koboSpan" id="kobo.356.1">Fullscreen mode</span></h2>
<p><span class="koboSpan" id="kobo.357.1">In order to add fullscreen mode to </span><a id="_idIndexMarker261"/><span class="koboSpan" id="kobo.358.1">the </span><strong class="source-inline"><span class="koboSpan" id="kobo.359.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.360.1">, we will add a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.361.1">@State</span></strong><span class="koboSpan" id="kobo.362.1"> variable called </span><strong class="source-inline"><span class="koboSpan" id="kobo.363.1">isFullScreen</span></strong><span class="koboSpan" id="kobo.364.1">. </span><span class="koboSpan" id="kobo.364.2">We will use this variable to toggle between fullscreen mode and regular mode. </span><span class="koboSpan" id="kobo.364.3">Additionally, we will need to add </span><strong class="source-inline"><span class="koboSpan" id="kobo.365.1">onTapGesture</span></strong><span class="koboSpan" id="kobo.366.1"> to the image so that when the image is tapped, it toggles fullscreen mode. </span><span class="koboSpan" id="kobo.366.2">Here is the </span><span class="No-Break"><span class="koboSpan" id="kobo.367.1">modified code:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.368.1">
import SwiftUIstruct EnhancedView: View
{
    @Binding var imageFile: String
    @Binding var imageName: String
    @Binding var imageDate: String
    @Binding var imageDescription: String
    @State private var orientation = UIDeviceOrientation.unknown
    @State private var isFullScreen: Bool = false
    let screenSize: CGRect = UIScreen.main.bounds
    var body: some View
    {
        Group
        {
            if isFullScreen {
                Image(imageFile)
                    .resizable()
                    .scaledToFit()
                    .edgesIgnoringSafeArea(.all)
                    .onTapGesture {
                        self.isFullScreen.toggle()
                    }
            }
            else if orientation.isLandscape {
                LazyHStack
                {
                    VStack
                    {
                        Image(imageFile)
                            .resizable()
                            .scaledToFit()
                            .onTapGesture {
                                self.isFullScreen.toggle()
                            }
                    }.frame(width: screenSize.width * 0.5)
                    VStack
                    {
                        Text(imageName)
                            .fontWeight(.bold)
                        Text(imageDate)
                        Text(imageDescription)
                    }.frame(width: screenSize.width * 0.5)
                }
            }
            else {
                LazyVStack
                {
                    VStack
                    {
                        Image(imageFile)
                            .resizable()
                            .scaledToFit()
                            .onTapGesture {
                                self.isFullScreen.toggle()
                            }
                    }.frame(height: screenSize.height * 0.5)
                    VStack
                    {
                        Text(imageName)
                            .fontWeight(.bold)
                        Text(imageDate)
                        Text(imageDescription)
                    }.frame(height: screenSize.height * 0.5)
                }
            }
        }
    }
}
struct EnhancedView_Previews: PreviewProvider
{
    static var previews: some View
    {
        EnhancedView(imageFile: .constant(""), imageName: .constant(""), imageDate: .constant(""), imageDescription: .constant(""))
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.369.1">Let’s see what this modified </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">code does:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.371.1">Adds a new </span><strong class="source-inline"><span class="koboSpan" id="kobo.372.1">@State</span></strong><span class="koboSpan" id="kobo.373.1"> variable, </span><strong class="source-inline"><span class="koboSpan" id="kobo.374.1">isFullScreen</span></strong><span class="koboSpan" id="kobo.375.1">, to keep track of whether the view is in fullscreen mode </span><span class="No-Break"><span class="koboSpan" id="kobo.376.1">or not.</span></span></li>
<li><span class="koboSpan" id="kobo.377.1">Adds a new condition at the beginning of the </span><strong class="source-inline"><span class="koboSpan" id="kobo.378.1">Group</span></strong><span class="koboSpan" id="kobo.379.1"> that, if </span><strong class="source-inline"><span class="koboSpan" id="kobo.380.1">isFullScreen</span></strong><span class="koboSpan" id="kobo.381.1"> is </span><strong class="source-inline"><span class="koboSpan" id="kobo.382.1">true</span></strong><span class="koboSpan" id="kobo.383.1">, shows the image in fullscreen mode. </span><span class="koboSpan" id="kobo.383.2">In this condition, we use </span><strong class="source-inline"><span class="koboSpan" id="kobo.384.1">.edgesIgnoringSafeArea(.all)</span></strong><span class="koboSpan" id="kobo.385.1"> to ensure the image takes up the entire screen, and </span><strong class="source-inline"><span class="koboSpan" id="kobo.386.1">.onTapGesture</span></strong><span class="koboSpan" id="kobo.387.1"> to toggle </span><strong class="source-inline"><span class="koboSpan" id="kobo.388.1">isFullScreen</span></strong><span class="koboSpan" id="kobo.389.1"> when the image </span><span class="No-Break"><span class="koboSpan" id="kobo.390.1">is</span></span><span class="No-Break"><a id="_idIndexMarker262"/></span><span class="No-Break"><span class="koboSpan" id="kobo.391.1"> tapped.</span></span></li>
<li><span class="koboSpan" id="kobo.392.1">Modifies the existing </span><strong class="source-inline"><span class="koboSpan" id="kobo.393.1">Image</span></strong><span class="koboSpan" id="kobo.394.1"> views in both landscape and portrait mode by adding </span><strong class="source-inline"><span class="koboSpan" id="kobo.395.1">.onTapGesture</span></strong><span class="koboSpan" id="kobo.396.1"> to toggle </span><strong class="source-inline"><span class="koboSpan" id="kobo.397.1">isFullScreen</span></strong><span class="koboSpan" id="kobo.398.1"> when the image </span><span class="No-Break"><span class="koboSpan" id="kobo.399.1">is tapped.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.400.1">This results in the image taking up the full screen when tapped and returning to its original size when </span><span class="No-Break"><span class="koboSpan" id="kobo.401.1">tapp</span><a id="_idTextAnchor350"/><span class="koboSpan" id="kobo.402.1">ed again.</span></span></p>
<h2 id="_idParaDest-88"><a id="_idTextAnchor351"/><span class="koboSpan" id="kobo.403.1">Collections</span></h2>
<p><span class="koboSpan" id="kobo.404.1">To add collections (albums) and a side panel to display the names of these collections, we will make several </span><a id="_idIndexMarker263"/><span class="koboSpan" id="kobo.405.1">changes to </span><span class="No-Break"><span class="koboSpan" id="kobo.406.1">the code:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.407.1">Create a data structure to represent a collection </span><span class="No-Break"><span class="koboSpan" id="kobo.408.1">of images.</span></span></li>
<li><span class="koboSpan" id="kobo.409.1">Modify </span><strong class="source-inline"><span class="koboSpan" id="kobo.410.1">HighlightView</span></strong><span class="koboSpan" id="kobo.411.1"> to display a list of collections in a side panel when in </span><span class="No-Break"><span class="koboSpan" id="kobo.412.1">landscape mode.</span></span></li>
<li><span class="koboSpan" id="kobo.413.1">Show the images of the </span><span class="No-Break"><span class="koboSpan" id="kobo.414.1">selected collection.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.415.1">This is how you can </span><span class="No-Break"><span class="koboSpan" id="kobo.416.1">do it:</span></span></p>
<pre class="source-code"><span class="koboSpan" id="kobo.417.1">
import SwiftUI// Data structure representing an image collection
struct ImageCollection {
    let name: String
    let images: [String]
}
struct HighlightView: View {
    // Sample data
    private let collections: [ImageCollection] = [
        ImageCollection(name: "Collection 1", images: ["FireDEV", "FireDEV", "FireDEV"]),
        ImageCollection(name: "Collection 2", images: ["FireDEV", "FireDEV", "FireDEV", "FireDEV"]),
        ImageCollection(name: "Collection 3", images: ["FireDEV", "FireDEV"])
    ]
    private let adaptiveColumns = [GridItem(.adaptive(minimum: 300))]
    @State private var isClicked: Bool = false
    @State private var imageFile: String = ""
    @State private var imageName: String = ""
    @State private var imageDate: String = ""
    @State private var imageDescription: String = ""
    @State private var selectedCollection: ImageCollection?
</span><span class="koboSpan" id="kobo.417.2">    var body: some View {
        NavigationView {
            GeometryReader { geometry in
                if geometry.size.width &gt; geometry.size.height {
                    // Horizontal mode, show side panel
                    HStack {
                        // Side Panel
                        List(collections, id: \.name) { collection in
                            Button(action: {
                                selectedCollection = collection
                            }) {
                                Text(collection.name)
                            }
                        }
                        .frame(width: geometry.size.width * 0.25)
                        // Images
                        ScrollView {
                            LazyVGrid(columns: adaptiveColumns, spacing: 20) {
                                if let images = selectedCollection?.images {
                                    ForEach(0..&lt;images.count, id: \.self) { i in
                                        Image(images[i])
                                            .resizable()
                                            .scaledToFill()
                                            .frame(width: 300, height: 300)
                                    }
                                }
                            }
                        }
                    }
                } else {
                    // Vertical mode, just show images
                    ScrollView {
                        LazyVGrid(columns: adaptiveColumns, spacing: 20) {
                            if let images = selectedCollection?.images {
                                ForEach(0..&lt;images.count, id: \.self) { i in
                                    Image(images[i])
                                        .resizable()
                                        .scaledToFill()
                                        .frame(width: 300, height: 300)
                                }
                            }
                        }
                    }
                    .onAppear {
                        // Select the first collection by default
                        if selectedCollection == nil {
                            selectedCollection = collections.first
                        }
                    }
                }
            }
        }
        .navigationViewStyle(StackNavigationViewStyle())
    }
}
struct ContentView_Previews: PreviewProvider {
    static var previews: some View {
        HighlightView()
    }
}</span></pre>
<p><span class="koboSpan" id="kobo.418.1">Let’s explain </span><span class="No-Break"><span class="koboSpan" id="kobo.419.1">the</span></span><span class="No-Break"><a id="_idIndexMarker264"/></span><span class="No-Break"><span class="koboSpan" id="kobo.420.1"> changes:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.421.1">We added a struct called </span><strong class="source-inline"><span class="koboSpan" id="kobo.422.1">ImageCollection</span></strong><span class="koboSpan" id="kobo.423.1"> that represents a collection of images with </span><span class="No-Break"><span class="koboSpan" id="kobo.424.1">a name.</span></span></li>
<li><span class="koboSpan" id="kobo.425.1">We updated the </span><strong class="source-inline"><span class="koboSpan" id="kobo.426.1">collections</span></strong><span class="koboSpan" id="kobo.427.1"> property to be an array </span><span class="No-Break"><span class="koboSpan" id="kobo.428.1">of </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.429.1">ImageCollections</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.430.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.431.1">We removed the old </span><strong class="source-inline"><span class="koboSpan" id="kobo.432.1">images</span></strong><span class="koboSpan" id="kobo.433.1"> array as it’s now part of </span><span class="No-Break"><span class="koboSpan" id="kobo.434.1">the collections.</span></span></li>
<li><span class="koboSpan" id="kobo.435.1">We used </span><strong class="source-inline"><span class="koboSpan" id="kobo.436.1">GeometryReader</span></strong><span class="koboSpan" id="kobo.437.1"> to determine whether the view is in horizontal or vertical mode. </span><span class="koboSpan" id="kobo.437.2">In horizontal mode, a side panel is displayed with a list of </span><span class="No-Break"><span class="koboSpan" id="kobo.438.1">collection names.</span></span></li>
<li><span class="koboSpan" id="kobo.439.1">In horizontal mode, clicking on a collection name in the side panel updates the </span><strong class="source-inline"><span class="koboSpan" id="kobo.440.1">selectedCollection</span></strong><span class="koboSpan" id="kobo.441.1"> state variable, which in turn updates the images displayed to the right of the </span><span class="No-Break"><span class="koboSpan" id="kobo.442.1">side panel.</span></span></li>
<li><span class="koboSpan" id="kobo.443.1">In vertical mode, only the images of the selected collection are displayed. </span><span class="koboSpan" id="kobo.443.2">By default, the first </span><a id="_idIndexMarker265"/><span class="koboSpan" id="kobo.444.1">collection </span><span class="No-Break"><span class="koboSpan" id="kobo.445.1">is selected.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.446.1">This code demonstrates how you can create an adaptive layout that shows a side panel in horizontal mode and adjusts its content based on the </span><span class="No-Break"><span class="koboSpan" id="kobo.447.1">selected</span><a id="_idTextAnchor352"/><span class="koboSpan" id="kobo.448.1"> collection.</span></span></p>
<h1 id="_idParaDest-89"><a id="_idTextAnchor353"/><span class="koboSpan" id="kobo.449.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.450.1">In this chapter, we covered the design of our </span><strong class="source-inline"><span class="koboSpan" id="kobo.451.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.452.1"> using wireframes. </span><span class="koboSpan" id="kobo.452.2">These wireframes helped us break down the views into their components. </span><span class="koboSpan" id="kobo.452.3">We then implemented the SwiftUI components to match the design from the wireframe. </span><span class="koboSpan" id="kobo.452.4">Though the components were the same for the portrait and landscape orientation, we configured their positions and sizes accordingly. </span><span class="koboSpan" id="kobo.452.5">It is very important to make sure each orientation that is supported is best utilized in line with industry standards. </span><span class="koboSpan" id="kobo.452.6">We also updated the </span><strong class="source-inline"><span class="koboSpan" id="kobo.453.1">HighlightView</span></strong><span class="koboSpan" id="kobo.454.1"> to pass in data to the </span><strong class="source-inline"><span class="koboSpan" id="kobo.455.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.456.1">. </span><span class="koboSpan" id="kobo.456.2">This data was used to display content in components added in </span><strong class="source-inline"><span class="koboSpan" id="kobo.457.1">EnhancedView</span></strong><span class="koboSpan" id="kobo.458.1">. </span><span class="koboSpan" id="kobo.458.2">Then, we covered extra tasks for you to undertake; feel free to look over this chapter again before proceeding. </span><span class="koboSpan" id="kobo.458.3">We have now completed our second application, which is ready for you to modify and use as you </span><span class="No-Break"><span class="koboSpan" id="kobo.459.1">see fit.</span></span></p>
<p><span class="koboSpan" id="kobo.460.1">In our next chapter, we will start our next application, the App Store for Mac. </span><span class="koboSpan" id="kobo.460.2">We will naturally look at the design and break it down to help us understand and implement the application for our </span><span class="No-Break"><span class="koboSpan" id="kobo.461.1">next platform.</span></span></p>
</div>
</body></html>