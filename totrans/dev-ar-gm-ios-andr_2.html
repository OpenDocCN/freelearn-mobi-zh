<html><head></head><body><div class="chapter" title="Chapter&#xA0;2.&#xA0;Setting Up the Environment"><div class="titlepage"><div><div><h1 class="title"><a id="ch02"/>Chapter 2. Setting Up the Environment</h1></div></div></div><p>In this chapter, we will go over setting up the environment we need for augmented reality, and also deploy our first working augmented reality app. We will get a feel for how the end products feel and how to deploy them. The chapter will lightly touch areas such as Unity platform settings and Vuforia prefabs. The chapter, however, will not cover iOS Apple provisioning and Xcode management since they are outside the scope of the book.</p><div class="section" title="Downloading and installing Unity 3D"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec14"/>Downloading and installing Unity 3D</h1></div></div></div><p>The process of downloading and installing Unity on Mac OS X is quite simple. Simply by going to its <a id="id33" class="indexterm"/>website and downloading the free trial version of iOS<a id="id34" class="indexterm"/> and Android, <a id="id35" class="indexterm"/>we can get most of Unity's power instantly for free for a limited time. To download, use the following link: <a class="ulink" href="http://unity3d.com/unity/download/">http://unity3d.com/unity/download/</a>. Notice that iOS can only be deployed on Mac OS X.</p><p>The following image shows the<a id="id36" class="indexterm"/> Unity website with free trial:</p><div class="mediaobject"><img src="graphics/0032_02_1.jpg" alt="Downloading and installing Unity 3D"/></div><p>Once Unity is downloaded, installation is quite straightforward. We can choose the trial version to try out <a id="id37" class="indexterm"/>Unity Pro with increased features. The free version will still allow us to deploy to both Android and iOS, but Pro features includes shaders and<a id="id38" class="indexterm"/> playing video files. For more information on what is included in the Pro version, check Unity's website.</p></div></div>
<div class="section" title="Downloading and installing Vuforia"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec15"/>Downloading and installing Vuforia</h1></div></div></div><p>Vuforia made a lot of effort to <a id="id39" class="indexterm"/>simplify the installation process of the SDK and streamline its workflow so as not to be intimidating to new developers. We<a id="id40" class="indexterm"/> will go over the process of installing Vuforia SDK on Mac OS X in preparation of deploying our first augmented reality app.</p><p>Vuforia offers a <a id="id41" class="indexterm"/>number of different SDK versions that might seem confusing at first; so we will go over them:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Android native SDK which is to be used with Eclipse and Ant to deploy on android devices, without the need for Unity</li><li class="listitem" style="list-style-type: disc">iOS native SDK that is used to deploy on iOS devices using Xcode without the need for Unity</li><li class="listitem" style="list-style-type: disc">Unity extension for Android and iOS that is used to deploy on either Android or iOS using Unity's cross-platform capabilities</li></ul></div><p>What we will cover in the book is Vuforia Unity's extension. To download it, please go to the following link:</p><p><a class="ulink" href="https://developer.vuforia.com/resources/sdk/unity">https://developer.vuforia.com/resources/sdk/unity</a></p><p>There is a simple registration process before being able to download the SDKs. The following <a id="id42" class="indexterm"/>screenshot<a id="id43" class="indexterm"/> shows Vuforia SDK Unity extension:</p><div class="mediaobject"><img src="graphics/0032_02_2.jpg" alt="Downloading and installing Vuforia"/></div><p>The download file is a Unity package file that, as we will see soon, is very easy to add to a Unity project. There are no further files needed for the SDK. With this, we have everything we <a id="id44" class="indexterm"/>need to start developing AR apps on iOS. Unity, the game engine that will facilitate rendering of <a id="id45" class="indexterm"/>3D objects and game logic for us, Vuforia will provide the augmented reality components and Xcode will finally deploy the app on the device.</p></div>
<div class="section" title="Vuforia sample projects"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec16"/>Vuforia sample projects</h1></div></div></div><p>Vuforia offers a rather colorful sample project for every SDK version they have for users to see how the SDK can be used. We will utilize those sample projects to be an entry point for us to see <a id="id46" class="indexterm"/>how the structure of a finished Vuforia project looks and how to deploy it on iOS and Android devices.</p><p>Vuforia offers their sample projects as a package. This package contains a number of applications for Vuforia SDK, but we will focus on Image Target in this book. Let's download the sample projects from the following link <a class="ulink" href="https://developer.vuforia.com/resources/sample-apps">https://developer.vuforia.com/resources/sample-apps</a>.</p><p>The following screenshot shows <a id="id47" class="indexterm"/>Vuforia sample apps:</p><div class="mediaobject"><img src="graphics/032_2_3.jpg" alt="Vuforia sample projects"/></div><p>After downloading the compressed project samples, decompress the folder and take a look inside it. The folder will contain a number of files called packages. Those are essentially Unity<a id="id48" class="indexterm"/> files that can be imported inside unity projects with ease.</p></div>
<div class="section" title="Starting a Unity project"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec17"/>Starting a Unity project</h1></div></div></div><p>Now that we<a id="id49" class="indexterm"/> have downloaded everything that we need, it's time to start a Unity project. Launch Unity, and from the <span class="strong"><strong>File</strong></span> menu, select a new project. Place the project anywhere you would like, but make sure the project name does not have any spaces to avoid later problems. You will be greeted with the Unity's project window. It may seem intimidating a little and feels foreign if this is the first time with a game engine, but we will familiarize ourselves with it as we build our project. The following screenshot shows the Unity project window.</p><div class="section" title="Unity scenes"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec07"/>Unity scenes</h2></div></div></div><p>The following <a id="id50" class="indexterm"/>screenshot shows Unity scenes:</p><div class="mediaobject"><img src="graphics/032_2_4.jpg" alt="Unity scenes"/></div><p>The first concept we will familiarize ourselves with is the scene. The scene is primarily the game level that everything is built inside. It is what is loaded and presented to the user on runtime. It contains all of the game objects such as menus and 3D models. It is the world that we are creating for the user. We can have multiple scenes just as a game has multiple levels.</p><p>The <span class="strong"><strong>Hierarchy</strong></span> (<span class="strong"><strong>Scene Hierarchy)</strong></span> as shown in the preceding screenshot represents the objects in the scene and their relationship <a id="id51" class="indexterm"/>between each other. For example, a cube object could be the parent of a sphere object; that way whenever the cube object moves, the sphere object will follow it. This is particularly useful for constructing complex objects such as a car, for example, and has the car parts move with the parent rather than individually. This concept is really important and fundamental to how Vuforia works in Unity.</p><p>The <span class="strong"><strong>Game</strong></span> (<span class="strong"><strong>Game Render</strong></span>) window<a id="id52" class="indexterm"/> is a rather useful tool in Unity. It gives a preview of how the game works and looks without the need for deployment, saving a lot of time. Any changes in script or in <span class="strong"><strong>Scene</strong></span> (<span class="strong"><strong>Scene Editor</strong></span>) will show right away when the play button at the top is clicked and the game "runs". This will allow us to see how the augmented reality experience plays out without having to deploy on the device first.</p><p>The <span class="strong"><strong>Project</strong></span> (<span class="strong"><strong>Project assets</strong></span>) panel<a id="id53" class="indexterm"/> is where all of the project assets are. This is where models and textures are imported to the project and even Vuforia SDK. This is also where all<a id="id54" class="indexterm"/> the scripts are stored for the app. It is always crucial to keep the assets folder organized and following a certain convention. Projects can grow bigger and keeping track of where assets are can prove very difficult if a project assets hierarchy is not followed.</p><p><span class="strong"><strong>Inspector</strong></span> (<span class="strong"><strong>Inspector panel</strong></span>)<a id="id55" class="indexterm"/> is where components and assets are tweaked. It displays all the settings for the currently selected scene object from the project hierarchy or assets from the <span class="strong"><strong>Project</strong></span> (<span class="strong"><strong>Project assets</strong></span>) panel. The inspector is a versatile tool that is used extensively while building a project.</p><p>Now that Unity's GUI has been demystified, we can take a look at the sample projects folder we have downloaded from Vuforia. It will contain a number of package files with the name of the project they represent. Package files are very important for Unity. The need to transfer assets from one project to another is not uncommon in game development. Often projects share common assets between them, so Unity needed an efficient way of transferring assets between projects. That's why Unity package files came to be.</p><p>In Unity, it is possible to select certain files from the asset store, and even entire scenes, to be exported as a package file. Sometimes the entire project can be exported as a package file. Later that file can be imported into a Unity project and become usable right away.</p><p>Vuforia sample projects are in the form of Unity packages, which must be imported into a Unity project to be able to deploy those projects. It is useful to mention that even Vuforia's SDK is offered in the form of a Unity package that can be imported into any project and can utilize its AR components.</p></div><div class="section" title="Importing packages in Unity"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec08"/>Importing packages in Unity</h2></div></div></div><p>Now we import the sample <a id="id56" class="indexterm"/>project into the Unity project that <a id="id57" class="indexterm"/>we have created. The following screenshot shows Unity importing <code class="literal">ImageTarget</code> sample project:</p><div class="mediaobject"><img src="graphics/032_2_5.jpg" alt="Importing packages in Unity"/></div><p>Importing packages is quite a simple process. Go to the <span class="strong"><strong>Assets</strong></span> menu on the top and choose import packaged, and then choose the custom package. Navigate to where Vuforia's sample projects are and<a id="id58" class="indexterm"/> choose the image target file. A window like the previous screenshot will be displayed.</p><p>This window is quite important because it displays information on what is being imported into the project. We can select which files we want to import and which ones we don't. It also displays if the file is new, as in not already in the project, or old, meaning it's already in our <span class="strong"><strong>Assets</strong></span> folder and is being updated. For now we need all the files from the package file, so go ahead and click on <span class="strong"><strong>Import</strong></span>. The following screenshot shows Unity project after importing <code class="literal">ImageTarget</code>:</p><div class="mediaobject"><img src="graphics/032_2_6.jpg" alt="Importing packages in Unity"/></div><p>We can see that a lot of files have been imported into our <span class="strong"><strong>Assets</strong></span> folder, including a <span class="strong"><strong>Qualcomm Augmented Reality</strong></span> folder that is the Vuforia SDK. This is everything we need for a deployable project, but the scene hierarchy still only contains a <span class="strong"><strong>Main Camera</strong></span> object and the <span class="strong"><strong>Game</strong></span> panel is still quite blue. This is because we have loaded the assets but not the scene file yet.</p><div class="section" title="Unity scene files"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec02"/>Unity scene files</h3></div></div></div><p>Scene files are<a id="id59" class="indexterm"/> essentially how Unity stores the scene hierarchy and composition. Scene files hold the world created in the editor with all its details.<a id="id60" class="indexterm"/> This is useful for loading different scene files at different times and creating multiple worlds, related or unrelated, in the same app. This is how Unity handles multiple game levels and areas.</p><p>Now to select the project's scene files that Qualcomm already created for us, we can go to the <span class="strong"><strong>Scenes</strong></span> folder in the<a id="id61" class="indexterm"/> project files and double-click on the file<a id="id62" class="indexterm"/> named <span class="strong"><strong>Vuforia-4-ImageTargets</strong></span>. The following screenshot shows the <span class="strong"><strong>Vuforia-4-ImageTargets</strong></span> scene active:</p><div class="mediaobject"><img src="graphics/032_2_7.jpg" alt="Unity scene files"/></div><p>Now Unity <a id="id63" class="indexterm"/>project view looks much more lively. There are rendered 3D teapots already visible in the <span class="strong"><strong>Game</strong></span> panel, and the <span class="strong"><strong>Hierarchy</strong></span> panel displays the components of the scene. Chances are the <span class="strong"><strong>Scene</strong></span> editor still looks empty as in the preceding figure; we will see now how to navigate to the <span class="strong"><strong>Scene</strong></span> editor view to move around the world created.</p><p>The first thing we need to do is to focus on one of the objects we have in our scene to be our origin point. We can do that by selecting the first image target object from the <span class="strong"><strong>Hierarchy</strong></span> panel, which is <span class="strong"><strong>ImageTargetChips</strong></span>, then place the mouse pointer over the scene panel and press the keyboard button <span class="emphasis"><em>F</em></span>. This will zoom over the object and have it as the origin point for the editor view. It is important to have the mouse pointer over the <span class="strong"><strong>Scene</strong></span> panel, otherwise the zoom will not happen over the object. The following screenshot shows the selected object in focus:</p><div class="mediaobject"><img src="graphics/032_2_8.jpg" alt="Unity scene files"/></div><p>Now that the object is in focus, we can have the editor camera orbit around it to view the scene in game. We can do that by holding the <span class="emphasis"><em>Alt</em></span> key<a id="id64" class="indexterm"/> and dragging over the scene to position <a id="id65" class="indexterm"/>the editor camera anywhere we like. We can also use the mouse wheel to zoom in and out of the<a id="id66" class="indexterm"/> object in focus.</p><p>As we can see, the scene is made up of three different teapots lying over a plane with an image over it. This is the AR scene that is in the sample project, which will display one of the teapots depending <a id="id67" class="indexterm"/>on the image target detected by <code class="literal">ARCamera</code>. The scaling and the transformation of the object will match that currently visible in the <span class="strong"><strong>Scene</strong></span> editor in relation to the image<a id="id68" class="indexterm"/> target the teapot is on. This makes visualizing how the AR experience will play out very <a id="id69" class="indexterm"/>easy while building it.</p></div><div class="section" title="Trackable files"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl3sec03"/>Trackable files</h3></div></div></div><p>In the project folder, we<a id="id70" class="indexterm"/> will find the trackable images used in this project. We will need to have them printed in order to test the AR experience. To reach them, navigate to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Editor</strong></span> | <span class="strong"><strong>QCAR</strong></span> | <span class="strong"><strong>ImageTargetEditor</strong></span>. Inside there will be two folders with the three images used in the scene. To open them right-click on the image and select <span class="strong"><strong>Reveal in Finder</strong></span> to open the file in Mac OS X finder. The following screenshot shows the target image location in the project:</p><div class="mediaobject"><img src="graphics/032_2_9.jpg" alt="Trackable files"/></div><p>When printing the images, make sure that they fill the entire page to have the best result with the AR experience.</p><p>Vuforia has a handy feature that allows us to view the AR experience without the need to deploy first. This is achieved by having a web cam on the PC in use and Unity utilizes the information from the webcam to display how the experience will play out in the Game panel. This is indispensable for debugging AR projects without wasting time on deployment cycles.</p><p>To utilize this feature, simply click on the <span class="strong"><strong>Play Button</strong></span> at the top of the Unity project window. The following screenshot shows live camera feed AR:</p><div class="mediaobject"><img src="graphics/032_2_10.jpg" alt="Trackable files"/></div><p>By having the target image in front of the camera, Vuforia will recognize the trackable and then position the <code class="literal">ARCamera</code> object relative to the target image and render the 3D content. If we click on the <span class="strong"><strong>ARCamera</strong></span> component from the <span class="strong"><strong>Hierarchy</strong></span> panel, we can see the ARCamera moving dynamically and relative to the target as we move the target image in front of the web cam.</p><p>The <span class="strong"><strong>ARCamera</strong></span> i<a id="id71" class="indexterm"/>s practically the window through which the user can view the world we create inside Unity. By moving the camera relative to the target image, we can effectively simulate that the <a id="id72" class="indexterm"/>teapot is part of the real world.</p><p>Try different targets to see how they respond differently by displaying the different teapots.</p><p>When we opened the <span class="strong"><strong>Scenes</strong></span> folder, we found more than one scene. We only chose the <span class="strong"><strong>Main Scene</strong></span>, but now it's time to understand what the other scenes are there for.</p><p>Open the <span class="strong"><strong>Scene</strong></span> folder again from the <span class="strong"><strong>Assets</strong></span> folder. The four scenes are named as follows</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">Vuforia-1-SplashScreen</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">Vuforia-2-AboutScreen</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">Vuforia-3-LoadingScene</code></li><li class="listitem" style="list-style-type: disc"><code class="literal">Vuforia-4-ImageTargets</code></li></ul></div><p>Apps are rarely made of one scene; usually they are a collection of scenes that play out in a certain succession. For this sample project, the app is made using four scenes. The first scene to appear to the user is the <code class="literal">SplashScreen</code> scene. The splash screen will only do what the name suggests; it will display a splash screen for the user for two seconds, then it will automatically load the next scene that is <code class="literal">AboutScreen</code>.</p><p>The <code class="literal">AboutScreen</code> scene <a id="id73" class="indexterm"/>will display an about screen about the app. It will have a button to dismiss the about screen and load the next scene, which is <code class="literal">LoadingScene</code>.</p><p>The loading scene does one simple task, which is to load the main scene, <code class="literal">ImageTarget</code>, in the background and display an animated spinner to indicate loading. This is always a good idea when loading a large scene. Without it, the app seems to freeze for a few seconds while loading the next scene; this might let the user think the app crashed or is unresponsive.</p><p>As we can see, the succession of the four scenes makes up the entire app experience. Feel free to open any of the scene files and click on the play button to see how they act individually. But if we do that, we will notice that the scenes do not load any scene behind it when the action is done; that is because we have not told Unity what scene files to load when the<a id="id74" class="indexterm"/> app starts. Right now if we deploy, we will only get a blue screen on the device because no scenes are loaded at all.</p></div></div></div>
<div class="section" title="Build settings"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec18"/>Build settings</h1></div></div></div><p>To mark the scenes to be<a id="id75" class="indexterm"/> loaded with the app, we have to access the build settings window. To do this, navigate to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Build Settings</strong></span><a id="id76" class="indexterm"/>. The following screenshot shows the <span class="strong"><strong>Build Settings</strong></span> window:</p><div class="mediaobject"><img src="graphics/032_2_11.jpg" alt="Build settings"/></div><p>The <span class="strong"><strong>Build Settings</strong></span> window is a very important one in Unity. From it, we can control what platform we are deploying for, what scenes to include in the deployment, the platform-specific settings, and even deploy on the platform from there.</p><p>The top box in the windows is where scenes are marked to be included in the app. Any scene the app will ever use must be added to this in the <span class="strong"><strong>Build Settings</strong></span> window to work on the platform. We will add our scenes now, but first make sure that the box doesn't have any scenes in it. Scenes sometimes are added automatically if there were no scenes designated. Unity does that to avoid deploying the build with no scenes at all. To delete any scene, click on it and press backspace on the keyboard.</p><p>It is very important to know that the first scene in the window will be the first scene the app will open up to. This is very important to have right, or the flow of the app will be wrong. In our case, the <code class="literal">SplashScreen</code> scene is the first one. It loads the about screen after it. That mean we need to add the <code class="literal">SplashScreen</code> scene first to have the app open up to; the order of the scenes after it is not important since loading is done with the name of the scene in our project.</p><p>To add the scenes, simply drag the scene file from the scene folder to the window. Make sure you add the <code class="literal">SplashScreen</code> scene before adding any other scene. Add all the four scenes. The following screenshot shows <span class="strong"><strong>Build Settings</strong></span>:</p><div class="mediaobject"><img src="graphics/032_2_12.jpg" alt="Build settings"/></div><p>Notice the numbers next to the scenes in build; they are numerical representation of the scenes that can be<a id="id77" class="indexterm"/> used to load the scenes instead of their name. The number <span class="strong"><strong>0</strong></span> represents the first scene that the app will load automatically.</p><div class="section" title="Deploying for Android"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec09"/>Deploying for Android</h2></div></div></div><p>We will be deploying to <a id="id78" class="indexterm"/>Android in this section; if for any reason you choose to not deploy on this platform, you can skip over to the next <a id="id79" class="indexterm"/>section that handles iOS.</p><p>Now that we have all the scenes added to the scenes in build, we move on to other settings in preparation for the deployment. Under the <span class="strong"><strong>Scenes in Build</strong></span> window, there is an intriguing box with the name <span class="strong"><strong>Platform</strong></span> that has a colorful collection of well-known platform. These are the platforms that Unity can deploy the project to. Some of them will be grayed out if we do not own the license to deploy to them from Unity. By default, the PC, Mac, and Linux standalone platform is selected. This obviously is not our target platform so we go ahead and change that.</p><p>Choose the <span class="strong"><strong>Android</strong></span> platform, and then click on the <a id="id80" class="indexterm"/>
<span class="strong"><strong>Switch Platform</strong></span> button in the bottom-left corner. This will start the process of automatically converting all the assets to suit the new platform we just picked.</p><p>Once Unity has finished processing the assets, click on the <span class="strong"><strong>Player Settings...</strong></span> button. In the <span class="strong"><strong>Inspector</strong></span> panel, <a id="id81" class="indexterm"/>we will find something similar to the following screenshot:</p><div class="mediaobject"><img src="graphics/032_2_13.jpg" alt="Deploying for Android"/></div><p><span class="strong"><strong>PlayerSettings</strong></span> reveals the target platform-specific settings, for example, the app name, splash screen, icons, <a id="id82" class="indexterm"/>and so on. It is important to customize the settings correctly for every platform we are deploying to, to achieve better results.</p><p>Change the app name in the <span class="strong"><strong>Product Name</strong></span> field to <code class="literal">Image Target</code>. We will not customize the icons and splash images right now, though it is important to know that you can do so from here.</p><p>One of the most important settings that are particularly hidden in the panel is the app <span class="strong"><strong>Identification</strong></span> field. <a id="id83" class="indexterm"/>We know that is important for<a id="id84" class="indexterm"/> an app to maintain its identity on the market and it is important to remember to set it correctly. To reach that setting, click on <span class="strong"><strong>Other Settings</strong></span> as shown in the following figure:</p><div class="mediaobject"><img src="graphics/032_2_14.jpg" alt="Deploying for Android"/></div><p/><p>Change the <span class="strong"><strong>Bundle Identifier</strong></span> to something suitable to the app. Notice that the other settings all handle very low-level settings regarding the platform, such as API level and what OpenGL to use. We can leave it at the default for now and it will work on most devices, but it pays off to know where to reach those settings in the future.</p><p>As we know, Android apps are deployed using keystores. Unity makes the process of creating one a little easier. To reach keystore settings, click on <span class="strong"><strong>Puslishing Settings</strong></span> as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/032_2_15.jpg" alt="Deploying for Android"/></div><p>Now select <span class="strong"><strong>Create New Keystore</strong></span>, and then enter any password in the two fields as shown in the preceding screenshot. This will tell Unity to create a new keystore for us and use it when deploying. It is important to note that Unity will not store our password for us; if we are to restart Unity, we will have to re-enter the password here or build will fail.</p><p>Now that everything is in place, we only need to click on <span class="strong"><strong>Build And Run</strong></span> to deploy the app. It will ask us where to save the APK; anywhere would be fine. The app will be deployed to the <a id="id85" class="indexterm"/>Android device connected using USB to the machine, so we need to make sure it is properly connected.</p><p>If Unity failed to recognize the android device connected, make sure that the USB drivers for the specific device are <a id="id86" class="indexterm"/>correctly installed. They can be found on the manufacturer's website.</p></div><div class="section" title="Deploying for iOS"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl3sec05"/>Deploying for iOS</h2></div></div></div><p>Choose the iOS platform, and then click on the <a id="id87" class="indexterm"/>
<span class="strong"><strong>Switch Platform</strong></span> button at the bottom-left corner. You<a id="id88" class="indexterm"/> will notice Unity <a id="id89" class="indexterm"/>re-building and re-importing certain assets. This process is to match compression schemes and settings for the target platform. This is an automatic process that Unity handles very well on its own.</p><p>After Unity has finished importing all the assets again, its time to continue adjusting our settings to build the project on the device. At the bottom, there is a button named <span class="strong"><strong>Player Settings...</strong></span>. Click on this button to get something like the following screenshot:</p><div class="mediaobject"><img src="graphics/032_2_16.jpg" alt="Deploying for iOS"/></div><p>As with Android, <span class="strong"><strong>PlayerSettings</strong></span> is where all the platform-specific settings you would expect are. It will include anything specific to iOS now that we have switched to the iOS platform.</p><p>First, let's change the app name. In <span class="strong"><strong>Product Name</strong></span>, change it to <code class="literal">Image Target</code>. We will leave the default icon and splash screen for now. For now we adjust the <span class="strong"><strong>Resolution and Presentation</strong></span> settings. Click on the <span class="strong"><strong>Resolution and Presentation</strong></span> bar to expand the settings area.</p><p>In the <span class="strong"><strong>Default Orientation</strong></span> section, choose from the drop-down box the <span class="strong"><strong>Auto Rotation</strong></span> option. It will expand a list of checkboxes below it. Uncheck the first one which is <span class="strong"><strong>Use Animated Autorotation</strong></span>. The following screenshot shows the <span class="strong"><strong>Resolution and Presentation</strong></span> section:</p><div class="mediaobject"><img src="graphics/032_2_17.jpg" alt="Deploying for iOS"/></div><p><span class="strong"><strong>Resolution and Presentation</strong></span> settings<a id="id90" class="indexterm"/> handle the presentation of the app to the user. It has options such as supported device orientations and status bar visibility. We just enabled the auto<a id="id91" class="indexterm"/> rotation option for the app. We also disabled <span class="strong"><strong>Use Animated Autorotation</strong></span> because it never looks ok for AR experiences. It <a id="id92" class="indexterm"/>is usually disorienting for the user.</p><p>Now what is left for us to do is set the bundle identifier for the app. Apple developer provisions are issued per app identifier, which follows this structure:</p><p><code class="literal">com.Company.ProductName</code></p><p>Depending on your Xcode managed provision company name, you need to input yours in Unity settings for deploying through Xcode works.</p><p>To reach the bundle identifier settings, click on the other bar at the very button of the <span class="strong"><strong>Inspector</strong></span> area, and change the <span class="strong"><strong>Bundle Identifier</strong></span> with a proper one that Xcode will accept. The following screenshot shows <span class="strong"><strong>Bundle Identifier</strong></span> settings:</p><div class="mediaobject"><img src="graphics/032_2_18.jpg" alt="Deploying for iOS"/></div><p>Now that we have gone through all the settings needed, it is time to deploy the app to the device. The process of deployment is very simple thanks to Unity's strong cross-platform capability. The process is mostly automatic and requires little to no interference from the developer.</p><p>First, connect the device to the PC. Now we click on the<a id="id93" class="indexterm"/> <span class="strong"><strong>Build and Run</strong></span> button, in the <span class="strong"><strong>Build Settings</strong></span> window, on the bottom-right. It will ask you where you want to have the build folder located; it is ok to just locate it inside the <span class="strong"><strong>Unity</strong></span> project folder, but not inside the <span class="strong"><strong>Assets</strong></span> folder. Give it any name you would like; it's a good convention though to name it like the <span class="strong"><strong>Unity</strong></span> project folder name.</p><p>Unity will start an automated process of building the project for iOS. It will also open Xcode automatically. Try not to interfere with the process till the very end. The process of opening Xcode from Unity is done using a script, witch switches the focused window and executes certain<a id="id94" class="indexterm"/> steps on Xcode. So it is preferable to let Unity take control of your PC till it's done and not switch focus to any other window.</p><p>After Xcode has<a id="id95" class="indexterm"/> finished copying the app to the device, we should find a perfectly working AR app on our devices. The app will work exactly as we would expect it to, and displays how powerful the Unity and Vuforia combo is.</p><p>The following screenshot shows <span class="strong"><strong>About</strong></span> screen of the<a id="id96" class="indexterm"/> Image Target app:</p><div class="mediaobject"><img src="graphics/032_2_19.jpg" alt="Deploying for iOS"/></div><p>Note that when Unity is deploying to Xcode, it will automatically switch between open windows and execute a number of scripts on Xcode. This is why we need to let Unity do its routine and let it have control of the desktop till it starts building. If we forcefully prevent it from switching to Xcode automatically, it will interrupt automatic building. Note that it can be resumed manually after that.</p></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec19"/>Summary</h1></div></div></div><p>In this chapter we have gone through the process of setting up our environment. We installed both Unity and Vuforia. We were introduced to Unity's GUI and started a new project. We imported Vuforia 's sample app and saw how to deploy it to our devices. While doing that, we were introduced to many Unity settings that relate to app deployment and also some basic features of Vuforia.</p><p>With this, we are familiar with the process of deployment and how the final products look. We have set up our environment to be able to build AR apps using Vuforia and Unity, and have seen how easy it is to deploy on the target device. We were introduced to simple settings for the Unity environment, and paved the way for a more in-depth look at how to build our own scenes and our own AR experiences.</p><p>In the next chapter, we will start to familiarize ourselves more with Vuforia and how to start a project from scratch.</p></div></body></html>