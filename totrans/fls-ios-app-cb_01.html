<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Getting Started with iOS App Development</h1></div></div></div><p>In this chapter, we will cover:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Joining the iOS Developer Program</li><li class="listitem" style="list-style-type: disc">Accessing the iOS Provisioning Portal</li><li class="listitem" style="list-style-type: disc">Generating a Certificate Signing Request using Windows</li><li class="listitem" style="list-style-type: disc">Generating a Certificate Signing Request using Mac OS X</li><li class="listitem" style="list-style-type: disc">Obtaining your development certificate</li><li class="listitem" style="list-style-type: disc">Creating a P12 certificate using Windows</li><li class="listitem" style="list-style-type: disc">Creating a P12 certificate using Mac OS X</li><li class="listitem" style="list-style-type: disc">Registering a device</li><li class="listitem" style="list-style-type: disc">Creating an App ID</li><li class="listitem" style="list-style-type: disc">Creating a development provisioning profile</li><li class="listitem" style="list-style-type: disc">Installing a provisioning profile on your device</li></ul></div><div><div><div><div><h1 class="title"><a id="ch01lvl1sec01"/>Introduction</h1></div></div></div><p>When writing iOS applications, the creation and management of certain files is necessary in order to test on a real device. The exact files required depends on whether you are currently developing or preparing for distribution. We will focus primarily on development.<a id="id0" class="indexterm"/>
</p><p>By the end of this chapter, you will have created a<strong> P12 certificate</strong> file and a<strong> development provisioning profile</strong>, both of which are required if you want to make full use of the recipes throughout this book. Along the way, you will learn the ins and outs of various tools including Apple's<strong> iOS Provisioning Portal</strong>, which you will come to use extensively during your time as an iOS developer.</p><p>Don't worry if it doesn't all make perfect sense at first. If you follow the steps detailed in each recipe, you will end up with the development files required to work through the rest of the book.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec02"/>Joining the iOS Developer Program</h1></div></div></div><p>Registering as an Apple developer and enrolling in one of the iOS Developer Programs are prerequisites for anyone wishing to write iOS apps.<a id="id2" class="indexterm"/>
</p><p>Although you can enroll in a free program, if you want to install your applications on devices and distribute them in the<strong> App Store</strong>, you will need to pay a $99 annual fee to join the standard program.</p><p>Those developing with the iOS SDK can select the free program and test their apps using the iOS simulator, which is provided with Apple's official development tools. Unfortunately, native iOS apps built with<strong> Flash Professional</strong> do not run on the simulator. Therefore, if you want to fully test the examples provided in this book, you will need to install them on an iOS device.<a id="id3" class="indexterm"/>
</p><div><h3 class="title"><a id="note02"/>Note</h3><p>Within Flash Professional, you can use the<strong> AIR Debug Launcher  (ADL)</strong> to test your applications on the desktop; however, no iOS device capabilities are supported thus restricting ADL's usefulness.</p></div><p>Let us take a look at the steps required to enroll.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec01"/>Getting ready</h2></div></div></div><p>Enrollment takes place on the Apple Developer website. If you aren't using Apple's<strong> Safari</strong> browser, then it is recommended that you download and install it, as problems are reported from time to time when trying to use certain areas of the site on other browsers.<a id="id4" class="indexterm"/>
</p><p>Safari is the default web browser preinstalled on Mac OS X. Those using Windows, who don't already have Safari, can download it from<a class="ulink" href="http://www.apple.com/safari/download"> www.apple.com/safari/download</a>.</p><p>If you already have Safari installed, then make sure that you have the most recent version.</p><div><h3 class="title"><a id="tip02"/>Tip</h3><p>There are several paths you can take during the enrollment process and once you have completed it, it may not be possible to change some of your choices. Think carefully before submitting your enrollment details and purchasing your Developer Program. You may want to first read through this recipe in its entirety to ensure that you are fully aware of all the options available to you.</p></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec02"/>How to do it...</h2></div></div></div><div><ol class="orderedlist"><li class="listitem">Visit the Apple developer website at<a class="ulink" href="http://developer.apple.com"> http://developer.apple.com</a>. Scroll down the page until you see the<strong> Join the iOS Developer Program</strong> link as shown in the following screenshot:<a id="id5" class="indexterm"/><div><img src="img/1383_01_01.jpg" alt="How to do it..."/></div><div><h3 class="title"><a id="tip03"/>Tip</h3><p>Be aware that Apple regularly makes alterations to its various developer websites. Therefore, the location of items shown within this chapter's screenshots may differ slightly by the time you read this. The links described throughout the chapter may be subject to change too.</p></div></li><li class="listitem">Click on the link. You will be taken to the<strong> iOS Developer Program</strong> page where you will find an<strong> Enroll Now</strong> button at the top of the page.<a id="id6" class="indexterm"/></li><li class="listitem">Click on the<strong> Enroll Now</strong> button to move to the<strong> Enroll in the Apple Developer Programs</strong> page. The three main steps required for enrollment are listed on this page. They are:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Register as an Apple Developer</li><li class="listitem" style="list-style-type: disc">Select Your Programs</li><li class="listitem" style="list-style-type: disc">Complete Your Purchase</li></ul></div></li><li class="listitem">At the bottom of the page is a<strong> Continue</strong> button, which will begin the process of taking you through each of these steps. Go ahead and click on it.</li></ol></div><div><h3 class="title"><a id="note03"/>Note</h3><p>Next to the<strong> Continue</strong> button you will find text outlining the technical requirements for enrollment. This refers to developers using Apple's iOS SDK and does not apply to those using Flash Professional. Ignore it.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec01"/>Register as an Apple developer</h3></div></div></div><div><ol class="orderedlist"><li class="listitem">From the<strong> Are you new or a registered Apple developer?</strong> page, you will be able to register as a new Apple developer. Within the<strong> New Apple Developer</strong> column, click on the<strong> I need to create a new account and Apple ID for an Apple Developer Program</strong> radio button as shown in the following screenshot:<a id="id7" class="indexterm"/><div><img src="img/1383_01_02.jpg" alt="Register as an Apple developer"/></div><div><h3 class="title"><a id="note04"/>Note</h3><p>If you currently have an Apple ID, then click on the second radio button within the column. If you are an existing Apple developer, then you should select the appropriate radio button from the<strong> Existing Apple Developer</strong> column instead.</p></div></li><li class="listitem">Click on the<strong> Continue</strong> button to move to the<strong> Are you Enrolling as an Individual or Company?</strong> page.<p>Two options are provided. Enroll as an individual or enroll on behalf of a company.
</p><div><h3 class="title"><a id="note05"/>Note</h3><p>To enroll as a company, you will need to provide Apple with business documents and have the legal authority to bind your company to the legal agreements presented to you during enrollment.</p></div></li><li class="listitem">Depending on your needs, click on either the<strong> Individual</strong> or the<strong> Company</strong> button at the bottom of the page.</li><li class="listitem">Now complete your personal profile by performing the following tasks:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Specify a desired Apple ID and password.</li><li class="listitem" style="list-style-type: disc">Set up some security information that can be used to verify your identity.</li><li class="listitem" style="list-style-type: disc">Submit your personal information.</li></ul></div><div><h3 class="title">Note</h3><p>When submitting your contact information, the name you specify will appear as the "seller" for any apps you distribute on the App Store.</p><p>Do not attempt to add an alias or organization name within the name fields. This will most likely result in failure of your Apple Developer registration or suspension of your account when the error is eventually noticed by Apple.</p><p>If you want to have a company name to appear as the "seller", then enroll as a company and provide Apple with the relevant legal documentation to verify your identity.</p><p>If you are registering as an individual, then enter your first and last name into the<strong> Company/Organization</strong> field.</p></div></li><li class="listitem">Read the information provided on the displayed page carefully and once you have completed the form, click on the<strong> Continue</strong> button which will take you to the<strong> Complete your professional profile</strong> page.</li><li class="listitem">For the<strong> Which Apple platforms do you develop with?</strong> field, check on the<strong> iOS</strong> checkbox. This will reveal a list of additional fields that must be populated.</li><li class="listitem">When you come to the<strong> Please select the primary category for your application(s) field</strong>, ensure that you click on the<strong> Commercial Applications</strong> radio button.<div><h3 class="title"><a id="note07"/>Note</h3><p>By selecting to develop commercial applications, you will have to provide your banking details before you can distribute your apps; however, you won't be asked for this information as part of the enrollment process. If you plan only to distribute free apps, then you can select the<strong> Free Applications</strong> radio button and no banking details will be required. This option will suffice for the examples within this book; however, if you plan to sell apps at some point, then stick with the<strong> Commercial Applications</strong> option.</p></div></li><li class="listitem">Once you have provided answers for all the fields in the form, click on the<strong> Continue</strong> button at the bottom of the page.<a id="id8" class="indexterm"/></li><li class="listitem">Carefully read the<strong> Registered Apple Developer Agreement</strong> that is displayed. Acknowledge that you have read it by checking on the checkbox and then clicking on the<strong> I Agree</strong> button at the bottom of the page.</li><li class="listitem">A verification code will be sent to your e-mail address. Retrieve the code and enter it into the text field provided on the<strong> Enter the verification code sent to your email</strong> page. Click on<strong> Continue</strong>.<p>A second e-mail will be sent confirming that you are now a registered Apple developer.
<a id="id9" class="indexterm"/>
</p></li></ol></div><div><h3 class="title"><a id="note08"/>Note</h3><p>The e-mail will also contain the Apple ID you chose. Keep this e-mail safe as you will need your Apple ID (along with your password) to access certain resources on the Apple Developer website.</p></div></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec02"/>Select your program</h3></div></div></div><p>Within your web browser you will be taken to the<strong> Enter your billing information for identity verification</strong> page.<a id="id10" class="indexterm"/>
</p><div><ol class="orderedlist"><li class="listitem">Enter your first and last name exactly as they appear on your credit card. Also provide your credit card billing address.</li><li class="listitem">Click on the<strong> Continue</strong> button at the bottom of the page.<div><h3 class="title"><a id="note09"/>Note</h3><p>At this point your credit card details will be used for identity verification. You will not be asked for your credit card number and won't be charged.</p></div></li><li class="listitem">The<strong> Select Your Program</strong> page will appear. As shown in the following screenshot, check on the<strong> iOS Developer Program</strong> checkbox and click on<strong> Continue</strong> at the bottom of the page:<div><img src="img/1383_01_03.jpg" alt="Select your program"/></div></li><li class="listitem">The next page will let you review your enrollment information. Verify that you have selected the<strong> iOS Developer Program</strong> and that your personal details and billing information are correct. If any of the information is incorrect, click on the<strong> Go Back</strong> button at the bottom of the page and make any necessary alterations.</li><li class="listitem">Click on<strong> Continue</strong> to submit your enrollment information to Apple.</li><li class="listitem">The<strong> Program License Agreement</strong> page will appear. Acknowledge that you have read it by checking on the checkbox, then click on the<strong> I Agree</strong> button at the bottom of the page.<a id="id11" class="indexterm"/></li></ol></div></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec03"/>Complete your purchase</h3></div></div></div><div><ol class="orderedlist"><li class="listitem">A purchase page will appear. Click on<strong> Add to cart</strong> to proceed to your country's online store in order to purchase your program.<a id="id12" class="indexterm"/></li><li class="listitem">A new browser window will open and you will be taken to the Apple Store. Confirm that your iOS Developer Program is in your basket and click on the<strong> Checkout Now</strong> button on the right side of the page to purchase the item.</li><li class="listitem">An activation e-mail will be sent to you within 24 hours. When you receive it, follow the instructions to activate your iOS Developer Program.</li></ol></div></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec03"/>How it works...</h2></div></div></div><p>Registering as an Apple developer and activating your Developer Program enables you to access the iOS Provisioning Portal through Apple's<strong> iOS Dev Center</strong> website. The iOS Provisioning Portal takes you through the necessary steps to test and distribute your apps on iOS devices, and will be used throughout this chapter.<a id="id13" class="indexterm"/>
</p><p>You will use the Apple ID and password that you set up to log into the iOS Dev Center at<a class="ulink" href="http://developer.apple.com/devcenter/ios"> http://developer.apple.com/devcenter/ios</a>.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec04"/>There's more...</h2></div></div></div><p>The following additional pieces of information are worth considering.</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec04"/>Working with multiple team members</h3></div></div></div><p>If you opt to enroll as a company, then you can add additional team members to your account who can access iOS Developer Program resources. This will allow, for example, other team members to generate and download the developer files required to build and deploy apps to an iOS device.<a id="id14" class="indexterm"/>
</p><p>If you enroll as an individual, then you will be the sole developer who has access to the program resources. It will be your responsibility to generate all required developer files and manage the list of test devices.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec05"/>iOS SDK, tools, and documentation</h3></div></div></div><p>The iOS Dev Center contains a wealth of resources. While the documentation and tools available are aimed at developers using the iOS SDK, you will find some that will be of use when building your own apps with Flash Professional.<a id="id15" class="indexterm"/>
</p><p>An important document to start with is the<strong> iOS Human Interface Guidelines</strong> at<a class="ulink" href="http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/MobileHIG"> http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/MobileHIG</a>. It describes the guidelines and principles that help you create apps that feel as though they were designed specifically for iOS.<a id="id16" class="indexterm"/>
</p><p>Also, if you are planning to release your apps on the App Store, then read the<strong> App Store Review Guidelines</strong> at<a class="ulink" href="http://developer.apple.com/appstore/guidelines.html"> http://developer.apple.com/appstore/guidelines.html</a>.<a id="id17" class="indexterm"/>
</p><p>If you are developing on Mac OS X you may also want to download the developer toolset. While this book will not cover Apple's developer tools, spend some time exploring the<strong> Instruments</strong> application, which comes as part of the bundle, and provides powerful profiling and debugging features that can help you fine tune your apps.<a id="id18" class="indexterm"/>
</p><p>A good place to start is the Introduction to Instruments User Guide at<a class="ulink" href="http://developer.apple.com/library/ios/#documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/Introduction"> http://developer.apple.com/library/ios/#documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/Introduction</a>.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec03"/>Accessing the iOS Provisioning Portal</h1></div></div></div><p>The iOS Provisioning Portal is an online tool designed to take you through the steps required to test your apps on iOS devices and prepare them for distribution on the App Store.<a id="id19" class="indexterm"/>
</p><p>This is where you will create and download the developer files that are required to build your apps with Flash Professional.<a id="id20" class="indexterm"/>
</p><p>Let us go through the steps required to access it.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec05"/>Getting ready</h2></div></div></div><p>You will need an Apple ID to enroll on the iOS Developer Program.</p><p>If you haven't already done so, follow the steps detailed in the<em> Joining the iOS Developer Program</em> recipe.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec06"/>How to do it...</h2></div></div></div><div><ol class="orderedlist"><li class="listitem">Visit the iOS Dev Center website at<a class="ulink" href="http://developer.apple.com/devcenter/ios"> http://developer.apple.com/devcenter/ios</a>. Click on the<strong> Log in</strong> button at the top of the page.<a id="id21" class="indexterm"/></li><li class="listitem">On the<strong> Sign in with your Apple ID</strong> page, enter your Apple ID and password into the text fields. Click on the<strong> Sign in</strong> button.</li><li class="listitem">If successful, you will be taken back to the iOS Dev Center home page where you will now have access to the main areas of your Developer Program including the iOS Provisioning Portal. Links to these can be found near the top-right of the home page underneath the<strong> iOS Developer Program</strong> heading.</li><li class="listitem">Click on the<strong> iOS Provisioning Portal</strong> link to access the portal's home page, which is shown in the following screenshot:<a id="id22" class="indexterm"/></li></ol></div><div><img src="img/1383_01_04.jpg" alt="How to do it..."/></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec07"/>How it works...</h2></div></div></div><p>The Provisioning Portal provides you with the resources to develop and distribute your iOS apps.<a id="id23" class="indexterm"/>
</p><p>For the examples in this book, you only need to concern yourself with development. The following are the four main steps required to do this:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Obtain a development certificate</li><li class="listitem" style="list-style-type: disc">Register iOS devices for testing</li><li class="listitem" style="list-style-type: disc">Create unique IDs for your apps</li><li class="listitem" style="list-style-type: disc">Create and download development provisioning profiles</li></ul></div><p>These steps can be performed from the links on the left-hand side of the Provisioning Portal page and are broken down and covered throughout the remainder of this chapter.</p><p>Alternatively, Apple has provided the<strong> Development Provisioning Assistant</strong>, which can be used to guide you through the process. However, the Provisioning Assistant is not covered in this book.<a id="id24" class="indexterm"/>
</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec08"/>There's more...</h2></div></div></div><p>You are encouraged to spend time exploring the Provisioning Portal as it is integral to the iOS development process.</p><p>The following information may also be of some use.</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec06"/>Resources</h3></div></div></div><p>On the right-hand side of the portal's home page is the<strong> Resources</strong> section where you can find links to guides, "how to" videos, documentation, and user forums.<a id="id25" class="indexterm"/>
</p><p>The "how to" videos are ideal if you need further clarification regarding the provisioning steps. At the head of the<strong> Resources</strong> section you will also find a link to the<strong> Program User Guide</strong>, which covers the provisioning process in detail.</p><p>Remember that all content on the site will be aimed at Mac OS X owners. If you are using Windows, then some of the content may not be applicable.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec07"/>Adding team members</h3></div></div></div><p>If you enrolled on behalf of a company, then you will also be able to add other team members to your account.<a id="id26" class="indexterm"/>
</p><p>As the original enrollee, you have access to all iOS Provisioning Portal capabilities and can assign roles for any members you invite. The role you assign to an individual determines the privileges they get and dictates the tasks they can undertake.</p><p>
<strong>Team management</strong> is handled within the<strong> Member Center</strong>, which you can access from the Provisioning Portal's home page. Simply click on the<strong> Visit the Member Center now</strong> link on the center of the portal's home page.<a id="id27" class="indexterm"/>
</p><p>Those who have signed-up as an individual will not be able to add team members but will have access to all Provisioning Portal capabilities.</p><p>For a comprehensive guide to team administration, take a look at the<strong> Program User Guide</strong> within the<strong> Resources</strong> section.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec08"/>Distribution</h3></div></div></div><p>The steps required for preparing your apps for App Store submission and distribution are not covered within this book. However, once you are comfortable with the provisioning process for application development, you will find that distribution isn't too dissimilar.</p><p>Comprehensive documentation regarding distribution is available from the<strong> Program User Guide</strong> in the Provisioning Portal's<strong> Resources</strong> section.<a id="id28" class="indexterm"/>
</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec09"/>Technical support</h3></div></div></div><p>As a member of the iOS Developer Program, you are entitled to support from the<strong> Apple Developer Technical Support</strong> team, where you can receive direct one-to-one help from a qualified Apple engineer.<a id="id29" class="indexterm"/>
</p><p>Included with your Developer Program membership is free technical support for two incidents during your membership period.</p><p>However, you should be aware that this support is primarily for developers using the iOS SDK. Apple engineers will not be able to help with questions regarding Flash Professional.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec05"/>Generating a Certificate Signing Request using Windows</h1></div></div></div><p>A<strong> Development Certificate</strong> is used to identify a developer for the purpose of installing and testing apps on iOS devices. Without one you can't publish native iOS apps from Flash Professional. You obtain a development certificate from Apple's iOS Provisioning Portal but to do that you must first generate a<strong> Certificate Signing Request (CSR)</strong>  file.<a id="id30" class="indexterm"/>
</p><p>The process for generating a CSR differs depending on your choice of operating system.</p><p>The steps for Microsoft Windows are covered here. If you are using Mac OS X, then refer to the<em> Generating a Certificate Signing Request using Mac OS X</em> recipe.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec09"/>Getting ready</h2></div></div></div><div><ol class="orderedlist"><li class="listitem">CSR files are generated using<strong> OpenSSL</strong>, which can be downloaded and installed from<a class="ulink" href="http://www.slproweb.com/products/Win32OpenSSL.html"> www.slproweb.com/products/Win32OpenSSL.html</a>. You will actually need to install two files from the site.<a id="id31" class="indexterm"/></li><li class="listitem">First scroll down to the<strong> Download Win32 OpenSSL</strong> section and download the<strong> Visual C++ 2008 Redistributables</strong> installer. Simply run the executable and follow the wizard through the installation process.</li><li class="listitem">Next, download and run the<strong> Win32 OpenSSL v1.0.0e Light</strong> installer. The wizard will ask you to select where OpenSSL should be installed. Keep the default location set to<code class="literal"> C:\OpenSSL-Win32</code>. Additionally, when prompted, instruct the installer to copy OpenSSL's DLLs to<strong> The Windows system directory</strong>.<a id="id32" class="indexterm"/></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec10"/>How to do it...</h2></div></div></div><div><ol class="orderedlist"><li class="listitem">Open a command prompt window using administrator privileges.<a id="id33" class="indexterm"/><div><h3 class="title"><a id="note10"/>Note</h3><p>How you run a command session with administrator privileges depends on your choice of operating system.</p><p>If you are a Windows 7 or Vista user, then click on the<strong> Start</strong> button and type<code class="literal"> cmd</code> into the search box. However, rather than simply pressing<em> Enter</em>, you should press<em> Ctrl + Shift + Enter</em>. A dialog will appear asking if you want to allow the program to make changes to your computer. Click on the<strong> Yes</strong> button.</p><p>If you are using Windows XP, then ensure you are logged on with an administrator account. Click on the Windows<strong> Start</strong> button and then select<strong> Run</strong>. From the Run dialog box, type<code class="literal"> cmd</code> and press<em> Enter</em>.</p></div></li><li class="listitem">From the command prompt move to OpenSSL's<code class="literal"> bin</code> folder by entering the following command:<div><pre class="programlisting"><strong>cd C:\OpenSSL-Win32\bin
</strong>
</pre></div></li><li class="listitem">Now create a private key by entering:<div><pre class="programlisting"><strong>set RANDFILE=.rnd
</strong>
</pre></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">followed by:</li></ul></div><div><pre class="programlisting"><strong>openssl genrsa -out mykey.key 2048
</strong>
</pre></div></li><li class="listitem">The file,<code class="literal"> mykey.key</code>, will be output to OpenSSL's<code class="literal"> bin</code> folder.<div><h3 class="title"><a id="note11"/>Note</h3><p>OpenSSL may still output a file after reporting an error on the command line. If you find an error, check your syntax and run the command again as it's unlikely your file will be usable.</p></div></li><li class="listitem">Using your private key you can now create the CSR file. To do this, a command with the following format is required:<a id="id34" class="indexterm"/></li></ol></div><div><pre class="programlisting"><strong>openssl req -new -key mykey.key -out CertificateSigningRequest.certSigningRequest -subj "/emailAddress=yourAddress@example.com, CN=John Doe, C=US"
</strong>
</pre></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">You will need to make some changes when typing the preceding command into the command line. Replace the e-mail address and certificate name with the same e-mail address and name you enrolled within the iOS Developer Program. Also, if you live outside the United States, you will need to edit the country code.</li></ul></div><div><h3 class="title"><a id="note12"/>Note</h3><p>A list of country codes that can be used when creating a CSR can be found on the DigiCert website at<a class="ulink" href="http://www.digicert.com/ssl-certificate-country-codes.htm"> www.digicert.com/ssl-certificate-country-codes.htm</a>.</p></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">A CSR file named, <code class="literal">CertificateSigningRequest.certSigningRequest</code> will be created and output to the <code class="literal">bin</code>folder.</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec11"/>How it works...</h2></div></div></div><p>You now have a CSR file that contains your personal information (your name, e-mail address, and country) and will be used to request a development certificate from Apple.<a id="id35" class="indexterm"/>
</p><p>When the CSR file was created, OpenSSL also created a public and private key. The public key is included within the CSR file while the private key is used to sign the request.</p><p>Don't delete your CSR file or the private key as they will both be required later in this chapter.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec12"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>Obtaining your development certificate</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec07"/>Generating a Certificate Signing Request using Mac OS X</h1></div></div></div><p>A<strong> development certificate</strong> is used to identify a developer for the purpose of installing and testing apps on iOS devices. Without one you can't publish native iOS apps from Flash Professional. You obtain a development certificate from Apple's iOS Provisioning Portal but to do that you must first generate a<strong> Certificate Signing Request (CSR)</strong>  file.<a id="id36" class="indexterm"/>
</p><p>The process for generating a CSR differs depending on your choice of operating system.<a id="id37" class="indexterm"/>
</p><p>The steps for Mac OS X are covered here. If you are using Microsoft Windows then refer to the<em> Generating a Certificate Signing Request using Windows</em> recipe.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec13"/>How to do it...</h2></div></div></div><p>Follow the steps to generate a CSR:</p><div><ol class="orderedlist"><li class="listitem">Launch the<strong> Keychain Access</strong> application from the<code class="literal"> Applications/Utilities</code> folder.</li><li class="listitem">Once opened, select<strong> Preferences</strong> from the<strong> Keychain Access</strong> (Cmd <em> + ,)</em> menu.</li><li class="listitem">From the<strong> Preferences</strong> dialog box, click on the<strong> Certificates</strong> tab and ensure that both<strong> Online Certificate Status Protocol (OCSP)</strong> and<strong> Certificate Revocation List (CRL)</strong> are set to<strong> Off</strong>. Close the dialog box.</li><li class="listitem">On the Keychain Access menu select<strong> Certificate Assistant</strong> |<strong> Request a Certificate from a Certificate Authority</strong>.</li><li class="listitem">The<strong> Certificate Assistant</strong> dialog box will appear where you can enter your personal information. In the text fields provided, enter the e-mail address and name you enrolled within the iOS Developer Program. Leave the<strong> CA Email Address</strong> field blank and click on the<strong> Save to disk</strong> radio button. Now click on<strong> Continue</strong>.</li><li class="listitem">When asked, select to save the certificate to your desktop.</li></ol></div><p>A CSR file named<code class="literal"> CertificateSigningRequest.certSigningRequest</code> will be created and saved on disk.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec14"/>How it works...</h2></div></div></div><p>You now have a CSR file that contains your personal information (your name and e-mail address) and will be used to request a development certificate from Apple.</p><p>When the CSR file was created, the Keychain Access application also created a public and private key. The public key is included within the CSR file while the private key is used to sign the request. Using Keychain Access you can see both keys listed within the<strong> Keys</strong> category.<a id="id38" class="indexterm"/>
</p><p>Don't delete your CSR file or the private key as they both will be required later in this chapter.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec15"/>See also</h2></div></div></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>Obtaining your development certificate</em></li></ul></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Obtaining your development certificate</h1></div></div></div><p>Now that you have a Certificate Signing Request (CSR), you can use it to obtain a development certificate from Apple. This is done by uploading your CSR file to the iOS Provisioning Portal and waiting for approval.<a id="id39" class="indexterm"/>
</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec16"/>Getting ready</h2></div></div></div><p>If you haven't already done so, generate a CSR file. Depending on your choice of operating system, see either the<em> Generating a Certificate Signing Request using Windows</em> recipe or the<em> Generating a Certificate Signing Request using Mac OS X</em> recipe for more details.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec17"/>How to do it...</h2></div></div></div><div><ol class="orderedlist"><li class="listitem">Log into the iOS Dev Center at<a class="ulink" href="http://developer.apple.com/devcenter/ios"> http://developer.apple.com/devcenter/ios</a> and make your way to the Provisioning Portal.<a id="id40" class="indexterm"/></li><li class="listitem">Click on the<strong> Certificates</strong> link on the left-hand side of the portal's home page to move to the certificates section. As shown in the following screenshot, ensure that the<strong> Development</strong> tab is selected:<div><img src="img/1383_01_05.jpg" alt="How to do it..."/></div></li><li class="listitem">Now, click on the<strong> Request Certificate</strong> button on the far-right of the screen, which will take you to the<strong> Create iOS Development Certificate</strong> page.<a id="id41" class="indexterm"/></li><li class="listitem">At the bottom of the page is a<strong> Browse</strong> button. Scroll down a little further and to the far-right you will also see a<strong> Submit</strong> button.</li><li class="listitem">First, click on<strong> Browse</strong> and navigate to the CSR file on your hard drive.<div><h3 class="title"><a id="note13"/>Note</h3><p>If you created your CSR file using OpenSSL on Windows, then you can find it at<code class="literal"> C:\OpenSSL-Win32\bin\CertificateSigningRequest.certSigningRequest</code>.</p><p>If you are a Mac OS X, user then you should have previously saved<code class="literal"> CertificateSigningRequest.certSigningRequest</code> on your desktop.</p></div></li><li class="listitem">Once you have selected your CSR file, click on<strong> Submit</strong>.</li><li class="listitem">You will be taken back to the<strong> Certificates</strong> section where a certificate will now be listed. Its status will initially be set to<strong> Pending Issuance</strong> and an e-mail will be sent to you from Apple with the subject heading<strong> Certificate Request Requires Your Approval</strong>.<p>This e-mail is intended for those working in a team environment. If you are registered as an individual then you don't need to take any further action. Simply refresh the page in your browser and the certificate's status will automatically change to <strong>Issued.
</strong>
</p><div><h3 class="title"><a id="tip04"/>Tip</h3><p>You may need to refresh your web page a few times before the certificate's status eventually updates.</p></div></li><li class="listitem">Click on the<strong> Download</strong> button underneath the<strong> Action</strong> column and save the development certificate to your hard drive.</li><li class="listitem">Where you save the certificate depends on your choice of operating system. If you are on Windows, then save it to OpenSSL's<code class="literal"> bin</code> folder at<code class="literal"> C:\OpenSSL-Win32\bin\developer_identity.cer</code>. If you are using Mac OS X, then simply save the<code class="literal"> developer_identity.cer</code> file to your desktop for the time being.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec18"/>How it works...</h2></div></div></div><p>A development certificate is restricted to app development only and is valid for a limited period. Take a look at the<strong> Expiration Date</strong> column from the Provisioning Portal's<strong> Certificates</strong> section to see when your digital certificate will expire. Typically certificates are valid for a year.<a id="id42" class="indexterm"/>
</p><p>Once a certificate expires, you will need to revoke it and request a new one from the Provisioning Portal.</p><p>You are now one step closer to being able to compile iOS apps directly from Flash Professional. However, before Flash can digitally sign any of the iOS apps you create, your development certificate will have to be converted to a P12 certificate file, which we will cover in the next recipe.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec19"/>There's more...</h2></div></div></div><p>Let us cover some additional detail, some of which is particularly important for those who enrolled on behalf of a company and are working in a team.</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec10"/>Approving Certificate Signing Requests</h3></div></div></div><p>All team members can make iOS development certificate requests. As the original enrollee, it will be your responsibility to approve or reject those requests.<a id="id43" class="indexterm"/>
</p><p>When a team member requests a development certificate, you will receive an e-mail with the subject heading<strong> Certificate Request Requires Approval</strong>. This is identical to the e-mail sent to those registered as an individual; however, when working in a team environment, you will need to take action by clicking on the link provided within the e-mail.</p><p>The link will open in your default web browser and take you to the Provisioning Portal where you can log in and view any certificate request awaiting approval. On the<strong> Certificates</strong> page, simply find the certificate request that is waiting for approval and click on either<strong> Accept</strong> or<strong> Reject</strong> from the<strong> Actions</strong> column.</p><p>For additional details, refer to the<strong> Program User Guide</strong>, which can be found within the Provisioning Portal's<strong> Resources</strong> section.<a id="id44" class="indexterm"/>
</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec11"/>Team roles</h3></div></div></div><p>As stated, the original enrollee has the authority and responsibility to either approve or reject development certificate requests. The original enrollee has access to all Provisioning Portal capabilities and is designated as the Team Agent.</p><p>The<strong> Team Agent</strong> can invite others and assign them the role of either a Team Admin or a Team Member.<a id="id45" class="indexterm"/>
</p><p>
<strong>Team Admins</strong> can themselves invite new Team Admins and Team Members. In addition, they can approve or reject certificate signing requests.<a id="id46" class="indexterm"/>
</p><p>A<strong> Team Member</strong> has the lowest privileges and must have any certificate signing requests approved by either the Team Agent or Team Admin.<a id="id47" class="indexterm"/>
</p><p>Importantly, all three types of members can test apps on iOS devices.</p><p>From now on, the original enrollee within a team environment will be referred to as the Team Agent throughout this book.</p><p>For a thorough explanation of working within a team environment including a full list of member responsibilities, refer to the<strong> Program User Guide</strong> within the Provisioning Portal's<strong> Resources</strong> section.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec12"/>Distribution certificates</h3></div></div></div><p>In order to distribute your app on the App Store, you will need to request a distribution certificate. Although the steps aren't covered in this book, they are similar to those carried out to obtain and work with a development certificate.<a id="id48" class="indexterm"/>
</p><p>For further information, refer to the<strong> Distribution</strong> section of the<strong> Program User Guide</strong>, which can be found within the Provisioning Portal's<strong> Resources</strong> section.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Creating a P12 certificate using Windows</h1></div></div></div><p>Now that you have downloaded your development certificate from the Provisioning Portal, the final step is to convert it to a P12 certificate file.<a id="id49" class="indexterm"/>
</p><p>Flash Professional will use this P12 file to digitally sign any iOS apps you create.</p><p>The process for generating a P12 certificate file differs depending on your choice of operating system.</p><p>The steps for Microsoft Windows are covered in this recipe. If you are using Mac OS X, then refer to the<em> Creating a P12 certificate using Mac OS X</em> recipe.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec20"/>Getting ready</h2></div></div></div><p>You will need the development certificate that you created and downloaded from the iOS Provisioning Portal. If you haven't already done this, then follow the steps outlined in the<em> Obtaining your development certificate</em> recipe.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec21"/>How to do it...</h2></div></div></div><p>As was the case when creating a CSR, you will need to use OpenSSL to convert your development certificate into a P12 file by executing the following steps:</p><div><ol class="orderedlist"><li class="listitem">Open a command session in Windows as the administrator.</li><li class="listitem">Move to OpenSSL's<code class="literal"> bin</code> folder by entering the following command into the command prompt:<div><pre class="programlisting"><strong>cd C:\OpenSSL-Win32\bin
</strong>
</pre></div></li><li class="listitem">The first step is to convert your development certificate file into a PEM certificate file by entering the following command line statement:<div><pre class="programlisting"><strong>openssl x509 -in developer_identity.cer -inform DER -out developer_identity.pem -outform PEM
</strong>
</pre></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">For this to work you will need to save the <code class="literal">developer_identity.cer</code> file, that you downloaded from the Provisioning Portal to OpenSSL's <code class="literal">bin</code> folder.</li></ul></div></li><li class="listitem">Now using the PEM file and your private key, generate a valid P12 file by entering:<div><pre class="programlisting"><strong>set RANDFILE=.rnd
</strong>
</pre></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">followed by:</li></ul></div><div><pre class="programlisting"><strong>openssl pkcs12 -export -inkey mykey.key -in developer_identity.pem -out ios_dev.p12
</strong>
</pre></div></li><li class="listitem">During this process, OpenSSL will ask you to specify an export password. Flash Professional will prompt you for this password while compiling your<code class="literal"> .swf</code> files into native iOS apps, so choose something you aren't likely to forget. Enter your password and confirm it when OpenSSL asks you to verify it.<div><h3 class="title"><a id="note14"/>Note</h3><p>When entering the password it may look like the command line isn't responding to your keystrokes. Don't worry, your keys are being registered but for security reasons aren't being echoed to the screen.</p></div></li><li class="listitem">If successful, an<code class="literal"> ios_dev.p12</code> file will be created in the<code class="literal"> bin</code> folder. It is important that you keep this file safe as you will need it to publish any of the examples in this book.<a id="id50" class="indexterm"/></li><li class="listitem">Using Windows Explorer, navigate to your<code class="literal"> Documents</code> folder and create the following folder structure within it:<code class="literal"> packt\flash-ios-cookbook\developer-files\</code>. This is where we will keep our P12 certificate file from now on.<div><h3 class="title"><a id="note15"/>Note</h3><p>The location of your<code class="literal"> Documents</code> folder depends on the version of Windows you are running. For Windows Vista and Windows 7, it can be found at:<code class="literal"> C:\Users\&lt;username&gt;\Documents\</code>. If you are using Windows XP, then it is at:<code class="literal"> C:\Documents and Settings\&lt;username&gt;\My Documents\</code>.</p></div></li><li class="listitem">Copy<code class="literal"> ios_dev.p12</code> from<code class="literal"> C:\OpenSSL-Win32\bin\</code> to the<code class="literal"> developer-files</code> folder you just created.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec22"/>How it works...</h2></div></div></div><p>When publishing iOS apps from Flash Professional, you will be prompted for your P12 certificate file and password. Both are used to digitally sign your app allowing it to be deployed and tested on an iOS device.<a id="id51" class="indexterm"/>
</p><p>The P12 certificate is the first of the two files that will be used by Flash Professional every time you make an iOS build.</p><div><h3 class="title"><a id="tip05"/>Tip</h3><p>
<strong>Testing without a device</strong>
</p><p>If you decide to test from the AIR Debug Launcher (ADL) rather than deploying to an iOS device, then a P12 certificate file isn't required.</p></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec23"/>There's more...</h2></div></div></div><p>Finally, a few additional words regarding certificates.</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec13"/>Certificate expiration</h3></div></div></div><p>When your developer certificate eventually expires, you will need to request a new one from the Provisioning Portal before converting it to a P12 file. Any apps that were published using the old certificate will no longer run on your iOS device and will need to be republished using a new valid P12 file.</p><p>If you accidentally delete your existing P12 file, then you can simply recreate it from the steps outlined in this recipe. There is no need to request a new development certificate from the Provisioning Portal.<a id="id52" class="indexterm"/>
</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Creating a P12 certificate using Mac OS X</h1></div></div></div><p>Now that you have downloaded your development certificate from the Provisioning Portal, the final step is to convert it to a P12 certificate file.<a id="id53" class="indexterm"/>
</p><p>Flash Professional will use this P12 file to digitally sign any iOS apps you create.</p><p>The process for generating a P12 certificate file differs depending on your choice of operating system.</p><p>The steps for Mac OS X are covered here. If you are using Microsoft Windows, then refer to the<em> Creating a P12 certificate using Windows</em> recipe.<a id="id54" class="indexterm"/>
</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec24"/>Getting ready</h2></div></div></div><p>You will need the development certificate that you created and downloaded from the iOS Provisioning Portal. If you haven't already done this, then follow the steps outlined in the<em> Obtaining your development certificate</em> recipe.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec25"/>How to do it...</h2></div></div></div><p>Execute the following steps:</p><div><ol class="orderedlist"><li class="listitem">Launch the<strong> Keychain Access</strong> application from the<code class="literal"> Applications/Utilities</code> folder.<a id="id55" class="indexterm"/></li><li class="listitem">Select<strong> File</strong> |<strong> Import Items</strong> <em> (Shift + Cmd + I)</em> from the drop-down menu. From the file browser, select your certificate from<code class="literal"> Desktop/developer_identity.cer</code>.<a id="id56" class="indexterm"/></li><li class="listitem">Your certificate will be installed in the Keychain Access application. You can confirm this by clicking on the<strong> Certificates</strong> category where you will see your<strong> iPhone Developer</strong> certificate listed.</li><li class="listitem">Now, select the<strong> Keys</strong> category and find the private key associated with your certificate. Both your public and private keys will be listed and named using the name you entered when creating your CSR. This is shown in the following screenshot:<a id="id57" class="indexterm"/><div><img src="img/1383_01_06.jpg" alt="How to do it..."/></div></li><li class="listitem">Context-click on the private key and select<strong> Export</strong>. A dialog box will appear asking you to specify where to save the P12 file when it is created. Choose the desktop and click on<strong> Save</strong>.<div><h3 class="title"><a id="tip06"/>Tip</h3><p>Take care to context-click the private key and not the public key. You can check by looking for<strong> private key</strong> listed in the<strong> Kind</strong> field next to each key.</p></div></li><li class="listitem">Keychain Access will ask you to specify an export password. Flash Professional will prompt you for this password while compiling your<code class="literal"> .swf</code> files into native iOS apps, so choose something you aren't likely to forget. Enter your password and confirm it by re-entering it into the<strong> Verify</strong> field and then click on<strong> OK</strong>.<div><h3 class="title"><a id="note16"/>Note</h3><p>You may also be prompted by Keychain Access to enter your Mac's login password. If so, do this and click on<strong> Allow</strong> to grant Keychain Access permission to export the key.</p></div><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">If successful, a P12 certificate file will be created and saved to your desktop.<a id="id58" class="indexterm"/><p>It is important you keep this file safe as you will need it to publish any of the examples in this book.
</p></li></ul></div></li><li class="listitem">Using Finder, navigate to your<code class="literal"> Documents</code> folder and create the following folder structure within it:<code class="literal"> packt/flash-ios-cookbook/developer-files/</code>.</li><li class="listitem">Copy your P12 file to this new location. We will keep it here from now on.</li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec26"/>How it works...</h2></div></div></div><p>When publishing iOS apps from Flash Professional, you will be prompted for your P12 certificate file and password. Both are used to digitally sign your app allowing it to be deployed and tested on an iOS device.<a id="id59" class="indexterm"/>
</p><p>The P12 certificate is the first of two files that will be used by Flash Professional every time you make an iOS build.</p><div><h3 class="title"><a id="tip07"/>Tip</h3><p>
<strong>Testing without a device</strong>
</p><p>If you decide to test from the AIR Debug Launcher (ADL) rather than deploying to an iOS device, then a P12 certificate file isn't required.</p></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec27"/>There's more...</h2></div></div></div><p>Finally, a few additional words regarding certificate expiration.</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec14"/>Certificate expiration</h3></div></div></div><p>When your developer certificate eventually expires you will need to request a new one from the Provisioning Portal before converting it to a P12 file. Any apps that were published using the old certificate will no longer run on your iOS device and will need to be republished using a new valid P12 file.<a id="id60" class="indexterm"/>
</p><p>If you accidentally delete your existing P12 file, then you can simply recreate it from the steps outlined in this recipe. There is no need to request a new development certificate from the Provisioning Portal.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Registering a device</h1></div></div></div><p>Any devices that you want to use for testing will have to be registered. Every iOS device has a<strong> Unique Device Identifier (UDID)</strong>  that needs to be entered into the Provisioning Portal as part of the registration process.<a id="id61" class="indexterm"/>
</p><p>We will learn in this recipe how to locate a device's UDID and add it to the Provisioning Portal.<a id="id62" class="indexterm"/>
</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec28"/>Getting ready</h2></div></div></div><p>A device's UDID can be obtained using iTunes.<a id="id63" class="indexterm"/>
</p><p>iTunes typically comes installed on Mac OS X. Those using Windows, who don't already have iTunes, can download it from<a class="ulink" href="http://www.apple.com/itunes/download"> www.apple.com/itunes/download</a>.</p><p>If you already have iTunes installed, then make sure that you have the latest version.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec29"/>How to do it...</h2></div></div></div><p>Follow the steps to register your device:</p><div><ol class="orderedlist"><li class="listitem">Launch iTunes and connect your iOS device through USB. After a brief moment the device will appear within the<strong> DEVICES</strong> section in iTunes.</li><li class="listitem">Click on the device's name to display a summary.</li><li class="listitem">Here, you will find its 11-character serial number listed near the top of the screen. Click on the serial number to reveal the device's 40-character UDID, as you can see in the following screenshot. The UDID will replace the serial number that was shown in the following screenshot:<div><img src="img/1383_01_07.jpg" alt="How to do it..."/></div></li><li class="listitem">Take a copy of the UDID by selecting<strong> Edit</strong> |<strong> Copy</strong> <em> (Ctrl + C or Cmd + C)</em> from iTunes' drop-down menu.<a id="id64" class="indexterm"/></li><li class="listitem">Log into the iOS Dev Center at<a class="ulink" href="http://developer.apple.com/devcenter/ios"> http://developer.apple.com/devcenter/ios</a> and make your way to the Provisioning Portal.</li><li class="listitem">Move to the<strong> Devices</strong> section by clicking on the link on the left-hand side of the Portal's home page. Ensure that the<strong> Manage</strong> tab is selected. From this page, you will be able to manage the devices you would like to test with your apps.</li><li class="listitem">Click on the<strong> Add Devices</strong> button near the top-right corner of the page. You will be shown an<strong> Add Devices</strong> page where you can enter your device's UDID and also assign a name to it for identification purposes.<div><h3 class="title"><a id="tip08"/>Tip</h3><p>
<strong>Testing with multiple devices</strong>
</p><p>If you are planning to test with several devices, then try to assign meaningful names to each to help distinguish them from one another. This will be of particular importance when working for organizations with large development teams.</p></div></li><li class="listitem">Add your device's UDID and enter a name for it. Once you are done, click on the<strong> Submit</strong> button near the bottom-right corner of the page. The page will refresh and as shown in the following screenshot, you will see your newly registered device listed on the screen:<a id="id65" class="indexterm"/><div><img src="img/1383_01_08.jpg" alt="How to do it..."/></div></li><li class="listitem">If you have additional iOS devices that you would like to use for testing then go ahead and add them now.<a id="id66" class="indexterm"/></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec30"/>How it works...</h2></div></div></div><p>Fundamentally, the provisioning process is there to allow you to test an app that you have written on a device that you own.<a id="id67" class="indexterm"/>
</p><p>Registering devices on the Provisioning Portal is another step towards achieving that. If device registration wasn't required, then you could theoretically circumvent the App Store's distribution model by simply installing apps on an arbitrary number of devices.</p><p>Apple's restrictions are in place to not only guard its distribution model but to also protect your own development apps from falling into the wrong hands and being run on unauthorized devices.<a id="id68" class="indexterm"/>
</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec31"/>There's more...</h2></div></div></div><p>Registering devices is a fairly trivial process. However, there are a few other options and scenarios you should be aware of.</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec15"/>Adding devices in a team environment</h3></div></div></div><p>When working in a team environment, only a Team Agent or Team Admin can add devices. Team Members do not have the required privileges to do this.<a id="id69" class="indexterm"/>
</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec16"/>Editing device names</h3></div></div></div><p>If you are unhappy with the identifier you assigned to a device, you can change it at a later date. Within the Provisioning Portal, simply move to the<strong> Devices</strong> section and find the device in the<strong> Current Registered Devices</strong> list. On the right-hand side within the<strong> Actions</strong> column, click on the<strong> Edit</strong> link for that device.<a id="id70" class="indexterm"/>
</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec17"/>Device limit</h3></div></div></div><p>You can only add a maximum of 100 devices per year to your Developer Program. Any devices you add and then later remove will still count towards that total, so think carefully when managing your list.<a id="id71" class="indexterm"/>
</p><p>If at the end of the year you renew your iOS Developer Program, you will be able to reset your devices list before adding any additional devices. However, once you begin adding devices again, any device you choose to remove will once again count against your device limit.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec18"/>UDID Sender</h3></div></div></div><p>There is an app available from the App Store called<strong> UDID Sender</strong> that you may find useful. UDID Sender will extract your device's UDID and automatically populate it in an e-mail for you to send.<a id="id72" class="indexterm"/>
</p><p>This can be particularly useful for large organizations where the Team Agent or Team Admin can expect a large number of device registration requests from Team Members.</p><p>To save the Team Admin from having to individually retrieve each device and discover its UDID from iTunes, they can simply rely on a Team Member e-mailing the device's ID directly to them.</p><p>UDID Sender can be downloaded from iTunes or the App Store and is free.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Creating an App ID</h1></div></div></div><p>Every app you write must be assigned an<strong> App ID</strong>, which is a unique identifier used by iOS.<a id="id73" class="indexterm"/>
</p><p>There are two types of App IDs:<strong> Explicit App IDs</strong> and<strong> Wildcard App IDs.</strong> To ease development, you can use a wildcard rather than an explicit App ID. This removes the need to generate an ID for every single app and will be particularly useful when it comes to working through and testing the examples within this book.<a id="id74" class="indexterm"/>
</p><p>Let us create a wildcard App ID that can be used across multiple apps.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec32"/>How to do it...</h2></div></div></div><p>Execute the the following steps:<a id="id75" class="indexterm"/>
</p><div><ol class="orderedlist"><li class="listitem">Log into the iOS Dev Center at<a class="ulink" href="http://developer.apple.com/devcenter/ios"> http://developer.apple.com/devcenter/ios</a> and make your way to the Provisioning Portal.</li><li class="listitem">Move to the<strong> App IDs</strong> section by clicking on the link on the left-hand side of the Portal's home page. Ensure that the<strong> Manage</strong> tab is selected. From this page, you can add new App IDs and view any that you previously created.</li><li class="listitem">On the far-right side of the page, across from the<strong> App IDs</strong> heading is the<strong> New App ID</strong> button. Click on it to be taken to the<strong> Create App ID</strong> page.</li><li class="listitem">A common name should be assigned to every new App ID. This is used throughout the Provisioning Portal to identify that App ID. Enter<strong> General Development</strong> into the text field directly below the<strong> Description</strong> heading.</li><li class="listitem">Now you can create the App ID. Enter<code class="literal"> *</code> into the<strong> Bundle Identifier</strong> text field. Your<strong> Create App ID</strong> page should resemble the following screenshot:<div><img src="img/1383_01_09.jpg" alt="How to do it..."/></div></li><li class="listitem">Click on the<strong> Submit</strong> button at the bottom-right of the page. You will be taken back to the<strong> App IDs</strong> page where you will see your newly created App ID listed in a table.<a id="id76" class="indexterm"/></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec33"/>How it works...</h2></div></div></div><p>An App ID is a unique string used to identify an app (or multiple apps) from a developer or team.<a id="id77" class="indexterm"/>
</p><p>It consists of two parts: a<strong> Bundle Seed ID</strong> and a<strong> Bundle Identifier</strong>. The Bundle Seed ID is a universally unique 10-character prefix generated by Apple. The Bundle Identifier is a unique suffix determined by yourself, which can include the wildcard symbol "*".<a id="id78" class="indexterm"/>
</p><p>When compiling an iOS app from Flash Professional, you will need to choose an App ID you want associated with your app and provide it to Flash. Although you will be asked to submit the App ID as part of the publishing process, you actually only provide Flash with the Bundle Identifier portion of the App ID.</p><p>If your Bundle Identifier contains the wildcard character, then you will need to substitute the wildcard with an arbitrary string that will uniquely represent your app. If a wildcard has not been used, then you will have to specify the Bundle Identifier exactly as it was entered into the Provisioning Portal.</p><p>The benefit of a wildcard is that it allows you to create a single App ID that can be used with any application you develop. This will be particularly useful when working through this book as it removes the need to revisit the Provisioning Portal to create a unique App ID for each recipe.<a id="id79" class="indexterm"/>
</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec34"/>There's more...</h2></div></div></div><p>The App ID you just created by following this recipe's steps is all that is required for working through the examples provided within this book. However, you may find the following additional details useful for your own personal projects.</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec19"/>Bundle Identifier naming convention</h3></div></div></div><p>Although we used a single asterisk to represent the Bundle Identifier, Apple's recommended practice is to use a reverse-domain name style.<a id="id80" class="indexterm"/>
</p><p>You should be familiar with this naming convention as it is commonly used for naming packages in ActionScript and helps prevent namespace collisions; a domain name can only be owned by an individual or organization.</p><p>Take, for example, the domain name<code class="literal"> yeahbutisitflash.com</code>. Rather than using a single asterisk, an App ID can be created that will work across multiple apps by using the following Bundle Identifier:<code class="literal"> com.yeahbutisitflash.*</code>.</p><p>To use this App ID to publish multiple apps from Flash Professional, provide Flash with the full Bundle Identifier but replace the asterisk with a unique string of your choice for each of your apps.</p><p>For example, if you are working on two individual test apps, then you could specify to Flash that the first app's ID is<code class="literal"> com.yeahbutisitflash.test1</code> whereas the other's could be set to<code class="literal"> com.yeahbutisitflash.test2</code>.</p><p>Both apps are still using the<code class="literal"> com.yeahbutisitflash.*</code> ID registered in the Provisioning Portal, but the wildcard has been replaced in each with a unique string that distinguishes the apps from one another.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec20"/>App distribution</h3></div></div></div><p>An app that is ready for distribution on the App Store cannot have a wildcard specified within its Bundle Identifier.<a id="id81" class="indexterm"/>
</p><p>When you are ready to submit your app to the App Store, you will need to create a new App ID from the Provisioning Portal and publish your app from Flash Professional using the new ID.</p><p>For example, you may have been using the Bundle Identifier<code class="literal"> com.yeahbutisitflash.*</code> during the development of a camera app, but for distribution you will have to create a new App ID that has the wildcard removed and is guaranteed to be unique to that app. The following Bundle Identifier would suffice:<code class="literal"> com.yeahbutisitflash.camera</code>.<a id="id82" class="indexterm"/>
</p><p>It is worth noting that during development you don't have to use the wildcard within your Bundle Identifiers either, but it is useful as it allows you to quickly deploy multiple test apps to your device. If you are using an App ID that doesn't contain a wildcard, then you will be unable to deploy separate apps to your device that uses that App ID, forcing you to register a new App ID within the Provisioning Portal for each app.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec21"/>Editing App IDs</h3></div></div></div><p>The Provisioning Portal does not allow you to delete or edit any of the App IDs that you have created. Take care while naming your App IDs and assigning their Bundle Identifiers as these details cannot be changed at a later date. There is no limit to the number of App IDs you can register, so if you do make a mistake you can create and add a new one later.<a id="id83" class="indexterm"/>
</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Creating a development provisioning profile</h1></div></div></div><p>Once you have a development certificate and at least one registered iOS device and an App ID, you are ready to create a provisioning profile. A<strong> development provisioning profile</strong> is a file that ties an app (or group of apps) to one or more authorized developers and a set of devices. Before you can test an app on a device, you must first install a provisioning profile onto it. A device can have multiple provisioning profiles installed.<a id="id84" class="indexterm"/>
</p><p>Provisioning profiles are created from the iOS Provisioning Portal.</p><p>This recipe will take you through the steps required to create a provisioning profile that will allow you to test this book's examples on a device.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec35"/>Getting ready</h2></div></div></div><p>In order to complete this recipe, you will need to create a development certificate, register an iOS device, and have an App ID. If you haven't already done this, then complete the following recipes first:<a id="id85" class="indexterm"/>
</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><em>Obtaining your development certificate</em></li><li class="listitem" style="list-style-type: disc"><em>Registering a device</em></li><li class="listitem" style="list-style-type: disc"><em>Creating an App ID</em></li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec36"/>How to do it...</h2></div></div></div><p>Follow the steps to create a development provisioning profile:<a id="id86" class="indexterm"/>
</p><div><ol class="orderedlist"><li class="listitem">Log into the iOS Dev Center at<a class="ulink" href="http://developer.apple.com/devcenter/ios"> http://developer.apple.com/devcenter/ios</a> and move to the Provisioning Portal.</li><li class="listitem">Click on the<strong> Provisioning</strong> link on the left-hand side of the Portal's home page. You will be taken to the provisioning page and the<strong> Development</strong> tab will be selected.<a id="id87" class="indexterm"/></li><li class="listitem">Click on the<strong> New Profile</strong> button found at the far-right of the<strong> Development Provisioning Profiles</strong> heading. You will be taken to the<strong> Create iOS Development Provisioning Profile</strong> page.</li><li class="listitem">From this page you will generate a provisioning profile by performing the following steps:<div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Assigning a name to the provisioning profile.</li><li class="listitem" style="list-style-type: disc">Associating a development certificate with it.</li><li class="listitem" style="list-style-type: disc">Selecting an App ID.</li><li class="listitem" style="list-style-type: disc">Selecting one or more iOS devices that can be used for testing.</li></ul></div></li><li class="listitem">First, enter<strong> Flash iOS Cookbook</strong> into the<strong> Profile Name</strong> text field. From the<strong> Certificates</strong> field, check on the checkbox next to your development certificate. From the<strong> App ID</strong> drop-down box, select the<strong> General Development</strong> App ID you created a while ago. Finally, check on the checkbox next to the device you would like to test this book's examples with. If you have registered more than one device, then you can select them all.</li><li class="listitem">Click on the<strong> Submit</strong> button at the bottom-right of the page.</li><li class="listitem">You will be taken back to the<strong> Development Provisioning Profiles</strong> page where your provisioning profile will be listed with a status of<strong> Pending</strong> assigned to it. Refreshing the page in your browser will change the provisioning profile's status to<strong> Active</strong>.<div><h3 class="title"><a id="tip09"/>Tip</h3><p>You may need to refresh your web page a few times before the status eventually updates.</p></div></li><li class="listitem">Now click on the<strong> Download</strong> button underneath the<strong> Actions</strong> column. Save the<code class="literal"> Flash_iOS_Cookbook.mobileprovision</code> file to the same location as your P12 certificate file. For the exact path, refer to either the<em> Creating a P12 certificate using Windows</em> recipe or the<em> Creating a P12 certificate using Mac OS X</em> recipe.<a id="id88" class="indexterm"/></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec37"/>How it works...</h2></div></div></div><p>Your development provisioning profile has been associated with the<code class="literal"> General Development</code> App ID from the<em> Creating an App ID</em> recipe. Being a wildcard App ID, this provisioning profile can be used to run and test any of this book's examples on an authorized device.<a id="id89" class="indexterm"/>
</p><p>The provisioning profile needs to be installed on authorized devices and is also required by Flash Professional. In order to compile a native iOS app, you need to provide Flash with not only your P12 certificate file, but also the provisioning profile associated with the app you are attempting to compile.</p><div><h3 class="title"><a id="tip10"/>Tip</h3><p>
<strong>Testing without a device</strong>
</p><p>If you are testing from the ADL rather than deploying to an iOS device, a provisioning profile isn't required.</p></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec38"/>There's more...</h2></div></div></div><p>Before we move to the final recipe, you may find the following additional information useful.<a id="id90" class="indexterm"/>
</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec22"/>Profile expiration</h3></div></div></div><p>A development provisioning profile is restricted to app development and is valid for only three months. If your provisioning profile expires during development, then you will need to create a new one from the Provisioning Portal. Remember to install the new profile on any authorized devices and to rebuild your app from Flash using your new profile.<a id="id91" class="indexterm"/>
</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec23"/>Editing provisioning profiles</h3></div></div></div><p>Unlike App IDs, a provisioning profile can be removed from the Provisioning Portal. From the list of provisioning profiles, simply check on the checkbox next to each one you would like to delete. And click on the<strong> Remove Selected</strong> button at the bottom of the list of profiles.<a id="id92" class="indexterm"/>
</p><p>You can also edit an existing provisioning profile. On the right-hand side within the<strong> Actions</strong> column, click on the profile's<strong> Edit</strong> link. You can either modify the original details you associated with the profile or even make a duplicate copy of a profile before making changes to it.<a id="id93" class="indexterm"/>
</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec24"/>Additional provisioning profile types</h3></div></div></div><p>There are in fact three types of provisioning profile that can be created. This book will focus on the use of the development provisioning profile but the provisioning process also covers two methods of distribution—Ad Hoc and App Store.<a id="id94" class="indexterm"/>
</p><p>An<strong> Ad Hoc Distribution Provisioning Profile</strong> is used to share an app with up to 100 other iOS users for testing. An App Store<strong> Distribution Provisioning Profile</strong> on the other hand is used to build and submit an app to the App Store.<a id="id95" class="indexterm"/>
</p><p>When creating either an Ad Hoc or App Store distribution provisioning profile, you will need to request and use a distribution certificate rather than the development certificate required by a development provisioning profile.</p><p>For more details, refer to the<strong> Distribution</strong> section of the<strong> Program User Guide</strong>, which can be found within the Provisioning Portal's<strong> Resources</strong> section.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec25"/>Working with multiple team members</h3></div></div></div><p>If you are working in a team environment, you must be either the Team Agent or a Team Admin to create a provisioning profile. When creating a provisioning profile, check on the checkbox next to the certificate of each team member who is to be granted permission to build and test the app(s) associated with the provisioning profile's App ID.<a id="id96" class="indexterm"/>
</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Installing a provisioning profile on your device</h1></div></div></div><p>Now that you have a provisioning profile you need to install it onto a device. This will allow any apps that are associated with the provisioning profile to be tested on that device.<a id="id97" class="indexterm"/>
</p><p>In this recipe, we will use iTunes to copy a provisioning profile to a connected device.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec39"/>Getting ready</h2></div></div></div><p>If you haven't already created a provisioning profile then refer to the<em> Creating a development provisioning profile</em> recipe before proceeding.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec40"/>How to do it...</h2></div></div></div><p>Execute the following steps:<a id="id98" class="indexterm"/>
</p><div><ol class="orderedlist"><li class="listitem">Launch iTunes and connect your iOS device through USB.</li><li class="listitem">After a brief moment, the device will appear within the<strong> DEVICES</strong> section in iTunes.</li><li class="listitem">Select<strong> File</strong> |<strong> Add File to Library</strong> <em>(Ctrl + O | Cmd + O)</em> from iTunes' drop-down menu.<div><h3 class="title"><a id="note17"/>Note</h3><p>On Mac OS X, the drop-down menu option is listed as<strong> Add to Library</strong>, which allows you to add both files and folders. On Windows, this is split into two separate options:<strong> Add File to Library</strong> and<strong> Add Folder to Library</strong>.</p></div></li><li class="listitem">Navigate to your<code class="literal"> Documents</code> folder and select your provisioning profile at:<code class="literal"> packt\flash-ios-cookbook\developer-files\Flash_iOS_Cookbook.mobileprovision</code>. The provisioning profile will be added to iTunes.</li><li class="listitem">In the<strong> DEVICES</strong> section in iTunes, click on your device's name. You will be shown the device's summary information.</li><li class="listitem">Click on the<strong> Sync</strong> button at the bottom-right corner of iTunes to copy the provisioning profile to your device.<a id="id99" class="indexterm"/></li></ol></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec41"/>How it works...</h2></div></div></div><p>A provisioning profile will only install on a device that is tied to that profile.</p><p>On your iOS device, you can confirm that the provisioning profile has been added by selecting<strong> Settings</strong> |<strong> General</strong> |<strong> Profiles</strong>. You should be able to see the profile listed along with its expiry date. If no provisioning profiles are installed on your device, then the Profiles option will not be made available.<a id="id100" class="indexterm"/>
</p><p>When installing apps for testing, the app will be checked against the device's list of provisioning profiles first. It will only be copied onto the device if a provisioning profile associated with that app is found.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec42"/>There's more...</h2></div></div></div><p>Once you are comfortable adding provisioning profiles to your devices, you may want to consider the following information.<a id="id101" class="indexterm"/>
</p><div><div><div><div><h3 class="title"><a id="ch01lvl3sec26"/>Removing provisioning profiles</h3></div></div></div><p>You can remove provisioning profiles from your device through<strong> Settings</strong> |<strong> General</strong> |<strong> Profiles</strong>. Typically, you will want to do this when the profile expires. However, after removing a profile you may find that it re-appears on your device the next time it is synchronized with iTunes on your computer.<a id="id102" class="indexterm"/>
</p><p>A copy of every provisioning profile you install is kept on your computer as well as your device. If you remove a profile from your device, then make sure you also remove the local copy from your computer.</p><p>Here is where provisioning profiles are stored:<a id="id103" class="indexterm"/>
</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Windows 7 and Vista:<code class="literal"> C:\Users\&lt;username&gt;\AppData\Roaming\Apple Computer\MobileDevice\Provisioning Profiles\</code></li><li class="listitem" style="list-style-type: disc">Widows XP:<code class="literal"> C:\Documents and Settings\&lt;username&gt;\AppData\Roaming\Apple Computer\MobileDevice\Provisioning Profiles\</code></li><li class="listitem" style="list-style-type: disc">Mac OS X:<code class="literal">&lt;username&gt;/Library/MobileDevice/Provisioning Profiles/</code></li></ul></div><p>Simply delete the profiles using either Windows Explorer or Finder depending on your operating system.</p></div><div><div><div><div><h3 class="title"><a id="ch01lvl3sec27"/>iPhone Configuration Utility</h3></div></div></div><p>As an alternative to iTunes, you may want to download and install the iPhone Configuration Utility from Apple.<a id="id104" class="indexterm"/>
</p><p>It allows you to easily manage provisioning profiles and capture console log information from a connected device. You can check to see when a provisioning profile is about to expire and also discover which App ID is associated with each installed app.</p><p>The iPhone Configuration Utility is available for both Mac OS X and Windows and can be downloaded from<a class="ulink" href="http://www.apple.com/support/iphone/enterprise"> www.apple.com/support/iphone/enterprise</a>.</p></div></div></div></body></html>