<html><head></head><body>
		<div><h1 id="_idParaDest-97" class="chapter-number"><a id="_idTextAnchor251"/>8</h1>
			<h1 id="_idParaDest-98"><a id="_idTextAnchor252"/>Integrating Social Media into Our Project</h1>
			<p>We now have all of the foundational things needed to get our game out into the world; it’s mechanically working and we’ve set up all of the monetization. Having all of the features that we have added to our project is great, but if no one is playing your game, there’s no reason to have them.</p>
			<p>Word-of-mouth marketing is the most reliable way to get others to try your game. Providing people with opportunities to share the game helps others discover the project, and it’s something that we should really try to do because marketing and getting your game out there is one of the hardest things to do as an indie developer.</p>
			<p>In this chapter, you will learn some of the different ways to integrate social media into your projects. We will start off by adding something to share – a score. Afterward, we will see how we can share the score on Twitter. Then, we will see how we can connect our game to Facebook and use content from Facebook within our game itself.</p>
			<p>This chapter will be split into a number of topics. It will contain a simple step-by-step process from beginning to end. The following is the outline of our tasks:</p>
			<ul>
				<li>Adding a scoring system</li>
				<li>Sharing high scores via Twitter</li>
				<li>Downloading and installing Facebook’s SDK</li>
				<li>Logging in to our game via Facebook</li>
				<li>Displaying a Facebook name and profile picture</li>
			</ul>
			<h1 id="_idParaDest-99"><a id="_idTextAnchor253"/>Technical requirements</h1>
			<p>This book utilizes Unity 2022.1.0b16 and Unity Hub 3.3.1, but the steps should work with minimal changes in future versions of the editor. If you would like to download the exact version used in this book and there is a new version out, you can visit Unity’s download archive at <a href="https://unity3d.com/get-unity/download/archive">https://unity3d.com/get-unity/download/archive</a>. You can also find the system requirements for Unity at <a href="https://docs.unity3d.com/2022.1/Documentation/Manual/system-requirements.html">https://docs.unity3d.com/2022.1/Documentation/Manual/system-requirements.html</a> in the <strong class="bold">Unity Editor system requirements</strong> section. To deploy your project, you will need an Android or iOS device.</p>
			<p>Unlike previous chapters, the use of the Facebook SDK requires both iOS and Android build support for your Unity version installed, so make sure that both are added before importing the package or you will have errors.</p>
			<p>You can find the code files present in this chapter on GitHub at <a href="https://github.com/PacktPublishing/Unity-2022-Mobile-Game-Development-3rd-Edition/tree/main/Chapter08">https://github.com/PacktPublishing/Unity-2022-Mobile-Game-Development-3rd-Edition/tree/main/Chapter08</a>.</p>
			<h1 id="_idParaDest-100"><a id="_idTextAnchor254"/>Adding a scoring system</h1>
			<p>In order to provide an<a id="_idIndexMarker525"/> incentive for players to share our game with others, we need to provide a compelling reason to do so. Some people are very competitive and wish to be the best at playing a game, challenging others to do better than them. To help with that, we can allow our players to share a score value via social media. However, to do that, we’ll first need to have a scoring system. Thankfully, it’s not too difficult to do that, so let’s add that real quick using the following steps:</p>
			<ol>
				<li>Start off by opening the <code>Gameplay.scene</code> file located in the <code>Assets/Scenes</code> folder of the project. To show our players what their score is, we’ll need to have some way to display it on the screen. In our case, the easiest way would be with a text object.</li>
				<li>From the <strong class="bold">Hierarchy</strong> window, select the <strong class="bold">On Screen Controls</strong> object that is the child of the <strong class="bold">Canvas</strong> object. Afterward, right-click on the <strong class="bold">On Screen Controls</strong> object and select <strong class="bold">UI </strong>| <strong class="bold">Text – Text Mesh Pro</strong>, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/B18868_08_01.jpg" alt="Figure 8.1– Adding a text object to the screen"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.1– Adding a text object to the screen</p>
			<p>T<a id="_idTextAnchor255"/>his will make the <strong class="bold">Text</strong> object <a id="_idIndexMarker526"/>a child of the <strong class="bold">Panel</strong> object, which in turn will automatically resize itself to fit within a notch if there is one in the devices.</p>
			<ol>
				<li value="3">Rename this object <code>Score Text</code> and use the <strong class="bold">Anchors Preset</strong> menu at the top, holding down <em class="italic">Shift + Alt</em> to set the pivot and position as well.</li>
				<li>Afterward, let’s set the <code>60</code> to ensure that we have space to hold the score when we increase the size.</li>
				<li>Next, in <code>0</code> and set <code>45</code> so that it’s easy to see.</li>
				<li>To improve its readability, change <strong class="bold">Material Preset</strong> to <strong class="bold">LiberationSans SDF – Outline</strong> and let’s change <strong class="bold">Vertex Color</strong> to black.</li>
			</ol>
			<p>Afterward, scroll down to the text material section (<code>1</code>. Notice that it seems to fill both the inside and outside of the text. To fix this, in the <code>1</code>.</p>
			<div><div><img src="img/B18868_08_02.jpg" alt="﻿Figure 8.2: Adjusting the properties of the text outline"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor256"/>Figure 8.2: Adjusting the properties of the text outline</p>
			<ol>
				<li value="7">Next, open up the <code>PlayerBehaviour</code> script <a id="_idIndexMarker527"/>and add the following line at the top of the file:<pre class="source-code">
using TMPro; //TextMeshProUGUI</pre></li>
				<li>Next, add the following code inside the class:<pre class="source-code">
[Header("Object References")]
public TextMeshProUGUI scoreText;
private float score = 0;
public float Score
{
    get
    {
        return score;
    }
    set
    {
        score = value;
        /* Check if scoreText has been assigned */
        if (scoreText == null)
        {
            Debug.LogError("Score Text is not set. " +
                "Please go to the Inspector and assign
                    it");
            /* If not assigned, don't try to update
               it. */
            return;
        }
        /* Update the text to display the whole number
           portion of the score */
        scoreText.text = string.Format("{0:0}",
            score);
    }
}</pre></li>
			</ol>
			<p>We first have a reference to the <code>scoreText</code> object, which we will need to set in the <code>TextMeshProUGUI</code> class, which contains properties relating to the text displayed on the object.</p>
			<p>This makes use of C#’s <code>get</code>/<code>set</code> functions, which are implicit getters and setters. Basically, any time we get or set the <code>Score</code> variable, we will execute whatever is located between <code>{}</code>. In our case, any time we set the <code>Score</code> variable, it will update our text for us.</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">For more info on TextMeshPro, check out <a href="https://docs.unity3d.com/Packages/com.unity.textmeshpro@3.0/manual/index.html#support--api-documentation">https://docs.unity3d.com/Packages/com.unity.textmeshpro@3.0/manual/index.html#support--api-documentation</a>.</p>
			<p>This has an advantage over what a number of my students do, which is to update the value of the text every frame, which <a id="_idIndexMarker528"/>doesn’t need to happen. We only need to update the text when the value changes, which makes it perfect for us to use in this situation.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">For more information on the <code>get</code>/<code>set</code> accessors, check out <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-properties">https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-properties</a>.</p>
			<ol>
				<li value="9">T<a id="_idTextAnchor257"/>hen, update the <code>PlayerBehaviour</code> class to have the following highlighted changes:<pre class="source-code">
// Start is called before the first frame update
public void Start()
{
    // Get access to our Rigidbody component
    rb = GetComponent&lt;Rigidbody&gt;();
    minSwipeDistancePixels = minSwipeDistance *
        Screen.dpi;
    joystick =
        GameObject.FindObjectOfType&lt;MobileJoystick&gt;();
<strong class="bold">    Score = 0;</strong>
}
/// &lt;summary&gt;
/// FixedUpdate is a prime place to put physics calculations
/// happening over a period of time.
/// &lt;/summary&gt;
void FixedUpdate()
{
    /* If the game is paused, don't do anything */
    if (PauseScreenBehaviour.paused)
    {
        return;
    }
  <strong class="bold">  Score += Time.deltaTime;</strong>
// Rest of Update here...</pre></li>
			</ol>
			<p>What we are doing here is <a id="_idIndexMarker529"/>resetting our score whenever the player is created and increasing the value while the game isn’t paused.</p>
			<ol>
				<li value="10">Save the script and dive back into Unity.</li>
				<li>Select the <strong class="bold">Player</strong> object and drag and drop our <strong class="bold">Score Text</strong> object into the <strong class="bold">Score Text</strong> variable on the <strong class="bold">Player </strong><strong class="bold">Behaviour</strong> component:</li>
			</ol>
			<div><div><img src="img/B18868_08_03.jpg" alt="Figure 8.3: Assigning the Score Text property"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.3: Assigning the Score Text property</p>
			<ol>
				<li value="12">On<a id="_idTextAnchor258"/>ce the variable has been<a id="_idIndexMarker530"/> assigned, go ahead and play the game. The game’s interface is shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/B18868_08_04.jpg" alt="Figure 8.4: The score added to the game"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.4: The score added to the game</p>
			<p>Now, as you can see, we have a score for our game, which updates as we play. This will allow players to easily know what their competency with the game is and give them some information that they can share with others. Now that we <a id="_idIndexMarker531"/>have a scoring system, let’s take a look at how we can share a high score using Twitter.</p>
			<h1 id="_idParaDest-101">Shar<a id="_idTextAnchor259"/><a id="_idTextAnchor260"/><a id="_idTextAnchor261"/>ing high scores via Twitter</h1>
			<p>Twitter is an online news and <a id="_idIndexMarker532"/>social networking service where users post and interact with each other through messages that they call <em class="italic">tweets</em>, which are limited to 280 characters. Many indie game developers use Twitter as a way to attract others to play their games.</p>
			<p>Twitter is a great option to start off with because we can add it very easily to our project by simply opening a specific URL. Let’s look at the steps to do just that:</p>
			<ol>
				<li>Open the <code>PauseScreenBehaviour</code> script. Once inside, we will add the following code inside the <code>PlayerScreenBehaviour</code> class:<pre class="source-code">
#region Share Score via Twitter
/// &lt;summary&gt;
/// Web address in order to create a tweet
/// &lt;/summary&gt;
private const string tweetTextAddress = "http://twitter.com/intent/tweet?text=";
/// &lt;summary&gt;
/// Where we want players to visit
/// &lt;/summary&gt;
private string appStoreLink = "http://johnpdoran.com/";
[Tooltip("Reference to the player for the score")]
public PlayerBehaviour player;
/// &lt;summary&gt;
/// Will open Twitter with a prebuilt tweet. When called on iOS
/// or Android will open up Twitter app if installed
/// &lt;/summary&gt;
public void TweetScore()
{
    /* Create contents of the tweet */
    string tweet = "I got " + string.Format("{0:0}",
        player.Score) + " points in Endless Roller!
            Can you do better?";
    /* Create the entire message */
    string message = tweet + "\n" + appStoreLink;
    /* Ensures string is URL friendly */
    string url =
        UnityEngine.Networking.UnityWebRequest
            .EscapeURL(message);
    /* Open the URL to create the tweet */
    Application.OpenURL(tweetTextAddress + url);
}
#endregion</pre></li>
			</ol>
			<p>First of all, we will use a number of new things. You’ll note that the preceding block of code starts and ends with <code>#region</code> and <code>#endregion</code>, respectively. What this does is allow us to expand and collapse this portion of code inside Visual Studio. When we introduce longer code files, it can be convenient to be able to collapse or hide certain parts of your script so that you can focus only on the part of the file you’re working on. Since this portion of code has nothing to do with the rest of the <a id="_idIndexMarker533"/>script, this is a good place for us to use it.</p>
			<p>To open URLs inside Unity, we will need to make use of the <code>Application.OpenURL</code> function and the <code>UnityWebRequest</code> class.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">For more information on Twitter’s Web Intents and the ways you can use them, check out <a href="https://dev.twitter.com/web/intents">https://dev.twitter.com/web/intents</a>.</p>
			<p>The <code>UnityWebRequest</code> class is typically used to load content at runtime, but it also has the <code>EscapeURL</code> function, which will convert a string into a format that web browsers are comfortable with. For instance, the newline character will not be displayed by itself.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">For more information on the <code>EscapeURL</code> function, check out <a href="https://docs.unity3d.com/ScriptReference/Networking.UnityWebRequest.EscapeURL.html">https://docs.unity3d.com/ScriptReference/Networking.UnityWebRequest.EscapeURL.html</a>.</p>
			<p>Save<a id="_idTextAnchor262"/> the script and dive back into Unity. From the <code>Player</code> object by dragging and dropping the <strong class="bold">Player </strong>game object from the <strong class="bold">Hierarchy</strong> window onto the <strong class="bold">Player</strong> property in the <strong class="bold">Inspector</strong> window:</p>
			<div><div><img src="img/B18868_08_05.jpg" alt="Figure 8.5: Assigning the Player property"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.5: Assigning the Player property</p>
			<ol>
				<li>Now, we need to have a button for our <strong class="bold">Game Over</strong> screen to allow us to share our score.</li>
				<li>Open up the <strong class="bold">Canvas</strong> object and toggle the <strong class="bold">Game Over</strong> object to <strong class="bold">ON</strong> by clicking on the checkmark beside its name in the <strong class="bold">Inspector</strong> window.</li>
				<li>From there, expand the two <code>Tweet Score Button</code> and also <a id="_idIndexMarker534"/>update the text in the child object to display <code>Tweet Score</code> as well.</li>
				<li>Afte<a id="_idTextAnchor263"/>rward, select the <strong class="bold">Tweet Score</strong> button object and scroll down to the <strong class="bold">Button</strong> component. From there, change the function we are calling to the <strong class="bold">PauseScreenBehaviour</strong> | <strong class="bold">TweetScore</strong> function:</li>
			</ol>
			<div><div><img src="img/B18868_08_06.jpg" alt="Figure 8.6: Calling the TweetScore function"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.6: Calling the TweetScore function</p>
			<ol>
				<li value="5">Select the <strong class="bold">Game Over</strong> object in the <strong class="bold">Hierarchy</strong> and disable it again. Next, save your scene and start the game.</li>
				<li>Now when we fail the game, we can click on the <strong class="bold">Tweet Score</strong> button and our browser will open on our PC:</li>
			</ol>
			<div><div><img src="img/B18868_08_07.jpg" alt="Fi﻿gure 8.7: Result on PC"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Fi<a id="_idTextAnchor264"/>gure 8.7: Result on PC</p>
			<p>However, on our<a id="_idIndexMarker535"/> mobile devices, it will open up the Twitter app if it is installed:</p>
			<div><div><img src="img/B18868_08_08.jpg" alt="Figure 8.8: Tweeting our score via the Twitter mobile app"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.8: Tweeting our score via the Twitter mobile app</p>
			<p>With that, you learned just how easy it is to share something using Twitter.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">For<a id="_idTextAnchor265"/> those who are interested in doing more than this with Twitter, it does have its own API for Unity, which will allow you to let users log in to your game using Twitter if you’d like to do that instead of Facebook, which we will do later on. If you’re interested in looking into this, you can find more information at <a href="https://dev.twitter.com/twitterkit/unity/overview">https://dev.twitter.com/twitterkit/unity/overview</a>.</p>
			<p>Of course, other social networks <a id="_idIndexMarker536"/>exist as well, some of which have their very own <strong class="bold">software development kit</strong> (<strong class="bold">SDK</strong>), which<a id="_idIndexMarker537"/> allows you to access the information that they ha<a id="_idTextAnchor266"/>ve. In the next section, we will explore how to utilize this.</p>
			<h1 id="_idParaDest-102">Download<a id="_idTextAnchor267"/>ing and installing Facebook’s SDK</h1>
			<p>We couldn’t have a chapter on <a id="_idIndexMarker538"/>social networking without mentioning Facebook. Facebook has its own SDK that can be used with Unity. This can allow us to use the information that Facebook already has, including the user’s name and profile image, within our game experience. Let’s look at the steps to incorporate them:</p>
			<ol>
				<li>Open up your web browser and visit <a href="https://developers.facebook.com/docs/unity/">https://developers.facebook.com/docs/unity/</a>:</li>
			</ol>
			<div><div><img src="img/B18868_08_09.jpg" alt="Figure 8.9: Facebook SDK for Unity page"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.9: Facebook SDK for Unity page</p>
			<ol>
				<li value="2">Click on the <code>facebook-unity-sdk-15.1.0</code> folder. Then, open up the <code>FacebookSDK</code> folder and you’ll see a single file, <code>facebook-unity-sdk-15.1.0.unitypackage</code>.</li>
			</ol>
			<p>Unlike previous chapters, the use of the Facebook SDK requires both iOS and Android build support for your Unity version installed, so make sure that both are added before importing the package or you will have errors. To do so, in Unity Hub, go to the <strong class="bold">Installs</strong> section and, from the gear icon, select <strong class="bold">Add Modules</strong> and add the relevant items that weren’t included before (if there are any).</p>
			<ol>
				<li value="3">Double-click on the <code>unitypackage</code> file, and you <a id="_idIndexMarker539"/>should have a window pop up, as shown here:</li>
			</ol>
			<div><div><img src="img/B18868_08_10.jpg" alt="Figure 8.10: Unity package import dialog"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.10: Unity package import dialog</p>
			<p>If this does not work, you can also go to <strong class="bold">Assets</strong> | <strong class="bold">Import Package</strong> | <strong class="bold">Custom Package</strong> and then find the folder that you unzipped the file to and open it that way.</p>
			<ol>
				<li value="4">Click on the <strong class="bold">Import</strong> button and wait for it to finish loading. From here, you’ll get a popup noting the project may contain obsolete APIs. Go ahead and click on the <strong class="bold">I Made a Backup. Go Ahead!</strong> button and wait for it to finish.</li>
				<li>Now, in order to use the Facebook API, we will first need to have a Facebook App ID, so let’s do that next.</li>
				<li>Go back to your web browser and go to <a href="https://developers.facebook.com/">https://developers.facebook.com/</a> and click on the <strong class="bold">Log In</strong> button in the top-right corner of the screen. Once you log in to your Facebook account, you should see something similar to the following screenshot:</li>
			</ol>
			<div><div><img src="img/B18868_08_11.jpg" alt="Figure 8.11: Meta for Developers menu"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.11: Meta for Developers menu</p>
			<ol>
				<li value="7">From the pr<a id="_idTextAnchor268"/>eceding page, click <a id="_idIndexMarker540"/>on the <strong class="bold">Get Started</strong> button in the top-right corner of the screen. From there, you’ll be brought to a screen where you need to click <strong class="bold">Next</strong>, and then you’ll be asked your role. Click on <strong class="bold">Developer</strong> and, on the next screen, click on the <strong class="bold">Create First </strong><strong class="bold">App</strong> button.</li>
				<li>Afterward, add a <code>Endless Roller</code>) and your <strong class="bold">Contact E-mail</strong>, and then select <strong class="bold">Create </strong><strong class="bold">App</strong> <strong class="bold">ID</strong>.</li>
				<li>Once you’re brought to your app’s page, click on the <strong class="bold">Dashboard</strong> option to the left of the default info for your game. Note the <strong class="bold">App ID</strong> and copy it by clicking on it or by highlighting it and then pressing <em class="italic">Ctrl + </em><em class="italic">C</em>.</li>
				<li>If you instead see a <code>Endless Roller</code>) and your contact e-mail, and then select <strong class="bold">Create app</strong>.</li>
			</ol>
			<div><div><img src="img/B18868_08_12.jpg" alt="Figure 8.12: Getting the App ID"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.12: Getting the App ID</p>
			<ol>
				<li value="11">Return to Unity, and you may <a id="_idIndexMarker541"/>be asked to share some info with Google. Answer as you wish. Then, you’ll have the option to enable Android auto-resolution. I set <strong class="bold">Enable</strong> and had to wait for it to resolve Android dependencies.</li>
				<li>Afterward, you will note a new Facebook option in the top bar. Select it and then select <strong class="bold">Edit Settings</strong>. Once you’re there, click on <strong class="bold">Inspector</strong> if you need to and you’ll see several options. Set <strong class="bold">Facebook App Id</strong> to our created app’s ID and then set the name to our game’s name:</li>
			</ol>
			<div><div><img src="img/B18868_08_13.jpg" alt="Figure 8.13: Adding ﻿the App Id to Facebook Settings"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.13: Adding the App Id to Facebook Settings</p>
			<p class="callout-heading">Tip</p>
			<p class="callout">There is <a id="_idTextAnchor269"/>a possibility that you may get an error the next time that you try to export your game to Android due to changing the SDK location. If this is the case, close your Unity project and then go to the project folder and delete the <code>Temp</code> folder. Upon restarting the project, the error should go away.</p>
			<ol>
				<li value="13">Return to the Facebook Settings menu by going to <strong class="bold">Facebook</strong> | <strong class="bold">Edit Settings...</strong>.</li>
			</ol>
			<p>Now, you’ll notice that under <strong class="bold">Android Build Facebook Settings</strong>, there is a new error stating that OpenSSL is not found.</p>
			<ol>
				<li value="14">To fix this<a id="_idTextAnchor270"/>, we will first need to download OpenSSL by going to <a href="http://slproweb.com/products/Win32OpenSSL.html">http://slproweb.com/products/Win32OpenSSL.html</a>. From there, select the <strong class="bold">EXE</strong> link below the <strong class="bold">Win64 OpenSSL v1.1.1u</strong> option, as shown here:</li>
			</ol>
			<p class="callout-heading">Important note</p>
			<p class="callout">For those on a Mac, you can follow<a id="_idIndexMarker542"/> the instructions given here in order to install OpenSSL and add it to your path: <a href="https://developers.facebook.com/docs/facebook-login/android/advanced">https://developers.facebook.com/docs/facebook-login/android/advanced</a>.</p>
			<div><div><img src="img/B18868_08_14.jpg" alt="Figure 8.14: OpenSSL download link"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.14: OpenSSL download link</p>
			<p>Once it’s downloaded, install the program with the default options, as shown in the following screenshot:</p>
			<div><div><img src="img/B18868_08_15.jpg" alt="Figure 8.15﻿: Installing OpenSSL"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.15: Installing OpenSSL</p>
			<ol>
				<li>Once the installation is <a id="_idIndexMarker543"/>complete, you may uncheck the donation option and click on the <strong class="bold">Finish</strong> button.</li>
				<li>We then need to add the location of OpenSSL to the path. To do this, press the Windows key on your</li>
				<li>keyboard and start typing in <code>env</code>, and then select the <strong class="bold">Edit the system </strong><strong class="bold">environment variables</strong></li>
				<li>option, as shown in the following screenshot:</li>
			</ol>
			<div><div><img src="img/B18868_08_16.jpg" alt="Figure 8.16﻿: Se﻿lecting the ﻿Edit the system environment variables option"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.16: Se<a id="_idTextAnchor271"/>lecting the Edit the system environment variables option</p>
			<ol>
				<li value="5">In the window that pops<a id="_idIndexMarker544"/> up, click the <code>C:\Program Files\OpenSSL-Win64\bin</code>:</li>
			</ol>
			<div><div><img src="img/B18868_08_17.jpg" alt="Figure 8.17﻿: Editing the environmental variable for the path"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.17: Editing the environmental variable for the path</p>
			<ol>
				<li value="6">Then, click on <code>C:\Program Files\Unity\Hub\Editor\2022.1.0b16\Editor\Data\PlaybackEngines\AndroidPlayer\OpenJDK\bin</code>.</li>
				<li>Click on the <strong class="bold">OK</strong> button and then the <strong class="bold">OK</strong> button in the <strong class="bold">Environmental </strong><strong class="bold">Variables</strong> window.</li>
				<li>Once both options have been added, close your Unity project and restart your computer. Once Unity reopens, you may have to wait for the <strong class="bold">Resolving Android Dependencies</strong> menu to complete, but once it finishes, you should be able to see the <strong class="bold">Facebook Settings </strong>(<strong class="bold">Facebook | Edit Settings</strong>) menu working correctly and giving us a value under <strong class="bold">Debug Android Key </strong><strong class="bold">Hash</strong> <strong class="bold">[?]</strong>:</li>
			</ol>
			<div><div><img src="img/B18868_08_18.jpg" alt="Figure 8.18﻿: Debug Android Key Hash"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.18: Debug Android Key Hash</p>
			<ol>
				<li value="9">It is also required for calls to certain APIs to utilize a client token, so we will also get one of them. To do so, go back to your project’s dashboard by going to <strong class="bold">Facebook | </strong><strong class="bold">Developers Page</strong>.</li>
				<li>Once the dashboard has loaded, go to <strong class="bold">Settings | Advanced | Security | Client Token</strong>. Copy the <strong class="bold">Client token</strong> value and then go back to the Unity Editor and paste it back into <strong class="bold">Facebook Settings</strong> in <strong class="bold">Inspector</strong>.</li>
			</ol>
			<p>This means that our setup of the Facebook SDK is complete!</p>
			<ol>
				<li value="11">Depending on the <a id="_idIndexMarker546"/>platform you wish to deploy to, go to the following websites and complete the tasks listed:<ul><li>For Android, check out <a href="https://developers.facebook.com/docs/unity/getting-started/android">https://developers.facebook.com/docs/unity/getting-started/android</a></li><li>For iOS, check out <a href="https://developers.facebook.com/docs/unity/getting-started/ios">https://developers.facebook.com/docs/unity/getting-started/ios</a></li></ul></li>
			</ol>
			<p>Now that we have set that up, we can start adding to it by first allowing our game to be logged in to using Facebook.</p>
			<h1 id="_idParaDest-103">Logging in to ou<a id="_idTextAnchor272"/>r <a id="_idTextAnchor273"/><a id="_idTextAnchor274"/><a id="_idTextAnchor275"/>game via Facebook</h1>
			<p>One of the things we <a id="_idIndexMarker547"/>can do <a id="_idIndexMarker548"/>when using the Facebook API is to allow our users to log in to the game using their Facebook account. Then, we can use their name and image automatically within our project. The following steps show us how to achieve this:</p>
			<ol>
				<li>Let’s first open up our <code>Assets/Scenes</code> folder, and then double-clicking on the <code>MainMenu</code> file.</li>
				<li>From there, let’s click on the <strong class="bold">2D</strong> button to go into 2D mode if you haven’t done so previously. What we will do is replace the original menu and instead have a button for players to log in via Facebook, or play as a guest when the game starts.</li>
				<li>Go to the <code>Menu Options</code>.</li>
				<li>Then, select the <code>Facebook Login</code> object. Select the <strong class="bold">Menu Options</strong> game object again and then disable it by going to the <strong class="bold">Inspector</strong> tab and clicking on the checkmark beside its name:</li>
			</ol>
			<div><div><img src="img/B18868_08_19.jpg" alt="Figure 8.19: Creating the Facebook Login menu"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.19: Creating the Facebook Login menu</p>
			<p>We will have the <strong class="bold">Facebook Login</strong> object turn the menu on when needed.</p>
			<ol>
				<li value="5">Next, open the <code>225</code>, then right-click on the <strong class="bold">Button </strong>component, and then select the <strong class="bold">Reset</strong> option to remove its original <strong class="bold">On Click ()</strong> functionality.</li>
				<li>Duplicate the <code>Facebook Login Button</code> and <code>Continue as Guest Button</code>. Also, change the <code>Facebook Login</code> and <code>Continue </code><code>as Guest</code>:</li>
			</ol>
			<div><div><img src="img/B18868_08_20.jpg" alt="Figure 8.20: Facebook Login Button setup"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.20: Facebook Login Button setup</p>
			<ol>
				<li value="7">Now that we have the buttons <a id="_idIndexMarker549"/>working <a id="_idIndexMarker550"/>correctly, we need to write the script that will allow us to log in. Go to the <code>Scripts</code> folder and open our <code>MainMenuBehaviour</code> script. We will use the <code>List</code> class to hold the permissions we want in order to access Facebook and the content of the <code>FB</code> class in the Facebook SDK.</li>
				<li>So, to do that, we’ll first add the following to the top of the <code>MainMenuBehaviour</code> script:<pre class="source-code">
using UnityEngine;
using UnityEngine.SceneManagement; // LoadScene
using System.Collections.Generic; // List using Facebook.Unity; // FB</pre></li>
				<li>Then, add the following variables to the <code>MainMenuBehaviour</code> class:<pre class="source-code">
[Header("Object References")] 
public GameObject mainMenu; 
public GameObject facebookLogin;</pre></li>
				<li>Now, add the following code within the <code>MainMenuBehaviour</code> class:<pre class="source-code">
#region Facebook
#endregion</pre></li>
			</ol>
			<p>Inside this region, we are going to add several different methods, starting with some methods dealing with initializing the Facebook APIs:</p>
			<pre class="source-code">
    public void Awake()
    {
        /* We only call FB Init once, so check if it
        /* has been called already */
        if (!FB.IsInitialized)
        {
            FB.Init(OnInitComplete, OnHideUnity);
        }
    }</pre>
			<p>In this case, the <code>Awake</code> method calls the <code>FB.Init</code> function, which takes in two parameters, both of which are <a id="_idIndexMarker551"/>delegates, or <a id="_idIndexMarker552"/>functions to call whenever the initialization is complete and whenever the app is hidden or no longer the currently focused one. The definition of both those functions is as follows:</p>
			<pre class="source-code">
/// &lt;summary&gt;
/// Once initialized, will inform if logged in on Facebook
/// &lt;/summary&gt;
private void OnInitComplete()
{
    if(FB.IsInitialized)
    {
        if (FB.IsLoggedIn)
        {
            print("Logged into Facebook");
            /* Close Login and open Main Menu */
            ShowMainMenu();
        }
    }
    else
    {
        print("Failed to init Facebook SDK; open as
            guest");
        ShowMainMenu();
    }
}
    /// &lt;summary&gt;
    /// Called whenever Unity loses focus
    /// &lt;/summary&gt;
    /// &lt;param name="active"&gt;If the game is currently
        active&lt;/param&gt;
    private void OnHideUnity(bool active)
    {
        /* Set TimeScale based on if the game is
           paused */
        Time.timeScale = (active) ? 1 : 0;
    }</pre>
			<p>In this case, we are going to print a message to the screen if we are logged in to Facebook and we will display the main menu. Likewise, if we ever lose focus of Unity, we are going to pause the game.</p>
			<p>We have some other final functions that we <a id="_idIndexMarker553"/>need to<a id="_idIndexMarker554"/> add for our final implementation, which we will add next:</p>
			<pre class="source-code">
/// &lt;summary&gt;
/// Attempts to log in on Facebook
/// &lt;/summary&gt;
public void FacebookLogin()
{
    List&lt;string&gt; permissions = new List&lt;string&gt;();
    /* Add permissions we want to have here */
    permissions.Add("public_profile");
    FB.LogInWithReadPermissions(permissions,
        FacebookCallback);
}
/// &lt;summary&gt;
/// Called once facebook has logged in, or not
/// &lt;/summary&gt;
/// &lt;param name="result"&gt;The result of our login request&lt;/param&gt;
private void FacebookCallback(IResult result)
{
    if (result.Error == null)
    {
        OnInitComplete();
    }
    else
    {
        print(result.Error);
    }
}
public void ShowMainMenu()
{
    if (facebookLogin != null &amp;&amp; mainMenu != null)
    {
        facebookLogin.SetActive(false);
        mainMenu.SetActive(true);
    }
}</pre>
			<p>In this case, we are accessing the player’s public profile, which contains information such as their name and their profile picture.</p>
			<p class="callout-heading">Note</p>
			<p class="callout">For all of the <a id="_idTextAnchor277"/>properties that we can get access to, check out <a href="https://developers.facebook.com/docs/facebook-login/permissions#reference-public_profile">https://developers.facebook.com/docs/facebook-login/permissions#reference-public_profile</a>.</p>
			<ol>
				<li value="11">Save your script and<a id="_idIndexMarker555"/> go to <a id="_idIndexMarker556"/>the <strong class="bold">Facebook Login</strong> button and change the button’s <strong class="bold">OnClick()</strong> action to now call your function by clicking on the + button and then dragging and dropping the <strong class="bold">Main Menu</strong> object in and then selecting <strong class="bold">Main Menu Behaviour</strong> | <strong class="bold">Facebook </strong><strong class="bold">Login</strong> instead:</li>
			</ol>
			<div><div><img src="img/B18868_08_21.jpg" alt="Figure 8.21: Calling the FacebookLogin function"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.21: Calling the FacebookLogin function</p>
			<ol>
				<li value="12">Then, on the <code>MainMenuBehaviour.ShowMainMenu</code> function.</li>
			</ol>
			<div><div><img src="img/B18868_08_22.jpg" alt="Figure 8.22: Setup for Continue ﻿as Guest Button"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.22: Setup for Continue as Guest Button</p>
			<ol>
				<li value="13">Finally, we will need to set the variables we have created. Select the <strong class="bold">Main Menu</strong> object in the <strong class="bold">Hierarchy</strong> window and then set the <strong class="bold">Main Menu</strong> and <strong class="bold">Facebook </strong><strong class="bold">Login</strong> properties:</li>
			</ol>
			<div><div><img src="img/B18868_08_23.jpg" alt="Figure 8.23: Settin﻿g the Main Menu Behaviour properties"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.23: Settin<a id="_idTextAnchor279"/>g the Main Menu Behaviour properties</p>
			<p>Ensure that <a id="_idIndexMarker557"/>the <strong class="bold">Facebook Login</strong> is set<a id="_idIndexMarker558"/> to the <strong class="bold">panel</strong> object holding both buttons.</p>
			<ol>
				<li value="14">Save your scene, start the game, and then click on the <strong class="bold">Facebook </strong><strong class="bold">Login</strong> button:</li>
			</ol>
			<div><div><img src="img/B18868_08_24.jpg" alt="Figure 8.24: User Access Token Request Screen"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.24: User Access Token Request Screen</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">To see everything properly within the editor, it’s a good idea to maximize the <strong class="bold">Game </strong>tab, which you can do by right-clicking on the <strong class="bold">Game </strong>tab and selecting <strong class="bold">Maximize </strong>or by checking the <strong class="bold">Maximize On Play </strong>option on the toolbar.</p>
			<p>Now, you should see<a id="_idIndexMarker559"/> a<a id="_idIndexMarker560"/> menu asking for a user access token, a value that every profile has and we can associate it with. We’ll need to go to Facebook to get that, so that’s what we’ll do next.</p>
			<ol>
				<li>Click on the <strong class="bold">Find Access Token</strong> page, and a web browser will open with a new page:</li>
			</ol>
			<div><div><img src="img/B18868_08_25.jpg" alt="Figure 8.25: Access Token Tool page"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.25: Access Token Tool page</p>
			<ol>
				<li value="2">You’ll then need to<a id="_idIndexMarker561"/> click<a id="_idIndexMarker562"/> on the <strong class="bold">need to grant permissions</strong> link and then, on <strong class="bold">Generate Access Token</strong>, click <strong class="bold">Continue</strong> and you’ll see a string of characters under <strong class="bold">User Token</strong>. Copy the string, paste it into the <strong class="bold">User Access Token</strong> property in Unity, and then click on the <strong class="bold">Send </strong><strong class="bold">Success</strong> button<a id="_idTextAnchor280"/>.</li>
			</ol>
			<p class="callout-heading">Note</p>
			<p class="callout">If you get an error when granting permissions stating <strong class="bold">Future off- Facebook activity for this app is off</strong>, that means that your Facebook settings do not allow your Facebook profile to be used outside of Facebook. In order to use Facebook to log in, your account must have Off-Facebook tracking enabled. To do so, you can go to <a href="https://www.facebook.com/off_facebook_activity">https://www.facebook.com/off_facebook_activity</a> and ensure the <strong class="bold">Future off- Facebook Activity </strong>value is set to ON to be able to log in. We will be allowing users to log in as a guest if you’d prefer not to be tracked.</p>
			<p>Now, you’ll note that <a id="_idIndexMarker563"/>the<a id="_idIndexMarker564"/> Console has printed that we’ve logged in to Facebook and that the menu closes when we’ve sent the key:</p>
			<div><div><img src="img/B18868_08_26.jpg" alt="Figure 8.26: Logged in﻿ to Faceb﻿ook"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.26: Logged in to Faceb<a id="_idTextAnchor281"/>ook</p>
			<p class="callout-heading">Note</p>
			<p class="callout">For more information on user access tokens, check out <a href="https://developers.facebook.com/docs/facebook-login/access-tokens/#usertokens">https://developers.facebook.com/docs/facebook-login/access-tokens/#usertokens</a>.</p>
			<p>Now that we have <a id="_idIndexMarker565"/>the <a id="_idIndexMarker566"/>ability to log in to Facebook, we can now use the information t<a id="_idTextAnchor282"/>hat we get from Facebook in order to customize our game, which is what we will do <a id="_idTextAnchor283"/>next.</p>
			<h1 id="_idParaDest-104"><a id="_idTextAnchor284"/>Displaying a Facebook name and profile picture</h1>
			<p>A good thing to do <a id="_idIndexMarker567"/>is to personalize our game to fit our players. So, with that, once the player logs in, we will welcome them and display their image on the screen by following these steps:</p>
			<ol>
				<li>Go to the <code>MainMenuBehaviour</code> script once again. From there, we’ll need to add a new <code>using</code> statement to display an image and change the text we need in order to use Unity’s UI system and TextMeshPro:<pre class="source-code">
using UnityEngine.UI; // Image
using TMPro; //TextMeshProUGUI</pre></li>
				<li>We will then need to add two new variables:<pre class="source-code">
[Tooltip("Will display the user's Facebook profile pic")] 
public Image profilePic;
[Tooltip("The text object used to display the greeting")] 
public TextMeshProUGUI greeting;</pre></li>
			</ol>
			<p>These variables will hold the information that we wish to display once we get it from Fac<a id="_idTextAnchor285"/>ebook.</p>
			<ol>
				<li value="3">Afterward, we will update the <code>ShowMainMenu</code> function and add some new functions to <a id="_idIndexMarker568"/>use:<pre class="source-code">
public void ShowMainMenu()
{
    if (facebookLogin != null &amp;&amp; mainMenu != null)
    {
        facebookLogin.SetActive(false);
        mainMenu.SetActive(true);
<strong class="bold">        if (FB.IsLoggedIn)</strong>
<strong class="bold">        {</strong>
<strong class="bold">            </strong><strong class="bold">/* Get information from Facebook profile</strong>
<strong class="bold">            */</strong>
<strong class="bold">            FB.API("/me?fields=name",</strong>
<strong class="bold">                    HttpMethod.GET,</strong>
<strong class="bold">                    SetName);</strong>
<strong class="bold">            FB.API("/me/picture?width=256&amp;height=256",</strong>
<strong class="bold">                    HttpMethod.GET,</strong>
<strong class="bold">                    SetProfilePic);</strong>
<strong class="bold">        }</strong>
    }
}</pre></li>
			</ol>
			<p>The <code>FB.API</code> function makes a call to Facebook’s Graph API to get data or take an action on the user’s behalf and allows us to get the information that we have permission to as defined earlier. In our case, we are looking for the name and the profile picture of the user and calling the <code>SetName</code> and <code>SetProfilePic</code> functions, respectively, once we have obtained that data.</p>
			<p>However, we currently do not have <code>SetName</code> and <code>SetProfilePic</code> functions, so we will go ahead and add them now.</p>
			<ol>
				<li value="4">Add the following <a id="_idIndexMarker569"/>additional code within the <code>Facebook</code> region of the script:<pre class="source-code">
private void SetName(IResult result)
{
    if (result.Error != null)
    {
        print(result.Error); return;
    }
    string playerName =
        result.ResultDictionary["name"].ToString();
    if (greeting != null)
    {
        greeting.text = "Hello, " + playerName + "!";
        greeting.gameObject.SetActive(true);
    }
}
private void SetProfilePic(IGraphResult result)
{
    if (result.Error != null)
    {
        print(result.Error); return;
    }
    // Variable setup
    int texWidth = result.Texture.width;
    int texHeight = result.Texture.height;
    Rect rect = new Rect(0, 0, texWidth, texHeight);
    Vector2 pivot = Vector2.zero;
    Texture2D texture = result.Texture;
    // Create the profile pic
    Sprite fbImage = Sprite.Create(texture, rect,
        pivot);
    if (profilePic != null)
    {
        profilePic.sprite = fbImage;
        profilePic.gameObject.SetActive(true);
    }
}</pre></li>
			</ol>
			<p>After getting the <a id="_idIndexMarker570"/>data, we will modify the image or string to display the new data that we retrieved.</p>
			<p class="callout-heading">Important note</p>
			<p class="callout">For more information on the <code>FB.API</code> function, check out <a href="https://developers.facebook.com/docs/unity/reference/current/FB.API">https://developers.facebook.com/docs/unity/reference/current/FB.API</a>.</p>
			<ol>
				<li value="5">Now, we will need to actually create the text and image we want to display. Open up the <code>Safe Area Holder</code>. Then, right-click on the <code>Welcome Profile</code>:</li>
			</ol>
			<div><div><img src="img/B18868_08_27.jpg" alt="Figure 8.27: Creating ﻿Welcome Profile"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.27: Creating Welcome Profile</p>
			<p>This will act as a <a id="_idIndexMarker571"/>container for all of our information for the player.</p>
			<ol>
				<li value="6">With the <code>10</code>. From there, change <strong class="bold">Child Alignment</strong> to <strong class="bold">Lower Center</strong> and then check <strong class="bold">Width</strong> and <strong class="bold">Height</strong> under the <strong class="bold">Control Child Size</strong> property. Then, add a <strong class="bold">Content Size Fitter</strong> component and change the <strong class="bold">Horizontal Fit</strong> and <strong class="bold">Vertical Fit</strong> size to <strong class="bold">Preferred Size</strong>. Finally, in the <strong class="bold">Anchor Presets</strong> menu, hold down <em class="italic">Alt + Shift</em> and select <strong class="bold">Bottom-center</strong>.</li>
				<li>Now, select the <strong class="bold">Welcome Profile</strong> object in the <strong class="bold">Hierarchy</strong> tab, right-click on it, and select <strong class="bold">UI </strong>| <strong class="bold">Text - </strong><strong class="bold">TextMeshPro</strong>.</li>
				<li>Rename the next <code>Greeting</code>.</li>
				<li>Then, adjust <code>Welcome</code> and the size to something larger, such as <code>50</code>, change the <strong class="bold">Vertex Color</strong> to black, and then adjust <strong class="bold">Alignment</strong> to be centered vertically and horizontally:</li>
			</ol>
			<div><div><img src="img/B18868_08_28.jpg" alt="Figure 8.28: Greeting Text setup"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.28: Greeting Text setup</p>
			<ol>
				<li value="10">Likewise, let’s<a id="_idIndexMarker572"/> next right-click on <code>256</code>. Afterward, check the <code>256</code> as well, because Facebook may give us images larger than this, and this will keep the images smaller. The <strong class="bold">Layout Element (Script)</strong> component is great for allowing you to override things that <strong class="bold">LayoutGroups</strong> will do by default and can be useful if you’re not getting exactly what you want from the default behavior.</li>
			</ol>
			<p class="callout-heading">Note</p>
			<p class="callout">For more information <a id="_idIndexMarker573"/>on the <strong class="bold">Layout Element (Script) </strong>compon<a href="https://developers.facebook.com/docs/unity/">ent, ch</a>eck out <a href="https://docs.unity3d.com/Manual/script-LayoutElement.html">https://docs.unity3d.com/Manual/script-LayoutElement.html</a>.</p>
			<ol>
				<li value="11">Next, change the name of the <code>Profile Pic</code> and then reorder it so it is above the <strong class="bold">Greeting</strong> object in the <strong class="bold">Hierarchy</strong>:</li>
			</ol>
			<div><div><img src="img/B18868_08_29.jpg" alt="Figure 8.29: Profile Pic setup"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.29: Profile Pic setup</p>
			<p>Reordering objects<a id="_idIndexMarker574"/> with a <strong class="bold">Horizontal Layout Group</strong> modifies their placement order.</p>
			<p>If you change the resolution to a much smaller size, the image is drawn on top of our menu. This is possible due to both canvases being told that they have the same priority in being drawn, similar to how Z-fighting works for 2D games. To fix potential problems<a id="_idIndexMarker575"/> in the future, we will instead put the scaling canvas as the backgrou<a id="_idTextAnchor286"/>nd element.</p>
			<ol>
				<li value="12">To do this, we will select <code>1</code>.</li>
				<li>Now, dive back into the <strong class="bold">Main Menu</strong> object and set the <strong class="bold">Greeting</strong> and <strong class="bold">Profile Pic</strong> properties in the <strong class="bold">MainMenuBehaviour</strong> component.</li>
				<li>Finally, since we don’t want them visible when the game starts, let’s turn off<strong class="bold"> Greeting</strong> and our <strong class="bold">Profile Pic</strong> object as well.</li>
				<li>Save our game, and <a id="_idIndexMarker576"/>then start it up again by going through the appropriate login information:</li>
			</ol>
			<div><div><img src="img/B18868_08_30.jpg" alt="Figure 8.30: Logged into Facebook"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.30: Logged into Facebook</p>
			<p>As you can see, we are logged in and you can see my name, but I have a profile pic that isn’t quite my actual profile pic. This is because it is using my gaming profile. If we want to use my actual Facebook profile pic, we have to add another permission to our app:</p>
			<ol>
				<li>Back in Graph API Explorer, go back to the <strong class="bold">Permissions</strong> section and, under <strong class="bold">Add a Permission</strong>, click on the dropdown and select <strong class="bold">gaming_user_picture</strong>.</li>
			</ol>
			<div><div><img src="img/B18868_08_31.jpg" alt="Figure 8.31: Adding the user picture option"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.31: Adding the user picture option</p>
			<ol>
				<li value="2">From there, click<a id="_idIndexMarker577"/> on <strong class="bold">Generate Access Token</strong> again and get a new access token that share your actual profile information. Note that the user will have to choose to share this info with you.</li>
			</ol>
			<div><div><img src="img/B18868_08_32.jpg" alt="Figure 8.32: Choose how you log in to Facebook"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.32: Choose how you log in to Facebook</p>
			<p>Now use your new access token and try to run the game.</p>
			<div><div><img src="img/B18868_08_33.jpg" alt="Figure 8.33: Logged in﻿ to actual Facebook account"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.33: Logged in to actual Facebook account</p>
			<p>As you can see in the preceding screenshot, I retrieved my actual Facebook info once I logged in.</p>
			<p>Facebook is still an incredibly useful platform for game developers and can help personalize a user’s gameplay experience. This can be easily expanded to utilize several other pieces of data that Facebook has and share content with all of your user’s friends.</p>
			<p>For those that are just looking for the ability to have the ability to sign in to your game to authenticate<a id="_idIndexMarker578"/> players for specific platforms, there are several other options available that you can use. For details on that, check out <a href="https://docs.unity.com/authentication/SettingupExternalIdentityProviders.html">https://docs.unity.com/authentication/SettingupExternalIdentityProviders.html</a>.</p>
			<h1 id="_idParaDest-105"><a id="_idTextAnchor288"/>Summary</h1>
			<p>In this chapter, we were introduced to some of the potential ways that we can share our game with others, as well as personalizing our game experiences and utilizing the functionality that social media provides us with. We started off by adding a simple score system and then allowed users to share their scores via Twitter. We then set up the Facebook SDK, making it so that we can log in to it to play our game and retrieve information about our users, which we can use to customize their gameplay experience.</p>
			<p>Now that we have people playing our game, we want them to keep coming back and playing over time. One of the easiest ways to do this is through the use of notifications, which we will look at in the next chapter.</p>
		</div>
	

		<div><h1 id="_idParaDest-106"><a id="_idTextAnchor289"/>Part 3: Game Feel/Polish</h1>
			<p>In this part of the book, we will focus on adding polish to your game to enhance the overall player experience. By the end of this part, you will have all the tools and knowledge necessary to take your game to the next level by polishing it and the player experience.</p>
			<p>This part has the following chapters:</p>
			<ul>
				<li><a href="B18868_09.xhtml#_idTextAnchor290"><em class="italic">Chapter 9</em></a>, <em class="italic">Keeping Players Involved with Notifications</em></li>
				<li><a href="B18868_10.xhtml#_idTextAnchor313"><em class="italic">Chapter 10</em></a>, <em class="italic">Using Unity Analytics</em></li>
				<li><a href="B18868_11.xhtml#_idTextAnchor339"><em class="italic">Chapter 11</em></a>, <em class="italic">Remote Config</em></li>
				<li><a href="B18868_12.xhtml#_idTextAnchor347"><em class="italic">Chapter 12</em></a>, <em class="italic">Improving Game Feel</em></li>
				<li><a href="B18868_13.xhtml#_idTextAnchor369"><em class="italic">Chapter 13</em></a>, <em class="italic">Building a Release Copy of Our Game</em></li>
				<li><a href="B18868_14.xhtml#_idTextAnchor410"><em class="italic">Chapter 14</em></a>, <em class="italic">Submitting Games to App Stores</em></li>
				<li><a href="B18868_15.xhtml#_idTextAnchor453"><em class="italic">Chapter 15</em></a>, <em class="italic">Augmented Reality</em></li>
			</ul>
		</div>
		<div><div></div>
		</div>
		<div><div></div>
		</div>
	</body></html>