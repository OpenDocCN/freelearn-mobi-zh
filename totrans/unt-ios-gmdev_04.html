<html><head></head><body><div class="chapter" title="Chapter&#xA0;4.&#xA0;Unity Concepts"><div class="titlepage"><div><div><h1 class="title"><a id="ch04"/>Chapter 4. Unity Concepts</h1></div></div></div><div class="blockquote"><blockquote class="blockquote"><p>Now that we have built our first application and have a taste for what Unity is capable of, it's time to learn the core concepts of Unity so that we can build much more complex and compelling games. We have briefly discussed some of the core concepts already, but to build compelling content it is necessary to have a more in-depth understanding of how Unity uses these concepts.</p></blockquote></div><p>In this chapter we shall:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Learn the core concepts of Unity</li><li class="listitem" style="list-style-type: disc">Create the core components within the tool</li></ul></div><div class="section" title="Basic concepts of Unity development"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec01"/>Basic concepts of Unity development</h1></div></div></div><p>When studying a foreign language you will spend some time immersing yourself in its nouns and verbs so that you can understand the concepts and begin creating sentences.<a id="id136" class="indexterm"/>
</p><div class="section" title="Asset"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec01"/>Asset</h2></div></div></div><p>An asset represents the atomic unity through which you can construct a scene in Unity. Anything that you bring into the environment is considered an asset including sound files, textures, models, scripts, and so on.<a id="id137" class="indexterm"/>
</p><p>You can import assets into a Unity project by either dragging and dropping them from the desktop into the<span class="strong"><strong> Project</strong></span> view, or by using the<span class="strong"><strong> Import New Asset</strong></span> menu<span class="strong"><strong> (Assets | Import New Asset)</strong></span>. Once in the<span class="strong"><strong> Project</strong></span> view the asset is something that can be used in your game. Think of the<span class="strong"><strong> Project</strong></span> view as your palette from which you will paint your world.</p><p>Assets are managed on the file system by Unity. If you go into your project folder and look at the<code class="literal"> Assets</code> directory you will find all of the assets that are in your project. When Unity imports your assets, it will store the imported asset and all of its metadata here.<a id="id138" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note06"/>Note</h3><p>It is important to note that you should never try to manage assets in this folder directly.</p></div><p>While you can make changes to textures, audio, models, and so on, in this location with your various tools you should never move them as this will break the link between the asset and the Unity metadata for the asset. In effect, Unity will behave as if you just brought this asset into Unity for the first time and any relationships, settings, and so on will have to be newly created.<a id="id139" class="indexterm"/>
</p></div></div></div>
<div class="section" title="Time for action &#x2014; Exporting asset packages"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec02"/>Time for action —  Exporting asset packages</h1></div></div></div><p>There will be times when you want to share a collection of assets with other users on your team or within the community. Unity makes this easier by providing a simple mechanism called Packages. A<span class="strong"><strong> package</strong></span> is just a collection of assets bundled together in a single file.<a id="id140" class="indexterm"/>
</p><p>In this exercise we're going to explore how one would share assets from an existing project with other developers:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Open the project for this chapter named<span class="strong"><strong> HelloWorld2</strong></span>. In it you will find a version of our original Hello World demo with some additional assets.</li><li class="listitem">Select the assets that you want to export as part of the package:<div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_5 2.jpg" alt="Time for action — Exporting asset packages"/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">In the above illustration the <span class="strong"><strong>Materials</strong></span> element within the <span class="strong"><strong>Project</strong></span> has been selected. There are <span class="strong"><strong>Puppy</strong></span> and <span class="strong"><strong>Grass</strong></span> materials that are a child of the <span class="strong"><strong>Materials</strong></span> element and they will be bundled in the package as well. If you only wanted to share the <span class="strong"><strong>Puppy</strong></span> materials you would simply select the <span class="strong"><strong>Puppy</strong></span> element and only those materials would be packaged.</li></ul></div></li><li class="listitem">Next let's create a package using the<span class="strong"><strong> Export Package</strong></span> menu <span class="strong"><strong>(Assets | Export Package)</strong></span>. When selected, this will create a package starting with the selected item in the<span class="strong"><strong> Project</strong></span> view and anything that is a child of this element.<a id="id141" class="indexterm"/></li><li class="listitem">Unity will then display a dialog with all of the assets that will be exported. If there are assets that you want to remove, uncheck its checkbox:<div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_3.jpg" alt="Time for action — Exporting asset packages"/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">In addition, there is a checkbox labeled <span class="strong"><strong>Include dependencies</strong></span>. If your assets have other assets, such as scripts, that they depend on, keeping this box checked tells Unity to include those assets in the package.<a id="id142" class="indexterm"/></li></ul></div></li><li class="listitem">Select the<span class="strong"><strong> Export</strong></span> button and, in the subsequent file dialog, provide a name for the Unity package file. Unity will create and compress the assets into a file with the extension<code class="literal"> .unitypackage:</code><a id="id143" class="indexterm"/><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_5.jpg" alt="Time for action — Exporting asset packages"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec02"/>What just happened?</h2></div></div></div><p>We have created a Unity package that contains all of the assets we selected. This is the ideal way to share assets with your team as any settings, hierarchies, and so on will be preserved when those assets are imported.<a id="id144" class="indexterm"/>
</p></div></div>
<div class="section" title="Time for action &#x2014; Importing asset packages"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec03"/>Time for action —  Importing asset packages</h1></div></div></div><p>There are a growing number of third party companies who are providing assets specifically packaged for Unity developers, including the Unity Asset Store which can be accessed from within the Unity product. All of these solutions provide content through the same<code class="literal"> .unitypackage</code> format described in the section Time for action —  — Exporting asset packages. With assets from the Unity Asset store, the process of including the assets in your project is automatic. However, there may be times when you have received assets from others and need to import them into your project yourself.<a id="id145" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Create a new Project in Unity called<span class="strong"><strong> Project Import</strong></span>.</li><li class="listitem">Using the<code class="literal"> .unitypackage</code> file you built from the Exporting Assets Time for action — , import into your project by dragging the<code class="literal"> .unitypackage</code> file into the<span class="strong"><strong> Project</strong></span> view at the location in your project hierarchy where you'd like them to be stored, or by using the<span class="strong"><strong> Import Assets</strong></span> menu <span class="strong"><strong> (Assets | Import Asset):</strong></span><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_6.jpg" alt="Time for action — Importing asset packages"/></div></li><li class="listitem">Once performed you will find that Unity has imported in the<code class="literal"> .unitypackage</code> file in the<span class="strong"><strong> Project</strong></span> view, but it has not expanded the assets into the familiar hierarchy that we had before. Unity doesn't know if you want all of the assets in the package and it is giving you the option to decide, rather than pollute your project with an unknown list of assets.</li><li class="listitem">Double-click on the<code class="literal"> .unitypackage</code> file to have Unity expand the package into its component parts.<p>You will be presented with a dialog that lists everything that is in the package, as well as a note letting you know whether or not the assets are new. This is useful when sharing assets across projects, especially when the assets might have the same name.
<a id="id146" class="indexterm"/>
</p></li><li class="listitem">Select the<span class="strong"><strong> All</strong></span> button to have Unity include all of the assets in the package:<div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_7.jpg" alt="Time for action — Importing asset packages"/></div></li><li class="listitem">Observe the<span class="strong"><strong> Project</strong></span> view and you will find that all of the assets that you selected have been included in the Project and that the hierarchy for the assets has been preserved:<a id="id147" class="indexterm"/><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_8.jpg" alt="Time for action — Importing asset packages"/></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note07"/>Note</h3><p>Although we didn't have a Library element in our package, or one in our Puppy Test project, Unity created this hierarchy and imported in the assets accordingly. It is this sort of information, and the settings associated with it, that would be lost if you managed the<code class="literal"> Assets</code> folder manually.</p></div></li><li class="listitem">Delete the<code class="literal"> unityproject</code> file from the Project Hierarchy since we have extracted the assets we're interested in.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec03"/>What just happened?</h2></div></div></div><p>We have just imported assets into a new project preserving the original hierarchy of the assets from the original project.<a id="id148" class="indexterm"/>
</p><p>While we have chosen to import all of the assets from the<code class="literal"> unityproject</code> it is not necessary to do so. You can preview the assets that you want to import and uncheck those you'd rather not be included in your project.</p></div><div class="section" title="Game Objects"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec04"/>Game Objects</h2></div></div></div><p>Normally when you think of a Game Object you think of an animated soldier, a particle system, or a Sprite within a game. However, a Game Object is more of an abstract concept, a base object with no behaviors or functionality. Game Objects gain the ability to perform functions by having behaviors added to them. The approach through which this is done is the<span class="strong"><strong> Decorator</strong></span> design pattern, which allows some arbitrary number of behaviors to be added to some base class. These behaviors, known as<span class="strong"><strong> Components</strong></span> in the Unity vernacular, are what give a Game Object true meaning and definition. It is through Components that Game Objects have the ability to exist in a scene and have a position, rotation and scale.<a id="id149" class="indexterm"/>
</p></div><div class="section" title="Components"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec05"/>Components</h2></div></div></div><p>Components are decorators for Game Objects that provide additional behaviors and configuration to assets. Many of the core tenets of rendering, physics, audio, lighting, and so on are all accomplished by adding Components to objects. As such, many of the Unity concepts that we will cover have a computer graphics definition and a component which when attached to that Game Object provides the behavior. The best way to illustrate this concept is through some examples.<a id="id150" class="indexterm"/>
</p><p>You might think that the easiest way to have a light is to have some concrete Light type that is defined in the system. However, suppose that you want a regular object such as a starship engine to have the ability to emit light? Certainly you can create a Light object and associate it with the engine model, but suppose that you also want it to emit smoke and be affected by physics, and play a sound? Immediately you would notice that your scene would be polluted with objects that aren't really relevant to the game — nevertheless they would show up in your hierarchy and you'd have to manage them. The more elegant way to accomplish this is to say that you have a starship engine and it has certain behaviors. These behaviors are the components that we'd associate with the object.</p><p>Even our standard Game Object gets its ability to have position, scale, and rotation from a Transform Component. In Unity's Inspector view what you are really looking at is the stack of components that are applied to this Game Object.</p><p>Let's take another example.</p></div></div>
<div class="section" title="Time for action &#x2014; Adding components to Game Objects"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec04"/>Time for action —  Adding components to Game Objects</h1></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">In Unity, create an empty Game Object:<a id="id151" class="indexterm"/><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_9.jpg" alt="Time for action — Adding components to Game Objects"/></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">Now let's add some components to this Game Object.</li></ul></div></li><li class="listitem">In the<span class="strong"><strong> Component</strong></span> menu you will find all of the components that you can add to this Game Object. In the<span class="strong"><strong> Rendering Submenu</strong></span>, select the<span class="strong"><strong> Light</strong></span> option:<a id="id152" class="indexterm"/></li></ol></div><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_10.jpg" alt="Time for action — Adding components to Game Objects"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec06"/>What just happened?</h2></div></div></div><p>In Unity you will note that your Game Object now has a light behavior associated with it:<a id="id153" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_11.jpg" alt="What just happened?"/></div><p>If you were to create a regular Light object from the<span class="strong"><strong> Hierarchy</strong></span> menu you'd find that both objects are the same. This is because the<span class="strong"><strong> Light</strong></span> Game Object is simply an empty Game Object with a<span class="strong"><strong> Light</strong></span> component — simply configured appropriately for the type of light that you wanted to create. If you explore, you'd find that you could configure your light exactly the same as the stock light object.<a id="id154" class="indexterm"/>
</p><p>All of this should show you the possibilities that you have. You are not constrained by an arbitrary construction of objects by the Unity developers. In fact, you can create your own custom components as well and add those components to any Game Object that you desire.</p></div><div class="section" title="Transform"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec07"/>Transform</h2></div></div></div><p>A transform is the base concept of something in 3-dimensional space. It represents the position, rotation, and scale of an object and can contain links to child objects in a hierarchy. Every object in a scene has one of these, even if nothing is rendered. The<span class="strong"><strong> Transform Component</strong></span> is the base component that every Game Object has and it is also the one that you cannot remove as it is necessary for your object to exist in 3D space:<a id="id155" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_12.jpg" alt="Transform"/></div></div></div>
<div class="section" title="Time for action &#x2014; Positioning, Rotating, and Scaling a Game Object"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec05"/>Time for action —  Positioning, Rotating, and Scaling a Game Object</h1></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Create a Cube Game Object.<a id="id156" class="indexterm"/></li><li class="listitem">Change the position of the cube by changing the X value of the<span class="strong"><strong> Transform Component</strong></span> to<span class="strong"><strong> 10</strong></span>.<p>You will notice that the cube's position in the scene reflects this new location.
</p></li><li class="listitem">Change the rotation of the cube along the X-axis to<span class="strong"><strong> 45</strong></span>.<p>You have now rotated the cube 45 degrees along the X axis.
</p></li><li class="listitem">Change the scale of the cube's<span class="strong"><strong> Transform Component</strong></span> to<span class="strong"><strong> 10</strong></span> on the X-axis.<p>You have not scaled the object along its X-axis.
</p></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec08"/>What just happened?</h2></div></div></div><p>You can refine the location of an object within the scene by changing its<span class="strong"><strong> Position</strong></span> attributes. These attributes represent where this object is in world space coordinates — the coordinate system of the scene itself. In addition, you can change the orientation of an object by adjusting its<span class="strong"><strong> Rotation</strong></span> attributes. Finally, you can define an arbitrary scale for an object by updating the<span class="strong"><strong> Scale</strong></span> attributes:<a id="id157" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_13.jpg" alt="What just happened?"/></div></div><div class="section" title="Camera"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec09"/>Camera</h2></div></div></div><p>The<span class="strong"><strong> Camera</strong></span> provides the viewport through which the user can view the content within your scene. The camera will capture everything that is within its frustum and project that content onto the frame buffer for rasterization onto the 2D display. The frustum defines a geometric shape, which is used to clip Game Objects in the scene. If a Game Object isn't within the frustum, the<span class="strong"><strong> Camera</strong></span> assumes that it is not visible to the user and doesn't waste cycles trying to draw it. This concept is important and will become even more important, when we discuss occlusion culling later in the book. For now, just note that the Near Clip plane, the Far Clip plane, and the<span class="strong"><strong> Field of View</strong></span> define the shape of this object and all of these settings can be configured easily in the<span class="strong"><strong> Camera</strong></span> Component:<a id="id158" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_14.jpg" alt="Camera"/></div><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_15.jpg" alt="Camera"/></div><div class="section" title="Camera properties"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec01"/>Camera properties</h3></div></div></div><p>The Camera Component has several properties that define how much of the world the user will be able to see when the scene is rendered.<a id="id161" class="indexterm"/>
</p><div class="section" title="Near Clip"><div class="titlepage"><div><div><h4 class="title"><a id="ch04lvl4sec01"/>Near Clip</h4></div></div></div><p>The near clip plane defines a plane such that objects closer to the camera are no longer displayed. This setting normally places the near clip fairly close to the camera so that objects can get close to the 'viewer' and not get clipped.<a id="id162" class="indexterm"/>
</p></div><div class="section" title="Far Clip"><div class="titlepage"><div><div><h4 class="title"><a id="ch04lvl4sec02"/>Far Clip</h4></div></div></div><p>The far clip plane defines a plane such that objects beyond this distance are too far away and should not be drawn. The setting you choose for this will have a fairly substantial impact on your game's performance. While you may be able to increase this setting very far in the distance, realize that those objects far off in the distance are being rendered and consuming resources as if they were closer. So if you raise the far clip out to your virtual horizon and there is a city out there, but it's only a few pixels in size, you're still drawing that city in all its splendor and taking the performance hit to do so, even though it's scarcely visible.<a id="id163" class="indexterm"/>
</p></div><div class="section" title="Field of View (FOV)"><div class="titlepage"><div><div><h4 class="title"><a id="ch04lvl4sec03"/>Field of View (FOV)</h4></div></div></div><p>The field of view defines how wide the viewport is along its Y-axis. This will impact how perspective of objects is computed and result in the object being taller/fatter based upon this setting:<a id="id164" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_21.jpg" alt="Field of View (FOV)"/></div></div></div><div class="section" title="Camera projection types"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec02"/>Camera projection types</h3></div></div></div><p>You can set any Unity camera to one of two projection types: orthographic projection and perspective projection. These projections determine how the world seen by the camera is rendered.<a id="id165" class="indexterm"/>
</p><div class="section" title="Orthographic projection"><div class="titlepage"><div><div><h4 class="title"><a id="ch04lvl4sec04"/>Orthographic projection</h4></div></div></div><p>A camera with orthographic projection removes the perspective correction from the camera's view and ensures that no matter how far an object is from the camera its distance will remain the same. The orthographic camera will be important when we build traditional 2-dimensional user interfaces and particularly important for 2D games.<a id="id166" class="indexterm"/>
</p></div><div class="section" title="Perspective projection"><div class="titlepage"><div><div><h4 class="title"><a id="ch04lvl4sec05"/>Perspective projection</h4></div></div></div><p>The perspective camera takes into account the distance of a Game Object from the viewer, and based upon this applies a perspective correction such that objects further away appear smaller than they really are. For most games this is the primary mechanism used to draw content.<a id="id167" class="indexterm"/>
</p><p>It is important to note that there are no constraints in Unity that require you to use one camera projection type or other in a scene. In fact, it is quite common to use multiple cameras for different purposes. You could, for example, have an orthographic camera that is responsible for drawing your user interface elements and a perspective camera that is responsible for your regular scene elements.</p></div></div></div><div class="section" title="Lights"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec10"/>Lights</h2></div></div></div><p>Lights are straightforward in concept. They illuminate objects in the scene so that they can be seen. Without lights, objects will appear to be dark and lifeless. With lights you can add mood to a scene and, through the shadows that they cast, add depth to the world. There are three primary types of light in Unity: Directional lights, Point lights, and Spot lights.<a id="id168" class="indexterm"/>
</p><div class="section" title="Directional light"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec03"/>Directional light</h3></div></div></div><p>A Directional light is one that has an infinite distance from the scene. While you can position it in Unity, only the direction of the light is used in determining how the objects in the scene are lit. Directional lights are the cheapest lights that you can use in your scene. This is the fastest way to do global scene illumination as the position of the light doesn't impact how 'lit' something is within the scene, only the direction of the light.<a id="id169" class="indexterm"/>
</p></div><div class="section" title="Point light"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec04"/>Point light</h3></div></div></div><p>In contrast to the directional light, the Point Light is a light source that has a position in the scene, but no direction — emitting light equally in all directions. This light is of average computational complexity and generally used for most effects in a game.<a id="id170" class="indexterm"/>
</p></div><div class="section" title="Spot light"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec05"/>Spot light</h3></div></div></div><p>The most expensive light type, spot lights simulate the same effect that you would get from flashlights — a cone of light. This cone also has a fallout, such that light in the center of the cone is brighter than that at the edges of the cone. While there may be some situations where you might want to use a spot light, the expense of doing so on iOS devices makes this highly prohibitive.<a id="id171" class="indexterm"/>
</p></div><div class="section" title="Lightmapping"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec06"/>Lightmapping</h3></div></div></div><p>While you can accomplish tremendous things with lights that approach realistic lighting, to do so requires an exceptional amount of computing power. When considering the computational and graphical capabilities of mobile devices, computing lights in real time is a sure way to ensure that our games and applications will have poor performance. This can be remedied by using light maps.<a id="id172" class="indexterm"/>
</p><p>Light maps are best described as lighting a scene and baking the effect of those lights on the scene. Since it is computationally cheaper to blend light maps with material textures, we can accomplish through light maps what would normal have required more expensive lights. As luck would have it, Unity has built in support for light maps through the industry-leading Beast light mapping system.</p><p>With Beast you will be able to place lights in a scene, as you normally would, and Beast will compute the impact of those lights on the textures in the scene and create light maps for us. We can get exceptional results quickly and cheaply doing this.</p><p>Lights and Beast light mapping will be covered in more detail in the chapter on lighting.</p></div></div><div class="section" title="Sound"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec11"/>Sound</h2></div></div></div><p>Sound is an often-overlooked part of a good game and helps set the mood for the player. Watch your favorite movie (not a silent movie) with the sound turned off. You will notice that the experience is not as compelling as it was when the sound was on, and if this movie is something you know very well — you will find that your brain tries to fill in the blanks by recovering the dialogue and music from the movie in your memory. Sound is crucial for engagement and Unity has an arsenal of audio capabilities that cover the spectrum.<a id="id173" class="indexterm"/>
</p><div class="section" title="Audio listener"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec07"/>Audio listener</h3></div></div></div><p>In the real-world, sound must be heard and if you are too far away from the emitter of the sound, you won't hear anything. Unity handles this concept of hearing through the audio listener. This Game Object is normally attached to the player's avatar, character, or other representation in the scene. The audio listener then acts as a microphone within your game world and anything that it hears — the player hears through the speakers.<a id="id174" class="indexterm"/>
</p><p>By default, the audio listener is placed on the Main Camera in the scene. If you want the user to hear from the perspective of some other object, simply remove the audio listener from the Main Camera and attach it to the Game Object that you wish to represent the users center of hearing. In Unity, you cannot have multiple audio listeners active at the same time. While the audio listener is a component, it doesn't have any configurable properties.</p></div><div class="section" title="Audio sources"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec08"/>Audio sources</h3></div></div></div><p>Audio sources represent things that make noise in the game world. You can add an audio source to a Game Object by selecting the Game Object and choosing<span class="strong"><strong> Component | Audio | Audio Source</strong></span>. This will add the<span class="strong"><strong> Audio Source</strong></span> component to your Game Object:<a id="id175" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_16.jpg" alt="Audio sources"/></div><p>You will also see that in the<span class="strong"><strong> Scene</strong></span> view your Game Object has a speaker icon on it. This denotes that this Game Object has an audio source component on it and generates sound:</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_17.jpg" alt="Audio sources"/></div></div><div class="section" title="Audio clips"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec09"/>Audio clips</h3></div></div></div><p>While we have created an audio source, we have not associated an actual sound with it. This sound is what Unity refers to as an audio clip. Unity supports audio clips in pretty much every format you can encode sound to including<code class="literal"> .aif, .wav, .mp3, .ogg</code> and even the tracker formats of<code class="literal"> .xm, .mod, .it</code> and<code class="literal"> .s3m</code>.<a id="id176" class="indexterm"/>
</p></div></div></div>
<div class="section" title="Time for action &#x2014; Adding audio clips"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec07"/>Time for action —  Adding audio clips</h1></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">From the project folder for<code class="literal"> Chapter 4</code> select the<code class="literal"> dog_1.mp3</code> file and drag it into the<span class="strong"><strong> Project</strong></span> view.<a id="id177" class="indexterm"/></li><li class="listitem">The audio clip will be imported into Unity and will appear in the<span class="strong"><strong> Project</strong></span> view designated by a speaker icon:<div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_18.jpg" alt="Time for action — Adding audio clips"/></div></li><li class="listitem">Select the<span class="strong"><strong> Audio Clip</strong></span> in the<span class="strong"><strong> Project</strong></span> view. The<span class="strong"><strong> Inspector</strong></span> will fill with all of the settings for the<span class="strong"><strong> Audio Clip:</strong></span><a id="id178" class="indexterm"/><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_20.jpg" alt="Time for action — Adding audio clips"/></div></li><li class="listitem">Create a Cube Game Object.<a id="id179" class="indexterm"/></li><li class="listitem">Add an<span class="strong"><strong> Audio Source</strong></span> to the Cube Game Object.</li><li class="listitem">In the Audio Source Game Object select the<span class="strong"><strong> Loop</strong></span> checkbox to designate that we'd like this sound to play indefinitely.</li><li class="listitem">To the right of the<span class="strong"><strong> Audio Source</strong></span> property is a small round button. Press it to bring up the<span class="strong"><strong> Asset Browser</strong></span>.<a id="id180" class="indexterm"/></li><li class="listitem">Select the<span class="strong"><strong> dog_1</strong></span> asset from the browser:<a id="id181" class="indexterm"/></li></ol></div><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_19.jpg" alt="Time for action — Adding audio clips"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec12"/>What just happened?</h2></div></div></div><p>You have just added sound to an object. Now when you play your scene, if you are close enough to that Game Object you will hear the sound. If you are having trouble, make sure that<span class="strong"><strong> Play on Awake</strong></span> is checked in the<span class="strong"><strong> Audio Source</strong></span>.<a id="id182" class="indexterm"/>
</p></div><div class="section" title="Scripts"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec13"/>Scripts</h2></div></div></div><p>When you create a script in Unity you are creating a new behavior that will be attached to a Game Object and that behavior will be invoked as Unity communicates with the Game Object during the rendering pipeline stages. Unity ships with a number of pre-defined scripts to do basic things such as FPS Control, iOS Joypad controls, and so on. However, you will find that for most things that you want to do you will be creating a script yourself.<a id="id183" class="indexterm"/>
</p><p>Unity supports scripting using Javascript, C#, and Boo as the primary scripting languages, but given that Mono will work with any .Net language it is entirely possible to write your scripts using F# or even Java. However, you may find that since these paths are not officially supported, the cost to self-support your custom path may not be worth the effort.</p><p>Internally, Unity utilizes the Mono/.Net compilation path for all of the scripts that you have in your project. The underlying language implementation for C# and Javascript scripting within the Unity frameworks are all extending functionality from Boo. You will find that it is very easy to create new scripts, import functionality from .Net assemblies, or even extend the language by interfacing directly with the<span class="strong"><strong> abstract syntax tree (AST)</strong></span>  generated during the build phase. During the build phase, Unity will cause all scripts to be compiled statically, embedded with your application, and deployed to the device.<a id="id184" class="indexterm"/>
</p><div class="section" title="Editors"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec10"/>Editors</h3></div></div></div><p>There are two editors available for scripting with Unity: Unitron and MonoDevelop.<a id="id185" class="indexterm"/>
</p><p>
<span class="strong"><strong>Unitron</strong></span> is the original script editor that ships with Unity and will be active by default. It is lightweight and fast, but lacks all of the modern conveniences of a traditional IDE. As your projects get more complex, you will find that having a robust IDE is essential and may want to move to a more professional editor:<a id="id186" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_22.jpg" alt="Editors"/></div><p>
<span class="strong"><strong>MonoDevelop</strong></span> was introduced in Unity3 as a higher productivity option for developers that needed something that had support for functions such as code completion, better key binding support, add-Ins, refactoring, metrics, and so on.<span class="strong"><strong> MonoDevelop</strong></span> is a solution that has been around nearly as long as Mono, and since it is open source and supported on all the platforms that Unity utilizes it makes an ideal choice for development:<a id="id187" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_23.jpg" alt="Editors"/></div><p>To change which editor you use, enter the<span class="strong"><strong> Unity Preferences</strong></span> (<span class="strong"><strong> Unity | Preferences</strong></span> ) and in the<span class="strong"><strong> General</strong></span> tab change the<span class="strong"><strong> External Script Editor</strong></span> to your editor of choice. If you want to use<span class="strong"><strong> MonoDevelop</strong></span>, you will find it in the<code class="literal"> /Applications/Unity</code> folder. After selecting it, when you double-click on a script from any of Unity's languages the editor will launch and allow you to update the script. Changes you make to a script and save will be available immediately to Unity, and any errors in the script will immediately show up in the<span class="strong"><strong> Unity Console</strong></span> view:<a id="id188" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_24.jpg" alt="Editors"/></div><p>We will cover scripting in more detail in the next chapter.<a id="id189" class="indexterm"/>
</p></div></div><div class="section" title="Prefabs"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec14"/>Prefabs</h2></div></div></div><p>A Prefab is a reusable collection of meshes, scripts, animations, and so on that you want to use in a scene. Prefabs are a core component of any Unity project, but when starting out it may not be immediately clear why you want to adopt them.<a id="id190" class="indexterm"/>
</p><p>Let's pretend that this is our enemy in our hot seller "Red Cubes must Die" and we need to add more red cubes. We don't want to go through all the steps to try to create this cube again. Your first thought might be to copy/paste the cube, and that will work. But now you've decided that instead of a red color you want a red flame texture. Do you go back to all of the cubes in the scene and change the texture? This may work for a small number of objects, but imagine doing this in a complex scene.<a id="id191" class="indexterm"/>
</p><p>Worse still suppose you've just imported a lot of mesh data and set up the textures for a zombie in your hack and slash game. You scaled him to fit your scene and made sure all the animations work properly. However, this is just one of the many zombies you plan on putting into this level. Certainly you don't want to have to do this for every zombie that is going to be in the game.</p></div></div>
<div class="section" title="Time for action &#x2014; Creating prefabs"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec08"/>Time for action —  Creating prefabs</h1></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Create a new scene in the project by selecting<span class="strong"><strong> File | New Scene.</strong></span><a id="id192" class="indexterm"/></li><li class="listitem">Save the scene.</li><li class="listitem">Create a Cube Prefab.</li><li class="listitem">Create a new<span class="strong"><strong> Material</strong></span> from the<span class="strong"><strong> Assets</strong></span> menu by selecting<span class="strong"><strong> Assets | Create | Material</strong></span>.</li><li class="listitem">Select the<span class="strong"><strong> Material</strong></span> in the<span class="strong"><strong> Project</strong></span> view.</li><li class="listitem">In the<span class="strong"><strong> Inspector</strong></span>, select the<span class="strong"><strong> Main Color</strong></span> selector and set the color of the material to<span class="strong"><strong> red</strong></span>.</li><li class="listitem">Assign the Material to the Cube by dragging the Material onto the Cube in the<span class="strong"><strong> Hierarchy</strong></span> view:<div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_25.jpg" alt="Time for action — Creating prefabs"/></div></li><li class="listitem">Create a new<span class="strong"><strong> Prefab</strong></span> in the<span class="strong"><strong> Project View</strong></span> by selecting<span class="strong"><strong> Create | Prefab:</strong></span><a id="id193" class="indexterm"/><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_26.jpg" alt="Time for action — Creating prefabs"/></div></li><li class="listitem">Let's rename it to<span class="strong"><strong> EvilBox</strong></span> so that we know that when we use this<span class="strong"><strong> Prefab</strong></span> we are creating the Red Cubes that have to die:<div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_27.jpg" alt="Time for action — Creating prefabs"/></div></li><li class="listitem">Next we will take the Red Cube that we created earlier and drag it onto the<span class="strong"><strong> EvilBox</strong></span> prefab. When you do this you will notice that the Cube and the<span class="strong"><strong> EvilBox</strong></span> prefab are both highlighted in blue. This notes that the prefab now has all of the settings of the original object:<a id="id194" class="indexterm"/><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_28.jpg" alt="Time for action — Creating prefabs"/></div></li><li class="listitem">Delete the original Cube from the<span class="strong"><strong> Hierarchy view</strong></span>.</li><li class="listitem">Drag the<span class="strong"><strong> EvilBox</strong></span> prefab into the scene several times and you will notice that new objects are created in the<span class="strong"><strong> Hierarchy</strong></span> view. These new<span class="strong"><strong> GameObjects</strong></span> are Instances of the original prefab template:</li></ol></div><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_29.jpg" alt="Time for action — Creating prefabs"/></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec15"/>What just happened?</h2></div></div></div><p>We have just created a reusable prefab object for our game. This Prefab object has a well defined appearance and behavior which can be duplicated over and over. More important still, if you need to change the<span class="strong"><strong> EvilBox</strong></span> because someone told you that it's really blue boxes that are evil, you can select the<span class="strong"><strong> Prefab</strong></span> and change its settings and all of the instances will change accordingly as every instance of a prefab is tied to its template's properties.<a id="id195" class="indexterm"/>
</p><p>If, for some reason, you change one of the instances of a Prefab Instances in a material way, the Instance will change from being blue back to the default gray color. This denotes that the Prefab no longer represents the Instance. But suppose that you wanted to take the settings of the Instance and make it the new default? To accomplish this, drag the child instance that you changed from the Hierarchy over to the Prefab and you will see that the settings of the Prefab are updated with those of the instance and that the instance itself is now linked with the prefab again.<a id="id196" class="indexterm"/>
</p></div><div class="section" title="Scene"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec16"/>Scene</h2></div></div></div><p>The Scene is the place where all of your action takes place. From a Unity perspective the words Scene and Level are synonymous and there are times when the tool uses the terms interchangeably. You can create new scenes from the<span class="strong"><strong> File</strong></span> menu:<a id="id197" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/978-1-84969-040-9_4_30.jpg" alt="Scene"/></div><p>Once created and saved, a Scene will show up in the<span class="strong"><strong> Project</strong></span> view and have a Unity icon next to it. If you're ever looking for your scene you can find it in the<code class="literal"> Assets</code> folder of your project with a<code class="literal"> .unity</code> extension.<a id="id198" class="indexterm"/>
</p></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec09"/>Summary</h1></div></div></div><p>In this chapter we learned to speak in the language of Unity. You now have knowledge of all the core concepts and how to use them so we can graduate from the newbie cube examples and take on more complex projects.</p><p>Now that we've learned about the core concepts, we're ready to build our first really complex application which will utilize all of the concepts that we have covered through scripting, which is the topic of the next chapter.</p></div></body></html>