- en: Chapter 12. Preparing your App for Distribution and Getting it Published
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第12章 准备您的应用程序进行分发和发布
- en: 'In this chapter, we will cover:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖：
- en: Joining the iOS Developer Program
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加入iOS开发者计划
- en: Installing iOS Developer Certificates and Provisioning Profiles
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装iOS开发者证书和配置文件
- en: Build your app for iOS using Titanium Studio
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Titanium Studio构建您的iOS应用程序
- en: Joining the Google Android Developer Program
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加入Google Android开发者计划
- en: Creating your application's distribution key
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建您应用程序的分发密钥
- en: Building and submitting your app to the Android Marketplace
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 构建并提交您的应用程序到Android市场
- en: Introduction
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 简介
- en: The final piece of our development puzzle is addressing how we package and distribute
    our Titanium applications to the iTunes store and Android Marketplace in order
    for our potential customers to download and enjoy all our hard work. Each of these
    stores has their own separate processes, certifications, and membership programs.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 我们开发难题的最后一部分是解决如何将我们的Titanium应用程序打包和分发到iTunes商店和Android市场，以便我们的潜在客户下载并享受我们所有的辛勤工作。每个商店都有自己的独立流程、认证和会员计划。
- en: In this chapter, we'll show you how to set up your system in preparation for
    distribution and how to register for each site, as well as how to package and
    submit your apps to the iTunes and Android Marketplace stores.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将向您展示如何设置系统以备分发，以及如何注册每个网站，以及如何打包和提交您的应用程序到iTunes和Android市场。
- en: Joining the iOS Developer Program
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加入iOS开发者计划
- en: In order to submit applications to the iTunes store, you must first pay to become
    a member of the Apple's iOS Developer Program. Membership is paid, and starts
    from $99 USD (or equivalent), recurring annually. Even if you intend to develop
    and distribute your apps for free, you will still need to be a paid member of
    the iOS Developer Program. It is worth noting up front that only Mac users can
    follow and implement the steps for the iOS recipes since the building and distribution
    of iOS apps is only available to those running the Mac OSX operating system.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 为了提交应用程序到iTunes商店，您必须首先付费成为苹果iOS开发者计划的会员。会员资格是付费的，起价为99美元（或等值货币），每年续费。即使您打算免费开发和分发应用程序，您仍然需要成为iOS开发者计划的付费会员。值得事先注意的是，只有Mac用户才能遵循和实施iOS食谱的步骤，因为iOS应用程序的构建和分发仅限于运行Mac
    OSX操作系统的用户。
- en: How to do it…
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: To register for Apple's iOS program, first open up a web browser and navigate
    to [http://developer.apple.com/programs/register](http://developer.apple.com/programs/register),
    and click on the **Get Started** link. The following page that loads will then
    ask you if you want to create a new Apple ID or use an existing one. Unless you
    have registered for some of Apple's developer services before, you should choose
    the **Create New Profile** link.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 要注册苹果的iOS计划，首先打开一个网页浏览器并导航到[http://developer.apple.com/programs/register](http://developer.apple.com/programs/register)，然后点击**开始**链接。随后加载的页面将询问您是否要创建一个新的Apple
    ID或使用现有的一个。除非您之前已经注册过苹果的一些开发者服务，否则您应该选择**创建新配置文件**链接。
- en: 'Once you are on the **Create Profile** page:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您进入**创建配置文件**页面：
- en: Provide your contact information, including your country of residence. This
    is important since you'll need to provide some evidence of your residence when
    you want to start selling paid applications.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供您的联系信息，包括您的居住国家。这很重要，因为当您开始销售付费应用程序时，您需要提供一些居住证明。
- en: On the next page, provide the information required in Professional Profile.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一页，提供专业配置文件所需的信息。
- en: Finally, carefully read and agree to the Terms and Conditions set out by Apple
    and confirm that you agree, and are at least 18 years old (or the legal equivalent
    in your country). Click on the **I Agree** button to complete your account creation.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，仔细阅读并同意苹果设定的条款和条件，并确认您同意，且至少18岁（或您所在国家的法定年龄）。点击**我同意**按钮以完成账户创建。
- en: Apple will then send you an e-mail with a confirmation code/link. Clicking on
    this link in your e-mail will open your browser and confirm your e-mail address
    and complete your account setup.
  id: totrans-19
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 苹果将向您发送一封包含确认代码/链接的电子邮件。点击电子邮件中的此链接将在您的浏览器中打开并确认您的电子邮件地址并完成账户设置。
- en: You should now be able to see the following page in your browser. It is from
    here that we will register to the Developer Program and pay the $99 USD (or equivalent)
    annual fee.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在应该能够在浏览器中看到以下页面。从这里开始，我们将注册开发者计划并支付99美元（或等值货币）的年度费用。
- en: '![How to do it…](img/3968_12_01_new.jpg)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作…](img/3968_12_01_new.jpg)'
- en: 'Click on the **Programs & Add-ons** tab in the top left of the page''s menu,
    which will take you to a page showing the list of memberships you are currently
    subscribed to. Presuming you have a new account, then a list of three developer
    programs should appear, each with a **Join Today** button on the right. To continue,
    follow these steps:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 点击页面菜单左上角的**程序和附加组件**标签，这将带您到一个显示您当前订阅的会员列表的页面。假设您有一个新账户，那么应该会显示三个开发者计划的列表，每个列表右侧都有一个**今天加入**按钮。要继续，请按照以下步骤操作：
- en: Click on the iOS Developer Program's **Join Today** button, which should appear
    at the top of that list.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击iOS开发者计划的**今天加入**按钮，它应该出现在列表的顶部。
- en: On the next page that loads, click on **Enroll Now**, and continue until you
    get to the step-by-step wizard.
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在加载的下一页上，点击**立即注册**，然后继续直到到达逐步向导的步骤。
- en: Select **I'm registered as a developer with Apple and would like to enroll in
    a paid Apple Developer Program**. from the list on the right and press **Continue**.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从右侧列表中选择**我在苹果注册为开发者并希望加入付费的苹果开发者计划**。然后按**继续**。
- en: From here you need to provide all of the information asked of you in order to
    complete your account setup. You should choose whether to register as a business
    or individual. Be aware that whichever method of registration you should choose
    you need to ensure you have all of the relevant documentation. You will be asked
    to submit this documentation for verification by Apple and you'll not be able
    to submit paid applications until that documentation is received and approved.
    Some of this information cannot be changed and once you have entered it and completed
    the application it is, for all intents and purposes, set in stone!
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从这里，您需要提供所有要求您提供的信息以完成账户设置。您应该选择是否注册为商业用户或个人。请注意，无论您选择哪种注册方式，您都需要确保您拥有所有相关的文件。您将被要求提交这些文件以供苹果验证，并且您在收到并批准这些文件之前无法提交付费应用程序。一些信息不能更改，一旦您输入并完成申请，从所有意义上讲，它就固定下来了！
- en: Finally, agree to the final set of terms and conditions and then make your payment
    online. You will require a credit card or debit card to make this purchase.
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，同意最终的条款和条件，然后在线支付。您需要一张信用卡或借记卡来完成这次购买。
- en: You should now be able to log in to your new Apple Developer account by navigating
    your browser to [http://developer.apple.com/devcenter/ios](http://developer.apple.com/devcenter/ios).
    Once logged in, you should get some new menu options on your account's home page,
    including **Provisioning** and **iTunes Connect**. Any information you are missing
    for your account can be found under the iTunes Connect option, under the **Contracts,
    Tax and Banking** section. It is likely that you may need to upload some documentation
    and agree to new terms and conditions from time to time within this section of
    the website.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您应该可以通过在浏览器中导航到[http://developer.apple.com/devcenter/ios](http://developer.apple.com/devcenter/ios)来登录您的新苹果开发者账户。登录后，您应该在账户的主页上获得一些新的菜单选项，包括**配置**和**iTunes
    Connect**。您账户中缺失的任何信息都可以在iTunes Connect选项下的**合同、税务和银行**部分找到。在这个网站的部分，您可能需要不时上传一些文件并同意新的条款和条件。
- en: '![How to do it…](img/3968_12_02.jpg)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作…](img/3968_12_02.jpg)'
- en: Installing iOS Developer Certificates and Provisioning Profiles
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装iOS开发者证书和配置文件
- en: There are two types of certificates required to build your applications, both
    for debugging on a device and for iTunes store distribution. The first is your
    Development Certificate. This certificate is installed on your Mac within the
    `KeyChain` and is used for every single application you will develop. It identifies
    you, the developer, when you are distributing an app.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 构建您的应用程序需要两种类型的证书，这两种证书都用于设备调试和iTunes商店分发。第一种是您的开发证书。此证书安装在您的Mac中的`KeyChain`中，并用于您将开发的每一个应用程序。当您分发应用程序时，它识别您，即开发者。
- en: The second type is the application's Provisioning Profile. This profile certificate
    is both application specific and release specific. This means you'll need to create
    a separate profile for each state of the application you wish to release (most
    commonly being Development and Distribution).
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 第二种是应用程序的配置文件证书。此配置文件证书是针对特定应用程序和特定发布的。这意味着您需要为希望发布的应用程序的每个状态创建一个单独的配置文件（最常见的是开发和分发）。
- en: In this recipe, we will go through the process of creating and installing your
    Developer Certificate, and then creating and using an application-specific Provisioning
    Profile in Titanium Studio.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个配方中，我们将通过创建和安装您的开发者证书，然后在 Titanium Studio 中创建和使用特定于应用程序的配置文件的过程。
- en: How to do it...
  id: totrans-34
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: We will now start off with the steps required for installing iOS Developer Certificates
    and Provisioning Profiles.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在将开始介绍安装 iOS 开发者证书和配置文件的步骤。
- en: Set up your iOS Developer Certificate.
  id: totrans-36
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置您的 iOS 开发者证书。
- en: Log in to your Apple Developer account if you have not done so already, at [http://developer.apple.com/ios](http://developer.apple.com/ios),
    and click on the **iOS Provisioning Portal** link. The page that loads will have
    a number of options on the left-hand menu, click on the **Certificates** option.
    A page will load with a series of steps entitled **How to create a Development
    Certificate**. You will need to follow these steps exactly as described, and when
    you have gone through them from start to finish you should have a Certificate
    Signing Request (CSR) file saved on your Mac. For this recipe, we'll make the
    assumption that you have followed these steps closely and have saved a CSR to
    your desktop.
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您尚未登录，请登录您的 Apple 开发者账户，访问 [http://developer.apple.com/ios](http://developer.apple.com/ios)，并点击
    **iOS 配置文件门户** 链接。加载的页面将在左侧菜单中提供多个选项，点击 **证书** 选项。将加载一个包含一系列步骤的页面，标题为 **如何创建开发证书**。您需要严格按照描述的步骤进行操作，并且从开始到结束完成这些步骤后，您应该在您的
    Mac 上保存一个证书签名请求 (CSR) 文件。对于这个配方，我们假设您已经仔细遵循了这些步骤，并将 CSR 保存到您的桌面。
- en: Click on the **Choose** button at the bottom of the screen to select the CSR
    file from your computer and upload it to the web page. Once it has finished uploading,
    select the **Submit** button in the bottom right corner of the page.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击屏幕底部的 **选择** 按钮，从您的计算机中选择 CSR 文件并将其上传到网页。上传完成后，选择页面右下角的 **提交** 按钮。
- en: When the screen reloads, you should now see a certificate appear in the grid,
    with the name you gave it when generated, and a status of **Pending Issuance**.
    If you own the iOS account, you can simply wait 20-30 seconds and refresh the
    page to have the status change to **Issued** and a **Download** action appear
    to the right of the grid. If the account you are using belongs to another party,
    you will need to wait for them to confirm this action before you receive an issued
    certificate. Download the certificate now, and double-click the resulting saved
    file when it has completed downloading. It will then automatically open in `KeyChain`
    Access and show you that it's been installed. If you have a message at the bottom
    of the page about the WWDR certificate needing to be installed, you may also choose
    to download and run that at this point.
  id: totrans-39
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 当屏幕重新加载时，您现在应该会在网格中看到一个证书出现，其名称与您生成时相同，状态为 **待发行**。如果您拥有 iOS 账户，您可以简单地等待 20-30
    秒，然后刷新页面，状态将变为 **已发行**，并且在网格的右侧出现一个 **下载** 操作。如果您使用的账户属于另一方，您将需要等待他们确认此操作，您才能收到已发行的证书。现在下载证书，当下载完成时双击保存的文件。它将在
    `KeyChain` 访问中自动打开，并显示它已被安装。如果您在页面底部有关于需要安装 WWDR 证书的消息，您也可以选择在此处下载并运行它。
- en: Setting up your device.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 设置您的设备。
- en: If you have an iPhone or iPod touch and wish to test with it, then you first
    need to register that device against your iTunes account. Click on the **Devices**
    menu link on the left-hand side of the page and then **Add Device**. The screen
    that appears will ask you for information about who owns the device, and more
    specifically, what that device's unique identifier is. You can find this identifier
    by plugging in your device to your Mac and opening iTunes. It will appear under
    **My iPhone/iPod** and then clicking on the **Serial Number** label that appears.
  id: totrans-41
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 如果您有一部 iPhone 或 iPod touch 并希望用它进行测试，那么您首先需要将该设备注册到您的 iTunes 账户。点击页面左侧的 **设备**
    菜单链接，然后点击 **添加设备**。出现的屏幕将要求您提供有关设备所有者的信息，以及更具体地，该设备的唯一标识符是什么。您可以通过将设备连接到您的 Mac
    并打开 iTunes 来找到此标识符。它将出现在 **我的 iPhone/iPod** 下方，然后点击出现的 **序列号** 标签。
- en: 'An example of the unique identifier is shown in the following screenshot:'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 下面的截图显示了唯一标识符的示例：
- en: '![How to do it...](img/3968_12_03.jpg)'
  id: totrans-43
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/3968_12_03.jpg)'
- en: Creating your Application Provisioning profile.
  id: totrans-44
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 创建您的应用程序配置文件。
- en: Now that your Developer Certificate is set up, it's time to create the provisioning
    profiles for an application we have built. For this example, we're going to use
    the details for the **LoanCalc** app we built in [*Chapter 1*](ch01.html "Chapter 1. Building
    Apps using Native UI Components"). However, you could use any application you
    have already created.
  id: totrans-45
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 现在你的开发者证书已经设置好了，是时候为我们的应用程序创建配置文件了。在这个例子中，我们将使用我们在 [*第 1 章*](ch01.html "第 1
    章。使用原生 UI 组件构建应用程序") 中构建的 **LoanCalc** 应用程序的详细信息。然而，你也可以使用你已创建的任何应用程序。
- en: Click on the **App IDs** link from the left-hand menu, and when the screen loads,
    select the **New App ID** button.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 点击左侧菜单中的 **App IDs** 链接，当屏幕加载时，选择 **新建 App ID** 按钮。
- en: Give your app a description and leave the Bundle Seed ID drop down list set
    as **Generate New**.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 给你的应用程序一个描述，并保持 Bundle Seed ID 下拉列表设置为 **生成新**。
- en: Enter in the Bundle Identifier. This is the all-important identifier that you
    give your application upon its creation in Titanium Studio. In this example, our
    bundle identifier is `com.packtpub.loancalc`.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 输入 Bundle 标识符。这是你在 Titanium Studio 中创建应用程序时给出的至关重要的标识符。在这个例子中，我们的 bundle 标识符是
    `com.packtpub.loancalc`。
- en: Press **Submit** to complete the process and generate your App ID.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 按 **提交** 完成流程并生成你的 App ID。
- en: Now click on **Provisioning** and select **New Profile** after the screen loads.
    It should have the **Development** tab activated.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 现在点击 **配置** 并在屏幕加载后选择 **新建配置文件**。它应该激活了 **开发** 选项卡。
- en: Choose a name for your profile. We'll keep it simple and call this one **LoanCalc
    Development Profile**. You should now be able to check your certificate checkbox,
    and choose the `LoanCalc` app identifier from the drop down list, as well as the
    device you wish to use for this Development profile. Press **Submit** when you
    have completed filling in the form.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 为你的配置文件选择一个名称。我们将保持简单，将其命名为 **LoanCalc 开发配置文件**。你现在应该能够勾选你的证书复选框，并从下拉列表中选择 `LoanCalc`
    应用程序标识符，以及你希望用于此开发配置文件的设备。完成表单填写后，请按 **提交**。
- en: Your new profile should now appear in the list of profiles under the **Development**
    tab. Wait for 20-30 seconds and refresh the page, and its status should change
    from **Pending** to **Download**. Download the certificate to a location on your
    computer such as the Desktop.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 你的新配置文件现在应该出现在 **开发** 选项卡下的配置文件列表中。等待 20-30 秒并刷新页面，其状态应该从 **挂起** 变为 **下载**。将证书下载到你的电脑上的某个位置，例如桌面。
- en: 'Repeat the previous steps, but instead of choosing the **Development** tab
    options, choose the **Distribution** tab instead. You''ll also have an additional
    option when creating the certificate for **Distribution: App Store or Ad Hoc**.
    If you want to distribute your app on the iTunes store, ensure you check the first
    radio button option.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 重复之前的步骤，但选择 **分发** 选项卡而不是 **开发** 选项卡。在创建分发证书时，你还将有一个额外的选项：**分发：App Store 或 Ad
    Hoc**。如果你想将你的应用程序分发到 iTunes 商店，确保你选中了第一个单选按钮选项。
- en: Note
  id: totrans-54
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you're not the account owner, but have been given membership status to someone
    else's iTunes account (e.g. if you are the employee of a larger company), then
    you need to ensure that you've been given admin access in order to set up your
    certificates and profiles.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你不是账户所有者，但被赋予了其他人的 iTunes 账户的成员资格（例如，如果你是大型公司的员工），那么你需要确保你已经获得了管理员访问权限，以便设置你的证书和配置文件。
- en: Build your app for iOS using Titanium Studio
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 Titanium Studio 为 iOS 构建你的应用程序
- en: In this recipe, we will continue the process started in the two recipes prior
    to this one and build our application for both development and distribution to
    the iTunes store.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个菜谱中，我们将继续之前两个菜谱中开始的过程，并为开发以及分发到 iTunes 商店构建我们的应用程序。
- en: Tip
  id: totrans-58
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Remember, if all else fails, you can always build your application manually
    in XCode by navigating to the `build/iphone` folder of your project and opening
    the XCode project file.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，如果所有其他方法都失败了，你总是可以在 XCode 中手动构建你的应用程序，方法是通过导航到你的项目中的 `build/iphone` 文件夹并打开
    XCode 项目文件。
- en: How to do it...
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点...
- en: Building your application for development.
  id: totrans-61
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为开发构建你的应用程序。
- en: i. Open your project in Titanium Studio; we are using the `LoanCalc` app from
    [Chapter 1](ch01.html "Chapter 1. Building Apps using Native UI Components") as
    an example, however, you may use any project you wish. Ensure that the Application
    ID in Titanium Studio (on the **Edit** tab) matches the ID you used when creating
    your provisioning profiles. In our case, this ID is `com.packtpub.loancalc`.
  id: totrans-62
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: i. 在Titanium Studio中打开你的项目；我们以[第1章](ch01.html "第1章。使用原生UI组件构建应用")中的`LoanCalc`应用为例，然而，你可以使用任何你喜欢的项目。确保Titanium
    Studio中的应用程序ID（在**编辑**选项卡上）与创建配置文件时使用的ID相匹配。在我们的例子中，这个ID是`com.packtpub.loancalc`。
- en: ii. Switch across to the **Test & Package** tab, and choose **Run on Device**.
    Titanium Studio should automatically have the iPhone option highlighted. If it
    doesn't, then you either aren't on a Mac (required) or perhaps don't have the
    necessary XCode tools installed. You can download XCode from [http://developer.apple.com/xcode](http://developer.apple.com/xcode).
  id: totrans-63
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ii. 切换到**测试与打包**选项卡，并选择**在设备上运行**。Titanium Studio应该自动突出显示iPhone选项。如果它没有，那么你可能不在Mac上（必需的）或者可能没有安装必要的XCode工具。你可以从[http://developer.apple.com/xcode](http://developer.apple.com/xcode)下载XCode。
- en: 'iii. On the file selection icon next to the **Upload Provisioning Profile**
    text box, select the development profile you created for `LoanCalc`. Presuming
    you installed your WWDR Certificate and Development Certificate properly as per
    the previous recipe, you should now see a screen similar to the one shown in the
    following screenshot:'
  id: totrans-64
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: iii. 在**上传配置文件**文本框旁边的文件选择图标上，选择为`LoanCalc`创建的开发配置文件。假设你已按照前面的步骤正确安装了WWDR证书和开发证书，你现在应该会看到一个类似于以下截图的屏幕：
- en: '![How to do it...](img/3968_12_04.jpg)'
  id: totrans-65
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/3968_12_04.jpg)'
- en: iv. Press the **Finish** button to have Titanium Studio kick off the build process.
    During this process your application will be built and added to your list of apps
    in the iTunes library. You will need to sync your iPhone or iPod Touch in order
    to get your app running on your device.
  id: totrans-66
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: iv. 点击**完成**按钮，让Titanium Studio启动构建过程。在这个过程中，你的应用程序将被构建并添加到iTunes库中的应用列表中。你需要同步你的iPhone或iPod
    Touch，以便在你的设备上运行你的应用程序。
- en: Building your applications for distribution.
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建你的应用程序以进行分发。
- en: 'i. First, we need to create your new application in iTunes Connect, on the
    Apple Developer website. Navigate to the iTunes Connect section on the Apple Developer
    website in your browser and click **Manage Applications**. The next screen that
    loads will list all of your current apps (if you have created any). To create
    a new one, click **Add New App** in the top left corner. Add in the information
    requested, including the app name (**Packt LoanCalc** in our example) and select
    the `LoanCalc` app from the product identifier list. The SKU can be any code you
    wish, e.g. packtpub001\. Fill in the information on the next two screens with
    a description, keywords, screenshots, and data about your application. When finished,
    you should be forwarded to a screen that looks like the one shown:'
  id: totrans-68
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: i. 首先，我们需要在iTunes Connect中创建你的新应用，在苹果开发者网站上。在浏览器中导航到苹果开发者网站的iTunes Connect部分，并点击**管理应用**。加载的下一屏将列出你当前的所有应用（如果你创建了的话）。要创建一个新的，请点击左上角的**添加新应用**。添加所需的信息，包括应用名称（在我们的例子中为**Packt
    LoanCalc**）并从产品标识符列表中选择`LoanCalc`应用。SKU可以是任何你想要的代码，例如packtpub001。在接下来的两个屏幕上填写有关描述、关键词、截图和应用程序数据的信息。完成之后，你应该会被转发到一个看起来像以下截图的屏幕：
- en: '![How to do it...](img/3968_12_05.jpg)'
  id: totrans-69
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/3968_12_05.jpg)'
- en: ii. Now, if you're ready to upload, press the **View Details** button in the
    bottom left, and on the next page that loads, press the **Ready To Upload Binary**
    button that appears in the top right of the screen. Apple will ask you a couple
    of security questions. Answer these and your App status will changed from **Prepare
    for Upload** to **Ready for Upload**.
  id: totrans-70
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: ii. 现在，如果你准备好了上传，请点击左下角的**查看详情**按钮，然后在加载的下一页上，点击屏幕右上角出现的**准备上传二进制文件**按钮。苹果将向你提出几个安全问题。回答这些问题后，你的应用状态将从**准备上传**变为**准备上传**。
- en: iii. Switch back to Titanium`Studio, make sure your project is selected in the
    Project explorer page, and then select the **Distribution** button followed by
    the **Distribute - App Store** option.
  id: totrans-71
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: iii. 切换回Titanium Studio，确保你的项目在项目资源管理器页面中被选中，然后选择**分发**按钮，接着选择**分发 - App Store**选项。
- en: 'iv. You should now be faced with a similar screen to the one you used to package
    your app for development testing. Enter in a distribution location (any will do,
    we have chosen the `Downloads` folder for this example), and choose your Distribution
    profile that you saved from the previous recipe. Your **Distribute** screen in
    Titanium Studio should now look something like this:'
  id: totrans-72
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: iv. 你现在应该面对一个与之前用于开发测试打包应用程序的屏幕相似的屏幕。输入一个分发位置（任何都可以，我们在这个例子中选择了`下载`文件夹），并选择你从上一个菜谱中保存的分发配置文件。现在你的Titanium
    Studio中的**分发**屏幕应该看起来像这样：
- en: '![How to do it...](img/3968_12_06.jpg)'
  id: totrans-73
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/3968_12_06.jpg)'
- en: v. Hit the **Finish** button to start the build process. If you get an error
    about a missing file in the `Users/[your username]/Library/MobileDevice/Provisioning
    Profiles` directory, then simply copy the Distribution profile saved on your computer
    to this directory and rename it to the name of the missing file in the error dialog.
  id: totrans-74
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: v. 点击**完成**按钮开始构建过程。如果你在`Users/[你的用户名]/Library/MobileDevice/Provisioning Profiles`目录中收到关于缺失文件的错误，那么只需将你电脑上保存的分发配置文件复制到这个目录，并将其重命名为错误对话框中缺失文件的名称。
- en: 'vi. When this process is complete, XCode should load and the Organizer window
    should appear on screen with your application archived and ready to be submitted
    to the iTunes store, as seen in the following screenshot:'
  id: totrans-75
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: vi. 当这个过程完成后，XCode应该加载，并且组织者窗口应该出现在屏幕上，你的应用程序已经存档并准备好提交到iTunes商店，如下面的截图所示：
- en: '![How to do it...](img/3968_12_07.jpg)'
  id: totrans-76
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![如何操作...](img/3968_12_07.jpg)'
- en: vii. Hit **Submit** on this screen and follow the prompts. If everything has
    been done correctly (and according to Apple's rules), your app should be uploaded
    to the iTunes server and you should receive email confirmation of it being received
    within a few minutes!
  id: totrans-77
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: vii. 在这个屏幕上点击**提交**并按照提示操作。如果一切操作都正确（并且符合苹果的规定），你的应用程序应该被上传到iTunes服务器，你应在几分钟内收到确认邮件！
- en: Note
  id: totrans-78
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: You can check on the progress of your submission at any time via the iTunes
    Connect section of the developer program website. Approval usually takes between
    1-2 weeks. However, this tends to fluctuate depending on the number of submissions
    and whether your app is rejected or requires changes before approval will be granted.
    Apple will send you emails at each stage of the submission cycle, including when
    you first submit the app, when they start reviewing it, and when they approve
    or reject it.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过开发者程序网站上的iTunes Connect部分随时检查你的提交进度。通常需要1-2周的时间来批准。然而，这往往会根据提交的数量以及你的应用程序是否被拒绝或需要在批准前进行修改而波动。苹果将在提交周期的每个阶段给你发送电子邮件，包括你首次提交应用程序时、他们开始审查时以及他们批准或拒绝时。
- en: Joining the Google Android Developer Program
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加入谷歌Android开发者计划
- en: In order to submit applications to the Android Marketplace, you must first register
    a Google account, and then register for both a Google Checkout account and Android
    Developer account. All of these accounts utilize the same username and password
    combination and the process is quite straightforward. Membership is paid, and
    starts from $25 USD (or equivalent), and is a one-time payment.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 为了将应用程序提交到Android市场，你必须首先注册一个谷歌账户，然后注册谷歌支付账户和Android开发者账户。所有这些账户都使用相同的用户名和密码组合，并且过程非常直接。会员资格是付费的，起价为25美元（或等值货币），并且是一次性支付。
- en: How to do it…
  id: totrans-82
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: To register, first open up a web browser and navigate to [http://market.android.com/publish](http://market.android.com/publish).
    You'll be asked to log in to your Google Account (as seen in the following screenshot).
    If you don't have one, then this is the stage at which you need to create an account.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 要注册，首先打开一个网页浏览器并导航到[http://market.android.com/publish](http://market.android.com/publish)。你将被要求登录到你的谷歌账户（如下面的截图所示）。如果你还没有账户，那么这就是你需要创建账户的阶段。
- en: '![How to do it…](img/3968_12_08.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作…](img/3968_12_08.jpg)'
- en: Once you've completed the sign in or registration process, you'll then be asked
    to provide your Developer/Publisher details. After that, you'll be required to
    pay the US $25 registration fee. That's it—simple and straightforward! You can
    now start to create and upload applications to the Android Marketplace.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 完成登录或注册过程后，你将被要求提供你的开发者/出版商详细信息。之后，你将需要支付25美元的注册费。就这样——简单直接！你现在可以开始创建和上传应用程序到Android市场了。
- en: Tip
  id: totrans-86
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Google may send you an e-mail a few weeks after registering, asking for identification
    for the account, usually in the form of a passport or driver's licence. You can
    e-mail them this information back within the allotted timeframe and all will be
    well.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在注册几周后，Google可能会发送一封电子邮件，要求您提供账户的身份证件，通常是护照或驾照。您可以在规定的时间内将此信息通过电子邮件发送给他们，一切都会顺利。
- en: Creating your application's distribution key
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建您应用程序的分发密钥
- en: In order to build applications made for the Android Marketplace, you need to
    create a distribution key on your local computer. This key is used to digitally
    sign your app.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 为了构建适用于Android市场的应用程序，您需要在您的本地计算机上创建一个分发密钥。此密钥用于对您的应用程序进行数字签名。
- en: How to do it…
  id: totrans-90
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: 'Open the Terminal if you use Mac or Linux, or alternatively the command prompt
    if you''re a Windows user. Change the current directory to the following using
    the `cd` command:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用Mac或Linux，请打开终端；如果您是Windows用户，请打开命令提示符。使用`cd`命令将当前目录更改为以下路径：
- en: '[PRE0]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'To create the key, we need to use the Java **keytool** located in this directory.
    In the command prompt/terminal, type in the following, while replacing `my-release-key.keystore`
    and `alias_name` with the key and alias of your application:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建密钥，我们需要使用位于此目录中的Java **keytool**。在命令提示符/终端中，输入以下内容，同时将`my-release-key.keystore`和`alias_name`替换为您的应用程序的密钥和别名：
- en: '[PRE1]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'For example, our `LoanCalc` application key command will look something like:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们的`LoanCalc`应用程序密钥命令看起来可能如下：
- en: '[PRE2]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Press *Enter* and execute the command and you'll be asked a series of questions.
    You need to provide a password for the keystore - it would be wise to write it
    down as you will need it to package your app later. We'll use the password `packtpub`.
    When you are prompted for the secondary key password, simply press *Enter* to
    use the same one.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 按下 *Enter* 并执行命令，您将会被问到一系列问题。您需要为keystore提供密码 - 智慧的做法是将其写下来，因为您稍后需要用它来打包应用程序。我们将使用密码`packtpub`。当您被提示输入二级密钥密码时，只需按下
    *Enter* 使用相同的密码。
- en: Now your key will be exported and saved to the directory you were currently
    in. In our case, this is the `tools` directory under our Android SDK folder. You
    will need to remember the file location in order to build your Android app using
    Titanium Studio in the next recipe.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您的密钥将被导出并保存到您当前所在的目录。在我们的例子中，这是Android SDK文件夹下的`tools`目录。您需要记住文件位置，以便在下一道菜谱中使用Titanium
    Studio构建Android应用程序。
- en: Building and submitting your app to the Android Marketplace
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建并将您的应用程序提交到Android市场
- en: In this recipe, we will continue the process started in the two previous recipes
    and build our application for distribution to the Android Marketplace.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在这道菜谱中，我们将继续在前两道菜谱中开始的过程，并构建我们的应用程序以分发到Android市场。
- en: How to do it…
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何做到这一点…
- en: 'Open your project in Titanium Studio. We are using the `LoanCalc` app from
    [Chapter 1](ch01.html "Chapter 1. Building Apps using Native UI Components") as
    an example, however, you may use any project you wish. Make sure your project
    is selected in the Project explorer page, and then select the **Distribution**
    button followed by the **Distribute - Android** option, as seen in the following
    screenshot:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 在Titanium Studio中打开您的项目。我们以[第1章](ch01.html "第1章。使用原生UI组件构建应用程序")中的`LoanCalc`应用程序为例，然而，您可以使用任何您希望的项目。确保您的项目在项目资源管理器页面中被选中，然后选择**分发**按钮，然后选择**分发
    - Android**选项，如以下截图所示：
- en: '![How to do it…](img/3968_12_09.jpg)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![如何做到这一点…](img/3968_12_09.jpg)'
- en: 'You will need to enter in the distribution location (where you want the packaged
    APK file saved to) and the location of the keystore file you created in the previous
    recipe, along with the password and alias you provided earlier. After you enter
    in that information it should look something like the following screenshot:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要输入分发位置（您希望保存打包的APK文件的位置）以及您在上一道菜谱中创建的keystore文件的位置，以及您之前提供的密码和别名。输入这些信息后，它应该看起来像以下截图：
- en: '![How to do it…](img/3968_12_10.jpg)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![如何做到这一点…](img/3968_12_10.jpg)'
- en: 'If all of the information is correct, click **Finish**. After a few minutes
    the APK file will be written out to the distribution location you provided. Go
    back to the Android Marketplace website, and on the home screen, click **Add New
    Application**. Select the **Upload** button and choose your saved APK (`LoanCalc.apk`
    in our case) and upload it to the server. If everything was successful, you should
    see a screen similar to the one shown next:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 如果所有信息都正确，点击**完成**。几分钟后，APK文件将被写入你提供的分发位置。返回安卓市场网站，在主页上点击**添加新应用**。选择**上传**按钮，选择你保存的APK文件（在我们的例子中是`LoanCalc.apk`），并将其上传到服务器。如果一切顺利，你应该会看到一个类似于下面显示的屏幕：
- en: '![How to do it…](img/3968_12_11.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![如何操作…](img/3968_12_11.jpg)'
- en: All that is left to do now is fill in the remaining information, including a
    description and title for your app, plus some screenshots. You will also be asked
    to select pricing information and agree to Google's terms and conditions. Once
    that is done, all that is left to do is press **Submit**. Within a few minutes,
    your application should start to appear in the Android Marketplace! Unlike Apple,
    there is no approval process necessary for apps submitted for Android.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 现在剩下的只是填写剩余信息，包括应用描述和标题，以及一些截图。你还将被要求选择定价信息并同意谷歌的条款和条件。完成这些后，剩下的只是按下**提交**按钮。几分钟后，你的应用应该开始在安卓市场显示！与苹果不同，提交安卓应用不需要进行审核流程。
- en: You should now be able to build and submit applications to both the Apple and
    Android Marketplaces.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在应该能够构建并提交应用到苹果和安卓市场。
