<html><head></head><body>
<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch05" class="calibre1"/>Chapter 5. Building an Event App</h1></div></div></div><p class="calibre9">Now that we've successfully created a game app, let's try something new! In this chapter, you will learn to use more components and blocks—this time, to create an event app. This type of app is helpful to organize an event where you will gather a group of people for a specific activity, such as a party, book club, outing, or meeting. In building this type of app, you will learn how to do the following:</p><div><ul class="itemizedlist"><li class="listitem">Include images</li><li class="listitem">Create a navigation menu of buttons</li><li class="listitem">Add multiple screens</li><li class="listitem">Use multiple labels</li><li class="listitem">Set up a map feature</li></ul></div><p class="calibre9">We are transitioning into a beginner-intermediate level of app-making, so you will discover that some features in this app require multiple steps. For example, in this chapter, we will be setting up the user interface for the RSVP form and the Guest List display, but we will actually be creating the database and coding the blocks for these in <a class="calibre1" title="Chapter 6. Introduction to Databases" href="part0041_split_000.html#173722-9c0b907946184095a315b26c8a9b12bc">Chapter 6</a>, <em class="calibre19">Introduction to Databases</em>.</p><p class="calibre9">As with any tutorial, this one will most probably spark creative ideas about other ways you could use these components or more features you may want to add to the app. Be sure to jot down your jolts of inspiration in a notebook when they occur. We recommend saving your app building ideas and concepts in one place. You will amass a valuable resource for when you finish the tutorials and embark out on your own app development.</p></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_1"><a id="ch05lvl1sec27" class="calibre1"/>User Interface for an event app</h1></div></div></div><p class="calibre9">Sign <a id="id224" class="calibre1"/>into App Inventor by clicking on the <strong class="calibre10">Create Apps</strong> button on the App Inventor home page (<a class="calibre1" href="http://appinventor.mit.edu/explore/">http://appinventor.mit.edu/explore/</a>) and logging into your Google account. Once you are in App Inventor, click on <strong class="calibre10">Start new project</strong> in the upper-left corner of the screen (the location is the same whether you are in the <strong class="calibre10">Projects</strong> view or in the <strong class="calibre10">Designer</strong> view). A pop-up window will appear (as shown in the following screenshot); type <code class="email">EventApp</code> for the project name:</p><div><img src="img/00142.jpeg" alt="User Interface for an event app" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Once you <a id="id225" class="calibre1"/>click on <strong class="calibre10">OK</strong>, you will be taken into the <strong class="calibre10">Designer</strong> view.</p></div></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec28" class="calibre1"/>Setting the background image</h1></div></div></div><p class="calibre9">In this <a id="id226" class="calibre1"/>chapter, you will gain experience in using the <a id="id227" class="calibre1"/>media tool to include images in your app. All the apps include some sort of artwork (logos, icons, photos, and so on), so learning to include image files will come in handy. We've decided to create a pool party for our EventApp tutorial, and to keep with the theme, we will set the background image for Screen1 to a water image. It is extremely important to note that you <em class="calibre19">cannot</em> use just any image, logo, or artwork from the Internet in your app. Artwork (this includes photography) is copyrighted, and if you use someone else's artwork without permission (and without paying for it), you will be violating copyright law. Thus, we are taking the time to explain how to find usable, free artwork. Google makes it easy to find artwork that is free to reuse or remix.</p><div><ol class="orderedlist"><li class="listitem" value="1">Type in the topic you are looking for in the Google search bar. In this case, we will type in <strong class="calibre10">pool</strong>. Press return on your keyboard or click on the blue magnifying glass icon next to the search bar.</li><li class="listitem" value="2">Google will display the results. Below the search bar, you will see a horizontal list of options; click on <strong class="calibre10">Images</strong>.</li><li class="listitem" value="3">To the far right of <strong class="calibre10">Images</strong>, click on <strong class="calibre10">Search Tools</strong>. This button will reveal a pop-up window with more options. They include the following:<div><ul class="itemizedlist1"><li class="listitem">Not filtered by license <em class="calibre19">(do not use this option)</em></li><li class="listitem">Labeled for reuse with modification</li><li class="listitem">Labeled for reuse</li><li class="listitem">Labeled for noncommercial reuse with modification</li><li class="listitem">Labeled for noncommercial reuse</li></ul></div></li><li class="listitem" value="4">The <a id="id228" class="calibre1"/>following screenshot displays <a id="id229" class="calibre1"/>the Google search options for our pool image search:<div><img src="img/00143.jpeg" alt="Setting the background image" class="calibre11"/></div><p class="calibre21"> </p></li></ol><div></div><p class="calibre9">Selecting an option from the drop-down menu in this case, Labeled for reuse will filter the displayed results to only include images with a license for that particular category. Again, we cannot stress enough that it is good practice to pick images labeled for reuse. This way, you can use them commercially in case you ever decide to sell your app.</p><p class="calibre9">Here is a quick explanation of some helpful terms:</p><div><ul class="itemizedlist"><li class="listitem"><strong class="calibre10">Free to use or share</strong>: You are allowed to use or share the content if you do not alter it</li><li class="listitem"><strong class="calibre10">Free to use, share, or modify</strong>: You are allowed to use, share, or change the content</li><li class="listitem"><strong class="calibre10">Commercially</strong>: If you think you may ever want to sell an app that uses artwork from the Internet, make sure you choose artwork that is available for commercial use</li></ul></div><p class="calibre9">You can also search online for <em class="calibre19">Creative Commons</em> images that come with many different licenses. Some photos require attribution, meaning that you are required to give the photographer <a id="id230" class="calibre1"/>credit by including the text: <em class="calibre19">photo by (and the name of the photographer)</em>. You do not have to give attribution if the artwork is <a id="id231" class="calibre1"/>free to use commercially or if it is considered in the public domain (free unrestricted use).</p><div><h3 class="title2"><a id="note08" class="calibre1"/>Note</h3><p class="calibre9">For more <a id="id232" class="calibre1"/>detailed information on license types, visit <a class="calibre1" href="https://creativecommons.org/licenses/">https://creativecommons.org/licenses/</a>. An especially interesting side note: the Creative Commons organization was cofounded by Hal Abelson, the creator of MIT App Inventor.</p></div><p class="calibre9">Once you find an image you like that is free to use, download it to your computer (by right-clicking on the image on a Windows machine or by clicking and holding down the <strong class="calibre10">Option</strong> key on a Mac). You will see a pop-up window. Click on <strong class="calibre10">Save Image As...</strong>. This will launch another pop-up window where you can rename the file to something that is descriptive or memorable and choose the location on your computer where you would like to save the image.</p><p class="calibre9">Once the image is saved on your computer, there are two methods to upload a photo: through the <strong class="calibre10">Media</strong> panel or through the <strong class="calibre10">Properties</strong> panel—steps for both are exactly the same. Note that the only way to delete media files is via the <strong class="calibre10">Media</strong> panel.</p><p class="calibre9">Since we will be adding a pool water image as the background image to our app, we will upload it to Screen1. When <strong class="calibre10">Screen1</strong> is highlighted, there will be an option in the <strong class="calibre10">Properties</strong> panel called <strong class="calibre10">BackgroundImage</strong>. Since our screen is empty, it will say <strong class="calibre10">None</strong>. When you click on the text <strong class="calibre10">None</strong>, a drop-down menu will appear, enabling you to upload an image, as shown in the following screenshot:</p><div><img src="img/00144.jpeg" alt="Setting the background image" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">When <a id="id233" class="calibre1"/>you click on the <strong class="calibre10">Upload File…</strong> button, a <a id="id234" class="calibre1"/>pop-up window will appear, enabling you to choose an image from your computer. We named ours <strong class="calibre10">Pool Image.png</strong>:</p><div><img src="img/00145.jpeg" alt="Setting the background image" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Once you click on <strong class="calibre10">OK</strong>, the image name will appear on the drop-down menu in the <strong class="calibre10">Properties</strong> and <strong class="calibre10">Media</strong> panels and the actual image will appear on <strong class="calibre10">Screen1</strong> as the background image, as shown in the following screenshot (note: we named the image <code class="email">Pool Image.png</code>; but when it was uploaded to App Inventor, it was assigned a new name: <code class="email">PoolImage.png</code> with no spaces). If your photo isn't centered, you can always adjust the <strong class="calibre10">AlignHorizontal</strong> and <strong class="calibre10">AlignVertical</strong> properties by choosing <strong class="calibre10">Center</strong> from the drop-down menus, as shown in the following screenshot:</p><div><img src="img/00146.jpeg" alt="Setting the background image" class="calibre11"/></div><p class="calibre12"> </p></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec29" class="calibre1"/>Adding an image component</h1></div></div></div><p class="calibre9">Next, we <a id="id235" class="calibre1"/>will add another image to lay over the <a id="id236" class="calibre1"/>background image. We used Illustrator and Photoshop to create some artwork and saved it as a <code class="email">.png</code> file. If you don't have these software programs, you can use free editors, such as Inkscape (Windows/Linux), Affinity Designer (Mac), or Gimp (multi-platform) to create artwork. You could make an image similar to ours or a new design, or find Creative Commons image online.</p><p class="calibre9">In the far left column in the Designer, in the <strong class="calibre10">User Interface</strong> palette drawer, choose the <strong class="calibre10">Image</strong> Component and drag it to the <strong class="calibre10">Viewer</strong>. You will notice that a small image component icon sits in the upper-left corner of the Viewer. We want to center it. There are two ways to do this:</p><div><ul class="itemizedlist"><li class="listitem">Click on <strong class="calibre10">Screen1</strong> in the <strong class="calibre10">Components</strong> panel, and in the <strong class="calibre10">Properties</strong> panel, select <strong class="calibre10">Center</strong> from both the <strong class="calibre10">AlignHorizontal</strong> and <strong class="calibre10">AlignVertical</strong> drop-down lists.</li><li class="listitem">Since we are going to be adding many components to our home screen, we are going to walk you through a more complex method that requires an extra component. Go to Layout drawer and drag out the <strong class="calibre10">VerticalArrangement</strong> component onto the <strong class="calibre10">Viewer</strong>. Notice how it sits below the <strong class="calibre10">Image </strong>Component icon. Click on the <strong class="calibre10">Image Component</strong> icon and drag it into the VerticalArrangement box. In the <strong class="calibre10">Components</strong> panel, select <strong class="calibre10">VerticalArrangement</strong> and go to the <strong class="calibre10">Properties</strong> panel. In both the <strong class="calibre10">Height</strong> and <strong class="calibre10">Width</strong> options, select <strong class="calibre10">Fill Parent</strong> from the drop-down menu and click on <strong class="calibre10">OK</strong> for each. You will see the VerticalArrangement component expand to fill the screen. Still in the <strong class="calibre10">Properties</strong> panel, go to the <strong class="calibre10">AlignVertical</strong> and <strong class="calibre10">AlignHorizonal</strong> options and select <strong class="calibre10">Center</strong> from each drop-down menu. Notice how the Image component is now centered in the Viewer on Screen1.</li></ul></div><p class="calibre9">Next we will <a id="id237" class="calibre1"/>change the name of the Image component. Go to the <strong class="calibre10">Components</strong> panel and select <strong class="calibre10">Image1</strong>. Once it is highlighted, click on <strong class="calibre10">Rename</strong> <a id="id238" class="calibre1"/>at the bottom of the panel to see a pop-up window where you can enter a new name, <code class="email">Pool Party Message</code>. Click on <strong class="calibre10">OK</strong>:</p><div><img src="img/00147.jpeg" alt="Adding an image component" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Note that App Inventor replaces the spaces with underscores, so the Image component name will now appear as <strong class="calibre10">Pool_Party_Message</strong> in the <strong class="calibre10">Components</strong> panel. Now, we will upload the actual image for the Image component. With <strong class="calibre10">Pool_Party_Message</strong> highlighted, go to the <strong class="calibre10">Properties</strong> panel and click on <strong class="calibre10">None</strong> under <strong class="calibre10">Picture</strong> to open the <strong class="calibre10">Upload File</strong> dialogue. Choose the image you want to use (we named our image in a similar way: <code class="email">PoolPartyMessage.png</code>) and click on <strong class="calibre10">OK</strong>. Notice that the image name appears in the Properties panel under Picture and in the Media panel, and the actual image is displayed over our background image on Screen1 in the Viewer, as shown in the following screenshot:</p><div><img src="img/00148.jpeg" alt="Adding an image component" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">As a <a id="id239" class="calibre1"/>mobile apps user, you may have noticed that <a id="id240" class="calibre1"/>apps have some sort of navigation bar. We will build ours across the bottom of the screen by adding five buttons: <strong class="calibre10">Home</strong>, <strong class="calibre10">Info</strong>, <strong class="calibre10">RSVP</strong>, <strong class="calibre10">Guests</strong>, and <strong class="calibre10">Map</strong>.</p></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec30" class="calibre1"/>Adding buttons</h1></div></div></div><p class="calibre9">We are <a id="id241" class="calibre1"/>going to place our buttons within a <strong class="calibre10">HorizontalArrangement</strong> component. Drag it from the same place you found VerticalArrangement (the Layout drawer drawer) and drop it underneath <strong class="calibre10">VerticalArrangment</strong> that currently exist on the <strong class="calibre10">Viewer</strong>. You can double-check that <strong class="calibre10">HorizontalArrangement</strong> is indeed below and not within VerticalArrangement by seeing that <a id="id242" class="calibre1"/>their names align in the Components panel column, as shown in the following screenshot. The list of components shows that Pool_Party_Message is indented so that it is indeed within the VerticalArrangement1 component, but HorizontalArrangement1 is not. Next, set the properties for <strong class="calibre10">HorizontalArrangement1</strong> to match those indicated in the following screenshot:</p><div><img src="img/00149.jpeg" alt="Adding buttons" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Go to the <a id="id243" class="calibre1"/>
<strong class="calibre10">User Interface</strong> palette, drag out a <strong class="calibre10">Button</strong>, and place it inside <strong class="calibre10">HorizontalArrangement</strong> in the <strong class="calibre10">Viewer</strong>. Repeat this step four more times. You will <a id="id244" class="calibre1"/>now have five buttons at the bottom of the screen, as shown in the following screenshot. Since we already set the height of HorizontalArrangement to <code class="email">50</code> pixels, you can set the <strong class="calibre10">Height</strong> property of all the buttons to <strong class="calibre10">Fill parent</strong>. This way, they will stretch only to the height of <code class="email">50</code> pixels. Do the same for the <strong class="calibre10">Width</strong> property and all the buttons will automatically size evenly across the width of the screen:</p><div><img src="img/00150.jpeg" alt="Adding buttons" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Click on <a id="id245" class="calibre1"/>
<strong class="calibre10">Button1</strong> in the <strong class="calibre10">Components</strong> panel and rename it to <a id="id246" class="calibre1"/>
<strong class="calibre10">HomeButton</strong>. In the <strong class="calibre10">Properties</strong> panel, change <strong class="calibre10">BackgroundColor</strong> to <strong class="calibre10">None</strong>, check <strong class="calibre10">Enabled</strong> and <strong class="calibre10">FontBold</strong>, and set <strong class="calibre10">FontSize</strong> to <code class="email">14</code>. Under <strong class="calibre10">Text</strong>, type <strong class="calibre10">Home</strong>, and select <strong class="calibre10">Center</strong> for <strong class="calibre10">TextAlignment</strong> and <strong class="calibre10">Black</strong> for <strong class="calibre10">TextColor</strong>, as shown in the following screenshot:</p><div><img src="img/00151.jpeg" alt="Adding buttons" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Repeat these <a id="id247" class="calibre1"/>steps for all of the other buttons, renaming the <a id="id248" class="calibre1"/>buttons and changing the text on the buttons to reflect the names indicated in the following screenshot. Set all of the buttons' <strong class="calibre10">TextColor</strong> to <strong class="calibre10">White</strong>. We are using different colors to aid navigation. When the user is on the <strong class="calibre10">Home</strong> screen, he or she will see the <strong class="calibre10">Home</strong> button's <strong class="calibre10">TextColor</strong> in black, while the other buttons will be white, as shown in the next screenshot. When we build the next screen (<strong class="calibre10">Info</strong>), we will make the <strong class="calibre10">Info</strong> button's text black, and change the <strong class="calibre10">Home</strong> text button to white, like the others:</p><div><img src="img/00152.jpeg" alt="Adding buttons" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Here's an ideal example of why you would want to always take advantage of the live development <a id="id249" class="calibre1"/>environment and monitor changes you make to your <a id="id250" class="calibre1"/>app on your mobile device. The screenshot on the left-hand side is from the <strong class="calibre10">Viewer</strong> in the <strong class="calibre10">Designer</strong> window. It shows the home screen (<strong class="calibre10">Screen1</strong>) with the background image, the graphic, and the bottom menu bar we just built. If you relied only on this view from your computer screen, you might attempt to respace the buttons because it looks like the right button is cut off.</p><p class="calibre9">But if you were to look at this same view on your mobile device, you would see the screenshot on the right-hand side with all the buttons <a id="id251" class="calibre1"/>fitting evenly across the <a id="id252" class="calibre1"/>screen.</p><div><img src="img/00153.jpeg" alt="Adding buttons" class="calibre11"/></div><p class="calibre12"> </p></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec31" class="calibre1"/>Adding the ActivityStarter</h1></div></div></div><p class="calibre9">Our app <a id="id253" class="calibre1"/>will feature a map, because anytime you host <a id="id254" class="calibre1"/>an event, guests will need to know the address and it is helpful to provide the location via GPS. For the EventApp app to launch Google Maps when a user presses the Map button, we will use the ActivityStarter Component. Go to the <strong class="calibre10">Designer</strong>, and in the <strong class="calibre10">Connectivity</strong> Palette, drag <strong class="calibre10">ActivityStarter</strong> onto the <strong class="calibre10">Viewer</strong> and notice how it drops down below the <strong class="calibre10">Viewer</strong> (see the following screenshot) unlike all of the other components we have used so far. This is because <strong class="calibre10">ActivityStarter</strong> is a nonvisible component; the user won't see it on the screen or even know that they have launched it:</p><div><img src="img/00154.jpeg" alt="Adding the ActivityStarter" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">For the app to launch the correct map, you will need to input some instructions in the <strong class="calibre10">Properties</strong> <a id="id255" class="calibre1"/>panel. Insert the following text into the blank <a id="id256" class="calibre1"/>text boxes beneath each property heading <code class="email">Action</code>, <code class="email">ActivityClass</code>, <code class="email">ActivityPackage</code>, and <code class="email">DataUri</code>, as follows:</p><div><ul class="itemizedlist"><li class="listitem"><strong class="calibre10">Action</strong>: <code class="email">android.intent.action.VIEW</code></li><li class="listitem"><strong class="calibre10">ActivityClass</strong>: <code class="email">com.google.android.maps.MapsActivity</code></li><li class="listitem"><strong class="calibre10">ActivityPackage</strong>: <code class="email">com.google.android.apps.maps</code></li><li class="listitem"><strong class="calibre10">DataUri</strong>: <code class="email">http://maps.google.com/mapsq=1600+Amphitheatre+Parkway+Mountain+View+CA</code></li></ul></div><p class="calibre9">You might be wondering what all of these properties mean. The <strong class="calibre10">ActivityPackage</strong> property tells ActivityStarter what package to launch (in the Android programming jargon, the app files are called packages). Every Android app consists of one or more activities. Think of these activities as main parts of the app. The <strong class="calibre10">ActivityClass</strong> property mentions specifically which activity of the Maps app to start. The <strong class="calibre10">Action</strong> property provides more details about the activity that is being launched. Finally, the <strong class="calibre10">DataUri</strong> property specifies the web location that the map is pointing to. The first part of the URL, <a class="calibre1" href="http://maps.google.com/maps?q=">http://maps.google.com/maps?q=</a>, basically means that we are querying Google Maps (the <code class="email">q</code> stands for query) and the second part of the URL specifies the exact location we are looking for. In URLs, blank spaces are not allowed, so the conventional format is to replace all the black spaces with plus signs. Thus, when we specify the address of our pool party (is fictionally at the Google headquarters in Mountain View, CA), all the blank spaces between different words will be replaced by plus signs, as shown in the previous list under the <strong class="calibre10">DataUri</strong> property heading.</p><p class="calibre9">When creating your own event app with a different location, you will use the same information for <a id="id257" class="calibre1"/>
<strong class="calibre10">Action</strong>, <strong class="calibre10">ActivityClass</strong>, and <strong class="calibre10">ActivityPackage</strong>, but <a id="id258" class="calibre1"/>for the <strong class="calibre10">DataUri</strong> property, you will insert your address after the equals sign (<a class="calibre1" href="http://maps.google.com/maps?q=">http://maps.google.com/maps?q=</a>). Remember to replace all the spaces in your address with plus signs.</p><p class="calibre9">Following is a sample of what your screen should resemble. Because the text boxes on your screen are small, it will not display the full information without scrolling the cursor to the right using the arrow keys:</p><div><img src="img/00155.jpeg" alt="Adding the ActivityStarter" class="calibre11"/></div><p class="calibre12"> </p></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec32" class="calibre1"/>Adding screens</h1></div></div></div><p class="calibre9">We currently <a id="id259" class="calibre1"/>have our home screen called Screen1 (because App Inventor does not allow you to rename Screen1). We will now add three more screens; each one will be associated with a button. Above the <strong class="calibre10">Viewer</strong> and below <strong class="calibre10">Projects</strong> in the top menu bar, you will see a row of three buttons: <strong class="calibre10">Screen1</strong> (our current screen), <strong class="calibre10">Add Screen...</strong>, and <strong class="calibre10">Remove Screen</strong>, which is grayed out, as shown in the following screenshot:</p><div><img src="img/00156.jpeg" alt="Adding screens" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Click on the <a id="id260" class="calibre1"/>
<strong class="calibre10">Add Screen</strong> button and a pop-up window will ask you to input the new screen name. Type <code class="email">Info_Screen</code> as shown in the following screenshot. Click on <strong class="calibre10">OK</strong>:</p><div><img src="img/00157.jpeg" alt="Adding screens" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Repeat the same procedure to add two more screens and name them <strong class="calibre10">RSVP_Screen</strong> and <strong class="calibre10">GuestList_Screen</strong>. Now, all of your screens will appear in the drop-down menu under the first <a id="id261" class="calibre1"/>menu button, and you can navigate between screens by selecting a different one. The next screenshot shows the name <strong class="calibre10">Screen1</strong> on the button to indicate the name of the screen that is currently open:</p><p class="calibre9">.</p><div><img src="img/00158.jpeg" alt="Adding screens" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Once you have added the additional screens, you will need to recreate the user interface for them. This means that, for each screen, you will add some of the same elements you added to Screen1: the pool image as the background image, a VerticalArrangement, a HorizontalArrangement, and five buttons. Note that it is vital to rename the five buttons to the exact same names as on Screen1 because we will be programming each button with the same name to do the same thing (to open its appropriate screen) and if a button is misnamed on one of the screens, it won't work (note that we are referring to the actual button names, not the text that appears on the buttons). Also, remember to make the text of all the buttons white, except for the button of the screen that you have open (that is, when GuestList_Screen is open, the Guests button text should be black; when RSVP_Screen is open, the RSVP button text should be black, and so on).</p></div>

<div><div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec33" class="calibre1"/>Programming the blocks</h1></div></div></div><p class="calibre9">Now <a id="id262" class="calibre1"/>that we've designed most of the user interface of <a id="id263" class="calibre1"/>the Event app, we will switch to the Blocks editor to program our app. Click on the <strong class="calibre10">Blocks</strong> button in the upper-right corner of the Designer. You will find that throughout the building of this app (as with any app), you will go back and forth between the Designer and Blocks editor.</p></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_1"><a id="ch05lvl2sec34" class="calibre1"/>Navigating between screens and launching maps</h2></div></div></div><p class="calibre9">In <a id="id264" class="calibre1"/>the Blocks editor, we will code the navigation buttons to launch the appropriate screen. For example, when the user presses the Info button, we want the app to open Info_Screen.</p></div></div>

<div><div><div><div><div><h2 class="title1" id="calibre_pb_2"><a id="ch05lvl2sec35" class="calibre1"/>Screen1</h2></div></div></div><p class="calibre9">In the Blocks Editor, make sure you are on Screen1 by verifying that Screen1 (and not one of the other screens) displays on the menu button. In the <a id="id265" class="calibre1"/>
<strong class="calibre10">Blocks</strong> palette under <strong class="calibre10">HorizontalArrangement</strong>, you will see a list of the buttons that you just created in the Designer. (Notice how the button names are indented underneath HorizontalArrangement, this is a visual cue to remind  you that they are contained within the HorizontalArrangement Component.) If you don't see all of the buttons displayed in the Palette, click on the plus sign to the left of HorizontalArrangement, it will toggle to a minus sign and display those items (in this case, 5 buttons) within.</p><div><ul class="itemizedlist"><li class="listitem">Click on <strong class="calibre10">InfoButton</strong> to reveal the blocks drawer and choose the first gold block <strong class="calibre10">when InfoButton.Click</strong>.</li><li class="listitem">Under the <strong class="calibre10">Built-in</strong> blocks, click on the gold <strong class="calibre10">Control</strong> blocks and scroll down to the <strong class="calibre10">open another screen screenName</strong> block. Insert this block into the <strong class="calibre10">when InfoButton.Click</strong> block.</li><li class="listitem">Add a blank pink <strong class="calibre10">Text</strong> block to it and type <code class="email">Info_Screen</code> into the blank. Connect it to the <strong class="calibre10">open another screen screenName</strong> block.</li><li class="listitem">Repeat these steps for <strong class="calibre10">RSVPButton</strong> and <strong class="calibre10">GuestsButton</strong>.</li></ul></div><p class="calibre9">For MapButton, we won't be opening another screen; instead we will be launching the ActivityStarter (that we have already set to open Google Maps), as follows:</p><div><ul class="itemizedlist"><li class="listitem">In the <strong class="calibre10">MapButton</strong> drawer, select the first block, when <strong class="calibre10">MapButton.Click</strong>.</li><li class="listitem">In the <strong class="calibre10">ActivityStarter1</strong> blocks drawer, select the purple <strong class="calibre10">call ActivityStarter1.StartActivity</strong> block. Connect the two blocks together.</li><li class="listitem">The following screenshot shows all of the previous steps:<div><img src="img/00159.jpeg" alt="Screen1" class="calibre11"/></div><p class="calibre21"> </p></li></ul></div><div><div><div><div><h3 class="title2"><a id="ch05lvl3sec20" class="calibre1"/>Sharing blocks between screens using the Backpack</h3></div></div></div><p class="calibre9">If <a id="id266" class="calibre1"/>you think about it, all the buttons on all the screens will do the same thing. Instead of rebuilding the exact same sets of blocks <a id="id267" class="calibre1"/>for all of the other screens, we can use the Backpack tool. There is a little backpack icon in the upper-right corner of the blocks Viewer, as shown in the earlier screenshot. This tool enables you to share blocks between screens and projects (note that the Backpack empties when you sign out).</p><p class="calibre9">There are two ways to add blocks to the Backpack. They are as follows:</p><div><ul class="itemizedlist"><li class="listitem">You can drag the blocks directly to the Backpack (the simplest method).</li><li class="listitem">Or, you can right-click on block you want to add (similar to copying or pasting blocks, right-clicking to add blocks to the Backpack, will add all attached blocks). For example, right-click on the <strong class="calibre10">when InfoButton.Click</strong> block (or on a Mac, click on the control button on the keyboard while clicking on the event block) and a drop-down list will appear, as shown in the following screenshot. Select the fifth option, <strong class="calibre10">Add to Backpack</strong>; this will add the three blocks in this set (if you have your computer's sound on, you will hear an indicator sound).<div><img src="img/00160.jpeg" alt="Sharing blocks between screens using the Backpack" class="calibre11"/></div><p class="calibre21"> </p></li></ul></div><p class="calibre9">The first <a id="id268" class="calibre1"/>time you do this the number in the parenthesis in the drop-down list will be <strong class="calibre10">0</strong> (as shown in the preceding screenshot). But after you add the first set of blocks to the Backpack and repeat the step for the next set of blocks, the number will increase. This number lets you know how many times you have added blocks to the Backpack.</p><p class="calibre9">Add the three other block sets to the <strong class="calibre10">Backpack</strong>, in the method you choose. After adding the blocks, click on the Backpack to reveal the four block sets you have added, as shown on the right-hand side of the following screenshot. Click on any white space in the <strong class="calibre10">Viewer</strong> to close the Backpack:</p><div><img src="img/00161.jpeg" alt="Sharing blocks between screens using the Backpack" class="calibre11"/></div><p class="calibre12"> </p><p class="calibre9">Now we can switch screens and retrieve our Backpack blocks. Click on the <strong class="calibre10">Screen1</strong> button above the <strong class="calibre10">Viewer</strong> to choose another screen from the drop-down list. Select <strong class="calibre10">Info_Screen</strong>.</p><p class="calibre9">If you <a id="id269" class="calibre1"/>think about it, we only need three of the four sets of blocks we added to the <strong class="calibre10">BackPack</strong>. We don't need the <strong class="calibre10">InfoButton</strong> blocks because we are currently on the <strong class="calibre10">Info</strong> screen, so we don't want the <strong class="calibre10">InfoButton</strong> to do anything. <em class="calibre19">To make a button not active or not do anything, we simply don't create any blocks (code) for it</em>.</p><p class="calibre9">Adding blocks from the Backpack works in exactly the same way as adding blocks from a drawer. Click on <strong class="calibre10">Backpack</strong> to reveal the selection of blocks you've added and click on the <strong class="calibre10">RSVPButton</strong> block. You will see that they those blocks appear on the <strong class="calibre10">Viewer</strong>. Repeat the steps to add the <strong class="calibre10">GuestsButton</strong> and the <strong class="calibre10">MapButton</strong> blocks from the Backpack.</p><p class="calibre9">We didn't need to create the <strong class="calibre10">HomeButton</strong> blocks when we were on <strong class="calibre10">Screen1 </strong>because that is essentially the Home screen. But, we do need to activate the Home Button on other screens so users can navigate back to Screen1 (or Home). let's do that now that we are on the "Info_Screen. Copy and paste any event block on the screen and then click on the gold arrow to the right of the button name. It will reveal a drop-down list of all the buttons; choose <strong class="calibre10">HomeButton</strong>. Change the text in the pink Text block to <strong class="calibre10">Screen1</strong>. Your blocks for <strong class="calibre10">Info_Screen</strong> should look as like the following image. Repeat the same steps to add the Home Button blocks to the RSVP_Screen and the GuestList_Screen::</p><div><img src="img/00162.jpeg" alt="Sharing blocks between screens using the Backpack" class="calibre11"/></div><p class="calibre12"> </p></div><div><div><div><div><h3 class="title2"><a id="ch05lvl3sec21" class="calibre1"/>Adding text to screens</h3></div></div></div><p class="calibre9">The <a id="id270" class="calibre1"/>purpose of <strong class="calibre10">Info_Screen</strong> is for the organizer (you) to provide guests with information about the event. This screen would display static text, but it could easily be updated. Let's switch back to the <strong class="calibre10">Designer</strong>.</p><p class="calibre9">An easy way to add text to a screen is with a <strong class="calibre10">Label</strong>. (Alternatively, you could also create the text on your computer using Photoshop or Gimp (or another design tool) and save it as an image file (JPG or PNG) and upload it to App Inventor using the Media tool). You will find the Label component in the <strong class="calibre10">User Interface</strong> drawer. We are going to create eight lines of text, so drag a Label onto the <strong class="calibre10">Viewer</strong> and repeat this seven more times. In the <strong class="calibre10">Properties</strong> panel, type your information in the text box under <strong class="calibre10">Text</strong>. You can copy our formatting for font, color, and layout, as shown in the following screenshot, or design your own:</p><div><img src="img/00163.jpeg" alt="Adding text to screens" class="calibre11"/></div><p class="calibre12"> </p></div></div></div>
<div><div><div><div><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec34" class="calibre1"/>Summary</h1></div></div></div><p class="calibre9">You have completed the first part of setting up an event app. In this chapter, you have learned how to find usable images online and how to use one as a background image on multiple screens. You also learned how to add artwork from a computer over a background image. You created a button navigation bar, coded buttons to open other screens, used the Backpack tool to copy blocks from one screen to another, entered informational text using labels, and did the setup for launching Google Maps.</p><p class="calibre9">In the next chapter, we will concentrate mostly on creating a database for all of the data we will be collecting—the guests' names, the number of attendees, and the potluck items. To do this, we will teach you to use Google Fusion Tables and how to create an RSVP form and a guest list display using <strong class="calibre10">ListView</strong>. We are halfway toward completing a very practical app that you can use for multiple purposes. And, the skills you are learning will prove instrumental for any and all future app-making endeavors.</p></div></body></html>