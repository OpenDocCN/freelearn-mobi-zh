<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Getting Started With Corona SDK"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Getting Started With Corona SDK</h1></div></div></div><div class="blockquote"><blockquote class="blockquote"><p>Before we jump right into coding some simple games, we need to install and run the necessary programs that will make our applications come to life.<span class="strong"><strong> Corona SDK</strong></span> is primarily a 2D development engine. If you've had experience developing for iOS or Android, you will find the experience working with Corona refreshing and simple to use. In no time you'll be creating finished products to distribute on the iPhone App Store and Google Play Store.<a id="id0" class="indexterm"/>
</p></blockquote></div><p>In this chapter, we will:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Set up Corona SDK on Mac OS X and Windows</li><li class="listitem" style="list-style-type: disc">Install Xcode for Mac OS X</li><li class="listitem" style="list-style-type: disc">Create a Hello World program in two lines</li><li class="listitem" style="list-style-type: disc">Add devices in the iOS Provisioning Portal</li><li class="listitem" style="list-style-type: disc">Load an application to an iOS device</li><li class="listitem" style="list-style-type: disc">Load an application to an Android device</li></ul></div><div class="section" title="Downloading and installing Corona"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec01"/>Downloading and installing Corona</h1></div></div></div><p>You have the option of choosing the Mac OS X or Microsoft Windows operating system to develop on. Keep in mind the following system requirements required to run the program.<a id="id1" class="indexterm"/>
</p><p>If you are installing Corona for Mac OS X, be sure that your system is as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Mac OS<sup>®</sup> X 10.6 or later</li><li class="listitem" style="list-style-type: disc">An Intel-based system that runs Snow Leopard or Lion</li><li class="listitem" style="list-style-type: disc">64-bit CPU (Core 2 Duo)</li><li class="listitem" style="list-style-type: disc">An OpenGL 1.4 or higher graphics system</li></ul></div><p>If you are running Microsoft Windows, be sure that your system is as follows:<a id="id2" class="indexterm"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Windows 7, Vista, or XP operating system</li><li class="listitem" style="list-style-type: disc">1 GHZ processor (recommended)</li><li class="listitem" style="list-style-type: disc">38 MB of disk space (minimum)</li><li class="listitem" style="list-style-type: disc">1 GB of RAM (minimum)</li><li class="listitem" style="list-style-type: disc">OpenGL 1.3 or higher graphics system (available in most modern Windows systems)</li></ul></div></div></div>
<div class="section" title="Time for action&#x2014;setting up and activating Corona on Mac OS X"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec02"/>Time for action—setting up and activating Corona on Mac OS X</h1></div></div></div><p>Let's begin by setting up Corona SDK on our desktop.<a id="id3" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">If you haven't downloaded the SDK, please do so at:<a class="ulink" href="http://www.anscamobile.com/corona/"> http://www.anscamobile.com/corona/</a>. You will have to register as a user before you can access the SDK.</li><li class="listitem">The file extension for any Mac program should end in <code class="literal">.dmg</code>, otherwise known as an<span class="strong"><strong> Apple disk image</strong></span>. Once you've downloaded the disk image, double-click on the disk image file to mount it. The name should be similar to <code class="literal">CoronaSDK.dmg</code>.<p>Once it is loaded, you should see the mounted disk image folder as shown in the following screenshot:
</p><div class="mediaobject"><img src="graphics/1888_01_01.jpg" alt="Time for action—setting up and activating Corona on Mac OS X"/></div></li><li class="listitem">Next, drag the <code class="literal">CoronaSDK</code> folder into the <code class="literal">Applications</code> folder. This will copy the contents of the Corona folder into <code class="literal">/Applications</code>. You will be prompted to enter an administrator password if you are not the main administrator of the account. You will be able to see the <code class="literal">CoronaSDK</code> folder in <code class="literal">/Applications</code> once it has been successfully installed.<a id="id4" class="indexterm"/><p>For easy access to the folder's contents, create an alias by dragging the <code class="literal">CoronaSDK</code> folder to the Dock of your Mac desktop.
</p><div class="mediaobject"><img src="graphics/1888_01_02.jpg" alt="Time for action—setting up and activating Corona on Mac OS X"/></div><p>First time Corona SDK users will have to perform a quick and easy one-time authorization process before it can be accessible.
<a id="id5" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note02"/>Note</h3><p>You must be connected to the Internet to complete the authorization process.</p></div></li><li class="listitem">Launch the Corona Simulator in the SDK folder.</li><li class="listitem">Assuming this is your first time, you will be presented with an End-user License Agreement (EULA). Once you have accepted the agreement, enter the e-mail you used to register for Corona and password to activate the SDK. Otherwise, click<span class="strong"><strong> Register</strong></span> to create an account.<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note03"/>Note</h3><p>If you register with Corona as a trial user, there is no fee to develop on iOS and/or Android devices. Developers that would like to publish their applications on the App Store or Google Play need to purchase the Corona SDK subscription on the website in order to do so at:<a class="ulink" href="http://www.anscamobile.com/corona/"> http://www.anscamobile.com/corona/</a>.</p></div><div class="mediaobject"><img src="graphics/1888_01_03.jpg" alt="Time for action—setting up and activating Corona on Mac OS X"/></div></li><li class="listitem">Upon successful login, you will get a confirmation dialog to show that the SDK is ready to use as shown in the following screenshot:<a id="id6" class="indexterm"/><div class="mediaobject"><img src="graphics/1888_01_04.jpg" alt="Time for action—setting up and activating Corona on Mac OS X"/></div></li><li class="listitem">Click on the<span class="strong"><strong> Continue</strong></span> button and you'll be presented with the<span class="strong"><strong> Welcome to Corona</strong></span> screen as shown in the following screenshot:<div class="mediaobject"><img src="graphics/1888_01_05.jpg" alt="Time for action—setting up and activating Corona on Mac OS X"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec01"/>What just happened?</h2></div></div></div><p>Setting up Corona SDK on your Mac operating system is as simple as installing any other dedicated Mac program. After you have authorized the SDK on your machine and logged in with your e-mail and password it will be ready for use. From here on out, every time you launch Corona, it will automatically log in to your account. You will notice that you are greeted with a<span class="strong"><strong> Corona SDK</strong></span> screen when this happens.<a id="id7" class="indexterm"/>
</p></div></div>
<div class="section" title="Time for action&#x2014;setting up and activating Corona on Windows"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec03"/>Time for action—setting up and activating Corona on Windows</h1></div></div></div><p>Let's set up Corona SDK on our desktop.<a id="id8" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Download Corona SDK from the following URL:<a class="ulink" href="http://www.anscamobile.com/corona/"> http://www.anscamobile.com/corona/</a>. You will have to register as a user before you can access the SDK.</li><li class="listitem">The file extension for the Windows version of Corona should end in <code class="literal">.msi</code>, otherwise known as a<span class="strong"><strong> Windows Installer</strong></span>, a component of Windows made for installing programs by Microsoft. Double-click on the file. The filename should be similar to <code class="literal">CoronaSDK.msi</code>.<a id="id9" class="indexterm"/></li><li class="listitem">Follow the onscreen directions for installation.</li><li class="listitem">Corona will install directly to your <code class="literal">Programs</code> folder by default. On Microsoft Windows, select<span class="strong"><strong> Corona</strong></span> from the list of<span class="strong"><strong> Programs</strong></span> in your<span class="strong"><strong> Start</strong></span> menu or double-click the Corona icon on the desktop. Upon successful activation, you should be greeted with the following screen:<a id="id10" class="indexterm"/><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note04"/>Note</h3><p>The process to activate the SDK should be the same as that of the Mac procedure once you launch Corona for the very first time.</p></div><div class="mediaobject"><img src="graphics/1888_01_06.jpg" alt="Time for action—setting up and activating Corona on Windows"/></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip02"/>Tip</h3><p>If you run into issues with images not displaying properly, check to see if you're using an up-to-date OpenGL graphics driver that is 1.3 or higher.</p></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note05"/>Note</h3><p>Be aware that Corona SDK on Windows can only build for Android devices, not for iOS devices (iPhone, iPad, or iPod Touch). A Mac can only build for iOS devices in Corona but can also build applications for Android.</p></div></li><li class="listitem">To create device builds, Java 6 SDK needs to be installed on your PC. You will need to go to the JDK download page:<a class="ulink" href="http://jdk6.java.net/download.html"> http://jdk6.java.net/download.html</a> and click the<span class="strong"><strong> Download</strong></span> button under the<span class="strong"><strong> Java SE 6</strong></span> option.<a id="id11" class="indexterm"/></li><li class="listitem">On the next page, select the<span class="strong"><strong> Accept License Agreement</strong></span> radio button and then click on the<span class="strong"><strong> Windows x86</strong></span> link to download the installer. You will be asked to log in or create a user account on the Oracle website if you don't already have one.</li><li class="listitem">As soon as the JDK is downloaded, run the installer. Once installed, you'll be able to create device builds for Android on your PC.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec02"/>What just happened?</h2></div></div></div><p>Installing the SDK on Windows has a different setup to that of the Mac OS X. While executing the installer file, Windows will automatically present a designated location to install the application such as the <code class="literal">Programs</code> folder so you won't have to manually choose a destination. Upon a successful installation you will see the Corona SDK icon on your desktop for easy access or highlighted in the<span class="strong"><strong> Programs</strong></span> list in the<span class="strong"><strong> Start</strong></span> menu, assuming you're accessing it for the first time. When you authorize Corona on your machine and sign in with your login information, it is ready for you to use and will log in automatically every time it is launched.<a id="id12" class="indexterm"/>
</p></div></div>
<div class="section" title="Using the simulator on Mac and Windows"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec04"/>Using the simulator on Mac and Windows</h1></div></div></div><p>On Mac OS X, launch Corona SDK by either selecting <code class="literal">Corona Terminal</code> or <code class="literal">Corona Simulator</code> from the <code class="literal">Applications Directory</code>. Both selections will access the SDK. The <code class="literal">Corona Simulator</code> will only open the simulator. The <code class="literal">Corona Terminal</code> will open both the simulator and terminal window. The terminal is helpful for debugging your programs and displays simulator errors/warnings and <code class="literal">print()</code> messages.<a id="id13" class="indexterm"/>
</p><p>On Microsoft Windows, select the <code class="literal">Corona SDK</code> folder and click on<span class="strong"><strong> Corona Simulator</strong></span> from the list of<span class="strong"><strong> Programs</strong></span> in your<span class="strong"><strong> Start</strong></span> menu or double-click the Corona icon on the desktop. (The simulator and terminal are always opened together if you are using Windows).</p><p>Let's go over the useful contents contained in the <code class="literal">Corona SDK</code> folder (located in <code class="literal">Applications/Corona SDK</code> on Mac and <code class="literal">Start/All Programs/Corona SDK</code> on Windows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Debugger</strong></span> (Mac)<span class="strong"><strong>/Corona Debugger</strong></span> (Windows)—Tool for finding and isolating issues in your code.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Corona Simulator</strong></span>—The environment used to launch your application for testing. It simulates the mobile device you're developing on your local computer. (On Windows, it will open both the simulator and terminal).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Corona Terminal</strong></span>—Launches the<span class="strong"><strong> Corona Simulator</strong></span> and opens a<span class="strong"><strong> Terminal</strong></span> window to display error/warning messages and <code class="literal">print()</code> statements. It is very helpful for debugging your code (only on Mac).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Simulator</strong></span>—Has the same properties as <code class="literal">Corona Terminal</code>, but called from the command line (only on Mac).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>SampleCode</strong></span>—A set of sample applications to get you started with Corona. Contains code and art assets to work with.</li></ul></div><p>The<span class="strong"><strong> Corona SDK</strong></span> window opens by default when you launch the simulator. You can open a Corona project in the simulator, create a device build for testing or distribution, and view some example games and apps to get you familiar with the SDK.<a id="id14" class="indexterm"/>
</p></div>
<div class="section" title="Time for action&#x2014;viewing a sample project in the simulator"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec05"/>Time for action—viewing a sample project in the simulator</h1></div></div></div><p>Let's take a look at the <code class="literal">HelloPhysics</code> sample project in the simulator:<a id="id15" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Click on<span class="strong"><strong> Simulator</strong></span> in the<span class="strong"><strong> Corona SDK</strong></span> window.</li><li class="listitem">In the<span class="strong"><strong> Open</strong></span> dialog that appears, navigate to <code class="literal">Applications/CoronaSDK/SampleCode/Physics/HelloPhysics</code> (Mac) or <code class="literal">C:\Program Files\Ansca\Corona SDK\Sample Code\Physics\HelloPhysics</code> (Windows). On Mac, click<span class="strong"><strong> Open</strong></span> and it will automatically open <code class="literal">main.lua</code>. On Windows, double-click on <code class="literal">main.lua</code> to open the file. The <code class="literal">HelloPhysics</code> application opens and runs in the<span class="strong"><strong> Simulator</strong></span>.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec03"/>What just happened?</h2></div></div></div><p>Accessing the SDK through the <code class="literal">Corona Terminal</code> or <code class="literal">Corona Simulator</code> depends on your preference of action. Many Mac users prefer to use the <code class="literal">Corona Terminal</code> so they can track messages outputted in the terminal, especially for debugging purposes. When you launch the SDK through the <code class="literal">Corona Simulator</code>, the simulator will display, but not the terminal window. When Windows users launch the<span class="strong"><strong> Corona Simulator</strong></span>, it will display both the simulator and terminal windows. This is nice to use when you want to play around with any of the example applications that are provided by Corona.</p><p>The <code class="literal">main.lua</code> file is a special filename that tells Corona where to start in a project folder. This file can also load other code files or other program resources such as sounds or graphics.</p><p>When you launch the <code class="literal">HelloPhysics</code> application in Corona, you will observe a box object fall from top of the screen in the simulator and collide with a ground object. The transition from launching the <code class="literal">main.lua</code> file to viewing the results in the simulator are almost immediate.</p></div><div class="section" title="Have a go hero—use a different device shell"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec04"/>Have a go hero—use a different device shell</h2></div></div></div><p>As you start getting familiar with the <code class="literal">Corona Simulator</code>, whether you're in Windows or Mac OSX, a default device is always used when you launch an application. Windows uses the Droid as the default device, while the Mac OS X uses the regular iPhone. Try launching the sample code on a different device shell to view the difference in screen resolution in all the devices the simulator has available.<a id="id16" class="indexterm"/>
</p><p>When porting builds to more than one platform, you'll have to consider the variety of screen resolutions in both iOS and Android devices. A<span class="strong"><strong> build</strong></span> is a compiled version of all your source code converted into one file. Having your game build configured for multiple platforms broadens the audience reach for your application.<a id="id17" class="indexterm"/>
</p></div></div>
<div class="section" title="Choosing a text editor"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec06"/>Choosing a text editor</h1></div></div></div><p>Corona does not have a designated program editor to code in so you will have to find one that suits your needs.<a id="id18" class="indexterm"/>
</p><p>For Mac OS,<span class="strong"><strong> TextWrangler</strong></span> is a good one and free too! You can download it at<a class="ulink" href="http://www.barebones.com/products/textwrangler/download.html"> http://www.barebones.com/products/textwrangler/download.html</a>. Other text editors such as<span class="strong"><strong> BBEdit</strong></span> at<a class="ulink" href="http://www.barebones.com/thedeck"> http://www.barebones.com/thedeck</a> and<span class="strong"><strong> TextMate</strong></span> at<a class="ulink" href="http://macromates.com/"> http://macromates.com/</a> are great, but you will need to purchase those in order to use them. TextMate is also compatible with the Corona TextMate Bundle:<a class="ulink" href="http://www.ludicroussoftware.com/corona-textmate-bundle/index.html"> http://www.ludicroussoftware.com/corona-textmate-bundle/index.html</a>.<a id="id19" class="indexterm"/>
</p><p>For Microsoft Windows<span class="strong"><strong> Notepad++</strong></span> is recommended and can be downloaded at<a class="ulink" href="http://notepad-plus-plus.org/"> http://notepad-plus-plus.org/</a> or<span class="strong"><strong> Crimson Editor</strong></span> at<a class="ulink" href="http://www.crimsoneditor.com/"> http://www.crimsoneditor.com/</a>. Both editors are free.<a id="id20" class="indexterm"/>
</p><p>Any text editor, such as TextEdit for Mac or Notepad for Windows, that is already included in each operating system works as well, but it'll be easier to work with one that is designed for programming. For Corona, using an editor that supports Lua syntax highlighting will work the best when coding. Syntax highlighting adds formatting attributes to keywords and punctuation in a way that makes it easier for the reader to separate code from text.<a id="id21" class="indexterm"/>
</p></div>
<div class="section" title="Developing on devices"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec07"/>Developing on devices</h1></div></div></div><p>Apple's developer kit<span class="strong"><strong> Xcode</strong></span> or the<span class="strong"><strong> Android SDK</strong></span> is not necessary to download if you only want to use the Corona Simulator. In order to build and test your code on an iOS device (iPhone, iPod Touch and iPad), you will need to sign up as an Apple Developer and create and download provisioning profiles. If you want to develop on Android, you don't need to download the Android SDK unless you want to use the ADB tool to help with installing builds and viewing debug messages.</p><p>The trial version of Corona Simulator allows building Adhoc (for iOS) and Debug builds (Android) for testing on your own devices. The builds will contain a<span class="strong"><strong> Trial User</strong></span> message box when the app runs on the device. You will need to purchase a Corona Subscription if you want to build for Apple's App Store or Android's Google Play Store. Corona Subscribers also get the benefit of subscriber-only features such as access to Daily Builds,<span class="strong"><strong> Subscribers Only</strong></span> areas on the Corona forums and LaunchPad.</p></div>
<div class="section" title="Time for action&#x2014;downloading and installing Xcode"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Time for action—downloading and installing Xcode</h1></div></div></div><p>In order to develop any iOS application you will need to enroll in the Apple Developer Program, which costs $99 a year, and create an account on the Apple website<a class="ulink" href="http://developer.apple.com/programs/ios/"> http://developer.apple.com/programs/ios/</a>.<a id="id22" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Click on the<span class="strong"><strong> Enroll Now</strong></span> button and follow Apple's instructions to complete the process.</li><li class="listitem">When you have completed your enrollment, click on the iOS link under the section marked<span class="strong"><strong> Dev Centers</strong></span>.</li><li class="listitem">If you are using Snow Leopard, scroll down to the<span class="strong"><strong> Downloads</strong></span> section and download the current Xcode. If you are using Lion, you can download Xcode in the Mac App Store.</li><li class="listitem">Once you have fully downloaded Xcode, double-click on the <code class="literal">.mpkg</code> Installer package (icon is an open brown box). By default, Xcode will install in the folder <code class="literal">/Developer</code>. You will be asked to authenticate as an administrative user.<div class="mediaobject"><img src="graphics/1888_01_07.jpg" alt="Time for action—downloading and installing Xcode"/></div></li><li class="listitem">After you have entered your credentials, click on the<span class="strong"><strong> OK</strong></span> button to complete the installation.<a id="id23" class="indexterm"/><div class="mediaobject"><img src="graphics/1888_01_08.jpg" alt="Time for action—downloading and installing Xcode"/></div></li><li class="listitem">When you have installed the Xcode developer tools, you can access the documentation by launching Xcode and choosing any of the items in the<span class="strong"><strong> Help</strong></span> menu. Developer applications such as Xcode and Instruments are installed in <code class="literal">/Developer/Applications</code>. You can drag those following app icons to your Dock for convenient accessibility.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec05"/>What just happened?</h2></div></div></div><p>We just went through the steps of how to install Xcode to Mac OS X. By enrolling in the Apple Developer Program, you will have access to up-to-date development tools on the website. Remember that to continue being an Apple Developer you have to pay a fee of $99 annually to keep your subscription.<a id="id24" class="indexterm"/>
</p><p>The Xcode file is quite large so it will take a bit of time to download depending on how fast your Internet connection is. When your installation is complete, Xcode will be ready to go.</p></div></div>
<div class="section" title="Time for action&#x2014;creating a Hello World application in two lines of code"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Time for action—creating a Hello World application in two lines of code</h1></div></div></div><p>Now that we have the simulator and text editors set up, let's start making our very first Corona program! The first program we will be making is called<span class="strong"><strong> Hello World</strong></span>. It is a traditional program that many people learn when starting a new programming language.<a id="id25" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Open your preferred text editor and type the following lines:<div class="informalexample"><pre class="programlisting">textObject = display.newText( "Hello World!", 50, 40, native.systemFont, 36 )
textObject:setTextColor( 255,255,255)
</pre></div></li><li class="listitem">Next, create a folder on your desktop called <code class="literal">Hello World</code>. Save the preceding text as a file named <code class="literal">main.lua</code> to the location of your project folder.</li><li class="listitem">Launch Corona. You will be greeted with the<span class="strong"><strong> Corona SDK</strong></span> screen. Click on<span class="strong"><strong> Simulator</strong></span> and navigate to the <code class="literal">Hello World</code> folder you just created. You should see your <code class="literal">main.lua</code> file in this folder as shown in the following screenshot:<div class="mediaobject"><img src="graphics/1888_01_09.jpg" alt="Time for action—creating a Hello World application in two lines of code"/></div></li><li class="listitem">On Mac, click on the<span class="strong"><strong> Open</strong></span> button. On Windows, select the <code class="literal">main.lua</code> file and click the<span class="strong"><strong> Open</strong></span> button. You'll see your new program running in the Corona Simulator:<a id="id26" class="indexterm"/><div class="mediaobject"><img src="graphics/1888_01_10.jpg" alt="Time for action—creating a Hello World application in two lines of code"/></div></li></ol></div></div>
<div class="section" title="Time for action&#x2014;modifying our application"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Time for action—modifying our application</h1></div></div></div><p>Before we dive into more complex examples, let's alter some minor things in your program.<a id="id27" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Let's alter the second line of <code class="literal">main.lua</code> to display as follows:<div class="informalexample"><pre class="programlisting">textObject = display.newText( "Hello World!", 50, 40, native.systemFont, 36 )
<span class="strong"><strong>textObject:setTextColor( 124,252,0 )
</strong></span>
</pre></div></li><li class="listitem">Save your file and go back to the<span class="strong"><strong> Corona Simulator</strong></span>. The simulator will detect a change from your file and automatically re-launch with the new changes. If the simulator doesn't re-launch automatically upon saving your file, press <span class="emphasis"><em>Command + R</em></span> (Mac)/<span class="emphasis"><em>Ctrl + R</em></span> (Windows).<div class="mediaobject"><img src="graphics/1888_01_11.jpg" alt="Time for action—modifying our application"/></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note06"/>Note</h3><p>As you continue learning more Corona functions, you'll notice that some of the text values will be optional. In this case, we need to use all five values.</p></div></li></ol></div></div>
<div class="section" title="Time for action&#x2014;applying a new font name to your application"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Time for action—applying a new font name to your application</h1></div></div></div><p>Now let's play around with the font name.<a id="id28" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Change the first line to the following code:<div class="informalexample"><pre class="programlisting">textObject = display.newText( "Hello World!", 50, 40, "Times New Roman", 36 )
</pre></div></li><li class="listitem">Be sure to save your <code class="literal">main.lua</code> file after making any alterations, then press <span class="emphasis"><em>Command+R</em></span> (Mac)/<span class="emphasis"><em>Ctrl+R</em></span> (Windows) in Corona to re-launch the simulator to view the new font. If you're using a Mac, usually the simulator automatically re-launches after saving your file or it may ask you if you want to re-launch the program.<div class="mediaobject"><img src="graphics/1888_01_12.jpg" alt="Time for action—applying a new font name to your application"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec06"/>What just happened?</h2></div></div></div><p>You have now made your first complete mobile application! What's even more amazing is that this is a completed iPhone, iPad, and Android application. This two-line program will actually install and run on your iOS/Android device if you were to create a build. You have now seen what the basic workflow in Corona is like.</p><p>If you take a look at line 2 in your <code class="literal">main.lua</code> file you will notice that <code class="literal">setTextColor</code> alters the color of the text for<span class="strong"><strong> Hello World!</strong></span>.</p><p>Colors are made up of three sets of<span class="strong"><strong> RGB</strong></span> numbers representing the amount of red, green, and blue contained within a color. They are displayed with three numbers with values ranging from 0 to 255. For example, the color black would be ( 0,0,0 ), blue would be ( 0,0,255 ), and the color white ( 255,255,255 ).</p><p>Continue playing around with different color values to see the different results. You can see the alterations to the code in the simulator when you save your <code class="literal">main.lua</code> file and re-launch Corona.</p><p>When you view the first line from the <code class="literal">main.lua</code> file you will notice that <code class="literal">newText()</code> is called by <code class="literal">textObject</code>, a name that is then used to reference the display text. The <code class="literal">newText()</code> function returns an object that will represent the text on the screen. <code class="literal">newText</code> is part of the display library.<a id="id30" class="indexterm"/>
</p><p>When you want to access the display property of <code class="literal">newText</code>, type in <code class="literal">display.newText</code>. The two numbers after <code class="literal">Hello World!</code> control the horizontal and vertical positions of the text on the screen in pixels. The next item specifies the font. We used the name <code class="literal">native.systemFont</code>, which by default refers to the standard font on the current device. For example, the iPhone's default font is Helvetica. You can use any standard font name such as <code class="literal">Times New Roman</code> (used in the preceding example). The last number used is the font size.</p></div><div class="section" title="Have a go hero—adding more text objects"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec07"/>Have a go hero—adding more text objects</h2></div></div></div><p>Now that you're starting to get a taste of coding, try applying the following in your current project file:<a id="id31" class="indexterm"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Create a new display object using a different font and text color. Display it below the<span class="strong"><strong> Hello World!</strong></span> text. Hint: Make sure your new text object has a different object name.</li><li class="listitem" style="list-style-type: disc">Continue changing values of the current display object, <code class="literal">textObject</code>. Alter the x and y, the coordinates, the string text, the font name, and even the font size.</li><li class="listitem" style="list-style-type: disc">While the object <code class="literal">setTextColor( r,g,b)</code> sets the color of the text, there is an optional parameter you can add that controls the opacity of the text. Try using the object <code class="literal">setTextColor( r, g, b [, a])</code>. The values available for <code class="literal">a</code> also range between 0 to 255 (255 is opaque, which is the default value). Observe the results of your text color.</li></ul></div></div></div>
<div class="section" title="Testing our application on an iOS device"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Testing our application on an iOS device</h1></div></div></div><p>If you are only interested in testing the application on an Android device, please skip past this section of the chapter to<span class="emphasis"><em> Testing Our Application on an Android Device</em></span>. Before we can upload our first Hello World application on an iOS device, we need to log in to our Apple Developer account so we can create and install our signing certificates on our development machine. If you haven't created a Developer account yet, please do so at<a class="ulink" href="http://developer.apple.com/programs/ios/"> http://developer.apple.com/programs/ios/</a>. Remember that there is a fee of $99 a year to become an Apple Developer.<a id="id32" class="indexterm"/>
</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note07"/>Note</h3><p>The Apple Developer account is only applied to users developing on Mac OS X. Make sure your version of Xcode is the same as or newer than the version of the OS on your phone. For example, if you have version 5.0 of the iPhone OS installed you will need Xcode that is bundled with the iOS SDK version 5.0 or later.</p></div></div>
<div class="section" title="Time for action&#x2014;obtaining the iOS developer certificate"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Time for action—obtaining the iOS developer certificate</h1></div></div></div><p>Make sure that you're signed up for the developer program; you will need to use the<span class="strong"><strong> Keychain Access</strong></span> tool located in <code class="literal">/Applications/Utilities</code> so you can create a certificate request. A valid certificate must sign all iOS applications before they can be run on an Apple device in order to do any kind of testing.<a id="id33" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Open<span class="strong"><strong> Keychain Access</strong></span> |<span class="strong"><strong> Certificate Assistant</strong></span> |<span class="strong"><strong> Request a Certificate From a Certificate Authority</strong></span>.<div class="mediaobject"><img src="graphics/1888_01_13.jpg" alt="Time for action—obtaining the iOS developer certificate"/></div></li><li class="listitem">In the<span class="strong"><strong> User Email Address</strong></span> field, type in the e-mail address you used when you registered as an iOS developer. For<span class="strong"><strong> Common Name</strong></span>, enter your name or team name. Make sure that the name entered matches the information that was submitted when you registered as an iOS developer. The<span class="strong"><strong> CA Email Address</strong></span> field does not need to be filled in so you can leave it blank. We are not e-mailing the certificate to a Certificate Authority (CA). Check<span class="strong"><strong> Saved to disk</strong></span> and<span class="strong"><strong> Let me specify key pair information</strong></span>. When you click<span class="strong"><strong> Continue</strong></span>, you will be asked to choose a save location. Save your file at a destination where you can locate it easily such as your desktop.<div class="mediaobject"><img src="graphics/1888_01_14.jpg" alt="Time for action—obtaining the iOS developer certificate"/></div></li><li class="listitem">In the following window, make sure that<span class="strong"><strong> 2048 bits</strong></span> is selected for the<span class="strong"><strong> Key Size</strong></span> and<span class="strong"><strong> RSA</strong></span> for the<span class="strong"><strong> Algorithm</strong></span>, and then click<span class="strong"><strong> Continue</strong></span>. This will generate the key and save it to the location you specified. Click<span class="strong"><strong> Done</strong></span> in the next window.<a id="id34" class="indexterm"/><div class="mediaobject"><img src="graphics/1888_01_15.jpg" alt="Time for action—obtaining the iOS developer certificate"/></div></li><li class="listitem">Next, go to the Apple Developer website:<a class="ulink" href="http://developer.apple.com/"> http://developer.apple.com/</a>, click on<span class="strong"><strong> iOS Dev Center</strong></span>, and log in to your developer account. Select the<span class="strong"><strong> iOS Provisioning Portal</strong></span> tab and navigate to<span class="strong"><strong> Certificates</strong></span> on the left-hand column. Click on the<span class="strong"><strong> Development</strong></span> tab if it's not already selected and then select the<span class="strong"><strong> Add Certificate</strong></span> button on the right side of the page.<a id="id35" class="indexterm"/><div class="mediaobject"><img src="graphics/1888_01_16.jpg" alt="Time for action—obtaining the iOS developer certificate"/></div></li><li class="listitem">Click on the<span class="strong"><strong> Choose File</strong></span> button, locate your certificate file that you saved to your desktop, and click on the<span class="strong"><strong> Submit</strong></span> button.<a id="id36" class="indexterm"/></li><li class="listitem">Upon pressing the<span class="strong"><strong> Submit</strong></span> button, you will get an e-mail notification you specified in the<span class="strong"><strong> Certificate Authority (CA)</strong></span> request form from Keychain Access. The person who created the certificate will receive this e-mail and can approve the request by pressing the<span class="strong"><strong> Approve</strong></span> button. You can download the certificate once it has been approved.<div class="mediaobject"><img src="graphics/1888_01_17.jpg" alt="Time for action—obtaining the iOS developer certificate"/></div></li><li class="listitem">Click on the<span class="strong"><strong> Download</strong></span> button and save the certificate to a location that is easy to find. Once this is completed, double-click on the file and you will see the following dialog:<a id="id37" class="indexterm"/><div class="mediaobject"><img src="graphics/1888_01_18.jpg" alt="Time for action—obtaining the iOS developer certificate"/></div></li><li class="listitem">Click<span class="strong"><strong> OK</strong></span>. This will install your iPhone Development Certificate in your Keychain.</li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec08"/>What just happened?</h2></div></div></div><p>We now have a valid certificate for iOS devices. The iOS Development Certificate is used for development purposes only and is valid for about a year. The key pair is made up of your public and private keys. The private key is what allows Xcode to sign iOS applications. Private keys are available only to the key-pair creator and are stored in the system keychain of the creator's machine. The following are other websites you can refer to to create valid certificates:<a id="id38" class="indexterm"/>
</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Building for devices on the Ansca website:<a class="ulink" href="http://developer.anscamobile.com/content/building-devices-iphoneipad"> http://developer.anscamobile.com/content/building-devices-iphoneipad</a></li><li class="listitem" style="list-style-type: disc">iPhone provisioning setup and App Store submission (created by an Ansca engineer):<a class="ulink" href="http://www.authorstream.com/Presentation/anscamobile-509082-iphone-provisioning-setup-and-app-store-submission/"> http://www.authorstream.com/Presentation/anscamobile-509082-iphone-provisioning-setup-and-app-store-submission/</a></li><li class="listitem" style="list-style-type: disc">The AppCode blog:<a class="ulink" href="http://www.theappcodeblog.com/2011/04/28/getting-an-apple-developer-certificate/"> http://www.theappcodeblog.com/2011/04/28/getting-an-apple-developer-certificate/</a></li></ul></div></div><div class="section" title="Adding iOS devices"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec09"/>Adding iOS devices</h2></div></div></div><p>You are allowed to assign up to 100 devices for development and testing purposes in the iPhone Developer program. To register a device, you will need the<span class="strong"><strong> Unique Device Identification (UDID)</strong></span> number. You can find this in iTunes and Xcode.<a id="id39" class="indexterm"/>
</p><div class="section" title="Xcode"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec01"/>Xcode</h3></div></div></div><p>To find out your device's UDID, connect your device to your Mac and open Xcode. In Xcode, navigate to the menu bar and select<span class="strong"><strong> Window</strong></span> and click on<span class="strong"><strong> Organizer</strong></span>. The 40 hex character string in the<span class="strong"><strong> Identifier</strong></span> field is your device's UDID. Once the<span class="strong"><strong> Organizer</strong></span> window is open, you should see the name of your device in the<span class="strong"><strong> Devices</strong></span> list on the left. Click on it and select the identifier with your mouse, copying it to the clipboard:<a id="id40" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1888_01_19.jpg" alt="Xcode"/></div><p>Usually when you connect a device to the<span class="strong"><strong> Organizer</strong></span> for the first time, you'll receive a button notification that says<span class="strong"><strong> Use for Development</strong></span>. Select it and Xcode will do most of the provisioning work for your device in the iOS Provisioning Portal.<a id="id41" class="indexterm"/>
</p></div><div class="section" title="iTunes"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec02"/>iTunes</h3></div></div></div><p>With your device connected, open<span class="strong"><strong> iTunes</strong></span> and click on your device in the device list. Select the<span class="strong"><strong> Summary</strong></span> tab. Click on the<span class="strong"><strong> Serial Number</strong></span> label to show the<span class="strong"><strong> Identifier</strong></span> field and the 40 character UDID. Press<span class="emphasis"><em> Command + C</em></span> to copy the UDID to your clipboard.<a id="id42" class="indexterm"/>
</p><div class="mediaobject"><img src="graphics/1888_01_20.jpg" alt="iTunes"/></div></div></div></div>
<div class="section" title="Time for action&#x2014;adding/registering your iOS device"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Time for action—adding/registering your iOS device</h1></div></div></div><p>To add a device to use for development/testing:<a id="id44" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Select<span class="strong"><strong> Devices</strong></span> in the iOS Provisioning Portal and click on<span class="strong"><strong> Add Devices</strong></span>.</li><li class="listitem">Create a name for your device in the<span class="strong"><strong> Device Name</strong></span> field and put your UDID in the<span class="strong"><strong> Device ID</strong></span> by pressing<span class="emphasis"><em> Command</em></span> +<span class="emphasis"><em> V</em></span> to paste the number you have saved on the clipboard.</li><li class="listitem">Click<span class="strong"><strong> Submit</strong></span> when you are done.<div class="mediaobject"><img src="graphics/1888_01_21.jpg" alt="Time for action—adding/registering your iOS device"/></div></li></ol></div></div>
<div class="section" title="Time for action&#x2014;creating an App ID"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Time for action—creating an App ID</h1></div></div></div><p>Now that you have added a device to the portal, you will need to create an<span class="strong"><strong> App ID</strong></span>. An App ID has a unique 10-character<span class="strong"><strong> Bundle Seed ID</strong></span> prefix generated by Apple and a<span class="strong"><strong> Bundle Identifier</strong></span> suffix that is created by the Team Admin in the Provisioning Portal. An App ID could look similar to the following example: <code class="literal">7R456G1254.com.companyname.YourApplication</code>. To create a new App ID follow these steps:<a id="id45" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Click on the<span class="strong"><strong> New App ID</strong></span> button in the<span class="strong"><strong> App ID</strong></span> section of the portal.<div class="mediaobject"><img src="graphics/1888_01_22.jpg" alt="Time for action—creating an App ID"/></div></li><li class="listitem">Fill out the<span class="strong"><strong> Description</strong></span> field with the name of your application.</li><li class="listitem">You are already assigned a Bundle Seed ID (also known as<span class="strong"><strong> Team ID)</strong></span>.</li><li class="listitem">In the<span class="strong"><strong> Bundle Identifier (App ID Suffix)</strong></span> field, specify a unique identifier for your app. It is up to you as to how you want to identify your app, but it is recommended that you use the reverse-domain style string, that is <code class="literal">com.domainname.appname</code>.<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note08"/>Note</h3><p>You can create a wildcard character in the<span class="strong"><strong> Bundle Identifier</strong></span> that you can share among a suite of applications using the same Keychain access. To do this, simply create a single App ID with an asterisk (*) at the end. You would place this in the field for the<span class="strong"><strong> Bundle Identifier</strong></span> either by itself or at the end of your string: <code class="literal">com.domainname.*</code>. More information on this topic can be found in the App IDs section of the iOS Provisioning Portal: <a class="ulink" href="https://developer.apple.com/ios/manage/bundles/howto.action">https://developer.apple.com/ios/manage/bundles/howto.action</a>.</p></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec10"/>What just happened?</h2></div></div></div><p>All UDIDs are unique on every device and we can locate them in Xcode and iTunes. When we added a device in the iOS Provisioning Portal we took the UDID, which consists of 40 hex characters and made sure we created a device name so we can identify what we're using for development.</p><p>We now have an App ID for applications we want to install on a device. An<span class="strong"><strong> App ID</strong></span> is a unique identifier that iOS uses to allow your application to connect to the Apple Push Notification service, share keychain data between applications, and communicate with external hardware accessories that you wish to pair your iOS application with.</p></div><div class="section" title="Provisioning Profiles"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec11"/>Provisioning Profiles</h2></div></div></div><p>A<span class="strong"><strong> Provisioning Profile</strong></span> is a collection of digital entities that uniquely ties developers and devices to an authorized iOS development team and enables a device to be used for testing. These profiles tie your devices to your development team for testing and distribution.<a id="id46" class="indexterm"/>
</p></div></div>
<div class="section" title="Time for action&#x2014;creating a Provisioning Profile"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Time for action—creating a Provisioning Profile</h1></div></div></div><p>To create a<span class="strong"><strong> Provisioning Profile</strong></span>, go to the<span class="strong"><strong> Provisioning</strong></span> section of the iOS Provisioning Portal and click<span class="strong"><strong> New Profile</strong></span> on the<span class="strong"><strong> Development</strong></span> tab.<a id="id47" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Enter a name for the Provisioning Profile. It could be the same name as your application.</li><li class="listitem">Check the box next to<span class="strong"><strong> Certificates</strong></span>.</li><li class="listitem">Select the<span class="strong"><strong> App ID</strong></span> that you created for your application in the pull-down menu.</li><li class="listitem">Check the devices you wish to authorize for this profile.</li><li class="listitem">Click on the<span class="strong"><strong> Submit</strong></span> button when you are done.<a id="id48" class="indexterm"/><div class="mediaobject"><img src="graphics/1888_01_23.jpg" alt="Time for action—creating a Provisioning Profile"/></div></li><li class="listitem">You will be returned to the<span class="strong"><strong> Development</strong></span> tab where the status will most likely say<span class="strong"><strong> Pending</strong></span>. Click<span class="strong"><strong> Refresh</strong></span> on your browser and it should show that your profile's status says<span class="strong"><strong> Active</strong></span>.</li><li class="listitem">Click the<span class="strong"><strong> Download</strong></span> button. While the file is downloading, launch Xcode if it's not already open and press<span class="emphasis"><em> Shift</em></span> +<span class="emphasis"><em> Command</em></span> +<span class="emphasis"><em> 2</em></span> on the keyboard to open<span class="strong"><strong> Organizer</strong></span>.</li><li class="listitem">Under<span class="strong"><strong> Library</strong></span>, select the<span class="strong"><strong> Provisioning Profiles</strong></span> section. Drag the downloaded <code class="literal">.mobileprovision</code> file to the<span class="strong"><strong> Organizer</strong></span> window. This will automatically copy the <code class="literal">.mobileprovision</code> file to the proper directory.<div class="mediaobject"><img src="graphics/1888_01_24.jpg" alt="Time for action—creating a Provisioning Profile"/></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>What just happened?</h2></div></div></div><p>Devices that have permission within the<span class="strong"><strong> Provisioning Profile</strong></span> can be used for testing as long as the certificates are included in the profile. One device can have multiple provisioning profiles installed.<a id="id49" class="indexterm"/>
</p></div><div class="section" title="Application icon"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>Application icon</h2></div></div></div><p>Currently our app has no icon image to display on the device. By default, if there is no icon image set for the application you will see a light gray box displayed along with your application name below it once the build has been loaded to your device. So launch your preferred creative developmental tool and let's create a simple image.<a id="id50" class="indexterm"/>
</p><p>The application icon for iPhone/iTouch should be a 57 x 57 PNG image file or 72 x 72 for iPad. The image should always be saved as <code class="literal">Icon.png</code> and must be located in your current project folder. For iPhone / iPod touch devices that support<span class="strong"><strong> Retina</strong></span> display, we need an additional high-resolution 114 x 114 icon named <code class="literal">Icon@2x.png</code>.</p><p>The contents of your current project folder will look like this:<a id="id51" class="indexterm"/>
</p><div class="informalexample"><pre class="programlisting">Hello World/ name of your project folder
Icon.png required for iPhone/iPod/iPad
Icon@2x.png required for iPhone/iPod with Retina display
main.lua
</pre></div><p>In order to distribute your app, the App Store requires a 512 x 512 pixel version of the icon. It is best to create your icon at a higher resolution first. Please refer to the<span class="strong"><strong> Apple iOS Human Interface Guidelines</strong></span> for the latest official App Store requirements:<a id="id52" class="indexterm"/>
</p><p>
<a class="ulink" href="http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/Introduction/Introduction.html">http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/mobilehig/Introduction/Introduction.html</a>
</p><p>Creating an application icon is a visual representation of your application name. You will be able to view the icon on your device once you compile a build together. The icon is also the image that launches your application.</p></div></div>
<div class="section" title="Creating the Hello World build for iOS"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Creating the Hello World build for iOS</h1></div></div></div><p>We are now set to build our Hello World application for our device. Since we have our provisioning profiles in place, the build process from here on is pretty simple. Make sure that you are connected to the Internet before creating a device build. You can build your application for testing in the<span class="strong"><strong> Xcode Simulator</strong></span> or on a device.<a id="id53" class="indexterm"/>
</p></div>
<div class="section" title="Time for action&#x2014;creating an iOS build"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec18"/>Time for action—creating an iOS build</h1></div></div></div><p>Follow these steps to creating a new iOS build in Corona SDK:<a id="id54" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Open the Corona Simulator and select<span class="strong"><strong> Simulator</strong></span>.</li><li class="listitem">Navigate to your Hello World application and select your <code class="literal">main.lua</code> file.</li><li class="listitem">Once the application is launched on the simulator, go to the Corona Simulator menu bar and select<span class="strong"><strong> File</strong></span> |<span class="strong"><strong> Build</strong></span> |<span class="strong"><strong> iOS</strong></span> or press<span class="emphasis"><em> Command</em></span> +<span class="emphasis"><em> B</em></span> on your keyboard. The following dialog box appears:<div class="mediaobject"><img src="graphics/1888_01_25.jpg" alt="Time for action—creating an iOS build"/></div></li><li class="listitem">Create a name for your app in the<span class="strong"><strong> Application Name</strong></span> field. We can keep the same name<span class="strong"><strong> Hello World</strong></span>. In the<span class="strong"><strong> Version</strong></span> field, keep the number at<span class="strong"><strong> 1.0</strong></span>. In order to test the app in the Xcode Simulator, select<span class="strong"><strong> Xcode Simulator</strong></span> from the<span class="strong"><strong> Build For</strong></span> drop-down menu. If you want to build for the device, choose<span class="strong"><strong> Device</strong></span> to build an app bundle. Next, select the target device (iPhone or iPad) from the<span class="strong"><strong> Supported Devices</strong></span> drop-down menu. Under the<span class="strong"><strong> Code Signing Identity</strong></span> drop-down menu, choose the provisioning file you created for the specified devices you are building for. It is the same name as the<span class="strong"><strong> Profile Name</strong></span> in the iOS Provisioning Portal on the Apple Developer website. In the<span class="strong"><strong> Save to folder</strong></span> section, click<span class="strong"><strong> Browse</strong></span> and choose where you would like your application to save in.<a id="id55" class="indexterm"/></li><li class="listitem">If all the information has been confirmed in the dialog box, click on the<span class="strong"><strong> Build</strong></span> button.<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip03"/>Tip</h3><p>It is more convenient to set your application to save on the <code class="literal">Desktop</code>; that way it is easy to find.</p></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>What just happened?</h2></div></div></div><p>Congratulations! You now have created your first iOS application file that can be uploaded to your device. As you start developing apps for distribution, you will want to create new versions of your application so you can keep track of the changes in every new build you make. All the information from your<span class="strong"><strong> Provisioning Profile</strong></span> was created in the iOS Provisioning Portal and applied to the build. Once Corona has finished compiling the build, the application should be located in your preferred folder you saved it under.<a id="id56" class="indexterm"/>
</p></div></div>
<div class="section" title="Time for action&#x2014;loading an app on your iOS device"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec19"/>Time for action—loading an app on your iOS device</h1></div></div></div><p>Select the Hello World build that you created and choose either of the following to load your app onto your iOS device. iTunes, Xcode, or the iPhone Configuration Utility can be used to transfer the application file.<a id="id57" class="indexterm"/>
</p><p>If using iTunes, drag your build into your iTunes library and then synch your device normally.</p><div class="mediaobject"><img src="graphics/1888_01_26.jpg" alt="Time for action—loading an app on your iOS device"/></div><p>Another way to install your app onto your device is to use Xcode since it provides a convenient method for installing iOS device applications.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">With the device connected, open Xcode's<span class="strong"><strong> Organizer</strong></span> from the menu bar,<span class="strong"><strong> Window</strong></span> |<span class="strong"><strong> Organizer</strong></span>, and navigate to your connected device under the<span class="strong"><strong> Devices</strong></span> list on the left.<a id="id58" class="indexterm"/></li><li class="listitem">If a proper connection is established, you will see a green indicator. If it is yellow after a couple minutes, try powering the device off and on again or disconnect the device and connect it again. This will usually establish a proper connection.<div class="mediaobject"><img src="graphics/1888_01_27.jpg" alt="Time for action—loading an app on your iOS device"/></div></li><li class="listitem">Simply drag your build file and drop it in the<span class="strong"><strong> Applications</strong></span> area of the<span class="strong"><strong> Organizer</strong></span> window and it will automatically install on your device.<p>Lastly, you can use the iPhone Configuration Utility that is available as a separate download from the Apple website under the <span class="strong"><strong>Support</strong></span> tab: <a class="ulink" href="http://www.apple.com/support/iphone/enterprise/">http://www.apple.com/support/iphone/enterprise/</a>. It allows you to manage your configuration profiles, track and install provisioning profiles and authorized applications, and capture device information including console logs.
</p></li><li class="listitem">Click on the<span class="strong"><strong> Download</strong></span> button and follow the directions on how to install the program.<a id="id59" class="indexterm"/><div class="mediaobject"><img src="graphics/1888_01_28.jpg" alt="Time for action—loading an app on your iOS device"/></div></li><li class="listitem">Make sure that your device is connected to your computer, launch the iPhone Configuration Utility, and then click the<span class="strong"><strong> Add</strong></span> button at the top left of the box. Navigate to your Hello World build on your desktop or wherever you saved it and then click<span class="strong"><strong> Open</strong></span>.<div class="mediaobject"><img src="graphics/1888_01_29.jpg" alt="Time for action—loading an app on your iOS device"/></div></li><li class="listitem">When your device is recognized, select your device under the<span class="strong"><strong> Devices</strong></span> section. You will see a list of applications that are currently installed or yet to be installed. Click on the<span class="strong"><strong> Install</strong></span> button next to your Hello World app you added to the utility.<a id="id60" class="indexterm"/><div class="mediaobject"><img src="graphics/1888_01_30.jpg" alt="Time for action—loading an app on your iOS device"/></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip04"/>Tip</h3><p>If you are testing the same version number of the same application repeatedly, make sure to delete the previous versions of your application from the device before a new install to remove any cached or associated data. Or use different version numbers in the build options.</p></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec15"/>What just happened?</h2></div></div></div><p>We just learned three different ways using iTunes, Xcode, and the iPhone Configuration Utility to load an application build to an iOS device.</p><p>Using iTunes provides a simple drag-and-drop feature into your<span class="strong"><strong> Library</strong></span> and then allows you to transfer the build as long as your device is synced up.</p><p>The Xcode method is probably the easiest and most common way to load a build to a device. As long as your device is connected properly and ready to use in the<span class="strong"><strong> Organizer</strong></span>, drag-and-drop the build to<span class="strong"><strong> Applications</strong></span> and it loads automatically.</p><p>Finally, the iPhone Configuration Utility is a step-by-step tool where you can easily differentiate which applications have been installed on your device. When you load your build within the main<span class="strong"><strong> Library</strong></span>, the<span class="strong"><strong> Devices</strong></span> area will pull up a list of applications you want to install or uninstall. After you locate your build, all you have to do is click the<span class="strong"><strong> Install</strong></span> button and the file is loaded.</p></div></div>
<div class="section" title="Testing our application on an Android device"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec20"/>Testing our application on an Android device</h1></div></div></div><p>Creating and testing our builds on an Android device does not require a developer account like how Apple does for iOS devices. The only tools you need to build for Android is a PC or Mac, Corona SDK, a JDK6 installation, and an Android device. If you plan on submitting an app to the Google Play Store, you'll need to sign up as an Google Play Developer at:<a class="ulink" href="http://play.google.com/apps/publish"> http://play.google.com/apps/publish</a>. There is a one-time $25 registration fee you have to pay if you want to publish software on the Google Play Store.<a id="id61" class="indexterm"/>
</p></div>
<div class="section" title="Creating the Hello World build for Android"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec21"/>Creating the Hello World build for Android</h1></div></div></div><p>Building our Hello World application is fairly simple since we do not have to create a unique<span class="strong"><strong> Keystore</strong></span> or<span class="strong"><strong> Key Alias</strong></span> for debug builds. When you're ready to submit an application to the Google Play Store, you'll need to create a release build and generate your own private key to sign your app. We'll discuss release builds and private keys in more detail later on in this book.<a id="id62" class="indexterm"/>
</p></div>
<div class="section" title="Time for action&#x2014;creating an Android build"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec22"/>Time for action—creating an Android build</h1></div></div></div><p>Follow these steps to create a new Android build in Corona SDK:<a id="id63" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Launch the Corona Simulator and select<span class="strong"><strong> Simulator</strong></span>.</li><li class="listitem">Navigate to your Hello World application and select your <code class="literal">main.lua</code> file.</li><li class="listitem">Once your application is running on the simulator, go to the<span class="strong"><strong> Corona Simulator</strong></span> menu bar and select<span class="strong"><strong> File</strong></span> |<span class="strong"><strong> Build For</strong></span> |<span class="strong"><strong> Android</strong></span> (Windows)/<span class="emphasis"><em>Shift + Command + B</em></span> on your keyboard (Mac). The following dialog box appears:<div class="mediaobject"><img src="graphics/1888_01_31.jpg" alt="Time for action—creating an Android build"/></div></li><li class="listitem">Create a name for your app in the<span class="strong"><strong> Application name</strong></span> field. We can keep the same name <code class="literal">Hello World</code>. In the<span class="strong"><strong> Version Code</strong></span> field, set the number to <code class="literal">1</code> if that is not already the default number. This specific field must always be an integer and is not visible to users. In the<span class="strong"><strong> Version Name</strong></span> field, keep the number at <code class="literal">1.0</code>. This attribute is the string shown to users. In the<span class="strong"><strong> Package</strong></span> field, you will need to specify a name that uses the traditional Java scheme, which is basically the reverse format of your domain name. For example, <code class="literal">com.mycompany.app.helloworld</code> would work as a package name. The<span class="strong"><strong> Project Path</strong></span> shows the location of where your project folder is.<span class="strong"><strong> Target OS Compatibility</strong></span> currently supports Android 2.2 and newer devices running the ArmV7 processor. In the<span class="strong"><strong> Keystore</strong></span> field, you will be signing your build with the <code class="literal">Debug</code> Keystore that is already provided in Corona. In the<span class="strong"><strong> Key Alias</strong></span> field, select <code class="literal">androiddebugkey</code> from the pull-down menu if it's not selected. In the<span class="strong"><strong> Save to folder</strong></span> section, click<span class="strong"><strong> Browse</strong></span> and choose where you'd like your application to save in.<a id="id64" class="indexterm"/></li><li class="listitem">If all the information has been confirmed in the dialog box, click on the<span class="strong"><strong> Build</strong></span> button.<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note09"/>Note</h3><p>For more information about Java package names, see the section on<span class="strong"><strong> Unique Package Names</strong></span> in the Java documentation at:<a class="ulink" href="http://java.sun.com/docs/books/jls/third_edition/html/packages.html#40169"> http://java.sun.com/docs/books/jls/third_edition/html/packages.html#40169</a>.</p></div></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec16"/>What just happened?</h2></div></div></div><p>You have created your very first Android build! See how simple that was? Since Corona SDK already provides the <code class="literal">Debug</code> Keystore and <code class="literal">androiddebugkey</code> Key Alias within the engine, most of the signing work is already done for you. The only requirement from you is to fill out the build information for your application and click on the<span class="strong"><strong> Build</strong></span> button to make a debug build. Your Hello World application will save as an <code class="literal">.apk</code> file at the location you designated. The file name will appear as <code class="literal">Hello World.apk</code>.<a id="id65" class="indexterm"/>
</p></div></div>
<div class="section" title="Time for action&#x2014;loading an app on your Android device"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec23"/>Time for action—loading an app on your Android device</h1></div></div></div><p>There are several ways to load your Hello World build to your Android device that don't require you to download the Android SDK. Here are some simple methods:<a id="id66" class="indexterm"/>
</p><p>The most fundamental method to upload an <code class="literal">.apk</code> file onto your device is to transfer it to the SD Card via the USB interface. If your device doesn't come with some kind of file manager application, a great one you can download from the Google Play Store is ASTRO File Manager at:<a class="ulink" href="http://https://play.google.com/store/apps/details?id=com.metago.astro"> https://play.google.com/store/apps/details?id=com.metago.astro</a>. There are many other installers like AppInstaller at:<a class="ulink" href="http://https://play.google.com/store/apps/details?id=com.funtrigger.appinstaller"> https://play.google.com/store/apps/details?id=com.funtrigger.appinstaller</a>. AppInstaller allows you to install <code class="literal">.apk</code> files from your SD card. You can always do a normal search for the preceding apps on the Google Play Store app on your device.<a id="id67" class="indexterm"/>
</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">Under your device's<span class="strong"><strong> Settings</strong></span>, select<span class="strong"><strong> Applications</strong></span> and then select<span class="strong"><strong> Development</strong></span>. Tap on<span class="strong"><strong> USB Debugging</strong></span> if the mode is not active.</li><li class="listitem">Go back a couple of screens to the<span class="strong"><strong> Applications</strong></span> section. Enable<span class="strong"><strong> Unknown Sources</strong></span> if it is not already active. This will allow you to install any non-market application (that is, debug builds). Select the home button on your device when done.</li><li class="listitem">Connect the device to your computer with a USB cable. You will see a new notification that a new drive has connected to your PC or Mac. Access the SD drive and create a new folder. Name the folder something that you can identify easily for your Android builds. Drag-and-drop your <code class="literal">Hello World.apk</code> file from the desktop to the folder.</li><li class="listitem">Eject the drive from your desktop and disconnect your device from the USB cable. Launch ASTRO File Manager or AppInstaller, whichever app you decided to download from the Google Play Store. In ASTRO, select<span class="strong"><strong> File Manager</strong></span>, search for the folder you added on your SD card and select it. In AppInstaller, search for your newly named folder and select it. In both apps, you will see your <code class="literal">Hello World.apk</code> file. Select the file and a prompt will appear asking you to install it. Select the<span class="strong"><strong> Install</strong></span> button and you should see your Hello World application appear in the<span class="strong"><strong> Apps</strong></span> folder of your device.<div class="mediaobject"><img src="graphics/1888_01_32.jpg" alt="Time for action—loading an app on your Android device"/></div><p>A convenient method is through Dropbox. You can create an account at: <a class="ulink" href="https://www.dropbox.com/">https://www.dropbox.com/</a>. Dropbox is a free service that lets you upload/download your files on your PC/Mac and mobile devices.
</p></li><li class="listitem">Download the Dropbox installer and install it on your computer. Also, download the mobile app from the Google Play Store (which is also free) on to your device and install it.<a id="id68" class="indexterm"/></li><li class="listitem">Log in to your Dropbox account on your computer and mobile device. From your computer, upload your <code class="literal">Hello World.apk</code> file.</li><li class="listitem">Once it has finished uploading, go to the Dropbox app on your device and select your <code class="literal">Hello World.apk</code> file. You will be greeted with a screen that will ask you if you want to install the application. Select the<span class="strong"><strong> Install</strong></span> button. Assuming that it installs correctly, another screen will appear saying<span class="strong"><strong> Application installed</strong></span> and you can launch your Hello World app by pressing the<span class="strong"><strong> Open</strong></span> button that is available.<p>One of the easiest methods is through Gmail. If you don't already have a Gmail account, create one at: <a class="ulink" href="https://mail.google.com/">https://mail.google.com/</a>.
</p></li><li class="listitem">Log in to your account, compose a new e-mail and attach your <code class="literal">Hello World.apk</code> file to the message.</li><li class="listitem">Address the recipient of the message to your own e-mail address and send it.</li><li class="listitem">On your Android device, make sure you have your e-mail account linked on there as well. As soon as you receive the message, open the e-mail, and you will be given the option to install the application to your device. There will be an<span class="strong"><strong> Install</strong></span> button or something similar displayed.<a id="id69" class="indexterm"/></li></ol></div><div class="section" title="What just happened?"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec17"/>What just happened?</h2></div></div></div><p>We just learned several ways on how to load a <code class="literal">.apk</code> file to an Android device. The preceding methods are some of the easiest ways to load an application quickly without running into any problems.</p><p>Using the file manager method allows you to access your <code class="literal">.apk</code> files easily without requiring any carrier data or Wi-Fi connection. By using a USB cable that is compatible with your device and connecting it to your computer, it's a simple drag-and-drop procedure.</p><p>The Dropbox method is the most convenient method of... once you have it set up on your computer and your mobile devices. All you have to do is drag-and-drop your <code class="literal">.apk</code> file to your account folder and it's instantly accessible to any device with the Dropbox app installed. You can also share your files through a download link—another great feature provided by Dropbox.</p><p>Setting up a Gmail account and sending your <code class="literal">.apk</code> files as attachments to yourself is a simple process if you don't want to download any file managers and other programs to your device and computer. The only thing you have to remember is that you can't e-mail an attachment over the size of 25 MB in Gmail.</p></div><div class="section" title="Pop quiz—understanding Corona"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec18"/>Pop quiz—understanding Corona</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">When using Corona, which of the following statements is true?<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">a. You need a <code class="literal">main.lua</code> file to launch your application.</li><li class="listitem" style="list-style-type: none">b. Corona SDK only runs on Mac OSX.</li><li class="listitem" style="list-style-type: none">c. The Corona Terminal doesn't launch the simulator.</li><li class="listitem" style="list-style-type: none">d. None of the above.</li></ul></div></li><li class="listitem">How many iOS devices can you use for development in the iPhone Developer Program?<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">a. 50.</li><li class="listitem" style="list-style-type: none">b. 75.</li><li class="listitem" style="list-style-type: none">c. 5.</li><li class="listitem" style="list-style-type: none">d. 100.</li></ul></div></li><li class="listitem">What does the Version Code have to be when building for Android in Corona SDK?<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none">a. A string.</li><li class="listitem" style="list-style-type: none">b. An integer.</li><li class="listitem" style="list-style-type: none">c. Has to follow the Java scheme format.</li><li class="listitem" style="list-style-type: none">d. None of the above.</li></ul></div></li></ol></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec24"/>Summary</h1></div></div></div><p>In this chapter, we covered some of the necessary tools needed to start developing applications for Corona SDK. Whether you are working on a Mac OS X or Microsoft Windows, you will notice the similarities on how to work on both operating systems and how simple it is to run Corona SDK.</p><p>To familiarize yourself with Corona better, try doing the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Take the time to look into the sample code provided by Corona to view the capabilities of the SDK</li><li class="listitem" style="list-style-type: disc">Feel free to alter any of the sample code to your liking to get a better understanding of programming in Lua</li><li class="listitem" style="list-style-type: disc">Whether you're working on iOS (if you're a registered Apple Developer) or Android, try installing any of the sample code to your device to see how the applications work outside the simulator environment</li><li class="listitem" style="list-style-type: disc">Take a look at the Ansca forums at<a class="ulink" href="http://developer.anscamobile.com/forum/"> http://developer.anscamobile.com/forum/</a> and browse through the latest discussions on Corona development by fellow Corona SDK developers and personnel</li></ul></div><p>Now that you understand the process of displaying objects in Corona, we'll be able to dive into other functions that will help create an operational mobile game.</p><p>In the next chapter, we'll be going into more depth on Lua programming language and learning simple coding techniques that are similar to the sample code in Corona. You will get a better understanding of the Lua syntax and notice how fast and easy it is to learn compared to other programming languages. So let's get started!</p></div></body></html>