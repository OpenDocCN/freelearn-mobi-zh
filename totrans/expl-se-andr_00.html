<html><head></head><body><div><div><div><div><h1 class="title"><a id="pref06"/>Preface</h1></div></div></div><p>This book introduces the Security Enhancements (SE) for Android open source project and walks you through the process of securing new embedded systems with SE for Android. To our knowledge, this book is the first source to document such a process in its entirety so that students, DIY hobbyists, and engineers can create custom systems secured by SE for Android. Generally, only original equipment manufacturers (OEMs) do this, and quite commonly, the target device is a phone or tablet. We truly hope our book will change that, engaging a wide audience in development so they can use and understand these modern security tools.</p><p>We worked very hard to ensure this text is not just a step-by-step technology book. Specifically, we've chosen a model that directs you to fail your way to success. You will first gain appropriate theoretical understanding of how security is gained and enforced. Then we will introduce a system that has never been secured that way (not even by us, prior to writing this book). Next, we'll guide you through all our intelligent guesswork, embracing unexpected failures for the newly found idiosyncrasies they expose, and eventually enforcing our custom security policies. It requires you to learn to resolve differences between major open source projects such as SELinux, SE for Android, and Google Android, each of which has independent goals and deployment schedules. This prepares you to secure other devices, the process for which is always different, but hopefully, will now be more accessible.</p><div><div><div><div><h1 class="title"><a id="ch00lvl1sec02"/>What this book covers</h1></div></div></div><p>
<a class="link" href="ch01.html" title="Chapter 1. Linux Access Controls">Chapter 1</a>, <em>Linux Access Controls</em>, discusses the basics of Discretionary Access Control (DAC), how some Android exploits leverage DAC problems, and demonstrate the need for more robust solutions.</p><p>
<a class="link" href="ch02.html" title="Chapter 2. Mandatory Access Controls and SELinux">Chapter 2</a>, <em>Mandatory Access Controls and SELinux</em>, examines Mandatory Access Control (MAC) and its manifestation in SELinux. This chapter also explores tangible policy to control SELinux object interaction.</p><p>
<a class="link" href="ch03.html" title="Chapter 3. Android Is Weird">Chapter 3</a>, <em>Android Is Weird</em>, introduces the Android security model and investigates binder, zygote, and the property service.</p><p>
<a class="link" href="ch04.html" title="Chapter 4. Installation on the UDOO">Chapter 4</a>, <em>Installation on the UDOO</em>, walks through building and deploying Android from source to the UDOO-embedded board and turns on SELinux support.</p><p>
<a class="link" href="ch05.html" title="Chapter 5. Booting the System">Chapter 5</a>, <em>Booting the System</em>, follows the boot process from the policy loading perspective and corrects issues to get SELinux to a usable state on the UDOO.</p><p>
<a class="link" href="ch06.html" title="Chapter 6. Exploring SELinuxFS">Chapter 6</a>, <em>Exploring SELinuxFS</em>, examines the SELinuxFS filesystem and how it provides the kernel-to-userspace interface for higher-level idioms.</p><p>
<a class="link" href="ch07.html" title="Chapter 7. Utilizing Audit Logs">Chapter 7</a>, <em>Utilizing Audit Logs</em>, investigates the audit subsystem, revealing how to interpret SELinux audit logs for the benefit of policy writing.</p><p>
<a class="link" href="ch08.html" title="Chapter 8. Applying Contexts to Files">Chapter 8</a>, <em>Applying Contexts to Files</em>, teaches you how filesystems and filesystem objects get their labels and contexts, demonstrating techniques to change them, including dynamic type transitions.</p><p>
<a class="link" href="ch09.html" title="Chapter 9. Adding Services to Domains">Chapter 9</a>, <em>Adding Services to Domains</em>, emphasizes process labeling, notably the Android services run and managed by init.</p><p>
<a class="link" href="ch10.html" title="Chapter 10. Placing Applications in Domains">Chapter 10</a>, <em>Placing Applications in Domains</em>, shows you how to properly label the private data directories of applications, as well as application runtime contexts via configuration files and SELinux policy.</p><p>
<a class="link" href="ch11.html" title="Chapter 11. Labeling Properties">Chapter 11</a>, <em>Labeling Properties</em>, demonstrates how to create and label new and existing properties, and some of the anomalies that occur when doing so.</p><p>
<a class="link" href="ch12.html" title="Chapter 12. Mastering the Tool Chain">Chapter 12</a>, <em>Mastering the Tool Chain</em>, covers how the various components that control policy on the device are actually built and created. This chapter reviews the Android.mk components, detailing how the heart of the build and configuration management works.</p><p>
<a class="link" href="ch13.html" title="Chapter 13. Getting to Enforcing Mode">Chapter 13</a>, <em>Getting to Enforcing Mode</em>, utilizes all the skills you learned in the earlier chapters to respond to audit logs from CTS and get the UDOO in enforcing mode.</p><p>
<a class="link" href="apa.html" title="Appendix A. The Development Environment">Appendix</a>, <em>The Development Environment</em>, walks you through the necessary steps of setting up a Linux environment suitable for you to follow all the activities in this book.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch00lvl1sec03"/>What you need for this book</h1></div></div></div><p>Hardware requirements include:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A UDOO-embedded development board</li><li class="listitem" style="list-style-type: disc">An 8 GB Mini SD card (while you can use a card with greater capacity, we do not recommended it)</li><li class="listitem" style="list-style-type: disc">A minimum of 16GB of RAM</li><li class="listitem" style="list-style-type: disc">At least 80 GB of free hard drive space</li></ul></div><p>Software requirements include:</p><div><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">An Ubuntu 12.04 LTS desktop system</li><li class="listitem" style="list-style-type: disc">Oracle JDK 6.0 version 6u45</li><li class="listitem" style="list-style-type: disc">Some additional miscellaneous Linux software is required, but these are described in the book and are available for free.</li></ul></div></div>
<div><div><div><div><h1 class="title"><a id="ch00lvl1sec04"/>Who this book is for</h1></div></div></div><p>This book is intended for developers and engineers who are somewhat familiar with operating system concepts as implemented by Linux. They could be hobbyists wanting to secure their Android-powered creations, OEM engineers building handsets, or engineers from emerging areas where Android is seeing growth. A basic background in C programming will be helpful.</p></div>
<div><div><div><div><h1 class="title"><a id="ch00lvl1sec05"/>Conventions</h1></div></div></div><p>In this book, you will find a number of text styles that distinguish between different kinds of information. Here are some examples of these styles and explanations of their meanings.</p><p>Code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "Now let's attempt to execute the <code class="literal">hello.txt</code> file and see what happens."</p><p>A block of code is set as follows:</p><div><pre class="programlisting">case INTERFACE_TRANSACTION:
{
reply.writeString(DESCRIPTOR);
return true;
}</pre></div><p>Any command-line input or output is written as follows:</p><div><pre class="programlisting">
<strong>$ su testuser</strong>
<strong>Password: </strong>
<strong>testuser@ubuntu:/home/bookuser$ </strong>
</pre></div><p>
<strong>New terms</strong> and <strong>important words</strong> are shown in bold. Words that you see on the screen, for example, in menus or dialog boxes, appear in the text like this: "Exit the configuration menus by selecting <strong>Exit</strong> until you are asked to save your new configuration."</p><div><div><h3 class="title"><a id="note01"/>Note</h3><p>Warnings or important notes appear in a box like this.</p></div></div><div><div><h3 class="title"><a id="tip01"/>Tip</h3><p>Tips and tricks appear like this.</p></div></div></div>
<div><div><div><div><h1 class="title"><a id="ch00lvl1sec06"/>Reader feedback</h1></div></div></div><p>Feedback from our readers is always welcome. Let us know what you think about this book—what you liked or disliked. Reader feedback is important for us as it helps us develop titles that you will really get the most out of.</p><p>To send us general feedback, simply e-mail <code class="email">&lt;<a class="email" href="mailto:feedback@packtpub.com">feedback@packtpub.com</a>&gt;</code>, and mention the book's title in the subject of your message.</p><p>If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, see our author guide at <a class="ulink" href="http://www.packtpub.com/authors">www.packtpub.com/authors</a>.</p></div>
<div><div><div><div><h1 class="title"><a id="ch00lvl1sec07"/>Customer support</h1></div></div></div><p>Now that you are the proud owner of a Packt book, we have a number of things to help you to get the most from your purchase.</p><div><div><div><div><h2 class="title"><a id="ch00lvl2sec03"/>Downloading the example code</h2></div></div></div><p>You can download the example code files from your account at <a class="ulink" href="http://www.packtpub.com">http://www.packtpub.com</a> for all the Packt Publishing books you have purchased. If you purchased this book elsewhere, you can visit <a class="ulink" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p></div><div><div><div><div><h2 class="title"><a id="ch00lvl2sec04"/>Errata</h2></div></div></div><p>Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you find a mistake in one of our books—maybe a mistake in the text or the code—we would be grateful if you could report this to us. By doing so, you can save other readers from frustration and help us improve subsequent versions of this book. If you find any errata, please report them by visiting <a class="ulink" href="http://www.packtpub.com/submit-errata">http://www.packtpub.com/submit-errata</a>, selecting your book, clicking on the <strong>Errata</strong> <strong>Submission</strong> <strong>Form</strong> link, and entering the details of your errata. Once your errata are verified, your submission will be accepted and the errata will be uploaded to our website or added to any list of existing errata under the Errata section of that title.</p><p>To view the previously submitted errata, go to <a class="ulink" href="https://www.packtpub.com/books/content/support">https://www.packtpub.com/books/content/support</a> and enter the name of the book in the search field. The required information will appear under the <strong>Errata</strong> section.</p></div><div><div><div><div><h2 class="title"><a id="ch00lvl2sec05"/>Piracy</h2></div></div></div><p>Piracy of copyrighted material on the Internet is an ongoing problem across all media. At Packt, we take the protection of our copyright and licenses very seriously. If you come across any illegal copies of our works in any form on the Internet, please provide us with the location address or website name immediately so that we can pursue a remedy.</p><p>Please contact us at <code class="email">&lt;<a class="email" href="mailto:copyright@packtpub.com">copyright@packtpub.com</a>&gt;</code> with a link to the suspected pirated material.</p><p>We appreciate your help in protecting our authors and our ability to bring you valuable content.</p></div><div><div><div><div><h2 class="title"><a id="ch00lvl2sec06"/>Questions</h2></div></div></div><p>If you have a problem with any aspect of this book, you can contact us at <code class="email">&lt;<a class="email" href="mailto:questions@packtpub.com">questions@packtpub.com</a>&gt;</code>, and we will do our best to address the problem.</p></div></div></body></html>