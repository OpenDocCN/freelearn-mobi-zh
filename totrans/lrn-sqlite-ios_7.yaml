- en: Chapter 7. iOS Development with PhoneGap and HTML5
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第7章：使用PhoneGap和HTML5进行iOS开发
- en: When PhoneGap was first introduced, Apple refused to accept apps created by
    PhoneGap as genuine, because they were not native, and were interpreted. But this
    has changed, partly because there are so many alternatives, partly because they
    were losing out on hundreds or thousands of apps to competitors, and partly because
    of the sheer ease of development compared to that of the past. These were the
    driving forces behind the change.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 当PhoneGap首次推出时，苹果公司拒绝接受由PhoneGap创建的应用程序作为真正的原生应用，因为它们不是原生的，而是被解释执行的。但这种情况已经改变，部分原因是因为有如此多的替代方案，部分原因是因为他们失去了数百或数千个应用程序给竞争对手，还有部分原因是因为与过去相比，开发过程本身更加简单。这些都是推动这一变化的力量。
- en: When code is written using PhoneGap with HTML5, you can deploy it on a certain
    target or platform, such as iOS or Android, or many versions are created by default,
    for the Apple App Store or the Android store, among others. This is the benefit
    of using a single code base, a newer and easier language such as HTML5, and a
    cross-platform development tool such as PhoneGap.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 当使用HTML5和PhoneGap编写代码时，您可以将它部署到特定的目标或平台，如iOS或Android，或者默认创建多个版本，用于苹果应用商店或安卓商店等。这是使用单一代码库、较新且更容易的语言（如HTML5）以及跨平台开发工具（如PhoneGap）的好处。
- en: In this chapter, we will look at how to use Xcode with PhoneGap to integrate
    and compile with source code including HTML5\. We will show you how to write code
    using SQLite and SQL statements and enter code directly into HTML5, which is then
    preprocessed by PhoneGap. We will cover all the aspects of creating a default
    Apple Xcode application from start to finish using the SQLite database for data
    storage, and using PhoneGap and HTML5 as a start.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将探讨如何使用Xcode与PhoneGap集成和编译源代码，包括HTML5。我们将向您展示如何使用SQLite和SQL语句编写代码，并将代码直接输入到HTML5中，然后由PhoneGap进行预处理。我们将涵盖从开始到结束创建默认的Apple
    Xcode应用程序的所有方面，使用SQLite数据库进行数据存储，并使用PhoneGap和HTML5作为起点。
- en: HTML5 and PhoneGap development
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: HTML5和PhoneGap开发
- en: Because it is easier to develop mobile and tablet apps using HTML5, PhoneGap,
    and generally, cross-development tools, there seems to be software snobbery, where
    some people think that HTML5 development is somewhat not as skilled as native
    development. There have been some very bad native developments built so far, but
    the same could apply to HTML5 or other mobile apps on the app stores.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 由于使用HTML5、PhoneGap以及通常的跨平台开发工具开发移动和平板电脑应用程序更加容易，因此似乎存在一种软件偏见，有些人认为HTML5开发不如原生开发技术娴熟。迄今为止，已经有一些非常糟糕的原生开发，但同样也可能适用于HTML5或其他应用商店中的移动应用程序。
- en: Using these modern cross-development tools is a good and quick way if you want
    to build prototypes from designs that give and show the look and feel, and show
    some functionality too. Cross-browser technology will not perform as quickly or
    efficiently as a native app and, as mentioned, it has a reputation for not being
    as real as native apps. With the growth of mobile technology, there has been a
    high growth of HTML5 apps available, because they are much faster to design, develop,
    and produce, compared to native apps.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想从提供外观和感觉以及展示一些功能的设计中构建原型，使用这些现代的跨平台开发工具是一个好方法，也是快速的方法。跨浏览器技术不会像原生应用那样快速或高效，正如之前提到的，它有一个声誉，即不如原生应用真实。随着移动技术的发展，HTML5应用程序的数量有了显著增长，因为与原生应用相比，它们的设计、开发和生产速度要快得多。
- en: There are pitfalls for those web developers who think that they can just put
    an app together for mobiles to produce something comparable to a desktop. Well,
    they are wrong. Anyone who builds a mobile app for iOS, for example, must read
    their human guidelines document, which will outline how to actually take into
    consideration the user experience, the way to design buttons and journeys, and
    how best to build something that fits in the iOS ecosystem. Google/Android has
    fewer checks, but as their app store grows, I am sure there will be more or different
    types of controls enforced.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 对于那些认为他们可以为移动设备制作应用程序以产生与桌面相当的东西的网页开发者来说，有一些陷阱。好吧，他们是错的。任何为iOS构建移动应用程序的人，例如，都必须阅读他们的人类指南文档，该文档将概述如何真正考虑用户体验、设计按钮和旅程的方式，以及如何最好地构建适合iOS生态系统的产品。Google/Android的检查较少，但随着他们的应用商店的增长，我相信将会有更多或不同类型的控制措施被实施。
- en: Web developers must understand the limitations of their destination devices
    for these apps. Mobiles, including smartphones, actually don't have the processing
    power of a desktop, and web developers must be aware of how programming principles
    can be applied within these types of developments.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 网络开发者必须了解这些应用的目标设备的限制。实际上，包括智能手机在内的移动设备并没有桌面那样的处理能力，网络开发者必须意识到编程原则如何在这些类型的发展中应用。
- en: It is great to try new software technology; if you have an idea, then try to
    create, test it, and submit your app to the App Store. But if you take some person
    and get them to try to create a native app, they have to learn a whole new language
    and way of doing things. It's going to take a lot longer until they are even able
    to produce a working mobile app, but by that time they will have quite a bit of
    experience. There are applications that have a mixed mode of native code, combined
    with cross-development code such as HTML5\. In practice, although these work,
    there are huge pitfalls in performance and they are limited as well.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试新的软件技术是非常棒的；如果你有一个想法，那么尝试去创造、测试它，并将你的应用提交到App Store。但如果你让某个人尝试创建一个原生应用，他们必须学习一门全新的语言和做事方式。直到他们能够制作出一个可工作的移动应用，这个过程可能会花费更长的时间，但到那时他们将会积累相当多的经验。有些应用采用了混合模式的原生代码，结合了跨平台开发代码，例如HTML5。在实践中，尽管这些应用可以工作，但在性能方面存在巨大的陷阱，并且它们的局限性也很大。
- en: There are advantages to building and using native apps and applications for
    specific mobile devices or operating systems, which are usually installed on your
    phone via an app store. These benefits include speed of development, the same
    app across the product range, one set of code, and a change queue for the app.
    Native is the best way to code ideally, but if you have web skills and you don't
    want to learn a new programming language, and you want to create an HTML5 app,
    using PhoneGap delivered on iOS, Android, or Windows may be an alternate way of
    using your skills.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 构建和使用针对特定移动设备或操作系统的原生应用和应用程序有其优势，这些通常通过应用商店安装到你的手机上。这些好处包括开发速度、跨产品线的相同应用、一套代码以及应用的变更队列。理想情况下，原生是编码的最佳方式，但如果你有网络技能，不想学习新的编程语言，并且想创建一个HTML5应用，使用在iOS、Android或Windows上提供的PhoneGap可能是一个使用你技能的替代方式。
- en: With advances in HTML5 and PhoneGap API options, there are many new functions,
    including those of camera manipulation, for example, which can be done via some
    basic commands. With a good designer, a decent app using HTML5 can be made quite
    quickly and economically.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 随着HTML5和PhoneGap API选项的进步，有许多新的功能，包括相机操作等，这些可以通过一些基本命令来完成。有了好的设计师，使用HTML5可以快速且经济地制作出相当不错的应用。
- en: Mobile developers need to be educated on performance deliverables to build apps,
    which are skills they can use again and again. The benefits will be used on all
    the apps they produce.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 移动开发者需要接受教育，了解性能交付成果以构建应用，这些是他们可以反复使用的技能。这些好处将应用于他们生产的所有应用。
- en: 'The advantages of a mobile app surpass the straightforward usage of a mobile
    website. Some advantages are listed here:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 移动应用的优势超过了移动网站的直接使用。以下列出了一些优势：
- en: A variety of programming languages such as Swift, Objective-C (iOS), Java (Android),
    or C# (Windows Phone) can be used to deliver the end app, for example
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以使用多种编程语言来交付最终应用，例如Swift、Objective-C（iOS）、Java（Android）或C#（Windows Phone）。
- en: All the "controls" and the API are native in design and development, and are
    interrogated and approved by the app stores from Apple, Google, or Windows
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 所有“控件”和API在设计和发展上都是原生的，并且由苹果、谷歌或Windows的应用商店进行询问和批准。
- en: The other benefit of using native is that there is no reliance on any outside
    technology for it to work, and there is the possibility of working offline if
    required
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用原生的另一个好处是，它不依赖于任何外部技术来工作，如果需要，还有离线工作的可能性。
- en: The mobile web application by definition would have less access to the low-level
    functionalities of a device and system calls. Due to enhanced development of the
    APIs and higher-level languages such as HTML5, CSS, or JavaScript, this is changing
    through software updates and upgrades. By using the mobile web/app solutions for
    mobile sites, app store approval is not required, and by ensuring proper code
    design, the same application can work with a variety of devices and device sizes,
    and different mobile or desktop operating systems or browsers. Information is
    served to the app, and there are no offline facilities, unlike native.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 根据定义，移动Web应用将无法访问设备和系统的底层功能。由于API和HTML5、CSS或JavaScript等高级语言的增强开发，这种情况正在通过软件更新和升级而改变。通过使用移动Web/应用解决方案为移动站点，不需要应用商店的批准，并通过确保适当的代码设计，同一个应用可以在各种设备和设备尺寸以及不同的移动或桌面操作系统或浏览器上运行。信息被提供给应用，并且没有离线功能，与原生应用不同。
- en: HTML5 is praised as easy, unlike the native facilities offered by native code.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5因其易于使用而受到赞誉，与原生代码提供的原生设施相比。
- en: An HTML5 framework
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: HTML5框架
- en: Functionality, like memory allocation and usage, animations, and a variety of
    other options, will define what a good HTML5 framework is. This framework does
    offer good access to mobile phone devices, such as the camera, or some other internal
    information that only a native app could previously access. These factors go far
    in deciding the type of framework to use.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 功能，如内存分配和利用、动画以及各种其他选项，将定义一个好的HTML5框架是什么。这个框架确实提供了对手机设备（如摄像头或一些其他只有原生应用才能访问的内部信息）的良好访问。这些因素在很大程度上决定了要使用的框架类型。
- en: Just because some frameworks or JavaScript libraries are popular in one area
    does not necessarily mean they are not required in another. For example, the jQuery
    JavaScript framework is very popular due to many programmers having used it in
    the past for large or small projects.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 只是因为某些框架或JavaScript库在一个领域很受欢迎，并不意味着它们在另一个领域就不需要。例如，jQuery JavaScript框架因其被许多程序员在过去的大型或小型项目中使用而非常流行。
- en: It will be difficult for an end user to distinguish native and HTML5 development
    when the app is running. However, the way it is installed will determine whether
    it is a web or native app. Not that it matters to the end user, but users expect
    a great look and feel, richness in technology, easy and quick navigation, and
    that the app actually solves their issue, which is the functionality of the application
    in the first place.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 当应用运行时，最终用户很难区分原生和HTML5开发。然而，安装方式将决定它是一个Web应用还是原生应用。虽然对最终用户来说这并不重要，但用户期望有一个出色的外观和感觉、技术丰富性、易于快速导航，以及应用实际上解决了他们的问题，这是应用的首要功能。
- en: Hybrid applications
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 混合应用
- en: There are some misconceptions about the use of hybrid HTML5 apps. Users think
    that hybrid applications cannot store offline data in a database such as SQLite.
    Hybrid apps can work online and offline. They do not need to be connected all
    the time for it to work. PhoneGap with HTML5 gives more facilities, functionalities,
    and options.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 关于混合HTML5应用的使用存在一些误解。用户认为混合应用无法在SQLite等数据库中存储离线数据。混合应用可以在在线和离线状态下工作。它们不需要始终连接才能工作。带有HTML5的PhoneGap提供了更多的设施、功能和选项。
- en: The standard storage mechanism for HTML5 apps is the local storage on the device
    itself, that is, the database used is SQLite. If you are not connected online,
    data can be stored locally. Once the database is connected, it will upload data
    from the local database.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: HTML5应用的标准存储机制是设备本地的本地存储，即使用的数据库是SQLite。如果你没有连接到网络，数据可以本地存储。一旦数据库连接，它将从本地数据库上传数据。
- en: A common thought is that HTML5 is out of its league when it comes to native.
    However, today, in-app purchases, Game Centre, executing background tasks, accessing
    the GPS and the camera, and even Bluetooth, can be accessed via HTML5\. PhoneGap
    is used where a native wrapper is required for an HTML5 app. There are some differences
    in the way native and hybrid/cross-development apps work, like PhoneGap compared
    to Objective-C. Hybrid/HTML5 apps are slower, and although the functionality of
    HTML5 has increased, it does not match native yet.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 一种常见的观点是，HTML5在原生方面并不占优势。然而，今天，通过HTML5可以访问应用内购买、游戏中心、执行后台任务、访问GPS和摄像头，甚至蓝牙。当需要为HTML5应用提供原生包装时，会使用PhoneGap。原生和混合/跨平台开发应用的工作方式有一些不同，比如与Objective-C相比。混合/HTML5应用运行较慢，尽管HTML5的功能有所增加，但仍然无法与原生相媲美。
- en: An Xcode project with PhoneGap, HTML5, and Swift
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 包含 PhoneGap、HTML5 和 Swift 的 Xcode 项目
- en: Before we start to do anything, you have to start by building the environment
    and the software tools, and making some minor configurations to get everything
    ready. The app itself will be simple, and outline the process of creating an app
    for PhoneGap and HTML5.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始做任何事情之前，你必须首先构建环境和软件工具，并对一些小配置进行一些小的调整，以便一切准备就绪。应用程序本身将是简单的，概述了为 PhoneGap
    和 HTML5 创建应用程序的过程。
- en: You need to download the Xcode software to get the project working.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要下载 Xcode 软件，以便使项目工作。
- en: 'For Apple users, the Xcode command-line tool, and the Apache Cordova product
    can be downloaded from: [https://itunes.apple.com/us/app/xcode/id497799835?mt=12](https://itunes.apple.com/us/app/xcode/id497799835?mt=12).'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 对于苹果用户，可以从以下位置下载 Xcode 命令行工具和 Apache Cordova 产品：[https://itunes.apple.com/us/app/xcode/id497799835?mt=12](https://itunes.apple.com/us/app/xcode/id497799835?mt=12)。
- en: To get the command-lines tools for Xcode and other components, download them
    from [https://developer.apple.com/downloads/index.action](https://developer.apple.com/downloads/index.action).
    You need to be a registered as an Apple developer to be able to download any extra
    components. A second and easier method for PhoneGap is to just download the software
    from the site and install it, as opposed to using the older, command-line way.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 要获取 Xcode 和其他组件的命令行工具，请从 [https://developer.apple.com/downloads/index.action](https://developer.apple.com/downloads/index.action)
    下载。你需要注册为苹果开发者，才能下载任何额外的组件。对于 PhoneGap 的第二种方法更简单，只需从网站下载软件并安装它，而不是使用较旧的命令行方式。
- en: 'The following screenshot shows you Xcode in the iTunes Store:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了 iTunes Store 中的 Xcode：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_01.jpg)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![一个包含 PhoneGap、HTML5 和 Swift 的 Xcode 项目](img/4725_07_01.jpg)'
- en: 'The next screenshot shows the software available for a developer when you log
    in through an Apple Developer account. Only the command-line Xcode tools are required.
    It also shows you the command-line tools that can be downloaded and installed:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个截图显示了通过 Apple 开发者账户登录时开发者可用的软件。只需要命令行 Xcode 工具。它还展示了可以下载和安装的命令行工具：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_02.jpg)'
  id: totrans-35
  prefs: []
  type: TYPE_IMG
  zh: '![一个包含 PhoneGap、HTML5 和 Swift 的 Xcode 项目](img/4725_07_02.jpg)'
- en: 'The next part of the process is to download the Cordova module of the software,
    as shown in the software in the following screenshot. This is the location of
    the latest Apache/Cordova release. PhoneGap was acquired by Adobe in 2011, and
    the project itself was donated to the **Apache Software Foundation** (**ASF**).
    There are two ways of using PhoneGap. One is its cloud-based service to build
    apps and the second is the local/manual version to build and package apps the
    PhoneGap CLI way. We will be using the PhoneGap CLI way in our first setup, as
    follows:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个步骤是下载软件的 Cordova 模块，如下一个截图所示。这是最新 Apache/Cordova 版本的存放位置。PhoneGap 在 2011
    年被 Adobe 收购，该项目本身被捐赠给了 **Apache 软件基金会**（**ASF**）。使用 PhoneGap 有两种方式。一种是通过其基于云的服务来构建应用程序，另一种是通过
    PhoneGap CLI 方式本地/手动构建和打包应用程序。在我们的第一个设置中，我们将使用 PhoneGap CLI 方式，如下所示：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_03.jpg)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
  zh: '![一个包含 PhoneGap、HTML5 和 Swift 的 Xcode 项目](img/4725_07_03.jpg)'
- en: 'Download the Cordova software to the `Downloads` folder, unpack it, and within
    the `cordova-ios` directory, you''ll find all the necessary components to use
    PhoneGap/Cordova with Xcode to create a simple app. The following screenshot shows
    the directory structure for the Cordova/PhoneGap system. As you can see, PhoneGap
    supports a variety of technologies and cross-platforms:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 将 Cordova 软件下载到 `下载` 文件夹，解压它，然后在 `cordova-ios` 目录中，你可以找到使用 PhoneGap/Cordova
    与 Xcode 创建简单应用程序所需的所有必要组件。以下截图显示了 Cordova/PhoneGap 系统的目录结构。正如你所见，PhoneGap 支持各种技术和跨平台：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_04.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![一个包含 PhoneGap、HTML5 和 Swift 的 Xcode 项目](img/4725_07_04.jpg)'
- en: 'To proceed, we need to invoke the **Terminal** app. Initially, on your OS X
    machine, click on **Applications** | **Utilities**, and then click on the **Terminal**
    application, as shown in the following image:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 要继续，我们需要调用 **终端** 应用程序。最初，在你的 OS X 机器上，点击 **应用程序** | **实用工具**，然后点击 **终端** 应用程序，如下图所示：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_05.jpg)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![一个包含 PhoneGap、HTML5 和 Swift 的 Xcode 项目](img/4725_07_05.jpg)'
- en: 'Once you click on the image, the following window for the **Terminal** app
    can be seen. It will allow you to carry on with the process of setting up the
    environment and required components. This is where you can carry out the necessary
    commands to install it:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦点击图片，就可以看到**终端**应用程序的以下窗口。它将允许你继续设置环境和所需组件的过程。这是你可以执行安装所需命令的地方：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_06.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![包含PhoneGap、HTML5和Swift的Xcode项目](img/4725_07_06.jpg)'
- en: 'Click on the **Applications** icon on the toolbar at the bottom of the screen,
    then click on the **Utilities** folder, then click on the **Terminal** icon, as
    shown in the following screenshot:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 点击屏幕底部的工具栏上的**应用程序**图标，然后点击**实用工具**文件夹，接着点击**终端**图标，如下面的截图所示：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_07.jpg)'
  id: totrans-45
  prefs: []
  type: TYPE_IMG
  zh: '![包含PhoneGap、HTML5和Swift的Xcode项目](img/4725_07_07.jpg)'
- en: 'After selecting the **Applications** icon, click on the **Utilities** folder:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择**应用程序**图标后，点击**实用工具**文件夹：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_08.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![包含PhoneGap、HTML5和Swift的Xcode项目](img/4725_07_08.jpg)'
- en: 'Once the **Terminal** window is clicked, the following window is displayed:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦点击了**终端**窗口，将显示以下窗口：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_09.jpg)'
  id: totrans-49
  prefs: []
  type: TYPE_IMG
  zh: '![包含PhoneGap、HTML5和Swift的Xcode项目](img/4725_07_09.jpg)'
- en: 'Once you''re in this directory, perform the following commands: the first one
    is to create a project, and the second one is to create a directory with your
    app name:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你进入这个目录，执行以下命令：第一个是创建一个项目，第二个是创建一个以你的应用名称命名的目录：
- en: '[PRE0]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'A package for the `Hello` program has now been created using Cordova. Before
    you start to build any projects, the system needs to know which platforms to target,
    for example, Android, iOS, or Windows. Cordova now has the iOS platform added
    to it, as shown in the following code:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Cordova已经创建了一个`Hello`程序的包。在开始构建任何项目之前，系统需要知道要针对哪些平台，例如，Android、iOS或Windows。Cordova现在已添加iOS平台，如下面的代码所示：
- en: '[PRE1]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Once a platform is added, performing the following command will outline the
    platforms your application can work on:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦添加了平台，执行以下命令将列出应用程序可以工作的平台：
- en: '[PRE2]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Within the `Hello` application, perform a directory listing with `ls-l` and
    you will see a variety of directories, such as `platforms`. Set the `platforms`
    directory as the default. Then perform an `ls-l` listing to see a variety of directories,
    including the `HelloWorld.xcodeproj` file.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在`Hello`应用程序中，使用`ls-l`进行目录列表，你会看到各种目录，例如`platforms`。将`platforms`目录设置为默认目录。然后执行`ls-l`列表，你会看到包括`HelloWorld.xcodeproj`文件在内的各种目录。
- en: Once you open the `Hello.xcodeproj` file, Xcode will wake up and you will see
    the project name. You can enter a company identifier as well. See the following
    screenshot.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦打开`Hello.xcodeproj`文件，Xcode将唤醒，你会看到项目名称。你还可以输入一个公司标识符。请参见以下截图。
- en: 'You will be prompted for a simulator phone to be selected upon execution. Select
    **iOS simulator for iPhone 6.0**. Next, select the simulator and click on the
    **Run** button to compile, link, build, and execute the simple application. You
    will be presented with the Cordova image, as shown in the following screenshot,
    and the `Hello` app will then be displayed:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 执行时，将提示选择一个模拟器手机。选择**iPhone 6.0的iOS模拟器**。接下来，选择模拟器并点击**运行**按钮来编译、链接、构建和执行简单应用程序。你将看到Cordova的图像，如下面的截图所示，然后`Hello`应用将被显示出来：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_010.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![包含PhoneGap、HTML5和Swift的Xcode项目](img/4725_07_010.jpg)'
- en: At this stage, you have set up an Xcode project with Cordova or PhoneGap and
    some basic code. Now it is time to add some HTML5 code into the mix to show how
    both aspects of PhoneGap/iOS and SQLite work together.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个阶段，你已经使用Cordova或PhoneGap设置了一个Xcode项目并编写了一些基本代码。现在，是时候添加一些HTML5代码来展示PhoneGap/iOS和SQLite如何协同工作了。
- en: In addition to the method used previously to install Cordova, the easiest way
    is to download and install PhoneGap directly, without going through the command-line
    method. Click on the **Download** button on the PhoneGap download page at [http://phonegap.com/download](http://phonegap.com/download).
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 除了之前使用的安装Cordova的方法之外，最简单的方法是直接下载并安装PhoneGap，而不需要通过命令行方法。点击[http://phonegap.com/download](http://phonegap.com/download)下载页面的**下载**按钮。
- en: 'The process may alter for some of its versions, but will usually be the same
    for most of them. Next, the `.zip` file is downloaded, so open it up and extract
    the files to a directory. Then install the PhoneGap program, which will deliver
    the interface, and once this step is complete, create an Xcode project, as shown
    in the following screenshot. Since you have done this before, doing it this way
    is even easier:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_011.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
- en: When you've performed the preceding task, like with previous installations,
    an extra icon for PhoneGap will appear. Since you have installed the components
    required for Xcode and PhoneGap to work together, you are now ready to start developing.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: 'The following screenshot shows how to select the PhoneGap app type:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_012.jpg)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
- en: 'When creating a Cordova application, you must select the Cordova-based application
    template, as shown in the following screenshot:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_013.jpg)'
  id: totrans-68
  prefs: []
  type: TYPE_IMG
- en: 'Next, choose the project name for this project—enter `Hello`:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_014.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
- en: The next field is for a company identifier ID. Like before, please add a unique
    identifier, which is usually the reverse of the domain name.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: 'This is a standard way to install the PhoneGap framework with Xcode. In your
    browser, go to [https://nodejs.org/](https://nodejs.org/) and press the **Install**
    button to download the JavaScript library called `node.js`. Finally, enter the
    admin/username and password details to install the software locally:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_015.jpg)'
  id: totrans-73
  prefs: []
  type: TYPE_IMG
- en: 'Your successful installation message will be as follows:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_016.jpg)'
  id: totrans-75
  prefs: []
  type: TYPE_IMG
- en: 'Once it is installed, follow these steps:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
- en: 'Open up a terminal application and type in the following command:'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE3]'
  id: totrans-78
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Enter the password for root as well to perform the actual installation. Once
    this is done, you can use the PhoneGap command and prompt it for some help or
    assistance.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The following is a screenshot of the PhoneGap program installing the software
    using the preceding command:![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_017.jpg)
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, to actually set up your application, please perform the following commands.
    First position and set the default to the right directory within the terminal
    application program.
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Run the `$ phonegap create Hello` command. (`Hello` is your app's name.) Next,
    set the default to the application directory in which you just created your PhoneGap
    app.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The following screenshot shows the local directory and the creation of a new
    Cordova project called `Hello`. A new project has been created with all the necessary
    components for this new test app:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_018.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
- en: 'Next, at the prompt, perform the following command to run the application in
    iOS. Run the `$ phonegap run ios` command. If you run the iOS project from anywhere,
    the following error will be displayed. But if you set the default to the right
    directory (`Hello`), then it will work:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，在提示符下，执行以下命令以在 iOS 中运行应用程序。运行 `$ phonegap run ios` 命令。如果您从任何地方运行 iOS 项目，将显示以下错误。但如果您将默认目录设置为正确的目录（`Hello`），则它将工作：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_019.jpg)'
  id: totrans-86
  prefs: []
  type: TYPE_IMG
  zh: '![带有 PhoneGap、HTML5 和 Swift 的 Xcode 项目](img/4725_07_019.jpg)'
- en: In the next code, you can see the call to PhoneGap to get the app working. The
    process has been made much smoother, to operate and work for the benefit of creating
    apps.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一段代码中，你可以看到调用 PhoneGap 以使应用程序工作。这个过程已经变得更加顺畅，以便操作和工作，以利于创建应用程序。
- en: Next, we will add some HTML5 to the source code:![An Xcode project with PhoneGap,
    HTML5, and Swift](img/4725_07_020.jpg)
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们将向源代码中添加一些 HTML5 代码：![带有 PhoneGap、HTML5 和 Swift 的 Xcode 项目](img/4725_07_020.jpg)
- en: Once the new Hello basic application has been compiled and built, the following
    image will appear, showing the Cordova system. This is very important, and it
    is key to know that PhoneGap and its Cordova components are registered and working
    as intended:![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_21.jpg)
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦新的 Hello 基本应用程序编译和构建完成，就会出现以下图像，显示 Cordova 系统。这一点非常重要，关键是要知道 PhoneGap 及其 Cordova
    组件已注册并按预期工作：![带有 PhoneGap、HTML5 和 Swift 的 Xcode 项目](img/4725_07_21.jpg)
- en: We can now develop this app further by adding some SQLite and HTML5 code. It
    is very important to get the base of the product set up, tested, and ready for
    further development:![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_22.jpg)
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们现在可以通过添加一些 SQLite 和 HTML5 代码来进一步开发此应用程序。将产品的基础设置好、测试好并准备好进一步开发非常重要：![带有 PhoneGap、HTML5
    和 Swift 的 Xcode 项目](img/4725_07_22.jpg)
- en: Note
  id: totrans-91
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Further information about PhoneGap can be found at [docs.phonegap.com](http://docs.phonegap.com).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 更多关于 PhoneGap 的信息可以在[docs.phonegap.com](http://docs.phonegap.com)找到。
- en: 'To open the code base using the Xcode project file (`Hello World.xcodeproj`),
    follow these steps:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Xcode 项目文件（`Hello World.xcodeproj`）打开代码库，请按照以下步骤操作：
- en: Click on the file in the **Hello Directory** | **Platforms** | **iOS**, which
    will then bring up the Xcode, code, and source files.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击**Hello 目录** | **平台** | **iOS**中的文件，这将打开 Xcode、代码和源文件。
- en: The following is a screenshot of the Xcode source file area for our test application.
    In order to add the SQLite library to your project, click on the **Build Phases**
    tab, then select the **Link Binary with Libraries** menu option and add one of
    the following libraries from `libsqlite3.dylib` or `libsqlite3.0.dylib`:![An Xcode
    project with PhoneGap, HTML5, and Swift](img/4725_07_23.jpg)
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下是我们测试应用程序的 Xcode 源文件区域的截图。为了将 SQLite 库添加到您的项目中，请单击**构建阶段**选项卡，然后选择**链接二进制与库**菜单选项，并从`libsqlite3.dylib`或`libsqlite3.0.dylib`中选择以下库之一：![带有
    PhoneGap、HTML5 和 Swift 的 Xcode 项目](img/4725_07_23.jpg)
- en: 'Next, open the `Hello` Xcode project file as shown in the following screenshot.
    Within the structure, expand the Xcode project to reveal the HTML file within.
    Then add some of the following HTML5 code into the `.html` file, and compile,
    and run it:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，打开以下截图所示的“Hello”Xcode 项目文件。在结构中，展开 Xcode 项目以显示其中的 HTML 文件。然后，将以下 HTML5 代码添加到`.html`文件中，编译并运行它：
- en: '![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_24.jpg)'
  id: totrans-97
  prefs: []
  type: TYPE_IMG
  zh: '![带有 PhoneGap、HTML5 和 Swift 的 Xcode 项目](img/4725_07_24.jpg)'
- en: Add the following HTML5 code, which will perform some simple SQLite statements.
    It will take a couple of input numbers; check for the existence of a local database/local
    tables, create necessary tables, store the data, and retrieve it. This code will
    be part of Xcode; use Cordova/PhoneGap to compile the source code, and execute
    the results to run the mobile app. Once you enter the code into the `index.html`
    file within the `Hello` app, save the file, and quit Xcode.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 添加以下 HTML5 代码，它将执行一些简单的 SQLite 语句。它将接受几个输入数字；检查本地数据库/本地表的存在，创建必要的表，存储数据，并检索它。此代码将成为
    Xcode 的一部分；使用 Cordova/PhoneGap 编译源代码，并执行结果以运行移动应用程序。一旦你将代码输入到“Hello”应用程序中的“index.html”文件，保存文件，并退出
    Xcode。
- en: 'This is a simple HTML5 app, which creates a database called `testdb`. It checks
    to see whether the `BLOGS` table is created. If not, then it will create the `BLOGS`
    table, enter two records for blog information, and display the data on the screen.
    You can see the following code and results:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个简单的HTML5应用程序，它创建了一个名为`testdb`的数据库。它检查`BLOGS`表是否已创建。如果没有，它将创建`BLOGS`表，为博客信息输入两个记录，并在屏幕上显示数据。你可以看到以下代码和结果：
- en: '[PRE4]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Click on the **Terminal** app, and within the **Terminal** app, set the default
    to the `Hello` app directory, as shown in the following code:![An Xcode project
    with PhoneGap, HTML5, and Swift](img/4725_07_25.jpg)
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**终端**应用程序，并在**终端**应用程序中，将默认目录设置为`Hello`应用程序目录，如下面的代码所示：![包含PhoneGap、HTML5和Swift的Xcode项目](img/4725_07_25.jpg)
- en: Perform the `phonegap run ios` command, which will bring up the PhoneGap/Cordova
    start screen, as shown in the following screenshot. This shows that the Cordova/PhoneGap
    environment has been set up properly, and the application will start to execute:![An
    Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_26.jpg)
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行`phonegap run ios`命令，这将显示PhoneGap/Cordova启动屏幕，如下面的截图所示。这表明Cordova/PhoneGap环境已正确设置，应用程序将开始执行：![包含PhoneGap、HTML5和Swift的Xcode项目](img/4725_07_26.jpg)
- en: The following is the output from the `Hello` app. It shows two records, which
    are inserted, and then displayed. It is a simple process, but the workflow is
    the same as we discussed:![An Xcode project with PhoneGap, HTML5, and Swift](img/4725_07_27.jpg)
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下是从`Hello`应用程序输出的内容。它显示了两个插入并显示的记录。这是一个简单的过程，但工作流程与我们讨论的是相同的：![包含PhoneGap、HTML5和Swift的Xcode项目](img/4725_07_27.jpg)
- en: After this exercise, you have learned how to install Node.js and Cordova, and
    how to create a simple iOS application, run Xcode, and simulate a simple application
    using an iPhone 6.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 经过这次练习，你已经学会了如何安装Node.js和Cordova，以及如何创建一个简单的iOS应用程序，运行Xcode，并使用iPhone 6模拟一个简单的应用程序。
- en: Summary
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, you learned how to use Xcode and PhoneGap with SQLite and HTML5\.
    Hopefully, it has helped you to perform iOS development with these technologies,
    and showed you how using PhoneGap/SQLite can enhance how quickly apps can be delivered
    to the end user.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你学习了如何使用Xcode和PhoneGap与SQLite和HTML5。希望这已经帮助你使用这些技术进行iOS开发，并展示了如何使用PhoneGap/SQLite可以加快应用程序交付给最终用户的速度。
- en: It is also a cross-development platform, where the source is created once and
    delivered to a variety of platforms in a quick-format generation method. HTML5
    works with Xcode, Swift, and PhoneGap in a cohesive and quick way.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 它也是一个跨平台开发平台，源代码只需创建一次，通过快速格式生成方法即可快速分发到各种平台。HTML5与Xcode、Swift和PhoneGap以协同和快速的方式工作。
- en: In the next chapter, we will talk about future advances, further features, and
    SQLite functionality. This will be useful in the development process, to get better
    and more controlled applications. The benefits of using one codebase for multiple
    platforms is very beneficial to both developers and customers. The next chapter
    will also be an aid and guide on how these features can be used in new and updated
    apps in the future.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将讨论未来的进步、更多功能和SQLite功能。这将在开发过程中非常有用，以获得更好和更受控的应用程序。使用单一代码库为多个平台带来的好处对开发者和客户都非常有益。下一章还将提供如何在未来使用这些功能在新和更新的应用程序中的辅助和指南。
