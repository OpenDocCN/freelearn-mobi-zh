<html><head></head><body><div><div><div><div><h1 class="title"><a id="ch01"/>Chapter 1. LiveCode Fundamentals</h1></div></div></div><p>
<em>Is this chapter for you?</em>
</p><p>
<em>LiveCode has an English-like programming language, a graphical development environment, and an easy-to-understand structural metaphor. When you create an application, you spend more time thinking about how to implement the different features and less about the complexities of the tool you are using. However, if you've never used LiveCode before, it's still going to be unfamiliar at first. This chapter is to bring you up to speed and make you ready for the later chapters that will require you to be more familiar with the terminology and features of this tool.</em>
</p><p>All of LiveCode is <a id="id0" class="indexterm"/>easy, but there are thousands of easy things to learn! Throughout the book, we will look at these things, that you can use for mobile applications in particular, but first, we should go over some of the basics.</p><p>In this chapter, we will:</p><div><ul class="itemizedlist"><li class="listitem">Become familiar with the LiveCode environment</li><li class="listitem">Investigate the hierarchy of a LiveCode "stack"</li><li class="listitem">Create a simple calculator application</li><li class="listitem">Learn about the many different interface controls</li></ul></div><p>So, let's get on with it.</p><div><div><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Background history and metaphors</h1></div></div></div><p>Many <a id="id1" class="indexterm"/>development tools only present a programming language along with programming interfaces to system routines. Higher-level tools often present the same things, but structured in such a way that it is possible to come up with real-world metaphors for the different aspects of the tool. LiveCode is very much like that, and its metaphor is a stack of cards. This metaphor originated with Apple Computer's HyperCard authoring tool, which was created by Bill Atkinson in the mid-1980s. The first version of HyperCard was released in August 1987 and it became a huge hit in both education and multimedia sectors. Companies such as The Voyager Company, published its entire product line which was created using HyperCard.</p><p>Other companies produced <a id="id2" class="indexterm"/>tools that were very much like HyperCard, but they also tried to give the user more features than were in HyperCard. The most prominent of these tools were SuperCard, Plus, and MetaCard. Plus went on to have an interesting life; the <a id="id3" class="indexterm"/>product itself became Windows-only (it was cross-platform at first), but later, the same code ended up in the Oracle Media Objects cross-platform tool. All <a id="id4" class="indexterm"/>of these tools perpetuated the metaphor of a stack of cards.</p><p>MetaCard was most <a id="id5" class="indexterm"/>notable for the fact that it was multiplatform and not just cross platform. <em>Stacks</em> is the general term used for documents created by these tools, made with MetaCard <a id="id6" class="indexterm"/>that ran on Unix and Linux systems, as well as Mac and Windows. Alas, it was somewhat ugly! The Scottish company RunRev made a product that attempted to present MetaCard in a more appealing way. Eventually, RunRev acquired MetaCard, and since 2003, RunRev has continued to build upon MetaCard using the product name Runtime Revolution, which was later renamed as LiveCode.</p><div><h3 class="title"><a id="note02"/>Note</h3><p>In March 2015, RunRev <a id="id7" class="indexterm"/>also changed the company name to LiveCode Ltd. This book has many references to <a class="ulink" href="http://runrev.com/">http://runrev.com/</a>, and it should still be maintained as such. However, If you have a problem with a URL, substitute it with <a class="ulink" href="http://livecode.com/">http://livecode.com/</a> or do a search on the LiveCode website.</p></div><p>In 2013, RunRev had a successful Kickstarter campaign and raised £494k ($775k) to make LiveCode open source. Version 6.0 of LiveCode was released in April 2013 as the first open source version. This led to an active development cycle with close to 20 stable releases culminating in version 7.0 of LiveCode in October 2014. This edition of this book is based on the version 7.0 of LiveCode.</p><p>The highlights of version 7 include Unicode support, display resolution independence, stretchable graphics, hybrid apps using a new browser, Mac Cocoa support, Raspberry Pi support, 64-bit Linux support, and much more. You can read more about version 7 of LiveCode in the <a id="id8" class="indexterm"/>October 23, 2014 newsletter issue at <a class="ulink" href="http://newsletters.livecode.com/october/issue180/">http://newsletters.livecode.com/october/issue180/</a>. All LiveCode newsletters are available under the <strong>LiveCode Help</strong> menu.</p><p>In 2014, RunRev had another financing campaign to raise support for HTML5 and raised an additional $395k. This capability and the version 8 of LiveCode with open language support are described further in <a class="link" title="Appendix A. Extending LiveCode" href="part0098.xhtml#aid-2TEN41">Appendix</a>, <em>Extending LiveCode</em>.</p><p>Under the HyperCard variation of the stack of cards metaphor, documents consist of the cards that hold buttons, fields, and bitmap graphics; backgrounds that hold a set of cards; and stacks that hold a set of backgrounds. LiveCode takes a slightly different approach and rather than having backgrounds that hold cards, it allows you to group any set of interface controls and set those to act as if they are background entities. These end up being more flexible, though slightly alien to people who have used HyperCard a lot.</p><p>Both HyperCard and LiveCode provide ways to extend the hierarchy further. You are able to link other stacks. To save time rewriting the same set of functions in every stack, you might choose to have a stack dedicated to these functions and you can add that stack to the <code class="literal">stackInUse</code> property using the following command:</p><div><pre class="programlisting">
<strong>start using stack "utility stack"</strong>
</pre></div><p>Additionally, you can write "externals", which are commands and functions written in the C language, which can extend LiveCode's abilities even further.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec11"/>You do have LiveCode, don't you?</h1></div></div></div><p>If you haven't yet <a id="id9" class="indexterm"/>installed LiveCode, go to <a class="ulink" href="http://livecode.com/download">http://livecode.com/download</a> and download the Community Edition for your development platform. This <a id="id10" class="indexterm"/>version is open source and free to use. You will need to provide your name and e-mail which establishes a user account for LiveCode. At the time of writing this book, you also get a free App Design Kit that includes an introductory video and a mobile <code class="literal">app2market.livecode</code> template.</p><p>If you plan to buy Commercial <a id="id11" class="indexterm"/>LiveCode, read through <a class="ulink" href="http://www.runrev.com/store/">http://www.runrev.com/store/</a> to understand the many variations of licenses that are there. As a rough guide, based on the price at the time of writing this book, to create mobile applications that are free, the cost would be $99, and if you want to make apps that you could charge for, the cost would be $299. Additional levels of use and support are available at extra cost.</p><p>The two editions of LiveCode have a distinctive color scheme too, with the Commercial Edition using blue elements and the Community Edition using green elements.</p><p>Once you have downloaded the Community Edition or bought one of the commercial licenses, go ahead and launch it!</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Learning the lay of the land</h1></div></div></div><p>When you first <a id="id12" class="indexterm"/>open LiveCode, you are shown a Start Center window, which functions as a way to open recent documents, a list of links to forums and information to get started, or to view promotional information. There is no harm in keeping that window open, but if you do close it, you can reopen it from the <strong>Help</strong> menu. You can also use <strong>Backdrop</strong> by selecting it from the <strong>View</strong> menu to hide other application windows on your screen.</p><p>If you look at LiveCode for the first time, you will notice a toolbar at the top of the screen, just below the menu bar. Take note of the rightmost items, such as <strong>Sample Stacks</strong>, <strong>Tutorials</strong>, <strong>Resources</strong>, and <strong>Dictionary</strong>. These areas are filled with information that will help you to get <a id="id13" class="indexterm"/>started with LiveCode. <strong>Dictionary</strong> is something that you will use a lot, and just browsing through the entries will either answer your immediate question, or give you advanced information about issues you'll run into later.</p><p>The <strong>Help</strong> menu also provides access to <strong>User Guide</strong> and useful links to other information. Check the <strong>User Guide</strong> section to read in depth about the features mentioned here.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec10"/>Online lessons</h2></div></div></div><p>In addition to the <a id="id14" class="indexterm"/>resources you see inside LiveCode itself, there is a tremendous amount of information and a number of tutorials on the RunRev website. A <a id="id15" class="indexterm"/>good starting point would be <a class="ulink" href="http://lessons.runrev.com/">http://lessons.runrev.com/</a>.</p><p>This screenshot shows the windows and palettes that we're going to use for now as well as the document window, which is a simple calculator that we will build soon:</p><div><img src="img/image00226.jpeg" alt="Online lessons"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec11"/>Main windows</h2></div></div></div><p>In addition to the <a id="id16" class="indexterm"/>document window itself, these are the main windows <a id="id17" class="indexterm"/>that we need to be familiar with for now:</p><div><ul class="itemizedlist"><li class="listitem">Tools palette</li><li class="listitem">Inspector palette</li><li class="listitem">Message box</li></ul></div><p>The upper area of the Tools Palette shows all the interface controls that you need to create an interactive application. Below these are a set of tools to edit vector graphics and a set of tools to edit bitmap graphics.</p><p>The Inspector Palette shows all the options for the control that you currently have selected. In the preceding screenshot, nothing is selected in the calculator app, so the Inspector Palette shows information about the stack itself.</p><p>Message Box is a window that lets you try out either single or multiple lines of code. You are able to invoke functions in your stacks too, making it a very handy way to test individual functions while you are tracking down issues. We'll use the Message Box in later chapters.</p><p>As suggested, read the User Guide to get a deeper understanding of these windows, but let's try putting together <a id="id18" class="indexterm"/>something simple for now to get you more familiar with how to use the Tool palette.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Time for action – it's a drag, but you'll like it!</h1></div></div></div><p>You build things in LiveCode by dragging icons from the Tools palette to the stack window. If the palettes <a id="id19" class="indexterm"/>are not already open, the Inspector palette can be opened by clicking on the icon at the left end of the toolbar or by selecting one of the inspector menu items in the <strong>Object</strong> menu. The Tools palette can be opened by selecting the <strong>Tools Palette</strong> from the <strong>Tools</strong> menu and by using the following steps</p><div><ol class="orderedlist arabic"><li class="listitem">From the <strong>File</strong> menu, select <strong>New Mainstack</strong>.</li><li class="listitem">In the <strong>Tools</strong> palette, click on the <strong>Edit</strong> tool (the top-right icon).</li></ol><div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec12"/>To select edit or not…</h2></div></div></div><p>In LiveCode, you <a id="id20" class="indexterm"/>can drag controls from the Tools palette to the card window without selecting the <strong>Edit</strong> tool. However, you are not able to select the control to adjust its position or size, and so, in the following instructions, we are intentionally selecting the<strong> Edit</strong> tool before adding controls to the card window:</p><div><ol class="orderedlist arabic"><li class="listitem">Drag icons from the upper section of the Tools palette to the stack window.</li><li class="listitem">Try the layering options at the bottom of the <strong>Object</strong> menu.</li><li class="listitem">Select more than one item and experiment with the <strong>Align Objects</strong> options in the Inspector palette. The align options are shown automatically when you select multiple objects, but you can also select <strong>Align Objects</strong> from the drop-down menu in the Inspector palette. You won't see this option if only one object is selected. Here, we are able to see the options because three buttons are selected:<div><img src="img/image00227.jpeg" alt="To select edit or not…"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Select a single button and in the Inspector palette, enter a name and a label. If you don't see the <strong>Name</strong> and <strong>Label</strong> fields, make sure you have selected <strong>Basic Properties</strong> from the Inspector pallete's drop-down menu.</li><li class="listitem">Add several more <a id="id21" class="indexterm"/>controls to the card window and practice aligning and naming the controls. You can also resize them by dragging the handles that you see on the corners and sides while the control is selected. Here is how the window would look if you add some buttons, a field, tab panel, slider, and video player control:<div><img src="img/image00228.jpeg" alt="To select edit or not…"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec13"/>
<em>What just happened?</em>
</h2></div></div></div><p>Hopefully, you will have <a id="id22" class="indexterm"/>made a random bunch of interface controls, perhaps some that are nicely lined up too! Now, select the <strong>Close and Remove From Memory</strong> option from the <strong>File</strong> menu and create a new <strong>Main Stack</strong> to make the Simple Calculator interface.</p><p>First though, we should go over some of the structure and hierarchy of a LiveCode stack and create some basic navigation.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec14"/>Creating a hierarchy</h2></div></div></div><p>Everything goes <a id="id23" class="indexterm"/>somewhere, but having things in the wrong place can lead to problems. We should learn more about the structure of a LiveCode stack to avoid this.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec15"/>The stack structure</h2></div></div></div><p>As described in the <em>Background history and metaphors</em> section, LiveCode uses a stack of cards metaphor. When you <a id="id24" class="indexterm"/>make a new stack, you in effect have a single stack of cards. However, even the simplest application is likely to have more than one card. For example, there could be a splash screen, title card, cards for the actual task at hand, and a credits page. In the calculator stack, we will use <a id="id25" class="indexterm"/>two cards. The <strong>Tools</strong> menu includes an option to view the structure of the stack by showing <strong>Project Browser</strong> or <strong>Application Browser</strong>. The Project Browser was introduced in the version 6.0 of LiveCode with additional capabilities</p><p>The Project Browser panel is a powerful tool that lets you see all the stacks, cards, and controls that are open at the moment, in one window. In addition to getting an overview of everything, you can use it as a remote control to jump between all the parts of your stack and to select and modify buttons, fields, and so on.</p><p>Taking the calculator stack that we are about to make as an example, in the following screenshot, we see a side-by-side view of the stack window and the Project Browser panel, where in the <strong>Project Browser</strong> panel, we have selected one of the buttons in the stack:</p><div><img src="img/image00229.jpeg" alt="The stack structure"/></div><p style="clear:both; height: 1em;"> </p><p>The upper area of <strong>Project Browser</strong> includes a field where you can type and search text to reduce the list of items in the browser to match the ones you have typed. In the upper-left part of the panel, is a gear icon that is used to take you to the preferences of the browser:</p><p>Most of the rest of the browser window lets you expand stacks and cards, and choose individual controls on those cards. Clicking on a control in <strong>Project Browser</strong> highlights it in the stack window and vice versa. Controls can also be reordered to change layers by dragging them up and down. Controls can also be hidden or locked by clicking on the eye and lock icons. The lower <a id="id26" class="indexterm"/>area buttons let you do various alignments of the selected controls to add or duplicate the selected control. Hovering over a button shows a popup of what it does.</p><p>A longer overview of how <a id="id27" class="indexterm"/>Project Browser works is available at:</p><p>
<a class="ulink" href="http://www.runrev.com/newsletter/april/issue151/newsletter4.php">http://www.runrev.com/newsletter/april/issue151/newsletter4.php</a>.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec16"/>Where does the code go?</h2></div></div></div><p>In programming <a id="id28" class="indexterm"/>languages, such as the one in LiveCode, <em>code</em> is <a id="id29" class="indexterm"/>referred to as <strong>scripts</strong> and <em>methods</em> or <em>functions</em> are known as <strong>handlers</strong> (though in LiveCode, a handler that returns a value is also called a function). Projects made <a id="id30" class="indexterm"/>with hard-to-use programming tools often comprise dozens of external text files, one for each model, view, or controller. In LiveCode, this is simpler, as the scripts are attached to the object that needs that code.</p><p>To deal with user <a id="id31" class="indexterm"/>interaction in other tools, you will have to write code that receives the event (perhaps just a mouse click on a button) to perform the relevant action. In LiveCode, there is a message path that takes care of these events, and passes the event up the hierarchy. If you click on a LiveCode interface control that doesn't have a mouse event handler, the click goes up the hierarchy to the card level. If the card doesn't have a handler for that event, it continues up to the stack level.</p><p>You can have additional levels of hierarchy by putting other stacks in use, but for our purpose, we just need these three: the button, card, and stack.</p><p>This message hierarchy allows us to place the code needed via several interface controls at a higher level available to all of these controls. One case with the calculator number buttons is that each one needs to do exactly the same thing, and by putting that code in the card level, all of them can make use of that one handler.</p><p>There isn't a performance advantage if you have the shared handler in the card level or much of a file size improvement, but as you develop the code for the simple calculator example, you can make changes in the single-card script instead of the 11 calculator button scripts.</p><p>We will now start <a id="id32" class="indexterm"/>building the calculator and add scripts to the 14 <a id="id33" class="indexterm"/>buttons, a field, and the card.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Time for action – making cards and navigating between them</h1></div></div></div><p>A calculator doesn't really need a title screen, but we'll make one anyway in order to practice adding <a id="id34" class="indexterm"/>scripts and to do some basic navigation. Start a new Mainstack from the <strong>File</strong> menu and open the <strong>Inspector</strong> palette.</p><div><ol class="orderedlist arabic"><li class="listitem">In the <strong>Inspector</strong> <a id="id35" class="indexterm"/>palette, enter the <code class="literal">Simple Calculator</code> stack name in the <strong>Name</strong> field.</li><li class="listitem">Select <strong>New Card</strong> from the <strong>Object</strong> menu.</li><li class="listitem">Use the <strong>View</strong> menu to either go to the previous card (<strong>Go Prev</strong>) or first card (<strong>Go First</strong>).</li><li class="listitem">Make sure you have the <strong>Edit</strong> tool selected in the <strong>Tools</strong> palette and drag a <strong>Label</strong> field to the middle of the card window. In this case, you can easily see which one is the <strong>Label</strong> field (it says <strong>Label:</strong> in the icon), but as a general tip, you can point to controls in the <strong>Tools</strong> Palette and see the help tip that shows what kind of control it is.</li><li class="listitem">In the <strong>Basic Properties</strong> section of the <strong>Inspector</strong> palette, uncheck the <strong>Don't wrap</strong> checkbox.</li><li class="listitem">Type <code class="literal">title</code> into the <strong>Name</strong> entry field.</li><li class="listitem">Choose <strong>Contents</strong> from the <strong>Inspector</strong> drop-down menu and replace the initial text that says <strong>Label:</strong> by entering <code class="literal">Simple Calculator</code> into the <strong>Contents</strong> entry field.</li><li class="listitem">Choose <strong>Text Formatting</strong> from the drop-down menu and click on the Align text center button, the middle of the three <strong>Align</strong> buttons.</li><li class="listitem">Change the font, size, and style options to make a nice looking title, resizing the field itself until you like how it looks:<div><img src="img/image00230.jpeg" alt="Time for action – making cards and navigating between them"/></div><p style="clear:both; height: 1em;"> </p></li><li class="listitem">Drag a <strong>Push</strong> button (the second icon from the top-left corner of the <strong>Tools</strong> palette) from the <strong>Tools</strong> palette and place it below the title field.</li><li class="listitem">In the <strong>Inspector</strong> palette, choose <strong>Basic Properties</strong> from the drop-down menu (it's the menu that says <strong>Text Formatting</strong> in the preceding screenshot) and enter <code class="literal">Begin</code> in the <strong>Name</strong> entry field. LiveCode will automatically show the same text as the button's label even though you didn't type it in the <strong>Label</strong> entry field.</li><li class="listitem">You can go into the <a id="id36" class="indexterm"/><strong>Text Formatting</strong> options for buttons too, if you wish!</li><li class="listitem">Mentally prepare <a id="id37" class="indexterm"/>yourself; we're about to type in our first script!</li><li class="listitem">With the button selected, choose <strong>Object Script</strong> from the <strong>Object</strong> menu. You can also right-click on the button itself and select <strong>Edit Script</strong>.</li><li class="listitem">The script window will appear and show a starter script of <code class="literal">on mouseUp</code>, blank line, and <code class="literal">end mouseUp</code>, as shown in the following screenshot:<div><img src="img/image00231.jpeg" alt="Time for action – making cards and navigating between them"/></div><p style="clear:both; height: 1em;"> </p></li></ol><div></div><p>Complete the script by typing <code class="literal">go next</code> into the blank line to give you this final script:</p><div><pre class="programlisting">on mouseup
  go next
end mouseup</pre></div><p>Now, perform the <a id="id38" class="indexterm"/>following steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Close the script <a id="id39" class="indexterm"/>window and click on <strong>Yes</strong> when asked whether you want to save the changes.</li><li class="listitem">Choose the <strong>Browse</strong> tool from the <strong>Tools</strong> palette (the upper leftmost tool that looks like a regular cursor arrow) and click on the <strong>Begin</strong> button that you just made. All being well, you're now looking at a blank card. Don't worry, you didn't just delete the title field and button! You're now on the second of the two cards that you made earlier. Use the <strong>View</strong> menu again to go back to the first card to try the button again.</li><li class="listitem">Save! from the <strong>File</strong> menu, choose <strong>Save</strong> and save the stack with the <code class="literal">Simple Calculator</code> name somewhere you can easily find it later. Perhaps, you could make a folder to <a id="id40" class="indexterm"/>hold the several stacks you will make while reading this book.</li></ol><div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec17"/>
<em>What just happened?</em>
</h2></div></div></div><p>These may have seemed like a lot of steps, but we did create the two cards we needed, laid out a nice looking title field, and a begin button with its own script. In reality, these steps take well under two minutes and will be even quicker to carry out as you gain experience in LiveCode.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec18"/>Pop quiz – selecting the best name?</h2></div></div></div><p>If you want to make it big in the multimedia authoring tool world, which of these names would be a bad choice?</p><div><ol class="orderedlist arabic"><li class="listitem">Henry</li><li class="listitem">Bill</li><li class="listitem">Bob</li><li class="listitem">Kevin</li></ol><div></div><p>Answer: 1</p><p>In the early days of multimedia, it seemed like everyone had one of just a few popular names. There was Bill Atkinson, who created HyperCard, and Bill Appleton, who created SuperCard. Kevin Calhoun was the lead HyperCard programmer for a while and Kevin Miller is the head of LiveCode. Bob Stein was one of the founders of The Voyager Company and along with Bob Abel who was one of the pioneers in visual effects. Dan was another good choice as there was Dan Winkler, the author of the HyperTalk language, and Danny Goodman, the author of many famous programming books. Henry would be a good name if you wanted to make motorcars or marry lots of queens.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Making a simple calculator application</h1></div></div></div><p>With even <a id="id41" class="indexterm"/>basic familiarity of LiveCode, you can start to make something of use. Here, we will make a very simple calculator stack.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec19"/>Inspector clues, oh!</h2></div></div></div><p>You will find <a id="id42" class="indexterm"/>yourself using the Inspector palette a lot; so, take a moment to study how it behaves. When you select an <a id="id43" class="indexterm"/>object on the card, you will see that the Inspector palette changes its appearance, sometimes even its height, to show the options for the item you have selected. It is smart enough to notice when you have selected multiple items and shows the align tools.</p><p>Sometimes, you will want to keep an Inspector palette set to view the options of a particular object on the card, and not switch so as to show a different object as you make other selections. In the upper-right corner of the Inspector palette is a padlock icon, which will let you lock the Inspector to the current object.</p><p>So far, most of the Inspector palette options haven't affected us, but one that is about to be relevant is the fact that you can set a name for an item that is different from its label. You may know from other programming languages, and this does apply to LiveCode too, that some names are less legal than others. Perhaps you can't have spaces in the name or use a colon or backslash. If you name a button with a number, button "1" may not be button 1 and this could lead to confusion.</p><p>For the calculator <a id="id44" class="indexterm"/>keys, we will set a label to <a id="id45" class="indexterm"/>make it look correct and a name that doesn't lead to confusion. Speaking of those calculator keys…</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Time for action – making the calculator buttons</h1></div></div></div><p>Using the <a id="id46" class="indexterm"/>screenshot shown at the start of this chapter as a guide, let's build the calculator buttons (the scripts you will type are also <a id="id47" class="indexterm"/>listed if you later want to make sure you typed them correctly):</p><div><ol class="orderedlist arabic"><li class="listitem">If you're not already there, go to the second card, the currently empty one.</li><li class="listitem">Make sure the <strong>Edit</strong> button is selected in the <strong>Tools</strong> palette and drag a <strong>Push</strong> button to the card, to the position of the <code class="literal">7</code> button.</li><li class="listitem">In the <strong>Basic Properties</strong> panel of the Inspector palette, set the <strong>Style</strong> drop-down menu to <strong>Rounded Rectangle</strong> (in real life, you would take the time to have nice graphical buttons; here, you are just matching my ugly "programmer art"!).</li><li class="listitem">Set the name of the button to <code class="literal">number7</code> and the label to <code class="literal">7</code>.</li><li class="listitem">Select <strong>Object Script</strong> from the <strong>Object</strong> menu to see the starter script as you did with the <strong>Begin</strong> button.</li><li class="listitem">In the empty line between <code class="literal">on mouseUp</code> and <code class="literal">end mouseUp</code>, type <code class="literal">numberPressed the label of me</code>. Note that <code class="literal">numberPressed</code> is a new handler that needs to be defined later. When used, <code class="literal">me</code> refers to the current object; in this case, the button pressed.</li><li class="listitem">Close and save the script.</li><li class="listitem">Select the button and make a copy of it by choosing <strong>Duplicate Objects</strong> from the <strong>Edit</strong> menu and position it where the <strong>8</strong> button will be. Copy/Paste and <em>Alt</em>-drag are two other ways to duplicate an object.</li><li class="listitem">Set the name to <code class="literal">number8</code>, and label to <code class="literal">8</code>.</li><li class="listitem">Repeat steps 8 and 9 for the buttons 9, 4, 5, 6, 1, 2, 3, 0, and the decimal point using the corresponding number instead of <code class="literal">8</code>. For the decimal point, let the name be <code class="literal">decimalpoint</code>.</li><li class="listitem">Duplicate one of the buttons again, name the new button <code class="literal">divide</code>, and type <code class="literal">/</code> for its label.</li><li class="listitem">Select <code class="literal">Object Script</code> for the divide button and change <code class="literal">numberPressed</code> in the middle line to say <code class="literal">operatorPressed</code>, making the whole line <code class="literal">operatorPressed the short name of me</code>.</li><li class="listitem">Duplicate the divide button three more times and set the names to <code class="literal">multiply</code>, <code class="literal">plus</code>, and <code class="literal">minus</code>. Set the labels to <code class="literal">*</code>, <code class="literal">+</code>, and <code class="literal">-</code>.</li><li class="listitem">Duplicate <a id="id48" class="indexterm"/>the divide button again, giving the new button a name <code class="literal">equals</code> and a label <code class="literal">=</code>, and change the middle line of script to say <code class="literal">equalsPressed</code>.</li><li class="listitem">Duplicate the <strong>=</strong> <a id="id49" class="indexterm"/>button and set the new button's name to <code class="literal">toggleSign</code> and label to <code class="literal">+-</code>; then, change the middle line of script to <code class="literal">toggleSign</code>.</li><li class="listitem">Duplicate the <strong>=</strong> button and set the new button's name to <code class="literal">clear</code> and label to <code class="literal">C</code>; then, change the middle line of script to be <code class="literal">clearPressed</code>.</li><li class="listitem">Drag a <strong>Label</strong> field from the <strong>Tools</strong> palette and in the <strong>Inspector</strong> palette, choose <code class="literal">Text Formatting</code> from the drop-down menu. In the <code class="literal">Text Formatting</code> settings, choose a nice looking font, right-justified text, and a large font size. Name the field <code class="literal">display</code>.</li><li class="listitem">Edit the script of the <code class="literal">display</code> field. With fields, you don't get the starter script that you get with buttons, so you will need to type the <code class="literal">mouseUp</code> lines yourself. Type these three lines in the script: <code class="literal">on mouseUp</code>, <code class="literal">set the clipboarddata["TEXT"] to me</code>, and <code class="literal">end mouseUp</code>. DO enter the quote marks on either side of the word <code class="literal">"TEXT"</code>.</li><li class="listitem">Move all the buttons in their right spots and select the sets of buttons to then use the Align tools and make your calculator layout match the screenshot.</li><li class="listitem">Save it now!</li></ol><div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec20"/>
<em>What just happened?</em>
</h2></div></div></div><p>Quite a lot just happened! We have now made all the card level objects and typed in their scripts. Most of the scripts are "calling" up to a card level handler that we will be setting up next. Before doing that, it's worth trying to understand some of the lines we just entered.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec21"/>Verbosity, synonyms, and "me"</h2></div></div></div><p>The English-like <a id="id50" class="indexterm"/>nature of the programming language in LiveCode is amazingly powerful, but rigidly so. In some other tools, you have a choice of whether you want to use <a id="id51" class="indexterm"/>verbose English-like syntax, less verbose, or what is called <em>dot syntax</em>. The <em>Lingo language</em>, in Adobe Director, is a good comparison.</p><p>Suppose we want to <a id="id52" class="indexterm"/>change the text inside a field, that is the first entry of a director movie's cast, we can perform the following verbose syntax:</p><div><pre class="programlisting">put "hello world" into the text of member 1</pre></div><p>We can perform a slightly less verbose syntax:</p><div><pre class="programlisting">the text of member 1 = "hello world"</pre></div><p>Or, we can perform a dot-syntax:</p><div><pre class="programlisting">member(1).text = "hello world"</pre></div><p>In LiveCode, there isn't a choice. What you type has to be in the form of:</p><div><pre class="programlisting">put value into container</pre></div><p>However, you do have a choice about whether to use a long version of a word, short version, or an abbreviated form. There are also synonyms, which allow you to use a word that makes more sense to you.</p><p>Here are the two ways of saying the same thing, with the second variation using an abbreviated form of the keywords:</p><div><pre class="programlisting">put character 3 of word 2 of card field "name of field 1" into aVariable
put char 3 of word 2 of fld 1 into aVariable</pre></div><p>When you are dealing with the contents of the object that has the script running, you can use the keyword <code class="literal">me</code> to save on some typing, and LiveCode will also try to work out what you have in mind, if possible.</p><p>Take the lines we have entered as examples:</p><div><pre class="programlisting">numberPressed the label of me</pre></div><p>Here, <code class="literal">numberPressed</code> will propagate up to a card handler that we will add (soon) and <code class="literal">the label of me</code> will look at the Label that you have set for the object that the script is inside of:</p><div><pre class="programlisting">set the clipboarddata["TEXT"] to me</pre></div><p>In this case, <code class="literal">me</code> would normally refer to the object (as is the case with <code class="literal">the label of me</code>), but because we gave the extra clue of <code class="literal">["TEXT"]</code>, LiveCode knows that it's the text contents of the field that have the script and not the field itself. Still, because there is potential for confusion, when reading your own code later, you could add a couple of words to make the meaning more clear:</p><div><pre class="programlisting">set the clipboarddata["TEXT"] to the text of me</pre></div><div><h3 class="title"><a id="note03"/>Note</h3><p>By the way, the display field script is not needed for the calculator to work. It's just there so that at any point of time, you can click on the field and have the current value copied to the clipboard in order to paste it in other applications.</p></div><p>You might choose to be more verbose than is needed, just for readability reasons, and in these chapters, this is going to be the case. It is easier to tell what is going to happen by using:</p><div><pre class="programlisting">put the text of me into textvariable</pre></div><p>The following will be less verbose compared to the preceding entry, even though they are equally valid:</p><div><pre class="programlisting">put me into textVariable</pre></div><p>In either case, as it's a field, LiveCode knows what you meant.</p><p>You see in the script that we typed <code class="literal">short name of me</code>, what's that all about? Objects in LiveCode have a lengthy description of where they are located, for example, the <code class="literal">buttonname</code> button of the <code class="literal">1234</code> card ID of the <code class="literal">path/to/stack.livecode</code> stack. In the calculator application, we need only the single word that you set as the name of the button. If we asked for <code class="literal">name of me</code>, it would still say "the <code class="literal">buttonname</code> button". To just grab the name itself, we use <code class="literal">short name of me</code>.</p><p>There are times when you will want to use the other variations of <code class="literal">name</code>, including the long name and the abbreviated name, which you can read about in the LiveCode Dictionary entry for <code class="literal">name</code>. In addition to a description of the different ways to use <code class="literal">name</code>, there are a number of cautions you need to be aware of.</p><div><h3 class="title"><a id="tip02"/>Tip</h3><p>
<strong>Case sensitivity</strong>
</p><p>If any of you use advanced LiveCode, you may notice that in some cases, I have the casing wrong. LiveCode doesn't mind what casing you have used and so, when I incorrectly said <code class="literal">clipboarddata</code> instead of <code class="literal">clipboardData</code>, it didn't matter. This feature isn't unique to LiveCode, but it is common among near-English programming languages to not demand that the user gets the casing exactly right before the command works.</p></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec22"/>Adding the card handlers</h2></div></div></div><p>If you dared to <a id="id53" class="indexterm"/>go ahead and tried using the <a id="id54" class="indexterm"/>calculator buttons, you will see a lot of script errors. We need to add in the card level handlers to be at the receiving end of the calls that the buttons make. Instead of walking you through, typing a line of code at a time, it probably would be quicker to present the lines in one go and explain what each line does. As a practice run, here are the lines that we have entered so far:</p><p>On all the number buttons and the decimal point button, you should have this script:</p><div><pre class="programlisting">on mouseup
  numberPressed the label of me
end mouseup</pre></div><p>
<code class="literal">The on mouseUp</code> event is triggered when you press and release the left mouse button while on the <code class="literal">numberPressed</code> call. This event will call a card handler named <code class="literal">numberPressed</code>, passing with it, the label that you had set for the button that holds this script.</p><p>The <strong>C</strong> (clear) button <a id="id55" class="indexterm"/>has this script:</p><div><pre class="programlisting">on mouseUp
  clearPressed
end mouseUp</pre></div><p>The <code class="literal">clearPressed</code> event will call a card script named <code class="literal">clearPressed</code>.</p><p>The other buttons all work the same way; they call a handler of the name used, which we're about to add to the <a id="id56" class="indexterm"/>card script. This is script for the <strong>+</strong>, <strong>-</strong>, <strong>*</strong>, and <strong>/</strong> buttons, passing to the card level, the name of the button in question:</p><div><pre class="programlisting">on mouseUp
  operatorPressed the short name of me
end mouseUp</pre></div><p>The following script is for the +- button:</p><div><pre class="programlisting">on mouseUp
  toggleSign
end mouseUp</pre></div><p>The display field has this script:</p><div><pre class="programlisting">on mouseUp
  set the clipboardData["TEXT"] to me
end mouseUp</pre></div><p>In the field's case, only one line of code is being executed, so no need to put that up on the card level, unless we had a lot of fields doing the same thing.</p><p>So, why don't we add all those card level scripts! We will take them one at a time, with an explanation of how each one works. But first, let's see how LiveCode handles variables.</p><div><h3 class="title"><a id="tip03"/>Tip</h3><p>
<strong>Downloading the example code</strong>
</p><p>You can download the example code files for all Packt books you have purchased from your account at <a class="ulink" href="http://www.packtpub.com">http://www.packtpub.com</a>. If you purchased this book elsewhere, you can visit <a class="ulink" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec23"/>Variable types in LiveCode</h2></div></div></div><p>Generally <a id="id57" class="indexterm"/>speaking, variables are <a id="id58" class="indexterm"/>memory <a id="id59" class="indexterm"/>locations <a id="id60" class="indexterm"/>where you store values that you need to access later, but in most programming languages, you can dictate which routines have access to which variables. Less English-like languages may include the terms <code class="literal">public</code>, <code class="literal">private</code>, and <code class="literal">protected</code>. Things are not that different in LiveCode, but words are used that more accurately describe the region that the variable can be used in. If a variable is to be readable everywhere, it would be <code class="literal">global</code>. If it's just to be used in the current script, it's <code class="literal">local</code>.</p><p>LiveCode also has custom property variables, and as an aside, many people would use these for performing the calculator button values instead of relying on the label of the button. Perhaps, we'll use them later!</p><p>Now, where was I… oh yes, card level scripts. This is the first line of the card script:</p><div><pre class="programlisting">global currentTotal,currentValue,currentCommand,newNumber</pre></div><p>As discussed, these are the variables that will allow the many handlers to pass values to each other. In this case, the variables could be local, but often, you may make them global instead, thinking that a case may come up later where you need to get at the variables from outside the script you're in.</p><p>It's good to reset things when you start the app and LiveCode has an <code class="literal">openCard</code> event that we can pick up on. The following code resets things:</p><div><pre class="programlisting">on openCard
  clearPressed
end openCard

on clearPressed
  put true into newNumber
  put 0 into field "display"
  put 0 into currentTotal
  put 0 into currentValue
  put empty into currentCommand
end clearPressed</pre></div><p>Having the reset lines in their own <code class="literal">clearPressed</code> handler will allow us to call it at other times, not just when the card opens, and we do call it directly when we click on the <strong>C</strong> clear button. This will zero out the display field, the running total for your calculation and the last number that you entered into the calculator. It also clears the variable that is used to remember which operator button you last pressed, and a Boolean (true or false) variable is used to recognize whether a number button that you press should clear the display or append to the display.</p><p>All the numbered buttons and the decimal point button call this handler:</p><div><pre class="programlisting">on numberPressed n
  if newnumber is true then
    put n into field "display"
    put false into newnumber
  else
    put n after field "display"
  end if
end numberPressed</pre></div><p>The <code class="literal">n</code> comment after the handler name, is a parameter variable that stores the content that was sent to the handler. In this case, it's the label of the button that was pressed. All this routine needs to add is a character to the end of the display field, except when you are typing in a new <a id="id61" class="indexterm"/>number. That's where the <code class="literal">newNumber</code> Boolean variable comes in; if it is set to <code class="literal">true</code>, the incoming character replaces all the contents of the <a id="id62" class="indexterm"/>display field. If it's <code class="literal">false</code>, the character is added to the end of the field.</p><p>This is the handler to be used when you press the <strong>+</strong>, <strong>-</strong>, <strong>*</strong>, or <strong>/</strong>, buttons:</p><div><pre class="programlisting">on operatorPressed operator
  if currentCommand is empty then
    put field "display" into currentTotal
    put operator into currentCommand
    put true into newNumber
  else
    put operator into currentCommand
    equalsPressed
  end if
end operatorPressed</pre></div><p>When you use a calculator, you type in one number, an operator, and then another number, followed by either another operator or the <code class="literal">equals</code> button. Now you press the operator button as there is no way to know what you're doing (since you haven't entered the next number in the calculation yet), so we have to remember the operator when we press the equals button. If the <code class="literal">currentCommand</code> variable doesn't already have a value, we store the display field text into a <code class="literal">currentTotal</code> variable, store the operator character that you pressed into the <code class="literal">currentCommand</code> variable, and make sure that <code class="literal">newNumber</code> is set to <code class="literal">true</code>. Doing this makes sure that the next number button you press will clear the display field. If <code class="literal">currentCommand</code> already has a value, we replace it with the new value and then call the same handler that is used when you press the <code class="literal">equals</code> button.</p><p>There are most likely shorter ways to cope with the <code class="literal">equals</code> button being pressed, but here, we'll use several <code class="literal">if</code> statements and run the appropriate calculation code:</p><div><pre class="programlisting">on equalsPressed
  put field "display" into currentValue
  if currentCommand is empty then exit equalsPressed
  if currentCommand is "divide" then put currentTotal / currentValue into field "display"
  if currentCommand is "multiply" then put currentTotal * currentValue into field "display"
  if currentCommand is "minus" then put currentTotal - currentValue into field "display"
  if currentCommand is "plus" then put currentTotal + currentValue into field "display"
  put field "display" into currentTotal
  put true into newNumber
  put empty into currentCommand
end equalsPressed</pre></div><p>The contents of the display field are stored in the <code class="literal">currentValue</code> variable and the last operator button you pressed (that is stored in <code class="literal">currentCommand</code>) is looked at, to see what happens next. If <a id="id63" class="indexterm"/>there wasn't a previous operator, as would be the case if you pressed "equals" twice in a row, we'd ignore the button press and exit the routine. For the four operators, we do the appropriate calculation. Afterwards, we <a id="id64" class="indexterm"/>store the new running total in the <code class="literal">currentTotal</code> variable, make sure that the <code class="literal">newNumber</code> Boolean is <code class="literal">true</code> (so that the next number button pressed will clear the display field), and we forget the last operator button that was pressed by putting <code class="literal">empty</code> in the <code class="literal">currentCommand</code> variable.</p><p>One thing to note is that LiveCode is smart enough to know that the text string inside the display field is to be treated as a floating-point number.</p><p>The <code class="literal">togglesign</code> last handler is as follows:</p><div><pre class="programlisting">on togglesign
  if character 1 of field "display" is "-" then
    delete character 1 of field "display"
  else
    put "-" before field "display"
  end if
end togglesign</pre></div><p>This is a very simple routine that doesn't have to understand that it's floating point numbers are being represented. It simply checks whether the first character is a minus or not and if it is, it deletes the character; if not, it inserts a hyphen that LiveCode will later interpret as a negative value.</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec24"/>Pop quiz – try to remember…</h2></div></div></div><p>As you get to learn a new tool, you can end up taking a lot of time remembering where everything you may need, is located. You know what you want to do, you know how to do it, but you can't remember where that thing is located! For example:</p><p>Q1. Where did you go to set the text styling for the calculator's title field?</p><div><ol class="orderedlist arabic"><li class="listitem">The <strong>Edit</strong> menu.</li><li class="listitem">The <strong>Object</strong> menu.</li><li class="listitem">The <strong>Text Formatting</strong> section of the <strong>Inspector</strong> palette.</li><li class="listitem">The <strong>Text</strong> menu.</li></ol><div></div><p>Answer: 3</p><p>Getting to this section involved selecting the Edit tool from the Tools palette, clicking on the title field on card 1, and choosing <strong>Text Formatting</strong> from the Inspector palette drop-down menu. However, there is indeed a Text menu. Really, that's what we should have used!</p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec25"/>Extending the calculator</h2></div></div></div><p>It is possible to <a id="id65" class="indexterm"/>add more features to the simple calculator. If we consider the functions in the card script and how the buttons are named, we can start to see the processes that are involved in adding a new ability, some of these processes are as follows:</p><div><ul class="itemizedlist"><li class="listitem">The calculator operator buttons are named so that the card script knows which one you clicked on.</li><li class="listitem">When the "equals" button is pressed there is a set of <code class="literal">if</code> statements in the <code class="literal">equalsPressed</code> handler that determine what happens next.</li></ul></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec26"/>Have a go hero – getting to the root of things</h2></div></div></div><p>On Windows, you can add a square root symbol with <code class="literal">Alt 251</code> and on Mac, with the shortcut <em>option</em> + <em>v</em>. Unfortunately, LiveCode doesn't like these as button labels! At least on Mac, when you type the character in the Inspector palette, the character immediately vanishes. One workaround would be to use the message box and type this:</p><div><pre class="programlisting">set the label of btn "squareroot" to "√"</pre></div><p>This should give you the right symbol as the button label.</p><p>LiveCode has a square root function; typing this in the Message Box would produce the square root of 10:</p><div><pre class="programlisting">put sqrt(10)</pre></div><p>Now that you are armed with the given information, try to add a square root feature to the calculator.</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Other interface controls</h1></div></div></div><p>So far, we only <a id="id66" class="indexterm"/>needed to look at the buttons and fields to be able to create <a id="id67" class="indexterm"/>the calculator. In the later chapters, we will use many more controls, so let's take a sneak peek at those.</p><div><div><div><div><h2 class="title"><a id="ch01lvl2sec27"/>The video player control</h2></div></div></div><p>LiveCode can play <a id="id68" class="indexterm"/>movies using the Player control type. These <a id="id69" class="indexterm"/>can be added to the card in several ways and then using a script command:</p><div><ul class="itemizedlist"><li class="listitem">A file can be added from your hard drive by selecting <strong>Import as Control/Video File…</strong> from the <strong>File</strong> menu</li><li class="listitem">An empty player can be created by selecting <strong>New Control/Player</strong> from the <strong>Object</strong> menu</li><li class="listitem">A player control can be dragged from the <strong>Tools</strong> palette to the card. In this case, a sample movie is included</li><li class="listitem">A player along with its name can be created with the code:<div><pre class="programlisting">new player "player name"</pre></div></li></ul></div><p>Having added the player to the card, you can then set the video file to be played by entering the file path or URL of the file under the <strong>Basic Settings</strong> option of the <strong>Inspector</strong> palette. You can also set the path to the video with script:</p><div><pre class="programlisting">set the filename of player "player name" to "file path or URL"</pre></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec28"/>The still image control</h2></div></div></div><p>In much the same way as <a id="id70" class="indexterm"/>you just saw for the playing of video, still images <a id="id71" class="indexterm"/>can be added to a stack. All of the options shown to add a video player can be done in the same way for images. Here, for example, is the script needed to add the RunRev company logo to the card:</p><div><pre class="programlisting">new image "revlogo"
set the filename of image "revlogo" to "http://runrev.com/wp-content/themes/runrev2013/ims/runrev_logo.png"</pre></div></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec29"/>Rollover buttons</h2></div></div></div><p>Images that you import <a id="id72" class="indexterm"/>can be used as icons in a button. To set up a <a id="id73" class="indexterm"/>button, so that it has a nice idle state image and an associated highlight image, you would have to go through the following steps:</p><div><ol class="orderedlist arabic"><li class="listitem">Select <strong>File</strong> | <strong>Import As Control</strong> | <strong>Image File…</strong>.</li><li class="listitem">Choose the images that represent the idle and highlight states and click on <strong>Open</strong>.</li><li class="listitem">Select the button that you wish to look like these images, and under <strong>Icons &amp; Border</strong> in the <strong>Inspector</strong> palette, click on the magic wand button to the right of the top entry ("Icon").</li><li class="listitem">In the dialog that appears, select <strong>This Stack</strong> from the drop-down menu.</li><li class="listitem">Select the image that is in the idle state for the button.</li><li class="listitem">Click on the magic wand button next to the <strong>Hilite</strong> entry and choose the highlight state image.</li><li class="listitem">Under <strong>Basic </strong><a id="id74" class="indexterm"/><strong>Properties</strong>, choose the transparent button from the Style drop-down menu.</li><li class="listitem">Uncheck the boxes for <a id="id75" class="indexterm"/><strong>Show name</strong>, <strong>Auto hilite</strong>, and <strong>Shared hilite</strong>.</li><li class="listitem">Resize the button to be big enough to show the image.</li><li class="listitem">Select each of the original images, and under <strong>Basic Properties</strong>, uncheck the <strong>Visible box</strong>.</li></ol><div></div><p>In the following screenshot, we can see two images that have been imported in order to give the <strong>Begin</strong> button a more iOS-like appearance. The button is selected and the <strong>Inspector</strong> palette shows the icon selection choices:</p><div><img src="img/image00232.jpeg" alt="Rollover buttons"/></div><p style="clear:both; height: 1em;"> </p><p>When you choose an <a id="id76" class="indexterm"/>image for use, the button itself is updated. In this <a id="id77" class="indexterm"/>case, the <strong>Hilite</strong> icon has been set to the darker version of the graphic, but as shown here, the button still needs to be resized.</p><div><img src="img/image00233.jpeg" alt="Rollover buttons"/></div><p style="clear:both; height: 1em;"> </p></div><div><div><div><div><h2 class="title"><a id="ch01lvl2sec30"/>Many more controls…</h2></div></div></div><p>LiveCode has a lot of <a id="id78" class="indexterm"/>different controls. Many are just slight variations, but there are plenty that are quite different from each other. Look at the <strong>Object</strong> menu and <strong>New Control</strong>. As you'll see, the list is very long!</p></div></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec18"/>Debugging</h1></div></div></div><p>If you went ahead and <a id="id79" class="indexterm"/>tried out the calculator before we entered all the <a id="id80" class="indexterm"/>scripts it needed, you most likely will have seen the script debugging in action. Hopefully, you've managed to cope with what you saw, it can be overwhelming at first. This is what it would have looked like:</p><div><img src="img/image00234.jpeg" alt="Debugging"/></div><p style="clear:both; height: 1em;"> </p><p>Most of what you see here is the same that you'll see when you edit scripts, but if you do see the debug variation, you are actually in a paused state, which is a freeze frame of the program as it runs. In this example, the program stopped because line 46 is looking for a field named <code class="literal">dis play</code>. There isn't such a field, as it should be <code class="literal">display</code>.</p><p>The error message at the <a id="id81" class="indexterm"/>bottom of the panel makes it clear that the error has something to do with the field name and you can quickly spot the typo. Sometimes though, you may <a id="id82" class="indexterm"/>need to inspect the variables to make sure they contain the values you think they should, for example, the <strong>Variables</strong> tab will show a list of those values.</p><p>An unexpected problem is one time that you may see the debugger, but when developing a script, you are able to set breakpoints by clicking in the column just to the left of the line number you want to halt the program at.</p><p>Once the script is halted by a breakpoint, you can use the row of buttons at the top to step through the code. The content displayed as you hover the cursor above a button, is it's meaning. These buttons are:</p><div><ul class="itemizedlist"><li class="listitem"><strong>Continue</strong>: This will set the script that runs again</li><li class="listitem"><strong>Stop</strong>: This stops the script from running and switches to the editor, so that you can make changes</li><li class="listitem"><strong>Show next statement</strong>: This will show an indicator to the left of the current line</li><li class="listitem"><strong>Step into next statement</strong>: This is used for stepping into a different handler</li><li class="listitem"><strong>Step over next statement</strong>: This is used to go onto the next statement in the current handler without stepping in a handler mentioned on the current line</li><li class="listitem"><strong>Step out of current handler</strong>: This is used to skip the remaining lines in a handler that you had previously stepped into and to exit to the handler that called the current one</li></ul></div><p>You will become familiar with the script editor and debugger as you go along, but that should get you started!</p><p>In this chapter, we covered just enough to make you familiar with the environment so that you can practice using some controls and to do a little script writing. There is quite a lot to LiveCode as a tool, so you <a id="id83" class="indexterm"/>may be interested to look into other topics or go into more <a id="id84" class="indexterm"/>depth than is covered here.</p><p>A good starting point <a id="id85" class="indexterm"/>would be LiveCode's own set of online tutorials, which are located at <a class="ulink" href="http://lessons.runrev.com/">http://lessons.runrev.com/</a>.</p><p>Type in the search box, words that describe your area of interest and you will see a list of articles on that topic.</p></div>
<div><div><div><div><h1 class="title"><a id="ch01lvl1sec19"/>Summary</h1></div></div></div><p>Having created a simple calculator from scratch, you should by now be more familiar with the LiveCode environment.</p><p>In this chapter, we covered buttons, fields, scripts, and the stack structure to get an understanding of how they work together. We also showed several short scripts to illustrate the English-like syntax used by LiveCode while using the script window to debug a script.</p><p>We then examined other interface controls in preparation to use those in later chapters of this book.</p><p>We also discussed the kinds of variables used by LiveCode and how it can use abbreviated commands and synonyms.</p><p>Now that you've learned enough to make regular LiveCode stacks, we need to download and install additional software from Google and Apple that is required to publish a stack to a mobile device and then we need to begin trying out mobile-specific features—both of which are covered in the next chapter.</p></div></body></html>