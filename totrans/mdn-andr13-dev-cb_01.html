<html><head></head><body>
<div><h1 class="chapter-number" id="_idParaDest-15"><a id="_idTextAnchor014"/>1</h1>
<h1 id="_idParaDest-16"><a id="_idTextAnchor015"/>Getting Started with Modern Android Development Skills</h1>
<p>The <a id="_idIndexMarker000"/>Android <strong class="bold">Operating System</strong> (<strong class="bold">OS</strong>) is one of the most favored platforms for mobile devices, with many users worldwide. The OS is used in cars and wearables such as smart watches, TVs, and phones, which makes the market quite wide for Android developers. Hence, there is a need for new developers to learn how to build Android <a id="_idIndexMarker001"/>applications utilizing new <strong class="bold">Modern Android Development</strong> (<strong class="bold">MAD</strong>) skills.</p>
<p>Android has come a long way since being<a id="_idIndexMarker002"/> launched in 2008 and used in the first <strong class="bold">Integrated Development Environments</strong> (<strong class="bold">IDEs</strong>), Eclipse and NetBeans. Today, Android Studio is the recommended IDE for Android development and, unlike before, when Java was the preferred language, Kotlin is now the language of choice.</p>
<p>Android Studio<a id="_idIndexMarker003"/> includes support for Kotlin, Java, C++, and other programming languages, making this IDE suitable for developers with different skill sets.</p>
<p>Hence, by the end of this chapter, following the recipes, you will have Android Studio installed, have built your first Android application using Jetpack Compose, and have learned some Kotlin syntax, utilizing the preferred language for Android development. In addition, this introduction will prepare the base for you to understand advanced material that will be crucial for MAD.</p>
<p>In this chapter, we’ll be covering the following recipes:</p>
<ul>
<li>Writing your first program in Kotlin using variables and idioms</li>
<li>Creating a Hello, Android Community app using Android Studio</li>
<li>Setting up your emulator in Android Studio</li>
<li>Creating a button in Jetpack Compose</li>
<li>Utilizing <code>gradlew</code> commands to clean and run your project in Android Studio</li>
<li>Understanding the Android project struct<a id="_idTextAnchor016"/>ure</li>
<li>Debugging and logging in Android Stu<a id="_idTextAnchor017"/>dio</li>
</ul>
<h1 id="_idParaDest-17"><a id="_idTextAnchor018"/>Technical requirements</h1>
<p>Running the Android IDE and an emulator successfully can be daunting for your computer. You may have heard the joke about how machines running Android Studio can be used as heaters in winter. Well, there is some truth in that, so your computer should have the following specifications to ensure your system can cope with the IDE’s demands:</p>
<ul>
<li>64-bit Microsoft Windows, macOS, or Linux installed along with a stable internet connection. Recipes in this book have been developed within macOS. You can also use a Windows or Linux laptop, as there is no difference between using either.</li>
<li>For Windows and Linux users, you can follow this link to install Android Studio: <a href="https://developer.android.com/studio/install">https://developer.android.com/studio/install</a>.</li>
<li>Minimum of 8 GB of RAM or more.</li>
<li>Minimum of 8 GB of available disk space for Android Studio, the Android <strong class="bold">Software Development Kit</strong> (<strong class="bold">SDK</strong>), and the Android Emulator.</li>
<li>A minimum screen resolution of 1280 x 800 is preferred.</li>
<li>You can download Android Studio at <a href="https://developer.android.com/studio">https://developer.android.com/studio</a>.</li>
</ul>
<p>The complete source code for this chapter is available on GitHub at: <a href="https://github.com/PacktPublishing/Modern-Android-13-Development-Cookbook/tree/main/chapter_one">https://github.com/PacktPublishing/Modern-Android-13-Development-Cookbook/tree/main/chapter_one</a></p>
<h1 id="_idParaDest-18"><a id="_idTextAnchor020"/>Writing your first program in Kotlin using variables  and idioms</h1>
<p><strong class="bold">Kotlin</strong> is the <a id="_idIndexMarker004"/>recommended language for Android development; you can still use Java as your language of choice, as many legacy applications still heavily rely on Java. However, in this book, we will use Kotlin, and if this is the first time you are building Android applications using the Kotlin language, the Kotlin organization has excellent resources to help you get started with free practice exercises and self-paced assessments<a id="_idIndexMarker005"/> called <strong class="bold">Kotlin </strong><strong class="bold">Koans</strong> (<a href="https://play.kotlinlang.org/koans/overview">https://play.kotlinlang.org/koans/overview</a>).</p>
<p>In addition, you can use the Kotlin language for multiplatform development using <strong class="bold">Kotlin Multiplatform Mobile</strong> (<strong class="bold">KMM</strong>), in which you<a id="_idIndexMarker006"/> can share standard code between iOS and Android apps and write platform-specific code only where necessary. KMM is currently in A<a id="_idTextAnchor021"/>lpha.</p>
<h2 id="_idParaDest-19"><a id="_idTextAnchor022"/>Getting ready</h2>
<p>In this recipe, you can either use the online <a id="_idIndexMarker007"/>Kotlin playground (<a href="https://play.kotlinlang.org/">https://play.kotlinlang.org/</a>) to run your code or run the code in your Android Studio IDE. Alternatively, you can download and use the IntelliJ IDEA IDE if you plan on doing more Kotlin practice questions with<a id="_idTextAnchor023"/> Koans.</p>
<h2 id="_idParaDest-20"><a id="_idTextAnchor024"/>How to do it…</h2>
<p>In this recipe, we will <a id="_idIndexMarker008"/>explore and modify a simple program that we will write in Kotlin; you can think of a program as instructions we give a computer or mobile devices to perform actions that we give them. For instance, we will create a greeting in our program and later write a different program.</p>
<p>For this recipe, you can choose either Android Studio or the free online IDE since we will touch on some Kotlin functionalities:</p>
<ol>
<li>If you opt to use the Kotlin online playground for the first time, you will see something like the following screenshot, with a <code>println</code> statement that says <code>Hello, world</code>, but for our example, we will change that greeting to <em class="italic">Hello, Android Community</em>, and run the code.</li>
</ol>
<div><div><img alt="Figure 1.1 – The online Kotlin editor" src="img/B18827_01_01.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.1 – The online Kotlin editor</p>
<ol>
<li value="2">Let’s look at another example; a popular algorithm problem used in interviews – reversing a string. For example, you have a string, <code>Community</code>, and we want to reverse the string so that the output will be <code>ytinummoC</code>. There are several ways to solve this problem, but we will solve it using the Kotlin idiomatic way.</li>
<li>Input the following <a id="_idIndexMarker009"/>code in the playground of your IDE or the Kotlin playground:<pre class="source-code">
fun main() {</pre><pre class="source-code">
    val stringToBeReversed = "Community"</pre><pre class="source-code">
    println(reverseString(stringToBeReversed))</pre><pre class="source-code">
}</pre><pre class="source-code">
fun reverseString(stringToReverse: String): String {</pre><pre class="source-code">
    return stringToReverse.reve<a id="_idTextAnchor025"/>rsed()</pre><pre class="source-code">
}</pre></li>
</ol>
<h2 id="_idParaDest-21"><a id="_idTextAnchor026"/>How it works…</h2>
<p>It is essential to mention in Kotlin, that there are unique ways to keep your code cleaner, more precise, and simpler by taking advantage of the default parameter value and only setting the parameters you need to alter.</p>
<p><code>fun</code> is a word in Kotlin programming language that stands for <em class="italic">function</em>, and a function in Kotlin is a <a id="_idIndexMarker010"/>section of a program that performs a specific task. The name of the function in our first example is <code>main()</code>, and in our <code>main()</code> function, we do not have any inputs. Functions, in general, have names so that we are able to distinguish them from each other if our code base is complex.</p>
<p>In addition, in Java, a function is similar to a method. The function name has two parentheses and curly braces, and <code>println</code>, which tells the system to print a line of text.</p>
<p>If you have used Java, you might notice that the Kotlin programming language is very similar to Java. However, developers now talk about how great Kotlin language is for developers because it provides more expressive syntax and sophisticated type systems and handles the Null pointer problem that Java had for many years. To take full advantage of the Kotlin language power and write more concise code, knowing about Kotlin idioms can be beneficial. Kotlin idioms<a id="_idIndexMarker011"/> are frequently used collections that help to manipulate data and make Android developers’ experience more effortless.</p>
<p>In our second example, we <a id="_idIndexMarker012"/>have two functions, <code>main()</code> and <code>reverseString()</code>. <code>main()</code> takes nothing in its input, but <code>reverseString()</code> does take in a String input. You will also notice we use <code>val</code>, which is a unique word used by Kotlin to refer to an immutable value that can only be set to one value, as compared to <code>var</code>, which is a mutable<a id="_idIndexMarker013"/> variable, meaning it can be resigned.</p>
<p>We create a <code>val stringToBeReversed</code> which is a String and call it <code>"Community"</code>, then call <code>println</code> inside the <code>main()</code> function, and pass in the text we want to print in our <code>reverseString()</code> function. Furthermore, in this example, our <code>reverseString</code> function takes in a <code>string</code> argument from the String object and then returns a string type.</p>
<div><div><img alt="Figure 1.2 – The reversed string on the Kotlin playground" src="img/B18827_01_02.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.2 – The reversed string on the Kotlin playground</p>
<p>There is more to <a id="_idIndexMarker014"/>learn, and it is fair to acknowledge that what we have covered in this recipe is just a tiny part of what you can do with Kotlin idioms. This recipe aimed to introduce concepts that we might touch on or use in later chapters, not in depth, however, since we will explore more of Kotlin in later chapters. Hence, it’s good to know what Kotlin idioms<a id="_idIndexMarker015"/> are and why they are essen<a id="_idTextAnchor027"/>tial for now.</p>
<h2 id="_idParaDest-22"><a id="_idTextAnchor028"/>See also</h2>
<p>A better understanding of the Kotlin syntax and popular use cases will be vital for your day-to-day work, so look at the following resources:</p>
<ul>
<li>The JetBrains Academy<a id="_idIndexMarker016"/> has a great free Kotlin Basics course here: <a href="https://hyperskill.org/tracks/18">https://hyperskill.org/tracks/18</a>.</li>
<li>The Kotlin documentation<a id="_idIndexMarker017"/> is also a great resource to keep handy: <a href="https://kotlinlang.org/docs/home.html">https://kotlinlang.org/docs/home.html</a>.</li>
</ul>
<h1 id="_idParaDest-23"><a id="_idTextAnchor029"/>Creating a Hello, Android Community app using Android Studio</h1>
<p>We will create our first <a id="_idIndexMarker018"/>Android application<a id="_idIndexMarker019"/> now that we have installed Android Studio. In addition, we will use Compose – just to mention in advance, in this recipe, we will not go in depth about Compose, as we have a dedicated chapter on Compose, which is <a href="B18827_02.xhtml#_idTextAnchor082"><em class="italic">Chapter 2</em></a>, <em class="italic">Creating Screens Using a Declarative UI and Exploring </em><em class="italic">Co<a id="_idTextAnchor030"/>mpose Principles</em>.</p>
<h2 id="_idParaDest-24"><a id="_idTextAnchor031"/>Getting ready</h2>
<p>Before you begin, it’s helpful to know where your Android projects are for consistency. By default, Android Studio creates a package in your home directory, and the package name is <code>AndroidStudioProjects</code>; here, you will find all the projects you create.</p>
<p>You can also decide where the folder should be if you want to change it. In addition, ensure you are using the latest version of Android Studio to utilize all the great features. To find out what the latest Android version is, you can use the following link: <a href="https://developer.android.com/studio/releases">https://developer.android.com/studio/releases</a>.</p>
<h2 id="_idParaDest-25"><a id="_idTextAnchor033"/>How to do it…</h2>
<p>In the Android Studio IDE, a project template is an Android app that has all the necessary parts to create an application and helps you get started and set up.</p>
<p>So, step by step, we will make our first Android application and launch it on the emulator:</p>
<ol>
<li>Start Android Studio by clicking on the Android Studio icon in your dock or wherever you have stored Android Studio.</li>
<li>You will see a welcome Android Studio window open up, and you can click on <strong class="bold">New Project</strong>. Alternatively, you can go to <strong class="bold">File</strong> and click <strong class="bold">New Project</strong>.</li>
<li>Select <strong class="bold">Empty Compose Activity</strong> and click on <strong class="bold">Next</strong>.</li>
</ol>
<div><div><img alt="Figure 1.3 – Creating an empty Compose activity" src="img/B18827_01_03.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.3 – Creating an empty Compose activity</p>
<ol>
<li value="4">Once <a id="_idIndexMarker020"/>the empty<a id="_idIndexMarker021"/> Compose activity screen loads (<em class="italic">Figure 1</em><em class="italic">.4</em>), you will see fields including <code>Android Community</code> and leave the other settings as is. You will also notice that the language is <strong class="bold">Kotlin</strong> by default.</li>
</ol>
<p>As for <strong class="bold">Minimum SDK</strong>, our target is <strong class="bold">API 21: Android 5.0 (Lollipop)</strong>, which indicates the minimum version of Android that your app can run, which, in our case, is approximately 98.8% of devices. You can also click on the dropdown and learn more about the minimum SDK.</p>
<div><div><img alt="Figure 1.4 – Naming your empty Compose activity" src="img/B18827_01_04.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.4 – Naming your empty Compose activity</p>
<p>Click <strong class="bold">Finish</strong> and wait for Gradle to sync.</p>
<ol>
<li value="5">Go ahead and play around with the packages, and you will notice a <code>MainActivity</code> class that extends a <code>ComponentActivity()</code> which extends <code>Activity()</code>; inside, we have a <code>fun onCreate</code>, which is an override from the <code>ComponentActivity</code>. You will also see a <code>setContent{}</code>, which is a function used to set the content of a Composable function. The <code>setContent{}</code> function takes a lambda expression that contains<a id="_idIndexMarker022"/> the UI elements that should be displayed, and in our case it holds the theme of our application. In <a id="_idIndexMarker023"/>the <code>Greeting()</code>function, we will change what is provided and add our own greeting which is <code>"Hello, Android Community"</code> and run, and we will have created our first <code>Greeting</code>:<pre class="source-code">
class MainActivity : ComponentActivity() {</pre><pre class="source-code">
    override fun onCreate(savedInstanceState: Bundle?)</pre><pre class="source-code">
    {</pre><pre class="source-code">
        super.onCreate(savedInstanceState)</pre><pre class="source-code">
        setContent {</pre><pre class="source-code">
            AndroidCommunityTheme {</pre><pre class="source-code">
                Surface(</pre><pre class="source-code">
                    modifier = Modifier.fillMaxSize(),</pre><pre class="source-code">
                    color =</pre><pre class="source-code">
                    MaterialTheme.colors.background</pre><pre class="source-code">
                ) {</pre><pre class="source-code">
                    Greeting("Hello, Android</pre><pre class="source-code">
                              Community")</pre><pre class="source-code">
                }</pre><pre class="source-code">
            }</pre><pre class="source-code">
        }</pre><pre class="source-code">
    }</pre><pre class="source-code">
}</pre></li>
<li>Let’s <a id="_idIndexMarker024"/>go ahead <a id="_idIndexMarker025"/>and modify the <code>Greeting()</code> function and assign the <code>name</code> argument to the text:<pre class="source-code">
@Composable</pre><pre class="source-code">
fun Greeting(name: String) {</pre><pre class="source-code">
    Text(</pre><pre class="source-code">
        text = name</pre><pre class="source-code">
    )</pre><pre class="source-code">
}</pre></li>
</ol>
<p>In addition, you can also just pass <code>"Hello, Android Community"</code> into the default implementation, and this will produce the same UI.</p>
<ol>
<li value="7">Like in an<a id="_idIndexMarker026"/> XML <a id="_idIndexMarker027"/>view, you can easily view the UI you are building without running the app in an emulator using <code>@Preview(showBackground = true)</code>, so let’s go ahead and add this to our code if it is not available. By default, the project comes with a template that has a <code>Preview()</code>:<pre class="source-code">
@Preview(showBackground = true)</pre><pre class="source-code">
@Composable</pre><pre class="source-code">
fun DefaultPreview() {</pre><pre class="source-code">
}</pre></li>
<li>Finally, when you run the application, you should have a screen like in <em class="italic">Figure 1</em><em class="italic">.5</em>. In the following recipe, we will look at how you can set up your emulator step by step, so do not worry about that yet.</li>
</ol>
<div><div><img alt="Figure 1.5 – Screen displaying He﻿llo, Android Community" src="img/B18827_01_05.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.5 – Screen displaying He<a id="_idTextAnchor034"/>llo, Android Community</p>
<h2 id="_idParaDest-26"><a id="_idTextAnchor035"/>How it works…</h2>
<p>The key<a id="_idIndexMarker028"/> benefits <a id="_idIndexMarker029"/>of using Jetpack Compose for creating your view are that it speeds up the development time since you use the same language to write your entire code base (Kotlin) and it is easier to test. You can also create reusable components that you can customize to your needs.</p>
<p>Therefore, ensuring lower chances of errors and having to write views with XML because it is tedious and cumbersome. The <code>onCreate()</code> function is considered the entry point to the application in Android. Furthermore, we use <code>modifier</code> functions to add behavior and decorate the composable. We’ll talk more about what <code>modifier</code> and <code>Surface</code> functions can<a id="_idTextAnchor036"/> do in the next chapter.</p>
<h1 id="_idParaDest-27"><a id="_idTextAnchor037"/>Setting up your emulator in Android Studio</h1>
<p>Android Studio <a id="_idIndexMarker030"/>is a reliable and mature IDE. As a result, Android Studio has been the favored IDE for developing Android applications since 2014. Of course, you can still use other IDEs, but the advantage of Android Studio is that you do not need to install the<a id="_idTextAnchor038"/> Android SDK separately.</p>
<h2 id="_idParaDest-28"><a id="_idTextAnchor039"/>Getting ready</h2>
<p>You need to have done the previous recipe to be able to follow along with this recipe since we will be setting up our emulator in order to run the<a id="_idTextAnchor040"/> project we just created.</p>
<h2 id="_idParaDest-29"><a id="_idTextAnchor041"/>How to do it…</h2>
<p>This chapter<a id="_idIndexMarker031"/> seeks to be friendly to beginners and <a id="_idIndexMarker032"/>also move you smoothly toward more advanced Android as you work through the recipes.</p>
<p>Let’s follow these steps to see how you can set up your emulator and run your project in the <em class="italic">Creating a Hello, Android Community App using Android </em><em class="italic">Studio</em> recipe:</p>
<ol>
<li>Navigate to <strong class="bold">Tools</strong> | <strong class="bold">Device Manager</strong>. Once the device manager is ready, you have two options: <strong class="bold">Virtual</strong> or <strong class="bold">Physical</strong>. <strong class="bold">Virtual</strong> means you will be using an emulator, and <strong class="bold">Physical</strong> means you will be enabling your Android phone to debug Android applications. For our purposes, we will choose <strong class="bold">Virtual</strong>.</li>
<li>Click on <strong class="bold">Create device</strong>, and the <strong class="bold">Virtual Device Configuration</strong> screen will pop up.</li>
<li>Pick <strong class="bold">Phone</strong>. You <a id="_idIndexMarker033"/>will notice Android Studio has other <a id="_idIndexMarker034"/>categories, such as <strong class="bold">TV</strong>, <strong class="bold">Wear OS</strong>, <strong class="bold">Tablet</strong>, and <strong class="bold">Automotive</strong>. Let’s use <strong class="bold">Phone</strong> for now, and in a future chapter, we will try using <strong class="bold">Wear OS</strong>. Click on <strong class="bold">Next</strong>.</li>
</ol>
<div><div><img alt="Figure 1.6 – Selecting a virtual device" src="img/B18827_01_06.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.6 – Selecting a virtual device</p>
<ol>
<li value="4">In <em class="italic">Figure 1</em><em class="italic">.7</em>, you will see a list of <strong class="bold">Recommended system images</strong>. You can choose any or use the default one, which is <strong class="bold">S</strong> in our case for Android 12, although you <a id="_idIndexMarker035"/>might want to use the latest API, <strong class="bold">33</strong>, and <a id="_idIndexMarker036"/>then click <strong class="bold">Next</strong>.</li>
</ol>
<div><div><img alt="Figure 1.7 – Selecting a system image" src="img/B18827_01_07.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.7 – Selecting a system image</p>
<ol>
<li value="5">You will now arrive <a id="_idIndexMarker037"/>at the <strong class="bold">Android Virtual Device</strong> (<strong class="bold">AVD</strong>) screen, where you can name your virtual device. You can enter a name or just leave the default, <strong class="bold">Pixel 2 API 31</strong>, and then hit <strong class="bold">Finish</strong>.</li>
</ol>
<div><div><img alt="Figure 1.8 – Final steps of setting up the AVD" src="img/B18827_01_08.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.8 – Final steps of setting up the AVD</p>
<ol>
<li value="6">Test your<a id="_idIndexMarker038"/> virtual device by running it and ensure it <a id="_idIndexMarker039"/>works as expected. You should see something similar to <em class="italic">Figure 1</em><em class="italic">.9</em> once you run your application on the emulator.</li>
</ol>
<div><div><img alt="Figure 1.9 – The Device Manager section to run the emulator" src="img/B18827_01_09.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.9 – The Device Manager section to run the emulator</p>
<p class="callout-heading">Important note</p>
<p class="callout">To create a physical testing device, you must go to <strong class="bold">Settings</strong> on your Android phone and select <strong class="bold">About phone</strong> | <strong class="bold">Software information</strong> | <strong class="bold">Build number</strong> and hold down the button as you release until you see <strong class="bold">You are now four steps away from being a developer</strong>. Once the count is complete, you will see a notification saying <strong class="bold">Developer options successfully enabled</strong>. All you need now is to use a <strong class="bold">Universal Serial Bus</strong> (<strong class="bold">USB</strong>) and toggle<a id="_idIndexMarker040"/> USB debugging. Finally, you will see that your physi<a id="_idTextAnchor042"/>cal phone is ready for testing.</p>
<h2 id="_idParaDest-30"><a id="_idTextAnchor043"/>How it works…</h2>
<p>Testing<a id="_idIndexMarker041"/> and ensuring your applications display the expected <a id="_idIndexMarker042"/>outcome is very important. That is why Android Studio uses the emulator to help developers ensure their application functions as it would on standard devices. Furthermore, Android phones come with a developer’s option ready for developers to use, which makes it even easier for the different number of devices that Android supports <a id="_idIndexMarker043"/>and also for<a id="_idIndexMarker044"/> helping reproduce bugs <a id="_idTextAnchor044"/>that are hard to find in emulators.</p>
<h1 id="_idParaDest-31"><a id="_idTextAnchor045"/>Creating a button in Jetpack Compose</h1>
<p>We must note that we cannot cover all views in just one recipe; we have a chapter dedicated to learning more about<a id="_idIndexMarker045"/> Jetpack Compose, so in the project we have created, we will just try to create two mo<a id="_idTextAnchor046"/>re additional views for our project.</p>
<h2 id="_idParaDest-32"><a id="_idTextAnchor047"/>Getting ready</h2>
<p>Open the <strong class="bold">Android Community</strong> project, as that is the project we w<a id="_idTextAnchor048"/>ill be building upon in this recipe.</p>
<h2 id="_idParaDest-33"><a id="_idTextAnchor049"/>How to do it…</h2>
<p>Let’s start by<a id="_idIndexMarker046"/> implementing a <a id="_idIndexMarker047"/>simple button in Compose:</p>
<ol>
<li>Let’s go ahead and organize our code and align the text to the center by adding a <code>Column()</code> to organize our views. This should be added to the <code>setContent{}</code> function:<pre class="source-code">
Column(</pre><pre class="source-code">
    modifier = Modifier</pre><pre class="source-code">
        .fillMaxSize()</pre><pre class="source-code">
        .wrapContentSize(Alignment.Center),</pre><pre class="source-code">
    horizontalAlignment = Alignment.CenterHorizontally</pre><pre class="source-code">
) {</pre><pre class="source-code">
    Greeting("Hello, Android Community")</pre><pre class="source-code">
  }</pre><pre class="source-code">
}</pre></li>
<li>Now, create a <a id="_idIndexMarker048"/>function and call it <code>SampleButton</code>; we <a id="_idIndexMarker049"/>will pass nothing in this example. However, we will have a <code>RowScope{}</code>, which defines the <code>modifier</code> functions applicable to our button in this case, and we will give our button a name: <code>click me</code>.</li>
<li>In Compose, when you create a button, you can set its shape, icon, and elevation, check whether it is enabled or not, check its content, and more. You can check how to customize your button by command-clicking on the <code>Button()</code> component:<pre class="source-code">
@Composable</pre><pre class="source-code">
fun SampleButton() {</pre><pre class="source-code">
    Button(</pre><pre class="source-code">
        onClick = { /*TODO*/ },</pre><pre class="source-code">
        modifier = Modifier</pre><pre class="source-code">
            .fillMaxWidth()</pre><pre class="source-code">
            .padding(24.dp),</pre><pre class="source-code">
        shape = RoundedCornerShape(20.dp),</pre><pre class="source-code">
        border = BorderStroke(2.dp, Color.Blue),</pre><pre class="source-code">
        colors = ButtonDefaults.buttonColors(</pre><pre class="source-code">
            contentColor = Color.Gray,</pre><pre class="source-code">
            backgroundColor = Color.White</pre><pre class="source-code">
        )</pre><pre class="source-code">
    ) {</pre><pre class="source-code">
        Text(</pre><pre class="source-code">
            text = stringResource(id =</pre><pre class="source-code">
                       R.string.click_me),</pre><pre class="source-code">
            fontSize = 14.sp,</pre><pre class="source-code">
            modifier = Modifier.padding(horizontal =</pre><pre class="source-code">
                           30.dp, vertical = 6.dp)</pre><pre class="source-code">
        )</pre><pre class="source-code">
    }</pre><pre class="source-code">
}</pre></li>
</ol>
<p>In our <code>SampleButton</code><code><a id="_idIndexMarker050"/></code>, <code>onClick</code> does not do anything; our button has a modifier of the <a id="_idIndexMarker051"/>maximum fill width, padding of 24 <strong class="bold">density-independent pixels</strong> (<strong class="bold">dp</strong>), and round <a id="_idIndexMarker052"/>corners with a radius of 20 dp.</p>
<p>We have also set the button’s color and added <code>click me</code> as text. We set our font size to 14 <strong class="bold">scale-independent pixels</strong> (<strong class="bold">sp</strong>), as <a id="_idIndexMarker053"/>this helps in ensuring that the text will adjust well for both the screen and users’ preferences.</p>
<ol>
<li value="4">Also, click <strong class="bold">Split</strong> in the top right to preview your screen elements, or you can click on the <strong class="bold">Design</strong> section to view the entire screen without the code.</li>
</ol>
<div><div><img alt="Figure 1.10 – View both the code and design in Android Studio" src="img/B18827_01_10.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.10 – View both the code and design in Android Studio</p>
<ol>
<li value="5">Finally, let’s call our <code>SampleButton</code> function, where the <code>Greeting</code> function is, and run the app:<pre class="source-code">
Column(</pre><pre class="source-code">
    modifier = Modifier</pre><pre class="source-code">
        .fillMaxSize()</pre><pre class="source-code">
        .wrapContentSize(Alignment.Center),</pre><pre class="source-code">
    horizontalAlignment = Alignment.CenterHorizontally</pre><pre class="source-code">
) {</pre><pre class="source-code">
    Greeting("Hello, Android Community")</pre><pre class="source-code">
    SampleButton()</pre><pre class="source-code">
}</pre></li>
<li>Compile and run<a id="_idIndexMarker054"/> the program; your app should look<a id="_idIndexMarker055"/> similar to <em class="italic">Figure 1</em><em class="italic">.11</em>.</li>
</ol>
<div><div><img alt="Figure 1.11 ﻿– A screenshot showing the text and a button" src="img/B18827_01_11.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.11 <a id="_idTextAnchor050"/>– A screenshot showing the text and a button</p>
<h2 id="_idParaDest-34"><a id="_idTextAnchor051"/>How it works…</h2>
<p>A<a id="_idIndexMarker056"/> Composable<a id="_idIndexMarker057"/> app comprises several composable functions, just normal functions annotated with <code>@Composable</code>. As Google documentation explains, the annotation tells the Compose to add exceptional support to the procedure for updating and maintaining your UI over time. Compose also lets you structure your code into small maintainable chunks that<a id="_idTextAnchor052"/> you can adjust and reuse at any given point.</p>
<h2 id="_idParaDest-35"><a id="_idTextAnchor053"/>There’s more…</h2>
<p>Since it’s hard to cover all views in a single recipe, we will work on more views in <a href="B18827_02.xhtml#_idTextAnchor082"><em class="italic">Chapter 2</em></a>, <em class="italic">Creating Screens Using a Declarative UI and Exploring Compose Principles</em>, explore the b<a id="_idTextAnchor054"/>est practices, and test our composable views.</p>
<h1 id="_idParaDest-36"><a id="_idTextAnchor055"/>Utilizing gradlew commands to clean and run your project in Android Studio</h1>
<p>The <code>gradlew</code> command<a id="_idIndexMarker058"/> is a robust Gradle wrapper that has excellent usage. In Android Studio, however, you do not need to install it because it is a <a id="_idTextAnchor056"/>script that comes packaged within the project.</p>
<h2 id="_idParaDest-37"><a id="_idTextAnchor057"/>Getting ready</h2>
<p>For now, however, we<a id="_idIndexMarker059"/> will not look into all the Gradle commands but instead use the most popular ones to<a id="_idIndexMarker060"/> clean, build, provide info, debug, and scan our project to find any issues when we run our application. You can run the commands in your laptop’s terminal as long as you are in the correct director<a id="_idTextAnchor058"/>y or use the terminal provided by Android Studio.</p>
<h2 id="_idParaDest-38"><a id="_idTextAnchor059"/>How to do it…</h2>
<p>Follow these steps to check and confirm whether Gradle works as anticipated:</p>
<ol>
<li>You can check the version by simply running <code>./gradlew</code>.</li>
</ol>
<div><div><img alt="Figure 1.12 – gradlew version" src="img/B18827_01_12.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.12 – gradlew version</p>
<ol>
<li value="2">To build and clean your project, you can run the <code>./gradlew clean</code> and <code>./gradlew build</code> commands. If anything is wrong with your project, the build will fail, and you can investigate the error. In addition, in Android, you can always run your project without using the Gradle commands, and just utilize the IDE run and clean options. We will discuss this topic in depth in <a href="B18827_12.xhtml#_idTextAnchor672"><em class="italic">Chapter 12</em></a>, <em class="italic">Android Studio Tips and Tricks to Help You </em><em class="italic">during Development</em>.</li>
<li>The <a id="_idIndexMarker061"/>following <a id="_idIndexMarker062"/>are a few more useful <code>gradlew</code> commands; for example, when your build fails and you want to know what went wrong, use the commands to investigate or click on the error message (see <em class="italic">Figure 1</em><em class="italic">.13</em>):<ul><li>Run with the <code>--stacktrace</code> option to get the stack trace</li><li>Run with the <code>--info</code> or <code>--debug</code> option to get more log output</li><li>Run with <code>--scan</code> to get<a id="_idTextAnchor060"/> full insights</li></ul></li>
</ol>
<div><div><img alt="Figure 1.13 – Build error output" src="img/B18827_01_13.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.13 – Build error output</p>
<h2 id="_idParaDest-39"><a id="_idTextAnchor061"/>How it works</h2>
<p>Gradle<a id="_idIndexMarker063"/> is a general-purpose build tool that proves to be very powerful in Android development. In addition, you can create and publish your custom plugins to encapsulate your conventions and build functionality. Advantages of Gradle include incremental build works for test execution, compilation, and<a id="_idTextAnchor062"/> any other task that happens in your build system.</p>
<h2 id="_idParaDest-40"><a id="_idTextAnchor063"/>See also</h2>
<p>More about Gradle and wh<a id="_idTextAnchor064"/>at it<a id="_idIndexMarker064"/> does can be found here: <a href="https://gradle.org/">https://gradle.org/</a>.</p>
<h1 id="_idParaDest-41"><a id="_idTextAnchor065"/>Understanding the Android project structure</h1>
<p>If this is your first time looking at the <a id="_idIndexMarker065"/>Android project folder, you might wonder where to add your code and what the packages mean. This recipe will walk thro<a id="_idTextAnchor066"/>ugh what each folder holds and what code goes where.</p>
<h2 id="_idParaDest-42"><a id="_idTextAnchor067"/>Getting ready</h2>
<p>If you open your project, you will notice many folders. The main folders in your Android project are listed here:</p>
<ul>
<li>The <code>manifest</code> folder</li>
<li>The <code>java</code> folder (<code>test<a id="_idTextAnchor068"/></code>/<code>androidTest</code>)</li>
<li>The <code>Res </code><code>Resource</code> folder</li>
<li><code>Gradle Scripts</code></li>
</ul>
<h2 id="_idParaDest-43"><a id="_idTextAnchor069"/>How to do it…</h2>
<p>Let’s navigate through each folder as we learn what is stored, where, and why:</p>
<ol>
<li>In <em class="italic">Figure 1</em><em class="italic">.14</em>, you can see the <strong class="bold">Packages</strong> dropdown; click on that, and a window with <strong class="bold">Project</strong>, <strong class="bold">Packages</strong>, <strong class="bold">Project Files</strong>, and more will pop up.</li>
<li>You can opt to <a id="_idIndexMarker066"/>view your project using the Android logo, via <code>Project</code> highlighted section next to the drop-down menu. The Project view is best when you have many modules in your application and want to add specific code. Feel free to click on the sections and see what they hold.</li>
</ol>
<div><div><img alt="Figure 1.14 – Android Studio project structure" src="img/B18827_01_14.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.14 – Android Studio project structure</p>
<ol>
<li value="3">The <code>manifest</code> folder is the source of truth for the Android application; it contains <code>AndroidManifest.xml</code>. Click inside the file, and you will notice you have an intent launcher that launches the Android application on your emulator.</li>
<li>In addition, the version number is typically set in Gradle and then merged into <code>manifest</code> and in the manifest is where we add all needed permissions. You will also notice the package name, metadata, data extraction rules, theme, and icon; if you have a unique icon, you can add one here.</li>
</ol>
<div><div><img alt="Figure 1.15 – Android Studio project structure manifest file" src="img/B18827_01_15.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.15 – Android Studio project structure manifest file</p>
<p class="callout-heading">Important note</p>
<p class="callout">Making your icon adaptive is the new favored way to add icons to your applications. Adaptive icons display differently depending on individual user theming in MAD. See <a href="https://developer.android.com/develop/ui/views/launch/icon_design_adaptive">https://developer.android.com/develop/ui/views/launch/icon_design_adaptive</a>.</p>
<ol>
<li value="5">The <code>java</code> folder <a id="_idIndexMarker067"/>contains all the Kotlin (<code>.kt</code>) and Java (<code>.java</code>) files we create as we build our Android applications. For example, in <em class="italic">Figure 1</em><em class="italic">.16</em>, we have a package with <strong class="bold">(androidTest)</strong> and <strong class="bold">(test)</strong>, and this is where we add our tests. Go ahead and click on all the folders and see what they contain.</li>
</ol>
<div><div><img alt="Figure 1.16 – Android ﻿Studio project structure Java folders" src="img/B18827_01_16.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.16 – Android Studio project structure Java folders</p>
<ol>
<li value="6"> In the <code>androidTest</code> folder, we <a id="_idIndexMarker068"/>write our UI tests to test the UI functionalities, and in the test folder, we write our unit test. Unit testing tests small pieces of our code to ensure the required behavior is as anticipated. <strong class="bold">Test-Driven Development</strong> (<strong class="bold">TDD</strong>) is<a id="_idIndexMarker069"/> excellent and valuable during app development. Some companies follow this rule, but some do not enforce it. However, it is a great skill to have, as it is good practice to always test your code.</li>
</ol>
<p>The <code>res</code> folder contains XML layouts, UI strings, drawable images, and Mipmap icons. On the other hand, the <code>values</code> folder contains many useful XML files such as <code>dimensions</code>, <code>colors</code>, and <code>themes</code>. Go ahead and click on the <code>res</code> folder to get familiar with what is there, as we will use it in the next chapter.</p>
<div><div><img alt="Figure 1.17 – Android Studio project structure res folder" src="img/B18827_01_17.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.17 – Android Studio project structure res folder</p>
<p class="callout-heading">Important note</p>
<p class="callout">Unless you are building a new project from scratch, many applications still use XML layouts, and developers opt to develop new screens with Jetpack Compose as an advancement now. Therefore, you might<a id="_idTextAnchor070"/> have to maintain or know how to write views in XML.</p>
<ol>
<li value="7">Finally, in <code>Gradle Scripts</code>, you <a id="_idIndexMarker070"/>will see the files that define the build configuration we can apply in our modules. For example, in <code>build.gradle(Project: AndroidCommunity)</code>, you will see a top-level file where you can add configuration options common to all your sub-project modules.</li>
</ol>
<div><div><img alt="Figure 1.18 – Gra﻿dle scripts in the Android Studio project structure" src="img/B18827_01_18.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.18 – Gra<a id="_idTextAnchor071"/>dle scripts in the Android Studio project structure</p>
<h2 id="_idParaDest-44"><a id="_idTextAnchor072"/>How it works…</h2>
<p>In Android Studio, it can be overwhelming for first-time users not to know where files go and what is essential. Hence, having a step-by-step guide on where to add your tests or code and understanding the Android project structure is vital. In addition, in complex projects, you might find different modules; hence, understanding the project <a id="_idIndexMarker071"/>structure is helpful. A module<a id="_idIndexMarker072"/> in Android Studio is a collection of source files and build settings that allow you to divide your <a id="_idTextAnchor073"/>project into distinct entities with specific purposes.</p>
<h1 id="_idParaDest-45"><a id="_idTextAnchor074"/>Debugging and logging in Android Studio</h1>
<p>Debugging and logging are <a id="_idIndexMarker073"/>crucial in Android development, and <a id="_idIndexMarker074"/>you can write log messages that appear in Logcat to help you find issues in your code or verify a piece of code executes when it should.</p>
<p>We will introduce this topic<a id="_idIndexMarker075"/> here, but it<a id="_idIndexMarker076"/> is unfair to say we will cover it all in just one recipe; for that reason, we will cover more about debugging and logging in <a href="B18827_12.xhtml#_idTextAnchor672"><em class="italic">Chapter 12</em></a>, <em class="italic">Android Studio Tips and Tricks to Help You </em><em class="italic">during Development</em>.</p>
<h2 id="_idParaDest-46"><a id="_idTextAnchor075"/>Getting ready</h2>
<p>Let us use an example to understand logging. The following log methods are listed from the highest to lowest priority. They are proper when logging network errors, success calls, and other errors:</p>
<ul>
<li><code>Log.e()</code>: A log error</li>
<li><code>Log.w()</code>: A log warning</li>
<li><code>Log.i()</code>: Log information</li>
<li><code>Log.d()</code>: Debugging shows critical messages to developers, the most used log</li>
<li><code>Log.v()</code>: Verbose</li>
</ul>
<p>A good practice is associating every log with a <code>TAG</code> to identify the error message in Logcat quickly. A “<code>TAG"</code> refers to a text label that can be assigned to a View or other UI element in an Android application. The primary purpose of <a id="_idIndexMarker077"/>using <strong class="bold">tags</strong> in Android is to provide a way to asso<a id="_idTextAnchor076"/>ciate additional information or metadata with a UI element.</p>
<h2 id="_idParaDest-47"><a id="_idTextAnchor077"/>How to do it…</h2>
<p>Let’s go ahead and add a log message to our small project:</p>
<ol>
<li>We will go ahead and create a debug log, then run the application:<pre class="source-code">
Log.d(TAG, "asdf Testing call")</pre></li>
</ol>
<p>In the <code>asdf</code> and see whether you can find the message.</p>
<div><div><img alt="Figure 1.19 – Android Logcat" src="img/B18827_01_19.jpg"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.19 – Android Logcat</p>
<p>You will notice that the log has a class name, our <code>TAG</code> (<code>MainActivity</code>), and the log message displayed; see the right arrow in <em class="italic">Figure 1</em><em class="italic">.19</em>.</p>
<ol>
<li value="2">The left arrow shows the mentioned log types and using the dropdown, you <a id="_idTextAnchor078"/>can quickly view your message based on the specification.</li>
</ol>
<h2 id="_idParaDest-48"><a id="_idTextAnchor079"/>How it works…</h2>
<p><strong class="bold">Debugging</strong> is <a id="_idIndexMarker078"/>when you <a id="_idIndexMarker079"/>put breakpoints in your classes, slow down your emulator, and try to find issues in your code. Debugging is very powerful if, for instance, you encounter a race condition in your code or if your code works on some devices and does not work on others.</p>
<p>In addition, to take advantage of <a id="_idIndexMarker080"/>debugging, you need first to attach a debugger to the<a id="_idIndexMarker081"/> emulator, and then run in <strong class="bold">Debug</strong> mode. <strong class="bold">Logging</strong>, on the other hand, helps you log information that might be helpful to you when you encounter issues. Sometimes, debugging can be challenging, but placing logs where needed in your code might be very helpful.</p>
<p>A practical case is when you are loading data from an API; you might want to log it when there is a network error to inform you what happens if the network call fails. Hence, debugging using breakpoints might help slow down the process as you evaluate the values, and since we did not build a lot in this chapter, we c<a id="_idTextAnchor080"/>an revisit this topic in a different recipe in later chapters.</p>
<h2 id="_idParaDest-49"><a id="_idTextAnchor081"/>See also</h2>
<p>Timber<a id="_idIndexMarker082"/> is a logger with a small, extensible API that provides utility on top of Android’s standard <code>Log</code> class, and many developers use it for<a id="_idIndexMarker083"/> logging. For more information about Timber, see <a href="https://github.com/JakeWharton/timber">https://github.com/JakeWharton/timber</a>.</p>
</div>
</body></html>