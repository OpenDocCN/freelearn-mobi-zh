# 深入了解集合

在最后几章中，我们回顾了 Swift 的基础知识，以便让你做好准备。在我们开始构建我们的应用程序之前，我们需要查看一个额外的编程概念——集合。在 Swift 中，我们有三种主要的集合类型，我们将在本章中介绍：

+   数组

+   字典

+   集合

我们将深入探讨每一个，但我们将从最常见的集合类型——数组——开始。

# 数组

数组是有序的值集合，可以存储任意数量的项目，例如字符串、整数、浮点值等。数组存储在一个有序列表中，从`0`开始。让我们看看一个图解：

![图片](img/ff2059ca-65e0-4487-ae0e-9c1fdd17b085.png)

在前面的例子中，从左到右，我们首先有一个包含字符串集合的数组。在第二个例子中，我们有一个包含整数集合的另一个数组。在我们的第三个例子中，我们有一个包含浮点值集合的数组。

现在，让我们回顾以下混合数组的图解：

![图片](img/f5f4a9ba-f462-4a49-861f-5f904f343b7c.png)

由于这个例子包含混合数据类型，如字符串、整数和布尔值，我们不得不将这个数组类型命名为 Any。这意味着我们可以在数组内部有混合数据类型。在你真正熟悉数组之前，我不建议使用它们。尽量坚持使用相同数据类型的数组，因为你知道每个元素的确切数据类型。

数组可以存储任何数据类型，但使数组强类型化意味着它里面的每个元素都必须是同一类型。

# 创建一个空数组

现在我们将在 Playgrounds 中创建几个数组。

有时候，你可能想要从你的游乐场中删除之前的条目，这样你就能更容易地看到每个新的`print`语句。现在就做吧，并输入以下内容：

![图片](img/5af25f5d-ffa4-4baa-a5bf-264c74d81da6.png)

我们刚刚创建了我们的前两个数组。每个括号内的数据类型告诉 Swift 我们想要创建哪种类型的数组。我们创建的第一个数组（整数）的数据类型是 Ints，我们的第二个数组（字符串）的数据类型是 Strings。

# 创建具有初始值的数组

当数组被创建时，它们可以具有初始值。让我们通过在 Playgrounds 中输入以下内容来看看这会是什么样子：

```
let integers2 = [54, 29]  
```

你的代码现在看起来是这样的：

![图片](img/90e9eb12-1431-4371-909c-48f02898bd86.png)

我们刚才输入的数组使用类型推断来声明数组的类型，使用其初始值。在这种情况下，Swift 理解这是一个整数的数组，因为我们输入的值是整数。此外，当我们在一个数组上使用常量（`let`）时，我们是在告诉 Swift 这个数组是一个不可变数组，这意味着内容或大小一旦实例化后就不能改变。

# 创建一个可变数组

最佳实践是使所有数组（以及类似地，集合）不可变，但在某些情况下，你可能需要创建一个可变的数组。让我们来点乐趣，创建一个可变的数组：

```
var states:[String] = [] 
```

作为旁白，当创建一个可变的数组（或任何变量）时，请注意每个变量必须是唯一的。

可变数组的一个用途是可以改变数组。让我们看看我们可以如何做到这一点。

# 向数组中添加项目

让我们在我们的数组中添加一些数据。添加数据到数组有几个不同的便捷方法。

便捷方法正如其名所暗示的那样，是一种使事情变得方便的方法。方法是一个存在于类中的函数。我们将在本书的后面讨论类。如果这开始让你感到不知所措，这是可以理解的。你现在不需要担心每一个细节。我们将在适当的时候再次讨论这个问题，事情将逐渐开始变得清晰。每个人的学习方式都不同，所以如果你发现别人理解得更快，没有必要担心。只需按照自己的节奏前进。

我们将要查看的第一个便捷方法是`append()`方法：

```
states.append(23) 
```

你的代码和输出窗口现在应该看起来像这样：

![图片](img/68f2422e-eeb8-47b4-b3ff-b835e5ec8bc0.png)

豪斯顿，我们遇到麻烦了！你会看到我们遇到了错误。实际上，我这样做有几个原因。遇到错误是正常和常见的。大多数刚开始编码的人害怕犯错，或者对看到错误感到害怕。相信我，我已经编码多年，我经常犯错。错误告诉我们，我们试图将一个整数添加到一个只能存储字符串的数组中。

每个开发者，无论是初学者还是经验丰富的，都会遇到一个他或她无法解决的错误。这个错误可能会让你沮丧到想要把电脑扔到房间里去（我有过几次这样的经历）。我老板曾经给我的最好建议是散步 10-15 分钟或者做些事情来转移你的注意力。有时候这会有效，你会在走开后想出主意。即使你回来后仍然需要几个小时才能找出问题所在，这仍然是解决问题的过程的一部分。最好的错误是那些你忽略的最简单的事情，你不得不花几个小时去解决。你可能浪费了时间，但你将学到宝贵的教训。这样的教训将永远伴随着你，你永远不会忘记下次遇到同样的错误。所以，如果你的编码导致了错误，即使是这本书中的错误，也要接受挑战，因为没有什么比解决一个具有挑战性的错误更让人感到满足的了。

因此，让我们通过修改数组来纠正我们刚才所做的，以显示以下内容：

```
states.append("Florida") 
```

这就是你的代码现在应该看起来像这样：

![图片](img/dd3cf6c2-1ecf-46b3-9c80-92fbbe99fe04.png)

在结果面板中，你可以实际看到我们修正后的数组内容。

由于数组可以容纳任意数量的项目，让我们添加一些。早些时候，我提到我们有很多种方法可以向数组中添加项目。`append()` 方法允许我们一次添加一个项目。为了添加多个项目，我们可以使用便利方法 `append(contentsOf:)`。

将以下内容添加到 Playgrounds 中：

```
states.append(contentsOf:["California", "New York"]) 
```

现在，你的代码应该看起来像这样：

![](img/02254909-89ef-4a4f-900f-22841316295d.png)

我们向数组中添加了两个更多项目，但到目前为止，我们利用的每个例子都是将项目添加到数组的末尾。我们有两种便利方法允许我们在数组中的任何可用索引位置添加项目。

我们可以使用的第一种方法叫做 `insert(at:)`，它允许我们在某个索引位置添加一个单独的项目。我们还有 `insert(contentsOf:at:)`，它允许我们在某个索引位置向数组中添加多个项目。让我们同时使用它们，在加利福尼亚州之后添加 `Ohio`，然后在 `Ohio` 之后添加 `North Carolina`、`South Carolina` 和 `Nevada`：

```
states.insert("Ohio", at:1) 
states.insert(contentsOf:["North Carolina", "South Carolina", "Nevada"],at:3) 
```

![](img/56af51fa-66ce-4be7-b6c9-b23a66d7a1f2.png)

我们刚刚使用 `append(contentsOf:)` 向数组中添加了项目，但还有另一种简写版本可以使用 `+=` 运算符。让我们添加以下内容：

```
states += ["Texas", "Colorado"] 
```

现在，你的代码应该看起来像这样：

![](img/69019fef-88ed-4309-9bf2-b662f90d42b9.png)

这种添加项目的技术更加简洁，也是我向数组中插入项目时首选的方法。写更少的代码并不总是更好的，但在这个例子中，使用 `+=` 运算符是我的首选方法。

# 检查数组中的元素数量

如果你一直在跟踪，我们现在数组中有九个项目。幸运的是，我们不需要跟踪数组中有多少个项目，因为我们有一个名为 `count` 的属性。这个属性将跟踪当前的项目计数，并在我们想要检查时给出数组的总计数。让我们看看州的计数：

```
states.count 
```

你的代码现在应该看起来像这样：

![](img/d69d069c-5a8d-44c3-8b07-08062fa0fb3a.png)

# 检查空数组

`count` 属性并不是我们用来计算数组中项目数量的唯一属性。数组最常用的属性叫做 `isEmpty`。这个属性通过检查计数是否大于 `0` 来使用 `count` 属性。这个方法将返回 true 或 false，取决于数组中是否有任何项目。由于你学习了 `if...else` 语句与 bools 一起工作得很好，让我们在 `if...else` 语句中使用这个 `isEmpty` 属性。

将以下内容添加到 Playgrounds 中：

```
if states.isEmpty { 
  print("There are no items in the array") 
} 
else { 
  print("There are currently (states.count) total items in our array") 
} 
```

现在，你的代码和输出应该看起来像这样：

![](img/d4790540-2a99-4b12-8f38-f78a879b4092.png)

现在，我们的调试面板打印出：`我们的数组中目前总共有九个项目`。

在编程中有一件事需要记住，那就是有时候编写一段代码可能有多种方式。遇到有人以与你不同的方式处理相同的问题并不令人惊讶。对我来说，这正是编程如此美妙的原因。最终，唯一重要的是它是否按预期工作，尤其是在你刚开始编程的时候。

所有编程语言都有所谓的样式指南，这是一种编写代码的首选方式，Swift 也不例外。首选只是意味着一个建议的方法，但即便如此，你也会注意到大多数首选方法在某些方面有所不同。现在，你不需要担心不同的样式指南，只需知道它们存在即可。在这本书中，我们将遵循我已将其纳入代码的样式。

一旦你感到舒适，我建议你开始查看样式指南并将它们应用到你的代码中。了解不同的样式可以帮助你了解你的选项，以及理解其他人如何使用他们的代码，即使你不同意他们编写代码的方式。如果你在整个项目中使用某种结构或样式编写代码，这将使你在需要时更容易回到你的代码，比如你不得不因为某些原因休息一下，比如开始另一个项目或只是休息一下。

# 从数组中检索值

我们讨论了创建数组以及向数组中添加项。现在，让我们转向从数组中检索值。由于数组是按索引存储的，我们可以使用它们的索引来检索值。让我们检索加利福尼亚：

```
let state = states[3] 
```

现在，你的代码应该看起来像这样：

![](img/4240873e-0455-4aaf-8a84-7929ee564baf.png)

结果面板显示的是北卡罗来纳州而不是加利福尼亚。记住，数组从 `0` 开始，而不是 `1`。因此，为了我们能够得到加利福尼亚，我们实际上需要使用索引位置 `2`。让我们在 Playgrounds 中进行这个更新：

```
let state = states[2] 
```

![](img/31b28d9d-8da0-4d26-b1b7-f40178321c3b.png)

就这样！

我们现在有一个很好的州列表，但有人告诉你亚利桑那州也非常棒。与其只是将亚利桑那州添加到我们的列表中，你决定你实际上更愿意用亚利桑那州替换南卡罗来纳州。我们可以简单地查看我们的数组，看看南卡罗来纳州在哪个索引位置。然而，如果它发生变化，或者你要搜索的州不存在，这就不太有帮助了。因此，安全地编写这段代码的方法是检查数组中的项，如果找到了该项，Swift 将会告诉我们它的当前索引位置。我们将使用 `index(of:)` 方法来获取南卡罗来纳州的索引位置：

```
if let index = states.index(of:"South Carolina") { 
  print("Current index position is \(index)") 
} 
```

这就是我们的代码和输出现在应该看起来像这样：

![](img/fa60b336-11e7-4466-99a6-c926b104fdff.png)

现在我们有了位置，我们可以像这样用亚利桑那州替换南卡罗来纳州：

```
if let index = states.index(of:"South Carolina") { 
  states[index] = "Arizona" 
} 
```

这就是我们的代码现在应该看起来像这样：

![](img/07d71cb9-686e-4400-acc3-671ffe8820fc.png)

# 遍历数组

如果我们能看到我们数组中各州的一个列表那会很好。之前，你学习了`for...in`循环与序列一起工作。由于我们的数组是一个序列，我们可以使用`for...in`循环遍历每个元素。在处理包含数组的工程项目时，在`for...in`循环中使用`print`语句很有帮助。这让我们能够将数组中的每个项目打印到调试面板。所以，让我们使用`for...in`循环来查看我们数组的内容：

```
for state in states { 
  print(state) 
} 
```

这就是我们的代码和输出现在应该看起来像这样：

![图片](img/0a3b6061-2a4d-4181-b74c-4302f3f54dbd.png)

# 从数组中移除项目

现在，是时候开始从我们的数组中删除项目了。让我们从我们的列表中删除第一个项目。我们有一个方便的方法用于从数组中删除项目，称为`removeFirst()`。此方法将从我们的数组中移除第一个项目，在我们的例子中是佛罗里达州。让我们移除佛罗里达州，并在我们的`for...in`循环上方添加这一行：

```
states.removeFirst() 
```

这就是我们的代码和输出现在应该看起来像这样：

![图片](img/d251ad4e-45c0-46c4-be23-8a91e14c0d6e.png)

由于我们移除了佛罗里达州，我们所有州的索引位置都将更新，以移动一个位置，更接近数组的顶部。但如果我们想移除一个不是第一个的项目呢？为了做到这一点，我们可以使用`remove(at:)`便利方法。所以，让我们移除位于位置`2`和`4`的北卡罗来纳州和纽约州。我们将在我们的`for...in`循环上方添加以下内容：

```
states.remove(at:2) 
states.remove(at:4) 
```

这就是我们的代码和输出现在应该看起来像这样：

![图片](img/e4a8fdfa-c471-4fe5-83d4-a20adb2d361e.png)

现在，北卡罗来纳州和纽约州已经被移除。你会看到加利福尼亚州和俄亥俄州没有移动，但科罗拉多州和内华达州向上移动得更接近列表的顶部。为了移除剩余的六个项目，我们可以为每个项目使用`remove(at:)`，但我们将使用更简单的`removeAll()`方法。所以，让我们在 Playgrounds 中使用`removeAll()`：

```
states.removeAll() 
```

现在，你的代码应该看起来像这样：

![图片](img/15cfa34d-96ea-4707-936b-b6119894b292.png)

现在，我们又回到了起点，数组为空。我们对数组只是刚刚触及表面。我们将在本书的后面部分对数组做更多操作，但首先我们需要看看下一个集合类型：字典。

# 字典

字典是一个无序的值集合，每个值通过一个唯一的键来访问。让我们看看以下图表：

![图片](img/98e993db-3266-4852-af82-03cb6afc17cd.png)

在我们的图表中，我们有一个披萨（**键**）及其价格（**值**）的字典。为了在字典中找到某个东西，我们必须通过其键来查找。让我们看看字典的语法：

```
Dictionary<Key, Value>  
```

# 创建字典

创建字典的传统方式是首先将其声明为字典，然后在尖括号内声明键和值的类型。让我们在 Playgrounds 中创建我们的第一个字典：

![图片](img/b974de7d-7228-4379-931e-e47f73501cf9.png)

我们之前创建的不可变字典的键和值的数据类型都是 String。我们有多种创建字典的方法。让我们在 Playgrounds 中添加以下内容来查看另一种方法：

```
let dictSecondExample = [String: Int]() 
```

您的代码现在应该看起来像这样：

![](img/d95235ac-7fda-41e9-b65b-774be606d4e5.png)

在这个最新的例子中，我们创建了一个不可变的字典，其键的数据类型为 String，其值的数据类型为 Int。

如果我们想使用我们的披萨图例，键的数据类型将是 String，值的数据类型将是 Double。让我们在 Playgrounds 中创建这个字典，但这次，我们将它做成可变的，并给它一个初始值：

```
var dictThirdExample = Dictionary<String, Double>(dictionaryLiteral: ("veggie", 14.99), ("meat", 16.99)) 
```

您的代码现在应该看起来像这样：

![](img/7e1c80c4-23b9-47d2-9e27-2cbeb9a0655a.png)

之前的方法只是为我们的披萨图例创建字典的一种方式。让我们看看使用类型推断的更常见方式：

```
var dictPizzas = ["veggie": 14.99] 
```

一旦您将此添加到代码中，您的代码应该看起来像这样：

![](img/536732c0-3348-4d23-bfe5-78e7164bd539.png)

这是一个创建具有初始值的字典的更简单方法。当初始化字典时，它可以有任意数量的条目。在我们的例子中，我们只从一个条目开始。

现在，让我们看看我们如何向字典中添加更多的披萨。

# 添加和更新字典元素

让我们在`dictPizzas`字典中添加另一个条目：

```
dictPizzas["meat"] = 17.99
```

一旦您添加了这一行代码，您的代码片段应该看起来像这样：

![](img/6d1e5c5a-c17b-4960-97cb-242add0104f3.png)

这是向字典中添加条目的简写方法。在字典变量之后，我们在括号内添加键。由于这个字典的键是字符串，我们必须将这个键放在引号内。接下来，我们给我们的值赋一个 Double。现在，我们的字典有两个条目。这种语法也用于更新字典条目。让我们将肉披萨的价格更改为`16.99`：

```
dictPizzas["meat"] = 16.99 
```

看看代码，它应该看起来像这样：

![](img/2dadf0ca-476a-443c-a183-67477a13e24a.png)

除了使用简写语法，您还可以使用`updateValue(_:forKey:)`方法。这个方法几乎与简写语法做同样的事情。如果值不存在，它将创建条目；如果存在，它将更新条目。唯一的区别是，当使用`updateValue(_:forKey:)`时，它实际上在更新后会返回旧值。使用这个方法，您将得到一个可选值，因为字典中可能不存在值。现在让我们将值从`16.99`更改为`15.99`：

```
if let oldValue = dictPizzas.updateValue(15.99, forKey: "meat") { 
  print("old value \(oldValue)") 
} 
```

您的代码现在应该看起来像这样：

![](img/67b0e755-9bfa-4779-b700-8d2b13ec0fd0.png)

由于我们不需要旧值，我们将只使用简写语法添加几个披萨：

```
dictPizzas["specialty"] = 18.99 
dictPizzas["chicken"] = 16.99 
```

您的代码和输出现在应该看起来像这样：

![](img/99a290ee-5922-4c9c-82ab-d4d4838a4524.png)

现在我们字典中已经有了一些数据，让我们看看我们如何访问这些数据。

# 访问字典中的条目

当尝试访问字典中的项时，你将始终收到一个可选值。这是因为如果值不存在，你可能会收到一个 nil 值。因此，你应该始终使用 `if...let` 语句来保护你的代码：

```
if let numChickenPrice = dictPizzas["chicken"] { 
  print(numChickenPrice) 
} 
```

您的代码现在应该看起来像这样：

![图片](img/c187aee1-e7f0-4bda-97eb-f76fc236077f.png)

# 遍历字典值

就像数组一样，我们可以遍历我们的字典；然而，有一些区别。由于字典是无序的，每次循环时，值将不会按相同的顺序出现。对于字典，你可以遍历值和键。

让我们使用 `for...in` 循环遍历字典的值。请在 Playgrounds 中添加以下内容：

```
for value in dictPizzas.values { 
  print(value) 
} 
```

您的代码现在应该看起来像这样：

![图片](img/c70bfb5c-c786-4731-863d-eb9fb75151a3.png)

# 遍历字典键

使用 `for...in` 循环遍历字典的键，请在 Playgrounds 中添加以下内容：

```
for key in dictPizzas.keys { 
  print(key) 
} 
```

您的代码和输出现在应该看起来像这样：

![图片](img/347edcf4-63dd-4124-bbc0-c817ec97d8b2.png)

# 遍历字典键和值

当你需要使用 `for...in` 循环遍历字典的键和值时，你使用以下方法：

```
for (key, value) in dictPizzas { 
  print("\(key): \(value)") 
} 
```

您的代码和输出现在应该看起来像这样：

![图片](img/7e41dd27-a09c-49ec-81bb-32b1d3dc66e2.png)

因此，我们现在已经了解了如何循环遍历字典。

# 检查字典中的项目数量

除了键和值之外，我们还有其他有用的属性。我们可以使用 `count` 属性来查看字典中的项目数量。让我们通过添加以下内容来尝试一下：

```
print("There are \(dictPizzas.count) total pizzas.") 
```

现在，您的代码和输出应该看起来像这样：

![图片](img/b1802f11-74b8-4c9b-81fa-9161e6870a9e.png)

除了计数，我们还可以检查一个字典是否为 `isEmpty`。让我们在检查字典是否为空的 `if...else` 语句中添加以下内容：

```
if dictPizzas.isEmpty { 
  print("there are no pizzas") 
} 
else { 
  print("There are \(dictPizzas.count) total pizzas.") 
} 
```

现在，您的代码和输出应该看起来像这样：

![图片](img/b480666f-76fb-4b72-a5dc-6746ff5f6e7d.png)

这种逻辑在你想要向用户显示某些内容或隐藏 UI 时非常有用。

# 从字典中删除项

接下来，让我们学习如何从字典中删除一个项。在从字典中删除项时，我们有两种主要的方法。第一种使用 `removeValue(forKey:)`。让我们在检查字典是否为空的 `if...else` 语句上方添加这个方法：

```
dictPizzas.removeValue(forKey: "chicken") 
```

您的代码现在应该看起来像这样：

![图片](img/efea94bb-7bbb-438e-989e-ed9e836c0ccb.png)

让我们看看删除字典项的第二种方法，即简写语法。在 `removeValue(forKey:)` 之后将以下内容添加到 Playgrounds 中：

```
dictPizzas["meat"] = nil 
```

您的代码现在应该看起来像这样：

![图片](img/4c188068-eb0f-4558-9cbe-f7c70d472b26.png)

注意，就像 `updateValue(_:forKey:)` 一样，`removeValue(forKey:)` 会在删除之前返回值。如果你不需要该值，简写语法是首选方法。

到目前为止，我们已经介绍了数组和字典，现在我们将回顾最后一个集合：集合。

# 集合

一个集合在集合中存储相同类型的唯一值，没有定义的顺序。让我们看看一个图例：

![图片](img/626d6661-f395-47b0-981d-1b533e149a75.png)

在前面的图中，我们有两个圆圈，它们都代表一个集合。在左边，我们有克雷格的最爱电影，在右边，我们有 Gabe 的最爱电影。

# 创建一个空集合

在我们创建这些集合之前，让我们先创建一个空集合，看看它是什么样子：

![图片](img/aa760614-256b-4ad3-909f-571b26fcd5cc.png)

在这个第一个集合中，在等号之后，我们创建集合并给它一个 String 数据类型。然后，我们使用括号来初始化集合。

# 使用数组字面量创建集合

我们第一个集合是一个空的 String 集合，但我们可以使用数组字面量来创建一个集合。让我们将以下内容添加到 Playgrounds 中：

```
let numberSet = Set<Int>([]) 
```

你的代码现在应该看起来像这样：

![图片](img/17c38bd2-4877-4913-96c2-f2b4b8d1fe3b.png)

这个先前的不可变集合的数据类型是 Int，但在我们使用方括号时传递了一个空数组字面量。

# 创建一个可变集合

现在我们熟悉了集合的创建方式，让我们为克雷格的最爱电影和 Gabe 的最爱电影创建一个可变集合。将以下内容添加到 Playgrounds 中：

```
var craigsFavMovieSet = Set<String>([]) 
var gabesFavMovieSet = Set<String>(["Fight Club", "Matrix", "Evil Dead", "Big Trouble in Little China", "Aliens", "Winter Solider", "The Illusionist", "Predator"]) 
```

现在，你的代码应该看起来像这样：

![图片](img/41ee603c-7af3-41a1-a6b8-0d41bde8efb6.png)

现在我们有两个可变集合。第一个集合是用空数组字面量创建的，第二个集合是用一些初始值创建的。让我们向两个集合中添加更多项目。

# 将项目添加到集合中

为了将一个项目添加到集合中，我们必须使用`insert()`方法。让我们用这个方法给 Gabe 的喜欢的电影列表添加另一部电影：

```
gabesFavMovieSet.insert("Terminator") 
gabesFavMovieSet 
```

你的代码现在应该看起来像这样：

![图片](img/3c7f29e9-c839-47c0-90ba-b8e7ad3c8cb0.png)

现在，Gabe 有 9 部电影，克雷格仍然一部也没有。我们再次添加了`gabeFaveMovieSet`变量，这样我们就可以在结果面板中看到内容更新。为了将多个项目添加到集合中，我们可以使用数组字面量。

让我们在克雷格的列表中添加 10 部电影，如下所示：

```
craigsFavMovieSet = ["The Pianist", "The Shawshank Redemption", "Dark Knight", "Black Swan", "Ip Man", "The Illusionist", "The Silence of the Lambs", "Winter Solider", "Green Mile", "Se7en"] 
```

你的代码现在应该看起来像这样：

![图片](img/c68f1a98-19cd-4984-b883-3cae32580613.png)

克雷格的集合现在有 10 部电影。接下来，让我们看看我们如何处理集合。

# 检查集合是否包含一个项目

我们可以用集合做的第一件事是检查一个集合是否包含一个项目。让我们看看克雷格的电影列表是否有《绿里奇迹》这部电影：

```
if craigsFavMovieSet.contains("Green Mile") { 
  print("Green Mile found") 
} 
```

你的代码现在应该看起来像这样：

![图片](img/d3ad43e4-048c-45f6-9fd2-2ef85d725c27.png)

在这个先前的例子中，我们使用了`contains()`方法来发现一个项目是否在集合中。

# 遍历集合

如果我们想要 Gabe 列表中所有电影的列表，我们可以使用一个`for...loop`。让我们看看它是如何工作的：

```
for movie in gabesFavMovieSet { 
  print("Gabe's movie - \(movie)") 
} 
```

你的代码现在应该看起来像这样：

![图片](img/6cbad11c-d862-41a6-b17d-748f409a57a9.png)

现在我们已经看到了所有三种集合（数组、字典和集合）的`for...in`循环，你可以看到它们有很多相似之处。记住，由于集合是无序的，每次我们运行`for...in`循环时，我们都会得到一个不同顺序的列表。解决这个问题的一种方法是用`sorted()`方法。这将确保每次我们遍历列表时，它总是以相同的顺序。让我们在克雷格的电影列表上试试这个方法：

```
for movie in craigsFavMovieSet.sorted() { 
  print("Craig's movie - \(movie)") 
} 
```

你的代码现在应该看起来像这样：

![](img/c4f4a587-eb69-41a4-9c0a-f4a137b25c79.png)

现在我们已经对集合进行了排序，让我们看看使用集合的真正威力。

# 交集两个集合

在下面的图中，我们看到，如果我们将两个集合相交，我们应该得到一个包含它们共有的任何电影的列表：

![](img/d990084c-3e7f-46b3-9780-14d7f4e9bf3b.png)

我们可以使用代码中的`intersection()`方法做同样的事情。让我们将两个电影列表相交，看看会发生什么：

```
craigsFavMovieSet.intersection(gabesFavMovieSet) 
```

你的代码和输出现在应该看起来像这样：

![](img/f10ed341-3565-4d64-b332-58f1dcdbff54.png)

我们可以看到，这两个集合共有的唯一两部电影是*冬战士*和*魔术师*。除了看到两个集合共有的电影外，我们还可以合并列表，以获得两个集合中电影的合并列表。

# 合并两个集合

如果你看看下面的图，你可以看到两个集合合并在一起：

![](img/f642f6b6-ccc4-4b55-b6d4-5652dc8053e6.png)

使用`union()`方法，我们得到一个没有重复项的合并列表。让我们在 Playgrounds 中试试这个方法：

```
craigsFavMovieSet.union(gabesFavMovieSet) 
```

你的代码现在应该看起来像这样：

![](img/65b0ec44-3488-4c33-9c48-a919f7261283.png)

我们有一个合并的电影列表，它包括两个集合中没有共有的所有电影，以及共有的两部电影，但只列了一次。正如你所看到的，集合真的很强大，你可以使用它们来操作数据。最后，我们需要看看如何从集合中移除项目。

# 从集合中移除项目

为了从一个集合中移除一个项目，我们可以使用`remove()`方法。当我们使用这个方法时，我们只需在括号中输入我们想要移除的项目。让我们从克雷格的电影列表中移除*冬战士*：

```
craigsFavMovieSet.remove("Winter Solider") 
```

你的代码现在应该看起来像这样：

![](img/8cae9ae0-f4de-45a0-8e93-54a458fa5a61.png)

如果你想要从一个集合中移除多个项目（例如，所有项目），那么你可以使用`removeAll()`方法或给它一个空数组字面量：

```
craigsFavMovieSet.removeAll() 
gabesFavMovieSet = [] 
```

你的代码现在应该看起来像这样：

![](img/a1e67d5d-c0ad-42ae-ba92-1f05a81eff54.png)

现在，两个集合都是空的。

# 摘要

我们在本章中涵盖了大量的内容。现在我们对使用集合感到很自在。既然你已经熟悉了数组、字典和集合，请花时间尽可能多地练习和操作它们。集合在编程中被大量使用，因此感到舒适非常重要。

尽管我们将在创建“让我们吃饭”应用的过程中涉及这些内容，但最好确保你对这里所涵盖的内容感到舒适。因此，请根据需要尽可能多地复习，以确保你觉得自己对这一章节包含的主题熟练掌握。

在下一章中，我们将开始构建我们的“让我们吃饭”应用。在接下来的两章中，我们将致力于设置我们的项目，然后我们将开始着手处理我们应用的可视化方面。
